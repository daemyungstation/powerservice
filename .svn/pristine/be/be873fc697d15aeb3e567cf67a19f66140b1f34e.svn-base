<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\default_typedef.xml"/>
  <Form id="DL440900P01" classname="PS020302" inheritanceid="" position="absolute 0 0 816 613" titletext="해약 등록(NEW)" scrollbars="none" style="font:arial,11,bold;" onload="DL440900P01_onload">
    <Layouts>
      <Layout>
        <Static id="stc_31" enable="false" position="absolute 0 0 812 609" class="sta_popupBg1"/>
        <Static id="stc_33" class="sta_workData" position="absolute 94 309 805 335"/>
        <Button id="btn_close" taborder="3" onclick="btn_onclick" class="btn_popupClose" position="absolute 780 8 800 27"/>
        <Static id="stc_30" text="해약 등록(NEW)" class="sta_popupTitle" transparenthittest="true" position="absolute 10 8 363 28"/>
        <Static id="stc_25" text="해약 회원 정보" class="sta_workTitle2" position="absolute 11 46 128 66"/>
        <Static id="sta_GrayLine" class="sta_WF_Line1" position="absolute 10 66 805 67"/>
        <Static id="stc_20" class="sta_workData" position="absolute 94 67 805 93"/>
        <Static id="stc_memNm" text="회원번호" class="sta_workLabel1" position="absolute 10 67 95 93" validate=""/>
        <Edit id="edt_accnt_no" taborder="5" tabstop="false" position="absolute 97 70 185 90" readonly="false" onkeyup="edt_onkeydown"/>
        <Static id="stc_73" text="회원명" class="sta_workLabel1" position="absolute 213 67 298 93" validate=""/>
        <Static id="stc_01" class="sta_workData" position="absolute 94 95 805 121"/>
        <Edit id="edt_mem_nm" taborder="8" tabstop="false" position="absolute 300 70 405 90" readonly="false" onkeyup="edt_onkeydown" style="align:center middle;" enable="false"/>
        <Button id="btn_accntNo" taborder="92" onclick="btn_onclick" class="btn_workSrcPop" position="absolute 187 70 207 90"/>
        <Static id="stc_02" text="가입일자" class="sta_workLabel1" position="absolute 610 67 695 93" style="font:Dotum,8;" validate=""/>
        <Calendar id="cal_join_dt" taborder="93" dateformat="yyyy-MM-dd" enable="false" position="absolute 697 70 800 90"/>
        <Static id="stc_00" text="생년월일" class="sta_workLabel1" position="absolute 411 67 496 93" validate=""/>
        <Edit id="edt_brth_mon_day" taborder="94" tabstop="false" onkeyup="edt_onkeydown" position="absolute 498 70 603 90" style="align:center middle;" enable="false" readonly="false"/>
        <Static id="stc_03" text="상품명" class="sta_workLabel1" position="absolute 10 95 95 121" validate=""/>
        <Edit id="edt_prod_cd" taborder="95" tabstop="false" onkeyup="edt_onkeydown" position="absolute 97 98 148 118" enable="false" readonly="false"/>
        <Edit id="edt_prod_nm" taborder="96" tabstop="false" onkeyup="edt_onkeydown" position="absolute 149 98 272 118" enable="false" readonly="false"/>
        <Static id="stc_04" text="모델정보" class="sta_workLabel1" position="absolute 276 95 353 121" validate=""/>
        <Edit id="edt_model_cl_nm" taborder="97" tabstop="false" onkeyup="edt_onkeydown" position="absolute 355 98 496 118" enable="false" readonly="false"/>
        <Edit id="edt_model_nm" taborder="98" tabstop="false" onkeyup="edt_onkeydown" position="absolute 498 98 603 118" enable="false" readonly="false"/>
        <Static id="stc_06" class="sta_workData" position="absolute 94 123 805 149"/>
        <Static id="stc_memNm00" text="상조부금" class="sta_workLabel1" position="absolute 10 123 95 149" validate=""/>
        <Edit id="edt_true_amt" taborder="99" tabstop="false" onkeyup="edt_onkeydown" position="absolute 97 126 207 146" style="align:right middle;" class="edt_clssEnable" enable="false" readonly="false"/>
        <Static id="stc_07" text="결합금" class="sta_workLabel1" position="absolute 213 123 298 149" validate=""/>
        <Static id="stc_08" class="sta_workData" position="absolute 94 150 805 176"/>
        <Edit id="edt_rel_amt" taborder="100" tabstop="false" onkeyup="edt_onkeydown" position="absolute 300 126 405 146" style="align:right middle;" class="edt_clssEnable" enable="false" readonly="false"/>
        <Static id="stc_10" text="추가금" class="sta_workLabel1" position="absolute 411 123 496 149" validate=""/>
        <Edit id="edt_add_amt" taborder="103" tabstop="false" onkeyup="edt_onkeydown" position="absolute 498 126 603 146" style="align:right middle;" class="edt_clssEnable" enable="false" readonly="false"/>
        <Static id="stc_09" text="가수금" class="sta_workLabel1" position="absolute 610 123 695 149" validate=""/>
        <Edit id="edt_gasu_amt" taborder="105" tabstop="false" onkeyup="edt_onkeydown" position="absolute 697 126 800 146" style="align:right middle;" class="edt_clssEnable" enable="false" readonly="false"/>
        <Static id="stc_11" text="이행보증" class="sta_workLabel1" position="absolute 10 150 95 176" validate=""/>
        <Edit id="edt_perf_amt" taborder="106" tabstop="false" onkeyup="edt_onkeydown" position="absolute 97 153 207 173" style="align:right middle;" enable="false" readonly="false"/>
        <Static id="stc_12" text="해약금" class="sta_workLabel1" position="absolute 411 150 496 176" validate="" style="border:1 solid #d6d6d6ff ;color:crimson;font:arial,8,bold;"/>
        <Edit id="edt_resn_amt" taborder="107" tabstop="false" onkeyup="edt_onkeydown" position="absolute 498 153 603 173" style="align:right middle;" enable="false" readonly="false"/>
        <Static id="stc_13" text="D/C" class="sta_workLabel1" position="absolute 213 150 298 176" validate=""/>
        <Static id="stc_23" class="sta_workData" position="absolute 94 259 805 285"/>
        <Edit id="edt_dc_amt" taborder="109" tabstop="false" onkeyup="edt_onkeydown" position="absolute 300 153 405 173" style="align:right middle;" enable="false" readonly="false"/>
        <Static id="stc_14" text="해약자 정보 입력" class="sta_workTitle2" position="absolute 11 213 308 233"/>
        <Static id="stc_16" class="sta_workData" position="absolute 94 234 805 260"/>
        <Static id="stc_15" text="해약접수일" class="sta_workLabel1" position="absolute 213 234 298 260" style="font:Dotum,8;" validate=""/>
        <Static id="stc_memNm02" text="관계" class="sta_workLabel1" position="absolute 10 259 95 285" validate=""/>
        <Calendar id="cal_resn_acpt_day" taborder="110" dateformat="yyyy-MM-dd" position="absolute 300 237 405 257"/>
        <Combo id="cbo_reltn" taborder="111" displaynulltext="선택" innerdataset="@ds_reltn" codecolumn="cd" datacolumn="cd_nm" oncloseup="cbo_oncloseup" position="absolute 97 262 207 282"/>
        <Static id="sta_GrayLine01" class="sta_WF_Line1" position="absolute 10 233 805 234"/>
        <Static id="stc_17" text="해약완료일" class="sta_workLabel1" position="absolute 411 234 496 260" style="font:Dotum,8;" validate=""/>
        <Calendar id="cal_resn_proc_day" taborder="112" dateformat="yyyy-MM-dd" position="absolute 498 237 603 257" enable="false" readonly="false"/>
        <Static id="stc_18" text="해약송금일" class="sta_workLabel1" position="absolute 610 234 695 260" style="font:Dotum,8;" validate=""/>
        <Static id="stc_memNm03" text="해약자" class="sta_workLabel1" position="absolute 213 259 298 285" validate=""/>
        <Static id="stc_22" class="sta_workData" position="absolute 94 284 805 310"/>
        <Edit id="edt_resn_man" taborder="114" tabstop="false" onkeyup="edt_onkeydown" position="absolute 300 262 405 282"/>
        <Static id="stc_19" text="전화번호" class="sta_workLabel1" position="absolute 411 259 496 285" validate=""/>
        <Edit id="edt_resn_tel" taborder="115" tabstop="false" onkeyup="edt_onkeydown" position="absolute 498 262 603 282"/>
        <Static id="stc_21" text="생년월일" class="sta_workLabel1" position="absolute 610 259 695 285" validate=""/>
        <Edit id="edt_id_no" taborder="116" tabstop="false" onkeyup="edt_onkeydown" position="absolute 697 262 800 282"/>
        <Static id="stc_38" text="접수방법" class="sta_workLabel1" position="absolute 10 284 95 310" style="font:Dotum,8;" validate=""/>
        <Combo id="cbo_acpt_mthd" taborder="117" displaynulltext="선택" innerdataset="@ds_acptMthd" codecolumn="cd" datacolumn="cd_nm" position="absolute 97 287 293 307"/>
        <Static id="stc_memNm09" text="고객사유" class="sta_workLabel1" position="absolute 10 309 95 335" validate=""/>
        <Combo id="cbo_reson" taborder="118" displaynulltext="선택" innerdataset="@ds_resonCd" codecolumn="cd" datacolumn="cd_nm" position="absolute 97 312 293 332"/>
        <Tab id="tab_resn" taborder="129" onchanged="tab_resn_onchanged" tabindex="0" scrollbars="autoboth" anchor="default" position="absolute 10 352 805 596" positiontype="position" onlbuttonup="tab_resn_onlbuttonup">
          <Tabpages>
            <Tabpage id="tp_resn1" text="해약상세정보">
              <Layouts>
                <Layout>
                  <Static id="stc_27" class="sta_workData" position="absolute 87 174 789 200"/>
                  <Static id="stc_26" class="sta_workData" position="absolute 87 146 789 172"/>
                  <CheckBox id="chk_death" taborder="1" text="회원사망" value="N" truevalue="Y" falsevalue="N" onclick="chk_onclick" visible="false" position="absolute 13 76 113 94" enable="false"/>
                  <CheckBox id="chk_a" taborder="2" text="녹취완료(신분증확인)" value="N" truevalue="Y" falsevalue="N" position="absolute 355 7 493 25" enable="false" visible="false"/>
                  <CheckBox id="chk_b" taborder="3" text="해약신청서" value="N" truevalue="Y" falsevalue="N" position="absolute 13 7 173 25" onclick="tab_resn_tp_resn1_chk_b_onclick"/>
                  <CheckBox id="chk_g" taborder="4" text="수령인통장사본" value="N" truevalue="Y" falsevalue="N" position="absolute 13 32 118 50" enable="false"/>
                  <CheckBox id="chk_c" taborder="5" text="대리인신분증사본" value="N" truevalue="Y" falsevalue="N" visible="false" position="absolute 13 53 128 71" enable="false"/>
                  <CheckBox id="chk_d" taborder="6" text="대리환급확인서" value="N" truevalue="Y" falsevalue="N" visible="false" position="absolute 139 53 239 71" enable="false"/>
                  <CheckBox id="chk_e" taborder="7" text="가족관계증명서" value="N" truevalue="Y" falsevalue="N" visible="false" position="absolute 261 53 361 71" enable="false"/>
                  <CheckBox id="chk_f" taborder="8" text="사망진단서" value="N" truevalue="Y" falsevalue="N" visible="false" position="absolute 139 76 239 94" enable="false"/>
                  <Grid id="grd_list" taborder="9" tabstop="false" binddataset="ds_resn_sign" useinputpanel="false" cellsizingtype="col" oncelldblclick="grd_list_oncelldblclick" anchor="default" position="absolute 4 32 789 116" positiontype="position" onlbuttonup="tab_resn_tp_resn1_grd_list_onlbuttonup">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="40"/>
                          <Column size="90"/>
                          <Column size="100"/>
                          <Column size="100"/>
                          <Column size="120"/>
                          <Column size="120"/>
                          <Column size="89"/>
                          <Column size="59"/>
                          <Column size="59"/>
                        </Columns>
                        <Rows>
                          <Row size="24" band="head"/>
                          <Row size="24"/>
                        </Rows>
                        <Band id="head">
                          <Cell text="No"/>
                          <Cell col="1" displaytype="normal" text="전자서명번호"/>
                          <Cell col="2" displaytype="normal" text="전자서명구분2"/>
                          <Cell col="3" displaytype="normal" text="전자서명상태"/>
                          <Cell col="4" displaytype="normal" text="전자서명완료일"/>
                          <Cell col="5" displaytype="normal" text="전자서명등록일"/>
                          <Cell col="6" text="등록자"/>
                          <Cell col="7" displaytype="normal"/>
                          <Cell col="8" displaytype="normal"/>
                        </Band>
                        <Band id="body">
                          <Cell text="expr:currow+1"/>
                          <Cell col="1" displaytype="normal" text="bind:sign_no"/>
                          <Cell col="2" displaytype="normal" text="bind:sign_gbn2_nm"/>
                          <Cell col="3" displaytype="normal" text="bind:status_nm"/>
                          <Cell col="4" displaytype="normal" style="align:center;" text="bind:comp_reg_dm" mask="####-##-## ##:##:##"/>
                          <Cell col="5" displaytype="normal" style="align:center;" text="bind:reg_dm" mask="####-##-## ##:##:##"/>
                          <Cell col="6" text="bind:reg_man"/>
                          <Cell col="7" displaytype="button" edittype="button" text="미리보기"/>
                          <Cell col="8" displaytype="button" edittype="button" text="계좌등록"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                  <Edit id="edt_bank_nm" taborder="10" tabstop="false" onkeydown="edt_bank_nm_onkeydown" position="absolute 132 177 219 197"/>
                  <Button id="btn_srchBank" taborder="11" onclick="btn_onclick" class="btn_workSrcPop" position="absolute 221 177 241 197"/>
                  <Static id="stc_txt_accnt" text="계좌번호" class="sta_workLabel1" position="absolute 433 174 518 200" validate=""/>
                  <Edit id="edt_bank_accnt_no" taborder="12" tabstop="false" inputtype="digit" ontextchange="edt_bank_accnt_no_ontextchange" position="absolute 522 177 728 197"/>
                  <Edit id="edt_depr" taborder="13" tabstop="false" lengthunit="ascii" maxlength="24" position="absolute 333 177 428 197"/>
                  <Static id="stc_txt_depr" text="예금주" class="sta_workLabel1" position="absolute 246 174 331 200" style="font:Dotum,8;" validate=""/>
                  <Static id="stc_28" text="실지급금" class="sta_workLabel1" position="absolute 578 146 654 172" style="color:crimson;font:arial,8,bold;" validate=""/>
                  <Edit id="edt_resn_pay_amt" taborder="14" tabstop="false" onkeydown="edt_onkeydown" position="absolute 656 149 785 169" style="align:right middle;font:Dotum,9,bold;"/>
                  <Button id="btn_tsConfirm" taborder="16" text="통장확인" onclick="btn_onclick" position="absolute 731 177 785 197" style="shadow:drop 0,0 0 #00000033;"/>
                  <Static id="stc_memNm04" text="RC사용" class="sta_workLabel1" position="absolute 207 146 273 172" validate=""/>
                  <Edit id="edt_ready_cash" taborder="17" tabstop="false" onkeyup="edt_onkeydown" position="absolute 275 149 379 169" style="align:right middle;" enable="false"/>
                  <Static id="stc_txt_bank" text="은행명" class="sta_workLabel1" position="absolute 3 174 88 200" style="font:Dotum,8;" validate=""/>
                  <Edit id="edt_bank_cd" taborder="18" tabstop="false" position="absolute 90 177 130 197" style="align:center middle;"/>
                  <Combo id="cbo_calc_mthd" taborder="19" innerdataset="@ds_calcMthd" codecolumn="cd" datacolumn="cd_nm" onitemchanged="cbo_onitemchanged" position="absolute 90 149 204 169" index="-1" displaynulltext="선택"/>
                  <Static id="stc_memNm05" text="환급금정산" class="sta_workLabel1" position="absolute 3 146 88 172" validate=""/>
                  <Static id="stc_24" text="환급 정보 입력" class="sta_workTitle2" position="absolute 4 125 301 145"/>
                  <Button id="btn_mallUseAmt" taborder="20" onclick="btn_onclick" class="btn_workSrc" position="absolute 381 149 401 169" text="▶"/>
                  <Static id="sta_GrayLine01" class="sta_WF_Line1" position="absolute 3 145 790 146"/>
                  <Button id="btn_realAmt" taborder="21" text="▶" onclick="btn_onclick" class="btn_workSrc" position="absolute 765 149 785 169" visible="false"/>
                  <Static id="stc_memNm00" text="VIP클럽" class="sta_workLabel1" position="absolute 403 146 475 172" validate=""/>
                  <Edit id="edt_vip_resnAmt" taborder="22" tabstop="false" onkeyup="edt_onkeydown" enable="false" position="absolute 477 149 574 169" style="align:right middle;"/>
                  <Static id="stc_txt_del" text="★(회원신분증 / 통장사본 선택적 완료 일괄 확인)" visible="true" position="absolute 101 7 351 24" style="color:red;bordertype:normal 0 0 ;font:arial,8;"/>
                  <Static id="stc_under" class="sta_workData" position="absolute 3 174 789 200" style="background:blanchedalmond;" visible="false"/>
                  <Button id="btn_req_canc" taborder="23" text="매입취소" onclick="btn_onclick" position="absolute 261 177 538 197" style="border:0 none #000000ff ;padding:0 0 0 0;" visible="false"/>
                </Layout>
              </Layouts>
            </Tabpage>
            <Tabpage id="tp_req" text="청구현황">
              <Layouts>
                <Layout>
                  <Grid id="grd_wdrwLog" taborder="0" binddataset="ds_list_wdrwLog" useinputpanel="false" selecttype="cell" cellsizingtype="col" autofittype="col" oncelldblclick="tab_cms_tp_wdrwLog_grd_wdrwLog_oncelldblclick" position2="absolute l:5 r:5 t:5 b:5" positiontype="position2">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="30"/>
                          <Column size="80"/>
                          <Column size="53"/>
                          <Column size="57"/>
                          <Column size="81"/>
                          <Column size="80"/>
                          <Column size="80"/>
                          <Column size="60"/>
                          <Column size="73"/>
                          <Column size="60"/>
                          <Column size="60"/>
                        </Columns>
                        <Rows>
                          <Row size="25" band="head"/>
                          <Row size="25"/>
                        </Rows>
                        <Band id="head">
                          <Cell displaytype="normal" edittype="none" text="NO"/>
                          <Cell col="1" text="청구일자"/>
                          <Cell col="2" text="청구회차"/>
                          <Cell col="3" text="납입방법"/>
                          <Cell col="4" text="청구금액"/>
                          <Cell col="5" text="승인일자"/>
                          <Cell col="6" text="취소일자"/>
                          <Cell col="7" text="청구여부"/>
                          <Cell col="8" text="결과메세지"/>
                          <Cell col="9" text="유/무승인"/>
                          <Cell col="10" text="이니시스"/>
                        </Band>
                        <Band id="body">
                          <Cell style="background2: ;" text="expr:currow + 1"/>
                          <Cell col="1" displaytype="date" style="background2: ;" text="bind:req_day"/>
                          <Cell col="2" displaytype="number" style="align:center middle;background2: ;" text="bind:req_pay_no"/>
                          <Cell col="3" displaytype="combo" text="bind:pay_mthd" combodataset="ds_payMthd" combocodecol="code" combodatacol="value"/>
                          <Cell col="4" displaytype="number" style="align:right middle;background2: ;" text="bind:pay_amt"/>
                          <Cell col="5" displaytype="normal" style="align:center middle;background2: ;" text="bind:auth_dt" calendardisplaynulltype="none"/>
                          <Cell col="6" displaytype="normal" style="background2: ;color:EXPR(gfn_IsNull(getColumn(currow, &quot;cancel_dt&quot;)) == true ? &quot;none&quot; : &quot;red&quot;);color2:EXPR(gfn_IsNull(getColumn(currow, &quot;cancel_dt&quot;)) == true ? &quot;none&quot; : &quot;red&quot;);" text="bind:cancel_dt" calendardisplaynulltype="none"/>
                          <Cell col="7" displaytype="combo" style="align:left middle;" text="bind:del_fg" combodataset="ds_codeDelFg" combocodecol="code" combodatacol="value" calendardisplaynulltype="default"/>
                          <Cell col="8" style="align:left;" text="bind:result_msg"/>
                          <Cell col="9" text="bind:auth_nm"/>
                          <Cell col="10" text="bind:ini_yn"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                </Layout>
              </Layouts>
            </Tabpage>
          </Tabpages>
        </Tab>
        <Button id="btn_save" taborder="130" onclick="btn_onclick" class="btn_WF_Save" position="absolute 586 206 658 226" style="border:0 none #000000ff ;padding:0 0 0 0;"/>
        <Button id="btn_resn_canc" taborder="131" text="해약취소" onclick="btn_onclick" position="absolute 660 206 732 226" style="border:0 none #000000ff ;padding:0 0 0 0;"/>
        <Static id="stc_32" text="만기일자" class="sta_workLabel1" position="absolute 610 95 695 121" style="font:Dotum,8;" validate=""/>
        <Calendar id="cal_man_day" taborder="132" dateformat="yyyy-MM-dd" enable="false" position="absolute 697 98 800 118"/>
        <Edit id="edt_man_stat" taborder="134" tabstop="false" onkeyup="edt_onkeydown" position="absolute 742 153 800 173" enable="false" readonly="false"/>
        <Static id="stc_34" text="해약방법" class="sta_workLabel1" position="absolute 10 234 95 260" style="font:Dotum,8;" validate=""/>
        <Combo id="cbo_resn_cl" taborder="137" displaynulltext="선택" innerdataset="@ds_resnCl" codecolumn="cd" datacolumn="cd_nm" onitemchanged="cbo_onitemchanged" position="absolute 97 237 207 257"/>
        <Edit id="edt_note" taborder="138" tabstop="false" lengthunit="ascii" maxlength="200" position="absolute 386 286 800 332"/>
        <Static id="stc_memNm08" text="비고" class="sta_workLabel1" position="absolute 298 284 383 335" validate=""/>
        <Calendar id="cal_resn_rm_day" taborder="139" dateformat="yyyy-MM-dd" position="absolute 697 237 800 257" enable="false"/>
        <CheckBox id="chk_ReqProcYn" taborder="140" text="해약완료처리" value="N" truevalue="Y" falsevalue="N" visible="false" position="absolute 699 356 806 374" style="color:red;font:arial,10,bold underline;" onclick="chk_ReqProcYn_onclick"/>
        <CheckBox id="chk_cmsWdrwReqYn" taborder="141" text="결합금 CMS/카드 산출" value="N" truevalue="Y" falsevalue="N" visible="false" position="absolute 528 356 884 374" style="color:red;" enable="false"/>
        <Static id="stc_txt_del" text="★해약 삭제된 회원입니다." visible="false" position="absolute 283 356 498 373" style="color:red;bordertype:normal 0 0 ;font:arial,10,bold;"/>
        <Edit id="edt_resn_plus" taborder="142" tabstop="false" readonly="true" class="edt_clssEnable" position="absolute 945 556 1040 576" style="align:right middle;" visible="false"/>
        <Static id="stc_29" text="해약수입금" class="sta_workLabel1" position="absolute 852 553 943 579" validate="" visible="false"/>
        <Button id="btn_resn_hist" taborder="143" text="이력보기" onclick="btn_onclick" position="absolute 734 206 806 226" style="border:0 none #000000ff ;padding:0 0 0 0;"/>
        <Edit id="edt_new_chan" taborder="144" tabstop="false" onkeyup="edt_onkeydown" enable="false" position="absolute 697 153 739 173"/>
        <Static id="stc_05" text="후할인/만기" class="sta_workLabel1" position="absolute 610 150 695 176" validate="" style="font:arial,7;"/>
        <Button id="btn_print" taborder="145" text="접수확인증 인쇄" onclick="btn_onclick" position="absolute 705 41 805 61" style="shadow:drop 0,0 0 #00000033;"/>
      </Layout>
    </Layouts>
    <Bind>
      <BindItem id="item20" compid="cal_resn_rm_day" propid="value" datasetid="ds_resn_info" columnid="resn_remit_day"/>
      <BindItem id="item0" compid="edt_accnt_no" propid="value" datasetid="ds_accnt_info" columnid="accnt_no"/>
      <BindItem id="item1" compid="edt_mem_nm" propid="value" datasetid="ds_accnt_info" columnid="mem_nm"/>
      <BindItem id="item2" compid="edt_brth_mon_day" propid="value" datasetid="ds_accnt_info" columnid="brth_mon_day"/>
      <BindItem id="item3" compid="edt_prod_cd" propid="value" datasetid="ds_accnt_info" columnid="prod_cd"/>
      <BindItem id="item4" compid="cal_join_dt" propid="value" datasetid="ds_accnt_info" columnid="join_dt"/>
      <BindItem id="item5" compid="cal_man_day" propid="value" datasetid="ds_accnt_info" columnid="man_day"/>
      <BindItem id="item6" compid="edt_model_nm" propid="value" datasetid="ds_accnt_info" columnid="model_nm"/>
      <BindItem id="item7" compid="edt_model_cl_nm" propid="value" datasetid="ds_accnt_info" columnid="model_cl_nm"/>
      <BindItem id="item8" compid="edt_prod_nm" propid="value" datasetid="ds_accnt_info" columnid="prod_nm"/>
      <BindItem id="item9" compid="edt_true_amt" propid="value" datasetid="ds_accnt_info" columnid="true_amt"/>
      <BindItem id="item10" compid="edt_rel_amt" propid="value" datasetid="ds_accnt_info" columnid="rel_amt"/>
      <BindItem id="item11" compid="edt_add_amt" propid="value" datasetid="ds_accnt_info" columnid="add_amt"/>
      <BindItem id="item12" compid="edt_gasu_amt" propid="value" datasetid="ds_accnt_info" columnid="gasu_amt"/>
      <BindItem id="item13" compid="edt_perf_amt" propid="value" datasetid="ds_accnt_info" columnid="perf_amt"/>
      <BindItem id="item14" compid="edt_dc_amt" propid="value" datasetid="ds_accnt_info" columnid="dc_amt"/>
      <BindItem id="item15" compid="edt_resn_amt" propid="value" datasetid="ds_accnt_info" columnid="resn_amt"/>
      <BindItem id="item16" compid="edt_man_stat" propid="value" datasetid="ds_accnt_info" columnid="man_stat"/>
      <BindItem id="item17" compid="cbo_resn_cl" propid="value" datasetid="ds_resn_info" columnid="resn_cl"/>
      <BindItem id="item18" compid="cal_resn_acpt_day" propid="value" datasetid="ds_resn_info" columnid="resn_acpt_day"/>
      <BindItem id="item19" compid="cal_resn_proc_day" propid="value" datasetid="ds_resn_info" columnid="resn_proc_day"/>
      <BindItem id="item21" compid="cbo_reltn" propid="value" datasetid="ds_resn_info" columnid="reltn"/>
      <BindItem id="item22" compid="edt_resn_man" propid="value" datasetid="ds_resn_info" columnid="resn_man"/>
      <BindItem id="item23" compid="edt_resn_tel" propid="value" datasetid="ds_resn_info" columnid="tel_no"/>
      <BindItem id="item24" compid="edt_id_no" propid="value" datasetid="ds_resn_info" columnid="idn_no"/>
      <BindItem id="item25" compid="cbo_acpt_mthd" propid="value" datasetid="ds_resn_info" columnid="acpt_mthd"/>
      <BindItem id="item26" compid="edt_note" propid="value" datasetid="ds_resn_info" columnid="note"/>
      <BindItem id="item27" compid="cbo_reson" propid="value" datasetid="ds_resn_info" columnid="reson"/>
      <BindItem id="item33" compid="tab_resn.tp_resn1.edt_bank_nm" propid="value" datasetid="ds_resn_info" columnid="bank_nm"/>
      <BindItem id="item35" compid="tab_resn.tp_resn1.edt_bank_accnt_no" propid="value" datasetid="ds_resn_info" columnid="bank_accnt_no"/>
      <BindItem id="item34" compid="tab_resn.tp_resn1.edt_depr" propid="value" datasetid="ds_resn_info" columnid="depr"/>
      <BindItem id="item30" compid="tab_resn.tp_resn1.edt_resn_pay_amt" propid="value" datasetid="ds_resn_info" columnid="resn_pay_amt"/>
      <BindItem id="item29" compid="tab_resn.tp_resn1.edt_ready_cash" propid="value" datasetid="ds_resn_info" columnid="shopping_use_amt"/>
      <BindItem id="item32" compid="tab_resn.tp_resn1.edt_bank_cd" propid="value" datasetid="ds_resn_info" columnid="bank_cd"/>
      <BindItem id="item28" compid="tab_resn.tp_resn1.cbo_calc_mthd" propid="value" datasetid="ds_resn_info" columnid="calc_mthd"/>
      <BindItem id="item36" compid="tab_resn.tp_resn1.chk_b" propid="value" datasetid="ds_resn_info" columnid="chk_b"/>
      <BindItem id="item37" compid="tab_resn.tp_resn1.chk_a" propid="value" datasetid="ds_resn_info" columnid="chk_a"/>
      <BindItem id="item38" compid="tab_resn.tp_resn1.chk_g" propid="value" datasetid="ds_resn_info" columnid="chk_g"/>
      <BindItem id="item39" compid="tab_resn.tp_resn1.chk_c" propid="value" datasetid="ds_resn_info" columnid="chk_c"/>
      <BindItem id="item40" compid="tab_resn.tp_resn1.chk_d" propid="value" datasetid="ds_resn_info" columnid="chk_d"/>
      <BindItem id="item41" compid="tab_resn.tp_resn1.chk_e" propid="value" datasetid="ds_resn_info" columnid="chk_e"/>
      <BindItem id="item42" compid="tab_resn.tp_resn1.chk_death" propid="value" datasetid="ds_resn_info" columnid="death"/>
      <BindItem id="item43" compid="tab_resn.tp_resn1.chk_f" propid="value" datasetid="ds_resn_info" columnid="chk_f"/>
      <BindItem id="item44" compid="chk_ReqProcYn" propid="value" datasetid="ds_resn_info" columnid="resn_proc_yn"/>
      <BindItem id="item31" compid="edt_resn_plus" propid="value" datasetid="ds_resn_info" columnid="resn_plus"/>
      <BindItem id="item45" compid="tab_resn.tp_resn1.edt_vip_resnAmt" propid="value" datasetid="ds_accnt_info" columnid="man_amt"/>
      <BindItem id="item46" compid="edt_new_chan" propid="value" datasetid="ds_accnt_info" columnid="new_chan_gunsu"/>
    </Bind>
    <Objects>
      <Dataset id="ds_trans_info" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="strSvcID" type="STRING" size="256"/>
          <Column id="strURL" type="STRING" size="256"/>
          <Column id="strInDatasets" type="STRING" size="256"/>
          <Column id="strOutDatasets" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_resnCl" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cd_nm" type="STRING" size="256"/>
          <Column id="adtl_cd" type="STRING" size="256"/>
          <Column id="adtl_cd_nm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_inqCndt" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="accnt_no" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_accnt_info" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="page_indx" type="STRING" size="6"/>
          <Column id="accnt_no" type="STRING" size="100"/>
          <Column id="mem_no" type="STRING" size="100"/>
          <Column id="mem_nm" type="STRING" size="100"/>
          <Column id="cell" type="STRING" size="100"/>
          <Column id="prod_cd" type="STRING" size="100"/>
          <Column id="prod_nm" type="STRING" size="100"/>
          <Column id="prod_amt" type="STRING" size="100"/>
          <Column id="expr_no" type="STRING" size="100"/>
          <Column id="appfm_no" type="STRING" size="100"/>
          <Column id="join_dt" type="STRING" size="100"/>
          <Column id="brth_mon_day" type="STRING" size="100"/>
          <Column id="pay_add_amt" type="STRING" size="100"/>
          <Column id="model_cl_nm" type="STRING" size="100"/>
          <Column id="model_nm" type="STRING" size="256"/>
          <Column id="man_day" type="STRING" size="256"/>
          <Column id="man_stat" type="STRING" size="256"/>
          <Column id="true_amt" type="STRING" size="256"/>
          <Column id="rel_amt" type="STRING" size="256"/>
          <Column id="add_amt" type="STRING" size="256"/>
          <Column id="gasu_amt" type="STRING" size="256"/>
          <Column id="dc_amt" type="STRING" size="256"/>
          <Column id="perf_amt" type="STRING" size="256"/>
          <Column id="resn_amt" type="STRING" size="256"/>
          <Column id="seq" type="STRING" size="256"/>
          <Column id="man_amt" type="STRING" size="256"/>
          <Column id="cons_memo_cntn" type="STRING" size="256"/>
          <Column id="new_chan_gunsu" type="STRING" size="256"/>
          <Column id="req_del" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_reltn" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cd_nm" type="STRING" size="256"/>
          <Column id="adtl_cd" type="STRING" size="256"/>
          <Column id="adtl_cd_nm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_acptMthd" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cd_nm" type="STRING" size="256"/>
          <Column id="adtl_cd" type="STRING" size="256"/>
          <Column id="adtl_cd_nm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_resonCmp" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cd_nm" type="STRING" size="256"/>
          <Column id="adtl_cd" type="STRING" size="256"/>
          <Column id="adtl_cd_nm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_calcMthd" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cd_nm" type="STRING" size="256"/>
          <Column id="adtl_cd" type="STRING" size="256"/>
          <Column id="adtl_cd_nm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cardCd" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cd_nm" type="STRING" size="256"/>
          <Column id="adtl_cd" type="STRING" size="256"/>
          <Column id="adtl_cd_nm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_resl_cd" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cd_nm" type="STRING" size="256"/>
          <Column id="adtl_cd" type="STRING" size="256"/>
          <Column id="adtl_cd_nm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_resn_info" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="page_indx" type="STRING" size="6" sumtext="인덱스"/>
          <Column id="accnt_no" type="STRING" size="100" sumtext="회원번호"/>
          <Column id="resn_cl" type="STRING" size="256" sumtext="해약방법"/>
          <Column id="resn_acpt_day" type="STRING" size="256" sumtext="접수일자"/>
          <Column id="resn_proc_day" type="STRING" size="256" sumtext="완료일자"/>
          <Column id="resn_remit_day" type="STRING" size="256" sumtext="해약송금일"/>
          <Column id="reltn" type="STRING" size="256" sumtext="관계"/>
          <Column id="resn_man" type="STRING" size="256" sumtext="해약자"/>
          <Column id="tel_no" type="STRING" size="256" sumtext="전화번호"/>
          <Column id="idn_no" type="STRING" size="256" sumtext="생년월일"/>
          <Column id="acpt_mthd" type="STRING" size="256" sumtext="접수방법"/>
          <Column id="reson" type="STRING" size="256" sumtext="고객사유"/>
          <Column id="note" type="STRING" size="256" sumtext="비고"/>
          <Column id="calc_mthd" type="STRING" size="256" sumtext="환급금정산"/>
          <Column id="shopping_use_amt" type="STRING" size="256" sumtext="레디캐시사용금"/>
          <Column id="resn_pay_amt" type="STRING" size="256" sumtext="실지급금"/>
          <Column id="resn_plus" type="STRING" size="256"/>
          <Column id="bank_cd" type="STRING" size="256" sumtext="은행코드"/>
          <Column id="bank_nm" type="STRING" size="256" sumtext="은행명"/>
          <Column id="depr" type="STRING" size="256" sumtext="예금주"/>
          <Column id="bank_accnt_no" type="STRING" size="256" sumtext="계좌번호"/>
          <Column id="chk_a" type="STRING" size="256"/>
          <Column id="chk_b" type="STRING" size="256" sumtext="해약신청서"/>
          <Column id="chk_c" type="STRING" size="256"/>
          <Column id="chk_d" type="STRING" size="256"/>
          <Column id="chk_e" type="STRING" size="256"/>
          <Column id="chk_f" type="STRING" size="256"/>
          <Column id="chk_g" type="STRING" size="256"/>
          <Column id="death" type="STRING" size="256"/>
          <Column id="logdata" type="STRING" size="256"/>
          <Column id="mem_no" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_resonCd" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cd_nm" type="STRING" size="256"/>
          <Column id="adtl_cd" type="STRING" size="256"/>
          <Column id="adtl_cd_nm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_resn_sign" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="accnt_no" type="STRING" size="100"/>
          <Column id="sign_no" type="STRING" size="256"/>
          <Column id="sign_gbn1_nm" type="STRING" size="256"/>
          <Column id="sign_gbn2_nm" type="STRING" size="256"/>
          <Column id="status_nm" type="STRING" size="256"/>
          <Column id="reg_dm" type="STRING" size="256"/>
          <Column id="comp_reg_dm" type="STRING" size="256"/>
          <Column id="status" type="STRING" size="256"/>
          <Column id="bank_cd" type="STRING" size="256"/>
          <Column id="bank_nm" type="STRING" size="256"/>
          <Column id="depr" type="STRING" size="256"/>
          <Column id="bank_accnt_no" type="STRING" size="256"/>
          <Column id="reg_man" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_accnt_base_info" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="accnt_no" type="STRING" size="100"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_list_wdrwLog" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="page_indx" type="STRING" size="256"/>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="req_bit" type="STRING" size="256"/>
          <Column id="true_cnt" type="STRING" size="256"/>
          <Column id="req_pay_no" type="STRING" size="256"/>
          <Column id="max_req_pay_no" type="STRING" size="256"/>
          <Column id="reg_dm" type="STRING" size="256"/>
          <Column id="max_reg_dm" type="STRING" size="256"/>
          <Column id="pay_bit" type="STRING" size="256"/>
          <Column id="pay_amt" type="STRING" size="256"/>
          <Column id="result_key" type="STRING" size="256"/>
          <Column id="max_result_key" type="STRING" size="256"/>
          <Column id="result_kind" type="STRING" size="256"/>
          <Column id="result_cd" type="STRING" size="256"/>
          <Column id="result_msg" type="STRING" size="256"/>
          <Column id="auth_dt" type="STRING" size="256"/>
          <Column id="auth_cd" type="STRING" size="256"/>
          <Column id="ichae_cd" type="STRING" size="256"/>
          <Column id="cancel_dt" type="STRING" size="256"/>
          <Column id="mem_no" type="STRING" size="256"/>
          <Column id="tid" type="STRING" size="256"/>
          <Column id="req_day" type="STRING" size="256"/>
          <Column id="del_fg" type="STRING" size="256"/>
          <Column id="pay_mthd" type="STRING" size="256"/>
          <Column id="auth_nm" type="STRING" size="256"/>
          <Column id="ini_yn" type="STRING" size="256"/>
          <Column id="vrtl_req_pay_no" type="STRING" size="256"/>
          <Column id="reg_man" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_payMthd" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="code" type="STRING" size="256"/>
          <Column id="value" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="code">04</Col>
            <Col id="value">CMS</Col>
          </Row>
          <Row>
            <Col id="code">06</Col>
            <Col id="value">카드</Col>
          </Row>
          <Row>
            <Col id="code">07</Col>
            <Col id="value">가상계좌</Col>
          </Row>
          <Row>
            <Col id="code">01</Col>
            <Col id="value">손수</Col>
          </Row>
          <Row>
            <Col id="code">02</Col>
            <Col id="value">기타</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_codeDelFg" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="code" type="STRING" size="256"/>
          <Column id="value" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="code">N</Col>
            <Col id="value">청구전</Col>
          </Row>
          <Row>
            <Col id="code">Y</Col>
            <Col id="value">삭제</Col>
          </Row>
          <Row>
            <Col id="code">R</Col>
            <Col id="value">청구</Col>
          </Row>
          <Row>
            <Col id="code">C</Col>
            <Col id="value">완료(변환/입금)</Col>
          </Row>
          <Row>
            <Col id="code">F</Col>
            <Col id="value">완료(실패)</Col>
          </Row>
          <Row>
            <Col id="code">X</Col>
            <Col id="value">취소</Col>
          </Row>
        </Rows>
      </Dataset>
    </Objects>
    <Script type="xscript4.0"><![CDATA[/********************************************************************************************/
/* 1. Include Library include, variables Declaration 영역                                  */
/********************************************************************************************/
include "LIB::lib_All.xjs";

var gv_accnt_no = "";
var gv_ResnGbn = "";	//해약
var gv_seq = "";
var gv_sign_stat = ""   //전자서명 상태값
var gv_resnAthr = false;// 해약등록

var xTsConfirmResultMsg = ""; //통장확인 메세지
var retReadCashAmt = 0;		  //레디캐시 실시간 금액

/********************************************************************************************/
/* 2. Form 관련(onload 및 Form 이벤트) 처리                                           	*/
/********************************************************************************************/
function DL440900P01_onload(obj:Form, e:LoadEventInfo)
{
	fn_init();		
}

/********************************************************************************************/
/* 3. Callback(gfn_Transaction 호출 후 처리내용)                                   		*/
/********************************************************************************************/

function fn_callBack(svcid, errcd, errmsg)
{
	if (errcd != 0) {
		trace(errcd)
		return false;
	} else {
		switch (svcid) {			
			case "selectDlwCode": // 공통코드 조회 callBack Service ID			
				trace("ddd");
				gfn_getCode("64", "SELECT", ds_resnCl, gds_DmlCd); 		// 해약방법
				gfn_getCode("07", "SELECT", ds_reltn, gds_DmlCd); 		// 관계
				gfn_getCode("08", "SELECT", ds_acptMthd, gds_DmlCd); 	// 접수방법
				gfn_getCode("0116", "SELECT", ds_resonCmp, gds_DmlCd); 	// 회사사유
				gfn_getCode("0155", "", ds_calcMthd, gds_DmlCd); 	    // 환급금정산
				gfn_getCode("0120", "SELECT", ds_cardCd, gds_DmlCd); 	// 카드사
				gfn_getCode("84", "", ds_resl_cd, gds_DmlCd); 			// 코드조회결과 필터
				gfn_getCode("82", "SELECT", ds_resonCd, gds_DmlCd);		//고객해약사유
			break;
			
			case "srchResnAccntInfo": // 해약회원 정보 조회
				gv_ResnGbn = ds_accnt_info.getColumn(0, "resn_cl");
				edt_true_amt.value = gfn_setComma(ds_accnt_info.getColumn(0, "true_amt"));
				edt_rel_amt.value = gfn_setComma(ds_accnt_info.getColumn(0, "rel_amt"));
				edt_add_amt.value = gfn_setComma(ds_accnt_info.getColumn(0, "add_amt"));
				edt_gasu_amt.value = gfn_setComma(ds_accnt_info.getColumn(0, "gasu_amt"));
				edt_perf_amt.value = gfn_setComma(ds_accnt_info.getColumn(0, "perf_amt"));
				edt_dc_amt.value = gfn_setComma(ds_accnt_info.getColumn(0, "dc_amt"));
				edt_resn_amt.value = gfn_setComma(ds_accnt_info.getColumn(0, "resn_amt"));
				var strManStat = gfn_setComma(ds_accnt_info.getColumn(0, "man_stat"));
								
				if (gv_ResnGbn  == "00"){
					//최초해약등록 
					//alert("최초 해약 접수 회원입니다.!!");
					if(!confirm("해당 회원 해약 접수 진행하시겠습니까?"))
					{
						close();
					}
					fn_Component_Setting("NEW",strManStat);					
					return;
				} 
				// 해약 상세 조회
				fn_srchResnDtlInfo();				
			break;
			
			case "srchResnDetailInfo": // 해약회원 정보 조회
				var intSignCnt = ds_resn_info.getColumn(0, "sign_cnt");
				var strResnDelfg = ds_resn_info.getColumn(0, "del_fg");
				var strResnProcYn = ds_resn_info.getColumn(0, "resn_proc_yn");
				if (intSignCnt > 0){
					fn_srchResnSignInfo();	
				}
				//삭제된 회원 정보
				if(strResnDelfg == "Y"){														
					stc_txt_del.visible = true;
					chk_ReqProcYn.visible = false;
					fn_Component_Setting("NONE","NOR");		
				}
				// 해약완료 시 컴퍼넌트 조정
				if(strResnProcYn == "Y"){
					fn_Component_Setting("NONE","PROC");	
				} else {
					fn_Component_Setting("NOR","");	
				}
				
			break;
			
			case "srchResnSignInfo" :
				gv_sign_stat = ds_resn_sign.getColumn(0,"status");				
			break;
			
			case "insertResnInfo" :
				alert("해약정보가 등록되었습니다.");
				fn_srchAccntNo();
 				opener.fn_commSearch(gfn_getCommTypeInit());	//	재조회
			break;
			
			case "updateResnInfo": // 해약회원 정보 조회
				alert("해약정보가 수정되었습니다.");
				fn_srchAccntNo();
 				opener.fn_commSearch(gfn_getCommTypeInit());	//	재조회
			break;
						
			case "srchResnDetailInfo": // 해약회원 정보 조회
				alert("해약정보가 삭제 되었습니다.");
			break;	
			
			case "getTsConfirmSend" :				
				if (xTsConfirmResultMsg == "정상조회")
				{
					alert("성공 : 통장확인이 완료되었습니다.");
					tab_resn.tp_resn1.btn_tsConfirm.enable = false;
					return false;
				}
				else
				{
					alert(xTsConfirmResultMsg);
					tab_resn.tp_resn1.btn_tsConfirm.enable = true;
					xTsConfirmResultMsg = "";
					return false;
				}
			break;	
			
			case "srchReadyCashAmt" :
				tab_resn.tp_resn1.edt_ready_cash.value = gfn_setComma(retReadCashAmt);
				fn_payInc();
			break;
			
		}
	}
}

function fn_preSave(svcid)
{	
	switch (svcid) {
		case "insertResnInfo" :
			var strChk_b = tab_resn.tp_resn1.chk_b.value;			//해약신청서
			var strCalMth = tab_resn.tp_resn1.cbo_calc_mthd.value;  //환급금정산 		
		break;
	}
}

function fn_init()
{
	fn_setAthrPgmBtn(); //버튼권한
	
	gfn_getList("dlwCd", "64,07,08,0116,0155,0120,84,82");	// 코드정보 조회
	
	if(gfn_isNull(p_accnt_no)){
		alert("회원번호가 없거나 정보가 없습니다.");	
		fn_Component_Setting("NONE","");
		return;
	}
	
	if(p_mainYn=="Y"){
		gv_accnt_no = p_accnt_no;
	} else {
		gv_accnt_no = p_accnt_no;
		gv_seq = p_seq;
	}				
	fn_srchAccntNo(); // 회원정보 검색 	
}

// 회원 정보 조회
function fn_srchAccntNo()
{   
	var szSvcid       = "srchResnAccntInfo";
    var szController  = "/dlw/resn/ResnAccntInfo";
    var szInDs        = "";
    var szOutDs       = "ds_accnt_info=ds_output";
    var szParam       = "accnt_no="+gv_accnt_no + " seq=" + gv_seq;
    var szRetCallback = "fn_callBack";

    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

// 해약 상세 정보  조회
function fn_srchResnDtlInfo()
{   
	var szSvcid       = "srchResnDetailInfo";
    var szController  = "/dlw/resn/ResnDetailInfo";
    var szInDs        = "";
    var szOutDs       = "ds_resn_info=ds_output";
    var szParam       = "accnt_no="+gv_accnt_no + " seq=" + gv_seq;
    var szRetCallback = "fn_callBack";

    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

// 해약 전자서명 신청서 호출 
function fn_srchResnSignInfo()
{   
	var szSvcid       = "srchResnSignInfo";
    var szController  = "/dlw/resn/ResnSignInfo";
    var szInDs        = "";
    var szOutDs       = "ds_resn_sign=ds_output";
    var szParam       = "accnt_no="+gv_accnt_no;
    var szRetCallback = "fn_callBack";

    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

// 해약 등록 (INSERT)
function fn_insertResnInfo()
{
	ds_resn_info.setColumn(0, "accnt_no", gv_accnt_no);	
	ds_resn_info.setColumn(0, "mem_no", ds_accnt_info.getColumn(0,"mem_no"));	
	//ds_resn_info.setColumn(0,"logdata","해약최초등록");
	if(tab_resn.tp_resn1.cbo_calc_mthd.value == '0002') {
		ds_resn_info.setColumn(0,"logdata","해약수정정보"
										  +"\n등록일 : "+cal_resn_acpt_day.value
										  +"\n처리일 : "+gfn_trim(cal_resn_proc_day.value)
										  +"\n실지급금액 : "+gfn_trim(tab_resn.tp_resn1.edt_resn_pay_amt.value)
										  +"\n비고 : "+gfn_trim(edt_note.value)
										  );
	} else {
		ds_resn_info.setColumn(0,"logdata","해약수정정보"
										  +"\n등록일 : "+cal_resn_acpt_day.value
										  +"\n처리일 : "+gfn_trim(cal_resn_proc_day.value)
										  +"\n은행명 : "+gfn_trim(tab_resn.tp_resn1.edt_bank_nm.value)
										  +"\n계좌번호 : "+gfn_trim(tab_resn.tp_resn1.edt_bank_accnt_no.value)
										  +"\n예금주 : "+gfn_trim(tab_resn.tp_resn1.edt_depr.value)
										  +"\n실지급금액 : "+gfn_trim(tab_resn.tp_resn1.edt_resn_pay_amt.value)
										  +"\n비고 : "+gfn_trim(edt_note.value)
										  );
	}
	var szSvcid       = "insertResnInfo";
    var szController  = "/dlw/resn/insertResnInfo";
    var szInDs        = "ds_input=ds_resn_info";
    var szOutDs       = "";
    var szParam       = "accnt_no="+gv_accnt_no;
    var szRetCallback = "fn_callBack";

    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

// 해약 수정 (UPDATE)
function fn_updateResnInfo(gbn)
{
	ds_resn_info.setColumn(0, "accnt_no", gv_accnt_no);		
	ds_resn_info.setColumn(0, "mem_no", ds_resn_info.getColumn(0,"mem_no"));	
	
	if(gbn == "U"){
		if(!fn_changedColumn()){
			alert("변경된 정보가 없습니다.");
			return;
		}
	} else {
		ds_resn_info.setColumn(0,"logdata","해약취소등록");
	}
		
	var szSvcid       = "updateResnInfo";
    var szController  = "/dlw/resn/updateResnInfo";
    var szInDs        = "ds_input=ds_resn_info";
    var szOutDs       = "";
    var szParam       = "accnt_no="+gv_accnt_no+" update_gbn="+gbn;
    var szRetCallback = "fn_callBack";
    
    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

// 레디캐시 사용 실시간 조회 
function fn_srchReadyCashAmt()
{   
	var szSvcid       = "srchReadyCashAmt";
    var szController  = "/dlw/resn/ReadyCashReal";
    var szInDs        = "";
    var szOutDs       = "";
    var szParam       = "accnt_no="+gv_accnt_no;
    var szRetCallback = "fn_callBack";

    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

// 실시간 청구 조회 
function fn_srchResnReqInfo()
{   
	var szSvcid       = "srchResnReqInfo";
    var szController  = "/dlw/resn/ResnReqInfo";
    var szInDs        = "";
    var szOutDs       = "ds_list_wdrwLog=ds_output";
    var szParam       = "accnt_no="+gv_accnt_no;
    var szRetCallback = "fn_callBack";

    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

//실시간 계좌 확인 
function fn_srchTsConfirmSend()
{	
	var sBankSett = tab_resn.tp_resn1.edt_bank_cd.value; 
	var sNoAcct = tab_resn.tp_resn1.edt_bank_accnt_no.value;
	var sNmcomp = tab_resn.tp_resn1.edt_depr.value;
	//var sNmcomp = "임동진";
	var sMid = "daemyungim"; // "INIpayTest";		

	if(gfn_isNull(sBankSett) || gfn_isNull(sNoAcct) || gfn_isNull(sNmcomp)){
		alert("은행코드, 계좌번호, 예금주 정보를 정확하게 입력하여 주십시오.");
		return false;
	}
	
	if(sBankSett.length < 2){
		alert("은행코드는 2자리 이상입니다.");
		return false;
	}
	
	var nBankSettStartLength = sBankSett.length - 2;
	var nBankSettEndLength = sBankSett.length;
	
	sBankSett = sBankSett.substr(nBankSettStartLength, nBankSettEndLength);
	
	var szSvcid       = "getTsConfirmSend";
	var szController  = "/dlw/resn/getTsConfirmSend";
	var szInDs        = "";
	var szOutDs       = "";
	var szParam       = "banksett=" + sBankSett + " noacct=" + sNoAcct + " nmcomp=" + sNmcomp + " mid=" + sMid;
	var szRetCallback = "fn_callBack";

    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

/********************************************************************************************/
/**   7. 이벤트(Event) Function                                                          	*/
/********************************************************************************************/
// button onclick
function btn_onclick(obj:Button,  e:ClickEventInfo)
{
	if (obj.name == "btn_close" || obj.name == "btn_cancel") {	// 닫기
		close();
	} else if(obj.name == "btn_accntNo"){				
		fn_srchAccntNoPop("accnt_no", obj.value);		//회원번호 검색
	} else if(obj.name == "btn_save"){	
		if(fn_req_Check()){	
			if(gv_ResnGbn=="00"){
				fn_insertResnInfo();						// 해약등록
			} else {
				fn_updateResnInfo("U");						// 해약수정
			}		
		}
		
	} else if(obj.name == "btn_resn_canc"){
			fn_updateResnInfo("D");						// 해약 삭제
	} else if(obj.name == "btn_srchBank"){
			fn_srchBank();								// 은행명 찾기
	} else if(obj.name == "btn_tsConfirm"){
			fn_srchTsConfirmSend();						// 통장번호 확인
	} else if(obj.name == "btn_realAmt"){
			fn_payInc();								// 실지급금 계산
	} else if(obj.name == "btn_mallUseAmt"){
			fn_srchReadyCashAmt();						// 회원몰 사용금액
	} else if(obj.name == "btn_req_canc"){
			fn_srchResnReq();							// 매입취소 팝업
	} else if(obj.name == "btn_resn_hist"){
			fn_srchMemHistory();							// 상담이력조회
	}  else if (obj.name == "btn_print") {						// 접수확인증 인쇄
		var sFormId = "CancelCrtf_sinit";
		var sAccntNo = edt_accnt_no.value;
		
		if (gfn_isNull(sAccntNo)) {
			alert("회원번호를 입력하십시요.");
			return;
		}		
		var sPrmr = {form_id: sFormId, accnt_no: sAccntNo};
		var reVal = gfn_diaLog("resnOzReportPrint", -1, -1, 884, 601, "PS990000::PS994500.xfdl", false, sPrmr, false, false, true);
	}			
}

function tab_resn_tp_resn1_grd_list_onlbuttonup(obj:Grid, e:GridMouseEventInfo)
{
	if(e.col == 7){
		var sSignNo = ds_resn_sign.getColumn(ds_resn_sign.rowposition, "sign_no");
		var sURL = "https://sign.daemyungimready.com/link_view/doc_view_na.jsp?sign_no="; 	
		if(gfn_isNull(sSignNo) == false){
			sURL += sSignNo;
			var sPrmr = {"pURL" : sURL};
			var reVal = gfn_diaLog("전자서명증서", -1, -1, -1, -1, "PS990000::PS999001.xfdl", false, sPrmr, true, false, true, null, null, true);
		}
	}	
	
	if(e.col == 8){
		var strStatus = ds_resn_sign.getColumn(e.row, "status");
		if(strStatus!="1"){
			alert("전자서명을 최종완료 해야 사용가능합니다.");			
		} else {
			var strBankCd = ds_resn_sign.getColumn(e.row, "bank_cd");
			var strBankNm = ds_resn_sign.getColumn(e.row, "bank_nm");
			var strDepr = ds_resn_sign.getColumn(e.row, "depr");
			var strBankAccno = ds_resn_sign.getColumn(e.row, "bank_accnt_no");
			
			tab_resn.tp_resn1.edt_bank_cd.value = "0"+strBankCd; //전자서명테이블 은행코드 뒷2자리만 사용
			tab_resn.tp_resn1.edt_bank_nm.value = strBankNm;
			tab_resn.tp_resn1.edt_depr.value = strDepr;
			tab_resn.tp_resn1.edt_bank_accnt_no.value = strBankAccno;		
			alert("전자서명에서 등록한 환급정보를 가져왔습니다.");				
		}
	}
}

function fn_srchAccntNoPop(sType, sVal)
{
	if (gfn_isNull(sVal)) sVal = "";
	var sPrmr = {"p_srch_typ":sType, "p_srch_vl":sVal, "p_gubun_mode":"", "p_option":""};
	gfn_diaLog("회원 조회", -1, -1, 884, 601, "PS990000::PS992402.xfdl", false, sPrmr, true, false, true, null, null, true);
}

function fn_setAccntNo()
{		
	gv_accnt_no = ds_accnt_base_info.getColumn(0, "accnt_no");	
	
	ds_accnt_info.clearData();
	ds_resn_info.clearData();
	ds_resn_sign.clearData();
			
	fn_srchAccntNo();
}

function edt_onkeydown(obj:Edit, e:KeyEventInfo)
{
	if (obj.name == "edt_accnt_no") {
		if(e.keycode == 13){
			fn_srchAccntNoPop("accnt_no", obj.value);
		}
		
	}
}

// 은행명 검색
function fn_srchBank()	// setBankInfoByPop
{
	var sPrmr = {p_bank_nm : tab_resn.tp_resn1.edt_bank_nm.value};
	var reVal = gfn_diaLog("은행 조회", -1, -1, 884, 601, "PS990000::PS992500.xfdl", false, sPrmr, false, false, true);
	
	if( reVal != null ){
		if(reVal.getColumn(0, "cd") != ""){
		    tab_resn.tp_resn1.edt_bank_cd.value = reVal.getColumn(0, "cd");
		    tab_resn.tp_resn1.edt_bank_nm.value = reVal.getColumn(0, "cd_nm");
		    gv_bank_nm = reVal.getColumn(0, "cd_nm");
		}
	}
}

// 실지급금계산기
function fn_payInc()	
{		 	
	var resnAmt = String(edt_resn_amt.value).replace(",","").replace(",","");
	var rcAmt = String(tab_resn.tp_resn1.edt_ready_cash.value).replace(",","").replace(",","");
	var vipAmt = String(tab_resn.tp_resn1.edt_vip_resnAmt.value).replace(",","").replace(",","");
	tab_resn.tp_resn1.edt_resn_pay_amt.value = gfn_setComma(resnAmt*1 - (rcAmt *1 + vipAmt*1));	
}

// 환급방법 선택 시 환급금 재계산 
function cbo_onitemchanged(obj:Combo, e:ItemChangeEventInfo)
{
	switch(obj.name){
		case "cbo_resn_cl" :			
			trace(e.postvalue);
			if(e.postvalue == "03"){
				tab_resn.tp_resn1.chk_a.visible = true;			
			} else {
				tab_resn.tp_resn1.chk_a.visible = false;		
			}				
		break;
		
		case "cbo_calc_mthd" :
			var resnAmt = String(edt_resn_amt.value).replace(",","").replace(",","");
			var resnCl = ds_resn_info.getColumn(0,"resn_cl");
			
			tab_resn.tp_resn1.stc_under.visible = false;
			tab_resn.tp_resn1.btn_req_canc.visible = false;						
			switch(e.postvalue){
				case "0001" : 
					if(resnAmt > 0){
						fn_srchReadyCashAmt();			
					} else {
						tab_resn.tp_resn1.edt_resn_pay_amt.value = 0;
					}				
				break;
				case "0002" :
					tab_resn.tp_resn1.stc_under.visible = true;
					tab_resn.tp_resn1.btn_req_canc.visible = true;
				break;
				case "0004" :
					tab_resn.tp_resn1.edt_resn_pay_amt.value = 0;
					tab_resn.tp_resn1.edt_resn_pay_amt.enable = false;
					tab_resn.tp_resn1.btn_mallUseAmt.enable = false;
					tab_resn.tp_resn1.btn_realAmt.enable = false;
					tab_resn.tp_resn1.btn_tsConfirm.enable = false;
				break;		
			}	
		break;	
	}

}

// 컴퍼넌트 세팅 작업 
function fn_Component_Setting(gbn1, gbn2)	
{
	var CalMthd = tab_resn.tp_resn1.cbo_calc_mthd.value;	
	
	switch(gbn1){
		//컴퍼넌트 전체 손대지 못하게 처리
		case "NONE" :
			btn_save.enable = false;
			btn_resn_canc.enable = false;
			tab_resn.tp_resn1.btn_mallUseAmt.enable = false;
			tab_resn.tp_resn1.btn_realAmt.enable = false;
			tab_resn.tp_resn1.btn_tsConfirm.enable = false;
			chk_ReqProcYn.visible =false;
			tab_resn.tp_resn1.chk_a.visible = false;		
			tab_resn.tp_resn1.chk_b.enable = false;		
			
			if(gbn2 == "PROC"){				
				chk_ReqProcYn.visible = true;
				chk_ReqProcYn.enable = false;
				if(gv_resnAthr) {
					btn_resn_canc.enable = true;
				}
			}
		break;
		
		//신규 등록 만기X
		case "NEW" :	
			var sToday = gfn_getToday();
			var sMemNm = ds_accnt_info.getColumn(0, "mem_nm");
			var sBrthDay = ds_accnt_info.getColumn(0, "brth_mon_day");
		
			ds_resn_info.addRow();
			btn_save.enable = true;
			btn_resn_canc.enable = false;
			cbo_resn_cl.value = "03";	//무환급해약
			tab_resn.tp_resn1.cbo_calc_mthd.value = "0004";
			tab_resn.tp_resn1.chk_a.visible = true;		
			tab_resn.tp_resn1.chk_a.enable = true;		
			cbo_reltn.value = "20"		//관계 : 본인
			edt_resn_man.value = sMemNm;			
			edt_id_no.value = sBrthDay;
			tab_resn.tp_resn1.chk_b.enable = true;			
								
			cal_resn_acpt_day.value = sToday;	// 해약접수일							
			if (gbn2 == "NOR"){							
				cbo_acpt_mthd.value = "06";
			} else {
				cbo_acpt_mthd.value = "05";
			}			
		break;
				
		case "NOR" :
			if(gv_resnAthr) {
				btn_resn_canc.enable = true;
			}
			if(tab_resn.tp_resn1.chk_b.value == "Y"){
				chk_ReqProcYn.visible = true;
			}
		break;			
	}
	
	switch(CalMthd){
		case "0001" :
		break;
		case "0002" :
			tab_resn.tp_resn1.stc_under.visible = true;
			tab_resn.tp_resn1.btn_req_canc.visible = true;
		break;
		case "0004" :
			tab_resn.tp_resn1.edt_resn_pay_amt.value = 0;
			tab_resn.tp_resn1.btn_mallUseAmt.enable = false;
			tab_resn.tp_resn1.btn_realAmt.enable = false;
			tab_resn.tp_resn1.btn_tsConfirm.enable = false;
		break;
	}
		
	
}

// 청구 매입 취소
function fn_srchResnReq()
{
	var sPrmr = {"p_accnt_no":gv_accnt_no};
	gfn_diaLog("환불청구삭제", -1, -1, 884, 601, "DL440000::DL440900P02.xfdl", false, sPrmr, true, false, true, null, null, true);
}

// 회원 상담 이력
function fn_srchMemHistory()
{
	var strMemNo = ds_accnt_info.getColumn(0,"mem_no");
	var oParams = { pMemNo : strMemNo, pDsListCons : ds_accnt_info };
	var reVal = gfn_diaLog("파일조회", -1, -1, -1, -1, "DL500000::DL50000103P04.xfdl", true, oParams, false, false, true);
}

//해약정보 변경 관련 
function fn_changedColumn(){	
	var asisData = "";
	var tobeData = "";
	var returnVal = false;
	var arrText = "해약정보수정\n";
	for(var i=0; i<ds_resn_info.colcount; i++){
		asisData = ds_resn_info.getOrgColumn(0,i);	
		tobeData = ds_resn_info.getColumn(0,i);		
		if(asisData == undefined) asisData = "";
		if(tobeData == undefined) tobeData = "";	
			
		if(asisData != tobeData){
			chgColNm = fn_changeColumnNm(ds_resn_info.getColID(i));
			arrText = arrText + chgColNm + " : " + asisData + " >> " + tobeData + "\n";				
			returnVal = true;			
		} 		
	}	
	//변경된 컬럼 정보 global var
	var gv_updData = arrText;
	
	ds_resn_info.setColumn(0,"logdata",gv_updData);
		
	return returnVal;
}

//필드명 강제 변경 
function fn_changeColumnNm(colId){
	var strChangNm = "AAA";
	switch(colId){
		case "resn_man" :
			strChangNm = "해약자";
		break;
		case "chk_b" :
			strChangNm = "해약신청서";
		break;
		case "resn_acpt_day" :
			strChangNm = "해약접수일";
		break;
		case "resn_proc_day" :
			strChangNm = "해약완료일";
		break;
		case "reltn" :
			strChangNm = "관계";
		break;
		case "tel_no" :
			strChangNm = "전화번호";
		break;
		case "idn_no" :
			strChangNm = "생년월일";
		break;
		case "acpt_mthd" :
			strChangNm = "접수방법";
		break;
		case "reson" :
			strChangNm = "고객사유";
		break;	
		case "note" :
			strChangNm = "비고";
		break;
		case "calc_mthd" :
			strChangNm = "환급금정산";
		break;
		case "shopping_use_amt" :
			strChangNm = "레디캐시사용액";
		break;
		case "resn_pay_amt" :
			strChangNm = "실지급금";
		break;	
		case "reson" :
			strChangNm = "고객사유";
		break;	
		case "bank_cd" :
			strChangNm = "은행코드";
		break;
		case "bank_nm" :
			strChangNm = "은행명";
		break;
		case "depr" :
			strChangNm = "예금주";
		break;
		case "bank_accnt_no" :
			strChangNm = "계좌번호";
		break;	
		case "resn_proc_yn" :
			strChangNm = "해약완료";
		break;																				
	}
	return strChangNm;
}

function tab_resn_tp_resn1_chk_b_onclick(obj:CheckBox,  e:ClickEventInfo)
{
	if(obj.value == "Y"){
		chk_ReqProcYn.visible = true;
	} else {
		chk_ReqProcYn.visible = false;
	}	
}

function chk_ReqProcYn_onclick(obj:CheckBox,  e:ClickEventInfo)
{
	var ResnYn = ds_accnt_info.getColumn(0,"resn_cl");
	var resnAmt = String(edt_resn_amt.value).replace(",","").replace(",","");
	var calVal = tab_resn.tp_resn1.cbo_calc_mthd.value;
	var resnCl = cbo_resn_cl.value;
	var resnPayamt = tab_resn.tp_resn1.edt_resn_pay_amt.value;
	var	bankinfo1 =  tab_resn.tp_resn1.edt_bank_cd.value;
	var	bankinfo2 = tab_resn.tp_resn1.edt_depr.value;
	var	bankinfo3 = tab_resn.tp_resn1.edt_bank_accnt_no.value;
	
	//최초 해약 등록 시 바로 완료 못하도록 확인
	if(ResnYn =="00"){
		alert("최초등록에는 완료처리를 할수 없습니다.(일단저장).");
		chk_ReqProcYn.value = "N";
		return;
	}
	
	//환급금 정산 선택을 무조건 해야함 
	if(gfn_isNull(calVal)){				
		alert("환급금 정산을 선택하시기 바랍니다.");
		chk_ReqProcYn.value = "N";
		return;
	}
	
	if(obj.value == "Y"){
		//해약환급금이 있을때 		
		if(resnAmt > 0) {
			if(calVal == "0001" || calVal == "0003"){	
				if(resnPayamt <= 0){

					trace(resnPayamt);
					alert("실지급금 정보를 확인하시기 바랍니다.");
					chk_ReqProcYn.value = "N";
					return;
				}
				if(gfn_isNull(bankinfo1)||gfn_isNull(bankinfo2)||gfn_isNull(bankinfo3)){
					alert("환급 계좌 정보를 입력하시기 바랍니다.");
					chk_ReqProcYn.value = "N";
					return;
				}
			}			

			if (resnCl == "03"){
				alert("해약 환급금이 있는 회원인데 무환급해약으로 등록(확인요)");
				chk_ReqProcYn.value = "N";
				return;
			} 
		}						
	} else {
		
	}
}

function tab_resn_onlbuttonup(obj:Tab, e:TabMouseEventInfo)
{
	if(e.index == 1){
		fn_srchResnReqInfo();
	}	
}

//청구중회원 체크  
function fn_req_Check(){
	var boolChek  = false;
	var sDelFg = ds_accnt_info.getColumn(0,"req_del");	
	if(sDelFg == "N")	{
		alert("현재 금액 산출이 되어있는  회원입니다. 산출 삭제후 등록 가능합니다.");
		boolChek = false;
	}
	else if(sDelFg == "R")	{
		if (confirm("현재 금액 청구가 진행중인 회원입니다. 그래도 저장하시겠습니까?")) {
			boolChek =true;
		}
	} else {
		boolChek = true;
	}	
	return boolChek;
}

// 권한에 따른 버튼 설정
function fn_setAthrPgmBtn()
{
	/******************************************************************
	 2017.08.01 김준호 해약취소권한 요청 - 컨텍센터/이인호
	 정명진 (2016120003), 김나경 (2016080011), 이지혜 (2017060008)
	 이인호 (2016120004), 서경미 (2017060007)  권한 부여
	 2017.08.28 김경욱 테스트 / 진민희 추가
	 2019.05.29 김찬영, 정명진, 김나경 삭제 / 송준빈이름 주석 추가 / 김소연 추가
	 2019.07.08 변희정, 노지혜, 나지식, 김주연 추가 / 서경미, 김소연 주석처리
	 2019.08.01 김수미 추가
	 2019.12.17 우옥두 추가
	 2020.02.28 김효재 추가
	 2020.03.06 최영은 추가
	 2020.03.06 양윤희 추가
	 2020.05.07 이준수 추가
	 2021.01.11 김진아 추가
	 2021.02.02 서인정 추가
	 2021.02.03 이인호, 진민희, 노지혜, 김주연, 구예나 퇴사자 주석처리
	 2021.05.10 이지혜, 변희정 주석처리 / 이채아 추가
	 2021.08.02 이진주 추가
	 2021.09.09 이해영 추가
	 2021.10.18 김주영 추가
	 2021.11.01 김도형 추가
	 2022.01.24 김나라 추가
	 2022.01.24 김유리 추가
	 2022.02.08 김수미 주석처리
	 2022.02.16 김혜자 추가
	 2022.02.16 정종욱 추가
	 2022.03.07 김보선 추가
	 2022.04.07 안지애 추가
	******************************************************************/		
	var fv_emple_no = gfn_getUserInfo("user_id");
	if (fv_emple_no == '2016110099'  // 김경욱 메니저
		|| fv_emple_no == '2017080003' // 김주용
		|| fv_emple_no == '2016112400' // 김경욱테스트
		|| fv_emple_no == '2017080004' // 송준빈
		|| fv_emple_no == '2017110016' // 나지식			
		|| fv_emple_no == '2017120011' // 우옥두
		|| fv_emple_no == '2020020038' // 김효재
		|| fv_emple_no == '2015040053' // 최영은
		|| fv_emple_no == '2016030008' // 양윤희
		|| fv_emple_no == '2020040014' // 이준수
		|| fv_emple_no == '2020110007' // 김진아
		|| fv_emple_no == '2021010012' // 서인정
		|| fv_emple_no == '2020070003' // 이채아
		|| fv_emple_no == '2021070027' // 이진주
		|| fv_emple_no == '2020020016' // 이해영
		|| fv_emple_no == '2021100013' // 김주영
		|| fv_emple_no == '2021100009' // 김도형
		|| fv_emple_no == '2022010017' // 김나라
		|| fv_emple_no == '2022010018' // 김유리
		|| fv_emple_no == '2019120007' // 김혜자
		|| fv_emple_no == '2021120014' // 정종욱
		|| fv_emple_no == '2022030028' // 김보선
		|| fv_emple_no == '2020020011' // 안지애
		|| fv_emple_no == '2020020037' // 김형우
		)
	{   
		gv_resnAthr = true;	// 해약처리버튼권한
	}
}]]></Script>
  </Form>
</FDL>
