<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.4">
  <TypeDefinition url="..\default_typedef.xml"/>
  <Form id="Comm_UserInfoChng" classname="Comm_UserInfoChng" inheritanceid="" position="absolute 0 0 610 285" titletext="개인정보변경팝업" onload="Comm_UserInfoChng_onload">
    <Layouts>
      <Layout>
        <Static id="stc_86" class="sta_popupBg1" enable="false" position="absolute 0 0 600 274"/>
        <Static id="stc_83" text="개인정보변경" class="sta_popupTitle" transparenthittest="true" position="absolute 10 8 185 28"/>
        <Button id="btn_Close" taborder="1" class="btn_popupClose" position="absolute 575 8 595 27" onclick="btn_Close_onclick"/>
        <Button id="btn_Close26" taborder="1" text="저장" position="absolute 520 45 589 65"/>
        <Static id="stc_84" text="회사" class="sta_workLabel1" position="absolute 11 68 146 94"/>
        <Static id="stc_85" class="sta_workData" position="absolute 145 68 301 94"/>
        <Static id="stc_87" class="sta_workData" position="absolute 433 68 589 94"/>
        <Static id="stc_88" text="부서" class="sta_workLabel1" position="absolute 299 68 434 94"/>
        <Static id="stc_89" text="이름" class="sta_workLabel1" position="absolute 11 93 146 119"/>
        <Static id="stc_90" class="sta_workData" position="absolute 145 93 301 119"/>
        <Static id="stc_91" class="sta_workData" position="absolute 433 93 589 119"/>
        <Static id="stc_92" text="직위" class="sta_workLabel1" position="absolute 299 93 434 119"/>
        <Static id="stc_93" text="이메일" class="sta_workLabel1" position="absolute 11 118 146 144"/>
        <Static id="stc_94" class="sta_workData" position="absolute 145 118 301 144"/>
        <Static id="stc_95" class="sta_workData" position="absolute 433 118 589 144"/>
        <Static id="stc_96" text="휴대전화번호" class="sta_workLabel1" position="absolute 299 118 434 144"/>
        <Static id="stc_97" text="사무실 전화번호" class="sta_workLabel1" position="absolute 11 143 146 169"/>
        <Static id="stc_98" class="sta_workData" position="absolute 145 143 300 169"/>
        <Static id="stc_99" class="sta_workData" position="absolute 433 143 589 169"/>
        <Static id="stc_100" text="사무실팩스번호" class="sta_workLabel1" position="absolute 299 143 434 169"/>
        <Static id="stc_101" text="회사주소" class="sta_workLabel1" position="absolute 11 168 146 216" style="align:left top;"/>
        <Static id="stc_102" class="sta_workData" position="absolute 153 168 589 216"/>
        <Button id="btn_01" taborder="1" class="btn_workSrcPop" position="absolute 220 171 240 191" onclick="btn_zipcode_onclick"/>
        <Edit id="compBasiAddr_input" taborder="1" enable="false" position="absolute 243 171 586 191"/>
        <Edit id="compDtptAddr_input" taborder="1" position="absolute 148 193 586 213"/>
        <Static id="stc_103" text="업무소개" class="sta_workLabel1" position="absolute 11 215 146 263" style="align:left top;"/>
        <Static id="stc_104" class="sta_workData" position="absolute 145 215 589 263"/>
        <Edit id="Edit05" taborder="1" value="(주)교원" readonly="true" position="absolute 148 71 289 91"/>
        <Edit id="userNm_div" taborder="1" readonly="true" position="absolute 148 96 289 116"/>
        <Edit id="userEmilAddr_div" taborder="1" readonly="true" position="absolute 148 121 297 141" style="font:Dotum,8;"/>
        <Edit id="jbttCd_div" taborder="1" readonly="true" position="absolute 436 96 578 116"/>
        <Edit id="blngBrncNm_div" taborder="1" readonly="true" position="absolute 436 71 578 91"/>
        <TextArea id="bswrInrdCntn_input" taborder="1" position="absolute 148 218 586 260"/>
        <Static id="stc_158" text="-" position="absolute 228 146 243 166" style="align:center;"/>
        <Edit id="edt_11" taborder="1" value="1234" position="absolute 243 146 278 166"/>
        <Edit id="edt_12" taborder="1" value="1234" position="absolute 193 146 228 166"/>
        <Static id="stc_160" text="-" position="absolute 178 146 193 166" style="align:center;"/>
        <Edit id="edt_13" taborder="1" value="123" position="absolute 148 146 178 166"/>
        <Edit id="edt_14" taborder="1" value="1234" position="absolute 531 146 566 166"/>
        <Static id="stc_161" text="-" position="absolute 516 146 531 166" style="align:center;"/>
        <Edit id="edt_15" taborder="1" value="1234" position="absolute 481 146 516 166"/>
        <Static id="stc_162" text="-" position="absolute 466 146 481 166" style="align:center;"/>
        <Edit id="edt_17" taborder="1" value="123" position="absolute 436 146 466 166"/>
        <Static id="sta_OrangeLine02" class="sta_WF_Line1" position="absolute 11 68 589 69"/>
        <Edit id="edt_18" taborder="1" value="123" position="absolute 436 121 466 141"/>
        <Static id="stc_163" text="-" position="absolute 466 121 481 141" style="align:center;"/>
        <Edit id="edt_19" taborder="1" value="1234" position="absolute 481 121 516 141"/>
        <Static id="stc_164" text="-" position="absolute 516 121 531 141" style="align:center;"/>
        <Edit id="edt_20" taborder="1" value="1234" position="absolute 531 121 566 141"/>
        <Static id="stc_02" text="개인정보" class="sta_workTitle2" position="absolute 12 48 146 68"/>
        <Edit id="compRgnZpcd_input" taborder="1" position="absolute 148 171 178 191"/>
        <Static id="stc_00" text="-" position="absolute 176 171 191 191" style="align:center;"/>
        <Edit id="compDtptZpcd_input" taborder="1" position="absolute 190 171 220 191"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_input" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="userId" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_list" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="userId" type="STRING" size="256"/>
          <Column id="userNm" type="STRING" size="256"/>
          <Column id="userEmilAddr" type="STRING" size="256"/>
          <Column id="compBasiAddr" type="STRING" size="256"/>
          <Column id="compDtptAddr" type="STRING" size="256"/>
          <Column id="compRgnZpcd" type="STRING" size="256"/>
          <Column id="compDtptZpcd" type="STRING" size="256"/>
          <Column id="ofieFaxTlno" type="STRING" size="256"/>
          <Column id="ofieTlno" type="STRING" size="256"/>
          <Column id="prtbTlno" type="STRING" size="256"/>
          <Column id="dtrsCd" type="STRING" size="256"/>
          <Column id="jbttCd" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_jbttCd" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="title" type="STRING" size="256"/>
          <Column id="value" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="title">TA10</Col>
            <Col id="value">회장</Col>
          </Row>
          <Row>
            <Col id="title">TA20</Col>
            <Col id="value">부회장</Col>
          </Row>
          <Row>
            <Col id="title">TA30</Col>
            <Col id="value">사장</Col>
          </Row>
          <Row>
            <Col id="title">TA40</Col>
            <Col id="value">부사장</Col>
          </Row>
          <Row>
            <Col id="title">TA50</Col>
            <Col id="value">전무</Col>
          </Row>
          <Row>
            <Col id="title">TA60</Col>
            <Col id="value">상무</Col>
          </Row>
          <Row>
            <Col id="title">TA80</Col>
            <Col id="value">이사</Col>
          </Row>
          <Row>
            <Col id="title">TB10</Col>
            <Col id="value">부장</Col>
          </Row>
          <Row>
            <Col id="title">TC20</Col>
            <Col id="value">차장</Col>
          </Row>
          <Row>
            <Col id="title">TD30</Col>
            <Col id="value">과장</Col>
          </Row>
          <Row>
            <Col id="title">TE40</Col>
            <Col id="value">대리</Col>
          </Row>
          <Row>
            <Col id="title">TF50</Col>
            <Col id="value">주임</Col>
          </Row>
          <Row>
            <Col id="title">TG70</Col>
            <Col id="value">사원</Col>
          </Row>
        </Rows>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item1" compid="jbttCd_div" propid="value" datasetid="ds_jbttCd" columnid="value"/>
    </Bind>
    <Script type="xscript4.0"><![CDATA[include "LIB::lib_All.xjs";

function Comm_UserInfoChng_onload(obj:Form, e:LoadEventInfo)
{
	fn_SearchUserAddr();
}

function fn_SearchUserAddr(){
	var rtn = gfn_getUserInfo();
	
	ds_list.clearData();
	ds_input.clearData();
	ds_input.addRow();	
	ds_input.setColumn(0, "userId", rtn.userId);

	gfn_kwDataInit();
	gfn_setKwData_nameSpace("com.kyowon.krp.sys.dc.querydc.DCStupSqlMap");
	gfn_setKwData_trscCode("SYS00010R05");
	gfn_setKwData_sqlId("getUserAddr");
	gfn_tranDIS(gfn_getCommTypeAppend() 
				, "ds_input=ds_input"
				, "ds_list=datas"
				, ""
				, false);
				
	blngBrncNm_div.value = rtn.blngBrncNm;			
	userNm_div.value = rtn.userNm;	
	jbttCd_div.value = rtn.jbttCd;
	userEmilAddr_div.value = ds_list.getColumn(0, "userEmilAddr");
	
				
}

function btn_Close_onclick(obj:Button,  e:ClickEventInfo)
{
	close();
}

function btn_zipcode_onclick(obj:Button,  e:ClickEventInfo)
{
	var rtrnVal = gfn_diaLog("CMM00001001", -1, -1, 611, 439, "CMM::CMM00001001.xfdl", false, null, false, false, true);
	
	if( rtrnVal == null ){
		trace("정보가 null 입니다.");
	}else{
		trace(rtrnVal.saveXML());
		compRgnZpcd_input.value = rtrnVal.getColumn(0, "rgnZpcd");
		compDtptZpcd_input.value = rtrnVal.getColumn(0, "dtptZpcd");
		compBasiAddr_input.value = rtrnVal.getColumn(0, "admnAddr");
	}
}
]]></Script>
  </Form>
</FDL>
