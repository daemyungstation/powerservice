<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\default_typedef.xml"/>
  <Form id="PS071000" classname="캠페인관리" inheritanceid="" position="absolute 0 0 989 795" titletext="즐겨찾기관리" scrollbars="none" onload="PS071000_onload">
    <Layouts>
      <Layout>
        <Grid id="grd_bkmkInfoList" taborder="8" useinputpanel="false" position2="absolute l:1 r:0 t:108px b:150" positiontype="position2" binddataset="ds_bkmkInfoList" autofittype="col" onheadclick="grd_onheadclick" oncellclick="grd_oncellclick" visible="true" onvscrolllastover="grd_onvscrolllastover">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="46"/>
                <Column size="86"/>
                <Column size="110"/>
                <Column size="110"/>
                <Column size="110"/>
                <Column size="110"/>
                <Column size="251"/>
                <Column size="100"/>
                <Column size="100"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="NO"/>
                <Cell col="1" text="팀1" id="team1_nm"/>
                <Cell col="2" text="팀2" id="team2_nm"/>
                <Cell col="3" text="상담사" id="user_nm"/>
                <Cell col="4" text="표시구분" id="bkmk_div_cd"/>
                <Cell col="5" text="표시이름" id="bkmk_nm"/>
                <Cell col="6" text="URL" id="bkmk_addr"/>
                <Cell col="7" text="순서" id="expe_sqnc"/>
                <Cell col="8" text="사용여부" id="use_yn"/>
              </Band>
              <Band id="body">
                <Cell text="expr:currow+1"/>
                <Cell col="1" text="bind:team1_nm" expr="team1_nm == null ? '전체' : team1_nm"/>
                <Cell col="2" text="bind:team2_nm" expr="team2_nm==null ? '전체' :team2_nm"/>
                <Cell col="3" text="bind:user_nm" expr="user_nm == null ? '전체' : user_nm"/>
                <Cell col="4" text="bind:bkmk_div_nm"/>
                <Cell col="5" style="align:left;" text="bind:bkmk_nm"/>
                <Cell col="6" style="align:left;" text="bind:bkmk_addr"/>
                <Cell col="7" text="bind:expe_sqnc"/>
                <Cell col="8" text="bind:use_yn" expr="use_yn == 'Y' ? &quot;사용&quot; : &quot;미사용&quot;"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="stc_01" class="sta_workSrcBg" position2="absolute l:0 r:0 t:7px h:66" positiontype="position2"/>
        <Static id="stc_17" text="표시구분" class="sta_workSrcLabel1" position="absolute 20 18 95 38"/>
        <Static id="stc_24" text="상담그룹" class="sta_workSrcLabel1" position="absolute 20 42 82 62"/>
        <Button id="btn_search" taborder="6" onclick="btn_onclick" class="btn_WF_Search" tooltiptext="조회" style="padding:0 0 0 0;shadow:drop 0,0 0 transparent;" position2="absolute r:95 w:72 t:42px h:20" positiontype="position2"/>
        <Button id="btn_init" taborder="7" onclick="btn_onclick" class="btn_WF_Return" tooltiptext="초기화" style="padding:0 0 0 0;" position2="absolute r:21 w:72 t:42px h:20" positiontype="position2"/>
        <Static id="stc_07" text="상담사" class="sta_workSrcLabel1" position="absolute 379 42 441 62"/>
        <Combo id="cbo_teamCd1" taborder="3" position="absolute 85 42 198 62" class="cbo_srch" innerdataset="@ds_teamCd1" codecolumn="team_cd" datacolumn="team_nm" onitemchanged="combo_onitemchanged" onkeydown="cbo_onkeydown"/>
        <Combo id="cbo_userCd" taborder="5" position="absolute 443 42 623 62" class="cbo_srch" displaynulltext="전체" enable="false" innerdataset="@ds_userCd1" codecolumn="user_id" datacolumn="user_nm" onkeydown="cbo_onkeydown" displayrowcount="10"/>
        <Combo id="cbo_bkmkDivCd" taborder="0" position="absolute 85 18 198 38" class="cbo_srch" innerdataset="@ds_bkmkDivCd" codecolumn="cd" datacolumn="cd_nm" onkeydown="cbo_onkeydown"/>
        <Combo id="cbo_teamCd2" taborder="4" position="absolute 199 42 359 62" class="cbo_srch" innerdataset="@ds_teamCd2" codecolumn="team_cd" datacolumn="team_nm" enable="false" displaynulltext="전체" onitemchanged="combo_onitemchanged" onkeydown="cbo_onkeydown"/>
        <Static id="stc_00" text="사용여부" class="sta_workSrcLabel1" position="absolute 218 18 280 38"/>
        <Combo id="cbo_useYn" taborder="1" position="absolute 282 18 359 38" codecolumn="codecolumn" datacolumn="datacolumn" index="0" text="전체" class="cbo_srch" onkeydown="cbo_onkeydown">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn"/>
                <Col id="datacolumn">전체</Col>
              </Row>
              <Row>
                <Col id="codecolumn">Y</Col>
                <Col id="datacolumn">사용</Col>
              </Row>
              <Row>
                <Col id="codecolumn">N</Col>
                <Col id="datacolumn">사용안함</Col>
              </Row>
            </Rows>
          </Dataset>
        </Combo>
        <Static id="stc_02" text="표시이름" class="sta_workSrcLabel1" position="absolute 379 18 454 38"/>
        <Edit id="edt_bkmkNm" taborder="2" position="absolute 443 18 623 38" class="edt_srch" onkeydown="edt_onkeydown" imemode="hangul"/>
        <Static id="stc_04" class="sta_workData" position2="absolute l:95 w:371 b:59 h:26" positiontype="position2"/>
        <Static id="stc_16" text="URL" class="sta_workLabel1_P" validate="" position2="absolute l:0 w:96 b:34 h:26" positiontype="position2"/>
        <Static id="stc_10" class="sta_workData" position2="absolute l:95 r:0 b:34 h:26" positiontype="position2"/>
        <Static id="stc_20" text="상담그룹1" class="sta_workLabel1" validate="" position2="absolute l:0 w:96 b:84 h:26" positiontype="position2"/>
        <Static id="stc_21" class="sta_workData" position2="absolute l:95 r:0 b:84 h:26" positiontype="position2"/>
        <Static id="sta_GrayLine" class="sta_WF_Line1" position2="absolute l:0 r:0 b:110 h:1" positiontype="position2"/>
        <Static id="stc_25" text="즐겨찾기 상세정보" class="sta_workTitle2" position2="absolute l:0 w:297 b:111 h:20" positiontype="position2"/>
        <Static id="stc_13" text="표시구분" class="sta_workLabel1_P" validate="" position2="absolute l:720 w:96 b:84 h:26" positiontype="position2"/>
        <Static id="stc_18" text="등록자" class="sta_workLabel1" validate="" position2="absolute l:0 w:96 b:9 h:26" positiontype="position2"/>
        <Static id="stc_19" class="sta_workData" position2="absolute l:95 r:0 b:9 h:26" positiontype="position2"/>
        <Static id="stc_22" text="등록일시" class="sta_workLabel1" validate="" position2="absolute l:233 w:96 b:9 h:26" positiontype="position2"/>
        <Static id="stc_23" text="수정자" class="sta_workLabel1" validate="" position2="absolute l:456 w:96 b:9 h:26" positiontype="position2"/>
        <Static id="stc_26" text="수정일시" class="sta_workLabel1" validate="" position2="absolute l:720 w:96 b:9 h:26" positiontype="position2"/>
        <Edit id="edt_bkmkAddrEdit" taborder="21" position2="absolute l:98 w:818 b:37 h:20" positiontype="position2" class="edt_edit" readonly="true"/>
        <Button id="btn_preView" taborder="22" text="미리보기" style="padding:0 0 0 0;" position2="absolute l:918 w:69 b:37 h:20" positiontype="position2" onclick="btn_onclick"/>
        <Static id="stc_09" text="상담그룹2" class="sta_workLabel1" validate="" position2="absolute l:233 w:96 b:84 h:26" positiontype="position2"/>
        <Static id="stc_12" text="표시이름" class="sta_workLabel1_P" validate="" position2="absolute l:0 w:96 b:59 h:26" positiontype="position2"/>
        <Edit id="edt_bkmkNmEdit" taborder="18" position2="absolute l:98 w:356 b:62 h:20" positiontype="position2" class="edt_edit" readonly="true"/>
        <Combo id="cbo_detailTeam1Cd" taborder="14" innerdataset="@ds_teamCd1Edit" codecolumn="team_cd" datacolumn="team_nm" position2="absolute l:98 w:133 b:86 h:22" positiontype="position2" class="cbo_edit" displaynulltext="전체" onitemchanged="combo_onitemchanged" readonly="true"/>
        <Combo id="cbo_detailTeam2Cd" taborder="15" innerdataset="@ds_teamCd2Edit" codecolumn="team_cd" datacolumn="team_nm" position2="absolute l:330 w:125 b:86 h:22" positiontype="position2" class="cbo_edit" index="-1" displaynulltext="전체" onitemchanged="combo_onitemchanged" readonly="true"/>
        <Static id="stc_05" text="사용여부" class="sta_workLabel1" validate="" position2="absolute l:456 w:96 b:59 h:26" positiontype="position2"/>
        <Static id="stc_06" class="sta_workData" position2="absolute l:551 r:0 b:59 h:26" positiontype="position2"/>
        <Combo id="cbo_bkmkDivCdEdit" taborder="17" innerdataset="@ds_bkmkDivCdEdit" codecolumn="cd" datacolumn="cd_nm" position2="absolute l:817 r:2 b:86 h:22" positiontype="position2" class="cbo_edti" readonly="true" onitemchanged="combo_onitemchanged"/>
        <Combo id="cbo_expeSqnc" taborder="20" innerdataset="@ds_orderList" codecolumn="id" datacolumn="name" position2="absolute l:817 r:2 b:61 h:22" positiontype="position2" readonly="true" class="cbo_edit"/>
        <Radio id="rdo_useYn" taborder="19" columncount="0" rowcount="0" codecolumn="codecolumn" datacolumn="datacolumn" direction="vertical" onitemclick="Radio00_onitemclick" position2="absolute l:554 w:143 b:59 h:26" positiontype="position2" class="rdo_edit" readonly="true">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn">Y</Col>
                <Col id="datacolumn">사용</Col>
              </Row>
              <Row>
                <Col id="codecolumn">N</Col>
                <Col id="datacolumn">미사용</Col>
              </Row>
            </Rows>
          </Dataset>
        </Radio>
        <Edit id="edt_rgsrNm" taborder="23" readonly="true" class="edt_edit" position2="absolute l:98 w:133 b:12 h:20" positiontype="position2"/>
        <Edit id="edt_amndNm" taborder="25" readonly="true" class="edt_edit" position2="absolute l:553 w:166 b:12 h:20" positiontype="position2"/>
        <Static id="sta_TotalCnt" text="검색결과   &lt;fs v='9'&gt;&lt;fc v='#f0850c'&gt;&lt;b v='true'&gt;0&lt;/b&gt;&lt;/fc&gt;&lt;/fs&gt; &lt;fc v='#a1a1a1'&gt;건&lt;/fc&gt; / 전체   &lt;fs v='9'&gt;&lt;fc v='#f0850c'&gt;&lt;b v='true'&gt;0&lt;/b&gt;&lt;/fc&gt;&lt;/fs&gt; &lt;fc v='#a1a1a1'&gt;건&lt;/fc&gt;" usedecorate="true" class="sta_workTitle5" position="absolute 2 88 218 108"/>
        <Static id="stc_27" text="순서" class="sta_workLabel1_P" validate="" position2="absolute l:720 w:96 b:59 h:26" positiontype="position2"/>
        <Static id="stc_03" text="상담사" class="sta_workLabel1" position2="absolute l:456 w:96 b:84 h:26" positiontype="position2" validate=""/>
        <Combo id="cbo_detailUserCd" taborder="16" innerdataset="@ds_userCd1Edit" codecolumn="user_id" datacolumn="user_nm" position2="absolute l:553 w:166 b:86 h:22" positiontype="position2" class="cbo_edit" readonly="true" displaynulltext="전체"/>
        <Edit id="edt_rgsnDttm" taborder="24" readonly="true" class="edt_edit" position2="absolute l:330 w:125 b:13 h:20" positiontype="position2"/>
        <Edit id="edt_amntDttm" taborder="26" readonly="true" class="edt_edit" position2="absolute l:817 r:3 b:13 h:20" positiontype="position2"/>
        <Button id="btn_create" taborder="9" onclick="btn_onclick" class="btn_WF_New" position2="absolute r:148 w:72 b:114 h:20" positiontype="position2" tooltiptext="신규" style="padding:0 0 0 0;"/>
        <Button id="btn_update" taborder="10" onclick="btn_onclick" class="btn_WF_Modif" position2="absolute r:74 w:72 b:114 h:20" positiontype="position2" tooltiptext="수정" style="padding:0 0 0 0;"/>
        <Button id="btn_delete" taborder="11" onclick="btn_onclick" class="btn_WF_Del" position2="absolute r:0 w:72 b:114 h:20" positiontype="position2" tooltiptext="삭제" style="padding:0 0 0 0;"/>
        <Button id="btn_save" taborder="12" onclick="btn_onclick" class="btn_WF_Save" position2="absolute r:-94 w:72 b:114 h:20" positiontype="position2" tooltiptext="신규" style="padding:0 0 0 0;"/>
        <Button id="btn_cancel" taborder="13" text="취소" onclick="btn_onclick" class="btn_Cancel" position2="absolute r:-168 w:72 b:114 h:20" positiontype="position2" tooltiptext="취소" style="padding:0 0 0 0;"/>
      </Layout>
    </Layouts>
    <Bind>
      <BindItem id="item0" compid="edt_rgsrNm" propid="value" datasetid="ds_bkmkInfoView" columnid="rgsr_nm"/>
      <BindItem id="item2" compid="edt_amndNm" propid="value" datasetid="ds_bkmkInfoView" columnid="amnd_nm"/>
      <BindItem id="item4" compid="cbo_detailTeam1Cd" propid="value" datasetid="ds_bkmkInfoView" columnid="team1_cd"/>
      <BindItem id="item5" compid="cbo_detailTeam2Cd" propid="value" datasetid="ds_bkmkInfoView" columnid="team2_cd"/>
      <BindItem id="item6" compid="cbo_detailUserCd" propid="value" datasetid="ds_bkmkInfoView" columnid="user_id"/>
      <BindItem id="item9" compid="edt_bkmkAddrEdit" propid="value" datasetid="ds_bkmkInfoView" columnid="bkmk_addr"/>
      <BindItem id="item7" compid="edt_bkmkNmEdit" propid="value" datasetid="ds_bkmkInfoView" columnid="bkmk_nm"/>
      <BindItem id="item8" compid="cbo_bkmkDivCdEdit" propid="value" datasetid="ds_bkmkInfoView" columnid="bkmk_div_cd"/>
      <BindItem id="item1" compid="rdo_useYn" propid="value" datasetid="ds_bkmkInfoView" columnid="use_yn"/>
      <BindItem id="item3" compid="cbo_expeSqnc" propid="value" datasetid="ds_bkmkInfoView" columnid="expe_sqnc"/>
      <BindItem id="item10" compid="edt_rgsnDttm" propid="value" datasetid="ds_bkmkInfoView" columnid="rgsn_dttm"/>
      <BindItem id="item11" compid="edt_amntDttm" propid="value" datasetid="ds_bkmkInfoView" columnid="amnt_dttm"/>
    </Bind>
    <Objects>
      <Dataset id="ds_trans_info" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="strSvcID" type="STRING" size="256"/>
          <Column id="strURL" type="STRING" size="256"/>
          <Column id="strInDatasets" type="STRING" size="256"/>
          <Column id="strOutDatasets" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_inqCndt" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="team1_cd" type="STRING" size="256"/>
          <Column id="team2_cd" type="STRING" size="256"/>
          <Column id="bkmk_div_cd" type="STRING" size="256"/>
          <Column id="use_yn" type="STRING" size="256"/>
          <Column id="bkmk_nm" type="STRING" size="256"/>
          <Column id="user_id" type="STRING" size="256"/>
          <Column id="orderBy" type="STRING" size="256"/>
          <Column id="orderDirection" type="STRING" size="256"/>
          <Column id="sController" type="STRING" size="256"/>
          <Column id="dsName" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_bkmkInfoList" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_bkmkInfoList_onrowposchanged">
        <ColumnInfo>
          <Column id="_chk" type="INT" size="1"/>
          <Column id="xRowStatusType" type="STRING" size="1"/>
          <Column id="page_indx" type="STRING" size="256"/>
          <Column id="bkmk_id" type="STRING" size="256"/>
          <Column id="cntr_cd" type="STRING" size="256"/>
          <Column id="team1_cd" type="STRING" size="256"/>
          <Column id="team2_cd" type="STRING" size="256"/>
          <Column id="user_id" type="STRING" size="256"/>
          <Column id="expe_sqnc" type="STRING" size="256"/>
          <Column id="old_bkmkinfo_ord" type="STRING" size="256"/>
          <Column id="bkmk_div_cd" type="STRING" size="256"/>
          <Column id="bkmk_nm" type="STRING" size="256"/>
          <Column id="bkmk_addr" type="STRING" size="256"/>
          <Column id="scrn_widt_vl" type="STRING" size="256"/>
          <Column id="scrn_hght_vl" type="STRING" size="256"/>
          <Column id="use_yn" type="STRING" size="256"/>
          <Column id="rgsr_id" type="STRING" size="256"/>
          <Column id="rgsn_dttm" type="STRING" size="256"/>
          <Column id="amnd_id" type="STRING" size="256"/>
          <Column id="amnt_dttm" type="STRING" size="256"/>
          <Column id="team1_nm" type="STRING" size="256"/>
          <Column id="team2_nm" type="STRING" size="256"/>
          <Column id="user_nm" type="STRING" size="256"/>
          <Column id="bkmk_div_nm" type="STRING" size="256"/>
          <Column id="rgsr_nm" type="STRING" size="256"/>
          <Column id="amnd_nm" type="STRING" size="256"/>
          <Column id="dup_fg" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_bkmkDivCd" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="6"/>
          <Column id="cd_nm" type="STRING" size="100"/>
          <Column id="adtl_cd" type="STRING" size="100"/>
          <Column id="adtl_cd_nm" type="STRING" size="100"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_teamCd1" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="team_cd" type="STRING" size="6"/>
          <Column id="team_nm" type="STRING" size="50"/>
          <Column id="hgrn_team_cd" type="STRING" size="6"/>
          <Column id="cntr_cd" type="STRING" size="6"/>
          <Column id="team_lvl_cnt" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_teamCd2" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="team_cd" type="STRING" size="6"/>
          <Column id="team_nm" type="STRING" size="50"/>
          <Column id="hgrn_team_cd" type="STRING" size="6"/>
          <Column id="cntr_cd" type="STRING" size="6"/>
          <Column id="team_lvl_cnt" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_userCd1" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="user_id" type="STRING" size="256"/>
          <Column id="user_nm" type="STRING" size="256"/>
          <Column id="team_cd" type="STRING" size="256"/>
          <Column id="hgrn_team_cd" type="STRING" size="256"/>
          <Column id="athr_cd" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_list_tmp" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="false" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_rlvtIntt_onrowposchanged">
        <ColumnInfo>
          <Column id="_chk" type="INT" size="1"/>
          <Column id="xRowStatusType" type="STRING" size="1"/>
          <Column id="page_indx" type="STRING" size="256"/>
          <Column id="bkmk_id" type="STRING" size="256"/>
          <Column id="cntr_cd" type="STRING" size="256"/>
          <Column id="team1_cd" type="STRING" size="256"/>
          <Column id="team2_cd" type="STRING" size="256"/>
          <Column id="user_id" type="STRING" size="256"/>
          <Column id="expe_sqnc" type="STRING" size="256"/>
          <Column id="old_bkmkinfo_ord" type="STRING" size="256"/>
          <Column id="bkmk_div_cd" type="STRING" size="256"/>
          <Column id="bkmk_nm" type="STRING" size="256"/>
          <Column id="bkmk_addr" type="STRING" size="256"/>
          <Column id="scrn_widt_vl" type="STRING" size="256"/>
          <Column id="scrn_hght_vl" type="STRING" size="256"/>
          <Column id="use_yn" type="STRING" size="256"/>
          <Column id="rgsr_id" type="STRING" size="256"/>
          <Column id="rgsn_dttm" type="STRING" size="256"/>
          <Column id="amnd_id" type="STRING" size="256"/>
          <Column id="amnt_dttm" type="STRING" size="256"/>
          <Column id="team1_nm" type="STRING" size="256"/>
          <Column id="team2_nm" type="STRING" size="256"/>
          <Column id="user_nm" type="STRING" size="256"/>
          <Column id="bkmk_div_nm" type="STRING" size="256"/>
          <Column id="rgsr_nm" type="STRING" size="256"/>
          <Column id="amnd_nm" type="STRING" size="256"/>
          <Column id="dup_fg" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_teamCd1Edit" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="team_cd" type="STRING" size="6"/>
          <Column id="team_nm" type="STRING" size="50"/>
          <Column id="hgrn_team_cd" type="STRING" size="6"/>
          <Column id="cntr_cd" type="STRING" size="6"/>
          <Column id="team_lvl_cnt" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_teamCd2Edit" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="team_cd" type="STRING" size="6"/>
          <Column id="team_nm" type="STRING" size="50"/>
          <Column id="hgrn_team_cd" type="STRING" size="6"/>
          <Column id="cntr_cd" type="STRING" size="6"/>
          <Column id="team_lvl_cnt" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_userCd1Edit" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="user_id" type="STRING" size="256"/>
          <Column id="user_nm" type="STRING" size="256"/>
          <Column id="team_cd" type="STRING" size="256"/>
          <Column id="hgrn_team_cd" type="STRING" size="256"/>
          <Column id="athr_cd" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_bkmkInfoView" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="_chk" type="INT" size="1"/>
          <Column id="xRowStatusType" type="STRING" size="1"/>
          <Column id="page_indx" type="STRING" size="256"/>
          <Column id="bkmk_id" type="STRING" size="256"/>
          <Column id="cntr_cd" type="STRING" size="256"/>
          <Column id="team1_cd" type="STRING" size="256"/>
          <Column id="team2_cd" type="STRING" size="256"/>
          <Column id="user_id" type="STRING" size="256"/>
          <Column id="expe_sqnc" type="STRING" size="256"/>
          <Column id="old_bkmkinfo_ord" type="STRING" size="256"/>
          <Column id="bkmk_div_cd" type="STRING" size="256"/>
          <Column id="bkmk_nm" type="STRING" size="256"/>
          <Column id="bkmk_addr" type="STRING" size="256"/>
          <Column id="scrn_widt_vl" type="STRING" size="256"/>
          <Column id="scrn_hght_vl" type="STRING" size="256"/>
          <Column id="use_yn" type="STRING" size="256"/>
          <Column id="rgsr_id" type="STRING" size="256"/>
          <Column id="rgsn_dttm" type="STRING" size="256"/>
          <Column id="amnd_id" type="STRING" size="256"/>
          <Column id="amnt_dttm" type="STRING" size="256"/>
          <Column id="team1_nm" type="STRING" size="256"/>
          <Column id="team2_nm" type="STRING" size="256"/>
          <Column id="user_nm" type="STRING" size="256"/>
          <Column id="bkmk_div_nm" type="STRING" size="256"/>
          <Column id="rgsr_nm" type="STRING" size="256"/>
          <Column id="amnd_nm" type="STRING" size="256"/>
          <Column id="dup_fg" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_bkmkDivCdEdit" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="6"/>
          <Column id="cd_nm" type="STRING" size="100"/>
          <Column id="adtl_cd" type="STRING" size="100"/>
          <Column id="adtl_cd_nm" type="STRING" size="100"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_orderList" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="id" type="INT" size="50"/>
          <Column id="name" type="INT" size="50"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_teamCd" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="team_cd" type="STRING" size="6"/>
          <Column id="team_nm" type="STRING" size="50"/>
          <Column id="hgrn_team_cd" type="STRING" size="6"/>
          <Column id="team_lvl_cnt" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_actpInq" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="team_cd" type="STRING" size="256"/>
          <Column id="use_yn" type="STRING" size="256"/>
          <Column id="user_stat_cd" type="STRING" size="256"/>
          <Column id="orderBy" type="STRING" size="256"/>
          <Column id="orderDirection" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Script type="xscript4.0"><![CDATA[/***************************************************************************
 * Program ID    : PS071000.xfdl
 * Program Name  : 즐겨찾기 관리
 * Author        : 정 훈
 * Created On    : 2016.02.13
 * 개    요 	 :
 *
 * =========================================================================
 * 변경일자     수정자       내    용
 * =========================================================================
 * 2016.02.13    정   훈      최초작성
 
 **************************************************************************/

/********************************************************************************************/
/* 1. Include Library include                                                               */
/********************************************************************************************/
include "LIB::lib_All.xjs";
//include "LIB::lib_ConsTyp.xjs"; //상담유형 

/********************************************************************************************/
/* 2. Form 관련(onload 및 Form 이벤트,전역변수,초기화) 처리                         	*/
/********************************************************************************************/
var total_count = 0;
var maxOrder = 0;
var gv_Mode = "R";
var dupCount = 0;
var dupFlag = false;


//권한
var rgsnYn; //등록권한
var inqYn; //조회권한
var amntYn; //수정권한
var dltnYn; //삭제권한
var pritYn; //출력권한
var xlsYn; //엑셀권한
var athrPpupYn; //팝업오픈권한
var xlsRrnoYn; //엑셀 개인정보 권한 여부 

function PS071000_onload(obj:Form, e:LoadEventInfo)
{
	gfn_athrPgm(gfn_gdsCd_admin()); //권한조회
	gfn_getList("cd","KMS020","fn_callBack",null,"bkmkInfoCd");   // 코드셋
	gfn_getList("teamCd","", null, null, null, "ds_teamCd"); //팀코드조회
	gfn_createPagingDataset(obj); // 페이징처리 위한 데이터셋 설정
	fn_commSearch(gfn_getCommTypeInit()); // 조회
}


//초기화 
function fn_init()
{	
	cbo_bkmkDivCd.index = 0;
	cbo_useYn.index = 0;
	edt_bkmkNm.value = null;
	cbo_teamCd1.index = 0;
	cbo_teamCd2.index = 0;
	cbo_userCd.index= 0;

	cbo_teamCd2.enable = false;
	cbo_userCd.enable = false;
}

/********************************************************************************************/
/* 3. Callback(gfn_Transaction 호출 후 처리내용)                                   		*/
/********************************************************************************************/
function fn_callBack(svcid, errcd, errmsg) {
	if(errcd != 0){
		trace("에러발생 svcid : "+svcid+"   errmsg :"+errmsg+ "   errcd :"+errcd);
	}else{
		switch(svcid){
			case "selectTeamCode": // 팀코드 조회
				gfn_getTeamCodeLoad("", "ALL", ds_teamCd1, ds_teamCd, "1");
				cbo_teamCd1.index = 0;
				gfn_getTeamCodeLoad("", "ALL", ds_teamCd1Edit, ds_teamCd, "1");
			break;
			
			case "bkmkInfoCd"://코드조회 콜백
				gfn_getCode("KMS020", "ALL", ds_bkmkDivCd); // 코드조회결과 필터
				gfn_getCode("KMS020", "SELECT", ds_bkmkDivCdEdit);
				cbo_bkmkDivCd.index = 0;
			break;
			
			case "srchbkmkInfo" : //즐겨찾기 
				gfn_appendSearchDs(ds_bkmkInfoList, ds_list_tmp); // 조회된 결과를 실제보여줄 데이타셋으로 Append처리
				gfn_setTotalRowCount(ds_bkmkInfoList, sta_TotalCnt, total_count); // 페이지건수 표출
				fn_postSearch();	
			break;
			
			case "srchMaxOrder":// 최대 갯수 콜백
				ds_orderList.clearData();
				if(maxOrder == 0){
					ds_orderList.addRow();
					ds_orderList.setColumn(ds_orderList.rowposition,"name","1");
					ds_orderList.setColumn(ds_orderList.rowposition,"id","1");
				}else {
					for(var i = maxOrder; i > 0; i--){
						ds_orderList.addRow();
						ds_orderList.setColumn(ds_orderList.rowposition,"name",i);
						ds_orderList.setColumn(ds_orderList.rowposition,"id",i);
					}
					
					if(gv_Mode == "C"){
						ds_orderList.insertRow(0);
						ds_orderList.setColumn(ds_orderList.rowposition,"name",parseInt(maxOrder)+1);
						ds_orderList.setColumn(ds_orderList.rowposition,"id",parseInt(maxOrder)+1);
					}
				}
			break;
			
			case "deleteBkmkInfo": //삭제 콜백
				gv_Mode ="R";
				fn_commSearch(gfn_getCommTypeInit()); // 조회
			break;
			
			case "userCd1Edit"://상담사
				gfn_getUserCdLoad("", "" ,"ALL", ds_userCd1Edit);
			break;
			
			case "selectUserCode": // 상담사
				gfn_getUserCdLoad("", "" ,"ALL", ds_userCd1);
				cbo_userCd.index = 0;
			break;
			
			case "srchDupCount" : // 중복조회
				if(dupCount > 0 && confirm("중복되는 순서가 있습니다. 순서를 자동증가하고 등록하시겠습니까?\n자동증가된 순서는 목록을 다시 조회하면 표시됩니다.")){
					dupFlag = true;
				}
			break;
			
			case "savebkmkInfo" : //저장콜백
				fn_commSearch(gfn_getCommTypeInit()); // 조회
				gv_Mode = "R";
				dupFlag = false; //초기화
				dupCount = 0; //초기화	
			break;
			
			
			default :
				trace("svcid를 확인하세요");
			break;
		}
	}
}

/********************************************************************************************/
/**   4. Validation 처리                                                                   	*/
/********************************************************************************************/
//조회전 처리 조회조건셋팅
function fn_preSearch(sType)
{
	if (sType == gfn_getCommTypeInit())
	{
		// 조회조건 및 default 정렬
		ds_bkmkInfoList.keystring = ""; // 정렬컬럼 초기화
		
		ds_inqCndt.clearData();
		ds_inqCndt.addRow();
		ds_inqCndt.setColumn(0, "team1_cd", cbo_teamCd1.value);
		ds_inqCndt.setColumn(0, "team2_cd", cbo_teamCd2.value);
		ds_inqCndt.setColumn(0, "user_id", cbo_userCd.value);
		ds_inqCndt.setColumn(0, "bkmk_div_cd", cbo_bkmkDivCd.value);
		ds_inqCndt.setColumn(0, "use_yn", cbo_useYn.value);
		ds_inqCndt.setColumn(0, "bkmk_nm", edt_bkmkNm.value);
		ds_inqCndt.setColumn(0, "orderBy", "expe_sqnc");
		ds_inqCndt.setColumn(0, "orderDirection", "asc");
	}
	return true;
}


//저장전
function fn_preSave()
{
	if(gfn_isNull(cbo_bkmkDivCdEdit.value)){
		alert("표시구분을 선택하세요.");
		return false;
	}
	
	if(gfn_isNull(cbo_expeSqnc.value)){
		alert("순서를 선택하세요.");
		return false;
	}
	
	if(gfn_isNull(edt_bkmkNmEdit.value)){
		alert("표시이름을 선택하세요.");
		return false;
	}
	
	var pattern = /^((https?):\/\/)?([a-z0-9-]+\.)+([a-z0-9-]+\.)+[a-z0-9]{2,4}.*$/;
	var hmpgAddr = edt_bkmkAddrEdit.value;
	
	if(gfn_isNull(hmpgAddr)){
		alert("URL을 입력하세요.");
		return false;
	}else if( !pattern.test(hmpgAddr)){
		alert("URL을 확인하세요");
		return false;
	}
	return true;
}

/********************************************************************************************/
/**   5. 서비스 호출(gfn_Transaction)                                                   	*/
/********************************************************************************************/
//조회
function fn_commSearch(sType)
{	
    if (!fn_preSearch(sType)) return false;
	
	// 호출 건수 설정 및 조회여부 설정
	if(!gfn_pageSearch(sType, ds_bkmkInfoList, sta_TotalCnt, 50, total_count)) return; 
	
	var szSvcid       = "srchbkmkInfo";
    var szController  = "/knowledge/bkmk-info/list";
    var szInDs        = "ds_input=ds_inqCndt";
    var szOutDs       = "ds_list_tmp=ds_output";
    var szParam       = "";
    var szRetCallback = "fn_callBack";

    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback,false);
}

//횟수 조회
function fn_maxOrderSearch(bkmk_div_cd)
{	
	var szSvcid       = "srchMaxOrder";
    var szController  = "/knowledge/bkmk-info/max-order";
    var szInDs        = "";
    var szOutDs       = "";
    var szParam       = "bkmk_div_cd="+bkmk_div_cd;
    var szRetCallback = "fn_callBack";

    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback, false);
}

//삭제
function fn_deleteData()
{
	var szSvcid       = "deleteBkmkInfo";
    var szController  = "/knowledge/bkmk-info/delete";
    var szInDs        = "ds_input=ds_bkmkInfoView";
    var szOutDs       = "";
    var szParam       = "";
    var szRetCallback = "fn_callBack";

    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

//저장
function fn_saveData()
{
	if (!fn_preSave()) return false;
	fn_dupCouontSearch();
	if (dupCount == 0 || dupFlag == true)
	{
		var szSvcid       = "savebkmkInfo";
		var szController  = "/knowledge/bkmk-info/save";
		var szInDs        = "ds_input=ds_bkmkInfoView";
		var szOutDs       = "ds_bkmkInfoView=ds_output";
		var szParam       = "dupFlag="+dupFlag;
		var szRetCallback = "fn_callBack";

		// 트랜젝션 공통함수 호출
		gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
	}
}

//중복조회
function fn_dupCouontSearch()
{	
	var szSvcid       = "srchDupCount";
    var szController  = "/knowledge/bkmk-info/duplicate-count";
    var szInDs        = "ds_input=ds_bkmkInfoView";
    var szOutDs       = "";
    var szParam       = "";
    var szRetCallback = "fn_callBack";
	
    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback, false);
}
/********************************************************************************************/
/**   6. 사용자 함수                                                                   	*/
/********************************************************************************************/
//처리결과
function fn_postSearch()
{
	if(ds_bkmkInfoList.rowcount < 1) {
		fn_copyRow();
		fn_changeComponent("R");
		sta_TotalCnt.text = "조회 결과가 없습니다.";
	} else {
		fn_copyRow();
		var bkmk_div_cd = ds_bkmkInfoList.getColumn(ds_bkmkInfoList.rowposition,"bkmk_div_cd");//표시구분
		fn_maxOrderSearch(bkmk_div_cd);//조회수 조회후 comboBox List 셋팅
		fn_changeComponent("R");
	}
	return;
}

//User 조회조건  셋팅
function fn_dsActpInpSetting(sParam,paramVal){
	ds_actpInq.clearData();
	ds_actpInq.addRow();
	ds_actpInq.setColumn(0, sParam, paramVal);
	ds_actpInq.setColumn(0, "use_yn", "Y");
	ds_actpInq.setColumn(0, "user_stat_cd", "10");
	
	//user 소팅 변경
	//수정자 정훈연구원
	//요청자 정성안팀장
	//문의사항있을시 요청자에게 문의하세요
	ds_actpInq.setColumn(0, "orderBy", "user_nm");
	ds_actpInq.setColumn(0, "orderDirection", "ASC");
}

//리스트 데이터셋 뷰 데이터셋에 카피
function fn_copyRow(){
	if(ds_bkmkInfoList.rowcount<1){
		ds_bkmkInfoView.clearData();
		ds_bkmkInfoView.addRow();
	}else{
		ds_bkmkInfoView.clearData();
		ds_bkmkInfoView.addRow();
		ds_bkmkInfoView.copyRow(ds_bkmkInfoView.rowposition,ds_bkmkInfoList,ds_bkmkInfoList.rowposition);
		
		var team1Val = ds_bkmkInfoView.getColumn(ds_bkmkInfoView.rowposition,"team1_cd");//팀코드 1
		var team2Val = ds_bkmkInfoView.getColumn(ds_bkmkInfoView.rowposition,"team2_cd");//팀코드 2
	
 		fn_dsActpInpSetting("team_cd",team2Val);//상담사조회 조건 셋팅
		gfn_getTeamCodeLoad(team1Val, "ALL", ds_teamCd2Edit, ds_teamCd);//상세부 팀2 콤보리스트 셋팅
		gfn_getList("userCd", "ALL", null, null, "userCd1Edit", null, "ds_actpInq"); //상세부 상담사 콤보리스트 셋팅
		
		//등록 수정일시 데이터타입에 맞게
 		var rgsnDttmStr = edt_rgsnDttm.value;
 		edt_rgsnDttm.value = gfn_strDttm(rgsnDttmStr);
			
 		var amntDttmStr = edt_amntDttm.value;
 		edt_amntDttm.value = gfn_strDttm(amntDttmStr);
	}
}




//권한
function fn_setAthr(){
	if(rgsnYn != "Y"){
		btn_create.enable = false;
	}
	
	if(inqYn != "Y"){
		btn_search.enable = false;
	}
	
	if(amntYn != "Y"){
		btn_update.enable = false;
	}
	
	if(dltnYn != "Y"){
		btn_delete.enable = false;
	}
	
	if(pritYn != "Y"){
		
	}
	
	if(xlsYn != "Y"){
		
	}
	
	if(athrPpupYn != "Y"){
		btn_preView.enable = false;
	}
	
	if(xlsRrnoYn != "Y"){
		
	}
}


//버튼 AND 컴포넌트 변경함수
function fn_changeComponent(rMode){
	switch(rMode){
		case "R" : //읽기모드
			if(ds_bkmkInfoList.rowcount<1){
				btn_create.enable = true;
				btn_update.enable = false;
				btn_delete.enable = false;
				btn_preView.visible = false;
				
				//상담그룹1
				cbo_detailTeam1Cd.visible = false;
				
				//상담그룹2
				cbo_detailTeam2Cd.visible = false;
				
				//상담사
				cbo_detailUserCd.visible = false;
				
				//표시구분
				cbo_bkmkDivCdEdit.visible = false;
				
				//순서
				cbo_expeSqnc.visible = false;
			}else{
				btn_create.enable = true;
				btn_update.enable = true;
				btn_delete.enable = true;
				btn_preView.visible = true;
				
				//상담그룹1
				cbo_detailTeam1Cd.visible = true;
				
				//상담그룹2
				cbo_detailTeam2Cd.visible = true;
				
				//상담사
				cbo_detailUserCd.visible = true;
				
				//표시구분
				cbo_bkmkDivCdEdit.visible = true;
				
				//순서
				cbo_expeSqnc.visible = true;
			}
			btn_create.visible = true;
			btn_update.visible = true;
			btn_delete.visible = true;
			
			btn_save.visible = false;
			btn_cancel.visible = false;
			
			//상담그룹1
			cbo_detailTeam1Cd.readonly = true;
			cbo_detailTeam1Cd.enable = true;
			
			//상담그룹2
			cbo_detailTeam2Cd.readonly = true;
			cbo_detailTeam2Cd.enable = true;
			//상담사
			cbo_detailUserCd.readonly = true;
			cbo_detailUserCd.enable = true;
			if(ds_bkmkInfoView.getColumn(ds_bkmkInfoView.rowposition,'user_id')== 'ALL'){
				cbo_detailUserCd.index = 0;
			}
			
			//표시구분
			cbo_bkmkDivCdEdit.readonly = true;
			
			//표시이름
			edt_bkmkNmEdit.readonly = true;
			
			//사용여부
			rdo_useYn.readonly = true;
			
			//순서
			cbo_expeSqnc.readonly = true;
			
			//url
			edt_bkmkAddrEdit.readonly = true;
		break;
		
		case "C" :
			//버튼
			btn_create.visible = false;
			btn_update.visible = false;
			btn_delete.visible = false;
			
			btn_save.move(btn_update.position.left , btn_update.position.top);
			btn_cancel.move(btn_delete.position.left , btn_delete.position.top);
			
			btn_save.visible = true;
			btn_cancel.visible = true;
			
			//상담그룹1
			cbo_detailTeam1Cd.visible = true;
			cbo_detailTeam1Cd.readonly = false;
			cbo_detailTeam1Cd.index = 0;
			
			//상담그룹2
			cbo_detailTeam2Cd.visible = true;
			cbo_detailTeam2Cd.readonly = false;
			cbo_detailTeam2Cd.enable = false;
			cbo_detailTeam2Cd.index = 0;
			
			//상담사
			cbo_detailUserCd.visible = true;
			cbo_detailUserCd.readonly = false;
			cbo_detailUserCd.enable = false;
			cbo_detailUserCd.index = 0;
			
			//표시구분
			cbo_bkmkDivCdEdit.visible = true;
			cbo_bkmkDivCdEdit.readonly = false;
			cbo_bkmkDivCdEdit.index = 0;
			
			//표시이름
			edt_bkmkNmEdit.readonly = false;
			
			//사용여부
			rdo_useYn.readonly = false;
			rdo_useYn.index = 0;
			
			//순서
			cbo_expeSqnc.visible = true;
			cbo_expeSqnc.readonly = false;
			cbo_expeSqnc.index = 0;
			
			//url
			edt_bkmkAddrEdit.readonly = false;
			btn_preView.visible = true;
		break;
		
		case "U" :
			//버튼
			btn_create.visible = false;
			btn_update.visible = false;
			btn_delete.visible = false;
			
			btn_save.move(btn_update.position.left , btn_update.position.top);
			btn_cancel.move(btn_delete.position.left , btn_delete.position.top);
			
			btn_save.visible = true;
			btn_cancel.visible = true;
			
			//상담그룹1
			cbo_detailTeam1Cd.visible = true;
			cbo_detailTeam1Cd.readonly = false;
			
			
			//상담그룹2
			cbo_detailTeam2Cd.visible = true;
			cbo_detailTeam2Cd.readonly = false;
			
			
			//상담사
			cbo_detailUserCd.visible = true;
			cbo_detailUserCd.readonly = false;
			
			if(ds_bkmkInfoView.getColumn(ds_bkmkInfoView.rowposition,'team1_cd')== null){
				cbo_detailTeam1Cd.index = 0;
				cbo_detailTeam2Cd.index = 0;
				cbo_detailUserCd.index = 0;
				
				cbo_detailTeam2Cd.enable = false;
				cbo_detailUserCd.enable = false;
				
			}
			
			if(ds_bkmkInfoView.getColumn(ds_bkmkInfoView.rowposition,'team2_cd')==  null){
				cbo_detailTeam2Cd.index = 0;
				cbo_detailUserCd.index = 0;
				
				cbo_detailUserCd.enable = false;
			}
			
			if(ds_bkmkInfoView.getColumn(ds_bkmkInfoView.rowposition,'user_id')== 'ALL'){
				cbo_detailUserCd.index = 0;
			}
			
			//표시구분
			cbo_bkmkDivCdEdit.visible = true;
			cbo_bkmkDivCdEdit.readonly =  true;
			
			
			//표시이름
			edt_bkmkNmEdit.readonly = false;
			
			//사용여부
			rdo_useYn.readonly = false;
			
			//순서
			cbo_expeSqnc.visible = true;
			cbo_expeSqnc.readonly = false;
			
			//url
			edt_bkmkAddrEdit.readonly = false;
			btn_preView.visible = true;
		break;
	}
	
	fn_setAthr();
}
		
//old_expe_sqnc 셋팅
function fn_oderInit()
{
	ds_bkmkInfoView.addColumn('old_bkmkinfo_ord',"INT");
	if(ds_bkmkInfoView.getColumn(ds_bkmkInfoView.rowposition,'expe_sqnc')==null){
		ds_bkmkInfoView.setColumn(ds_bkmkInfoView.rowposition,'old_bkmkinfo_ord',parseInt(maxOrder)+1);
	}else{
		ds_bkmkInfoView.setColumn(ds_bkmkInfoView.rowposition,'old_bkmkinfo_ord',ds_bkmkInfoView.getColumn(ds_bkmkInfoView.rowposition,'expe_sqnc'));
	};
}


// 팀 코드 1변경
function fn_changeTeam1Cd(item1 , item2, item3, inDs)
{
	if (!fn_preChngTeam1(item1 , item2, item3, inDs)) return false;
	
	gfn_getTeamCodeLoad(item1.value, "ALL", inDs, ds_teamCd);
	item2.index = "0";
	item2.enable = true;
	
	item3.index = "0";
	item3.enable = false;
}

//팀코드 1
function fn_preChngTeam1(item1 , item2, item3, inDs)
{
	if (gfn_isNull(item1.value)) {
		item2.index = "0";
		item2.enable = false;
		
		item3.index = "0";
		item3.enable = false;
		return false;
	}
	return true;
}

//팀코드 2
function fn_preChngTeam2(item1 , item2, item3, inDs, inSvcId)
{
	if (gfn_isNull(item2.value)) {
		item3.index = "0";
		item3.enable = false;
		return false;
	}
	
	item3.enable = true;
	fn_dsActpInpSetting("team_cd",item2.value);//User 조회조건 셋팅
	return true;
}

//팀코드 2변경
function fn_changeTeam2Cd(item1 , item2, item3, inDs ,inSvcId)
{
	if (!fn_preChngTeam2(item1 , item2, item3, inDs,inSvcId)) return false;
	
	gfn_getList("userCd", "", null, null, inSvcId, null, "ds_actpInq"); //상담사조회
}


/********************************************************************************************/
/**   7. 이벤트(Event) Function                                                          	*/
/********************************************************************************************/

//그리드 스크롤오버시 페이징 처리 
function grd_onvscrolllastover(obj:Grid, e:ScrollEventInfo)
{
	fn_commSearch(gfn_getCommTypeAppend());
}

//버튼 클릭이벤트
function btn_onclick(obj:Button,  e:ClickEventInfo)
{
	switch(obj){
		case btn_search : //조회버튼
			fn_commSearch(gfn_getCommTypeInit()); // 조회
		break;
		
		case btn_init : //초기화버튼
			fn_init();
		break;
		
		case btn_delete : //삭제 
			gv_Mode ="D";
			if(confirm("선택된 내용을 삭제하시겠습니까?")) {
				fn_deleteData();//트랜잭션 호출
			}
		break;
		
		case btn_create : //신규 
			gv_Mode = "C";
			ds_bkmkInfoView.clearData();
			ds_bkmkInfoView.addRow();
			ds_orderList.clearData();
			fn_oderInit();
			fn_changeComponent("C"); //컴포넌트 셋팅
		break;
		
		case btn_update: //수정
			fn_oderInit();
			fn_changeComponent("U"); //컴포넌트 셋팅
		break;
		
		case btn_save ://저장
			fn_saveData();
		break;
		
		case btn_cancel: //취소
			gv_Mode ="R";
			fn_copyRow();
			fn_maxOrderSearch(ds_bkmkInfoList.getColumn(ds_bkmkInfoList.rowposition,"bkmk_div_cd"));//조회수 조회후 comboBox List 셋팅
			fn_changeComponent("R");
		break;
		
		case btn_preView : //미리보기 버튼 클릭
			var urlAddr = edt_bkmkAddrEdit.value; // URL
			var addrLength = urlAddr.length; //URL 길이
			var pattern = /^((https?):\/\/)?([a-z0-9-]+\.)+([a-z0-9-]+\.)+[a-z0-9]{2,4}.*$/; //정규식
			
			if(urlAddr =="" ||urlAddr == null) {
				alert("URL주소를 입력해주세요"); 
				return;
			}
			
			if(urlAddr.indexOf("http://") < 0){
				urlAddr = "http://" + urlAddr;
			}
			
			if (addrLength <= 7) {
				alert("URL이 올바르지않습니다.");
				return;
			}else if(!pattern.test(urlAddr)){
				alert("URL을 확인하세요");
				return;
			}
			system.execBrowser(edt_bkmkAddrEdit.value);// 팝업 호출
		break;

		default : 
			trace("btn을 확인하세요");
		break;
	}
}


//그리드 셀 클릭
function grd_oncellclick(obj:Grid, e:GridClickEventInfo)
{
	fn_copyRow();
	fn_maxOrderSearch(ds_bkmkInfoList.getColumn(ds_bkmkInfoList.rowposition,"bkmk_div_cd"));//조회수 조회후 comboBox List 셋팅
	fn_changeComponent("R");
}


//콤보변환 이벤트
function combo_onitemchanged(obj:Combo, e:ItemChangeEventInfo)
{
	switch(obj){
		case cbo_teamCd1: //조회 팀1 변환시
			fn_changeTeam1Cd(cbo_teamCd1 , cbo_teamCd2, cbo_userCd, ds_teamCd2);
		break;
		
		case cbo_teamCd2: // 조회 팀2 변환시
			fn_changeTeam2Cd(cbo_teamCd1 , cbo_teamCd2, cbo_userCd);
		break;
		
		case cbo_detailTeam1Cd: // 상세 팀1 콤보 변경시
			fn_changeTeam1Cd(cbo_detailTeam1Cd , cbo_detailTeam2Cd, cbo_detailUserCd, ds_teamCd2Edit);
		break;
		
		case cbo_detailTeam2Cd:  // 상세 팀 2 콤보 변경시   
			fn_changeTeam2Cd(cbo_detailTeam1Cd , cbo_detailTeam2Cd, cbo_detailUserCd,null,"userCd1Edit");
		break;
		
		case cbo_bkmkDivCdEdit: // 상세 표시구분 콤보 변경시
			var bkmk_div_cd = obj.value;
				fn_maxOrderSearch(bkmk_div_cd); // 순서값 셋팅
			if(obj.value != null && obj.value !=""){ // 벨류가 없으면 순서 콤보 비활성화
				cbo_expeSqnc.enable = true;
				cbo_expeSqnc.index = 0;
			}else{
				cbo_expeSqnc.enable = false;
				cbo_expeSqnc.value = null;
			}
			ds_bkmkInfoView.setColumn(ds_bkmkInfoView.rowposition,'old_bkmkinfo_ord',ds_bkmkInfoView.getColumn(ds_bkmkInfoView.rowposition,'expe_sqnc'));
		break;
	}
}

//온해더 클릭 이벤트
function grd_onheadclick(obj:Grid, e:GridClickEventInfo)
{
	if (!fn_preSearch()) return false;
	ds_inqCndt.setColumn(0, "sController", "/knowledge/bkmk-info/list");
	ds_inqCndt.setColumn(0, "dsName", "ds_output");
	
	if(!gfn_pageSearch(gfn_getCommTypeOrderBy(), ds_bkmkInfoList, sta_TotalCnt, 50, total_count)) return;
	
	gfn_grdHeadClick(obj, e, ds_inqCndt);
	
	gfn_setTotalRowCount(ds_bkmkInfoList, sta_TotalCnt, total_count); // 페이지건수 표출

	fn_copyRow();
	fn_changeComponent("R");
}


function cbo_onkeydown(obj:Combo, e:KeyEventInfo)
{
	if (e.keycode == 13) { // 엔터
		fn_commSearch(gfn_getCommTypeInit()); // 조회
	}
}


function edt_onkeydown(obj:Edit, e:KeyEventInfo)
{
	if (e.keycode == 13) { // 엔터
		fn_commSearch(gfn_getCommTypeInit()); // 조회
	}
}



]]></Script>
  </Form>
</FDL>
