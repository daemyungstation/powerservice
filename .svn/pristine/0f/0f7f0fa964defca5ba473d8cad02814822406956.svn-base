<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.4">
  <TypeDefinition url="..\default_typedef.xml"/>
  <Form id="SYS0000400104" classname="Work21_4" inheritanceid="" position="absolute 0 0 968 467" titletext="구성원 선택" onload="SYS0000400104_onload">
    <Layouts>
      <Layout>
        <Static id="stc_27" class="sta_popupBg1" enable="false" position="absolute 0 0 958 463"/>
        <Static id="stc_28" text="구성원등록" class="sta_popupTitle" transparenthittest="true" position="absolute 10 8 185 28"/>
        <Button id="btn_Close13" taborder="1" onclick="btn_close_onclick" class="btn_popupClose" position="absolute 933 8 953 27"/>
        <Static id="stc_39" text="구성원 등록대상 리스트" class="sta_workTitle2" position="absolute 645 52 815 72" onclick="stc_39_onclick"/>
        <Tab id="Tab00" taborder="1" tabindex="0" scrollbars="autoboth" position="absolute 11 480 589 887" visible="false">
          <Tabpages>
            <Tabpage id="tabpage1" text="본사조직">
              <Layouts>
                <Layout>
                  <Static id="stc_33" class="sta_workSrcBg" position="absolute 10 10 566 52"/>
                  <Button id="Button04" taborder="1" text="조회" class="btn_WFSA_src" position="absolute 470 21 548 41"/>
                  <Static id="stc_32" text="성명" class="sta_workSrcLabel1" position="absolute 25 21 87 41"/>
                  <Edit id="edt_02" taborder="1" position="absolute 64 21 134 41"/>
                  <Edit id="edt_00" taborder="1" position="absolute 193 21 375 41"/>
                  <Static id="stc_00" text="부서" class="sta_workSrcLabel1" position="absolute 154 21 216 41"/>
                  <Grid id="grd_03" class="grd_Mymenu_tree" taborder="1" binddataset="ds_LF_menu" useinputpanel="false" cellsizingtype="col" autofittype="col" treeuseline="false" treeusecheckbox="false" treeinitstatus="expand,all" position="absolute 10 67 254 368">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="222"/>
                        </Columns>
                        <Rows>
                          <Row size="25"/>
                        </Rows>
                        <Band id="body">
                          <Cell displaytype="tree" edittype="tree" text="bind:Column1" treelevel="bind:Column0"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                  <Grid id="Grid00" taborder="1" binddataset="ds_list" useinputpanel="false" anchor="default" position="absolute 264 67 566 368">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="25"/>
                          <Column size="87"/>
                          <Column size="87"/>
                          <Column size="87"/>
                        </Columns>
                        <Rows>
                          <Row size="25" band="head"/>
                          <Row size="25"/>
                        </Rows>
                        <Band id="head">
                          <Cell displaytype="checkbox" edittype="checkbox"/>
                          <Cell col="1" text="성명"/>
                          <Cell col="2" text="부서"/>
                          <Cell col="3" text="직위"/>
                        </Band>
                        <Band id="body">
                          <Cell displaytype="checkbox" edittype="checkbox" text="bind:Column0"/>
                          <Cell col="1" text="bind:Column1"/>
                          <Cell col="2" text="bind:Column2"/>
                          <Cell col="3" text="bind:Column3"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                </Layout>
              </Layouts>
            </Tabpage>
            <Tabpage id="tabpage2" text="영업조직">
              <Layouts>
                <Layout>
                  <Static id="stc_33" class="sta_workSrcBg" position="absolute 10 10 566 52"/>
                  <Button id="Button04" taborder="1" text="조회" class="btn_WFSA_src" position="absolute 470 21 548 41"/>
                  <Static id="stc_32" text="성명" class="sta_workSrcLabel1" position="absolute 25 21 87 41"/>
                  <Edit id="edt_02" taborder="1" position="absolute 64 21 134 41"/>
                  <Edit id="edt_00" taborder="1" position="absolute 193 21 375 41"/>
                  <Static id="stc_00" text="부서" class="sta_workSrcLabel1" position="absolute 154 21 216 41"/>
                  <Grid id="grd_03" class="grd_Mymenu_tree" taborder="1" binddataset="ds_LF_menu" useinputpanel="false" cellsizingtype="col" autofittype="col" treeuseline="false" treeusecheckbox="false" treeinitstatus="expand,all" position="absolute 10 67 254 368">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="222"/>
                        </Columns>
                        <Rows>
                          <Row size="25"/>
                        </Rows>
                        <Band id="body">
                          <Cell displaytype="tree" edittype="tree" text="bind:Column1" treelevel="bind:Column0"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                  <Grid id="Grid00" taborder="1" binddataset="ds_list" useinputpanel="false" position2="absolute l:264 w:302 t:67 h:301" positiontype="position2">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="25"/>
                          <Column size="87"/>
                          <Column size="87"/>
                          <Column size="87"/>
                        </Columns>
                        <Rows>
                          <Row size="25" band="head"/>
                          <Row size="25"/>
                        </Rows>
                        <Band id="head">
                          <Cell displaytype="checkbox" edittype="checkbox"/>
                          <Cell col="1" text="성명"/>
                          <Cell col="2" text="부서"/>
                          <Cell col="3" text="직위"/>
                        </Band>
                        <Band id="body">
                          <Cell displaytype="checkbox" edittype="checkbox" text="bind:Column0"/>
                          <Cell col="1" text="bind:Column1"/>
                          <Cell col="2" text="bind:Column2"/>
                          <Cell col="3" text="bind:Column3"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                </Layout>
              </Layouts>
            </Tabpage>
          </Tabpages>
        </Tab>
        <Grid id="Grid00" taborder="1" binddataset="ds_list" useinputpanel="false" anchor="default" position="absolute 645 497 947 877" visible="false">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="25"/>
                <Column size="87"/>
                <Column size="87"/>
                <Column size="87"/>
              </Columns>
              <Rows>
                <Row size="25" band="head"/>
                <Row size="25"/>
              </Rows>
              <Band id="head">
                <Cell displaytype="checkbox" edittype="checkbox"/>
                <Cell col="1" text="성명"/>
                <Cell col="2" text="부서"/>
                <Cell col="3" text="직위"/>
              </Band>
              <Band id="body">
                <Cell displaytype="checkbox" edittype="checkbox" text="bind:Column0"/>
                <Cell col="1" text="bind:Column1"/>
                <Cell col="2" text="bind:Column2"/>
                <Cell col="3" text="bind:Column3"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Button id="btn_save" taborder="1" text="등록" position="absolute 878 49 947 69" onclick="btn_save_onclick"/>
        <Tab id="tab_org" taborder="1" onchanged="tab_org_onchanged" tabindex="0" scrollbars="autoboth" position="absolute 11 48 589 454">
          <Tabpages>
            <Tabpage id="tpg_bonsa" text="본사조직">
              <Layouts>
                <Layout>
                  <Static id="stc_33" class="sta_workSrcBg" position="absolute 10 10 566 52"/>
                  <Button id="btn_search" taborder="1" text="조회" onclick="tab_org_tpg_bonsa_btn_search_onclick" class="btn_WFSA_src" position="absolute 470 21 548 41"/>
                  <Grid id="grd_treeList" class="grd_Mymenu_tree" taborder="1" binddataset="ds_tree_bonsa" useinputpanel="false" cellsizingtype="col" autofittype="col" treeuseline="false" treeusecheckbox="false" treeinitstatus="expand,all" oncellclick="tab_org_tpg_bonsa_grd_treeList_oncellclick" position="absolute 10 67 254 369">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="222"/>
                        </Columns>
                        <Rows>
                          <Row size="25"/>
                        </Rows>
                        <Band id="body">
                          <Cell displaytype="tree" edittype="tree" text="bind:orgzNm" treelevel="bind:dpthVl"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                  <Grid id="grd_list" taborder="1" binddataset="ds_userlist_bonsa" useinputpanel="false" onheadclick="tab_org_tpg_bonsa_grd_list_onheadclick" oncelldblclick="tab_org_tpg_bonsa_grd_list_oncelldblclick" position2="absolute l:264 w:302 t:67 h:302" positiontype="position2">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="25" band="left"/>
                          <Column size="90" band="left"/>
                          <Column size="90"/>
                          <Column size="70"/>
                          <Column size="200"/>
                        </Columns>
                        <Rows>
                          <Row size="25" band="head"/>
                          <Row size="25"/>
                        </Rows>
                        <Band id="head">
                          <Cell displaytype="checkbox" edittype="none"/>
                          <Cell col="1" text="성명"/>
                          <Cell col="2" text="부서"/>
                          <Cell col="3" text="직위"/>
                          <Cell col="4" text="이메일"/>
                        </Band>
                        <Band id="body">
                          <Cell displaytype="checkbox" edittype="checkbox" text="bind:_chk"/>
                          <Cell col="1" text="bind:recpTrgtNm"/>
                          <Cell col="2" text="bind:blngorgzNm"/>
                          <Cell col="3" text="bind:jbttNm"/>
                          <Cell col="4" style="align:left;" text="bind:userEmilAddr"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                  <Static id="stc_32" text="성명" class="sta_workSrcLabel1" position="absolute 25 21 87 41"/>
                  <Edit id="edt_recpTrgtNm" taborder="1" onkeydown="fn_searchBonsa_onkeydown" position="absolute 64 21 134 41"/>
                  <Static id="stc_00" text="부서" class="sta_workSrcLabel1" position="absolute 154 21 216 41"/>
                  <Edit id="edt_blngOrgzNm" taborder="1" onkeydown="fn_searchBonsa_onkeydown" position="absolute 193 21 375 41"/>
                </Layout>
              </Layouts>
            </Tabpage>
            <Tabpage id="tpg_youngup" text="영업조직">
              <Layouts>
                <Layout>
                  <Static id="stc_33" class="sta_workSrcBg" position="absolute 10 10 566 52"/>
                  <Button id="btn_search" taborder="1" text="조회" onclick="tab_org_tpg_youngup_btn_search_onclick" class="btn_WFSA_src" position="absolute 470 21 548 41"/>
                  <Grid id="grd_treeList" class="grd_Mymenu_tree" taborder="1" binddataset="ds_tree_youngup" useinputpanel="false" cellsizingtype="col" autofittype="col" treeuseline="false" treeusecheckbox="false" treeinitstatus="expand,all" oncellclick="tab_org_tpg_youngup_grd_treeList_oncellclick" position="absolute 10 67 254 364">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="222"/>
                        </Columns>
                        <Rows>
                          <Row size="25"/>
                        </Rows>
                        <Band id="body">
                          <Cell displaytype="tree" edittype="tree" text="bind:orgzNm" treelevel="bind:dpthVl"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                  <Grid id="grd_list" taborder="1" binddataset="ds_userlist_youngup" useinputpanel="false" onheadclick="tab_org_tpg_youngup_grd_list_onheadclick" oncelldblclick="tab_org_tpg_youngup_grd_list_oncelldblclick" position2="absolute l:264 w:302 t:67 h:297" positiontype="position2">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="25"/>
                          <Column size="87"/>
                          <Column size="87"/>
                          <Column size="87"/>
                        </Columns>
                        <Rows>
                          <Row size="25" band="head"/>
                          <Row size="25"/>
                        </Rows>
                        <Band id="head">
                          <Cell displaytype="checkbox"/>
                          <Cell col="1" text="성명"/>
                          <Cell col="2" text="부서"/>
                          <Cell col="3" text="직위"/>
                        </Band>
                        <Band id="body">
                          <Cell displaytype="checkbox" edittype="checkbox" text="bind:_chk"/>
                          <Cell col="1" text="bind:recpTrgtNm"/>
                          <Cell col="2" text="bind:blngorgzNm"/>
                          <Cell col="3" text="bind:jbttNm"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                  <Static id="stc_32" text="성명" class="sta_workSrcLabel1" position="absolute 25 21 87 41"/>
                  <Edit id="edt_recpTrgtNm" taborder="1" onkeydown="fn_searchYoungup_onkeydown" position="absolute 64 21 134 41"/>
                  <Static id="stc_00" text="부서" class="sta_workSrcLabel1" position="absolute 154 21 216 41"/>
                  <Edit id="edt_blngOrgzNm" taborder="1" onkeydown="fn_searchYoungup_onkeydown" position="absolute 193 21 375 41"/>
                </Layout>
              </Layouts>
            </Tabpage>
          </Tabpages>
        </Tab>
        <Grid id="grd_receiveUserList" taborder="1" binddataset="ds_userlist" useinputpanel="false" onheadclick="grd_receiveUserList_onheadclick" oncelldblclick="grd_receiveUserList_oncelldblclick" position2="absolute l:645 w:302 t:75 h:379" positiontype="position2">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="25" band="left"/>
                <Column size="25" band="left"/>
                <Column size="90" band="left"/>
                <Column size="90"/>
                <Column size="70"/>
                <Column size="200"/>
              </Columns>
              <Rows>
                <Row size="25" band="head"/>
                <Row size="25"/>
              </Rows>
              <Band id="head">
                <Cell/>
                <Cell col="1" displaytype="checkbox"/>
                <Cell col="2" text="성명"/>
                <Cell col="3" text="부서"/>
                <Cell col="4" text="직위"/>
                <Cell col="5" text="이메일"/>
              </Band>
              <Band id="body">
                <Cell displaytype="image" text="expr:gfn_setRowState(ds_userlist, currow)"/>
                <Cell col="1" displaytype="checkbox" edittype="checkbox" text="bind:_chk"/>
                <Cell col="2" text="bind:recpTrgtNm"/>
                <Cell col="3" text="bind:blngorgzNm"/>
                <Cell col="4" text="bind:jbttNm"/>
                <Cell col="5" style="align:left;" text="bind:userEmilAddr"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Button id="btn_addUser" taborder="1" onclick="btn_addUser_onclick" class="btn_suttle_S_R" position="absolute 599 226 635 262"/>
        <Button id="btn_delUser" taborder="1" onclick="btn_delUser_onclick" class="btn_suttle_S_L" position="absolute 599 265 635 301"/>
        <Button id="btn_addUserAll" taborder="1" onclick="btn_addUserAll_onclick" class="btn_suttleR" position="absolute 599 187 635 223"/>
        <Button id="btn_delUserAll" taborder="1" onclick="btn_delUserAll_onclick" class="btn_suttleL" position="absolute 599 304 635 340"/>
        <Grid id="Grid01" taborder="1" useinputpanel="false" position="absolute 25 464 940 570" binddataset="ds_userlist" formats="&lt;Formats&gt;&#10;  &lt;Format id=&quot;default&quot;&gt;&#10;    &lt;Columns&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;    &lt;/Columns&gt;&#10;    &lt;Rows&gt;&#10;      &lt;Row band=&quot;head&quot; size=&quot;24&quot;/&gt;&#10;      &lt;Row band=&quot;body&quot; size=&quot;24&quot;/&gt;&#10;    &lt;/Rows&gt;&#10;    &lt;Band id=&quot;head&quot;&gt;&#10;      &lt;Cell col=&quot;0&quot; disptype=&quot;normal&quot; text=&quot;recpTrgtId&quot;/&gt;&#10;      &lt;Cell col=&quot;1&quot; disptype=&quot;normal&quot; text=&quot;recpTrgtNm&quot;/&gt;&#10;      &lt;Cell col=&quot;2&quot; disptype=&quot;normal&quot; text=&quot;blngOrgzCd&quot;/&gt;&#10;      &lt;Cell col=&quot;3&quot; disptype=&quot;normal&quot; text=&quot;blngorgzNm&quot;/&gt;&#10;      &lt;Cell col=&quot;4&quot; disptype=&quot;normal&quot; text=&quot;jbttNm&quot;/&gt;&#10;      &lt;Cell col=&quot;5&quot; disptype=&quot;normal&quot; text=&quot;dtrsNm&quot;/&gt;&#10;      &lt;Cell col=&quot;6&quot; disptype=&quot;normal&quot; text=&quot;membTypCd&quot;/&gt;&#10;      &lt;Cell col=&quot;7&quot; disptype=&quot;normal&quot; text=&quot;_chk&quot;/&gt;&#10;      &lt;Cell col=&quot;8&quot; disptype=&quot;normal&quot; text=&quot;xRowStatusType&quot;/&gt;&#10;      &lt;Cell col=&quot;9&quot; disptype=&quot;normal&quot; text=&quot;userEmilAddr&quot;/&gt;&#10;      &lt;Cell col=&quot;10&quot; disptype=&quot;normal&quot; text=&quot;persGropSrno&quot;/&gt;&#10;      &lt;Cell col=&quot;11&quot; disptype=&quot;normal&quot; text=&quot;userId&quot;/&gt;&#10;      &lt;Cell col=&quot;12&quot; disptype=&quot;normal&quot; text=&quot;membUserId&quot;/&gt;&#10;    &lt;/Band&gt;&#10;    &lt;Band id=&quot;body&quot;&gt;&#10;      &lt;Cell col=&quot;0&quot; disptype=&quot;normal&quot; text=&quot;bind:recpTrgtId&quot;/&gt;&#10;      &lt;Cell col=&quot;1&quot; disptype=&quot;normal&quot; text=&quot;bind:recpTrgtNm&quot;/&gt;&#10;      &lt;Cell col=&quot;2&quot; disptype=&quot;normal&quot; text=&quot;bind:blngOrgzCd&quot;/&gt;&#10;      &lt;Cell col=&quot;3&quot; disptype=&quot;normal&quot; text=&quot;bind:blngorgzNm&quot;/&gt;&#10;      &lt;Cell col=&quot;4&quot; disptype=&quot;normal&quot; text=&quot;bind:jbttNm&quot;/&gt;&#10;      &lt;Cell col=&quot;5&quot; disptype=&quot;normal&quot; text=&quot;bind:dtrsNm&quot;/&gt;&#10;      &lt;Cell col=&quot;6&quot; disptype=&quot;normal&quot; text=&quot;bind:membTypCd&quot;/&gt;&#10;      &lt;Cell col=&quot;7&quot; disptype=&quot;normal&quot; text=&quot;bind:_chk&quot;/&gt;&#10;      &lt;Cell col=&quot;8&quot; disptype=&quot;normal&quot; text=&quot;bind:xRowStatusType&quot;/&gt;&#10;      &lt;Cell col=&quot;9&quot; disptype=&quot;normal&quot; text=&quot;bind:userEmilAddr&quot;/&gt;&#10;      &lt;Cell col=&quot;10&quot; disptype=&quot;normal&quot; text=&quot;bind:persGropSrno&quot;/&gt;&#10;      &lt;Cell col=&quot;11&quot; disptype=&quot;normal&quot; text=&quot;bind:userId&quot;/&gt;&#10;      &lt;Cell col=&quot;12&quot; disptype=&quot;normal&quot; text=&quot;bind:membUserId&quot;/&gt;&#10;    &lt;/Band&gt;&#10;  &lt;/Format&gt;&#10;&lt;/Formats&gt;&#10;" visible="false">
          <Formats>
            <Format id="default">
              <Columns>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
              </Columns>
              <Rows>
                <Row band="head" size="24"/>
                <Row band="body" size="24"/>
              </Rows>
              <Band id="head">
                <Cell col="0" disptype="normal" text="recpTrgtId"/>
                <Cell col="1" disptype="normal" text="recpTrgtNm"/>
                <Cell col="2" disptype="normal" text="blngOrgzCd"/>
                <Cell col="3" disptype="normal" text="blngorgzNm"/>
                <Cell col="4" disptype="normal" text="jbttNm"/>
                <Cell col="5" disptype="normal" text="dtrsNm"/>
                <Cell col="6" disptype="normal" text="membTypCd"/>
                <Cell col="7" disptype="normal" text="_chk"/>
                <Cell col="8" disptype="normal" text="xRowStatusType"/>
                <Cell col="9" disptype="normal" text="userEmilAddr"/>
                <Cell col="10" disptype="normal" text="persGropSrno"/>
                <Cell col="11" disptype="normal" text="userId"/>
                <Cell col="12" disptype="normal" text="membUserId"/>
              </Band>
              <Band id="body">
                <Cell col="0" disptype="normal" text="bind:recpTrgtId"/>
                <Cell col="1" disptype="normal" text="bind:recpTrgtNm"/>
                <Cell col="2" disptype="normal" text="bind:blngOrgzCd"/>
                <Cell col="3" disptype="normal" text="bind:blngorgzNm"/>
                <Cell col="4" disptype="normal" text="bind:jbttNm"/>
                <Cell col="5" disptype="normal" text="bind:dtrsNm"/>
                <Cell col="6" disptype="normal" text="bind:membTypCd"/>
                <Cell col="7" disptype="normal" text="bind:_chk"/>
                <Cell col="8" disptype="normal" text="bind:xRowStatusType"/>
                <Cell col="9" disptype="normal" text="bind:userEmilAddr"/>
                <Cell col="10" disptype="normal" text="bind:persGropSrno"/>
                <Cell col="11" disptype="normal" text="bind:userId"/>
                <Cell col="12" disptype="normal" text="bind:membUserId"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_input_bonsa" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="orgzTypDivCd" type="STRING" size="256"/>
          <Column id="recpTrgtNm" type="STRING" size="256"/>
          <Column id="blngOrgzNm" type="STRING" size="256"/>
          <Column id="blngOrgzCd" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="orgzTypDivCd">01</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_input_youngup" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="orgzTypDivCd" type="STRING" size="256"/>
          <Column id="recpTrgtNm" type="STRING" size="256"/>
          <Column id="blngOrgzNm" type="STRING" size="256"/>
          <Column id="blngOrgzCd" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="orgzTypDivCd">02</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_input_tree" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="orgzTypDivCd" type="STRING" size="256"/>
          <Column id="bzdpDivCd" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="orgzTypDivCd"/>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_tree_bonsa" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="orgzCd" type="STRING" size="255"/>
          <Column id="hgrnOrgzCd" type="STRING" size="255"/>
          <Column id="orgzTypDivCd" type="STRING" size="255"/>
          <Column id="dpthVl" type="STRING" size="255"/>
          <Column id="crtnDttm" type="STRING" size="255"/>
          <Column id="cretId" type="STRING" size="255"/>
          <Column id="crtnIp" type="STRING" size="255"/>
          <Column id="crtnTrmlId" type="STRING" size="255"/>
          <Column id="lastAmntDttm" type="STRING" size="255"/>
          <Column id="lastAmndId" type="STRING" size="255"/>
          <Column id="lastAmntIp" type="STRING" size="255"/>
          <Column id="lastAmntTrmlId" type="STRING" size="255"/>
          <Column id="orgzNm" type="STRING" size="255"/>
          <Column id="hdqrOrgzYn" type="STRING" size="255"/>
          <Column id="_chk" type="STRING" size="1"/>
          <Column id="xRowStatusType" type="STRING" size="1"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_tree_youngup" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="orgzCd" type="STRING" size="255"/>
          <Column id="hgrnOrgzCd" type="STRING" size="255"/>
          <Column id="orgzTypDivCd" type="STRING" size="255"/>
          <Column id="dpthVl" type="STRING" size="255"/>
          <Column id="crtnDttm" type="STRING" size="255"/>
          <Column id="cretId" type="STRING" size="255"/>
          <Column id="crtnIp" type="STRING" size="255"/>
          <Column id="crtnTrmlId" type="STRING" size="255"/>
          <Column id="lastAmntDttm" type="STRING" size="255"/>
          <Column id="lastAmndId" type="STRING" size="255"/>
          <Column id="lastAmntIp" type="STRING" size="255"/>
          <Column id="lastAmntTrmlId" type="STRING" size="255"/>
          <Column id="orgzNm" type="STRING" size="255"/>
          <Column id="hdqrOrgzYn" type="STRING" size="255"/>
          <Column id="_chk" type="STRING" size="1"/>
          <Column id="xRowStatusType" type="STRING" size="1"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_userlist_bonsa" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="recpTrgtId" type="STRING" size="255"/>
          <Column id="recpTrgtNm" type="STRING" size="255"/>
          <Column id="blngOrgzCd" type="STRING" size="255"/>
          <Column id="blngorgzNm" type="STRING" size="255"/>
          <Column id="jbttNm" type="STRING" size="255"/>
          <Column id="dtrsNm" type="STRING" size="255"/>
          <Column id="membTypCd" type="STRING" size="255"/>
          <Column id="_chk" type="STRING" size="1"/>
          <Column id="xRowStatusType" type="STRING" size="1"/>
          <Column id="userEmilAddr" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_userlist_youngup" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="recpTrgtId" type="STRING" size="255"/>
          <Column id="recpTrgtNm" type="STRING" size="255"/>
          <Column id="blngOrgzCd" type="STRING" size="255"/>
          <Column id="blngorgzNm" type="STRING" size="255"/>
          <Column id="jbttNm" type="STRING" size="255"/>
          <Column id="dtrsNm" type="STRING" size="255"/>
          <Column id="membTypCd" type="STRING" size="255"/>
          <Column id="_chk" type="STRING" size="1"/>
          <Column id="xRowStatusType" type="STRING" size="1"/>
          <Column id="userEmilAddr" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_userlist" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="recpTrgtId" type="STRING" size="255"/>
          <Column id="recpTrgtNm" type="STRING" size="255"/>
          <Column id="blngOrgzCd" type="STRING" size="255"/>
          <Column id="blngorgzNm" type="STRING" size="255"/>
          <Column id="jbttNm" type="STRING" size="255"/>
          <Column id="dtrsNm" type="STRING" size="255"/>
          <Column id="membTypCd" type="STRING" size="255"/>
          <Column id="_chk" type="STRING" size="1"/>
          <Column id="xRowStatusType" type="STRING" size="1"/>
          <Column id="userEmilAddr" type="STRING" size="256"/>
          <Column id="persGropSrno" type="STRING" size="256"/>
          <Column id="userId" type="STRING" size="256"/>
          <Column id="membUserId" type="STRING" size="256"/>
          <Column id="membStupSrno" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item0" compid="tab_org.tpg_bonsa.edt_recpTrgtNm" propid="value" datasetid="ds_input_bonsa" columnid="recpTrgtNm"/>
      <BindItem id="item1" compid="tab_org.tpg_bonsa.edt_blngOrgzNm" propid="value" datasetid="ds_input_bonsa" columnid="blngOrgzNm"/>
      <BindItem id="item2" compid="tab_org.tpg_youngup.edt_recpTrgtNm" propid="value" datasetid="ds_input_youngup" columnid="recpTrgtNm"/>
      <BindItem id="item3" compid="tab_org.tpg_youngup.edt_blngOrgzNm" propid="value" datasetid="ds_input_youngup" columnid="blngOrgzNm"/>
    </Bind>
    <Script type="xscript4.0"><![CDATA[
include "LIB::lib_All.xjs";

// pv_gropSrno
// pv_ObjDsUserlist

var fv_saveDiv;

function SYS0000400104_onload(obj:Form, e:LoadEventInfo)
{
	gfn_commPopInit(obj);

	fn_init();
}

function fn_init()
{
	// 본사조직 조회(탭변경시 해당탭  트리정보 조회)
	fn_searchTreeList("01");		// 본사조직:01, 영업조직:02
	
	var arrUserInfo 		= gfn_getUserInfo();
// 	tab_org.tpg_gongyong.stc_bzdpDivNm.text = arrUserInfo["bzdpDivCd"];
// 	ds_input_youngup.setColumn(0, "bzdpDivCd", arrUserInfo["bzdpDivCd"]);
// 	ds_input_gongyong.setColumn(0, "bzdpDivCd", arrUserInfo["bzdpDivCd"]);
// 	ds_input_gongyong.setColumn(0, "userId", arrUserInfo["userId"]);
	ds_input_tree.setColumn(0, "bzdpDivCd", arrUserInfo["bzdpDivCd"]);
	
	//trace(objects["pv_ObjDsUserlist"]);
	//trace(isValidObject(pv_ObjDsUserlist));
	//trace(pv_ObjDsUserlist.saveXML());
	
	ds_userlist.appendData(pv_ObjDsUserlist, true);
	//trace(ds_userlist.saveXML());
	fn_setReceiveUserCnt();
}

function btn_close_onclick(obj:Button,  e:ClickEventInfo)
{
	close();
}


// 본사조직 처리-----------------------------------------------------------------------------------------------

// 조회버튼 클릭 후 조회
function tab_org_tpg_bonsa_btn_search_onclick(obj:Button,  e:ClickEventInfo)
{
	fn_searchBonsaCall();
}

function fn_searchBonsa_onkeydown(obj:Edit, e:KeyEventInfo)
{
	if(e.keycode == 13) {
		obj.updateToDataset();
		fn_searchBonsaCall();
	}
}

function fn_searchBonsaCall()
{
	var recpTrgtNm = this.tab_org.tpg_bonsa.edt_recpTrgtNm.value;
	var blngOrgzNm = this.tab_org.tpg_bonsa.edt_blngOrgzNm.value;
	
	if(gfn_getLength(recpTrgtNm) <= 0 && gfn_getLength(blngOrgzNm) <= 0) {
		alert("성명 또는 부서를 입력하세요!");
		return false;
	}

	fn_searchBonsa("S");
}

// 트리노드 클릭 후 조회
function tab_org_tpg_bonsa_grd_treeList_oncellclick(obj:Grid, e:GridClickEventInfo)
{
	var objDs = this.objects[obj.binddataset];

	var sOrgzCd = objDs.getColumn(e.row, "orgzCd");
	fn_searchBonsa("T", sOrgzCd);
}

/***************************************************************************
 * 함  수  명		: fn_searchBonsa()
 * Param			: 1. sDiv : 조회구분(조회버튼클릭:S, 트리노드클릭:T) 
 * 기      능		: 본사조직 받는사람 조회
 ***************************************************************************/
function fn_searchBonsa(sDiv, sOrgzCd)
{
	// 초기화
	gfn_clearSortMark(tab_org.tpg_bonsa.grd_list);
	ds_userlist_bonsa.clearData();

	// KWData 설정
	gfn_kwDataInit();
	gfn_setKwData_nameSpace("com.kyowon.krp.sys.dc.generaladmnistrationdc.DCGnrlAdmnSqlMap");
	gfn_setKwData_trscCode("SYS00004R21");
	//gfn_setKwData_sqlId("getTrgtUserList");
	gfn_setKwData_sqlId("getTrgtUserSearch");

	if(sDiv == "S") {
		// 초기화
		ds_input_bonsa.setColumn(0, "blngOrgzCd", "");
	} else {
		// 초기화
		ds_input_bonsa.setColumn(0, "recpTrgtNm", "");
		ds_input_bonsa.setColumn(0, "blngOrgzNm", "");
		
		// 트리클릭한 조직정보 설정
		ds_input_bonsa.setColumn(0, "blngOrgzCd", sOrgzCd);
		trace("sOrgzCd::"+sOrgzCd);
	}

	gfn_tranDIS(gfn_getCommTypeAppend()
				, "ds_Input=ds_input_bonsa"
				, "ds_userlist_bonsa=datas"
				, "fn_searchBonsa_callBack");
}


/***************************************************************************
 * 함  수  명		: fn_searchBonsa_callBack()
 * 기      능		: [CallBack함수] Transaction Callback함수
 ***************************************************************************/
function fn_searchBonsa_callBack(strSvcID, nErrorCode, strErrorMsg)
{
	if(nErrorCode != 0) {
		return;
	}
	
	trace(ds_userlist_bonsa.saveXML());
}	

function tab_org_tpg_bonsa_grd_list_onheadclick(obj:Grid, e:GridClickEventInfo)
{
	gfn_grdHeadClick(obj, e);
}

// 그리드 더블클릭시 받을사람 추가
function tab_org_tpg_bonsa_grd_list_oncelldblclick(obj:Grid, e:GridClickEventInfo)
{
	var objDs = this.objects[obj.binddataset];
	fn_addUser(objDs, e.row);
}


// 영업조직 처리-----------------------------------------------------------------------------------------------

// 조회버튼 클릭 후 조회
function tab_org_tpg_youngup_btn_search_onclick(obj:Button,  e:ClickEventInfo)
{
	//fn_searchYoungup("S");
	fn_searchYoungupCall();
}

function fn_searchYoungup_onkeydown(obj:Edit, e:KeyEventInfo)
{
	if(e.keycode == 13) {
		obj.updateToDataset();
		fn_searchYoungupCall();
	}
}

function fn_searchYoungupCall()
{
	var recpTrgtNm = this.tab_org.tpg_youngup.edt_recpTrgtNm.value;
	var blngOrgzNm = this.tab_org.tpg_youngup.edt_blngOrgzNm.value;
	
	if(gfn_getLength(recpTrgtNm) <= 0 && gfn_getLength(blngOrgzNm) <= 0) {
		alert("성명 또는 부서를 입력하세요!");
		return false;
	}

	fn_searchYoungup("S");
}

// 트리노드 클릭 후 조회
function tab_org_tpg_youngup_grd_treeList_oncellclick(obj:Grid, e:GridClickEventInfo)
{
	var objDs = this.objects[obj.binddataset];

	var sOrgzCd = objDs.getColumn(e.row, "orgzCd");
	fn_searchYoungup("T", sOrgzCd);
}


/***************************************************************************
 * 함  수  명		: fn_searchYoungup()
 * Param			: 1. sDiv : 조회구분(조회버튼클릭:S, 트리노드클릭:T) 
 * 기      능		: 영업조직 받는사람 조회
 ***************************************************************************/
function fn_searchYoungup(sDiv, sOrgzCd)
{
	// 초기화
	gfn_clearSortMark(tab_org.tpg_youngup.grd_list);
	ds_userlist_youngup.clearData();	
	
	// KWData 설정
	gfn_kwDataInit();
	gfn_setKwData_nameSpace("com.kyowon.krp.sys.dc.generaladmnistrationdc.DCGnrlAdmnSqlMap");
	gfn_setKwData_trscCode("SYS00004R21");
	//gfn_setKwData_sqlId("getTrgtUserList");
	gfn_setKwData_sqlId("getTrgtUserSearch");

	if(sDiv == "S") {
		// 초기화
		ds_input_youngup.setColumn(0, "blngOrgzCd", "");
	} else {
		// 초기화
		ds_input_youngup.setColumn(0, "recpTrgtNm", "");
		ds_input_youngup.setColumn(0, "blngOrgzNm", "");
		
		// 트리클릭한 조직정보 설정
		ds_input_youngup.setColumn(0, "blngOrgzCd", sOrgzCd);
		trace("sOrgzCd::"+sOrgzCd);
	}

	gfn_tranDIS(gfn_getCommTypeAppend()
				, "ds_Input=ds_input_youngup"
				, "ds_userlist_youngup=datas"
				, "fn_searchYoungup_callBack");
}


/***************************************************************************
 * 함  수  명		: fn_searchYoungup_callBack()
 * 기      능		: [CallBack함수] Transaction Callback함수
 ***************************************************************************/
function fn_searchYoungup_callBack(strSvcID, nErrorCode, strErrorMsg)
{
	if(nErrorCode != 0) {
		return;
	}
	
	//trace(ds_userlist_youngup.saveXML());
}	

function tab_org_tpg_youngup_grd_list_onheadclick(obj:Grid, e:GridClickEventInfo)
{
	gfn_grdHeadClick(obj, e);
}

function tab_org_tpg_youngup_grd_list_oncelldblclick(obj:Grid, e:GridClickEventInfo)
{
	var objDs = this.objects[obj.binddataset];
	fn_addUser(objDs, e.row);
}


// 공통 처리-----------------------------------------------------------------------------------------------

/***************************************************************************
 * 함  수  명		: fn_searchTreeList()
 * 기      능		: 본사조직/영업조직 트리리스트 조회
 ***************************************************************************/
function fn_searchTreeList(sDiv)
{
	// KWData 설정
	gfn_kwDataInit();
	gfn_setKwData_nameSpace("com.kyowon.krp.sys.dc.generaladmnistrationdc.DCGnrlAdmnSqlMap");
	gfn_setKwData_trscCode("SYS00004R14");

	ds_input_tree.setColumn(0, "orgzTypDivCd", sDiv);
	
	if(sDiv == "01") {
		gfn_setKwData_sqlId("getTrgtOrgzStrc");
		var sOutDatasets = "ds_tree_bonsa=datas";
	} else if(sDiv == "02") {
		gfn_setKwData_sqlId("getTrgtOrgzStrc");
		var sOutDatasets = "ds_tree_youngup=datas";
	}

	gfn_tranDIS(gfn_getCommTypeAppend()
				, "ds_Input=ds_input_tree"
				, sOutDatasets
				, "fn_searchTreeList_callBack");
}

/***************************************************************************
 * 함  수  명		: fn_searchTreeList_callBack()
 * 기      능		: [CallBack함수] Transaction Callback함수
 ***************************************************************************/
function fn_searchTreeList_callBack(strSvcID, nErrorCode, strErrorMsg)
{
	if(nErrorCode != 0) {
		return;
	}
}	

function tab_org_onchanged(obj:Tab, e:TabIndexChangeEventInfo)
{
	if(e.postindex == 0) {
		if(ds_tree_bonsa.rowcount <= 0) fn_searchTreeList("01");		// 본사조직:01, 영업조직:02
	} else if(e.postindex == 1) {
		if(ds_tree_youngup.rowcount <= 0) fn_searchTreeList("02");		// 본사조직:01, 영업조직:02
	} 
}

// 받는사람 리스트 추가
function btn_addUser_onclick(obj:Button,  e:ClickEventInfo)
{
	fn_addUserCall("S");
}

function btn_addUserAll_onclick(obj:Button,  e:ClickEventInfo)
{
	fn_addUserCall("A");
}

function fn_addUserCall(sGbn)
{
	var objDs;
	var objGrid;
	
	if(tab_org.tabindex == 0) {				// 본사조직
		objDs 	= ds_userlist_bonsa;
		objGrid	= tab_org.tpg_bonsa.grd_list;
	} else if(tab_org.tabindex == 1) {		// 영업조직
		objDs 	= ds_userlist_youngup;
		objGrid	= tab_org.tpg_youngup.grd_list;
	}
		
	for(var i=0;i<objDs.rowcount;i++)
	{
		if(sGbn == "A") {
			fn_addUser(objDs, i);
		} else {
			if(objDs.getColumn(i, "_chk") == 1) {
				fn_addUser(objDs, i);
			}
		}	
	}	
	
	objGrid.setCellProperty("head", 0, "text", 0);
	
	fn_setReceiveUserCnt();
}

// 받는사람 리스트 추가
function fn_addUser(objDs, nFromRow)
{
	var objUserInfo	= gfn_getUserInfo();
	var nFRow = ds_userlist.findRow("recpTrgtId", objDs.getColumn(nFromRow, "recpTrgtId"));

	if(nFRow == -1) {
		//var nRow = ds_userlist.addRow();
		var nRow = gfn_addDs(ds_userlist);
		ds_userlist.copyRow(nRow, objDs, nFromRow, "recpTrgtId=recpTrgtId,recpTrgtNm=recpTrgtNm,blngOrgzCd=blngOrgzCd,blngorgzNm=blngorgzNm,jbttNm=jbttNm,dtrsNm=dtrsNm,membTypCd=membTypCd,userEmilAddr=userEmilAddr,membUserId=recpTrgtId,membStupSrno=membStupSrno");
		
		ds_userlist.setColumn(nRow, "persGropSrno", pv_gropSrno);
		ds_userlist.setColumn(nRow, "userId", 		objUserInfo.userId);
		//ds_userlist.setColumn(nRow, "membUserId", 	gfn_transNullToNumber(ds_userlist.getMax("membUserId"))+1);
		//ds_userlist.setColumn(nRow, "membUserId", 	gfn_transNullToNumber(ds_userlist.getMax("membUserId"))+1);
		
		objDs.setColumn(nFromRow, "_chk", 0);
	}	
	
	trace(ds_userlist.saveXML());
}

// 받는사람 리스트 삭제
function btn_delUser_onclick(obj:Button,  e:ClickEventInfo)
{
	fn_delUserCall("S");
}

function btn_delUserAll_onclick(obj:Button,  e:ClickEventInfo)
{
	fn_delUserCall("A");
}

function fn_delUserCall(sGbn)
{
	grd_receiveUserList.setCellProperty("head", 1, "text", 0);

	if(sGbn == "A") {
		gfn_delGrid(ds_userlist, false);
	} else {
		gfn_delGrid(ds_userlist);
	}
	
	fn_setCommInfo();
	
// 	for(var i=ds_userlist.rowcount-1;i>=0;i--)
// 	{
// 		if(sGbn == "A") {
// 			ds_userlist.deleteRow(i);
// 			
// 		} else {
// 			if(ds_userlist.getColumn(i, "_chk") == 1) {
// 				ds_userlist.deleteRow(i);
// 			}		
// 		}
// 	}
// 	
	fn_setReceiveUserCnt();
}

function fn_setCommInfo()
{
	var objUserInfo	= gfn_getUserInfo();
	
	for(var i=0;i<this.ds_userlist.rowcount;i++)
	{
		ds_userlist.setColumn(i, "userId", 			objUserInfo.userId);
		ds_userlist.setColumn(i, "persGropSrno", 	pv_gropSrno);
	}
}

function grd_receiveUserList_onheadclick(obj:Grid, e:GridClickEventInfo)
{
	gfn_grdHeadClick(obj, e);
}

function btn_commit_onclick(obj:Button,  e:ClickEventInfo)
{
	var objDs = this.removeChild("ds_userlist");
	close(objDs);
}

function grd_receiveUserList_oncelldblclick(obj:Grid, e:GridClickEventInfo)
{
	var objDs = this.objects[obj.binddataset];
	gfn_delGridRow(objDs, e.row);
	
	fn_setCommInfo();
	
// 	var objDs = this.objects[obj.binddataset];
// 	objDs.deleteRow(e.row);
}

function fn_setReceiveUserCnt()
{
	var recpCnt = "수신자수 : <b v='true'>"+ds_userlist.rowcount+"</b> 명";
	//stc_recpCnt.text = recpCnt;
}

function btn_close_onclick(obj:Button,  e:ClickEventInfo)
{
	close();
}


function btn_save_onclick(obj:Button,  e:ClickEventInfo)
{
	if(!confirm("구성원등록 하시겠습니까?")) return;
	
	fn_saveGropMember();
}

function fn_saveGropMember()
{
	// KWData 설정
	gfn_kwDataInit();
	gfn_setKwData_trscCode("SYS00002C32");

	gfn_tranNMCI(gfn_getCommTypeSave()
				, "ds_Input=ds_userlist:U"
				, ""
				, "fn_saveGropMember_callBack");
}

/***************************************************************************
 * 함  수  명		: fn_saveGropMember_callBack()
 * 기      능		: [CallBack함수] Transaction Callback함수
 ***************************************************************************/
function fn_saveGropMember_callBack(strSvcID, nErrorCode, strErrorMsg)
{
	if(nErrorCode != 0) {
		return;
	}
	
	fv_saveDiv = "OK";
	
	close(fv_saveDiv);
}	]]></Script>
  </Form>
</FDL>
