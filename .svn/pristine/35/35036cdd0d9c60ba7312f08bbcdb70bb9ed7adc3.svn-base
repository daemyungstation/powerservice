<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\default_typedef.xml"/>
  <Form id="MN030101" classname="MN010111" inheritanceid="" position="absolute 0 0 767 426" titletext="회사정보" onload="MN020102_1_onload">
    <Layouts>
      <Layout>
        <Static id="stc_31" class="sta_popupBg1" enable="false" position="absolute 0 1 764 422" onclick="stc_31_onclick"/>
        <Static id="stc_30" text="회사정보" class="sta_popupTitle" transparenthittest="true" position="absolute 10 8 185 28"/>
        <Button id="btn_save" taborder="12" tabstop="false" onclick="btn_save_onclick" class="btn_WF_Save" position="absolute 680 45 744 65" tooltiptext="저장" style="padding:0 0 0 0;"/>
        <Button id="btn_init" taborder="13" tabstop="false" text="초기화" onclick="btn_init_onclick" class="btn_WF_Common" position="absolute 601 45 673 65" tooltiptext="초기화" style="border:0 none #000000ff ;padding:0 0 0 0;" visible="false"/>
        <Button id="btn_close" taborder="18" onclick="btn_close_onclick" class="btn_popupClose" position="absolute 731 7 751 26"/>
        <Static id="stc_00" class="sta_workData" position="absolute 9 195 745 221"/>
        <Static id="stc_02" class="sta_workData" position="absolute 9 170 745 196"/>
        <Static id="stc_10" class="sta_workData" position="absolute 9 120 745 146"/>
        <Static id="stc_21" class="sta_workData" position="absolute 9 70 745 96" onclick="stc_21_onclick"/>
        <Static id="stc_04" class="sta_workData" position="absolute 9 95 745 121" style="font:arial,12,bold;"/>
        <Static id="stc_15" text="기본 정보 " class="sta_workTitle2" position="absolute 9 49 221 69"/>
        <Static id="sta_GrayLine" class="sta_WF_Line1" onclick="sta_GrayLine_onclick" position2="absolute l:9 w:735 t:69 h:1" positiontype="position2"/>
        <Static id="mem_nm_txt" text="상     호" class="sta_workLabel1_P" position="absolute 9 70 83 96" validate=""/>
        <Static id="stc_09" text="사업자번호" class="sta_workLabel1" position="absolute 377 70 465 96" validate=""/>
        <Static id="stc_06" class="sta_workData" position="absolute 9 145 745 171"/>
        <Static id="stc_08" text="홈페이지" class="sta_workLabel1" position="absolute 377 145 452 171" validate=""/>
        <Static id="stc_11" class="sta_workData" position="absolute 9 220 745 246"/>
        <Static id="stc_12" text="이메일" class="sta_workLabel1" position="absolute 9 145 83 171" validate=""/>
        <Static id="mem_nm_txt00" text="대표자명" class="sta_workLabel1_P" position="absolute 9 95 83 121" validate=""/>
        <Static id="stc_40" text="주 소 지" class="sta_workLabel1" position="absolute 9 170 83 221" validate="" style="align:center middle;"/>
        <Static id="stc_07" text="대표전화" class="sta_workLabel1" position="absolute 377 95 452 121" validate=""/>
        <Static id="stc_20" text="종  목" class="sta_workLabel1" position="absolute 377 120 452 146" validate="" style="align:left top;"/>
        <Static id="stc_22" text="문자 ID" class="sta_workLabel1" position="absolute 9 220 83 246" validate="" style="font:Dotum,8;"/>
        <Edit id="edt_corp_nm" taborder="20" imemode="hangul" lengthunit="utf8" maxlength="33" onkeydown="mem_onkeydown" position="absolute 86 73 362 93"/>
        <Edit id="edt_bsns_regno" taborder="25" inputtype="number,symbol" lengthunit="utf8" maxlength="13" onkillfocus="phone_onkillfocus" onkeydown="mem_onkeydown" ontextchanged="phone_ontextchanged" position="absolute 475 73 653 93"/>
        <Edit id="edt_email" taborder="33" imemode="alpha" lengthunit="utf8" maxlength="60" position="absolute 86 148 261 168"/>
        <Edit id="edt_site_id" taborder="34" imemode="alpha" lengthunit="utf8" maxlength="60" position="absolute 455 148 632 168"/>
        <Button id="btn_srchAddrPop" taborder="27" tabstop="false" onclick="btn_srchAddrPop_onclick" class="btn_workSrcPop" position="absolute 635 173 655 193"/>
        <Edit id="edt_addr" taborder="28" enable="false" position="absolute 163 173 632 193"/>
        <Edit id="edt_addr2" taborder="29" imemode="hangul" lengthunit="utf8" maxlength="300" position="absolute 86 198 424 218"/>
        <Edit id="edt_custmr_tel" taborder="38" imemode="alpha" lengthunit="utf8" maxlength="60" position="absolute 455 98 630 118"/>
        <Edit id="edt_bsns_type" taborder="39" imemode="alpha" lengthunit="utf8" maxlength="60" position="absolute 455 123 633 143"/>
        <Edit id="edt_char_id" taborder="41" imemode="alpha" lengthunit="utf8" maxlength="60" position="absolute 86 223 261 243"/>
        <Edit id="edt_ceo_nm" taborder="24" lengthunit="utf8" maxlength="13" position="absolute 86 98 216 118" readonly="false"/>
        <Edit id="edt_zip" taborder="47" enable="false" position="absolute 86 173 160 193" style=":disabled {align:center middle;}"/>
        <Static id="stc_01" text="업   태" class="sta_workLabel1" position="absolute 9 120 83 146" style="align:left top;" validate=""/>
        <Edit id="edt_bsns_codt" taborder="50" imemode="alpha" lengthunit="utf8" maxlength="60" position="absolute 86 123 264 143"/>
        <Edit id="edt_staff_tel00" taborder="51" imemode="alpha" lengthunit="utf8" maxlength="60" position="absolute 455 223 630 243"/>
        <Static id="stc_05" text="사이트 ID" class="sta_workLabel1" position="absolute 377 220 453 246" style="font:Dotum,8;" validate=""/>
        <Static id="stc_19" onclick="stc_21_onclick" class="sta_workData" position="absolute 8 277 744 303"/>
        <Static id="stc_24" text="SMS" class="sta_workTitle2" position="absolute 8 256 220 276"/>
        <Static id="sta_GrayLine00" onclick="sta_GrayLine_onclick" class="sta_WF_Line1" position2="absolute l:8 w:735 t:276 h:1" positiontype="position2"/>
        <Static id="mem_nm_txt02" text="사용자 ID" class="sta_workLabel1_P" position="absolute 8 277 84 303" validate=""/>
        <Static id="stc_25" text="비밀번호 ID" class="sta_workLabel1" position="absolute 377 277 466 303" validate=""/>
        <Edit id="edt_user_id" taborder="52" imemode="hangul" lengthunit="utf8" maxlength="33" onkeydown="mem_onkeydown" position="absolute 87 280 363 300"/>
        <Edit id="edt_conf_no_id" taborder="53" inputtype="number,symbol" lengthunit="utf8" maxlength="13" onkillfocus="phone_onkillfocus" onkeydown="mem_onkeydown" ontextchanged="phone_ontextchanged" position="absolute 469 280 647 300"/>
        <Static id="stc_26" onclick="stc_21_onclick" class="sta_workData" position="absolute 8 302 744 328"/>
        <Static id="stc_27" text="CMS 방법" class="sta_workLabel1" position="absolute 8 302 87 328" validate=""/>
        <Combo id="cbo_cms_mthd" taborder="54" position="absolute 91 305 272 325" index="-1" codecolumn="codecolumn" datacolumn="datacolumn">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn">1</Col>
                <Col id="datacolumn">기관</Col>
              </Row>
              <Row>
                <Col id="codecolumn">2</Col>
                <Col id="datacolumn">부가</Col>
              </Row>
            </Rows>
          </Dataset>
        </Combo>
        <Static id="stc_28" onclick="stc_21_onclick" class="sta_workData" position="absolute 8 361 744 387"/>
        <Static id="stc_29" text="카  드" class="sta_workTitle2" position="absolute 8 340 220 360"/>
        <Static id="sta_GrayLine01" onclick="sta_GrayLine_onclick" class="sta_WF_Line1" position2="absolute l:8 w:735 t:360 h:1" positiontype="position2"/>
        <Static id="mem_nm_txt03" text="카드 가맹점 코드" class="sta_workLabel1_P" position="absolute 8 361 121 387" validate=""/>
        <Static id="stc_32" text="단말번호" class="sta_workLabel1" position="absolute 377 361 466 387" validate=""/>
        <Edit id="edt_card_mem_cd" taborder="55" imemode="hangul" lengthunit="utf8" maxlength="33" onkeydown="mem_onkeydown" position="absolute 124 364 320 384"/>
        <Edit id="edt_card_terminl_no" taborder="56" inputtype="number,symbol" lengthunit="utf8" maxlength="13" onkillfocus="phone_onkillfocus" onkeydown="mem_onkeydown" ontextchanged="phone_ontextchanged" position="absolute 469 364 647 384"/>
        <Static id="stc_33" onclick="stc_21_onclick" class="sta_workData" position="absolute 8 386 744 412"/>
        <Static id="stc_34" text="파일경로" class="sta_workLabel1" position="absolute 8 386 87 412" validate=""/>
        <Edit id="edt_card_file_no" taborder="57" imemode="hangul" lengthunit="utf8" maxlength="33" onkeydown="mem_onkeydown" position="absolute 91 389 711 409"/>
      </Layout>
    </Layouts>
    <Bind>
      <BindItem id="item6" compid="edt_corp_nm" propid="value" datasetid="ds_list" columnid="corp_nm"/>
      <BindItem id="item10" compid="edt_ceo_nm" propid="value" datasetid="ds_list" columnid="ceo_nm"/>
      <BindItem id="item11" compid="edt_bsns_regno" propid="value" datasetid="ds_list" columnid="bsns_regno"/>
      <BindItem id="item12" compid="edt_addr" propid="value" datasetid="ds_list" columnid="addr"/>
      <BindItem id="item13" compid="edt_addr2" propid="value" datasetid="ds_list" columnid="addr2"/>
      <BindItem id="item3" compid="edt_email" propid="value" datasetid="ds_list" columnid="email"/>
      <BindItem id="item4" compid="edt_site_id" propid="value" datasetid="ds_list" columnid="site_id"/>
      <BindItem id="item15" compid="edt_custmr_tel" propid="value" datasetid="ds_list" columnid="tel"/>
      <BindItem id="item16" compid="edt_bsns_type" propid="value" datasetid="ds_list" columnid="bsns_type"/>
      <BindItem id="item0" compid="edt_char_id" propid="value" datasetid="ds_list" columnid="char_id"/>
      <BindItem id="item2" compid="edt_zip" propid="value" datasetid="ds_list" columnid="zip"/>
      <BindItem id="item5" compid="edt_bsns_codt" propid="value" datasetid="ds_list" columnid="bsns_codt"/>
      <BindItem id="item14" compid="edt_staff_tel00" propid="value" datasetid="ds_list" columnid="site_id"/>
      <BindItem id="item17" compid="edt_user_id" propid="value" datasetid="ds_list" columnid="user_id"/>
      <BindItem id="item19" compid="edt_conf_no_id" propid="value" datasetid="ds_list" columnid="conf_no_id"/>
      <BindItem id="item20" compid="edt_card_mem_cd" propid="value" datasetid="ds_list" columnid="card_mem_cd"/>
      <BindItem id="item21" compid="edt_card_terminl_no" propid="value" datasetid="ds_list" columnid="card_terminl_no"/>
      <BindItem id="item22" compid="edt_card_file_no" propid="value" datasetid="ds_list" columnid="card_file_path"/>
      <BindItem id="item1" compid="cbo_cms_mthd" propid="value" datasetid="ds_list" columnid="cms_mthd"/>
    </Bind>
    <Objects>
      <Dataset id="ds_trans_info" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="strSvcID" type="STRING" size="256"/>
          <Column id="strURL" type="STRING" size="256"/>
          <Column id="strInDatasets" type="STRING" size="256"/>
          <Column id="strOutDatasets" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_list" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="corp_nm" type="STRING" size="256"/>
          <Column id="ceo_nm" type="STRING" size="256"/>
          <Column id="bsns_regno" type="STRING" size="256"/>
          <Column id="bsns_codt" type="STRING" size="256"/>
          <Column id="bsns_type" type="STRING" size="256"/>
          <Column id="tel" type="STRING" size="256"/>
          <Column id="zip" type="STRING" size="256"/>
          <Column id="addr" type="STRING" size="256"/>
          <Column id="addr2" type="STRING" size="256"/>
          <Column id="email" type="STRING" size="256"/>
          <Column id="homep" type="STRING" size="256"/>
          <Column id="char_id" type="STRING" size="256"/>
          <Column id="site_id" type="STRING" size="256"/>
          <Column id="user_id" type="STRING" size="256"/>
          <Column id="conf_no_id" type="STRING" size="256"/>
          <Column id="note" type="STRING" size="256"/>
          <Column id="cms_mthd" type="STRING" size="256"/>
          <Column id="reg_dm" type="STRING" size="256"/>
          <Column id="reg_man" type="STRING" size="256"/>
          <Column id="upd_dm" type="STRING" size="256"/>
          <Column id="upd_man" type="STRING" size="256"/>
          <Column id="card_mem_cd" type="STRING" size="256"/>
          <Column id="card_terminl_no" type="STRING" size="256"/>
          <Column id="card_file_path" type="STRING" size="256"/>
          <Column id="seq" type="INT" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Script type="xscript4.0"><![CDATA[/********************************************************************************************/
/* 1. Include Library include, variables Declaration 영역                                  */
/********************************************************************************************/

include "LIB::lib_All.xjs";
var gv_jab_sel = "";				// 입력인지 조회인지  입력이면 1  조회면 2
var gv_custmr_cd = "";				// 순번

/********************************************************************************************/
/* 2. Form 관련(onload 및 Form 이벤트) 처리                                           	*/
/********************************************************************************************/


 function MN020102_1_onload(obj:Form, e:LoadEventInfo)
{
		fn_UseEntr("getUseEntrList");
		
 }
 
/********************************************************************************************/
/* 3. Callback(gfn_Transaction 호출 후 처리내용)                                   		*/
/********************************************************************************************/
function fn_callBack(svcid, errcd, errmsg)
{
   		switch (svcid) {
			// 조회
			case "getUseEntrList":
				fn_postSearch();
			break;
		
			case "updateUseEntr":
				alert("수정하였습니다.");
				fn_UseEntr("getUseEntrList");
			break;

		}
   
}

	

/********************************************************************************************/
/**   4. Validation 처리                                                                   	*/
/********************************************************************************************/
// 저장  전
function fn_preUseEntrSave(svcid){

				if (gfn_isNull(edt_corp_nm.value)) {
					
						alert("상호명을 입력하세요.");
						return false;
					
 					}else if(gfn_isNull(edt_ceo_nm.value)){
 					
 						alert("대표자명을 입력하세요.");
							return false;
							
					}else if (gfn_isNull(edt_user_id.value)) {
						alert("SMS 사용자 ID를 입력하세요.");
						return false;
						
					}else if (gfn_isNull(edt_card_mem_cd.value)) {
						alert("카드 가맹점 코드를 입력하세요.");
						return false;
						
					}else{
	
					
		}
	return true;
}

/********************************************************************************************/



/********************************************************************************************/
/**   5. 서비스 호출(gfn_Transaction)                                                   	*/

function fn_UseEntr(svcid)
{

		if (svcid =='updateUseEntr') {	//수정
		  if(!fn_preUseEntrSave(svcid)){return false;}
		  		var szSvcid       = "updateUseEntr";
				var szController  = "/dlw/others/updateUseEntr";
				var szInDs        = "ds_input=ds_list:U";
				var szOutDs       = "";
				var szParam       = "";
				var szRetCallback = "fn_callBack";
		} 
		
		if (svcid =='getUseEntrList') { //조회
			var szSvcid       = "getUseEntrList";
			var szController  = "/dlw/others/getUseEntrList";
			var szInDs        = "";
			var szOutDs       = "ds_list=ds_output";
			var szParam       = "";
			var szRetCallback = "fn_callBack";
		 }
		
	 
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}



/********************************************************************************************/
/**   7. 이벤트(Event) Function                                                          	*/
/********************************************************************************************/

//저장
	function btn_save_onclick(obj:Button,  e:ClickEventInfo)
	{
		fn_UseEntr("updateUseEntr");
	}


//닫기
	function btn_close_onclick(obj:Button,  e:ClickEventInfo)
	{
		close();
	}

 //조회 결과 
   function fn_postSearch(svcid)
   {
		if(ds_list.rowcount < 1) {
			alert("조회된 자료가 없습니다.");
			ds_list.clearData();
		}
   }
 


function btn_srchAddrPop_onclick(obj:Button,  e:ClickEventInfo)
{
	//var reVal = gfn_diaLog("우편번호조회", -1, -1, -1, -1, "PS990000::PS994100.xfdl", false, {}, false, false, true, null, null, true);
	var sPrmr = {};
	var reVal = gfn_diaLog("주소 조회", -1, -1, 884, 601, "PS990000::PS992099.xfdl", false, sPrmr, false, false, true);	
}

// 주소 값 등록(팝업창 호출)
function fn_daum_addr()
{
	edt_zip.value = gv_dpost; 
	edt_addr.value = gv_daddr;	
}

]]></Script>
  </Form>
</FDL>
