<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\default_typedef.xml"/>
  <Form id="PS21000101" classname="PS21000101" inheritanceid="" position="absolute 0 0 1200 701" titletext="캠페인선택" scrollbars="none" onload="PS21000101_onload" ontimer="PS21000101_ontimer">
    <Layouts>
      <Layout>
        <Static id="stc_44" class="sta_workSrcBg" position2="absolute l:1 r:1 t:25px h:42" positiontype="position2">
          <Layouts>
            <Layout width="989" height="42"/>
          </Layouts>
        </Static>
        <Static id="stc_113" class="sta_workSrcBg" position2="absolute l:1 r:1 t:81 h:108" positiontype="position2">
          <Layouts>
            <Layout width="989" height="42"/>
          </Layouts>
        </Static>
        <Grid id="grd_list" taborder="30" binddataset="ds_list_trgtCustAlct" useinputpanel="false" position2="absolute l:0 r:1 t:228 b:27" positiontype="position2" onvscrolllastover="grd_onvscrolllastover" oncellclick="grd_oncellclick" onheadclick="grd_list_onheadclick" onselectchanged="grd_list_onselectchanged" tabstop="false">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="60"/>
                <Column size="126"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="102"/>
                <Column size="70"/>
                <Column size="100"/>
                <Column size="70"/>
                <Column size="0"/>
                <Column size="0"/>
                <Column size="0"/>
                <Column size="0"/>
                <Column size="85"/>
                <Column size="90"/>
                <Column size="125"/>
                <Column size="125"/>
                <Column size="125"/>
                <Column size="125"/>
                <Column size="125"/>
                <Column size="125"/>
                <Column size="125"/>
                <Column size="125"/>
                <Column size="125"/>
                <Column size="125"/>
                <Column size="124"/>
                <Column size="102"/>
                <Column size="108"/>
                <Column size="108"/>
                <Column size="108"/>
                <Column size="75"/>
                <Column size="60"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="NO"/>
                <Cell col="1" text="서브타겟리스트"/>
                <Cell col="2" text="가입방법"/>
                <Cell col="3" text="고객명"/>
                <Cell col="4" text="고객번호"/>
                <Cell col="5" text="회원번호"/>
                <Cell col="6" text="최종일시"/>
                <Cell col="7" text="처리상태"/>
                <Cell col="8" text="통화결과"/>
                <Cell col="9" text="시도횟수"/>
                <Cell col="10" text="휴대전화"/>
                <Cell col="11" text="진행상태"/>
                <Cell col="12" text="생년월일"/>
                <Cell col="13" text="본인인증"/>
                <Cell col="14" text="신용심사결과"/>
                <Cell col="15" text="전자서명상태"/>
                <Cell col="16" text="사용자 정의 1"/>
                <Cell col="17" text="사용자 정의 2"/>
                <Cell col="18" text="사용자 정의 3"/>
                <Cell col="19" text="사용자 정의 4"/>
                <Cell col="20" text="사용자 정의 5"/>
                <Cell col="21" text="사용자 정의 6"/>
                <Cell col="22" text="사용자 정의 7"/>
                <Cell col="23" text="사용자 정의 8"/>
                <Cell col="24" text="사용자 정의 9"/>
                <Cell col="25" text="사용자 정의 10"/>
                <Cell col="26" text="캠페인 유형(소)"/>
                <Cell col="27" text="등록일시"/>
                <Cell col="28" text="일반전화"/>
                <Cell col="29" text="회사전화"/>
                <Cell col="30" text="기타전화"/>
                <Cell col="31" text="예약일"/>
                <Cell col="32" text="예약시간"/>
              </Band>
              <Band id="body">
                <Cell expr="currow+1"/>
                <Cell col="1" style="align:left;" text="bind:sub_trgt_list_nm"/>
                <Cell col="2" text="bind:join_method"/>
                <Cell col="3" text="bind:cust_nm"/>
                <Cell col="4" text="bind:mem_no"/>
                <Cell col="5" text="bind:accnt_no"/>
                <Cell col="6" displaytype="expr:expr:dpms_dttm !=null ? &quot;date&quot; : &quot;normal&quot; " text="bind:dpms_dttm" mask="expr:dpms_dttm != null ? &quot;yyyy-MM-dd HH:mm&quot;:&quot;&quot;"/>
                <Cell col="7" text="bind:dpms_stat_nm"/>
                <Cell col="8" text="bind:dpms_resl_nm"/>
                <Cell col="9" style="align: ;" text="bind:dpms_tmcnt" expr="gfn_commaStr(dpms_tmcnt)"/>
                <Cell col="10" displaytype="expr:expr:gfn_isNull(clph_tlno) ? &quot;nomal&quot; : &quot;mask&quot;" edittype="readonly" text="bind:clph_tlno" expr="gfn_isNull(clph_tlno) ? &quot;&quot; : clph_tlno" mask="expr:gfn_SetTelNoGrdMask(clph_tlno)" editdisplay="display"/>
                <Cell col="11" style="align:center;" text="bind:upp_tx_type_nm" tooltiptype="mouse,mouseleave" tooltiptext="bind:upp_tx_type_nm"/>
                <Cell col="12" displaytype="date" style="align:center;" text="bind:brth_mon_day" calendardisplaynulltype="nulltext" tooltiptype="mouse,mouseleave" tooltiptext="bind:brth_mon_day"/>
                <Cell col="13" style="align:center;" text="bind:ci_yn" tooltiptype="mouse,mouseleave" tooltiptext="bind:acuon_fitness_yn"/>
                <Cell col="14" style="align:center;" text="bind:acuon_fitness_yn" tooltiptype="mouse,mouseleave" tooltiptext="bind:ci_yn"/>
                <Cell col="15" text="bind:status_nm"/>
                <Cell col="16" style="align:left;" text="bind:user_defn1_cntn" tooltiptype="mouse,mouseleave" tooltiptext="bind:user_defn1_cntn"/>
                <Cell col="17" style="align:left;" text="bind:user_defn2_cntn" tooltiptype="mouse,mouseleave" tooltiptext="bind:user_defn2_cntn"/>
                <Cell col="18" style="align:left;" text="bind:user_defn3_cntn" tooltiptype="mouse,mouseleave" tooltiptext="bind:user_defn3_cntn"/>
                <Cell col="19" style="align:left;" text="bind:user_defn4_cntn" tooltiptype="mouse,mouseleave" tooltiptext="bind:user_defn4_cntn"/>
                <Cell col="20" style="align:left;" text="bind:user_defn5_cntn" expr="expr:user_defn5_cntn =='04' ? 'CMS' : (user_defn5_cntn =='06' ? 'Card' : (user_defn5_cntn=='01' ? '손수': user_defn5_cntn))" tooltiptype="mouse,mouseleave" tooltiptext="bind:user_defn5_cntn"/>
                <Cell col="21" style="align:left;" text="bind:user_defn6_cntn" tooltiptype="mouse,mouseleave" tooltiptext="bind:user_defn6_cntn"/>
                <Cell col="22" style="align:left;" text="bind:user_defn7_cntn" tooltiptype="mouse,mouseleave" tooltiptext="bind:user_defn7_cntn"/>
                <Cell col="23" style="align:left;" text="bind:user_defn8_cntn" tooltiptype="mouse,mouseleave" tooltiptext="bind:user_defn8_cntn"/>
                <Cell col="24" style="align:left;" text="bind:user_defn9_cntn" tooltiptype="mouse,mouseleave" tooltiptext="bind:user_defn9_cntn"/>
                <Cell col="25" style="align:left;" text="bind:user_defn10_cntn" tooltiptype="mouse,mouseleave" tooltiptext="bind:user_defn10_cntn"/>
                <Cell col="26" style="align:left;" text="bind:cmpg_typ_nm"/>
                <Cell col="27" displaytype="expr:expr:rgsn_dttm !=null ? &quot;date&quot; : &quot;normal&quot; " text="bind:rgsn_dttm" mask="expr:rgsn_dttm != null ? &quot;yyyy-MM-dd HH:mm&quot;:&quot;&quot;"/>
                <Cell col="28" displaytype="expr:expr:gfn_isNull(home_tlno) ? &quot;nomal&quot; : &quot;mask&quot;" edittype="readonly" text="bind:home_tlno" expr="expr:gfn_isNull(home_tlno) ? &quot;&quot; : home_tlno" mask="expr:gfn_SetTelNoGrdMask(home_tlno)" editdisplay="edit"/>
                <Cell col="29" displaytype="expr:expr:expr:gfn_isNull(comp_tlno) ? &quot;nomal&quot; : &quot;mask&quot;" edittype="readonly" text="bind:comp_tlno" expr="expr:gfn_isNull(comp_tlno) ? &quot;&quot; : comp_tlno" mask="expr:gfn_SetTelNoGrdMask(comp_tlno)" editdisplay="edit"/>
                <Cell col="30" displaytype="expr:gfn_isNull(etc_tlno) ? &quot;nomal&quot; : &quot;mask&quot;" edittype="readonly" text="bind:etc_tlno" expr="expr:expr:gfn_isNull(etc_tlno) ? &quot;&quot; : etc_tlno" mask="expr:expr:gfn_SetTelNoGrdMask(etc_tlno)" editdisplay="edit"/>
                <Cell col="31" displaytype="date" text="bind:reserve_proc_dt" calendardisplaynulltype="none"/>
                <Cell col="32" text="bind:reserve_proc_tm"/>
              </Band>
            </Format>
            <Format id="unpy">
              <Columns>
                <Column size="67"/>
                <Column size="126"/>
                <Column size="90"/>
                <Column size="116"/>
                <Column size="106"/>
                <Column size="102"/>
                <Column size="70"/>
                <Column size="109"/>
                <Column size="70"/>
                <Column size="108"/>
                <Column size="125"/>
                <Column size="125"/>
                <Column size="125"/>
                <Column size="125"/>
                <Column size="125"/>
                <Column size="125"/>
                <Column size="125"/>
                <Column size="125"/>
                <Column size="125"/>
                <Column size="125"/>
                <Column size="124"/>
                <Column size="102"/>
                <Column size="108"/>
                <Column size="108"/>
                <Column size="108"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="NO"/>
                <Cell col="1" text="서브타겟리스트"/>
                <Cell col="2" text="고객명"/>
                <Cell col="3" text="고객번호"/>
                <Cell col="4" text="회원번호"/>
                <Cell col="5" text="최종일시"/>
                <Cell col="6" text="처리상태"/>
                <Cell col="7" text="통화결과"/>
                <Cell col="8" text="시도횟수"/>
                <Cell col="9" text="휴대전화"/>
                <Cell col="10" text="사용자 정의 1"/>
                <Cell col="11" text="사용자 정의 2"/>
                <Cell col="12" text="사용자 정의 3"/>
                <Cell col="13" text="사용자 정의 4"/>
                <Cell col="14" text="사용자 정의 5"/>
                <Cell col="15" text="사용자 정의 6"/>
                <Cell col="16" text="사용자 정의 7"/>
                <Cell col="17" text="사용자 정의 8"/>
                <Cell col="18" text="사용자 정의 9"/>
                <Cell col="19" text="사용자 정의 10"/>
                <Cell col="20" text="캠페인 유형(소)"/>
                <Cell col="21" text="등록일시"/>
                <Cell col="22" text="일반전화"/>
                <Cell col="23" text="회사전화"/>
                <Cell col="24" text="기타전화"/>
              </Band>
              <Band id="body">
                <Cell expr="currow+1"/>
                <Cell col="1" style="align:left;" text="bind:sub_trgt_list_nm"/>
                <Cell col="2" text="bind:cust_nm"/>
                <Cell col="3" text="bind:mem_no"/>
                <Cell col="4" text="bind:accnt_no"/>
                <Cell col="5" displaytype="expr:expr:dpms_dttm !=null ? &quot;date&quot; : &quot;normal&quot; " text="bind:dpms_dttm" mask="expr:dpms_dttm != null ? &quot;yyyy-MM-dd HH:mm&quot;:&quot;&quot;"/>
                <Cell col="6" text="bind:dpms_stat_nm"/>
                <Cell col="7" text="bind:dpms_resl_nm"/>
                <Cell col="8" style="align:right;" text="bind:dpms_tmcnt" expr="gfn_commaStr(dpms_tmcnt)"/>
                <Cell col="9" displaytype="expr:expr:gfn_isNull(clph_tlno) ? &quot;nomal&quot; : &quot;mask&quot;" edittype="readonly" text="bind:clph_tlno" expr="gfn_isNull(clph_tlno) ? &quot;&quot; : clph_tlno" mask="expr:gfn_SetTelNoGrdMask(clph_tlno)" editdisplay="display"/>
                <Cell col="10" style="align: ;" text="bind:user_defn1_cntn" expr="user_defn1_cntn &gt;0 ? user_defn1_cntn +'회': &quot;&quot;" tooltiptype="mouse,mouseleave" tooltiptext="bind:user_defn1_cntn"/>
                <Cell col="11" style="align: ;" text="bind:user_defn2_cntn" expr="user_defn2_cntn &gt;0 ? user_defn2_cntn +'회': &quot;&quot;" tooltiptype="mouse,mouseleave" tooltiptext="bind:user_defn2_cntn"/>
                <Cell col="12" style="align: ;" text="bind:user_defn3_cntn" expr="user_defn3_cntn &gt;0 ? gfn_trim(user_defn3_cntn) +'일': &quot;&quot;" tooltiptype="mouse,mouseleave" tooltiptext="bind:user_defn3_cntn"/>
                <Cell col="13" text="bind:user_defn4_cntn" tooltiptype="mouse,mouseleave" tooltiptext="bind:user_defn4_cntn"/>
                <Cell col="14" text="bind:user_defn5_cntn" tooltiptype="mouse,mouseleave" tooltiptext="bind:user_defn5_cntn"/>
                <Cell col="15" text="bind:user_defn6_cntn" expr="user_defn6_cntn &gt;0 ? user_defn6_cntn+'회 연체' : &quot;&quot;" tooltiptype="mouse,mouseleave" tooltiptext="bind:user_defn6_cntn"/>
                <Cell col="16" displaytype="date" text="bind:user_defn7_cntn" mask="yyyy-MM-dd HH:mm" tooltiptype="mouse,mouseleave" tooltiptext="bind:user_defn7_cntn"/>
                <Cell col="17" style="align:right;" text="bind:user_defn8_cntn" expr="gfn_commaStr(user_defn8_cntn)" tooltiptype="mouse,mouseleave" tooltiptext="bind:user_defn8_cntn"/>
                <Cell col="18" style="align:right;" text="bind:user_defn9_cntn" expr="gfn_commaStr(user_defn9_cntn)" tooltiptype="mouse,mouseleave" tooltiptext="bind:user_defn9_cntn"/>
                <Cell col="19" style="align:right;" text="bind:user_defn10_cntn" expr="gfn_commaStr(user_defn10_cntn)" tooltiptype="mouse,mouseleave" tooltiptext="bind:user_defn10_cntn"/>
                <Cell col="20" style="align:left;" text="bind:cmpg_typ_nm"/>
                <Cell col="21" displaytype="expr:expr:rgsn_dttm !=null ? &quot;date&quot; : &quot;normal&quot; " text="bind:rgsn_dttm" mask="expr:rgsn_dttm != null ? &quot;yyyy-MM-dd HH:mm&quot;:&quot;&quot;"/>
                <Cell col="22" displaytype="expr:expr:gfn_isNull(home_tlno) ? &quot;nomal&quot; : &quot;mask&quot;" edittype="readonly" text="bind:home_tlno" expr="expr:gfn_isNull(home_tlno) ? &quot;&quot; : home_tlno" mask="expr:gfn_SetTelNoGrdMask(home_tlno)" editdisplay="edit"/>
                <Cell col="23" displaytype="expr:expr:expr:gfn_isNull(comp_tlno) ? &quot;nomal&quot; : &quot;mask&quot;" text="bind:comp_tlno" expr="expr:gfn_isNull(comp_tlno) ? &quot;&quot; : comp_tlno" mask="expr:gfn_SetTelNoGrdMask(comp_tlno)" editdisplay="edit"/>
                <Cell col="24" displaytype="expr:expr:gfn_isNull(etc_tlno) ? &quot;nomal&quot; : &quot;mask&quot;" text="bind:etc_tlno" expr="expr:expr:gfn_isNull(etc_tlno) ? &quot;&quot; : etc_tlno" mask="expr:expr:gfn_SetTelNoGrdMask(etc_tlno)"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Button id="btn_search" taborder="27" onclick="btn_onclick" class="btn_WF_Search" tooltiptext="조회" style="padding:0 0 0 0;" position2="absolute r:83 w:72 t:159 h:20" positiontype="position2"/>
        <Static id="stc_108" text="캠페인" class="sta_workSrcLabel1" position2="absolute l:11 w:62 t:36 h:20" positiontype="position2"/>
        <Static id="stc_109" text="고객명" class="sta_workSrcLabel1" position2="absolute l:366 w:62 t:90 h:20" positiontype="position2"/>
        <Static id="stc_111" text="전화번호" class="sta_workSrcLabel1" position2="absolute l:506 w:62 t:89 h:20" positiontype="position2"/>
        <Edit id="edt_srch_tell_no" taborder="11" position2="absolute l:566 w:96 t:89 h:20" positiontype="position2" inputtype="digit" onkeydown="Edit_onkeydown" maxlength="11" imemode="none"/>
        <Edit id="edt_srch_mem_nm" taborder="10" position2="absolute l:421 w:74 t:88 h:20" positiontype="position2" imemode="hangul" onkeydown="Edit_onkeydown"/>
        <Static id="stc_43" text="캠페인선택" class="sta_workTitle2" position2="absolute l:1 w:297 t:5 h:20" positiontype="position2"/>
        <Button id="btn_init" taborder="28" onclick="btn_onclick" class="btn_WF_Return" position2="absolute r:9 w:72 t:159 h:20" positiontype="position2" tooltiptext="초기화" tabstop="false"/>
        <Button id="btn_cmpgDetailView" taborder="5" text="상세보기" onclick="btn_onclick" class="btn_WF_Common" position2="absolute r:80 w:69 t:37 h:20" positiontype="position2" style="padding:0 0 0 0;" visible="true"/>
        <Button id="btn_refresh" taborder="6" text="새로고침" onclick="btn_onclick" class="btn_WF_Common" position2="absolute r:10 w:69 t:37 h:20" positiontype="position2" style="padding:0 0 0 0;" tabstop="false"/>
        <Static id="stc_00" text="처리상태" class="sta_workSrcLabel1" position2="absolute l:12 w:62 t:114 h:20" positiontype="position2"/>
        <Combo id="cbo_srch_dpms_stat_cd" taborder="12" innerdataset="@ds_dpmsStatCdList_srch" codecolumn="cd" datacolumn="cd_nm" displayrowcount="5" position2="absolute l:73 w:89 t:114 h:20" positiontype="position2" onitemchanged="cbo_onitemchanged"/>
        <Static id="stc_01" text="통화결과" class="sta_workSrcLabel1" position2="absolute l:172 w:62 t:114 h:20" positiontype="position2"/>
        <Combo id="cbo_srch_dpms_resl_cd" taborder="13" innerdataset="@ds_dpmsReslCdList_srch" codecolumn="cd" datacolumn="cd_nm" position2="absolute l:236 w:98 t:114 h:20" positiontype="position2" index="-1" onitemchanged="cbo_onitemchanged"/>
        <Combo id="cbo_srch_cmpg" taborder="1" position2="absolute l:57 w:131 t:36 h:20" positiontype="position2" displaynulltext="선택" innerdataset="@ds_cmpg_srch" datacolumn="cmpg_nm" codecolumn="cmpg_id" onitemchanged="cbo_onitemchanged"/>
        <Static id="sta_totalCnt" text="검색결과   &lt;fs v='9'&gt;&lt;fc v='#f0850c'&gt;&lt;b v='true'&gt;0&lt;/b&gt;&lt;/fc&gt;&lt;/fs&gt; &lt;fc v='#a1a1a1'&gt;건&lt;/fc&gt; / 전체   &lt;fs v='9'&gt;&lt;fc v='#f0850c'&gt;&lt;b v='true'&gt;0&lt;/b&gt;&lt;/fc&gt;&lt;/fs&gt; &lt;fc v='#a1a1a1'&gt;건&lt;/fc&gt;" usedecorate="true" class="sta_workTitle5" position2="absolute l:2 w:216 t:207 h:20" positiontype="position2"/>
        <Static id="stc_sub_trgt_list" text="서브 대상 고객" class="sta_workSrcLabel1" position="absolute 217 37 350 57"/>
        <Edit id="edt_srch_sub_trgt_list_nm" taborder="2" autoselect="true" autoskip="true" onkeydown="common_onkeydown" enable="false" position2="absolute l:308 w:119 t:37 h:20" positiontype="position2"/>
        <Button id="btn_subTrgtSrch" taborder="3" onclick="btn_onclick" class="btn_workSrcPop" visible="true" position2="absolute l:428 w:20 t:37 h:20" positiontype="position2"/>
        <Static id="stc_sub_trgt_list00" text="전체" class="sta_workSrcLabel1" position="absolute 458 37 495 57"/>
        <CheckBox id="chk_srchFg" taborder="4" position="absolute 493 38 509 57" truevalue="Y" onchanged="chk_srchFg_onchanged" onclick="chk_srchFg_onclick"/>
        <Button id="btn_trgt_cust_hstr" taborder="0" tabstop="false" text="O/B회원이력" onclick="btn_onclick" class="btn_WF_Common" position2="absolute r:0 w:80 t:2 h:20" positiontype="position2" tooltiptext="VOC등록" style="padding:0 0 0 0;"/>
        <Static id="stc_paymthd" text="납입방법" class="sta_workSrcLabel1" position2="absolute l:346 w:87 t:114 h:20" positiontype="position2" visible="false"/>
        <Combo id="cbo_srch_pay_mthd" taborder="14" text="전체" codecolumn="codecolumn" datacolumn="datacolumn" index="0" onitemchanged="cbo_onitemchanged" class="cbo_srch" position="absolute 405 114 501 134" visible="false">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn"/>
                <Col id="datacolumn">전체</Col>
              </Row>
              <Row>
                <Col id="codecolumn">손수</Col>
                <Col id="datacolumn">손수</Col>
              </Row>
              <Row>
                <Col id="codecolumn">카드</Col>
                <Col id="datacolumn">카드</Col>
              </Row>
              <Row>
                <Col id="codecolumn">CMS</Col>
                <Col id="datacolumn">CMS</Col>
              </Row>
            </Rows>
          </Dataset>
        </Combo>
        <Static id="stc_ichae_dt" text="이체일자" class="sta_workSrcLabel1" position2="absolute l:12 w:63 t:140 h:20" positiontype="position2" visible="false"/>
        <Edit id="edt_ichae_dt" taborder="16" inputtype="number" position="absolute 85 140 119 160" visible="false" onkeydown="Edit_onkeydown"/>
        <Static id="stc_month_cnt" text="당월회차" class="sta_workSrcLabel1" position2="absolute l:125 w:63 t:140 h:20" positiontype="position2" visible="false"/>
        <Edit id="edt_stt_month_cnt" taborder="18" inputtype="number" position="absolute 185 140 219 160" visible="false" onkeydown="Edit_onkeydown"/>
        <Static id="sta_andMonthCnt" text="~" position2="absolute l:223 w:8 t:143 h:15" positiontype="position2" visible="false"/>
        <Edit id="edt_end_month_cnt" taborder="19" inputtype="number" position="absolute 236 140 270 160" visible="false" onkeydown="Edit_onkeydown"/>
        <Static id="stc_true_cnt" text="실납입회차" class="sta_workSrcLabel1" position2="absolute l:12 w:79 t:165 h:20" positiontype="position2" visible="false"/>
        <Edit id="edt_stt_true_cnt" taborder="21" inputtype="number" position="absolute 84 164 118 184" visible="false" onkeydown="Edit_onkeydown"/>
        <Static id="sta_andTrueCnt" text="~" position2="absolute l:122 w:8 t:167 h:15" positiontype="position2" visible="false"/>
        <Edit id="edt_end_true_cnt" taborder="22" inputtype="number" position="absolute 135 164 169 184" visible="false" onkeydown="Edit_onkeydown"/>
        <Static id="sta_pay_mthd" text="연체회차" class="sta_workSrcLabel1" position2="absolute l:177 w:63 t:166 h:20" positiontype="position2" visible="false"/>
        <Edit id="edt_stt_pay_state" taborder="24" inputtype="number" position="absolute 237 165 271 185" visible="false" onkeydown="Edit_onkeydown"/>
        <Static id="sta_andPayState" text="~" position2="absolute l:275 w:8 t:168 h:15" positiontype="position2" visible="false"/>
        <Edit id="edt_end_pay_state" taborder="25" inputtype="number" position="absolute 288 165 322 185" visible="false" onkeydown="Edit_onkeydown"/>
        <Static id="stc00" text="검색일자" class="sta_workSrcLabel1" position2="absolute l:12 w:87 t:89 h:20" positiontype="position2"/>
        <Static id="Static06" text="~" position2="absolute l:250 w:8 t:93 h:15" positiontype="position2"/>
        <Calendar id="cal_srch_endd" taborder="9" displaynulltext="____-__-__" dateformat="yyyy-MM-dd" onchanged="cal_00_onchanged" oneditclick="cal_00_oneditclick" position2="absolute l:262 w:89 t:89 h:20" positiontype="position2"/>
        <Calendar id="cal_srch_startd" taborder="8" displaynulltext="____-__-__" dateformat="yyyy-MM-dd" onchanged="cal_00_onchanged" oneditclick="cal_00_oneditclick" position2="absolute l:156 w:89 t:89 h:20" positiontype="position2"/>
        <Static id="stc_user1" text="사용자정의1" class="sta_workSrcLabel1" visible="true" position2="absolute l:346 w:87 t:114 h:20" positiontype="position2"/>
        <Edit id="edt_user1" taborder="15" position2="absolute l:428 w:120 t:114 h:20" positiontype="position2" imemode="hangul" onkeydown="Edit_onkeydown"/>
        <Edit id="edt_user2" taborder="17" position2="absolute l:92 w:120 t:140 h:20" positiontype="position2" imemode="hangul" onkeydown="Edit_onkeydown"/>
        <Static id="stc_user2" text="사용자정의2" class="sta_workSrcLabel1" visible="true" position2="absolute l:12 w:87 t:140 h:20" positiontype="position2"/>
        <Edit id="edt_user3" taborder="20" position2="absolute l:308 w:120 t:140 h:20" positiontype="position2" imemode="hangul" onkeydown="Edit_onkeydown"/>
        <Static id="stc_user3" text="사용자정의3" class="sta_workSrcLabel1" visible="true" position2="absolute l:228 w:87 t:139 h:20" positiontype="position2"/>
        <Static id="stc_user4" text="사용자정의4" class="sta_workSrcLabel1" position2="absolute l:12 w:87 t:165 h:20" positiontype="position2"/>
        <Edit id="edt_user4" taborder="23" position2="absolute l:92 w:120 t:165 h:20" positiontype="position2" imemode="hangul" onkeydown="Edit_onkeydown"/>
        <Static id="stc_user5" text="사용자정의5" class="sta_workSrcLabel1" position2="absolute l:228 w:87 t:164 h:20" positiontype="position2"/>
        <Edit id="edt_user5" taborder="26" position2="absolute l:308 w:120 t:165 h:20" positiontype="position2" imemode="hangul"/>
        <Combo id="cbo_srch_date_typ" taborder="7" codecolumn="codecolumn" datacolumn="datacolumn" onitemchanged="cbo_onitemchanged" position2="absolute l:76 w:79 t:89 h:20" positiontype="position2" index="0" value="reg" text="등록일자">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn">reg</Col>
                <Col id="datacolumn">등록일자</Col>
              </Row>
              <Row>
                <Col id="codecolumn"/>
                <Col id="datacolumn">처리일자</Col>
              </Row>
            </Rows>
          </Dataset>
        </Combo>
        <Static id="stc_02" text="전자서명진행상태" class="sta_workSrcLabel1" position2="absolute l:439 w:105 t:140 h:20" positiontype="position2" visible="false"/>
        <Combo id="cbo_upp_tx_type" taborder="31" innerdataset="@ds_upp_tx_type" codecolumn="code" datacolumn="value" displayrowcount="5" onitemchanged="cbo_onitemchanged" position2="absolute l:549 w:113 t:139 h:20" positiontype="position2" visible="false" index="0" text="전체"/>
        <Button id="btn_direct" taborder="32" text="다이렉트" class="btn_WF_Common" position2="absolute r:-87 w:69 t:205 h:20" positiontype="position2" style="padding:0 0 0 0;" onclick="btn_onclick" visible="false"/>
        <Static id="stc_join" text="가입방법" class="sta_workSrcLabel1" position2="absolute l:557 w:63 t:115 h:20" positiontype="position2" visible="false"/>
        <Combo id="cbo_srch_join_method" taborder="34" onitemchanged="cbo_onitemchanged" position2="absolute l:621 w:98 t:115 h:20" positiontype="position2" codecolumn="codecolumn" datacolumn="datacolumn" index="0" text="전체" visible="false">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn"/>
                <Col id="datacolumn">전체</Col>
              </Row>
              <Row>
                <Col id="codecolumn">fixedLine</Col>
                <Col id="datacolumn">유선</Col>
              </Row>
              <Row>
                <Col id="codecolumn">electronicContract</Col>
                <Col id="datacolumn">전자</Col>
              </Row>
            </Rows>
          </Dataset>
        </Combo>
        <Calendar id="cal_call_date" taborder="35" displaynulltext="____-__-__" dateformat="yyyy-MM-dd" onchanged="cal_00_onchanged" oneditclick="cal_00_oneditclick" position2="absolute l:514 w:89 t:139 h:20" positiontype="position2" visible="false"/>
        <Static id="stc01" text="통화요청일" class="sta_workSrcLabel1" position2="absolute l:439 w:68 t:139 h:20" positiontype="position2" visible="false"/>
        <Static id="stc02" text="통화요청시간" class="sta_workSrcLabel1" position="absolute 439 165 519 185" visible="false"/>
        <MaskEdit id="med_call_time" taborder="36" type="string" mask="##:##" position="absolute 525 165 566 185" visible="false"/>
        <Button id="btn_elecSign" taborder="37" text="전자서명" onclick="btn_onclick" class="btn_WF_Common" position2="absolute r:1 w:69 t:205 h:20" positiontype="position2" style="padding:0 0 0 0;" visible="false"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_cmpgTypCdList_srch" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="hrch_typ_cd" type="STRING" size="256"/>
          <Column id="hgrn_hrch_cd" type="STRING" size="256"/>
          <Column id="hrch_cd" type="STRING" size="256"/>
          <Column id="hrch_cd_nm" type="STRING" size="256"/>
          <Column id="hrch_cd_lvl_cnt" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_trans_info" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="strSvcID" type="STRING" size="256"/>
          <Column id="strURL" type="STRING" size="256"/>
          <Column id="strInDatasets" type="STRING" size="256"/>
          <Column id="strOutDatasets" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cmpg_srch" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cmpg_typ_cd" type="STRING" size="256"/>
          <Column id="cmpg_nm" type="STRING" size="256"/>
          <Column id="cmpg_id" type="STRING" size="256"/>
          <Column id="trgt_list_id" type="STRING" size="256"/>
          <Column id="setting_fg" type="STRING" size="256"/>
          <Column id="cmpg_div_cd" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_dpmsStatCdList_srch" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="6"/>
          <Column id="cd_nm" type="STRING" size="100"/>
          <Column id="adtl_cd" type="STRING" size="100"/>
          <Column id="adtl_cd_nm" type="STRING" size="100"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_dpmsReslCdList_srch" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="6"/>
          <Column id="cd_nm" type="STRING" size="100"/>
          <Column id="adtl_cd" type="STRING" size="100"/>
          <Column id="adtl_cd_nm" type="STRING" size="100"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cdSet" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="6"/>
          <Column id="cd_nm" type="STRING" size="100"/>
          <Column id="adtl_cd" type="STRING" size="100"/>
          <Column id="adtl_cd_nm" type="STRING" size="100"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_list_trgtCustAlct" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_list_trgtCustAlct_onrowposchanged">
        <ColumnInfo>
          <Column id="_chk" type="INT" size="1"/>
          <Column id="xRowStatusType" type="STRING" size="1"/>
          <Column id="page_indx" type="STRING" size="256"/>
          <Column id="cust_nm" type="STRING" size="256"/>
          <Column id="mem_no" type="STRING" size="256"/>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="clph_tlno" type="STRING" size="256"/>
          <Column id="home_tlno" type="STRING" size="256"/>
          <Column id="comp_tlno" type="STRING" size="256"/>
          <Column id="dpms_tmcnt" type="STRING" size="256"/>
          <Column id="dpms_dttm" type="STRING" size="256"/>
          <Column id="dpms_stat_nm" type="STRING" size="256"/>
          <Column id="cmpg_typ_nm" type="STRING" size="256"/>
          <Column id="hgrn_hrch_nm" type="STRING" size="256"/>
          <Column id="rgsn_dttm" type="STRING" size="256"/>
          <Column id="user_defn5_cntn" type="STRING" size="256"/>
          <Column id="user_defn1_cntn" type="STRING" size="256"/>
          <Column id="user_defn2_cntn" type="STRING" size="256"/>
          <Column id="user_defn3_cntn" type="STRING" size="256"/>
          <Column id="user_defn4_cntn" type="STRING" size="256"/>
          <Column id="user_defn6_cntn" type="STRING" size="256"/>
          <Column id="user_defn7_cntn" type="STRING" size="256"/>
          <Column id="user_defn8_cntn" type="STRING" size="256"/>
          <Column id="user_defn9_cntn" type="STRING" size="256"/>
          <Column id="user_defn10_cntn" type="STRING" size="256"/>
          <Column id="trgt_cust_dtpt_id" type="STRING" size="256"/>
          <Column id="cnsr_nm" type="STRING" size="256"/>
          <Column id="amnd_nm" type="STRING" size="256"/>
          <Column id="dpms_resl_cntn" type="STRING" size="256"/>
          <Column id="dpms_resl_cd" type="STRING" size="256"/>
          <Column id="dpms_stat_cd" type="STRING" size="256"/>
          <Column id="prod_join_yn" type="STRING" size="256"/>
          <Column id="cti_crnc_dtl_id" type="STRING" size="256"/>
          <Column id="hgrn_hrch_cd" type="STRING" size="256"/>
          <Column id="cmpg_typ_cd" type="STRING" size="256"/>
          <Column id="trgt_list_id" type="STRING" size="256"/>
          <Column id="sub_trgt_list_nm" type="STRING" size="256"/>
          <Column id="invt_cnts_id" type="STRING" size="256"/>
          <Column id="sub_trgt_list_id" type="STRING" size="256"/>
          <Column id="prmv_id" type="STRING" size="256"/>
          <Column id="etc_tlno" type="STRING" size="256"/>
          <Column id="dpms_resl_nm" type="STRING" size="256"/>
          <Column id="reserve_proc_dt" type="STRING" size="256"/>
          <Column id="reserve_proc_tm" type="STRING" size="256"/>
          <Column id="cntr_cd" type="STRING" size="256"/>
          <Column id="dthms" type="STRING" size="256"/>
          <Column id="reserve_dthms" type="STRING" size="256"/>
          <Column id="brth_mon_day" type="STRING" size="256"/>
          <Column id="upp_tx_type" type="STRING" size="256"/>
          <Column id="upp_tx_type_nm" type="STRING" size="256"/>
          <Column id="acuon_fitness_yn" type="STRING" size="256"/>
          <Column id="ci_yn" type="STRING" size="256"/>
          <Column id="ci_val" type="STRING" size="256"/>
          <Column id="gender" type="STRING" size="256"/>
          <Column id="credit_rating" type="STRING" size="256"/>
          <Column id="safekey" type="STRING" size="256"/>
          <Column id="mem_no2" type="STRING" size="256"/>
          <Column id="dpms_gbn_cd" type="STRING" size="256"/>
          <Column id="sms_yn" type="STRING" size="256"/>
          <Column id="tel_yn" type="STRING" size="256"/>
          <Column id="email_yn" type="STRING" size="256"/>
          <Column id="dm_yn" type="STRING" size="256"/>
          <Column id="marry_yn" type="STRING" size="256"/>
          <Column id="child_cnt" type="STRING" size="256"/>
          <Column id="market_agree" type="STRING" size="256"/>
          <Column id="ord_mst_idx" type="STRING" size="256"/>
          <Column id="id_no" type="STRING" size="256"/>
          <Column id="sign_stat" type="STRING" size="256"/>
          <Column id="join_method" type="STRING" size="256"/>
          <Column id="status_nm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_inqCndt" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="dpms_stat_cd" type="STRING" size="256"/>
          <Column id="cust_nm" type="STRING" size="256"/>
          <Column id="tell_no" type="STRING" size="256"/>
          <Column id="cmpg_id" type="STRING" size="256"/>
          <Column id="dpms_resl_cd" type="STRING" size="256"/>
          <Column id="orderBy" type="STRING" size="256"/>
          <Column id="orderDirection" type="STRING" size="256"/>
          <Column id="sController" type="STRING" size="256"/>
          <Column id="dsName" type="STRING" size="256"/>
          <Column id="sub_trgt_list_id" type="STRING" size="256"/>
          <Column id="ichae_dt" type="STRING" size="256"/>
          <Column id="stt_month_cnt" type="STRING" size="256"/>
          <Column id="end_month_cnt" type="STRING" size="256"/>
          <Column id="stt_true_cnt" type="STRING" size="256"/>
          <Column id="end_true_cnt" type="STRING" size="256"/>
          <Column id="stt_pay_state" type="STRING" size="256"/>
          <Column id="end_pay_state" type="STRING" size="256"/>
          <Column id="pay_mthd" type="STRING" size="256"/>
          <Column id="cmpg_stt_dt" type="STRING" size="256"/>
          <Column id="cmpg_end_dt" type="STRING" size="256"/>
          <Column id="cmpg_div_cd" type="STRING" size="256"/>
          <Column id="user_defn1_cntn" type="STRING" size="256"/>
          <Column id="user_defn2_cntn" type="STRING" size="256"/>
          <Column id="user_defn3_cntn" type="STRING" size="256"/>
          <Column id="user_defn4_cntn" type="STRING" size="256"/>
          <Column id="user_defn5_cntn" type="STRING" size="256"/>
          <Column id="end_dt" type="STRING" size="256"/>
          <Column id="stt_dt" type="STRING" size="256"/>
          <Column id="upp_tx_type" type="STRING" size="256"/>
          <Column id="user_defn9_cntn" type="STRING" size="256"/>
          <Column id="join_method" type="STRING" size="256"/>
          <Column id="call_date" type="STRING" size="256"/>
          <Column id="call_time" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_list_tmp" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="_chk" type="INT" size="1"/>
          <Column id="xRowStatusType" type="STRING" size="1"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_list_subTrgtList" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="_chk" type="INT" size="1"/>
          <Column id="xRowStatusType" type="STRING" size="1"/>
          <Column id="page_indx" type="STRING" size="256"/>
          <Column id="hgrn_team_nm" type="STRING" size="256"/>
          <Column id="cntr_cd" type="STRING" size="256"/>
          <Column id="trgt_list_id" type="STRING" size="256"/>
          <Column id="sub_trgt_list_id" type="STRING" size="256"/>
          <Column id="sub_trgt_list_nm" type="STRING" size="256"/>
          <Column id="sub_trgt_list_expi" type="STRING" size="256"/>
          <Column id="invt_cnts_id" type="STRING" size="256"/>
          <Column id="cmpg_prfm_team_cd" type="STRING" size="256"/>
          <Column id="trgt_list_extc_typ_cd" type="STRING" size="256"/>
          <Column id="cust_data_extc_cnt" type="STRING" size="256"/>
          <Column id="dfct_data_cnt" type="STRING" size="256"/>
          <Column id="rgsr_id" type="STRING" size="256"/>
          <Column id="rgsn_dttm" type="STRING" size="256"/>
          <Column id="amnd_id" type="STRING" size="256"/>
          <Column id="amnt_dttm" type="STRING" size="256"/>
          <Column id="hgrn_team_cd" type="STRING" size="256"/>
          <Column id="team_nm" type="STRING" size="256"/>
          <Column id="rgsr_nm" type="STRING" size="256"/>
          <Column id="amnd_nm" type="STRING" size="256"/>
          <Column id="cmpg_invt_mthd_cd" type="STRING" size="256"/>
          <Column id="invt_cnts_nm" type="STRING" size="256"/>
          <Column id="trgt_list_extc_typ_nm" type="STRING" size="256"/>
          <Column id="delete_fg" type="STRING" size="256"/>
          <Column id="assignnum" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_inqCndt_subTrgt" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="trgt_list_id" type="STRING" size="256"/>
          <Column id="orderBy" type="STRING" size="256"/>
          <Column id="orderDirection" type="STRING" size="256"/>
          <Column id="sController" type="STRING" size="256"/>
          <Column id="dsName" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_list_tmp_subTrgt" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_upp_tx_type" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="code" type="STRING" size="256"/>
          <Column id="value" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="value">전체</Col>
          </Row>
          <Row>
            <Col id="code">01</Col>
            <Col id="value">1차접수</Col>
          </Row>
          <Row>
            <Col id="code">02</Col>
            <Col id="value">본인인증</Col>
          </Row>
          <Row>
            <Col id="code">03</Col>
            <Col id="value">신용정보취득</Col>
          </Row>
        </Rows>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item0" compid="edt_srch_sub_trgt_list_nm" propid="value" datasetid="ds_list_subTrgtList" columnid="sub_trgt_list_nm"/>
      <BindItem id="item6" compid="cal_srch_endd" propid="value" datasetid="ds_cmpg" columnid="cmpg_end_dt"/>
      <BindItem id="item1" compid="cal_srch_startd" propid="value" datasetid="ds_cmpg" columnid="cmpg_stt_dt"/>
    </Bind>
    <Script type="xscript4.0"><![CDATA[/***************************************************************************
 * Program ID    : PS21000101.xfdl
 * Program Name  : 캠페인선택(아웃바운드)
 * Author        : 정 훈
 * Created On    : 2016.03.21
 * 개    요 	 :
 *
 * =========================================================================
 * 변경일자     수정자       내    용
 * =========================================================================
 * 2016.03.21    정   훈      최초작성
 
 **************************************************************************/


/********************************************************************************************/
/* 1. Include Library include                                                               */
/********************************************************************************************/
include "LIB::lib_All.xjs"; // 공통라이브러리

/********************************************************************************************/
/* 2. Form 관련(onload 및 Form 이벤트,전역변수,초기화) 처리                         	*/
/********************************************************************************************/
var total_count;
var oldCmpgId = "";
var setRowIndex = 0;

var fv_extcTypYn = "N";
var fv_cmpgChk = "";
/*************************************************************/
// 캠페인 예약 알림 관련 추가
/*************************************************************/
var fv_cntPerPage 			= 300;
var fv_cmpgTimer 			= 5;
var fv_cmpgTimerInterval	= 60000;
var fv_wasDthms 			= ""; // 서버에서 가져온 시간 (YYYYMMDDHH24MISS 형식 문자열)

//온로드
function PS21000101_onload(obj:Form, e:LoadEventInfo)
{
 	fn_unpyComponent(false);
 	gfn_getList("cd","CAM100,CAM090","fn_callBack",null,"srchCdSet","ds_cdSet");   // 코드셋
    // gfn_getList("hrchCd","CAM990","fn_callBack",null,"srchHrchCdSet");   //캠페인유형(계층유형코드)
	gfn_getList("cmpgId","","fn_callBack",null,"srchCmpgId");   //캠페인
	gfn_createPagingDataset(obj); // 페이징처리 위한 데이터셋 설정
	 fn_init();
	//ds_cmpg.rowposition = 0;
}

//초기화 
function fn_init(){
	cbo_srch_date_typ.index = 0;
	//등록일자
	cal_srch_startd.value = gfn_addDate(gfn_getToday(),-7);
	cal_srch_endd.value = gfn_getToday();
	
	//이름
	edt_srch_mem_nm.value = null;
	
	//전화번호
	edt_srch_tell_no.value = null;
	
	//진행상태 
	cbo_srch_dpms_stat_cd.index = 0;
	
	//통화결과 
	cbo_srch_dpms_resl_cd.index = 0;
	
	//사용자 1,2,3,4,5
	edt_user1.value = null;
	edt_user2.value = null;
	edt_user3.value = null;
	edt_user4.value = null;
	edt_user5.value = null;
	
	//납입방법
	cbo_srch_pay_mthd.index = 0;
	
	//이체일
	edt_ichae_dt.value = null;
	
	//당월회차 
	edt_stt_month_cnt.value = null;
	edt_end_month_cnt.value = null;
	
	//납입회차 
	edt_stt_true_cnt.value = null;
	edt_end_true_cnt.value =null;
	
	//연체회차
	edt_stt_pay_state.value = null;
	edt_end_pay_state.value = null;
}
/********************************************************************************************/
/* 3. Callback(gfn_Transaction 호출 후 처리내용)                                   		*/
/********************************************************************************************/
//콜백
function fn_callBack(svcid, errcd, errmsg) {
    if (errcd != 0) {
		trace("errcd  :   " +errcd +"   \n errmsg   :   "+ errmsg +"    \n svcid   :   "+ svcid)
		return false;
	} else {
		switch(svcid){
			
			case "srchCmpgId" :					
				gfn_getCmpgIdLoad("", "SELECT", ds_cmpg_srch, null);
				btn_cmpgDetailView.visible = false;
				edt_srch_sub_trgt_list_nm.value = null;
				btn_subTrgtSrch.enable = false;
				cbo_srch_cmpg.index = 0;		
				//alert("aaa");
					//ds_cmpg_srch.saveXML();
					
			break;
			
			case "srchCdSet": //코드셋
				gfn_getCode("CAM100", "ALL", ds_dpmsStatCdList_srch,ds_cdSet); //진행상태
				gfn_getCode("CAM090", "ALL", ds_dpmsReslCdList_srch,ds_cdSet); //통화결과
			   
				cbo_srch_dpms_stat_cd.index = 0;
				cbo_srch_dpms_resl_cd.index = 0;
		    break;
		    
		     case "srchTrgtCustAlct" : //캠페인 조회
				gfn_appendSearchDs(ds_list_trgtCustAlct, ds_list_tmp); // 조회된 결과를 실제보여줄 데이타셋으로 Append처리
				gfn_setTotalRowCount(ds_list_trgtCustAlct, sta_totalCnt, total_count); // 페이지건수 표출
				fn_postSearch();
		    break;
		    
		     case "srchNewTypeTrgtCustAlct" : //캠페인 조회
				gfn_appendSearchDs(ds_list_trgtCustAlct, ds_list_tmp); // 조회된 결과를 실제보여줄 데이타셋으로 Append처리
				gfn_setTotalRowCount(ds_list_trgtCustAlct, sta_totalCnt, total_count); // 페이지건수 표출
				fn_postSearch();
				ds_list_trgtCustAlct.rowposition = setRowIndex;
		    break;
		    		    
		    case "srchNewTypeTrgtCustDirectAlct" : //캠페인 조회
				gfn_appendSearchDs(ds_list_trgtCustAlct, ds_list_tmp); // 조회된 결과를 실제보여줄 데이타셋으로 Append처리
				gfn_setTotalRowCount(ds_list_trgtCustAlct, sta_totalCnt, total_count); // 페이지건수 표출
				fn_postSearch();
				ds_list_trgtCustAlct.rowposition = setRowIndex;
		    break;
		    
		    case "srchNewTypeTrgtCustUplusAlct" : //캠페인 조회
				gfn_appendSearchDs(ds_list_trgtCustAlct, ds_list_tmp); // 조회된 결과를 실제보여줄 데이타셋으로 Append처리
				gfn_setTotalRowCount(ds_list_trgtCustAlct, sta_totalCnt, total_count); // 페이지건수 표출
				fn_postSearch();
				ds_list_trgtCustAlct.rowposition = setRowIndex;
		    break;
		    
		    case "srchSubTrgtList" : //서브타겟일때 조회
		        ds_list_subTrgtList.clearData();
				gfn_appendSearchDs(ds_list_subTrgtList, ds_list_tmp_subTrgt); // 조회된 결과를 실제보여줄 데이타셋으로 Append처리
				parent.fn_commSearch(gfn_getCommTypeInit(),ds_list_subTrgtList.getColumn(ds_list_subTrgtList.rowposition ,'invt_cnts_id'));
			break;
		}
	}
}




/********************************************************************************************/
/**   4. Validation 처리                                                                   	*/
/********************************************************************************************/
//조회전 처리 조회조건셋팅
function fn_preSearch(sType)
{
	if (sType == gfn_getCommTypeInit())
	{
		// 조회조건 및 default 정렬
		ds_list_trgtCustAlct.keystring = ""; // 정렬컬럼 초기화
		
		ds_inqCndt.clearData();
		ds_inqCndt.addRow();
		ds_inqCndt.setColumn(0, "cust_nm", edt_srch_mem_nm.value);
		ds_inqCndt.setColumn(0, "tell_no", edt_srch_tell_no.value);

		ds_inqCndt.setColumn(0, "cmpg_id", cbo_srch_cmpg.value);
		if(chk_srchFg.value !='Y'){
			ds_inqCndt.setColumn(0, "sub_trgt_list_id", ds_list_subTrgtList.getColumn(ds_list_subTrgtList.rowposition,'sub_trgt_list_id'));
		}
		ds_inqCndt.setColumn(0, "dpms_stat_cd", cbo_srch_dpms_stat_cd.value);
		ds_inqCndt.setColumn(0, "dpms_resl_cd", cbo_srch_dpms_resl_cd.value);
		if(cbo_srch_date_typ.index == 0){
			ds_inqCndt.setColumn(0, "cmpg_stt_dt", cal_srch_startd.value);
			ds_inqCndt.setColumn(0, "cmpg_end_dt", cal_srch_endd.value);
		}else{
			ds_inqCndt.setColumn(0, "stt_dt", cal_srch_startd.value);
			ds_inqCndt.setColumn(0, "end_dt", cal_srch_endd.value);
		}
		ds_inqCndt.setColumn(0, "orderBy", "dpms_dttm");
		ds_inqCndt.setColumn(0, "orderDirection", "desc");
		
		var nRowIdx = 0;
		nRowIdx = ds_cmpg_srch.findRow('cmpg_id',cbo_srch_cmpg.value);
		if(ds_cmpg_srch.getColumn(nRowIdx,'cmpg_div_cd')=='3000'||ds_cmpg_srch.getColumn(nRowIdx,'cmpg_div_cd')=='2000'){
			
			ds_inqCndt.setColumn(0, "cmpg_div_cd", ds_cmpg_srch.getColumn(nRowIdx,'cmpg_div_cd'));
			ds_inqCndt.setColumn(0, "pay_mthd", cbo_srch_pay_mthd.value);
			ds_inqCndt.setColumn(0, "ichae_dt", edt_ichae_dt.value);
			
			ds_inqCndt.setColumn(0, "stt_month_cnt", edt_stt_month_cnt.value);
			ds_inqCndt.setColumn(0, "end_month_cnt",  edt_end_month_cnt.value);
			ds_inqCndt.setColumn(0, "stt_true_cnt", edt_stt_true_cnt.value);
			ds_inqCndt.setColumn(0, "end_true_cnt",  edt_end_true_cnt.value);
			ds_inqCndt.setColumn(0, "stt_pay_state", edt_stt_pay_state.value);
			ds_inqCndt.setColumn(0, "end_pay_state",  edt_end_pay_state.value);
		}else{
			ds_inqCndt.setColumn(0, "user_defn1_cntn", edt_user1.value);
			ds_inqCndt.setColumn(0, "user_defn2_cntn", edt_user2.value);
			ds_inqCndt.setColumn(0, "user_defn3_cntn", edt_user3.value);
			ds_inqCndt.setColumn(0, "user_defn4_cntn", edt_user4.value);
			ds_inqCndt.setColumn(0, "user_defn5_cntn", edt_user5.value);
			//ds_inqCndt.setColumn(0, "user_defn9_cntn", edt_user9.value);
			ds_inqCndt.setColumn(0, "call_date", cal_call_date.value);
			if(!gfn_isNull(med_call_time.value)) {
				ds_inqCndt.setColumn(0, "call_time", med_call_time.value.trim());
			} else {
				ds_inqCndt.setColumn(0, "call_time", "");
			}
			ds_inqCndt.setColumn(0, "join_method", cbo_srch_join_method.value);
		}
		
		trace(ds_cmpg_srch.getColumn(ds_cmpg_srch.rowposition, "cmpg_id")); //CMP201907264448870 CMP201907264448870
		//if(ds_cmpg_srch.getColumn(ds_cmpg_srch.rowposition, "cmpg_id") == "CMP201609222273793")
		if(ds_cmpg_srch.getColumn(ds_cmpg_srch.rowposition, "cmpg_id") == "TAR99999999999998" || ds_cmpg_srch.getColumn(ds_cmpg_srch.rowposition, "cmpg_id") == "CMP201802011552424")
		{
			ds_inqCndt.setColumn(0, "upp_tx_type", cbo_upp_tx_type.value);
		}
	}
	
	return true;
}

function fn_preSrch(){
		var nRowIdx = 0;
		nRowIdx = ds_cmpg_srch.findRow('cmpg_id',cbo_srch_cmpg.value);
		if(ds_cmpg_srch.getColumn(nRowIdx,'cmpg_div_cd')=='3000'||ds_cmpg_srch.getColumn(nRowIdx,'cmpg_div_cd')=='2000'){
		if(!gfn_isNull(edt_stt_month_cnt.value)){
			if(gfn_isNull(edt_end_month_cnt.value)){
				alert("당월회차를 입력해 주세요.");
				return false;
			}
		}
		
		if(!gfn_isNull(edt_end_month_cnt.value)){
			if(gfn_isNull(edt_stt_month_cnt.value)){
				alert("당월회차를 입력해 주세요.");
				return false;
			}
		}
		
		if(parseInt(edt_stt_month_cnt.value) > parseInt(edt_end_month_cnt.value)){
			alert("당월회차를 확인해 주세요.");
			return false;
		}
		
		
		if(!gfn_isNull(edt_stt_true_cnt.value)){
			if(gfn_isNull(edt_end_true_cnt.value)){
				alert("실납입회차를 입력해 주세요.");
				return false;
			}
		}
		
		if(!gfn_isNull(edt_end_true_cnt.value)){
			if(gfn_isNull(edt_stt_true_cnt.value)){
				alert("실납입회차를 입력해 주세요.");
				return false;
			}
		}
		
		if(parseInt(edt_stt_true_cnt.value) > parseInt(edt_end_true_cnt.value)){
			alert("실납입회차를 확인해 주세요.");
			return false;
		}
		
		if(!gfn_isNull(edt_stt_pay_state.value)){
			if(gfn_isNull(edt_end_pay_state.value)){
				alert("연체회차를 입력해 주세요.");
				return false;
			}
		}
		
		if(!gfn_isNull(edt_end_pay_state.value)){
			if(gfn_isNull(edt_stt_pay_state.value)){
				alert("연체회차를 입력해 주세요.");
				return false;
			}
		}
		
		if(parseInt(edt_stt_pay_state.value) > parseInt(edt_end_pay_state.value)){
			alert("연체회차를 확인해 주세요.");
			return false;
		}
    }
    return true;
}

/********************************************************************************************/
/**   5. 서비스 호출(gfn_Transaction)                                                   	*/
/********************************************************************************************/
//조회
function fn_commSearch(sType)
{	
    if (!fn_preSearch(sType)) return false;
    
	//newtype 대상고객인지 확인 후 쿼리 변경
	var extc_typ_cd = ds_list_subTrgtList.getColumn(0,'trgt_list_extc_typ_cd');
	
	if (extc_typ_cd == '30' && fv_extcTypYn == "Y"){
		var szSvcid       = "srchNewTypeTrgtCustAlct";
		var szController  = "/cmpg/trgt-cust-alct/main/newtypelist";
    } else if (extc_typ_cd == '40'){
		var szSvcid       = "srchNewTypeTrgtCustDirectAlct";
		var szController  = "/cmpg/trgt-cust-alct/main/directlist";
    } else if (extc_typ_cd == '50'){
		var szSvcid       = "srchNewTypeTrgtCustUplusAlct";
		var szController  = "/cmpg/trgt-cust-alct/main/upluslist";
    } else {
    	var szSvcid       = "srchTrgtCustAlct";
		var szController  = "/cmpg/trgt-cust-alct/main/list";
    }
    
    //운영:CMP202201273563958 개발:CMP202201259175838 -> 운영:CMP202202143822840
    if(cbo_srch_cmpg.value == "CMP202201273563958" || cbo_srch_cmpg.value == "CMP202202143822840") {
		var szSvcid       = "srchTrgtCustAlct";
		var szController  = "/cmpg/trgt-cust-alct/main/mangilist";
    }
	// 호출 건수 설정 및 조회여부 설정
	if(!gfn_pageSearch(sType, ds_list_trgtCustAlct, sta_totalCnt, fv_cntPerPage, total_count)) return; 
	
    var szInDs        = "ds_input=ds_inqCndt";
    var szOutDs       = "ds_list_tmp=ds_output";
    var szParam       = "";
    var szRetCallback = "fn_callBack";

    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}


//서브타겟리스트 조회전 처리 조회조건셋팅
function fn_preSearch_subTrgt(sType,trgt_list_id)
{
	if (sType == gfn_getCommTypeInit())
	{
		// 조회조건 및 default 정렬
		ds_list_subTrgtList.keystring = ""; // 정렬컬럼 초기화
		
		ds_inqCndt_subTrgt.clearData();
		ds_inqCndt_subTrgt.addRow();
		ds_inqCndt_subTrgt.setColumn(0, "trgt_list_id", trgt_list_id);
		ds_inqCndt_subTrgt.setColumn(0, "orderBy", "rgsn_dttm");
		ds_inqCndt_subTrgt.setColumn(0, "orderDirection", "desc");
	}
	
	return true;
}

//서브대상목록조회
function fn_commSearch_subTrgtList(sType,trgt_list_id)
{		
    if (!fn_preSearch_subTrgt(sType,trgt_list_id)) return false;

	var szSvcid       = "srchSubTrgtList";
    var szController  = "/cmpg/sub-trgt-list/list";
    var szInDs        = "ds_input=ds_inqCndt_subTrgt";
    var szOutDs       = "ds_list_tmp_subTrgt=ds_output";
    var szParam       = "";
    var szRetCallback = "fn_callBack";

    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback,false);
}

/********************************************************************************************/
/**   6. 사용자 함수                                                                   	*/
/********************************************************************************************/
//조회 결과 
function fn_postSearch()
{
	if(ds_list_trgtCustAlct.rowcount < 1) {
		//캠페인 대상고객 상세 리셋
		fn_resetTrgtCustInfo();
		//스크립트 리셋
		fn_resetScrt();
		//처리등록처리결과 리셋
		parent.div_cmpgDpms.fn_resetDpmsOrHist();
		
		sta_totalCnt.text = '조회결과가 없습니다.';
 	} else {
		
		fn_findReserve(); 	// 예약 건 찾기
		fn_setCmpgTimer(); 	// 예약 팝업 표시 타이머 설정
		
		parent.div_cust_info.ds_list_trgtCust.clearData();
		parent.div_cust_info.ds_list_trgtCust.addRow();
		parent.div_cust_info.ds_list_trgtCust.copyRow(parent.div_cust_info.ds_list_trgtCust.rowposition,ds_list_trgtCustAlct,ds_list_trgtCustAlct.rowposition);
		parent.div_cust_info.fn_Init();
		
		if(ds_list_trgtCustAlct.getColumn(ds_list_trgtCustAlct.rowposition,"cmpg_typ_cd") >= 2000  && ds_list_trgtCustAlct.getColumn(ds_list_trgtCustAlct.rowposition,"cmpg_typ_cd") < 4000 ){//미납일경우 
		if(!gfn_isNull(ds_list_trgtCustAlct.getColumn(ds_list_trgtCustAlct.rowposition,"accnt_no"))){
			parent.div_cust_info.sta_unpy_stat.visible = true;
			parent.div_cust_info.ds_unpyStat.clearData();
			parent.div_cust_info.fn_srchUnpyStat(ds_list_trgtCustAlct.getColumn(ds_list_trgtCustAlct.rowposition,"accnt_no"));
		}else{
			parent.div_cust_info.sta_unpy_stat.visible = false;
		}
		}else{
			parent.div_cust_info.sta_unpy_stat.visible = false;
		}
		parent.div_cmpgDpms.fn_setTrgtCustAlctDpms();
		parent.div_cmpgDpms.fn_commSearch(gfn_getCommTypeInit());//조회
		fn_change_chnl();//인바운드 접수채널 변경
		parent.fn_commSearch(gfn_getCommTypeInit(),ds_list_trgtCustAlct.getColumn(ds_list_trgtCustAlct.rowposition ,'invt_cnts_id'));
	}
	return;
}



function fn_unpyComponent(sFg){
	//납입방법
	stc_paymthd.visible = sFg;
	cbo_srch_pay_mthd.visible = sFg;
	
	//이체일자
	stc_ichae_dt.visible = sFg;
	edt_ichae_dt.visible = sFg;
	
	//당월회차
	stc_month_cnt.visible = sFg;
	edt_stt_month_cnt.visible = sFg;
	sta_andMonthCnt.visible = sFg;
	edt_end_month_cnt.visible =sFg;
	
	//실납입 회차
	stc_true_cnt.visible = sFg;
	edt_stt_true_cnt.visible = sFg;
	sta_andTrueCnt.visible = sFg;
	edt_end_true_cnt.visible = sFg;
	
	//연체회차
	sta_pay_mthd.visible = sFg;
	edt_stt_pay_state.visible= sFg;
	sta_andPayState.visible= sFg;
	edt_end_pay_state.visible= sFg;
	
	//사용자 정의1
	stc_user1.visible = !sFg;
	edt_user1.visible = !sFg;
	//사용자 정의 2
	stc_user2.visible = !sFg;
	edt_user2.visible = !sFg;
	//사용자 정의 3
	stc_user3.visible = !sFg;
	edt_user3.visible = !sFg;
	//사용자 정의 4
	stc_user4.visible = !sFg;
	edt_user4.visible = !sFg;
	//사용자 정의 5
	stc_user5.visible = !sFg;
	edt_user5.visible = !sFg;
}

//처리결과 조사방법 버튼 변경
function fn_changeCmpgCustAlctInvtMthdBtn(){
	
	if(ds_list_trgtCustAlct.rowcount < 1){
		parent.div_cmpgCustAlct.btn_openSurvey.visible = false;
		parent.div_cmpgCustAlct.btn_openScript.visible = false;
		parent.div_cmpgCustAlct.btn_save.visible = false;
	}else{
		parent.div_cmpgCustAlct.btn_save.visible = true;
		if(ds_list_trgtCustAlct.getColumn(ds_list_trgtCustAlct.rowposition, 'cmpg_invt_mthd_cd')=='10'){
			parent.div_cmpgCustAlct.btn_openSurvey.visible = true;
			parent.div_cmpgCustAlct.btn_openScript.visible = false;
		}else{
			parent.div_cmpgCustAlct.btn_openSurvey.visible = false;
			parent.div_cmpgCustAlct.btn_openScript.visible = true;
		}
	}
}

//처리등록에 데이터셋 카피
function fn_copyDstrgtCustAlct(){
	if(ds_list_trgtCustAlct.rowcount < 1){
		parent.div_cmpgCustAlct.ds_trgtCustAlct.clearData();
	}else{
		parent.div_cmpgCustAlct.ds_trgtCustAlct.clearData();
		parent.div_cmpgCustAlct.ds_trgtCustAlct.addRow();
		if(ds_list_trgtCustAlct.getColumn(ds_list_trgtCustAlct.rowposition,'dpms_resl_cd') == null){
			ds_list_trgtCustAlct.setColumn(ds_list_trgtCustAlct.rowposition,'dpms_resl_cd',"");
		}
		parent.div_cmpgCustAlct.ds_trgtCustAlct.copyRow(parent.div_cmpgCustAlct.ds_trgtCustAlct.rowposition,
					ds_list_trgtCustAlct,ds_list_trgtCustAlct.rowposition);
	}
}

//초기화
function fn_reset(){
	//캠페인 대상고객 리스트 리셋
	fn_resetTrgtList();
	//캠페인 대상고객 상세 리셋
	fn_resetTrgtCustInfo();
	//스크립트 리셋
	fn_resetScrt();
	//처리등록처리결과 리셋
	parent.div_cmpgDpms.fn_resetDpmsOrHist();
	
	//전자서명으로 인한 초기화 진행
	parent.div_cust_info.fn_Init();
}

//캠페인 대상고객 리셋
function fn_resetTrgtList(){
	ds_list_trgtCustAlct.clearData();
	sta_totalCnt.text = "검색결과";
}

//캠페인 대상고객 상세 리셋
function fn_resetTrgtCustInfo(){
	parent.div_cust_info.ds_list_trgtCust.clearData();
	parent.div_cust_info.fn_Init();
	
}

//스크립트 리셋
function fn_resetScrt(){
	parent.Div00.ActiveX00.Document.body.innerHTML= "";
}

/********************************************************************************************/
/**   7. 이벤트(Event) Function                                                          	*/
/********************************************************************************************/
//콤보변환 이벤트
function cbo_onitemchanged(obj:Combo, e:ItemChangeEventInfo)
{
	
	switch(obj){
		case cbo_srch_cmpg: //캠페인 선택시
			trace(cbo_srch_cmpg.value);
			edt_srch_sub_trgt_list_nm.value= null; //변경시 서브타겟 초기화
			ds_list_subTrgtList.clearData();
			
			if(obj.index == 0){
				btn_cmpgDetailView.visible = false;
				btn_subTrgtSrch.enable = false;
				fn_reset();
				fn_unpyComponent(false);
			}else{
				btn_cmpgDetailView.visible = true;
				btn_subTrgtSrch.enable = true;
				var nRowIdx = 0;
				nRowIdx = ds_cmpg_srch.findRow('cmpg_id',cbo_srch_cmpg.value);
				if(ds_cmpg_srch.getColumn(nRowIdx,'setting_fg')=='Y'){ //서브타겟 1건일때 자동셋팅
					fn_commSearch_subTrgtList( gfn_getCommTypeInit(),ds_cmpg_srch.getColumn(nRowIdx , 'trgt_list_id'));
				}else{
					fn_reset();
				}
				
				if(ds_cmpg_srch.getColumn(nRowIdx,'cmpg_div_cd')=='3000'||ds_cmpg_srch.getColumn(nRowIdx,'cmpg_div_cd')=='2000'){
					fn_unpyComponent(true);
					grd_list.formatid = 'unpy';
				}else{
					fn_unpyComponent(false);
					grd_list.formatid = '';
				}
				
			}
			
			
		//2018.02.07 전자 서명으로 수정 할 목록
			//alert(ds_cmpg_srch.getColumn(nRowIdx,'cmpg_id'));
			//if (ds_cmpg_srch.getColumn(nRowIdx,'cmpg_id') == "CMP201609222273793")
			var subType = ds_list_subTrgtList.getColumn(0,'trgt_list_extc_typ_cd');  // newtype : 30
			
			if (ds_cmpg_srch.getColumn(nRowIdx,'cmpg_id') == "TAR99999999999998" || ds_cmpg_srch.getColumn(nRowIdx,'cmpg_id') == "CMP201802011552424" || subType == "30")
			{
				grd_list.setFormatColProperty(10,"size",70);
				grd_list.setFormatColProperty(11,"size",70);
				grd_list.setFormatColProperty(12,"size",60);
				grd_list.setFormatColProperty(13,"size",85);
				stc_02.visible = true;
				cbo_upp_tx_type.visible = true;
				cbo_upp_tx_type.index = 0;
				fv_extcTypYn = "Y";
			}
			else
			{
				grd_list.setFormatColProperty(10,"size",0);
				grd_list.setFormatColProperty(11,"size",0);
				grd_list.setFormatColProperty(12,"size",0);
				grd_list.setFormatColProperty(13,"size",0);
				stc_02.visible = false;
				cbo_upp_tx_type.visible = false;
				fv_extcTypYn = "N";
			}
			
			//CMP202107289160790 개발 CMP202108301483542 운영
			//윌비 U라이프클럽 신규/전자서명/TM
			if(subType == "50") {
				if(ds_cmpg_srch.getColumn(nRowIdx,'cmpg_id') == "CMP202108301483542" 
				|| ds_cmpg_srch.getColumn(nRowIdx,'cmpg_id') == "CMP202107289160790"
				|| ds_cmpg_srch.getColumn(nRowIdx,'cmpg_id') == "CMP202202223898890"
				|| ds_cmpg_srch.getColumn(nRowIdx,'cmpg_id') == "CMP202202223898904") {
					//stc_user9.visible = true;
					//edt_user9.visible = true;
					stc01.visible = true;
					cal_call_date.visible = true;
					stc02.visible = true;
					med_call_time.visible = true;
					stc_join.visible = true;
					cbo_srch_join_method.visible = true;
					grd_list.setFormatColProperty(2,"size",80);
					btn_elecSign.visible = true;
				} 
			} else {
				//stc_user9.visible = false;
				//edt_user9.visible = false;
				stc01.visible = false;
				cal_call_date.visible = false;
				stc02.visible = false;
				med_call_time.visible = false;
					
				stc_join.visible = false;
				cbo_srch_join_method.visible = false;
				grd_list.setFormatColProperty(2,"size",0);
				btn_elecSign.visible = false;
			}
		break;
		
// 		case cbo_srch_dateSelect: //기간선택시
// 			gfn_dateSrchDefaultChangeEvnt(cbo_srch_dateSelect,cal_srch_sttDt,cal_srch_endDt);
// 		break;
// 		case cbo_srch_dpms_stat_cd: // 진행상태 변경시 
// 			if(obj.value == 10){	// 미처리
// 				gfn_getCode("CAM090", "ALL", ds_dpmsReslCdList_srch,ds_cdSet,"10,11,12,13,14,15,16,17,18,19"); //통화결과
// 				if(cbo_srch_dpms_resl_cd.value < 20){
// 					cbo_srch_dpms_resl_cd.index = 0;
// 				}
// 			}else if(obj.value == 30){ //진행완료
// 				gfn_getCode("CAM090", "ALL", ds_dpmsReslCdList_srch,ds_cdSet,"20,21,22,23,24,25,26,27,28,29"); //통화결과
// 				if(cbo_srch_dpms_resl_cd.value >= 20){
// 					cbo_srch_dpms_resl_cd.index = 0;
// 				}
// 			}else if(obj.index == 0){
// 				gfn_getCode("CAM090", "ALL", ds_dpmsReslCdList_srch,ds_cdSet); //통화결과
// 				cbo_srch_dpms_resl_cd.index = 0;
// 			}
// 		break;
		
		case cbo_srch_dpms_stat_cd: //진행상태
			trace(ds_dpmsReslCdList_srch.saveXML())
			if(obj.value == 10){	// 미처리
				gfn_getCode("CAM090", "ALL", ds_dpmsReslCdList_srch,ds_cdSet,"2000,2001,2002,3000,3001,3002,3003,3004,3005,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,4001,4002,4003,4004,4005,4006,4007"); //통화결과
				if(cbo_srch_dpms_resl_cd.value >= 2000){
					cbo_srch_dpms_resl_cd.index = 0;
				}
			}else if(obj.value == 20){ //진행중
				gfn_getCode("CAM090", "ALL", ds_dpmsReslCdList_srch,ds_cdSet,"1000,1001,3000,3001,3002,3003,3004,3005,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,4001,4002,4003,4004,4005,4006,4007"); //통화결과
				if(cbo_srch_dpms_resl_cd.value < 2000 ||cbo_srch_dpms_resl_cd.value  >= 3000){
					cbo_srch_dpms_resl_cd.index = 0;
				}
			}else if(obj.value == 30){ //처리완료
				gfn_getCode("CAM090", "ALL", ds_dpmsReslCdList_srch,ds_cdSet,"1000,1001,2000,2001,2002,4001,4002,4003,4004,4005,4006,4007"); //통화결과
				if(cbo_srch_dpms_resl_cd.value < 3000 ||cbo_srch_dpms_resl_cd.value  >= 4000){
					cbo_srch_dpms_resl_cd.index = 0;
				}
			}else if(obj.value == 50){ //대상제외
				gfn_getCode("CAM090", "ALL", ds_dpmsReslCdList_srch,ds_cdSet,"1000,1001,2000,2001,2002,3000,3001,3002,3003,3004,3005,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016"); //통화결과
				if(cbo_srch_dpms_resl_cd.value < 4000){
					cbo_srch_dpms_resl_cd.index = 0;
				}				
			}else if(obj.index == 0){
				gfn_getCode("CAM090", "ALL", ds_dpmsReslCdList_srch,ds_cdSet); //통화결과
				cbo_srch_dpms_resl_cd.index = 0;
			}
	
		break;
		
		case cbo_srch_dpms_resl_cd: //통화결과
			if(gfn_isNull(obj.value)){
				//cbo_srch_dpms_stat_cd.index = 0;
			}else if (obj.value >= 1000 && obj.value < 2000){ // 미처리
				cbo_srch_dpms_stat_cd.index = 1;
			}else if (obj.value >= 2000 && obj.value < 3000){ // 처리중
				cbo_srch_dpms_stat_cd.index = 2;
			}else if (obj.value >= 3000 && obj.value < 4000){ // 처리완료
				cbo_srch_dpms_stat_cd.index = 3;
			}else if (obj.value >= 4000 && obj.value < 5000){ // 대상제외
				cbo_srch_dpms_stat_cd.index = 4;
			}
		break;
	}
}

//버튼 클릭 이벤트
function btn_onclick(obj:Button,  e:ClickEventInfo)
{
	switch(obj){
		case btn_cmpgDetailView : // 상세보기버튼 클릭
			var sPrmr = {cmpg_id:cbo_srch_cmpg.value,page_url:"PS1000101"};	
			gfn_diaLog("캠페인상세정보", -1, -1, 478, 182, "PS210000::PS210100.xfdl", false, sPrmr, true, true, true, null ,null ,true);
		break;
		
		case btn_search: //조회버튼
			fn_killCmpgTimer();
			fn_hideReserve();
			
			if(cbo_srch_cmpg.index == 0){
				alert("캠페인을 선택하세요");
				return;						
			}
			if (edt_srch_sub_trgt_list_nm.value == null && chk_srchFg.value != 'Y'){
				alert("서브대상고객을 선택하세요.");
				return;
			}			
			if(fn_preSrch()){
				fn_commSearch(gfn_getCommTypeInit());//조회
			}
		break;
		
		case btn_subTrgtSrch: //서브대상고객 조회
			var nRowIdx = 0;
			nRowIdx = ds_cmpg_srch.findRow('cmpg_id',cbo_srch_cmpg.value);
			var sPrmr = {trgt_list_id:ds_cmpg_srch.getColumn(nRowIdx , 'trgt_list_id'),page_url:"PS21000101"};	
			gfn_diaLog("서브타겟리스트 선택", -1, -1, 719, 388, "PS220000::PS220101_01.xfdl", false, sPrmr, false, true, true, null ,null ,true);
		break;
		
		case btn_init: //초기화
			fn_init();
		break;
		
		case btn_refresh://새로고침버튼 
			gfn_getList("cmpgId","","fn_callBack",null,"srchCmpgId");   //캠페인
			fn_reset();
		break;
		
		case btn_trgt_cust_hstr : //아웃바운드 회원이
			var sPrmr = "";
			var bModal = true;
			var bSingle = true;
			var reVal = gfn_diaLog("캠페인고객이력", -1, -1, -1, -1, "PS220000::PS221000.xfdl", false, sPrmr, bModal, false, true, null ,null ,bSingle);
		break;
		
		case btn_elecSign:
			fn_elecSign();
		break;
	}
}


//그리드 오버스크롤 
function grd_onvscrolllastover(obj:Grid, e:ScrollEventInfo)
{
	fn_commSearch(gfn_getCommTypeAppend());
}

//인바운드 접수채널 자동 셋팅
function fn_change_chnl(){
	if(parseInt(ds_list_trgtCustAlct.getColumn(ds_list_trgtCustAlct.rowposition, 'hgrn_hrch_cd'))<4000){
		for (var i=0;i<ap_WorkFrame.all.length; i++){
			if (ap_WorkFrame.all[i].prgmCode =='DL500001') {//if (ap_WorkFrame.all[i].prgmCode =='PS020001') { //인바운드 화면
				ap_WorkFrame.all[i].form.div_Work.div_cons_memo.tab_cons.tp_cons1.div_cons1.acpg_chnl_cd.value = "20";
			}
		}
	}else{
		for (var i=0;i<ap_WorkFrame.all.length; i++){
			if (ap_WorkFrame.all[i].prgmCode =='DL500001') {//if (ap_WorkFrame.all[i].prgmCode =='PS020001') { //인바운드 화면
				ap_WorkFrame.all[i].form.div_Work.div_cons_memo.tab_cons.tp_cons1.div_cons1.acpg_chnl_cd.value = "30";
			}
		}
	}
}

//체크박스 변경 이벤트
function chk_srchFg_onchanged(obj:CheckBox, e:CheckBoxChangeEventInfo)
{
	if(obj.value == 'Y'){
		var extc_typ_cd = ds_list_subTrgtList.getColumn(0,'trgt_list_extc_typ_cd');
		if(extc_typ_cd == "30") {
			fv_extcTypYn = "Y";
			fv_cmpgChk = cbo_srch_cmpg.value;
		}
		if(fv_cmpgChk != cbo_srch_cmpg.value) {
			fv_extcTypYn = "N";
		}
		trace('fv_extcTypYn :'+fv_extcTypYn);
		ds_list_subTrgtList.clearData();
		fn_reset();
	} else {
		if(fv_cmpgChk != cbo_srch_cmpg.value) {
			fv_extcTypYn = "N";
		}
		trace('fv_extcTypYn :'+fv_extcTypYn);
	}
}




function grd_list_onheadclick(obj:Grid, e:GridClickEventInfo)
{
	gfn_grdHeadClick(obj, e);
}

function Edit_onkeydown(obj:Edit, e:KeyEventInfo)
{
	if (e.keycode == 13) { // 엔터
		if(cbo_srch_cmpg.index == 0){
				alert("캠페인을 선택하세요");
			}else if(edt_srch_sub_trgt_list_nm.value == null){
			    if(chk_srchFg.value != 'Y'){
					alert("서브대상고객을 선택하세요.");
					return;
				}else{
					if(fn_preSrch()){
						fn_commSearch(gfn_getCommTypeInit());//조회
					}
				}
			}else{
				if(fn_preSrch()){
					fn_commSearch(gfn_getCommTypeInit());//조회
				}
			}
	}
}


function grd_list_onselectchanged(obj:Grid, e:GridSelectEventInfo)
{
/*   우선 막아놓음 
	if (parent.div_cmpgDpms.tab_dpms_resl.tabindex == 2) {      //// sms이력 탭일경우 조회
	     parent.div_cmpgDpms.fn_srch_mem_char_hstr();
	}
	*/
}

function PS21000101_ontimer(obj:Form, e:TimerEventInfo)
{
	if (e.timerid == fv_cmpgTimer) {
		gfn_getWasDthms("fn_findReserve");
	}
}

function fn_setCmpgTimer() {	
	setTimer(fv_cmpgTimer, fv_cmpgTimerInterval);
}

// 예약알림을 위한 시간변수 초기화
function fn_initTime() {
	fv_wasDthms = "";
}

function fn_killCmpgTimer() {
	fn_initTime();	
	form.killTimer(fv_cmpgTimer);
}

function fn_findReserve() {
	var i,
	    wasTime,
	    tmpTime,
	    validTime,
	    hitIdx,
	    reserve_proc_dt,
	    reserve_proc_tm,
	    nDiff;
	
	if ("" == fv_wasDthms) return;
	
	var wasTime = gfn_getStringToDate(fv_wasDthms);
		
	hitIdx = -1;
	validTime = 0;
	
	for (i=0; i<ds_list_trgtCustAlct.rowcount; ++i) {
		
		reserve_proc_dt = ds_list_trgtCustAlct.getColumn(i, "reserve_proc_dt");
		reserve_proc_tm = ds_list_trgtCustAlct.getColumn(i, "reserve_proc_tm");
		
		if ( gfn_isEmpty(reserve_proc_dt) || gfn_isEmpty(reserve_proc_tm) ) {
			continue;
		}
		
		reserve_proc_dt = reserve_proc_dt.replace("-","");
		reserve_proc_tm = reserve_proc_tm.replace(":","") + "00";
		
		tmpTime = gfn_getStringToDate(reserve_proc_dt + "" + reserve_proc_tm);
		
		if (tmpTime > wasTime ) {
			nDiff = tmpTime - wasTime;
			if (nDiff <= fv_cmpgTimerInterval) {
				if (validTime == 0 || validTime > nDiff) {
					validTime = tmpTime;
					hitIdx = i;
				}
			}
		}
	}
	
	if (hitIdx >= 0) {
		fn_showReserve(hitIdx);
	}
}

function fn_showReserve(nPos) {
	// 고객명
	// 휴대전화번호
	// 예약시간
	
	/*
	고객명 - cust_nm
	휴대전화번호 - clph_tlno
	예약일자 - reserve_proc_dt
	예약시간 - bind:reserve_proc_tm
	*/
	
	var accnt_no 		= ds_list_trgtCustAlct.getColumn(nPos, "accnt_no");
	var cust_nm 		= ds_list_trgtCustAlct.getColumn(nPos, "cust_nm");
	var clph_tlno 		= ds_list_trgtCustAlct.getColumn(nPos, "clph_tlno");
	var reserve_proc_tm = ds_list_trgtCustAlct.getColumn(nPos, "reserve_proc_tm");
	var reserve_proc_dt = ds_list_trgtCustAlct.getColumn(nPos, "reserve_proc_dt");
	reserve_proc_tm = reserve_proc_tm.replace(":", "");
	
	parent.div_cust_info.div_reserve.edt_accnt_no.value 		= accnt_no;
	parent.div_cust_info.div_reserve.edt_mem_nm.value 			= cust_nm;
	parent.div_cust_info.div_reserve.edt_cell.value				= clph_tlno;
	parent.div_cust_info.div_reserve.medt_time.value			= reserve_proc_tm;
	parent.div_cust_info.div_reserve.edt_reserve_proc_dt.value	= reserve_proc_dt;		
	parent.div_cust_info.div_reserve.visible = true;
}

// 예약알림 팝업에서 닫기가 아닌 확인을 선택한 경우
function fn_goReserve(accnt_no) {
	//
}

// 컬럼값으로 그리드 행위치 검색
function fn_getRowPos(accnt_no) {
	var nPos = ds_list_trgtCustAlct.findRow("accnt_no", accnt_no);
	return nPos;
}

//셀클릭이벤트
function grd_oncellclick(obj:Grid, e:GridClickEventInfo)
{
	fn_hideReserve();
	grd_oncellclick2(e.row);
}

function grd_oncellclick2(nPos) {
	
	if (nPos < 0) return;
	
	if(ds_list_trgtCustAlct.getColumn(nPos,"cmpg_typ_cd") >= 2000  && ds_list_trgtCustAlct.getColumn(nPos,"cmpg_typ_cd") < 4000 ){//미납일경우 
		if(!gfn_isNull(ds_list_trgtCustAlct.getColumn(nPos,"accnt_no"))){
			parent.div_cust_info.sta_unpy_stat.visible = true;
			parent.div_cust_info.ds_unpyStat.clearData();
			parent.div_cust_info.fn_srchUnpyStat(ds_list_trgtCustAlct.getColumn(nPos,"accnt_no"));
		}else{
			parent.div_cust_info.sta_unpy_stat.visible = false;
		}
	}else{
		parent.div_cust_info.sta_unpy_stat.visible = false;
	}
	parent.div_cust_info.ds_list_trgtCust.clearData();
	parent.div_cust_info.ds_list_trgtCust.addRow();
	parent.div_cust_info.ds_list_trgtCust.copyRow(parent.div_cust_info.ds_list_trgtCust.rowposition,ds_list_trgtCustAlct,ds_list_trgtCustAlct.rowposition);
	parent.div_cust_info.fn_Init();
	parent.div_cmpgDpms.fn_resetDpmsOrHist();
	parent.div_cmpgDpms.fn_setTrgtCustAlctDpms();
	parent.div_cmpgDpms.fn_commSearch(gfn_getCommTypeInit());//히스토리조회
	
	
	if (parent.div_cmpgDpms.tab_dpms_resl.tabindex == 2) {      //// sms이력 탭일경우 조회
	     parent.div_cmpgDpms.fn_srch_mem_char_hstr();
	}
	
	parent.fn_commSearch(gfn_getCommTypeInit(),ds_list_trgtCustAlct.getColumn(ds_list_trgtCustAlct.rowposition ,'invt_cnts_id'));
	
	fn_change_chnl();//인바운드 접수채널 변경
// 	for(var i=0;i<ap_WorkFrame.all.length; i++){
// 		if (ap_WorkFrame.all[i].prgmCode =='PS020001') { //인바운드 화면
// 			var sMemNo = "";
// 			ap_WorkFrame.all[i].form.div_Work.div_member.fn_init("click"); // 회원 조회
// 			ap_WorkFrame.all[i].form.div_Work.div_cons_memo.fn_init();        			 // 상담 초기화
// 			ap_WorkFrame.all[i].form.div_Work.div_cons_memo.fn_endTotalConsHr();		 // 상담시간 종료
// 			ap_WorkFrame.all[i].form.div_Work.div_cons_memo.edt_totl_cons_hr.value = ""; // 상담시간 초기화
// 			ap_WorkFrame.all[i].form.div_Work.div_product.fn_endRecHr();				 // 부분 녹취 종료
// 			ap_WorkFrame.all[i].form.div_Work.div_product.edt_rec_dual_hr.value = "";	 // 부분 녹취시간 초기화
// 			if(parent.div_cmpgInfo.ds_list_trgtCustAlct.getColumn(parent.div_cmpgInfo.ds_list_trgtCustAlct.rowposition,'hgrn_hrch_cd') == '4000'){
// 				ap_WorkFrame.all[i].form.div_Work.div_cons_memo.tab_cons.tp_cons1.div_cons1.acpg_chnl_cd.value = "30";
// 			}else{
// 				ap_WorkFrame.all[i].form.div_Work.div_cons_memo.tab_cons.tp_cons1.div_cons1.acpg_chnl_cd.value = "20";
// 			}
// 		}
// 	}
}

//조회
function gfn_getWasDthms(sCallBackFunc)
{
	var szSvcid       = "search";
    var szController  = "/common/getWasDthms";
    var szInDs        = "ds_input=ds_cond";
    var szOutDs       = "ds_list=ds_output";
    var szParam       = "";

	// 트랜젝션 공통함수 호출
	gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, sCallBackFunc);
}

function fn_selectRow(reserve_dthms) {
	// var nPos = ds_list_trgtCustAlct.findRow("accnt_no", accnt_no);
	var nPos = ds_list_trgtCustAlct.findRow("reserve_dthms", reserve_dthms);
	if (nPos >= 0) {
		ds_list_trgtCustAlct.rowposition = nPos;
		grd_oncellclick2(nPos);
	}
}

// 검색결과 목록에서 행을 클릭하면 알림 팝업을 숨기기
function fn_hideReserve() {
	parent.div_cust_info.div_reserve.visible = false;
}

function ds_list_trgtCustAlct_onrowposchanged(obj:Dataset, e:DSRowPosChangeEventInfo)
{
	trace('----------------------id_no:'+ds_list_trgtCustAlct.getColumn(ds_list_trgtCustAlct.rowposition, "id_no"))
	grd_oncellclick2(ds_list_trgtCustAlct.rowposition);
}

function fn_elecSign()
{
	var subType = ds_list_subTrgtList.getColumn(0,'trgt_list_extc_typ_cd');  // newtype : 30
    var nRowIdx = ds_cmpg_srch.findRow('cmpg_id',cbo_srch_cmpg.value);
    
    if(subType == "50") {
		if(ds_cmpg_srch.getColumn(nRowIdx,'cmpg_id') == "CMP202108301483542" 
		|| ds_cmpg_srch.getColumn(nRowIdx,'cmpg_id') == "CMP202107289160790"
		|| ds_cmpg_srch.getColumn(nRowIdx,'cmpg_id') == "CMP202202223898904"
		|| ds_cmpg_srch.getColumn(nRowIdx,'cmpg_id') == "CMP202202223898890") {
			if(gfn_isNull(ds_list_trgtCustAlct.getColumn(ds_list_trgtCustAlct.rowposition, "accnt_no"))) {
				alert("회원번호가 없습니다.");
				return;
			}
			
			var sAccntNo = ds_list_trgtCustAlct.getColumn(ds_list_trgtCustAlct.rowposition, "accnt_no");
			var sMemNo = ds_list_trgtCustAlct.getColumn(ds_list_trgtCustAlct.rowposition, "mem_no");
			var sMemNm = "";
			var sProdCd = "";
			var sProdNm = "";
			var sSectionThr = "";
			var sKstbit = "";
			var sPayMthd = "";
			
			var sPrmr = {"pAccntNo" : sAccntNo, "pMemNo" : sMemNo, "pMemNm" : sMemNm, 
						 "pProdCd" : sProdCd, "pProdNm" : sProdNm, "pSectionThr" : sSectionThr,
						 "pKstbit" : sKstbit, "pPayMthd" : sPayMthd};
			
			var reVal = gfn_diaLog("유플러스", -1, -1, 719, 388, "PS210000::PS21000101P04.xfdl", false, sPrmr, true, false, true, null, null, true);
		} 
	}
}]]></Script>
  </Form>
</FDL>
