(function(a,b){b([],a)})(function(){(function(av,aE,v){var r=aE.kendo=aE.kendo||{cultures:{}},ac=av.extend,aP=av.each,c=av.isArray,z=av.proxy,au=av.noop,O=Math,U,j=aE.JSON||{},aG={},g=/%/,Q=/\{(\d+)(:[^\}]+)?\}/g,aJ=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,i=/^(\+|-?)\d+(\.?)\d*$/,ak="function",aH="string",N="number",B="object",ah="null",X="boolean",ag="undefined",ao={},T={},x=[].slice,e=aE.Globalize;r.version="2015.1.429";function aF(){}aF.extend=function(aU){var aV=function(){},aW,aT=this,aR=aU&&aU.init?aU.init:function(){aT.apply(this,arguments)},aS;aV.prototype=aT.prototype;aS=aR.fn=aR.prototype=new aV();for(aW in aU){if(aU[aW]!=null&&aU[aW].constructor===Object){aS[aW]=ac(true,{},aV.prototype[aW],aU[aW])}else{aS[aW]=aU[aW]}}aS.constructor=aR;aR.extend=aT.extend;return aR};aF.prototype._initOptions=function(aR){this.options=aN({},this.options,aR)};var ay=r.isFunction=function(aR){return typeof aR==="function"};var y=function(){this._defaultPrevented=true};var ar=function(){return this._defaultPrevented===true};var G=aF.extend({init:function(){this._events={}},bind:function(aX,aV,aW){var aY=this,aZ,aS=typeof aX===aH?[aX]:aX,aT,aU,a1,aR=typeof aV===ak,a0;if(aV===v){for(aZ in aX){aY.bind(aZ,aX[aZ])}return aY}for(aZ=0,aT=aS.length;aZ<aT;aZ++){aX=aS[aZ];a1=aR?aV:aV[aX];if(a1){if(aW){aU=a1;a1=function(){aY.unbind(aX,a1);aU.apply(aY,arguments)};a1.original=aU}a0=aY._events[aX]=aY._events[aX]||[];a0.push(a1)}}return aY},one:function(aS,aR){return this.bind(aS,aR,true)},first:function(aV,aU){var aW=this,aX,aR=typeof aV===aH?[aV]:aV,aS,aZ,aT=typeof aU===ak,aY;for(aX=0,aS=aR.length;aX<aS;aX++){aV=aR[aX];aZ=aT?aU:aU[aV];if(aZ){aY=aW._events[aV]=aW._events[aV]||[];aY.unshift(aZ)}}return aW},trigger:function(aS,aW){var aV=this,aT=aV._events[aS],aR,aU;if(aT){aW=aW||{};aW.sender=aV;aW._defaultPrevented=false;aW.preventDefault=y;aW.isDefaultPrevented=ar;aT=aT.slice();for(aR=0,aU=aT.length;aR<aU;aR++){aT[aR].call(aV,aW)}return aW._defaultPrevented===true}return false},unbind:function(aS,aU){var aV=this,aT=aV._events[aS],aR;if(aS===v){aV._events={}}else{if(aT){if(aU){for(aR=aT.length-1;aR>=0;aR--){if(aT[aR]===aU||aT[aR].original===aU){aT.splice(aR,1)}}}else{aV._events[aS]=[]}}}return aV}});function k(aR,aU){if(aU){return"'"+aR.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'"}else{var aT=aR.charAt(0),aS=aR.substring(1);if(aT==="="){return"+("+aS+")+"}else{if(aT===":"){return"+$kendoHtmlEncode("+aS+")+"}else{return";"+aR+";$kendoOutput+="}}}}var aM=/^\w+/,aA=/\$\{([^}]*)\}/g,o=/\\\}/g,L=/__CURLY__/g,f=/\\#/g,D=/__SHARP__/g,R=["","0","00","000","0000"];U={paramName:"data",useWithBlock:true,render:function(aT,aV){var aR,aU,aS="";for(aR=0,aU=aV.length;aR<aU;aR++){aS+=aT(aV[aR])}return aS},compile:function(a0,a1){var aS=ac({},this,a1),aV=aS.paramName,aT=aV.match(aM)[0],aX=aS.useWithBlock,aR="var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;",aY,aU,aZ;if(ay(a0)){return a0}aR+=aX?"with("+aV+"){":"";aR+="$kendoOutput=";aU=a0.replace(o,"__CURLY__").replace(aA,"#=$kendoHtmlEncode($1)#").replace(L,"}").replace(f,"__SHARP__").split("#");for(aZ=0;aZ<aU.length;aZ++){aR+=k(aU[aZ],aZ%2===0)}aR+=aX?";}":";";aR+="return $kendoOutput;";aR=aR.replace(D,"#");try{aY=new Function(aT,aR);aY._slotCount=Math.floor(aU.length/2);return aY}catch(aW){throw new Error(r.format("Invalid template:'{0}' Generated code:'{1}'",a0,aR))}}};function s(aS,aT,aR){aS=aS+"";aT=aT||2;aR=aT-aS.length;if(aR){return R[aT].substring(0,aR)+aS}return aS}(function(){var aY=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,aX,aR,aV={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},aT,aU={}.toString;if(typeof Date.prototype.toJSON!==ak){Date.prototype.toJSON=function(){var aZ=this;return isFinite(aZ.valueOf())?s(aZ.getUTCFullYear(),4)+"-"+s(aZ.getUTCMonth()+1)+"-"+s(aZ.getUTCDate())+"T"+s(aZ.getUTCHours())+":"+s(aZ.getUTCMinutes())+":"+s(aZ.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}function aS(aZ){aY.lastIndex=0;return aY.test(aZ)?'"'+aZ.replace(aY,function(a0){var a1=aV[a0];return typeof a1===aH?a1:"\\u"+("0000"+a0.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+aZ+'"'}function aW(a7,a4){var a1,a0,a8,aZ,a5=aX,a3,a6=a4[a7],a2;if(a6&&typeof a6===B&&typeof a6.toJSON===ak){a6=a6.toJSON(a7)}if(typeof aT===ak){a6=aT.call(a4,a7,a6)}a2=typeof a6;if(a2===aH){return aS(a6)}else{if(a2===N){return isFinite(a6)?String(a6):ah}else{if(a2===X||a2===ah){return String(a6)}else{if(a2===B){if(!a6){return ah}aX+=aR;a3=[];if(aU.apply(a6)==="[object Array]"){aZ=a6.length;for(a1=0;a1<aZ;a1++){a3[a1]=aW(a1,a6)||ah}a8=a3.length===0?"[]":aX?"[\n"+aX+a3.join(",\n"+aX)+"\n"+a5+"]":"["+a3.join(",")+"]";aX=a5;return a8}if(aT&&typeof aT===B){aZ=aT.length;for(a1=0;a1<aZ;a1++){if(typeof aT[a1]===aH){a0=aT[a1];a8=aW(a0,a6);if(a8){a3.push(aS(a0)+(aX?": ":":")+a8)}}}}else{for(a0 in a6){if(Object.hasOwnProperty.call(a6,a0)){a8=aW(a0,a6);if(a8){a3.push(aS(a0)+(aX?": ":":")+a8)}}}}a8=a3.length===0?"{}":aX?"{\n"+aX+a3.join(",\n"+aX)+"\n"+a5+"}":"{"+a3.join(",")+"}";aX=a5;return a8}}}}}if(typeof j.stringify!==ak){j.stringify=function(a2,a0,a1){var aZ;aX="";aR="";if(typeof a1===N){for(aZ=0;aZ<a1;aZ+=1){aR+=" "}}else{if(typeof a1===aH){aR=a1}}aT=a0;if(a0&&typeof a0!==ak&&(typeof a0!==B||typeof a0.length!==N)){throw new Error("JSON.stringify")}return aW("",{"":a2})}}})();(function(){var a4=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,a3=/^(n|c|p|e)(\d*)$/i,aV=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,aY=/\,/g,a9="",aU=".",a2=",",aS="#",a6="0",aR="??",a7="en-US",aX={}.toString;r.cultures["en-US"]={name:a7,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}};function aW(ba){if(ba){if(ba.numberFormat){return ba}if(typeof ba===aH){var bb=r.cultures;return bb[ba]||bb[ba.split("-")[0]]||null}return null}return null}function a0(ba){if(ba){ba=aW(ba)}return ba||r.cultures.current}function aT(ba){ba.groupSizes=ba.groupSize;ba.percent.groupSizes=ba.percent.groupSize;ba.currency.groupSizes=ba.currency.groupSize}r.culture=function(bc){var bb=r.cultures,ba;if(bc!==v){ba=aW(bc)||bb[a7];ba.calendar=ba.calendars.standard;bb.current=ba;if(e&&!e.load){aT(ba.numberFormat)}}else{return bb.current}};r.findCulture=aW;r.getCulture=a0;r.culture(a7);function a1(bc,be,bb){bb=a0(bb);var bd=bb.calendars.standard,bf=bd.days,ba=bd.months;be=bd.patterns[be]||be;return be.replace(a4,function(bi){var bj;var bg;var bh;if(bi==="d"){bg=bc.getDate()}else{if(bi==="dd"){bg=s(bc.getDate())}else{if(bi==="ddd"){bg=bf.namesAbbr[bc.getDay()]}else{if(bi==="dddd"){bg=bf.names[bc.getDay()]}else{if(bi==="M"){bg=bc.getMonth()+1}else{if(bi==="MM"){bg=s(bc.getMonth()+1)}else{if(bi==="MMM"){bg=ba.namesAbbr[bc.getMonth()]}else{if(bi==="MMMM"){bg=ba.names[bc.getMonth()]}else{if(bi==="yy"){bg=s(bc.getFullYear()%100)}else{if(bi==="yyyy"){bg=s(bc.getFullYear(),4)}else{if(bi==="h"){bg=bc.getHours()%12||12}else{if(bi==="hh"){bg=s(bc.getHours()%12||12)}else{if(bi==="H"){bg=bc.getHours()}else{if(bi==="HH"){bg=s(bc.getHours())}else{if(bi==="m"){bg=bc.getMinutes()}else{if(bi==="mm"){bg=s(bc.getMinutes())}else{if(bi==="s"){bg=bc.getSeconds()}else{if(bi==="ss"){bg=s(bc.getSeconds())}else{if(bi==="f"){bg=O.floor(bc.getMilliseconds()/100)}else{if(bi==="ff"){bg=bc.getMilliseconds();if(bg>99){bg=O.floor(bg/10)}bg=s(bg)}else{if(bi==="fff"){bg=s(bc.getMilliseconds(),3)}else{if(bi==="tt"){bg=bc.getHours()<12?bd.AM[0]:bd.PM[0]}else{if(bi==="zzz"){bj=bc.getTimezoneOffset();bh=bj<0;bg=O.abs(bj/60).toString().split(".")[0];bj=O.abs(bj)-(bg*60);bg=(bh?"+":"-")+s(bg);bg+=":"+s(bj)}else{if(bi==="zz"||bi==="z"){bg=bc.getTimezoneOffset()/60;bh=bg<0;bg=O.abs(bg).toString().split(".")[0];bg=(bh?"+":"-")+(bi==="zz"?s(bg):bg)}}}}}}}}}}}}}}}}}}}}}}}}return bg!==v?bg:bi.slice(1,bi.length-1)})}function aZ(bK,bs,bE){bE=a0(bE);var bJ=bE.numberFormat,bD=bJ.groupSize[0],br=bJ[a2],bI=bJ[aU],bG=bJ.decimals,bd=bJ.pattern[0],ba=[],bg,bb,by,bl,bu,bj=bK<0,bx,bh,bn,bo,bt=a9,bB=a9,bH,bk,bv,bF,bm,be,bf,bC,bA,bc,bz,bw,bq,bp=-1,bi;if(bK===v){return a9}if(!isFinite(bK)){return bK}if(!bs){return bE.name.length?bK.toLocaleString():bK.toString()}bu=a3.exec(bs);if(bu){bs=bu[1].toLowerCase();bb=bs==="c";by=bs==="p";if(bb||by){bJ=bb?bJ.currency:bJ.percent;bD=bJ.groupSize[0];br=bJ[a2];bI=bJ[aU];bG=bJ.decimals;bg=bJ.symbol;bd=bJ.pattern[bj?0:1]}bl=bu[2];if(bl){bG=+bl}if(bs==="e"){return bl?bK.toExponential(bG):bK.toExponential()}if(by){bK*=100}bK=a8(bK,bG);bj=bK<0;bK=bK.split(aU);bx=bK[0];bh=bK[1];if(bj){bx=bx.substring(1)}bB=bx;bn=bx.length;if(bn>=bD){bB=a9;for(bH=0;bH<bn;bH++){if(bH>0&&(bn-bH)%bD===0){bB+=br}bB+=bx.charAt(bH)}}if(bh){bB+=bI+bh}if(bs==="n"&&!bj){return bB}bK=a9;for(bH=0,bk=bd.length;bH<bk;bH++){bv=bd.charAt(bH);if(bv==="n"){bK+=bB}else{if(bv==="$"||bv==="%"){bK+=bg}else{bK+=bv}}}return bK}if(bj){bK=-bK}if(bs.indexOf("'")>-1||bs.indexOf('"')>-1||bs.indexOf("\\")>-1){bs=bs.replace(aV,function(bL){var bM=bL.charAt(0).replace("\\",""),bN=bL.slice(1).replace(bM,"");ba.push(bN);return aR})}bs=bs.split(";");if(bj&&bs[1]){bs=bs[1];bm=true}else{if(bK===0){bs=bs[2]||bs[0];if(bs.indexOf(aS)==-1&&bs.indexOf(a6)==-1){return bs}}else{bs=bs[0]}}bz=bs.indexOf("%");bw=bs.indexOf("$");by=bz!=-1;bb=bw!=-1;if(by){bK*=100}if(bb&&bs[bw-1]==="\\"){bs=bs.split("\\").join("");bb=false}if(bb||by){bJ=bb?bJ.currency:bJ.percent;bD=bJ.groupSize[0];br=bJ[a2];bI=bJ[aU];bG=bJ.decimals;bg=bJ.symbol}bF=bs.indexOf(a2)>-1;if(bF){bs=bs.replace(aY,a9)}be=bs.indexOf(aU);bk=bs.length;if(be!=-1){bh=bK.toString().split("e");if(bh[1]){bh=a8(bK,Math.abs(bh[1]))}else{bh=bh[0]}bh=bh.split(aU)[1]||a9;bC=bs.lastIndexOf(a6)-be;bf=bs.lastIndexOf(aS)-be;bA=bC>-1;bc=bf>-1;bH=bh.length;if(!bA&&!bc){bs=bs.substring(0,be)+bs.substring(be+1);bk=bs.length;be=-1;bH=0}if(bA&&bC>bf){bH=bC}else{if(bf>bC){if(bc&&bH>bf){bH=bf}else{if(bA&&bH<bC){bH=bC}}}}if(bH>-1){bK=a8(bK,bH)}}else{bK=a8(bK)}bf=bs.indexOf(aS);bq=bC=bs.indexOf(a6);if(bf==-1&&bC!=-1){bp=bC}else{if(bf!=-1&&bC==-1){bp=bf}else{bp=bf>bC?bC:bf}}bf=bs.lastIndexOf(aS);bC=bs.lastIndexOf(a6);if(bf==-1&&bC!=-1){bi=bC}else{if(bf!=-1&&bC==-1){bi=bf}else{bi=bf>bC?bf:bC}}if(bp==bk){bi=bp}if(bp!=-1){bB=bK.toString().split(aU);bx=bB[0];bh=bB[1]||a9;bn=bx.length;bo=bh.length;if(bj&&(bK*-1)>=0){bj=false}if(bF){if(bn===bD&&bn<be-bq){bx=br+bx}else{if(bn>bD){bB=a9;for(bH=0;bH<bn;bH++){if(bH>0&&(bn-bH)%bD===0){bB+=br}bB+=bx.charAt(bH)}bx=bB}}}bK=bs.substring(0,bp);if(bj&&!bm){bK+="-"}for(bH=bp;bH<bk;bH++){bv=bs.charAt(bH);if(be==-1){if(bi-bH<bn){bK+=bx;break}}else{if(bC!=-1&&bC<bH){bt=a9}if((be-bH)<=bn&&be-bH>-1){bK+=bx;bH=be}if(be===bH){bK+=(bh?bI:a9)+bh;bH+=bi-be+1;continue}}if(bv===a6){bK+=bv;bt=bv}else{if(bv===aS){bK+=bt}}}if(bi>=bp){bK+=bs.substring(bi+1)}if(bb||by){bB=a9;for(bH=0,bk=bK.length;bH<bk;bH++){bv=bK.charAt(bH);bB+=(bv==="$"||bv==="%")?bg:bv}bK=bB}bk=ba.length;if(bk){for(bH=0;bH<bk;bH++){bK=bK.replace(aR,ba[bH])}}}return bK}var a8=function(bb,ba){ba=ba||0;bb=bb.toString().split("e");bb=Math.round(+(bb[0]+"e"+(bb[1]?(+bb[1]+ba):ba)));bb=bb.toString().split("e");bb=+(bb[0]+"e"+(bb[1]?(+bb[1]-ba):-ba));return bb.toFixed(ba)};var a5=function(bc,ba,bb){if(ba){if(aX.call(bc)==="[object Date]"){return a1(bc,ba,bb)}else{if(typeof bc===N){return aZ(bc,ba,bb)}}}return bc!==v?bc:""};if(e&&!e.load){a5=function(bb,bc,ba){if(av.isPlainObject(ba)){ba=ba.name}return e.format(bb,bc,ba)}}r.format=function(ba){var bb=arguments;return ba.replace(Q,function(bd,bc,be){var bf=bb[parseInt(bc,10)+1];return a5(bf,be?be.substring(1):"")})};r._extractFormat=function(ba){if(ba.slice(0,3)==="{0:"){ba=ba.slice(3,ba.length-1)}return ba};r._activeElement=function(){try{return document.activeElement}catch(ba){return document.documentElement.activeElement}};r._round=a8;r.toString=a5})();(function(){var aY=/\u00A0/g,a5=/[eE][\-+]?[0-9]+/,a4=/[+|\-]\d{1,2}/,a1=/[+|\-]\d{1,2}:?\d{2}/,a6=/^\/Date\((.*?)\)\/$/,a7=/[+-]\d*/,a0=["G","g","d","F","D","y","m","T","t"],aZ={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},aX={}.toString;function a3(a9,ba,a8){return !(a9>=ba&&a9<=a8)}function aW(a8){return a8.charAt(0)}function a2(a8){return av.map(a8,aW)}function aU(a9,a8){if(!a8&&a9.getHours()===23){a9.setHours(a9.getHours()+2)}}function aS(ba){var a8=0,a9=ba.length,bb=[];for(;a8<a9;a8++){bb[a8]=(ba[a8]+"").toLowerCase()}return bb}function aT(ba){var a8={},a9;for(a9 in ba){a8[a9]=aS(ba[a9])}return a8}function aR(bs,bx,bz){if(!bs){return null}var br=function(bG){var bH=0;while(bx[bo]===bG){bH++;bo++}if(bH>0){bo-=1}return bH},bF=function(bI){var bH=aZ[bI]||new RegExp("^\\d{1,"+bI+"}"),bG=bs.substr(bE,bI).match(bH);if(bG){bG=bG[0];bE+=bG.length;return parseInt(bG,10)}return null},bh=function(bM,bH){var bI=0,bJ=bM.length,bG,bL,bK;for(;bI<bJ;bI++){bG=bM[bI];bL=bG.length;bK=bs.substr(bE,bL);if(bH){bK=bK.toLowerCase()}if(bK==bG){bE+=bL;return bI+1}}return null},bu=function(){var bG=false;if(bs.charAt(bE)===bx[bo]){bE++;bG=true}return bG},bn=bz.calendars.standard,bk=null,bD=null,bw=null,by=null,bt=null,bl=null,bi=null,bo=0,bE=0,bv=false,bB=new Date(),be=bn.twoDigitYearMax||2029,bp=bB.getFullYear(),bj,bd,bb,bA,bm,ba,a8,bq,bc,bC,bg,a9,bf;if(!bx){bx="d"}bA=bn.patterns[bx];if(bA){bx=bA}bx=bx.split("");bb=bx.length;for(;bo<bb;bo++){bj=bx[bo];if(bv){if(bj==="'"){bv=false}else{bu()}}else{if(bj==="d"){bd=br("d");if(!bn._lowerDays){bn._lowerDays=aT(bn.days)}bw=bd<3?bF(2):bh(bn._lowerDays[bd==3?"namesAbbr":"names"],true);if(bw===null||a3(bw,1,31)){return null}}else{if(bj==="M"){bd=br("M");if(!bn._lowerMonths){bn._lowerMonths=aT(bn.months)}bD=bd<3?bF(2):bh(bn._lowerMonths[bd==3?"namesAbbr":"names"],true);if(bD===null||a3(bD,1,12)){return null}bD-=1}else{if(bj==="y"){bd=br("y");bk=bF(bd);if(bk===null){return null}if(bd==2){if(typeof be==="string"){be=bp+parseInt(be,10)}bk=(bp-bp%100)+bk;if(bk>be){bk-=100}}}else{if(bj==="h"){br("h");by=bF(2);if(by==12){by=0}if(by===null||a3(by,0,11)){return null}}else{if(bj==="H"){br("H");by=bF(2);if(by===null||a3(by,0,23)){return null}}else{if(bj==="m"){br("m");bt=bF(2);if(bt===null||a3(bt,0,59)){return null}}else{if(bj==="s"){br("s");bl=bF(2);if(bl===null||a3(bl,0,59)){return null}}else{if(bj==="f"){bd=br("f");bf=bs.substr(bE,bd).match(aZ[3]);bi=bF(bd);if(bi!==null){bf=bf[0].length;if(bf<3){bi*=Math.pow(10,(3-bf))}if(bd>3){bi=parseInt(bi.toString().substring(0,3),10)}}if(bi===null||a3(bi,0,999)){return null}}else{if(bj==="t"){bd=br("t");bq=bn.AM;bc=bn.PM;if(bd===1){bq=a2(bq);bc=a2(bc)}bm=bh(bc);if(!bm&&!bh(bq)){return null}}else{if(bj==="z"){ba=true;bd=br("z");if(bs.substr(bE,1)==="Z"){bu();continue}a8=bs.substr(bE,6).match(bd>2?a1:a4);if(!a8){return null}a8=a8[0].split(":");bC=a8[0];bg=a8[1];if(!bg&&bC.length>3){bE=bC.length-2;bg=bC.substring(bE);bC=bC.substring(0,bE)}bC=parseInt(bC,10);if(a3(bC,-12,13)){return null}if(bd>2){bg=parseInt(bg,10);if(isNaN(bg)||a3(bg,0,59)){return null}}}else{if(bj==="'"){bv=true;bu()}else{if(!bu()){return null}}}}}}}}}}}}}}a9=by!==null||bt!==null||bl||null;if(bk===null&&bD===null&&bw===null&&a9){bk=bp;bD=bB.getMonth();bw=bB.getDate()}else{if(bk===null){bk=bp}if(bw===null){bw=1}}if(bm&&by<12){by+=12}if(ba){if(bC){by+=-bC}if(bg){bt+=-bg}bs=new Date(Date.UTC(bk,bD,bw,by,bt,bl,bi))}else{bs=new Date(bk,bD,bw,by,bt,bl,bi);aU(bs,by)}if(bk<100){bs.setFullYear(bk)}if(bs.getDate()!==bw&&ba===v){return null}return bs}function aV(a9){var a8=a9.substr(0,1)==="-"?-1:1;a9=a9.substring(1);a9=(parseInt(a9.substr(0,2),10)*60)+parseInt(a9.substring(2),10);return a8*a9}r.parseDate=function(be,bd,bc){if(aX.call(be)==="[object Date]"){return be}var bf=0;var bb=null;var a8,a9;var bg;var ba;if(be&&be.indexOf("/D")===0){bb=a6.exec(be);if(bb){bb=bb[1];bg=a7.exec(bb.substring(1));bb=new Date(parseInt(bb,10));if(bg){bg=aV(bg[0]);bb=r.timezone.apply(bb,0);bb=r.timezone.convert(bb,0,-1*bg)}return bb}}bc=r.getCulture(bc);if(!bd){bd=[];a9=bc.calendar.patterns;a8=a0.length;for(;bf<a8;bf++){bd[bf]=a9[a0[bf]]}bf=0;bd=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fff","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"].concat(bd)}bd=c(bd)?bd:[bd];a8=bd.length;for(;bf<a8;bf++){bb=aR(be,bd[bf],bc);if(bb){return bb}}return bb};r.parseInt=function(ba,a9){var a8=r.parseFloat(ba,a9);if(a8){a8=a8|0}return a8};r.parseFloat=function(bi,bd,bh){if(!bi&&bi!==0){return null}if(typeof bi===N){return bi}bi=bi.toString();bd=r.getCulture(bd);var bc=bd.numberFormat,bf=bc.percent,bg=bc.currency,ba=bg.symbol,a9=bf.symbol,bb=bi.indexOf("-"),be,a8;if(a5.test(bi)){bi=parseFloat(bi.replace(bc["."],"."));if(isNaN(bi)){bi=null}return bi}if(bb>0){return null}else{bb=bb>-1}if(bi.indexOf(ba)>-1||(bh&&bh.toLowerCase().indexOf("c")>-1)){bc=bg;be=bc.pattern[0].replace("$",ba).split("n");if(bi.indexOf(be[0])>-1&&bi.indexOf(be[1])>-1){bi=bi.replace(be[0],"").replace(be[1],"");bb=true}}else{if(bi.indexOf(a9)>-1){a8=true;bc=bf;ba=a9}}bi=bi.replace("-","").replace(ba,"").replace(aY," ").split(bc[","].replace(aY," ")).join("").replace(bc["."],".");bi=parseFloat(bi);if(isNaN(bi)){bi=null}else{if(bb){bi*=-1}}if(bi&&a8){bi/=100}return bi};if(e&&!e.load){r.parseDate=function(a9,ba,a8){if(aX.call(a9)==="[object Date]"){return a9}return e.parseDate(a9,ba,a8)};r.parseFloat=function(a9,a8){if(typeof a9===N){return a9}if(a9===v||a9===null){return null}if(av.isPlainObject(a8)){a8=a8.name}a9=e.parseFloat(a9,a8);return isNaN(a9)?null:a9}}})();function A(aS){var aU=aS.css(r.support.transitions.css+"box-shadow")||aS.css("box-shadow"),aR=aU?aU.match(aJ)||[0,0,0,0,0]:[0,0,0,0,0],aT=O.max((+aR[3]),+(aR[4]||0));return{left:(-aR[1])+aT,right:(+aR[1])+aT,bottom:(+aR[2])+aT}}function q(aW,a1){var aX=aG.browser,a2,aY=aW.css("direction")=="rtl";if(!aW.parent().hasClass("k-animation-container")){var aU=A(aW),aS=aW[0].style.width,a0=aW[0].style.height,aV=g.test(aS),aZ=g.test(a0);if(aX.opera){aU.left=aU.right=aU.bottom=5}a2=aV||aZ;if(!aV&&(!a1||(a1&&aS))){aS=aW.outerWidth()}if(!aZ&&(!a1||(a1&&a0))){a0=aW.outerHeight()}aW.wrap(av("<div/>").addClass("k-animation-container").css({width:aS,height:a0,marginLeft:aU.left*(aY?1:-1),paddingLeft:aU.left,paddingRight:aU.right,paddingBottom:aU.bottom}));if(a2){aW.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}}else{var aR=aW.parent(".k-animation-container"),aT=aR[0].style;if(aR.is(":hidden")){aR.show()}a2=g.test(aT.width)||g.test(aT.height);if(!a2){aR.css({width:aW.outerWidth(),height:aW.outerHeight(),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})}}if(aX.msie&&O.floor(aX.version)<=7){aW.css({zoom:1});aW.children(".k-menu").width(aW.width())}return aW.parent()}function aN(aR){var aS=1,aT=arguments.length;for(aS=1;aS<aT;aS++){b(aR,arguments[aS])}return aR}function b(aZ,aR){var aW=r.data.ObservableArray,aT=r.data.LazyObservableArray,a1=r.data.DataSource,aV=r.data.HierarchicalDataSource,a0,aU,aS,aX,aY;for(a0 in aR){aU=aR[a0];aS=typeof aU;if(aS===B&&aU!==null){aX=aU.constructor}else{aX=null}if(aX&&aX!==Array&&aX!==aW&&aX!==aT&&aX!==a1&&aX!==aV){if(aU instanceof Date){aZ[a0]=new Date(aU.getTime())}else{if(ay(aU.clone)){aZ[a0]=aU.clone()}else{aY=aZ[a0];if(typeof(aY)===B){aZ[a0]=aY||{}}else{aZ[a0]={}}b(aZ[a0],aU)}}}else{if(aS!==ag){aZ[a0]=aU}}}return aZ}function V(aR,aU,aS){for(var aT in aU){if(aU.hasOwnProperty(aT)&&aU[aT].test(aR)){return aT}}return aS!==v?aS:aR}function t(aR){return aR.replace(/([a-z][A-Z])/g,function(aS){return aS.charAt(0)+"-"+aS.charAt(1).toLowerCase()})}function ai(aR){return aR.replace(/\-(\w)/g,function(aT,aS){return aS.toUpperCase()})}function h(aT,aS){var aU={},aR;if(document.defaultView&&document.defaultView.getComputedStyle){aR=document.defaultView.getComputedStyle(aT,"");if(aS){av.each(aS,function(aV,aW){aU[aW]=aR.getPropertyValue(aW)})}}else{aR=aT.currentStyle;if(aS){av.each(aS,function(aV,aW){aU[aW]=aR[ai(aW)]})}}if(!r.size(aU)){aU=aR}return aU}(function(){aG._scrollbar=v;aG.scrollbar=function(a0){if(!isNaN(aG._scrollbar)&&!a0){return aG._scrollbar}else{var a1=document.createElement("div"),aZ;a1.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block";a1.innerHTML="&nbsp;";document.body.appendChild(a1);aG._scrollbar=aZ=a1.offsetWidth-a1.scrollWidth;document.body.removeChild(a1);return aZ}};aG.isRtl=function(aZ){return av(aZ).closest(".k-rtl").length>0};var aU=document.createElement("table");try{aU.innerHTML="<tr><td></td></tr>";aG.tbodyInnerHtml=true}catch(aX){aG.tbodyInnerHtml=false}aG.touch="ontouchstart" in aE;aG.msPointers=aE.MSPointerEvent;aG.pointers=aE.PointerEvent;var aW=aG.transitions=false,aT=aG.transforms=false,aV="HTMLElement" in aE?HTMLElement.prototype:[];aG.hasHW3D=("WebKitCSSMatrix" in aE&&"m11" in new aE.WebKitCSSMatrix())||"MozPerspective" in document.documentElement.style||"msPerspective" in document.documentElement.style;aP(["Moz","webkit","O","ms"],function(){var a1=this.toString(),aZ=typeof aU.style[a1+"Transition"]===aH;if(aZ||typeof aU.style[a1+"Transform"]===aH){var a0=a1.toLowerCase();aT={css:(a0!="ms")?"-"+a0+"-":"",prefix:a1,event:(a0==="o"||a0==="webkit")?a0:""};if(aZ){aW=aT;aW.event=aW.event?aW.event+"TransitionEnd":"transitionend"}return false}});aU=null;aG.transforms=aT;aG.transitions=aW;aG.devicePixelRatio=aE.devicePixelRatio===v?1:aE.devicePixelRatio;try{aG.screenWidth=aE.outerWidth||aE.screen?aE.screen.availWidth:aE.innerWidth;aG.screenHeight=aE.outerHeight||aE.screen?aE.screen.availHeight:aE.innerHeight}catch(aX){aG.screenWidth=aE.screen.availWidth;aG.screenHeight=aE.screen.availHeight}aG.detectOS=function(aZ){var a2=false,a7,a4=[],a6=!/mobile safari/i.test(aZ),a5={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},a3={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},a0={tablet:/playbook|ipad|fire/i},a8={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(var a1 in a5){if(a5.hasOwnProperty(a1)){a4=aZ.match(a5[a1]);if(a4){if(a1=="windows"&&"plugins" in navigator){return false}a2={};a2.device=a1;a2.tablet=V(a1,a0,false);a2.browser=V(aZ,a8,"default");a2.name=V(a1,a3);a2[a2.name]=true;a2.majorVersion=a4[2];a2.minorVersion=a4[3].replace("_",".");a7=a2.minorVersion.replace(".","").substr(0,2);a2.flatVersion=a2.majorVersion+a7+(new Array(3-(a7.length<3?a7.length:2)).join("0"));a2.cordova=typeof aE.PhoneGap!==ag||typeof aE.cordova!==ag;a2.appMode=aE.navigator.standalone||(/file|local|wmapp/).test(aE.location.protocol)||a2.cordova;if(a2.android&&(aG.devicePixelRatio<1.5&&a2.flatVersion<400||a6)&&(aG.screenWidth>800||aG.screenHeight>800)){a2.tablet=a1}break}}}return a2};var aY=aG.mobileOS=aG.detectOS(navigator.userAgent);aG.wpDevicePixelRatio=aY.wp?screen.width/320:0;aG.kineticScrollNeeded=aY&&(aG.touch||aG.msPointers||aG.pointers);aG.hasNativeScrolling=false;if(aY.ios||(aY.android&&aY.majorVersion>2)||aY.wp){aG.hasNativeScrolling=aY}aG.mouseAndTouchPresent=aG.touch&&!(aG.mobileOS.ios||aG.mobileOS.android);aG.detectBrowser=function(a2){var a1=false,a0=[],aZ={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var a3 in aZ){if(aZ.hasOwnProperty(a3)){a0=a2.match(aZ[a3]);if(a0){a1={};a1[a3]=true;a1[a0[1].toLowerCase().split(" ")[0].split("/")[0]]=true;a1.version=parseInt(document.documentMode||a0[2],10);break}}}return a1};aG.browser=aG.detectBrowser(navigator.userAgent);aG.zoomLevel=function(){try{return aG.touch?(document.documentElement.clientWidth/aE.innerWidth):aG.browser.msie&&aG.browser.version>=10?((top||aE).document.documentElement.offsetWidth/(top||aE).innerWidth):1}catch(aZ){return 1}};aG.cssBorderSpacing=typeof document.documentElement.style.borderSpacing!="undefined"&&!(aG.browser.msie&&aG.browser.version<8);(function(a2){var a0="",a1=av(document.documentElement),aZ=parseInt(a2.version,10);if(a2.msie){a0="ie"}else{if(a2.mozilla){a0="ff"}else{if(a2.safari){a0="safari"}else{if(a2.webkit){a0="webkit"}else{if(a2.opera){a0="opera"}}}}}if(a0){a0="k-"+a0+" k-"+a0+aZ}if(aG.mobileOS){a0+=" k-mobile"}a1.addClass(a0)})(aG.browser);aG.eventCapture=document.documentElement.addEventListener;var aR=document.createElement("input");aG.placeholder="placeholder" in aR;aG.propertyChangeEvent="onpropertychange" in aR;aG.input=(function(){var a1=["number","date","time","month","week","datetime","datetime-local"];var a3=a1.length;var a4="test";var a0={};var aZ=0;var a2;for(;aZ<a3;aZ++){a2=a1[aZ];aR.setAttribute("type",a2);aR.value=a4;a0[a2.replace("-","")]=aR.type!=="text"&&aR.value!==a4}return a0})();aR.style.cssText="float:left;";aG.cssFloat=!!aR.style.cssFloat;aR=null;aG.stableSort=(function(){var aZ=513;var a0=[{index:0,field:"b"}];for(var a1=1;a1<aZ;a1++){a0.push({index:a1,field:"a"})}a0.sort(function(a3,a2){return a3.field>a2.field?1:(a3.field<a2.field?-1:0)});return a0[0].index===1})();aG.matchesSelector=aV.webkitMatchesSelector||aV.mozMatchesSelector||aV.msMatchesSelector||aV.oMatchesSelector||aV.matchesSelector||aV.matches||function(aZ){var a0=document.querySelectorAll?(this.parentNode||document).querySelectorAll(aZ)||[]:av(aZ),a1=a0.length;while(a1--){if(a0[a1]==this){return true}}return false};aG.pushState=aE.history&&aE.history.pushState;var aS=document.documentMode;aG.hashChange=("onhashchange" in aE)&&!(aG.browser.msie&&(!aS||aS<=8))})();function I(aT){var aR=0,aS;for(aS in aT){if(aT.hasOwnProperty(aS)&&aS!="toJSON"){aR++}}return aR}function aC(aT,aU,aS){if(!aU){aU="offset"}var aR=aT[aU](),aV=aG.mobileOS;if(aG.browser.msie&&(aG.pointers||aG.msPointers)&&!aS){aR.top-=(aE.pageYOffset-document.documentElement.scrollTop);aR.left-=(aE.pageXOffset-document.documentElement.scrollLeft)}return aR}var ae={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}};function aD(aR){var aS={};aP((typeof aR==="string"?aR.split(" "):aR),function(aT){aS[aT]=this});return aS}function ax(aR){return new r.effects.Element(aR)}var ap={};av.extend(ap,{enabled:true,Element:function(aR){this.element=av(aR)},promise:function(aS,aR){if(!aS.is(":visible")){aS.css({display:aS.data("olddisplay")||"block"}).css("display")}if(aR.hide){aS.data("olddisplay",aS.css("display")).hide()}if(aR.init){aR.init()}if(aR.completeCallback){aR.completeCallback(aS)}aS.dequeue()},disable:function(){this.enabled=false;this.promise=this.promiseShim},enable:function(){this.enabled=true;this.promise=this.animatedPromise}});ap.promiseShim=ap.promise;function Z(aT,aU,aS,aR){if(typeof aT===aH){if(ay(aU)){aR=aU;aU=400;aS=false}if(ay(aS)){aR=aS;aS=false}if(typeof aU===X){aS=aU;aU=400}aT={effects:aT,duration:aU,reverse:aS,complete:aR}}return ac({effects:{},duration:400,reverse:false,init:au,teardown:au,hide:false},aT,{completeCallback:aT.complete,complete:au})}function W(aW,aV,aY,aU,aT){var aS=0,aX=aW.length,aR;for(;aS<aX;aS++){aR=av(aW[aS]);aR.queue(function(){ap.promise(aR,Z(aV,aY,aU,aT))})}return aW}function w(aT,aS,aR,aU){if(aS){aS=aS.split(" ");aP(aS,function(aV,aW){aT.toggleClass(aW,aU)})}return aT}if(!("kendoAnimate" in av.fn)){ac(av.fn,{kendoStop:function(aS,aR){return this.stop(aS,aR)},kendoAnimate:function(aT,aU,aS,aR){return W(this,aT,aU,aS,aR)},kendoAddClass:function(aS,aR){return r.toggleClass(this,aS,aR,true)},kendoRemoveClass:function(aS,aR){return r.toggleClass(this,aS,aR,false)},kendoToggleClass:function(aT,aS,aR){return r.toggleClass(this,aT,aS,aR)}})}var aa=/&/g,aL=/</g,az=/"/g,C=/'/g,ad=/>/g;function K(aR){return(""+aR).replace(aa,"&amp;").replace(aL,"&lt;").replace(ad,"&gt;").replace(az,"&quot;").replace(C,"&#39;")}var at=function(aR){return aR.target};if(aG.touch){at=function(aS){var aR="originalEvent" in aS?aS.originalEvent.changedTouches:"changedTouches" in aS?aS.changedTouches:null;return aR?document.elementFromPoint(aR[0].clientX,aR[0].clientY):aS.target};aP(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(aR,aS){av.fn[aS]=function(aT){return this.bind(aS,aT)}})}if(aG.touch){if(!aG.mobileOS){aG.mousedown="mousedown touchstart";aG.mouseup="mouseup touchend";aG.mousemove="mousemove touchmove";aG.mousecancel="mouseleave touchcancel";aG.click="click";aG.resize="resize"}else{aG.mousedown="touchstart";aG.mouseup="touchend";aG.mousemove="touchmove";aG.mousecancel="touchcancel";aG.click="touchend";aG.resize="orientationchange"}}else{if(aG.pointers){aG.mousemove="pointermove";aG.mousedown="pointerdown";aG.mouseup="pointerup";aG.mousecancel="pointercancel";aG.click="pointerup";aG.resize="orientationchange resize"}else{if(aG.msPointers){aG.mousemove="MSPointerMove";aG.mousedown="MSPointerDown";aG.mouseup="MSPointerUp";aG.mousecancel="MSPointerCancel";aG.click="MSPointerUp";aG.resize="orientationchange resize"}else{aG.mousemove="mousemove";aG.mousedown="mousedown";aG.mouseup="mouseup";aG.mousecancel="mouseleave";aG.click="click";aG.resize="resize"}}}var H=function(aT,aX){var aS=aX||"d",aU,aR,aW,aY,aV=1;for(aR=0,aW=aT.length;aR<aW;aR++){aY=aT[aR];if(aY!==""){aU=aY.indexOf("[");if(aU!==0){if(aU==-1){aY="."+aY}else{aV++;aY="."+aY.substring(0,aU)+" || {})"+aY.substring(aU)}}aV++;aS+=aY+((aR<aW-1)?" || {})":")")}}return new Array(aV).join("(")+aS},af=/^([a-z]+:)?\/\//i;ac(r,{ui:r.ui||{},fx:r.fx||ax,effects:r.effects||ap,mobile:r.mobile||{},data:r.data||{},dataviz:r.dataviz||{},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:r.support||aG,animate:r.animate||W,ns:"",attr:function(aR){return"data-"+r.ns+aR},getShadows:A,wrap:q,deepExtend:aN,getComputedStyles:h,size:I,toCamelCase:ai,toHyphens:t,getOffset:r.getOffset||aC,parseEffects:r.parseEffects||aD,toggleClass:r.toggleClass||w,directions:r.directions||ae,Observable:G,Class:aF,Template:U,template:z(U.compile,U),render:z(U.render,U),stringify:z(j.stringify,j),eventTarget:at,htmlEncode:K,isLocalUrl:function(aR){return aR&&!af.test(aR)},expr:function(aT,aR,aS){aT=aT||"";if(typeof aR==aH){aS=aR;aR=false}aS=aS||"d";if(aT&&aT.charAt(0)!=="["){aT="."+aT}if(aR){aT=aT.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"');aT=aT.replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'");aT=H(aT.split("."),aS);aT=aT.replace(/_\$DOT\$_/g,".")}else{aT=aS+aT}return aT},getter:function(aT,aS){var aR=aT+aS;return ao[aR]=ao[aR]||new Function("d","return "+r.expr(aT,aS))},setter:function(aR){return T[aR]=T[aR]||new Function("d,value",r.expr(aR)+"=value")},accessor:function(aR){return{get:r.getter(aR),set:r.setter(aR)}},guid:function(){var aT="",aR,aS;for(aR=0;aR<32;aR++){aS=O.random()*16|0;if(aR==8||aR==12||aR==16||aR==20){aT+="-"}aT+=(aR==12?4:(aR==16?(aS&3|8):aS)).toString(16)}return aT},roleSelector:function(aR){return aR.replace(/(\S+)/g,"["+r.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(aT){var aS=aT.split(" ");if(aS){for(var aR=0;aR<aS.length;aR++){if(aS[aR]!="view"){aS[aR]=aS[aR].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2")}}}return aS.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(aR){return(/^(label|input|textarea|select)$/i).test(aR.target.tagName)},logToConsole:function(aS){var aR=aE.console;if(!r.suppressLog&&typeof(aR)!="undefined"&&aR.log){aR.log(aS)}}});var l=G.extend({init:function(aS,aR){var aT=this;aT.element=r.jQuery(aS).handler(aT);aT.angular("init",aR);G.fn.init.call(aT);var aU=aR?aR.dataSource:null;if(aU){aR=ac({},aR,{dataSource:{}})}aR=aT.options=ac(true,{},aT.options,aR);if(aU){aR.dataSource=aU}if(!aT.element.attr(r.attr("role"))){aT.element.attr(r.attr("role"),(aR.name||"").toLowerCase())}aT.element.data("kendo"+aR.prefix+aR.name,aT);aT.bind(aT.events,aR)},events:[],options:{prefix:""},_hasBindingTarget:function(){return !!this.element[0].kendoBindingTarget},_tabindex:function(aU){aU=aU||this.wrapper;var aS=this.element,aR="tabindex",aT=aU.attr(aR)||aS.attr(aR);aS.removeAttr(aR);aU.attr(aR,!isNaN(aT)?aT:0)},setOptions:function(aR){this._setEvents(aR);av.extend(this.options,aR)},_setEvents:function(aS){var aU=this,aR=0,aT=aU.events.length,aV;for(;aR<aT;aR++){aV=aU.events[aR];if(aU.options[aV]&&aS[aV]){aU.unbind(aV,aU.options[aV])}}aU.bind(aU.events,aS)},resize:function(aT){var aS=this.getSize(),aR=this._size;if(aT||(aS.width>0||aS.height>0)&&(!aR||aS.width!==aR.width||aS.height!==aR.height)){this._size=aS;this._resize(aS,aT);this.trigger("resize",aS)}},getSize:function(){return r.dimensions(this.element)},size:function(aR){if(!aR){return this.getSize()}else{this.setSize(aR)}},setSize:av.noop,_resize:av.noop,destroy:function(){var aR=this;aR.element.removeData("kendo"+aR.options.prefix+aR.options.name);aR.element.removeData("handler");aR.unbind()},angular:function(){}});var d=l.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(aS){var aR=this;aR.angular(aS,function(){return{elements:aR.items(),data:av.map(aR.dataItems(),function(aT){return{dataItem:aT}})}})}});r.dimensions=function(aR,aS){var aT=aR[0];if(aS){aR.css(aS)}return{width:aT.offsetWidth,height:aT.offsetHeight}};r.notify=au;var M=/template$/i,E=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,aj=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]*\]$/,am=/([A-Z])/g;function aO(aR,aS){var aT;if(aS.indexOf("data")===0){aS=aS.substring(4);aS=aS.charAt(0).toLowerCase()+aS.substring(1)}aS=aS.replace(am,"-$1");aT=aR.getAttribute("data-"+r.ns+aS);if(aT===null){aT=v}else{if(aT==="null"){aT=null}else{if(aT==="true"){aT=true}else{if(aT==="false"){aT=false}else{if(i.test(aT)){aT=parseFloat(aT)}else{if(E.test(aT)&&!aj.test(aT)){aT=new Function("return ("+aT+")")()}}}}}}return aT}function an(aT,aS){var aR={},aU,aV;for(aU in aS){aV=aO(aT,aU);if(aV!==v){if(M.test(aU)){aV=r.template(av("#"+aV).html())}aR[aU]=aV}}return aR}r.initWidget=function(aX,a5,aZ){var a6,a0,aY,a3,aS,aW,a2,aR,aT,a1;if(!aZ){aZ=r.ui.roles}else{if(aZ.roles){aZ=aZ.roles}}aX=aX.nodeType?aX:aX[0];aW=aX.getAttribute("data-"+r.ns+"role");if(!aW){return}aT=aW.indexOf(".")===-1;if(aT){aY=aZ[aW]}else{aY=r.getter(aW)(aE)}var aV=av(aX).data(),aU=aY?"kendo"+aY.fn.options.prefix+aY.fn.options.name:"";if(aT){a1=new RegExp("^kendo.*"+aW+"$","i")}else{a1=new RegExp("^"+aU+"$","i")}for(var a4 in aV){if(a4.match(a1)){if(a4===aU){a6=aV[a4]}else{return aV[a4]}}}if(!aY){return}aR=aO(aX,"dataSource");a5=av.extend({},an(aX,aY.fn.options),a5);if(aR){if(typeof aR===aH){a5.dataSource=r.getter(aR)(aE)}else{a5.dataSource=aR}}for(a3=0,aS=aY.fn.events.length;a3<aS;a3++){a0=aY.fn.events[a3];a2=aO(aX,a0);if(a2!==v){a5[a0]=r.getter(a2)(aE)}}if(!a6){a6=new aY(aX,a5)}else{if(!av.isEmptyObject(a5)){a6.setOptions(a5)}}return a6};r.rolesFromNamespaces=function(aU){var aS=[],aR,aT;if(!aU[0]){aU=[r.ui,r.dataviz.ui]}for(aR=0,aT=aU.length;aR<aT;aR++){aS[aR]=aU[aR].roles}return ac.apply(null,[{}].concat(aS.reverse()))};r.init=function(aR){var aS=r.rolesFromNamespaces(x.call(arguments,1));av(aR).find("[data-"+r.ns+"role]").addBack().each(function(){r.initWidget(this,{},aS)})};r.destroy=function(aR){av(aR).find("[data-"+r.ns+"role]").addBack().each(function(){var aT=av(this).data();for(var aS in aT){if(aS.indexOf("kendo")===0&&typeof aT[aS].destroy===ak){aT[aS].destroy()}}})};function p(aS,aR){return av.contains(aS,aR)?-1:1}function aI(){var aR=av(this);return(av.inArray(aR.attr("data-"+r.ns+"role"),["slider","rangeslider"])>-1)||aR.is(":visible")}r.resize=function(aR,aT){var aS=av(aR).find("[data-"+r.ns+"role]").addBack().filter(aI);if(!aS.length){return}var aU=av.makeArray(aS);aU.sort(p);av.each(aU,function(){var aV=r.widgetInstance(av(this));if(aV){aV.resize(aT)}})};r.parseOptions=an;ac(r.ui,{Widget:l,DataBoundWidget:d,roles:{},progress:function(aS,aV){var aZ=aS.find(".k-loading-mask"),aX=r.support,aU=aX.browser,aW,aR,aT,aY;if(aV){if(!aZ.length){aW=aX.isRtl(aS);aR=aW?"right":"left";aY=aS.scrollLeft();aT=aU.webkit?(!aW?0:aS[0].scrollWidth-aS.width()-2*aY):0;aZ=av("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",aS.scrollTop()).css(aR,Math.abs(aY)+aT).prependTo(aS)}}else{if(aZ){aZ.remove()}}},plugin:function(aV,aT,aU){var aS=aV.fn.options.name,aR;aT=aT||r.ui;aU=aU||"";aT[aS]=aV;aT.roles[aS.toLowerCase()]=aV;aR="getKendo"+aU+aS;aS="kendo"+aU+aS;av.fn[aS]=function(aX){var aY=this,aW;if(typeof aX===aH){aW=x.call(arguments,1);this.each(function(){var a0=av.data(this,aS),a1,aZ;if(!a0){throw new Error(r.format("Cannot call method '{0}' of {1} before it is initialized",aX,aS))}a1=a0[aX];if(typeof a1!==ak){throw new Error(r.format("Cannot find method '{0}' of {1}",aX,aS))}aZ=a1.apply(a0,aW);if(aZ!==v){aY=aZ;return false}})}else{this.each(function(){new aV(this,aX)})}return aY};av.fn[aS].widget=aV;av.fn[aR]=function(){return this.data(aS)}}});var aw={bind:function(){return this},nullObject:true,options:{}};var aq=l.extend({init:function(aS,aR){l.fn.init.call(this,aS,aR);this.element.autoApplyNS();this.wrapper=this.element;this.element.addClass("km-widget")},destroy:function(){l.fn.destroy.call(this);this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var aR=this.element.closest(r.roleSelector("view splitview modalview drawer"));return r.widgetInstance(aR,r.mobile.ui)||aw},viewHasNativeScrolling:function(){var aR=this.view();return aR&&aR.options.useNativeScrolling},container:function(){var aR=this.element.closest(r.roleSelector("view layout modalview drawer splitview"));return r.widgetInstance(aR.eq(0),r.mobile.ui)||aw}});ac(r.mobile,{init:function(aR){r.init(aR,r.mobile.ui,r.ui,r.dataviz.ui)},appLevelNativeScrolling:function(){return r.mobile.application&&r.mobile.application.options&&r.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:aq,DataBoundWidget:d.extend(aq.prototype),roles:{},plugin:function(aR){r.ui.plugin(aR,r.mobile.ui,"Mobile")}}});aN(r.dataviz,{init:function(aR){r.init(aR,r.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(aR){r.ui.plugin(aR,r.dataviz.ui)}},roles:{}});r.touchScroller=function(aS,aR){return av(aS).map(function(aT,aU){aU=av(aU);if(aG.kineticScrollNeeded&&r.mobile.ui.Scroller&&!aU.data("kendoMobileScroller")){aU.kendoMobileScroller(aR);return aU.data("kendoMobileScroller")}else{return false}})[0]};r.preventDefault=function(aR){aR.preventDefault()};r.widgetInstance=function(aT,aW){var aY=aT.data(r.ns+"role"),aU=[],aS,aV;if(aY){if(aY==="content"){aY="scroller"}if(aW){if(aW[0]){for(aS=0,aV=aW.length;aS<aV;aS++){aU.push(aW[aS].roles[aY])}}else{aU.push(aW.roles[aY])}}else{aU=[r.ui.roles[aY],r.dataviz.ui.roles[aY],r.mobile.ui.roles[aY]]}if(aY.indexOf(".")>=0){aU=[r.getter(aY)(aE)]}for(aS=0,aV=aU.length;aS<aV;aS++){var aX=aU[aS];if(aX){var aR=aT.data("kendo"+aX.fn.options.prefix+aX.fn.options.name);if(aR){return aR}}}}};r.onResize=function(aS){var aR=aS;if(aG.mobileOS.android){aR=function(){setTimeout(aS,600)}}av(aE).on(aG.resize,aR);return aR};r.unbindResize=function(aR){av(aE).off(aG.resize,aR)};r.attrValue=function(aS,aR){return aS.data(r.ns+aR)};r.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};function aK(aS,aR){var aT=aS.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(aT)?!aS.disabled:"a"===aT?aS.href||aR:aR)&&u(aS)}function u(aR){return !av(aR).parents().addBack().filter(function(){return av.css(this,"visibility")==="hidden"||av.expr.filters.hidden(this)}).length}av.extend(av.expr[":"],{kendoFocusable:function(aS){var aR=av.attr(aS,"tabindex");return aK(aS,!isNaN(aR)&&aR>-1)}});var Y=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"];var n="label, input, [data-rel=external]";var al={setupMouseMute:function(){var aR=0,aU=Y.length,aS=document.documentElement;if(al.mouseTrap||!aG.eventCapture){return}al.mouseTrap=true;al.bustClick=false;al.captureMouse=false;var aT=function(aV){if(al.captureMouse){if(aV.type==="click"){if(al.bustClick&&!av(aV.target).is(n)){aV.preventDefault();aV.stopPropagation()}}else{aV.stopPropagation()}}};for(;aR<aU;aR++){aS.addEventListener(Y[aR],aT,true)}},muteMouse:function(aR){al.captureMouse=true;if(aR.data.bustClick){al.bustClick=true}clearTimeout(al.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(al.mouseTrapTimeoutID);al.mouseTrapTimeoutID=setTimeout(function(){al.captureMouse=false;al.bustClick=false},400)}};var F={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};if(aG.touch&&(aG.mobileOS.ios||aG.mobileOS.android)){F={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}}else{if(aG.pointers){F={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}}else{if(aG.msPointers){F={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}}}}if(aG.msPointers&&!("onmspointerenter" in aE)){av.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(aS,aR){av.event.special[aS]={delegateType:aR,bindType:aR,handle:function(aV){var aT,aX=this,aW=aV.relatedTarget,aU=aV.handleObj;if(!aW||(aW!==aX&&!av.contains(aX,aW))){aV.type=aU.origType;aT=aU.handler.apply(this,arguments);aV.type=aR}return aT}}})}var aB=function(aR){return(F[aR]||aR)},P=/([^ ]+)/g;r.applyEventMap=function(aR,aS){aR=aR.replace(P,aB);if(aS){aR=aR.replace(P,"$1."+aS)}return aR};var J=av.fn.on;function m(aR,aS){return new m.fn.init(aR,aS)}ac(true,m,av);m.fn=m.prototype=new av();m.fn.constructor=m;m.fn.init=function(aR,aS){if(aS&&aS instanceof av&&!(aS instanceof m)){aS=m(aS)}return av.fn.init.call(this,aR,aS,S)};m.fn.init.prototype=m.fn;var S=m(document);ac(m.fn,{handler:function(aR){this.data("handler",aR);return this},autoApplyNS:function(aR){this.data("kendoNS",aR||r.guid());return this},on:function(){var aX=this,aW=aX.data("kendoNS");if(arguments.length===1){return J.call(aX,arguments[0])}var aV=aX,aT=x.call(arguments);if(typeof aT[aT.length-1]===ag){aT.pop()}var aY=aT[aT.length-1],aU=r.applyEventMap(aT[0],aW);if(aG.mouseAndTouchPresent&&aU.search(/mouse|click/)>-1&&this[0]!==document.documentElement){al.setupMouseMute();var aR=aT.length===2?null:aT[1],aS=aU.indexOf("click")>-1&&aU.indexOf("touchend")>-1;J.call(this,{touchstart:al.muteMouse,touchend:al.unMuteMouse},aR,{bustClick:aS})}if(typeof aY===aH){aV=aX.data("handler");aY=aV[aY];aT[aT.length-1]=function(aZ){aY.call(aV,aZ)}}aT[0]=aU;J.apply(aX,aT);return aX},kendoDestroy:function(aR){aR=aR||this.data("kendoNS");if(aR){this.off("."+aR)}return this}});r.jQuery=m;r.eventMap=F;r.timezone=(function(){var aR={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};var a0={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};function aV(a8,a9){var a5;var ba;var bb;var a6=a9[3];var a7=a9[4];var a4=a9[5];var a3=a9[8];if(!a3){a9[8]=a3={}}if(a3[a8]){return a3[a8]}if(!isNaN(a7)){a5=new Date(Date.UTC(a8,aR[a6],a7,a4[0],a4[1],a4[2],0))}else{if(a7.indexOf("last")===0){a5=new Date(Date.UTC(a8,aR[a6]+1,1,a4[0]-24,a4[1],a4[2],0));ba=a0[a7.substr(4,3)];bb=a5.getUTCDay();a5.setUTCDate(a5.getUTCDate()+ba-bb-(ba>bb?7:0))}else{if(a7.indexOf(">=")>=0){a5=new Date(Date.UTC(a8,aR[a6],a7.substr(5),a4[0],a4[1],a4[2],0));ba=a0[a7.substr(0,3)];bb=a5.getUTCDay();a5.setUTCDate(a5.getUTCDate()+ba-bb+(ba<bb?7:0))}}}return a3[a8]=a5}function aY(a4,a9,a3){a9=a9[a3];if(!a9){var a7=a3.split(":");var a8=0;if(a7.length>1){a8=a7[0]*60+Number(a7[1])}return[-1000000,"max","-","Jan",1,[0,0,0],a8,"-"]}var a5=new Date(a4).getUTCFullYear();a9=jQuery.grep(a9,function(ba){var bc=ba[0];var bb=ba[1];return bc<=a5&&(bb>=a5||(bc==a5&&bb=="only")||bb=="max")});a9.push(a4);a9.sort(function(bb,ba){if(typeof bb!="number"){bb=Number(aV(a5,bb))}if(typeof ba!="number"){ba=Number(aV(a5,ba))}return bb-ba});var a6=a9[jQuery.inArray(a4,a9)-1]||a9[a9.length-1];return isNaN(a6)?a6:null}function aW(a6,a5,a8){var a7=a5[a8];if(typeof a7==="string"){a7=a5[a7]}if(!a7){throw new Error('Timezone "'+a8+'" is either incorrect, or kendo.timezones.min.js is not included.')}for(var a3=a7.length-1;a3>=0;a3--){var a9=a7[a3][3];if(a9&&a6>a9){break}}var a4=a7[a3+1];if(!a4){throw new Error('Timezone "'+a8+'" not found on '+a6+".")}return a4}function aU(a5,a4,a7,a6){if(typeof a5!=N){a5=Date.UTC(a5.getFullYear(),a5.getMonth(),a5.getDate(),a5.getHours(),a5.getMinutes(),a5.getSeconds(),a5.getMilliseconds())}var a3=aW(a5,a4,a6);return{zone:a3,rule:aY(a5,a7,a3[1])}}function aS(a4,a5){if(a5=="Etc/UTC"||a5=="Etc/GMT"){return 0}var a7=aU(a4,this.zones,this.rules,a5);var a3=a7.zone;var a6=a7.rule;return r.parseFloat(a6?a3[0]-a6[6]:a3[0])}function a2(a4,a5){var a8=aU(a4,this.zones,this.rules,a5);var a3=a8.zone;var a7=a8.rule;var a6=a3[2];if(a6.indexOf("/")>=0){return a6.split("/")[a7&&+a7[6]?1:0]}else{if(a6.indexOf("%s")>=0){return a6.replace("%s",(!a7||a7[7]=="-")?"":a7[7])}}return a6}function aX(a5,a4,a3){if(typeof a4==aH){a4=this.offset(a5,a4)}if(typeof a3==aH){a3=this.offset(a5,a3)}var a6=a5.getTimezoneOffset();a5=new Date(a5.getTime()+(a4-a3)*60000);var a7=a5.getTimezoneOffset();return new Date(a5.getTime()+(a7-a6)*60000)}function aZ(a3,a4){return this.convert(a3,a3.getTimezoneOffset(),a4)}function aT(a3,a4){return this.convert(a3,a4,a3.getTimezoneOffset())}function a1(a3){return this.apply(new Date(a3),"Etc/UTC")}return{zones:{},rules:{},offset:aS,convert:aX,apply:aZ,remove:aT,abbr:a2,toLocalDate:a1}})();r.date=(function(){var aW=60000,aX=86400000;function aV(a9,a8){if(a8===0&&a9.getHours()===23){a9.setHours(a9.getHours()+2);return true}return false}function aY(bb,a9,ba){var a8=bb.getHours();ba=ba||1;a9=((a9-bb.getDay())+(7*ba))%7;bb.setDate(bb.getDate()+a9);aV(bb,a8)}function aU(ba,a8,a9){ba=new Date(ba);aY(ba,a8,a9);return ba}function a4(a8){return new Date(a8.getFullYear(),a8.getMonth(),1)}function a7(a9){var ba=new Date(a9.getFullYear(),a9.getMonth()+1,0),bb=a4(a9),a8=Math.abs(ba.getTimezoneOffset()-bb.getTimezoneOffset());if(a8){ba.setHours(bb.getHours()+(a8/60))}return ba}function aT(a8){a8=new Date(a8.getFullYear(),a8.getMonth(),a8.getDate(),0,0,0);aV(a8,0);return a8}function aR(a8){return Date.UTC(a8.getFullYear(),a8.getMonth(),a8.getDate(),a8.getHours(),a8.getMinutes(),a8.getSeconds(),a8.getMilliseconds())}function a3(a8){return a8.getTime()-aT(a8)}function aS(bb,ba,a8){var a9=a3(ba),bc=a3(a8),bd;if(!bb||a9==bc){return true}if(ba>=a8){a8+=aX}bd=a3(bb);if(a9>bd){bd+=aX}if(bc<a9){bc+=aX}return bd>=a9&&bd<=bc}function a1(bb,ba,a8){var a9=ba.getTime(),bc=a8.getTime(),bd;if(a9>=bc){bc+=aX}bd=bb.getTime();return bd>=a9&&bd<=bc}function a6(a9,ba){var a8=a9.getHours();a9=new Date(a9);a5(a9,ba*aX);aV(a9,a8);return a9}function a5(a9,a8,ba){var bb=a9.getTimezoneOffset();var bc;a9.setTime(a9.getTime()+a8);if(!ba){bc=a9.getTimezoneOffset()-bb;a9.setTime(a9.getTime()+bc*aW)}}function a2(){return aT(new Date())}function a0(a8){return aT(a8).getTime()==a2().getTime()}function aZ(a8){var a9=new Date(1980,1,1,0,0,0);if(a8){a9.setHours(a8.getHours(),a8.getMinutes(),a8.getSeconds(),a8.getMilliseconds())}return a9}return{adjustDST:aV,dayOfWeek:aU,setDayOfWeek:aY,getDate:aT,isInDateRange:a1,isInTimeRange:aS,isToday:a0,nextDay:function(a8){return a6(a8,1)},previousDay:function(a8){return a6(a8,-1)},toUtcTime:aR,MS_PER_DAY:aX,MS_PER_HOUR:60*aW,MS_PER_MINUTE:aW,setTime:a5,addDays:a6,today:a2,toInvariantTime:aZ,firstDayOfMonth:a4,lastDayOfMonth:a7,getMilliseconds:a3}})();r.stripWhitespace=function(aS){if(document.createNodeIterator){var aT=document.createNodeIterator(aS,NodeFilter.SHOW_TEXT,function(aV){return aV.parentNode==aS?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},false);while(aT.nextNode()){if(aT.referenceNode&&!aT.referenceNode.textContent.trim()){aT.referenceNode.parentNode.removeChild(aT.referenceNode)}}}else{for(var aR=0;aR<aS.childNodes.length;aR++){var aU=aS.childNodes[aR];if(aU.nodeType==3&&!/\S/.test(aU.nodeValue)){aS.removeChild(aU);aR--}if(aU.nodeType==1){r.stripWhitespace(aU)}}}};var aQ=aE.requestAnimationFrame||aE.webkitRequestAnimationFrame||aE.mozRequestAnimationFrame||aE.oRequestAnimationFrame||aE.msRequestAnimationFrame||function(aR){setTimeout(aR,1000/60)};r.animationFrame=function(aR){aQ.call(aE,aR)};var ab=[];r.queueAnimation=function(aR){ab[ab.length]=aR;if(ab.length===1){r.runNextAnimation()}};r.runNextAnimation=function(){r.animationFrame(function(){if(ab[0]){ab.shift()();if(ab[0]){r.runNextAnimation()}}})};r.parseQueryStringParams=function(aS){var aW=aS.split("?")[1]||"",aU={},aV=aW.split(/&|=/),aT=aV.length,aR=0;for(;aR<aT;aR+=2){if(aV[aR]!==""){aU[decodeURIComponent(aV[aR])]=decodeURIComponent(aV[aR+1])}}return aU};r.elementUnderCursor=function(aR){if(typeof aR.x.client!="undefined"){return document.elementFromPoint(aR.x.client,aR.y.client)}};r.wheelDeltaY=function(aS){var aT=aS.originalEvent,aR=aT.wheelDeltaY,aU;if(aT.wheelDelta){if(aR===v||aR){aU=aT.wheelDelta}}else{if(aT.detail&&aT.axis===aT.VERTICAL_AXIS){aU=(-aT.detail)*10}}return aU};r.throttle=function(aU,aT){var aV;var aR=0;if(!aT||aT<=0){return aU}var aS=function(){var aZ=this;var aX=+new Date()-aR;var aY=arguments;function aW(){aU.apply(aZ,aY);aR=+new Date()}if(!aR){return aW()}if(aV){clearTimeout(aV)}if(aX>aT){aW()}else{aV=setTimeout(aW,aT-aX)}};aS.cancel=function(){clearTimeout(aV)};return aS};r.caret=function(aV,aS,aU){var aR;var aZ=aS!==v;if(aU===v){aU=aS}if(aV[0]){aV=aV[0]}if(aZ&&aV.disabled){return}try{if(aV.selectionStart!==v){if(aZ){aV.focus();aV.setSelectionRange(aS,aU)}else{aS=[aV.selectionStart,aV.selectionEnd]}}else{if(document.selection){if(av(aV).is(":visible")){aV.focus()}aR=aV.createTextRange();if(aZ){aR.collapse(true);aR.moveStart("character",aS);aR.moveEnd("character",aU-aS);aR.select()}else{var aT=aR.duplicate(),aX,aY;aR.moveToBookmark(document.selection.createRange().getBookmark());aT.setEndPoint("EndToStart",aR);aX=aT.text.length;aY=aX+aR.text.length;aS=[aX,aY]}}}}catch(aW){aS=[]}return aS};r.compileMobileDirective=function(aS,aT){var aR=aE.angular;aS.attr("data-"+r.ns+"role",aS[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-",""));aR.element(aS).injector().invoke(["$compile",function(aU){aU(aS)(aT);if(!/^\$(digest|apply)$/.test(aT.$$phase)){aT.$digest()}}]);return r.widgetInstance(aS,r.mobile.ui)};r.antiForgeryTokens=function(){var aS={},aR=av("meta[name=csrf-token],meta[name=_csrf]").attr("content"),aT=av("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");av("input[name^='__RequestVerificationToken']").each(function(){aS[this.name]=this.value});if(aT!==v&&aR!==v){aS[aT]=aR}return aS};(function(){function aT(aX,a3,aW,a2){var aZ=av("<form>").attr({action:aW,method:"POST",target:a2});var a0=r.antiForgeryTokens();a0.fileName=a3;var a1=aX.split(";base64,");a0.contentType=a1[0].replace("data:","");a0.base64=a1[1];for(var aY in a0){if(a0.hasOwnProperty(aY)){av("<input>").attr({value:a0[aY],name:aY,type:"hidden"}).appendTo(aZ)}}aZ.appendTo("body").submit().remove()}var aU=document.createElement("a");var aS="download" in aU;function aR(aY,a3){var aZ=aY;if(typeof aY=="string"){var a0=aY.split(";base64,");var a2=a0[0];var aX=atob(a0[1]);var a1=new Uint8Array(aX.length);for(var aW=0;aW<aX.length;aW++){a1[aW]=aX.charCodeAt(aW)}aZ=new Blob([a1.buffer],{type:a2})}navigator.msSaveBlob(aZ,a3)}function aV(aW,aY){if(aE.Blob&&aW instanceof Blob){aW=URL.createObjectURL(aW)}aU.download=aY;aU.href=aW;var aX=document.createEvent("MouseEvents");aX.initMouseEvent("click",true,false,aE,0,0,0,0,0,false,false,false,false,0,null);aU.dispatchEvent(aX)}r.saveAs=function(aW){var aX=aT;if(!aW.forceProxy){if(aS){aX=aV}else{if(navigator.msSaveBlob){aX=aR}}}aX(aW.dataURI,aW.fileName,aW.proxyURL,aW.proxyTarget)}})()})(jQuery,window);(function(f,g){var q=window.kendo,o="change",x="back",e="same",k=q.support,b=window.location,n=window.history,u=50,j=q.support.browser.msie,t=/^#*/,s=window.document;function i(A,y){if(!y){return A}if(A+"/"===y){A=y}var z=new RegExp("^"+y,"i");if(!z.test(A)){A=y+"/"+A}return b.protocol+"//"+(b.host+"/"+A).replace(/\/\/+/g,"/")}function w(y){return y?"#!":"#"}function l(z){var y=b.href;if(z==="#!"&&y.indexOf("#")>-1&&y.indexOf("#!")<0){return null}return y.split(z)[1]||""}function h(y,z){if(z.indexOf(y)===0){return(z.substr(y.length)).replace(/\/\//g,"/")}else{return z}}var p=q.Class.extend({back:function(){if(j){setTimeout(function(){n.back()})}else{n.back()}},forward:function(){if(j){setTimeout(function(){n.forward()})}else{n.forward()}},length:function(){return n.length},replaceLocation:function(y){b.replace(y)}});var m=p.extend({init:function(y){this.root=y},navigate:function(y){n.pushState({},s.title,i(y,this.root))},replace:function(y){n.replaceState({},s.title,i(y,this.root))},normalize:function(y){return h(this.root,y)},current:function(){var y=b.pathname;if(b.search){y+=b.search}return h(this.root,y)},change:function(y){f(window).bind("popstate.kendo",y)},stop:function(){f(window).unbind("popstate.kendo")},normalizeCurrent:function(z){var A,y=z.root,C=b.pathname,B=l(w(z.hashBang));if(y===C+"/"){A=y}if(y===C&&B){A=i(B.replace(t,""),y)}if(A){n.pushState({},s.title,A)}}});function r(y){return y.replace(/^(#)?/,"#")}function d(y){return y.replace(/^(#(!)?)?/,"#!")}var v=p.extend({init:function(y){this._id=q.guid();this.prefix=w(y);this.fix=y?d:r},navigate:function(y){b.hash=this.fix(y)},replace:function(y){this.replaceLocation(this.fix(y))},normalize:function(y){if(y.indexOf(this.prefix)<0){return y}else{return y.split(this.prefix)[1]}},change:function(y){if(k.hashChange){f(window).on("hashchange."+this._id,y)}else{this._interval=setInterval(y,u)}},stop:function(){f(window).off("hashchange."+this._id);clearInterval(this._interval)},current:function(){return l(this.prefix)},normalizeCurrent:function(z){var A=b.pathname,y=z.root;if(z.pushState&&y!==A){this.replaceLocation(y+this.prefix+h(y,A));return true}return false}});var c=q.Observable.extend({start:function(z){z=z||{};this.bind([o,x,e],z);if(this._started){return}this._started=true;z.root=z.root||"/";var y=this.createAdapter(z),A;if(y.normalizeCurrent(z)){return}A=y.current();f.extend(this,{adapter:y,root:z.root,historyLength:y.length(),current:A,locations:[A]});y.change(f.proxy(this,"_checkUrl"))},createAdapter:function(y){return k.pushState&&y.pushState?new m(y.root):new v(y.hashBang)},stop:function(){if(!this._started){return}this.adapter.stop();this.unbind(o);this._started=false},change:function(y){this.bind(o,y)},replace:function(z,y){this._navigate(z,y,function(A){A.replace(z);this.locations[this.locations.length-1]=this.current})},navigate:function(z,y){if(z==="#:back"){this.backCalled=true;this.adapter.back();return}this._navigate(z,y,function(A){A.navigate(z);this.locations.push(this.current)})},_navigate:function(B,z,A){var y=this.adapter;B=y.normalize(B);if(this.current===B||this.current===decodeURIComponent(B)){this.trigger(e);return}if(!z){if(this.trigger(o,{url:B})){return}}this.current=B;A.call(this,y);this.historyLength=y.length()},_checkUrl:function(){var y=this.adapter,E=y.current(),D=y.length(),A=this.historyLength===D,z=E===this.locations[this.locations.length-2]&&A,C=this.backCalled,B=this.current;if(E===null||this.current===E||this.current===decodeURIComponent(E)){return true}this.historyLength=D;this.backCalled=false;this.current=E;if(z&&this.trigger("back",{url:B,to:E})){y.forward();this.current=B;return}if(this.trigger(o,{url:E,backButtonPressed:!C})){if(z){y.forward()}else{y.back();this.historyLength--}this.current=B;return}if(z){this.locations.pop()}else{this.locations.push(E)}}});q.History=c;q.History.HistoryAdapter=p;q.History.HashAdapter=v;q.History.PushStateAdapter=m;q.absoluteURL=i;q.history=new c()})(window.kendo.jQuery);(function(){var m=window.kendo,l=m.history,n=m.Observable,p="init",d="routeMissing",i="change",e="back",o="same",c=/\((.*?)\)/g,r=/(\(\?)?:\w+/g,j=/\*\w+/g,h=/[\-{}\[\]+?.,\\\^$|#\s]/g;function g(t,s){return s?t:"([^/]+)"}function f(t,s){return new RegExp("^"+t.replace(h,"\\$&").replace(c,"(?:$1)?").replace(r,g).replace(j,"(.*?)")+"$",s?"i":"")}function q(s){return s.replace(/(\?.*)|(#.*)/g,"")}var k=m.Class.extend({init:function(t,u,s){if(!(t instanceof RegExp)){t=f(t,s)}this.route=t;this._callback=u},callback:function(t){var v,s=0,u,w=m.parseQueryStringParams(t);t=q(t);v=this.route.exec(t).slice(1);u=v.length;for(;s<u;s++){if(typeof v[s]!=="undefined"){v[s]=decodeURIComponent(v[s])}}v.push(w);this._callback.apply(null,v)},worksWith:function(s){if(this.route.test(q(s))){this.callback(s);return true}else{return false}}});var b=n.extend({init:function(s){if(!s){s={}}n.fn.init.call(this);this.routes=[];this.pushState=s.pushState;this.hashBang=s.hashBang;this.root=s.root;this.ignoreCase=s.ignoreCase!==false;this.bind([p,d,i,o],s)},destroy:function(){l.unbind(i,this._urlChangedProxy);l.unbind(o,this._sameProxy);l.unbind(e,this._backProxy);this.unbind()},start:function(){var w=this,v=function(){w._same()},u=function(x){w._back(x)},t=function(x){w._urlChanged(x)};l.start({same:v,change:t,back:u,pushState:w.pushState,hashBang:w.hashBang,root:w.root});var s={url:l.current||"/",preventDefault:$.noop};if(!w.trigger(p,s)){w._urlChanged(s)}this._urlChangedProxy=t;this._backProxy=u},route:function(s,t){this.routes.push(new k(s,t,this.ignoreCase))},navigate:function(t,s){m.history.navigate(t,s)},replace:function(t,s){m.history.replace(t,s)},_back:function(s){if(this.trigger(e,{url:s.url,to:s.to})){s.preventDefault()}},_same:function(s){this.trigger(o)},_urlChanged:function(x){var v=x.url;if(!v){v="/"}if(this.trigger(i,{url:x.url,params:m.parseQueryStringParams(x.url),backButtonPressed:x.backButtonPressed})){x.preventDefault();return}var s=0,t=this.routes,u,w=t.length;for(;s<w;s++){u=t[s];if(u.worksWith(v)){return}}if(this.trigger(d,{url:v,params:m.parseQueryStringParams(v),backButtonPressed:x.backButtonPressed})){x.preventDefault()}}});m.Router=b})();(function(f,d){var j=window.kendo,i=f.extend,g={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith"},h=i({},g,{contains:"contains"}),e={pageSize:f.noop,page:f.noop,filter:function(n,m,l){if(m){n.$filter=c(m,l)}},sort:function(n,l){var m=f.map(l,function(p){var o=p.field.replace(/\./g,"/");if(p.dir==="desc"){o+=" desc"}return o}).join(",");if(m){n.$orderby=m}},skip:function(m,l){if(l){m.$skip=l}},take:function(m,l){if(l){m.$top=l}}},b={read:{dataType:"jsonp"}};function c(m,l){var x=[],q=m.logic||"and",w,p,t,s,v,o,u,r,n=m.filters;for(w=0,p=n.length;w<p;w++){m=n[w];t=m.field;u=m.value;o=m.operator;if(m.filters){m=c(m,l)}else{r=m.ignoreCase;t=t.replace(/\./g,"/");m=g[o];if(l){m=h[o]}if(m&&u!==d){s=f.type(u);if(s==="string"){v="'{1}'";u=u.replace(/'/g,"''");if(r===true){t="tolower("+t+")"}}else{if(s==="date"){if(l){v="{1:yyyy-MM-ddTHH:mm:ss+00:00}"}else{v="datetime'{1:yyyy-MM-ddTHH:mm:ss}'"}}else{v="{1}"}}if(m.length>3){if(m!=="substringof"){v="{0}({2},"+v+")"}else{v="{0}("+v+",{2})";if(o==="doesnotcontain"){if(l){v="{0}({2},'{1}') eq -1";m="indexof"}else{v+=" eq false"}}}}else{v="{2} {0} "+v}m=j.format(v,m,u,t)}}x.push(m)}m=x.join(" "+q+" ");if(x.length>1){m="("+m+")"}return m}function k(m){for(var l in m){if(l.indexOf("@odata")===0){delete m[l]}}}i(true,j.data,{schemas:{odata:{type:"json",data:function(l){return l.d.results||[l.d]},total:"d.__count"}},transports:{odata:{read:{cache:true,dataType:"jsonp",jsonp:"$callback"},update:{cache:true,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:true,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:true,dataType:"json",type:"DELETE"},parameterMap:function(n,p,l){var r,q,o,m;n=n||{};p=p||"read";m=(this.options||b)[p];m=m?m.dataType:"json";if(p==="read"){r={$inlinecount:"allpages"};if(m!="json"){r.$format="json"}for(o in n){if(e[o]){e[o](r,n[o],l)}else{r[o]=n[o]}}}else{if(m!=="json"){throw new Error("Only json dataType can be used for "+p+" operation.")}if(p!=="destroy"){for(o in n){q=n[o];if(typeof q==="number"){n[o]=q+""}}r=j.stringify(n)}}return r}}}});i(true,j.data,{schemas:{"odata-v4":{type:"json",data:function(l){l=f.extend({},l);k(l);if(l.value){return l.value}return[l]},total:function(l){return l["@odata.count"]}}},transports:{"odata-v4":{read:{cache:true,dataType:"json"},update:{cache:true,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"PUT"},create:{cache:true,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"POST"},destroy:{cache:true,dataType:"json",type:"DELETE"},parameterMap:function(m,n){var l=j.data.transports.odata.parameterMap(m,n,true);if(n=="read"){l.$count=true;delete l.$inlinecount}return l}}}})})(window.kendo.jQuery);(function(e,d){var i=window.kendo,g=e.isArray,l=e.isPlainObject,c=e.map,k=e.each,h=e.extend,j=i.getter,b=i.Class;var f=b.extend({init:function(x){var s=this,u=x.total,r=x.model,p=x.parse,v=x.errors,w=x.serialize,q=x.data;if(r){if(l(r)){var o=x.modelBase||i.data.Model;if(r.fields){k(r.fields,function(z,y){if(l(y)&&y.field){if(!e.isFunction(y.field)){y=h(y,{field:s.getter(y.field)})}}else{y={field:s.getter(y)}}r.fields[z]=y})}var n=r.id;if(n){var m={};m[s.xpathToMember(n,true)]={field:s.getter(n)};r.fields=h(m,r.fields);r.id=s.xpathToMember(n)}r=o.define(r)}s.model=r}if(u){if(typeof u=="string"){u=s.getter(u);s.total=function(y){return parseInt(u(y),10)}}else{if(typeof u=="function"){s.total=u}}}if(v){if(typeof v=="string"){v=s.getter(v);s.errors=function(y){return v(y)||null}}else{if(typeof v=="function"){s.errors=v}}}if(q){if(typeof q=="string"){q=s.xpathToMember(q);s.data=function(A){var y=s.evaluate(A,q),z;y=g(y)?y:[y];if(s.model&&r.fields){z=new s.model();return c(y,function(C){if(C){var B={},D;for(D in r.fields){B[D]=z._parse(D,r.fields[D].field(C))}return B}})}return y}}else{if(typeof q=="function"){s.data=q}}}if(typeof p=="function"){var t=s.parse;s.parse=function(z){var y=p.call(s,z);return t.call(s,y)}}if(typeof w=="function"){s.serialize=w}},total:function(m){return this.data(m).length},errors:function(m){return m?m.errors:null},serialize:function(m){return m},parseDOM:function(s){var w={},u,o,q,t,r,n,p=s.attributes,m=p.length,v;for(v=0;v<m;v++){n=p[v];w["@"+n.nodeName]=n.nodeValue}for(o=s.firstChild;o;o=o.nextSibling){q=o.nodeType;if(q===3||q===4){w["#text"]=o.nodeValue}else{if(q===1){u=this.parseDOM(o);t=o.nodeName;r=w[t];if(g(r)){r.push(u)}else{if(r!==d){r=[r,u]}else{r=u}}w[t]=r}}}return w},evaluate:function(q,s){var o=s.split("."),t,n,p,r,m;while(t=o.shift()){q=q[t];if(g(q)){n=[];s=o.join(".");for(m=0,p=q.length;m<p;m++){r=this.evaluate(q[m],s);r=g(r)?r:[r];n.push.apply(n,r)}return n}}return q},parse:function(o){var p,n,m={};p=o.documentElement||e.parseXML(o).documentElement;n=this.parseDOM(p);m[p.nodeName]=n;return m},xpathToMember:function(n,m){if(!n){return""}n=n.replace(/^\//,"").replace(/\//g,".");if(n.indexOf("@")>=0){return n.replace(/\.?(@.*)/,m?"$1":'["$1"]')}if(n.indexOf("text()")>=0){return n.replace(/(\.?text\(\))/,m?"#text":'["#text"]')}return n},getter:function(m){return j(this.xpathToMember(m),true)}});e.extend(true,i.data,{XmlDataReader:f,readers:{xml:f}})})(window.kendo.jQuery);var a=0;(function(aK,y){var au=aK.extend,C=aK.proxy,J=aK.isPlainObject,aE=aK.isEmptyObject,c=aK.isArray,q=aK.grep,aN=aK.ajax,A,a2=aK.each,aI=aK.noop,u=window.kendo,aO=u.isFunction,P=u.Observable,aT=u.Class,aW="string",aC="function",aM="create",j="read",aU="update",F="destroy",L="change",R="sync",o="get",K="error",aL="requestStart",aG="progress",af="requestEnd",ah=[aM,j,aU,F],ai=function(a3){return a3},aa=u.getter,ao=u.stringify,ac=Math,g=[].push,aB=[].join,aR=[].pop,aF=[].splice,al=[].shift,B=[].slice,aV=[].unshift,aD={}.toString,Q=u.support.stableSort,az=/^\/Date\((.*?)\)\/$/,aj=/(\r+|\n+)/g,aP=/(?=['\\])/g;var an=P.extend({init:function(a5,a3){var a4=this;a4.type=a3||ak;P.fn.init.call(a4);a4.length=a5.length;a4.wrapAll(a5,a4)},at:function(a3){return this[a3]},toJSON:function(){var a3,a5=this.length,a6,a4=new Array(a5);for(a3=0;a3<a5;a3++){a6=this[a3];if(a6 instanceof ak){a6=a6.toJSON()}a4[a3]=a6}return a4},parent:aI,wrapAll:function(a7,a8){var a6=this,a3,a5,a4=function(){return a6};a8=a8||[];for(a3=0,a5=a7.length;a3<a5;a3++){a8[a3]=a6.wrap(a7[a3],a4)}return a8},wrap:function(a3,a4){var a5=this,a6;if(a3!==null&&aD.call(a3)==="[object Object]"){a6=a3 instanceof a5.type||a3 instanceof G;if(!a6){a3=a3 instanceof ak?a3.toJSON():a3;a3=new a5.type(a3)}a3.parent=a4;a3.bind(L,function(a7){a5.trigger(L,{field:a7.field,node:a7.node,index:a7.index,items:a7.items||[this],action:a7.node?(a7.action||"itemloaded"):"itemchange"})})}return a3},push:function(){var a5=this.length,a4=this.wrapAll(arguments),a3;a3=g.apply(this,a4);this.trigger(L,{action:"add",index:a5,items:a4});return a3},slice:B,sort:[].sort,join:aB,pop:function(){var a4=this.length,a3=aR.apply(this);if(a4){this.trigger(L,{action:"remove",index:a4-1,items:[a3]})}return a3},splice:function(a6,a8,a9){var a5=this.wrapAll(B.call(arguments,2)),a4,a7,a3;a4=aF.apply(this,[a6,a8].concat(a5));if(a4.length){this.trigger(L,{action:"remove",index:a6,items:a4});for(a7=0,a3=a4.length;a7<a3;a7++){if(a4[a7]&&a4[a7].children){a4[a7].unbind(L)}}}if(a9){this.trigger(L,{action:"add",index:a6,items:a5})}return a4},shift:function(){var a4=this.length,a3=al.apply(this);if(a4){this.trigger(L,{action:"remove",index:0,items:[a3]})}return a3},unshift:function(){var a4=this.wrapAll(arguments),a3;a3=aV.apply(this,a4);this.trigger(L,{action:"add",index:0,items:a4});return a3},indexOf:function(a6){var a5=this,a3,a4;for(a3=0,a4=a5.length;a3<a4;a3++){if(a5[a3]===a6){return a3}}return -1},forEach:function(a5){var a3=0,a4=this.length;for(;a3<a4;a3++){a5(this[a3],a3,this)}},map:function(a6){var a4=0,a3=[],a5=this.length;for(;a4<a5;a4++){a3[a4]=a6(this[a4],a4,this)}return a3},filter:function(a7){var a4=0,a3=[],a6,a5=this.length;for(;a4<a5;a4++){a6=this[a4];if(a7(a6,a4,this)){a3[a3.length]=a6}}return a3},find:function(a6){var a3=0,a5,a4=this.length;for(;a3<a4;a3++){a5=this[a3];if(a6(a5,a3,this)){return a5}}},every:function(a6){var a3=0,a5,a4=this.length;for(;a3<a4;a3++){a5=this[a3];if(!a6(a5,a3,this)){return false}}return true},some:function(a6){var a3=0,a5,a4=this.length;for(;a3<a4;a3++){a5=this[a3];if(a6(a5,a3,this)){return true}}return false},remove:function(a4){var a3=this.indexOf(a4);if(a3!==-1){this.splice(a3,1)}},empty:function(){this.splice(0,this.length)}});var ar=an.extend({init:function(a5,a4){P.fn.init.call(this);this.type=a4||ak;for(var a3=0;a3<a5.length;a3++){this[a3]=a5[a3]}this.length=a3;this._parent=C(function(){return this},this)},at:function(a3){var a4=this[a3];if(!(a4 instanceof this.type)){a4=this[a3]=this.wrap(a4,this._parent)}else{a4.parent=this._parent}return a4}});function aA(a3,a4,a6,a5){return function(a9){var a8={},a7;for(a7 in a9){a8[a7]=a9[a7]}if(a5){a8.field=a6+"."+a9.field}else{a8.field=a6}if(a4==L&&a3._notifyChange){a3._notifyChange(a8)}a3.trigger(a4,a8)}}var ak=P.extend({init:function(a5){var a4=this,a7,a6,a3=function(){return a4};P.fn.init.call(this);for(a6 in a5){a7=a5[a6];if(typeof a7==="object"&&a7&&!a7.getTime&&a6.charAt(0)!="_"){a7=a4.wrap(a7,a6,a3)}a4[a6]=a7}a4.uid=u.guid()},shouldSerialize:function(a3){return this.hasOwnProperty(a3)&&a3!=="_events"&&typeof this[a3]!==aC&&a3!=="uid"},forEach:function(a4){for(var a3 in this){if(this.shouldSerialize(a3)){a4(this[a3],a3)}}},toJSON:function(){var a3={},a4,a5;for(a5 in this){if(this.shouldSerialize(a5)){a4=this[a5];if(a4 instanceof ak||a4 instanceof an){a4=a4.toJSON()}a3[a5]=a4}}return a3},get:function(a5){var a4=this,a3;a4.trigger(o,{field:a5});if(a5==="this"){a3=a4}else{a3=u.getter(a5,true)(a4)}return a3},_set:function(a7,a4){var a3=this;var a9=a7.indexOf(".")>=0;if(a9){var a8=a7.split("."),a6="";while(a8.length>1){a6+=a8.shift();var a5=u.getter(a6,true)(a3);if(a5 instanceof ak){a5.set(a8.join("."),a4);return a9}a6+="."}}u.setter(a7)(a3,a4);return a9},set:function(a6,a4){var a3=this,a7=a6.indexOf(".")>=0,a5=u.getter(a6,true)(a3);if(a5!==a4){if(!a3.trigger("set",{field:a6,value:a4})){if(!a7){a4=a3.wrap(a4,a6,function(){return a3})}if(!a3._set(a6,a4)||a6.indexOf("(")>=0||a6.indexOf("[")>=0){a3.trigger(L,{field:a6})}}}},parent:aI,wrap:function(a4,a9,a6){var a8=this,a5=aD.call(a4);if(a4!=null&&(a5==="[object Object]"||a5==="[object Array]")){var a3=a4 instanceof an;var a7=a4 instanceof t;if(a5==="[object Object]"&&!a7&&!a3){if(!(a4 instanceof ak)){a4=new ak(a4)}if(a4.parent()!=a6()){a4.bind(o,aA(a8,o,a9,true));a4.bind(L,aA(a8,L,a9,true))}}else{if(a5==="[object Array]"||a3||a7){if(!a3&&!a7){a4=new an(a4)}if(a4.parent()!=a6()){a4.bind(L,aA(a8,L,a9,false))}}}a4.parent=a6}return a4}});function aZ(a3,a7){if(a3===a7){return true}var a6=aK.type(a3),a4=aK.type(a7),a5;if(a6!==a4){return false}if(a6==="date"){return a3.getTime()===a7.getTime()}if(a6!=="object"&&a6!=="array"){return false}for(a5 in a3){if(!aZ(a3[a5],a7[a5])){return false}}return true}var Y={number:function(a3){return u.parseFloat(a3)},date:function(a3){return u.parseDate(a3)},"boolean":function(a3){if(typeof a3===aW){return a3.toLowerCase()==="true"}return a3!=null?!!a3:a3},string:function(a3){return a3!=null?(a3+""):a3},"default":function(a3){return a3}};var aY={string:"",number:0,date:new Date(),"boolean":false,"default":""};function ax(a5,a3){var a4,a6;for(a6 in a5){a4=a5[a6];if(J(a4)&&a4.field&&a4.field===a3){return a4}else{if(a4===a3){return a4}}}return null}var G=ak.extend({init:function(a6){var a5=this;if(!a6||aK.isEmptyObject(a6)){a6=aK.extend({},a5.defaults,a6);if(a5._initializers){for(var a3=0;a3<a5._initializers.length;a3++){var a4=a5._initializers[a3];a6[a4]=a5.defaults[a4]()}}}ak.fn.init.call(a5,a6);a5.dirty=false;if(a5.idField){a5.id=a5.get(a5.idField);if(a5.id===y){a5.id=a5._defaultId}}},shouldSerialize:function(a3){return ak.fn.shouldSerialize.call(this,a3)&&a3!=="uid"&&!(this.idField!=="id"&&a3==="id")&&a3!=="dirty"&&a3!=="_accessors"},_parse:function(a6,a5){var a4=this,a8=a6,a3=(a4.fields||{}),a7;a6=a3[a6];if(!a6){a6=ax(a3,a8)}if(a6){a7=a6.parse;if(!a7&&a6.type){a7=Y[a6.type.toLowerCase()]}}return a7?a7(a5):a5},_notifyChange:function(a4){var a3=a4.action;if(a3=="add"||a3=="remove"){this.dirty=true}},editable:function(a3){a3=(this.fields||{})[a3];return a3?a3.editable!==false:true},set:function(a6,a5,a4){var a3=this;if(a3.editable(a6)){a5=a3._parse(a6,a5);if(!aZ(a5,a3.get(a6))){a3.dirty=true;ak.fn.set.call(a3,a6,a5,a4)}}},accept:function(a6){var a4=this,a3=function(){return a4},a7;for(a7 in a6){var a5=a6[a7];if(a7.charAt(0)!="_"){a5=a4.wrap(a6[a7],a7,a3)}a4._set(a7,a5)}if(a4.idField){a4.id=a4.get(a4.idField)}a4.dirty=false},isNew:function(){return this.id===this._defaultId}});G.define=function(a5,bg){if(bg===y){bg=a5;a5=G}var a9,a8=au({defaults:{}},bg),a3,bd,bc,bf,be,a6,ba={},bb,a4=a8.id,a7=[];if(a4){a8.idField=a4}if(a8.id){delete a8.id}if(a4){a8.defaults[a4]=a8._defaultId=""}if(aD.call(a8.fields)==="[object Array]"){for(be=0,a6=a8.fields.length;be<a6;be++){bd=a8.fields[be];if(typeof bd===aW){ba[bd]={}}else{if(bd.field){ba[bd.field]=bd}}}a8.fields=ba}for(a3 in a8.fields){bd=a8.fields[a3];bc=bd.type||"default";bf=null;bb=a3;a3=typeof(bd.field)===aW?bd.field:a3;if(!bd.nullable){bf=a8.defaults[bb!==a3?bb:a3]=bd.defaultValue!==y?bd.defaultValue:aY[bc.toLowerCase()];if(typeof bf==="function"){a7.push(a3)}}if(bg.id===a3){a8._defaultId=bf}a8.defaults[bb!==a3?bb:a3]=bf;bd.parse=bd.parse||Y[bc]}if(a7.length>0){a8._initializers=a7}a9=a5.extend(a8);a9.define=function(bh){return G.define(a9,bh)};if(a8.fields){a9.fields=a8.fields;a9.idField=a8.idField}return a9};var O={selector:function(a3){return aO(a3)?a3:aa(a3)},compare:function(a4){var a3=this.selector(a4);return function(a6,a5){a6=a3(a6);a5=a3(a5);if(a6==null&&a5==null){return 0}if(a6==null){return -1}if(a5==null){return 1}if(a6.localeCompare){return a6.localeCompare(a5)}return a6>a5?1:(a6<a5?-1:0)}},create:function(a3){var a4=a3.compare||this.compare(a3.field);if(a3.dir=="desc"){return function(a6,a5){return a4(a5,a6,true)}}return a4},combine:function(a3){return function(a7,a6){var a5=a3[0](a7,a6),a4,a8;for(a4=1,a8=a3.length;a4<a8;a4++){a5=a5||a3[a4](a7,a6)}return a5}}};var aX=au({},O,{asc:function(a4){var a3=this.selector(a4);return function(a6,a5){var a8=a3(a6);var a7=a3(a5);if(a8&&a8.getTime&&a7&&a7.getTime){a8=a8.getTime();a7=a7.getTime()}if(a8===a7){return a6.__position-a5.__position}if(a8==null){return -1}if(a7==null){return 1}if(a8.localeCompare){return a8.localeCompare(a7)}return a8>a7?1:-1}},desc:function(a4){var a3=this.selector(a4);return function(a6,a5){var a8=a3(a6);var a7=a3(a5);if(a8&&a8.getTime&&a7&&a7.getTime){a8=a8.getTime();a7=a7.getTime()}if(a8===a7){return a6.__position-a5.__position}if(a8==null){return 1}if(a7==null){return -1}if(a7.localeCompare){return a7.localeCompare(a8)}return a8<a7?1:-1}},create:function(a3){return this[a3.dir](a3.field)}});A=function(a7,a6){var a4,a5=a7.length,a3=new Array(a5);for(a4=0;a4<a5;a4++){a3[a4]=a6(a7[a4],a4,a7)}return a3};var z=(function(){function a4(a5){return a5.replace(aP,"\\").replace(aj,"")}function a3(a9,a6,a5,a8){var a7;if(a5!=null){if(typeof a5===aW){a5=a4(a5);a7=az.exec(a5);if(a7){a5=new Date(+a7[1])}else{if(a8){a5="'"+a5.toLowerCase()+"'";a6="("+a6+" || '').toLowerCase()"}else{a5="'"+a5+"'"}}}if(a5.getTime){a6="("+a6+"?"+a6+".getTime():"+a6+")";a5=a5.getTime()}}return a6+" "+a9+" "+a5}return{quote:function(a5){if(a5&&a5.getTime){return"new Date("+a5.getTime()+")"}if(typeof a5=="string"){return"'"+a4(a5)+"'"}return""+a5},eq:function(a6,a5,a7){return a3("==",a6,a5,a7)},neq:function(a6,a5,a7){return a3("!=",a6,a5,a7)},gt:function(a6,a5,a7){return a3(">",a6,a5,a7)},gte:function(a6,a5,a7){return a3(">=",a6,a5,a7)},lt:function(a6,a5,a7){return a3("<",a6,a5,a7)},lte:function(a6,a5,a7){return a3("<=",a6,a5,a7)},startswith:function(a6,a5,a7){if(a7){a6="("+a6+" || '').toLowerCase()";if(a5){a5=a5.toLowerCase()}}if(a5){a5=a4(a5)}return a6+".lastIndexOf('"+a5+"', 0) == 0"},endswith:function(a6,a5,a7){if(a7){a6="("+a6+" || '').toLowerCase()";if(a5){a5=a5.toLowerCase()}}if(a5){a5=a4(a5)}return a6+".indexOf('"+a5+"', "+a6+".length - "+(a5||"").length+") >= 0"},contains:function(a6,a5,a7){if(a7){a6="("+a6+" || '').toLowerCase()";if(a5){a5=a5.toLowerCase()}}if(a5){a5=a4(a5)}return a6+".indexOf('"+a5+"') >= 0"},doesnotcontain:function(a6,a5,a7){if(a7){a6="("+a6+" || '').toLowerCase()";if(a5){a5=a5.toLowerCase()}}if(a5){a5=a4(a5)}return a6+".indexOf('"+a5+"') == -1"}}})();function ag(a3){this.data=a3||[]}ag.filterExpr=function(bb){var ba=[],a8={and:" && ",or:" || "},be,a7,a4,bd,a3=[],a9=[],bc,a6,a5=bb.filters;for(be=0,a7=a5.length;be<a7;be++){a4=a5[be];bc=a4.field;a6=a4.operator;if(a4.filters){bd=ag.filterExpr(a4);a4=bd.expression.replace(/__o\[(\d+)\]/g,function(bg,bf){bf=+bf;return"__o["+(a9.length+bf)+"]"}).replace(/__f\[(\d+)\]/g,function(bg,bf){bf=+bf;return"__f["+(a3.length+bf)+"]"});a9.push.apply(a9,bd.operators);a3.push.apply(a3,bd.fields)}else{if(typeof bc===aC){bd="__f["+a3.length+"](d)";a3.push(bc)}else{bd=u.expr(bc)}if(typeof a6===aC){a4="__o["+a9.length+"]("+bd+", "+z.quote(a4.value)+")";a9.push(a6)}else{a4=z[(a6||"eq").toLowerCase()](bd,a4.value,a4.ignoreCase!==y?a4.ignoreCase:true)}}ba.push(a4)}return{expression:"("+ba.join(a8[bb.logic])+")",fields:a3,operators:a9}};function S(a6,a3){if(a6){var a5=typeof a6===aW?{field:a6,dir:a3}:a6,a4=c(a5)?a5:(a5!==y?[a5]:[]);return q(a4,function(a7){return !!a7.dir})}}var ay={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"};function a0(a8){var a3,a7,a5,a4,a6=a8.filters;if(a6){for(a3=0,a7=a6.length;a3<a7;a3++){a5=a6[a3];a4=a5.operator;if(a4&&typeof a4===aW){a5.operator=ay[a4.toLowerCase()]||a4}a0(a5)}}}function at(a3){if(a3&&!aE(a3)){if(c(a3)||!a3.filters){a3={logic:"and",filters:c(a3)?a3:[a3]}}a0(a3);return a3}}ag.normalizeFilter=at;function am(a3){return c(a3)?a3:[a3]}function w(a6,a3){var a5=typeof a6===aW?{field:a6,dir:a3}:a6,a4=c(a5)?a5:(a5!==y?[a5]:[]);return A(a4,function(a7){return{field:a7.field,dir:a7.dir||"asc",aggregates:a7.aggregates}})}ag.prototype={toArray:function(){return this.data},range:function(a3,a4){return new ag(this.data.slice(a3,a3+a4))},skip:function(a3){return new ag(this.data.slice(a3))},take:function(a3){return new ag(this.data.slice(0,a3))},select:function(a3){return new ag(A(this.data,a3))},order:function(a3,a4){var a5={dir:a4};if(a3){if(a3.compare){a5.compare=a3.compare}else{a5.field=a3}}return new ag(this.data.slice(0).sort(O.create(a5)))},orderBy:function(a3){return this.order(a3,"asc")},orderByDescending:function(a3){return this.order(a3,"desc")},sort:function(a9,a4,a7){var a3,a8,a6=S(a9,a4),a5=[];a7=a7||O;if(a6.length){for(a3=0,a8=a6.length;a3<a8;a3++){a5.push(a7.create(a6[a3]))}return this.orderBy({compare:a7.combine(a5)})}return this},filter:function(a7){var bb,a9,a4,ba,bc,a6=this.data,a8,a5,bd=[],a3;a7=at(a7);if(!a7||a7.filters.length===0){return this}ba=ag.filterExpr(a7);a8=ba.fields;a5=ba.operators;bc=a3=new Function("d, __f, __o","return "+ba.expression);if(a8.length||a5.length){a3=function(be){return bc(be,a8,a5)}}for(bb=0,a4=a6.length;bb<a4;bb++){a9=a6[bb];if(a3(a9)){bd.push(a9)}}return new ag(bd)},group:function(a4,a6){a4=w(a4||[]);a6=a6||this.data;var a5=this,a3=new ag(a5.data),a7;if(a4.length>0){a7=a4[0];a3=a3.groupBy(a7).select(function(a9){var a8=new ag(a6).filter([{field:a9.field,operator:"eq",value:a9.value,ignoreCase:false}]);return{field:a9.field,value:a9.value,items:a4.length>1?new ag(a9.items).group(a4.slice(1),a8.toArray()).toArray():a9.items,hasSubgroups:a4.length>1,aggregates:a8.aggregate(a7.aggregates)}})}return a3},groupBy:function(a3){if(aE(a3)||!this.data.length){return new ag([])}var a8=a3.field,a7=this._sortForGrouping(a8,a3.dir||"asc"),a5=u.accessor(a8),bc,a4=a5.get(a7[0],a8),ba={field:a8,value:a4,items:[]},bb,a9,a6,bd=[ba];for(a9=0,a6=a7.length;a9<a6;a9++){bc=a7[a9];bb=a5.get(bc,a8);if(!H(a4,bb)){a4=bb;ba={field:a8,value:a4,items:[]};bd.push(ba)}ba.items.push(bc)}return new ag(bd)},_sortForGrouping:function(a7,a4){var a3,a5,a6=this.data;if(!Q){for(a3=0,a5=a6.length;a3<a5;a3++){a6[a3].__position=a3}a6=new ag(a6).sort(a7,a4,aX).toArray();for(a3=0,a5=a6.length;a3<a5;a3++){delete a6[a3].__position}return a6}return this.sort(a7,a4).toArray()},aggregate:function(a7){var a5,a4,a3={},a6={};if(a7&&a7.length){for(a5=0,a4=this.data.length;a5<a4;a5++){l(a3,a7,this.data[a5],a5,a4,a6)}}return a3}};function H(a4,a3){if(a4&&a4.getTime&&a3&&a3.getTime){return a4.getTime()===a3.getTime()}return a4===a3}function l(a5,a8,bd,a9,a4,a3){a8=a8||[];var bc,a6,ba,a7=a8.length;for(bc=0;bc<a7;bc++){a6=a8[bc];ba=a6.aggregate;var bb=a6.field;a5[bb]=a5[bb]||{};a3[bb]=a3[bb]||{};a3[bb][ba]=a3[bb][ba]||{};a5[bb][ba]=v[ba.toLowerCase()](a5[bb][ba],bd,u.accessor(bb),a9,a4,a3[bb][ba])}}var v={sum:function(a4,a5,a3){var a6=a3.get(a5);if(!ab(a4)){a4=a6}else{if(ab(a6)){a4+=a6}}return a4},count:function(a3){return(a3||0)+1},average:function(a4,a7,a3,a5,a6,a9){var a8=a3.get(a7);if(a9.count===y){a9.count=0}if(!ab(a4)){a4=a8}else{if(ab(a8)){a4+=a8}}if(ab(a8)){a9.count++}if(a5==a6-1&&ab(a4)){a4=a4/a9.count}return a4},max:function(a4,a5,a3){var a6=a3.get(a5);if(!ab(a4)&&!k(a4)){a4=a6}if(a4<a6&&(ab(a6)||k(a6))){a4=a6}return a4},min:function(a4,a5,a3){var a6=a3.get(a5);if(!ab(a4)&&!k(a4)){a4=a6}if(a4>a6&&(ab(a6)||k(a6))){a4=a6}return a4}};function ab(a3){return typeof a3==="number"&&!isNaN(a3)}function k(a3){return a3&&a3.getTime}function E(a6){var a4,a5=a6.length,a3=new Array(a5);for(a4=0;a4<a5;a4++){a3[a4]=a6[a4].toJSON()}return a3}ag.process=function(a5,bc){bc=bc||{};var a7=new ag(a5),bb=bc.group,a6=w(bb||[]).concat(S(bc.sort||[])),a8,a9=bc.filterCallback,a3=bc.filter,ba=bc.skip,a4=bc.take;if(a3){a7=a7.filter(a3);if(a9){a7=a9(a7)}a8=a7.toArray().length}if(a6){a7=a7.sort(a6);if(bb){a5=a7.toArray()}}if(ba!==y&&a4!==y){a7=a7.range(ba,a4)}if(bb){a7=a7.group(bb,a5)}return{total:a8,data:a7.toArray()}};var aq=aT.extend({init:function(a3){this.data=a3.data},read:function(a3){a3.success(this.data)},update:function(a3){a3.success(a3.data)},create:function(a3){a3.success(a3.data)},destroy:function(a3){a3.success(a3.data)}});var a1=aT.extend({init:function(a4){var a5=this,a3;a4=a5.options=au({},a5.options,a4);a2(ah,function(a6,a7){if(typeof a4[a7]===aW){a4[a7]={url:a4[a7]}}});a5.cache=a4.cache?W.create(a4.cache):{find:aI,add:aI};a3=a4.parameterMap;if(aO(a4.push)){a5.push=a4.push}if(!a5.push){a5.push=ai}a5.parameterMap=aO(a3)?a3:function(a7){var a6={};a2(a7,function(a8,a9){if(a8 in a3){a8=a3[a8];if(J(a8)){a9=a8.value(a9);a8=a8.key}}a6[a8]=a9});return a6}},options:{parameterMap:ai},create:function(a3){return aN(this.setup(a3,aM))},read:function(a6){var a7=this,a8,a5,a3,a4=a7.cache;a6=a7.setup(a6,j);a8=a6.success||aI;a5=a6.error||aI;a3=a4.find(a6.data);if(a3!==y){a8(a3)}else{a6.success=function(a9){a4.add(a6.data,a9);a8(a9)};aK.ajax(a6)}},update:function(a3){return aN(this.setup(a3,aU))},destroy:function(a3){return aN(this.setup(a3,F))},setup:function(a4,a5){a4=a4||{};var a7=this,a6,a3=a7.options[a5],a8=aO(a3.data)?a3.data(a4.data):a3.data;a4=au(true,{},a3,a4);a6=au(true,{},a8,a4.data);a4.data=a7.parameterMap(a6,a5);if(aO(a4.url)){a4.url=a4.url(a6)}return a4}});var W=aT.extend({init:function(){this._store={}},add:function(a3,a4){if(a3!==y){this._store[ao(a3)]=a4}},find:function(a3){return this._store[ao(a3)]},clear:function(){this._store={}},remove:function(a3){delete this._store[ao(a3)]}});W.create=function(a4){var a3={inmemory:function(){return new W()}};if(J(a4)&&aO(a4.find)){return a4}if(a4===true){return new W()}return a3[a4]()};function T(a5,a9,a4,a8,bc){var a6,ba,a7,bb,a3;for(bb=0,a3=a5.length;bb<a3;bb++){a6=a5[bb];for(ba in a9){a7=bc[ba];if(a7&&a7!==ba){a6[a7]=a9[ba](a6);delete a6[ba]}}}}function x(a5,a9,a4,a8,bc){var a6,ba,a7,bb,a3;for(bb=0,a3=a5.length;bb<a3;bb++){a6=a5[bb];for(ba in a9){a6[ba]=a4._parse(ba,a9[ba](a6));a7=bc[ba];if(a7&&a7!==ba){delete a6[a7]}}}}function U(a5,a8,a4,a7,bb){var a6,a9,ba,a3;for(a9=0,a3=a5.length;a9<a3;a9++){a6=a5[a9];ba=a7[a6.field];if(ba&&ba!=a6.field){a6.field=ba}a6.value=a4._parse(a6.field,a6.value);if(a6.hasSubgroups){U(a6.items,a8,a4,a7,bb)}else{x(a6.items,a8,a4,a7,bb)}}}function ad(a7,a4,a6,a5,a3,a8){return function(a9){a9=a7(a9);if(a9&&!aE(a5)){if(aD.call(a9)!=="[object Array]"&&!(a9 instanceof an)){a9=[a9]}a6(a9,a5,new a4(),a3,a8)}return a9||[]}}var Z=aT.extend({init:function(a7){var bc=this,a9,a5,ba,a4;a7=a7||{};for(a9 in a7){a5=a7[a9];bc[a9]=typeof a5===aW?aa(a5):a5}a4=a7.modelBase||G;if(J(bc.model)){bc.model=ba=a4.define(bc.model)}var a3=C(bc.data,bc);bc._dataAccessFunction=a3;if(bc.model){var a8=C(bc.groups,bc),a6=C(bc.serialize,bc),bd={},be={},bb={},bh={},bf=false,bg;ba=bc.model;if(ba.fields){a2(ba.fields,function(bk,bj){var bi;bg=bk;if(J(bj)&&bj.field){bg=bj.field}else{if(typeof bj===aW){bg=bj}}if(J(bj)&&bj.from){bi=bj.from}bf=bf||(bi&&bi!==bk)||bg!==bk;be[bk]=aa(bi||bg);bb[bk]=aa(bk);bd[bi||bg]=bk;bh[bk]=bi||bg});if(!a7.serialize&&bf){bc.serialize=ad(a6,ba,T,bb,bd,bh)}}bc._dataAccessFunction=a3;bc.data=ad(a3,ba,x,be,bd,bh);bc.groups=ad(a8,ba,U,be,bd,bh)}},errors:function(a3){return a3?a3.errors:null},parse:ai,data:ai,total:function(a3){return a3.length},groups:ai,aggregates:function(){return{}},serialize:function(a3){return a3}});function aw(a5){var a4=[];var a8;var ba;for(var a3=0,a7=a5.length;a3<a7;a3++){a8=a5[a3];if(!("field" in a8&&"items" in a8&&"value" in a8)){break}ba={};for(var a9 in a8){var a6=a8.shouldSerialize?a8.shouldSerialize:a8.hasOwnProperty;if(a6.call(a8,a9)){ba[a9]=a8[a9]}}a4.push(ba);if(ba.hasSubgroups){a4=a4.concat(aw(ba.items))}}return a4}function e(ba,a6,a8,a5){var a9,a3=0,a4;while(a6.length&&a5){a9=a6[a3];a4=a9.items;var a7=a4.length;if(ba&&ba.field===a9.field&&ba.value===a9.value){if(ba.hasSubgroups&&ba.items.length){e(ba.items[ba.items.length-1],a9.items,a8,a5)}else{a4=a4.slice(a8,a8+a5);ba.items=ba.items.concat(a4)}a6.splice(a3--,1)}else{if(a9.hasSubgroups&&a4.length){e(a9,a4,a8,a5);if(!a9.items.length){a6.splice(a3--,1)}}else{a4=a4.slice(a8,a8+a5);a9.items=a4;if(!a9.items.length){a6.splice(a3--,1)}}}if(a4.length===0){a8-=a7}else{a8=0;a5-=a4.length}if(++a3>=a6.length){break}}if(a3<a6.length){a6.splice(a3,a6.length-a3)}}function ap(a8){var a4,a3=[],a7,a5,a6;for(a4=0,a7=a8.length;a4<a7;a4++){var a9=a8.at(a4);if(a9.hasSubgroups){a3=a3.concat(ap(a9.items))}else{a5=a9.items;for(a6=0;a6<a5.length;a6++){a3.push(a5.at(a6))}}}return a3}function av(a7,a5){var a3,a6,a8,a4;if(a5){for(a3=0,a6=a7.length;a3<a6;a3++){a8=a7.at(a3);if(a8.hasSubgroups){av(a8.items,a5)}else{a8.items=new ar(a8.items,a5)}}}}function r(a6,a5){for(var a3=0,a4=a6.length;a3<a4;a3++){if(a6[a3].hasSubgroups){if(r(a6[a3].items,a5)){return true}}else{if(a5(a6[a3].items,a6[a3])){return true}}}}function f(a4,a6,a5,a7){for(var a3=0;a3<a4.length;a3++){if(a4[a3].data===a6){break}if(M(a4[a3].data,a5,a7)){break}}}function M(a4,a6,a7){for(var a3=0,a5=a4.length;a3<a5;a3++){if(a4[a3]&&a4[a3].hasSubgroups){return M(a4[a3].items,a6,a7)}else{if(a4[a3]===a6||a4[a3]===a7){a4[a3]=a7;return true}}}}function s(a8,a6,a3,a7,a5){for(var ba=0,a4=a8.length;ba<a4;ba++){var bb=a8[ba];if(!bb||bb instanceof a7){continue}if(bb.hasSubgroups!==y&&!a5){s(bb.items,a6,a3,a7,a5)}else{for(var a9=0;a9<a6.length;a9++){if(a6[a9]===bb){a8[ba]=a6.at(a9);f(a3,a6,bb,a8[ba]);break}}}}}function N(a7,a5){var a3,a6;for(a3=0,a6=a7.length;a3<a6;a3++){var a4=a7.at(a3);if(a4.uid==a5.uid){a7.splice(a3,1);return a4}}}function b(a4,a5){var a6,a8,a3,a7;for(a3=a4.length-1,a7=0;a3>=a7;a3--){a8=a4[a3];a6={value:a5.get(a8.field),field:a8.field,items:a6?[a6]:[a5],hasSubgroups:!!a6,aggregates:{}}}return a6}function aQ(a4,a3){if(a3){return p(a4,function(a5){if(a5.uid){return a5.uid==a3.uid}return a5[a3.idField]===a3.id})}return -1}function aS(a4,a3){if(a3){return p(a4,function(a5){return a5.uid==a3.uid})}return -1}function p(a6,a4){var a3,a5;for(a3=0,a5=a6.length;a3<a5;a3++){if(a4(a6[a3])){return a3}}return -1}function D(a3,a4){if(a3&&!aE(a3)){var a5=a3[a4];var a6;if(J(a5)){a6=a5.from||a5.field||a4}else{a6=a3[a4]||a4}if(aO(a6)){return a4}return a6}return a4}function I(a8,a4){var a3,a5,a7={};for(var a6 in a8){if(a6!=="filters"){a7[a6]=a8[a6]}}if(a8.filters){a7.filters=[];for(a3=0,a5=a8.filters.length;a3<a5;a3++){a7.filters[a3]=I(a8.filters[a3],a4)}}else{a7.field=D(a4.fields,a7.field)}return a7}function V(a6,a5){var a4,a7,a3=[],ba,a9;for(a4=0,a7=a6.length;a4<a7;a4++){ba={};a9=a6[a4];for(var a8 in a9){ba[a8]=a9[a8]}ba.field=D(a5.fields,ba.field);if(ba.aggregates&&c(ba.aggregates)){ba.aggregates=V(ba.aggregates,a5)}a3.push(ba)}return a3}var t=P.extend({init:function(a4){var a6=this,a3,a7;if(a4){a7=a4.data}a4=a6.options=au({},a6.options,a4);a6._map={};a6._prefetch={};a6._data=[];a6._pristineData=[];a6._ranges=[];a6._view=[];a6._pristineTotal=0;a6._destroyed=[];a6._pageSize=a4.pageSize;a6._page=a4.page||(a4.pageSize?1:y);a6._sort=S(a4.sort);a6._filter=at(a4.filter);a6._group=w(a4.group);a6._aggregate=a4.aggregate;a6._total=a4.total;a6._shouldDetachObservableParents=true;P.fn.init.call(a6);a6.transport=i.create(a4,a7);if(aO(a6.transport.push)){a6.transport.push({pushCreate:C(a6._pushCreate,a6),pushUpdate:C(a6._pushUpdate,a6),pushDestroy:C(a6._pushDestroy,a6)})}if(a4.offlineStorage!=null){if(typeof a4.offlineStorage=="string"){var a5=a4.offlineStorage;a6._storage={getItem:function(){return JSON.parse(localStorage.getItem(a5))},setItem:function(a8){localStorage.setItem(a5,ao(a8))}}}else{a6._storage=a4.offlineStorage}}a6.reader=new u.data.readers[a4.schema.type||"json"](a4.schema);a3=a6.reader.model||{};a6._detachObservableParents();a6._data=a6._observe(a6._data);a6._online=true;a6.bind(["push",K,L,aL,R,af,aG],a4)},options:{data:null,schema:{modelBase:G},offlineStorage:null,serverSorting:false,serverPaging:false,serverFiltering:false,serverGrouping:false,serverAggregates:false,batch:false},online:function(a3){if(a3!==y){if(this._online!=a3){this._online=a3;if(a3){return this.sync()}}return aK.Deferred().resolve().promise()}else{return this._online}},offlineData:function(a3){if(this.options.offlineStorage==null){return null}if(a3!==y){return this._storage.setItem(a3)}return this._storage.getItem()||{}},_isServerGrouped:function(){var a3=this.group()||[];return this.options.serverGrouping&&a3.length},_pushCreate:function(a3){this._push(a3,"pushCreate")},_pushUpdate:function(a3){this._push(a3,"pushUpdate")},_pushDestroy:function(a3){this._push(a3,"pushDestroy")},_push:function(a3,a4){var a5=this._readData(a3);if(!a5){a5=a3}this[a4](a5)},_flatData:function(a5,a4){if(a5){if(this._isServerGrouped()){return ap(a5)}if(!a4){for(var a3=0;a3<a5.length;a3++){a5.at(a3)}}}return a5},parent:aI,get:function(a6){var a3,a4,a5=this._flatData(this._data);for(a3=0,a4=a5.length;a3<a4;a3++){if(a5[a3].id==a6){return a5[a3]}}},getByUid:function(a6){var a3,a4,a5=this._flatData(this._data);if(!a5){return}for(a3=0,a4=a5.length;a3<a4;a3++){if(a5[a3].uid==a6){return a5[a3]}}},indexOf:function(a3){return aS(this._data,a3)},at:function(a3){return this._data.at(a3)},data:function(a5){var a4=this;if(a5!==y){a4._detachObservableParents();a4._data=this._observe(a5);a4._storeData();a4._ranges=[];a4.trigger("reset");a4._addRange(a4._data);a4._total=a4._data.length;a4._pristineTotal=a4._total;a4._process(a4._data)}else{if(a4._data){for(var a3=0;a3<a4._data.length;a3++){a4._data.at(a3)}}return a4._data}},view:function(a3){if(a3===y){return this._view}else{this._view=this._observeView(a3)}},_observeView:function(a5){var a4=this;s(a5,a4._data,a4._ranges,a4.reader.model||ak,a4._isServerGrouped());var a3=new ar(a5,a4.reader.model);a3.parent=function(){return a4.parent()};return a3},flatView:function(){var a3=this.group()||[];if(a3.length){return ap(this._view)}else{return this._view}},add:function(a3){return this.insert(this._data.length,a3)},_createNewModel:function(a3){if(this.reader.model){return new this.reader.model(a3)}if(a3 instanceof ak){return a3}return new ak(a3)},insert:function(a4,a3){if(!a3){a3=a4;a4=0}if(!(a3 instanceof G)){a3=this._createNewModel(a3)}if(this._isServerGrouped()){this._data.splice(a4,0,b(this.group(),a3))}else{this._data.splice(a4,0,a3)}return a3},pushCreate:function(a6){if(!c(a6)){a6=[a6]}var a9=[];var a5=this.options.autoSync;this.options.autoSync=false;try{for(var a4=0;a4<a6.length;a4++){var a7=a6[a4];var a3=this.add(a7);a9.push(a3);var a8=a3.toJSON();if(this._isServerGrouped()){a8=b(this.group(),a8)}this._pristineData.push(a8)}}finally{this.options.autoSync=a5}if(a9.length){this.trigger("push",{type:"create",items:a9})}},pushUpdate:function(a4){if(!c(a4)){a4=[a4]}var a8=[];for(var a3=0;a3<a4.length;a3++){var a6=a4[a3];var a5=this._createNewModel(a6);var a7=this.get(a5.id);if(a7){a8.push(a7);a7.accept(a6);a7.trigger(L);this._updatePristineForModel(a7,a6)}else{this.pushCreate(a6)}}if(a8.length){this.trigger("push",{type:"update",items:a8})}},pushDestroy:function(a3){var a4=this._removeItems(a3);if(a4.length){this.trigger("push",{type:"destroy",items:a4})}},_removeItems:function(a5){if(!c(a5)){a5=[a5]}var a8=[];var a4=this.options.autoSync;this.options.autoSync=false;try{for(var a3=0;a3<a5.length;a3++){var a7=a5[a3];var a6=this._createNewModel(a7);var a9=false;this._eachItem(this._data,function(bb){for(var ba=0;ba<bb.length;ba++){var bc=bb.at(ba);if(bc.id===a6.id){a8.push(bc);bb.splice(ba,1);a9=true;break}}});if(a9){this._removePristineForModel(a6);this._destroyed.pop()}}}finally{this.options.autoSync=a4}return a8},remove:function(a4){var a3,a6=this,a5=a6._isServerGrouped();this._eachItem(a6._data,function(a7){a3=N(a7,a4);if(a3&&a5){if(!a3.isNew||!a3.isNew()){a6._destroyed.push(a3)}return true}});this._removeModelFromRanges(a4);this._updateRangesLength();return a4},sync:function(){var a7=this,a9,a3,a4=[],a6=[],ba=a7._destroyed,a5=a7._flatData(a7._data);var bb=aK.Deferred().resolve().promise();if(a7.online()){if(!a7.reader.model){return bb}for(a9=0,a3=a5.length;a9<a3;a9++){if(a5[a9].isNew()){a4.push(a5[a9])}else{if(a5[a9].dirty){a6.push(a5[a9])}}}var a8=[];if(a7.options.batch&&a7.transport.submit){a8=a7._sendSubmit(a4,a6,ba)}else{a8.push.apply(a8,a7._send("create",a4));a8.push.apply(a8,a7._send("update",a6));a8.push.apply(a8,a7._send("destroy",ba))}bb=aK.when.apply(null,a8).then(function(){var bc,bd;for(bc=0,bd=arguments.length;bc<bd;bc++){a7._accept(arguments[bc])}a7._storeData(true);a7._change({action:"sync"});a7.trigger(R)})}else{a7._storeData(true);a7._change({action:"sync"})}return bb},cancelChanges:function(a3){var a4=this;if(a3 instanceof u.data.Model){a4._cancelModel(a3)}else{a4._destroyed=[];a4._detachObservableParents();a4._data=a4._observe(a4._pristineData);if(a4.options.serverPaging){a4._total=a4._pristineTotal}a4._ranges=[];a4._addRange(a4._data);a4._change()}},hasChanges:function(){var a3,a4,a5=this._data;if(this._destroyed.length){return true}for(a3=0,a4=a5.length;a3<a4;a3++){if((a5[a3].isNew&&a5[a3].isNew())||a5[a3].dirty){return true}}return false},_accept:function(bb){var a6=this,a3=bb.models,a5=bb.response,a8=0,ba=a6._isServerGrouped(),a9=a6._pristineData,a7=bb.type,a4;a6.trigger(af,{response:a5,type:a7});if(a5&&!aE(a5)){a5=a6.reader.parse(a5);if(a6._handleCustomErrors(a5)){return}a5=a6.reader.data(a5);if(!c(a5)){a5=[a5]}}else{a5=aK.map(a3,function(bc){return bc.toJSON()})}if(a7==="destroy"){a6._destroyed=[]}for(a8=0,a4=a3.length;a8<a4;a8++){if(a7!=="destroy"){a3[a8].accept(a5[a8]);if(a7==="create"){a9.push(ba?b(a6.group(),a3[a8]):a5[a8])}else{if(a7==="update"){a6._updatePristineForModel(a3[a8],a5[a8])}}}else{a6._removePristineForModel(a3[a8])}}},_updatePristineForModel:function(a4,a3){this._executeOnPristineForModel(a4,function(a6,a5){u.deepExtend(a5[a6],a3)})},_executeOnPristineForModel:function(a3,a4){this._eachPristineItem(function(a5){var a6=aQ(a5,a3);if(a6>-1){a4(a6,a5);return true}})},_removePristineForModel:function(a3){this._executeOnPristineForModel(a3,function(a5,a4){a4.splice(a5,1)})},_readData:function(a4){var a3=!this._isServerGrouped()?this.reader.data:this.reader.groups;return a3.call(this.reader,a4)},_eachPristineItem:function(a3){this._eachItem(this._pristineData,a3)},_eachItem:function(a3,a4){if(a3&&a3.length){if(this._isServerGrouped()){r(a3,a4)}else{a4(a3)}}},_pristineForModel:function(a4){var a5,a3,a6=function(a7){a3=aQ(a7,a4);if(a3>-1){a5=a7[a3];return true}};this._eachPristineItem(a6);return a5},_cancelModel:function(a3){var a4=this._pristineForModel(a3);this._eachItem(this._data,function(a6){var a5=aS(a6,a3);if(a5>=0){if(a4&&(!a3.isNew()||a4.__state__)){a6[a5].accept(a4)}else{a6.splice(a5,1)}}})},_submit:function(a3,a5){var a4=this;a4.trigger(aL,{type:"submit"});a4.transport.submit(au({success:function(a6,a7){var a8=aK.grep(a3,function(a9){return a9.type==a7})[0];if(a8){a8.resolve({response:a6,models:a8.models,type:a7})}},error:function(a8,a7,a9){for(var a6=0;a6<a3.length;a6++){a3[a6].reject(a8)}a4.error(a8,a7,a9)}},a5))},_sendSubmit:function(a7,a3,a6){var a5=this,a4=[];if(a5.options.batch){if(a7.length){a4.push(aK.Deferred(function(a8){a8.type="create";a8.models=a7}))}if(a3.length){a4.push(aK.Deferred(function(a8){a8.type="update";a8.models=a3}))}if(a6.length){a4.push(aK.Deferred(function(a8){a8.type="destroy";a8.models=a6}))}a5._submit(a4,{data:{created:a5.reader.serialize(E(a7)),updated:a5.reader.serialize(E(a3)),destroyed:a5.reader.serialize(E(a6))}})}return a4},_promise:function(a5,a6,a3){var a4=this;return aK.Deferred(function(a7){a4.trigger(aL,{type:a3});a4.transport[a3].call(a4.transport,au({success:function(a8){a7.resolve({response:a8,models:a6,type:a3})},error:function(a9,a8,ba){a7.reject(a9);a4.error(a9,a8,ba)}},a5))}).promise()},_send:function(a9,a7){var a6=this,a3,a5,a4=[],a8=a6.reader.serialize(E(a7));if(a6.options.batch){if(a7.length){a4.push(a6._promise({data:{models:a8}},a7,a9))}}else{for(a3=0,a5=a7.length;a3<a5;a3++){a4.push(a6._promise({data:a8[a3]},[a7[a3]],a9))}}return a4},read:function(a5){var a4=this,a6=a4._params(a5);var a3=aK.Deferred();a4._queueRequest(a6,function(){var a7=a4.trigger(aL,{type:"read"});if(!a7){a4.trigger(aG);a4._ranges=[];a4.trigger("reset");if(a4.online()){a4.transport.read({data:a6,success:function(a8){a4.success(a8);a3.resolve()},error:function(){var a8=B.call(arguments);a4.error.apply(a4,a8);a3.reject.apply(a3,a8)}})}else{if(a4.options.offlineStorage!=null){a4.success(a4.offlineData());a3.resolve()}}}else{a4._dequeueRequest();a3.resolve(a7)}});return a3.promise()},_readAggregates:function(a3){return this.reader.aggregates(a3)},success:function(a9){var a7=this,a5=a7.options;a7.trigger(af,{response:a9,type:"read"});if(a7.online()){a9=a7.reader.parse(a9);if(a7._handleCustomErrors(a9)){a7._dequeueRequest();return}a7._total=a7.reader.total(a9);if(a7._aggregate&&a5.serverAggregates){a7._aggregateResult=a7._readAggregates(a9)}a9=a7._readData(a9)}else{a9=a7._readData(a9);var a4=[];for(var a3=0;a3<a9.length;a3++){var a6=a9[a3];var a8=a6.__state__;if(a8=="destroy"){this._destroyed.push(this._createNewModel(a6))}else{a4.push(a6)}}a9=a4;a7._total=a9.length}a7._pristineTotal=a7._total;a7._pristineData=a9.slice(0);a7._detachObservableParents();a7._data=a7._observe(a9);if(a7.options.offlineStorage!=null){a7._eachItem(a7._data,function(bb){for(var ba=0;ba<bb.length;ba++){var bc=bb.at(ba);if(bc.__state__=="update"){bc.dirty=true}}})}a7._storeData();a7._addRange(a7._data);a7._process(a7._data);a7._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents){for(var a3=0;a3<this._data.length;a3++){if(this._data[a3].parent){this._data[a3].parent=aI}}}},_storeData:function(a7){var a6=this._isServerGrouped();var a5=this.reader.model;function a4(be){var bd=[];for(var ba=0;ba<be.length;ba++){var bb=be.at(ba);var bc=bb.toJSON();if(a6&&bb.items){bc.items=a4(bb.items)}else{bc.uid=bb.uid;if(a5){if(bb.isNew()){bc.__state__="create"}else{if(bb.dirty){bc.__state__="update"}}}}bd.push(bc)}return bd}if(this.options.offlineStorage!=null){var a9=a4(this._data);for(var a3=0;a3<this._destroyed.length;a3++){var a8=this._destroyed[a3].toJSON();a8.__state__="destroy";a9.push(a8)}this.offlineData(a9);if(a7){this._pristineData=a9}}},_addRange:function(a5){var a4=this,a6=a4._skip||0,a3=a6+a4._flatData(a5,true).length;a4._ranges.push({start:a6,end:a3,data:a5});a4._ranges.sort(function(a7,a8){return a7.start-a8.start})},error:function(a5,a3,a4){this._dequeueRequest();this.trigger(af,{});this.trigger(K,{xhr:a5,status:a3,errorThrown:a4})},_params:function(a5){var a4=this,a3=au({take:a4.take(),skip:a4.skip(),page:a4.page(),pageSize:a4.pageSize(),sort:a4._sort,filter:a4._filter,group:a4._group,aggregate:a4._aggregate},a5);if(!a4.options.serverPaging){delete a3.take;delete a3.skip;delete a3.page;delete a3.pageSize}if(!a4.options.serverGrouping){delete a3.group}else{if(a4.reader.model&&a3.group){a3.group=V(a3.group,a4.reader.model)}}if(!a4.options.serverFiltering){delete a3.filter}else{if(a4.reader.model&&a3.filter){a3.filter=I(a3.filter,a4.reader.model)}}if(!a4.options.serverSorting){delete a3.sort}else{if(a4.reader.model&&a3.sort){a3.sort=V(a3.sort,a4.reader.model)}}if(!a4.options.serverAggregates){delete a3.aggregate}else{if(a4.reader.model&&a3.aggregate){a3.aggregate=V(a3.aggregate,a4.reader.model)}}return a3},_queueRequest:function(a3,a5){var a4=this;if(!a4._requestInProgress){a4._requestInProgress=true;a4._pending=y;a5()}else{a4._pending={callback:C(a5,a4),options:a3}}},_dequeueRequest:function(){var a3=this;a3._requestInProgress=false;if(a3._pending){a3._queueRequest(a3._pending.options,a3._pending.callback)}},_handleCustomErrors:function(a3){if(this.reader.errors){var a4=this.reader.errors(a3);if(a4){this.trigger(K,{xhr:null,status:"customerror",errorThrown:"custom error",errors:a4});return true}}return false},_observe:function(a6){var a5=this,a3=a5.reader.model,a4=false;a5._shouldDetachObservableParents=true;if(a3&&a6.length){a4=!(a6[0] instanceof a3)}if(a6 instanceof an){a5._shouldDetachObservableParents=false;if(a4){a6.type=a5.reader.model;a6.wrapAll(a6,a6)}}else{var a7=a5.pageSize()&&!a5.options.serverPaging?ar:an;a6=new a7(a6,a5.reader.model);a6.parent=function(){return a5.parent()}}if(a5._isServerGrouped()){av(a6,a3)}if(a5._changeHandler&&a5._data&&a5._data instanceof an){a5._data.unbind(L,a5._changeHandler)}else{a5._changeHandler=C(a5._change,a5)}return a6.bind(L,a5._changeHandler)},_change:function(a8){var a6=this,a3,a5,a7=a8?a8.action:"";if(a7==="remove"){for(a3=0,a5=a8.items.length;a3<a5;a3++){if(!a8.items[a3].isNew||!a8.items[a3].isNew()){a6._destroyed.push(a8.items[a3])}}}if(a6.options.autoSync&&(a7==="add"||a7==="remove"||a7==="itemchange")){a6.sync()}else{var a4=parseInt(a6._total,10);if(!ab(a6._total)){a4=parseInt(a6._pristineTotal,10)}if(a7==="add"){a4+=a8.items.length}else{if(a7==="remove"){a4-=a8.items.length}else{if(a7!=="itemchange"&&a7!=="sync"&&!a6.options.serverPaging){a4=a6._pristineTotal}else{if(a7==="sync"){a4=a6._pristineTotal=parseInt(a6._total,10)}}}}a6._total=a4;a6._process(a6._data,a8)}},_calculateAggregates:function(a6,a3){a3=a3||{};var a5=new ag(a6),a7=a3.aggregate,a4=a3.filter;if(a4){a5=a5.filter(a4)}return a5.aggregate(a7)},_process:function(a6,a7){var a5=this,a4={},a3;if(a5.options.serverPaging!==true){a4.skip=a5._skip;a4.take=a5._take||a5._pageSize;if(a4.skip===y&&a5._page!==y&&a5._pageSize!==y){a4.skip=(a5._page-1)*a5._pageSize}}if(a5.options.serverSorting!==true){a4.sort=a5._sort}if(a5.options.serverFiltering!==true){a4.filter=a5._filter}if(a5.options.serverGrouping!==true){a4.group=a5._group}if(a5.options.serverAggregates!==true){a4.aggregate=a5._aggregate;a5._aggregateResult=a5._calculateAggregates(a6,a4)}a3=a5._queryProcess(a6,a4);a5.view(a3.data);if(a3.total!==y&&!a5.options.serverFiltering){a5._total=a3.total}a7=a7||{};a7.items=a7.items||a5._view;a5.trigger(L,a7)},_queryProcess:function(a4,a3){return ag.process(a4,a3)},_mergeState:function(a3){var a4=this;if(a3!==y){a4._pageSize=a3.pageSize;a4._page=a3.page;a4._sort=a3.sort;a4._filter=a3.filter;a4._group=a3.group;a4._aggregate=a3.aggregate;a4._skip=a3.skip;a4._take=a3.take;if(a4._skip===y){a4._skip=a4.skip();a3.skip=a4.skip()}if(a4._take===y&&a4._pageSize!==y){a4._take=a4._pageSize;a3.take=a4._take}if(a3.sort){a4._sort=a3.sort=S(a3.sort)}if(a3.filter){a4._filter=a3.filter=at(a3.filter)}if(a3.group){a4._group=a3.group=w(a3.group)}if(a3.aggregate){a4._aggregate=a3.aggregate=am(a3.aggregate)}}return a3},query:function(a5){var a4;var a6=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates;if(a6||((this._data===y||this._data.length===0)&&!this._destroyed.length)){return this.read(this._mergeState(a5))}var a3=this.trigger(aL,{type:"read"});if(!a3){this.trigger(aG);a4=this._queryProcess(this._data,this._mergeState(a5));if(!this.options.serverFiltering){if(a4.total!==y){this._total=a4.total}else{this._total=this._data.length}}this._aggregateResult=this._calculateAggregates(this._data,a5);this.view(a4.data);this.trigger(af,{type:"read"});this.trigger(L,{items:a4.data})}return aK.Deferred().resolve(a3).promise()},fetch:function(a5){var a4=this;var a3=function(a6){if(a6!==true&&aO(a5)){a5.call(a4)}};return this._query().then(a3)},_query:function(a3){var a4=this;return a4.query(au({},{page:a4.page(),pageSize:a4.pageSize(),sort:a4.sort(),filter:a4.filter(),group:a4.group(),aggregate:a4.aggregate()},a3))},next:function(a3){var a5=this,a6=a5.page(),a4=a5.total();a3=a3||{};if(!a6||(a4&&a6+1>a5.totalPages())){return}a5._skip=a6*a5.take();a6+=1;a3.page=a6;a5._query(a3);return a6},prev:function(a3){var a4=this,a5=a4.page();a3=a3||{};if(!a5||a5===1){return}a4._skip=a4._skip-a4.take();a5-=1;a3.page=a5;a4._query(a3);return a5},page:function(a5){var a4=this,a3;if(a5!==y){a5=ac.max(ac.min(ac.max(a5,1),a4.totalPages()),1);a4._query({page:a5});return}a3=a4.skip();return a3!==y?ac.round((a3||0)/(a4.take()||1))+1:y},pageSize:function(a4){var a3=this;if(a4!==y){a3._query({pageSize:a4,page:1});return}return a3.take()},sort:function(a4){var a3=this;if(a4!==y){a3._query({sort:a4});return}return a3._sort},filter:function(a4){var a3=this;if(a4===y){return a3._filter}a3._query({filter:a4,page:1});a3.trigger("reset")},group:function(a4){var a3=this;if(a4!==y){a3._query({group:a4});return}return a3._group},total:function(){return parseInt(this._total||0,10)},aggregate:function(a4){var a3=this;if(a4!==y){a3._query({aggregate:a4});return}return a3._aggregate},aggregates:function(){var a3=this._aggregateResult;if(aE(a3)){a3=this._emptyAggregates(this.aggregate())}return a3},_emptyAggregates:function(a6){var a4={};if(!aE(a6)){var a5={};if(!c(a6)){a6=[a6]}for(var a3=0;a3<a6.length;a3++){a5[a6[a3].aggregate]=0;a4[a6[a3].field]=a5}}return a4},totalPages:function(){var a4=this,a3=a4.pageSize()||a4.total();return ac.ceil((a4.total()||0)/a3)},inRange:function(a6,a4){var a5=this,a3=ac.min(a6+a4,a5.total());if(!a5.options.serverPaging&&a5._data.length>0){return true}return a5._findRange(a6,a3).length>0},lastRange:function(){var a3=this._ranges;return a3[a3.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var a3=this._ranges;return a3.length&&a3[0].data.length&&a3[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=false},range:function(ba,a4){ba=ac.min(ba||0,this.total());var a8=this,a9=ac.max(ac.floor(ba/a4),0)*a4,bc=ac.min(a9+a4,a8.total()),a5;a8._skipRequestsInProgress=false;a5=a8._findRange(ba,ac.min(ba+a4,a8.total()));if(a5.length){a8._skipRequestsInProgress=true;a8._pending=y;a8._skip=ba>a8.skip()?ac.min(bc,(a8.totalPages()-1)*a8.take()):a9;a8._take=a4;var a3=a8.options.serverPaging;var a6=a8.options.serverSorting;var bb=a8.options.serverFiltering;var a7=a8.options.serverAggregates;try{a8.options.serverPaging=true;if(!a8._isServerGrouped()&&!(a8.group()&&a8.group().length)){a8.options.serverSorting=true}a8.options.serverFiltering=true;a8.options.serverPaging=true;a8.options.serverAggregates=true;if(a3){a8._detachObservableParents();a8._data=a5=a8._observe(a5)}a8._process(a5)}finally{a8.options.serverPaging=a3;a8.options.serverSorting=a6;a8.options.serverFiltering=bb;a8.options.serverAggregates=a7}return}if(a4!==y){if(!a8._rangeExists(a9,bc)){a8.prefetch(a9,a4,function(){if(ba>a9&&bc<a8.total()&&!a8._rangeExists(bc,ac.min(bc+a4,a8.total()))){a8.prefetch(bc,a4,function(){a8.range(ba,a4)})}else{a8.range(ba,a4)}})}else{if(a9<ba){a8.prefetch(bc,a4,function(){a8.range(ba,a4)})}}}},_findRange:function(bb,a9){var bf=this,a6=bf._ranges,bh,bl=[],bg,bc,ba,a5,bj,bi,a3,a8=bf.options,bd=a8.serverSorting||a8.serverPaging||a8.serverFiltering||a8.serverGrouping||a8.serverAggregates,a4,be,a7;for(bg=0,a7=a6.length;bg<a7;bg++){bh=a6[bg];if(bb>=bh.start&&bb<=bh.end){be=0;for(bc=bg;bc<a7;bc++){bh=a6[bc];a4=bf._flatData(bh.data,true);if(a4.length&&bb+be>=bh.start){bj=bh.data;bi=bh.end;if(!bd){var bk=w(bf.group()||[]).concat(S(bf.sort()||[]));a3=bf._queryProcess(bh.data,{sort:bk,filter:bf.filter()});a4=bj=a3.data;if(a3.total!==y){bi=a3.total}}ba=0;if(bb+be>bh.start){ba=(bb+be)-bh.start}a5=a4.length;if(bi>a9){a5=a5-(bi-a9)}be+=a5-ba;bl=bf._mergeGroups(bl,bj,ba,a5);if(a9<=bh.end&&be==a9-bb){return bl}}}break}}return[]},_mergeGroups:function(a7,a4,a6,a5){if(this._isServerGrouped()){var a3=a4.toJSON(),a8;if(a7.length){a8=a7[a7.length-1]}e(a8,a3,a6,a5);return a7.concat(a3)}return a7.concat(a4.slice(a6,a5))},skip:function(){var a3=this;if(a3._skip===y){return(a3._page!==y?(a3._page-1)*(a3.take()||1):y)}return a3._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(a5,a3,a7,a6){var a4=this;return function(bd){var bc=false,ba={start:a5,end:a3,data:[]},a8,bb,a9;a4._dequeueRequest();a4.trigger(af,{response:bd,type:"read"});bd=a4.reader.parse(bd);a9=a4._readData(bd);if(a9.length){for(a8=0,bb=a4._ranges.length;a8<bb;a8++){if(a4._ranges[a8].start===a5){bc=true;ba=a4._ranges[a8];break}}if(!bc){a4._ranges.push(ba)}}ba.data=a4._observe(a9);ba.end=ba.start+a4._flatData(ba.data,true).length;a4._ranges.sort(function(be,bf){return be.start-bf.start});a4._total=a4.reader.total(bd);if(a6||!a4._skipRequestsInProgress){if(a7&&a9.length){a7()}else{a4.trigger(L,{})}}}},prefetch:function(a7,a4,a8){var a6=this,a5=ac.min(a7+a4,a6.total()),a3={take:a4,skip:a7,page:a7/a4+1,pageSize:a4,sort:a6._sort,filter:a6._filter,group:a6._group,aggregate:a6._aggregate};if(!a6._rangeExists(a7,a5)){clearTimeout(a6._timeout);a6._timeout=setTimeout(function(){a6._queueRequest(a3,function(){if(!a6.trigger(aL,{type:"read"})){a6.transport.read({data:a6._params(a3),success:a6._prefetchSuccessHandler(a7,a5,a8),error:function(){var a9=B.call(arguments);a6.error.apply(a6,a9)}})}else{a6._dequeueRequest()}})},100)}else{if(a8){a8()}}},_multiplePrefetch:function(a7,a4,a8){var a6=this,a5=ac.min(a7+a4,a6.total()),a3={take:a4,skip:a7,page:a7/a4+1,pageSize:a4,sort:a6._sort,filter:a6._filter,group:a6._group,aggregate:a6._aggregate};if(!a6._rangeExists(a7,a5)){if(!a6.trigger(aL,{type:"read"})){a6.transport.read({data:a6._params(a3),success:a6._prefetchSuccessHandler(a7,a5,a8,true)})}}else{if(a8){a8()}}},_rangeExists:function(a8,a5){var a7=this,a4=a7._ranges,a3,a6;for(a3=0,a6=a4.length;a3<a6;a3++){if(a4[a3].start<=a8&&a4[a3].end>=a5){return true}}return false},_removeModelFromRanges:function(a6){var a4,a8,a5;for(var a3=0,a7=this._ranges.length;a3<a7;a3++){a5=this._ranges[a3];this._eachItem(a5.data,function(a9){a4=N(a9,a6);if(a4){a8=true}});if(a8){break}}},_updateRangesLength:function(){var a4=0,a5,a7;for(var a3=0,a6=this._ranges.length;a3<a6;a3++){a5=this._ranges[a3];a5.start=a5.start-a4;a7=this._flatData(a5.data,true).length;a4=a5.end-a7;a5.end=a5.start+a7}}});var i={};i.create=function(a3,a5){var a6,a4=a3.transport;if(a4){a4.read=typeof a4.read===aW?{url:a4.read}:a4.read;if(a3.type){u.data.transports=u.data.transports||{};u.data.schemas=u.data.schemas||{};if(u.data.transports[a3.type]&&!J(u.data.transports[a3.type])){a6=new u.data.transports[a3.type](au(a4,{data:a5}))}else{a4=au(true,{},u.data.transports[a3.type],a4)}a3.schema=au(true,{},u.data.schemas[a3.type],a3.schema)}if(!a6){a6=aO(a4.read)?a4:new a1(a4)}}else{a6=new aq({data:a3.data||[]})}return a6};t.create=function(bc){if(c(bc)||bc instanceof an){bc={data:bc}}var a3=bc||{},a5=a3.data,a7=a3.fields,bb=a3.table,a9=a3.select,ba,a4,a6={},a8;if(!a5&&a7&&!a3.transport){if(bb){a5=h(bb,a7)}else{if(a9){a5=n(a9,a7)}}}if(u.data.Model&&a7&&(!a3.schema||!a3.schema.model)){for(ba=0,a4=a7.length;ba<a4;ba++){a8=a7[ba];if(a8.type){a6[a8.field]=a8}}if(!aE(a6)){a3.schema=au(true,a3.schema,{model:{fields:a6}})}}a3.data=a5;bb=null;a3.table=null;return a3 instanceof t?a3:new t(a3)};function n(ba,a9){var bd=aK(ba)[0].children,bc,a3,a6=[],a8,a5=a9[0],a4=a9[1],bb,a7;for(bc=0,a3=bd.length;bc<a3;bc++){a8={};a7=bd[bc];if(a7.disabled){continue}a8[a5.field]=a7.text;bb=a7.attributes.value;if(bb&&bb.specified){bb=a7.value}else{bb=a7.text}a8[a4.field]=bb;a6.push(a8)}return a6}function h(be,a8){var a5=aK(be)[0].tBodies[0],bf=a5?a5.rows:[],a9,a3,bc,bb=a8.length,a4=[],bd,a6,ba,a7;for(a9=0,a3=bf.length;a9<a3;a9++){a6={};a7=true;bd=bf[a9].cells;for(bc=0;bc<bb;bc++){ba=bd[bc];if(ba.nodeName.toLowerCase()!=="th"){a7=false;a6[a8[bc].field]=ba.innerHTML}}if(!a7){a4.push(a6)}}return a4}var aJ=G.define({idField:"id",init:function(a7){var a6=this,a3=a6.hasChildren||a7&&a7.hasChildren,a5="items",a4={};u.data.Model.fn.init.call(a6,a7);if(typeof a6.children===aW){a5=a6.children}a4={schema:{data:a5,model:{hasChildren:a3,id:a6.idField,fields:a6.fields}}};if(typeof a6.children!==aW){au(a4,a6.children)}a4.data=a7;if(!a3){a3=a4.schema.data}if(typeof a3===aW){a3=u.getter(a3)}if(aO(a3)){a6.hasChildren=!!a3.call(a6,a6)}a6._childrenOptions=a4;if(a6.hasChildren){a6._initChildren()}a6._loaded=!!(a7&&(a7[a5]||a7._loaded))},_initChildren:function(){var a5=this;var a4,a6,a3;if(!(a5.children instanceof ae)){a4=a5.children=new ae(a5._childrenOptions);a6=a4.transport;a3=a6.parameterMap;a6.parameterMap=function(a8,a7){a8[a5.idField||"id"]=a5.id;if(a3){a8=a3(a8,a7)}return a8};a4.parent=function(){return a5};a4.bind(L,function(a7){a7.node=a7.node||a5;a5.trigger(L,a7)});a4.bind(K,function(a7){var a8=a5.parent();if(a8){a7.node=a7.node||a5;a8.trigger(K,a7)}});a5._updateChildrenField()}},append:function(a3){this._initChildren();this.loaded(true);this.children.add(a3)},hasChildren:false,level:function(){var a3=this.parentNode(),a4=0;while(a3&&a3.parentNode){a4++;a3=a3.parentNode?a3.parentNode():null}return a4},_updateChildrenField:function(){var a3=this._childrenOptions.schema.data;this[a3||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=true;this._updateChildrenField()},load:function(){var a3={};var a6="_query";var a4,a5;if(this.hasChildren){this._initChildren();a4=this.children;a3[this.idField||"id"]=this.id;if(!this._loaded){a4._data=y;a6="read"}a4.one(L,C(this._childrenLoaded,this));a5=a4[a6](a3)}else{this.loaded(true)}return a5||aK.Deferred().resolve().promise()},parentNode:function(){var a3=this.parent();return a3.parent()},loaded:function(a3){if(a3!==y){this._loaded=a3}else{return this._loaded}},shouldSerialize:function(a3){return G.fn.shouldSerialize.call(this,a3)&&a3!=="children"&&a3!=="_loaded"&&a3!=="hasChildren"&&a3!=="_childrenOptions"}});function X(a3){return function(){var a5=this._data,a4=t.fn[a3].apply(this,B.call(arguments));if(this._data!=a5){this._attachBubbleHandlers()}return a4}}var ae=t.extend({init:function(a3){var a4=aJ.define({children:a3});t.fn.init.call(this,au(true,{},{schema:{modelBase:a4,model:a4}},a3));this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var a3=this;a3._data.bind(K,function(a4){a3.trigger(K,a4)})},remove:function(a5){var a4=a5.parentNode(),a6=this,a3;if(a4&&a4._initChildren){a6=a4.children}a3=t.fn.remove.call(a6,a5);if(a4&&!a6.data().length){a4.hasChildren=false}return a3},success:X("success"),data:X("data"),insert:function(a5,a4){var a3=this.parent();if(a3&&a3._initChildren){a3.hasChildren=true;a3._initChildren()}return t.fn.insert.call(this,a5,a4)},_find:function(a9,a8){var a3,a6,a5,a7,a4;a5=t.fn[a9].call(this,a8);if(a5){return a5}a7=this._flatData(this._data);if(!a7){return}for(a3=0,a6=a7.length;a3<a6;a3++){a4=a7[a3].children;if(!(a4 instanceof ae)){continue}a5=a4[a9](a8);if(a5){return a5}}},get:function(a3){return this._find("get",a3)},getByUid:function(a3){return this._find("getByUid",a3)}});function d(bc,bb){var bf=aK(bc).children(),bh,a6,a8=[],a9,a7=bb[0].field,ba=bb[1]&&bb[1].field,be=bb[2]&&bb[2].field,bj=bb[3]&&bb[3].field,bi,a4,bg,bd,a5;function a3(bl,bk){return bl.filter(bk).add(bl.find(bk))}for(bh=0,a6=bf.length;bh<a6;bh++){a9={_loaded:true};bi=bf.eq(bh);bg=bi[0].firstChild;a5=bi.children();bc=a5.filter("ul");a5=a5.filter(":not(ul)");a4=bi.attr("data-id");if(a4){a9.id=a4}if(bg){a9[a7]=bg.nodeType==3?bg.nodeValue:a5.text()}if(ba){a9[ba]=a3(a5,"a").attr("href")}if(bj){a9[bj]=a3(a5,"img").attr("src")}if(be){bd=a3(a5,".k-sprite").prop("className");a9[be]=bd&&aK.trim(bd.replace("k-sprite",""))}if(bc.length){a9.items=d(bc.eq(0),bb)}if(bi.attr("data-hasChildren")=="true"){a9.hasChildren=true}a8.push(a9)}return a8}ae.create=function(a4){a4=a4&&a4.push?{data:a4}:a4;var a7=a4||{},a6=a7.data,a3=a7.fields,a5=a7.list;if(a6&&a6._dataSource){return a6._dataSource}if(!a6&&a3&&!a7.transport){if(a5){a6=d(a5,a3)}}a7.data=a6;return a7 instanceof ae?a7:new ae(a7)};var aH=u.Observable.extend({init:function(a5,a6,a4){u.Observable.fn.init.call(this);this._prefetching=false;this.dataSource=a5;this.prefetch=!a4;var a3=this;a5.bind("change",function(){a3._change()});a5.bind("reset",function(){a3._reset()});this._syncWithDataSource();this.setViewSize(a6)},setViewSize:function(a3){this.viewSize=a3;this._recalculate()},at:function(a5){var a4=this.pageSize,a6,a3=true,a7;if(a5>=this.total()){this.trigger("endreached",{index:a5});return null}if(!this.useRanges){return this.dataSource.view()[a5]}if(this.useRanges){if(a5<this.dataOffset||a5>=this.skip+a4){a3=this.range(Math.floor(a5/a4)*a4)}if(a5===this.prefetchThreshold){this._prefetch()}if(a5===this.midPageThreshold){this.range(this.nextMidRange,true)}else{if(a5===this.nextPageThreshold){this.range(this.nextFullRange)}else{if(a5===this.pullBackThreshold){if(this.offset===this.skip){this.range(this.previousMidRange)}else{this.range(this.previousFullRange)}}}}if(a3){return this.dataSource.at(a5-this.dataOffset)}else{this.trigger("endreached",{index:a5});return null}}},indexOf:function(a3){return this.dataSource.data().indexOf(a3)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var a4=this,a3=a4.pageSize,a6=a4.skip-a4.viewSize+a3,a5=ac.max(ac.floor(a6/a3),0)*a3;this.offset=a6;this.dataSource.prefetch(a5,a3,function(){a4._goToRange(a6,true)})},range:function(a7,a8){if(this.offset===a7){return true}var a4=this,a3=this.pageSize,a5=ac.max(ac.floor(a7/a3),0)*a3,a6=this.dataSource;if(a8){a5+=a3}if(a6.inRange(a7,a3)){this.offset=a7;this._recalculate();this._goToRange(a7);return true}else{if(this.prefetch){a6.prefetch(a5,a3,function(){a4.offset=a7;a4._recalculate();a4._goToRange(a7,true)});return false}}return true},syncDataSource:function(){var a3=this.offset;this.offset=null;this.range(a3)},destroy:function(){this.unbind()},_prefetch:function(){var a4=this,a3=this.pageSize,a6=this.skip+a3,a5=this.dataSource;if(!a5.inRange(a6,a3)&&!this._prefetching&&this.prefetch){this._prefetching=true;this.trigger("prefetching",{skip:a6,take:a3});a5.prefetch(a6,a3,function(){a4._prefetching=false;a4.trigger("prefetched",{skip:a6,take:a3})})}},_goToRange:function(a3,a4){if(this.offset!==a3){return}this.dataOffset=a3;this._expanding=a4;this.dataSource.range(a3,this.pageSize);this.dataSource.enableRequestsInProgress()},_reset:function(){this._syncPending=true},_change:function(){var a3=this.dataSource;this.length=this.useRanges?a3.lastRange().end:a3.view().length;if(this._syncPending){this._syncWithDataSource();this._recalculate();this._syncPending=false;this.trigger("reset",{offset:this.offset})}this.trigger("resize");if(this._expanding){this.trigger("expand")}delete this._expanding},_syncWithDataSource:function(){var a3=this.dataSource;this._firstItemUid=a3.firstItemUid();this.dataOffset=this.offset=a3.skip()||0;this.pageSize=a3.pageSize();this.useRanges=a3.options.serverPaging},_recalculate:function(){var a3=this.pageSize,a5=this.offset,a6=this.viewSize,a4=Math.ceil(a5/a3)*a3;this.skip=a4;this.midPageThreshold=a4+a3-1;this.nextPageThreshold=a4+a6-1;this.prefetchThreshold=a4+Math.floor(a3/3*2);this.pullBackThreshold=this.offset-1;this.nextMidRange=a4+a3-a6;this.nextFullRange=a4;this.previousMidRange=a5-a6;this.previousFullRange=a4-a3}});var m=u.Observable.extend({init:function(a5,a3){var a4=this;u.Observable.fn.init.call(a4);this.dataSource=a5;this.batchSize=a3;this._total=0;this.buffer=new aH(a5,a3*3);this.buffer.bind({endreached:function(a6){a4.trigger("endreached",{index:a6.index})},prefetching:function(a6){a4.trigger("prefetching",{skip:a6.skip,take:a6.take})},prefetched:function(a6){a4.trigger("prefetched",{skip:a6.skip,take:a6.take})},reset:function(){a4._total=0;a4.trigger("reset")},resize:function(){a4._total=Math.ceil(this.length/a4.batchSize);a4.trigger("resize",{total:a4.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(a6){var a4=this.buffer,a9=a6*this.batchSize,a5=this.batchSize,a3=[],a8;if(a4.offset>a9){a4.at(a4.offset-1)}for(var a7=0;a7<a5;a7++){a8=a4.at(a9+a7);if(a8===null){break}a3.push(a8)}return a3},total:function(){return this._total},destroy:function(){this.buffer.destroy();this.unbind()}});au(true,u.data,{readers:{json:Z},Query:ag,DataSource:t,HierarchicalDataSource:ae,Node:aJ,ObservableObject:ak,ObservableArray:an,LazyObservableArray:ar,LocalTransport:aq,RemoteTransport:a1,Cache:W,DataReader:Z,Model:G,Buffer:aH,BatchBuffer:m})})(window.kendo.jQuery);(function(B,p){var C=window.kendo,g=C.support.browser,i=C.Observable,r=C.data.ObservableObject,u=C.data.ObservableArray,j={}.toString,o={},s=Array.prototype.slice,c=C.Class,M=B.proxy,N="value",d="source",e="events",b="checked",D=true,A="change";(function(){var O=document.createElement("a");try{delete O.test}catch(P){D=false}})();var l=i.extend({init:function(O,Q){var P=this;i.fn.init.call(P);P.source=O[0];P.parents=O;P.path=Q;P.dependencies={};P.dependencies[Q]=true;P.observable=P.source instanceof i;P._access=function(R){P.dependencies[R.field]=true};if(P.observable){P._change=function(R){P.change(R)};P.source.bind(A,P._change)}},_parents:function(){var O=this.parents;var Q=this.get();if(Q&&typeof Q.parent=="function"){var P=Q.parent();if(B.inArray(P,O)<0){O=[P].concat(O)}}return O},change:function(S){var O,P,R=S.field,Q=this;if(Q.path==="this"){Q.trigger(A,S)}else{for(O in Q.dependencies){if(O.indexOf(R)===0){P=O.charAt(R.length);if(!P||P==="."||P==="["){Q.trigger(A,S);break}}}}},start:function(O){O.bind("get",this._access)},stop:function(O){O.unbind("get",this._access)},get:function(){var Q=this,R=Q.source,P=0,S=Q.path,O=R;if(!Q.observable){return O}Q.start(Q.source);O=R.get(S);while(O===p&&R){R=Q.parents[++P];if(R instanceof r){O=R.get(S)}}if(O===p){R=Q.source;while(O===p&&R){R=R.parent();if(R instanceof r){O=R.get(S)}}}if(typeof O==="function"){P=S.lastIndexOf(".");if(P>0){R=R.get(S.substring(0,P))}Q.start(R);if(R!==Q.source){O=O.call(R,Q.source)}else{O=O.call(R)}Q.stop(R)}if(R&&R!==Q.source){Q.currentSource=R;R.unbind(A,Q._change).bind(A,Q._change)}Q.stop(Q.source);return O},set:function(P){var O=this.currentSource||this.source;var Q=C.getter(this.path)(O);if(typeof Q==="function"){if(O!==this.source){Q.call(O,this.source,P)}else{Q.call(O,P)}}else{O.set(this.path,P)}},destroy:function(){if(this.observable){this.source.unbind(A,this._change);if(this.currentSource){this.currentSource.unbind(A,this._change)}}this.unbind()}});var J=l.extend({get:function(){var Q=this.source,R=this.path,O=0,P;P=Q.get(R);while(!P&&Q){Q=this.parents[++O];if(Q instanceof r){P=Q.get(R)}}return M(P,Q)}});var z=l.extend({init:function(Q,R,O){var P=this;l.fn.init.call(P,Q,R);P.template=O},render:function(P){var O;this.start(this.source);O=C.render(this.template,P);this.stop(this.source);return O}});var F=c.extend({init:function(P,Q,O){this.element=P;this.bindings=Q;this.options=O},bind:function(Q,P){var O=this;Q=P?Q[P]:Q;Q.bind(A,function(R){O.refresh(P||R)});O.refresh(P)},destroy:function(){}});var w=F.extend({dataType:function(){var O=this.element.getAttribute("data-type")||this.element.type||"text";return O.toLowerCase()},parsedValue:function(){return this._parseValue(this.element.value,this.dataType())},_parseValue:function(P,O){if(O=="date"){P=C.parseDate(P,"yyyy-MM-dd")}else{if(O=="datetime-local"){P=C.parseDate(P,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"])}else{if(O=="number"){P=C.parseFloat(P)}else{if(O=="boolean"){P=P.toLowerCase();if(C.parseFloat(P)!==null){P=Boolean(C.parseFloat(P))}else{P=(P.toLowerCase()==="true")}}}}}return P}});o.attr=F.extend({refresh:function(O){this.element.setAttribute(O,this.bindings.attr[O].get())}});o.style=F.extend({refresh:function(O){this.element.style[O]=this.bindings.style[O].get()||""}});o.enabled=F.extend({refresh:function(){if(this.bindings.enabled.get()){this.element.removeAttribute("disabled")}else{this.element.setAttribute("disabled","disabled")}}});o.readonly=F.extend({refresh:function(){if(this.bindings.readonly.get()){this.element.setAttribute("readonly","readonly")}else{this.element.removeAttribute("readonly")}}});o.disabled=F.extend({refresh:function(){if(this.bindings.disabled.get()){this.element.setAttribute("disabled","disabled")}else{this.element.removeAttribute("disabled")}}});o.events=F.extend({init:function(P,Q,O){F.fn.init.call(this,P,Q,O);this.handlers={}},refresh:function(P){var O=B(this.element),R=this.bindings.events[P],Q=this.handlers[P];if(Q){O.off(P,Q)}Q=this.handlers[P]=R.get();O.on(P,R.source,Q)},destroy:function(){var O=B(this.element),P;for(P in this.handlers){O.off(P,this.handlers[P])}}});o.text=F.extend({refresh:function(){var O=this.bindings.text.get();if(O==null){O=""}B(this.element).text(O)}});o.visible=F.extend({refresh:function(){if(this.bindings.visible.get()){this.element.style.display=""}else{this.element.style.display="none"}}});o.invisible=F.extend({refresh:function(){if(!this.bindings.invisible.get()){this.element.style.display=""}else{this.element.style.display="none"}}});o.html=F.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}});o.value=w.extend({init:function(P,Q,O){w.fn.init.call(this,P,Q,O);this._change=M(this.change,this);this.eventName=O.valueUpdate||A;B(this.element).on(this.eventName,this._change);this._initChange=false},change:function(){this._initChange=this.eventName!=A;this.bindings[N].set(this.parsedValue());this._initChange=false},refresh:function(){if(!this._initChange){var P=this.bindings[N].get();if(P==null){P=""}var O=this.dataType();if(O=="date"){P=C.toString(P,"yyyy-MM-dd")}else{if(O=="datetime-local"){P=C.toString(P,"yyyy-MM-ddTHH:mm:ss")}}this.element.value=P}this._initChange=false},destroy:function(){B(this.element).off(this.eventName,this._change)}});o.source=F.extend({init:function(P,R,O){F.fn.init.call(this,P,R,O);var Q=this.bindings.source.get();if(Q instanceof C.data.DataSource&&O.autoBind!==false){Q.fetch()}},refresh:function(Q){var O=this,P=O.bindings.source.get();if(P instanceof u||P instanceof C.data.DataSource){Q=Q||{};if(Q.action=="add"){O.add(Q.index,Q.items)}else{if(Q.action=="remove"){O.remove(Q.index,Q.items)}else{if(Q.action=="itemchange"||Q.action===p){O.render()}}}}else{O.render()}},container:function(){var O=this.element;if(O.nodeName.toLowerCase()=="table"){if(!O.tBodies[0]){O.appendChild(document.createElement("tbody"))}O=O.tBodies[0]}return O},template:function(){var O=this.options,P=O.template,Q=this.container().nodeName.toLowerCase();if(!P){if(Q=="select"){if(O.valueField||O.textField){P=C.format('<option value="#:{0}#">#:{1}#</option>',O.valueField||O.textField,O.textField||O.valueField)}else{P="<option>#:data#</option>"}}else{if(Q=="tbody"){P="<tr><td>#:data#</td></tr>"}else{if(Q=="ul"||Q=="ol"){P="<li>#:data#</li>"}else{P="#:data#"}}}P=C.template(P)}return P},add:function(S,T){var R=this.container(),V,W,P,O,U=R.cloneNode(false),Q=R.children[S];B(U).html(C.render(this.template(),T));if(U.children.length){V=this.bindings.source._parents();for(W=0,P=T.length;W<P;W++){O=U.children[0];R.insertBefore(O,Q||null);x(O,T[W],this.options.roles,[T[W]].concat(V))}}},remove:function(Q,P){var O,R=this.container();for(O=0;O<P.length;O++){var S=R.children[Q];f(S);R.removeChild(S)}},render:function(){var T=this.bindings.source.get(),P,O,S,Q=this.container(),R=this.template();if(T instanceof C.data.DataSource){T=T.view()}if(!(T instanceof u)&&j.call(T)!=="[object Array]"){T=[T]}if(this.bindings.template){n(Q);B(Q).html(this.bindings.template.render(T));if(Q.children.length){P=this.bindings.source._parents();for(O=0,S=T.length;O<S;O++){x(Q.children[O],T[O],this.options.roles,[T[O]].concat(P))}}}else{B(Q).html(C.render(R,T))}}});o.input={checked:w.extend({init:function(P,Q,O){w.fn.init.call(this,P,Q,O);this._change=M(this.change,this);B(this.element).change(this._change)},change:function(){var Q=this.element;var S=this.value();if(Q.type=="radio"){S=this.parsedValue();this.bindings[b].set(S)}else{if(Q.type=="checkbox"){var R=this.bindings[b].get();var O;if(R instanceof u){S=this.parsedValue();if(S instanceof Date){for(var P=0;P<R.length;P++){if(R[P] instanceof Date&&+R[P]===+S){O=P;break}}}else{O=R.indexOf(S)}if(O>-1){R.splice(O,1)}else{R.push(S)}}else{this.bindings[b].set(S)}}}},refresh:function(){var T=this.bindings[b].get(),S=T,R=this.dataType(),Q=this.element;if(Q.type=="checkbox"){if(S instanceof u){var O=-1;T=this.parsedValue();if(T instanceof Date){for(var P=0;P<S.length;P++){if(S[P] instanceof Date&&+S[P]===+T){O=P;break}}}else{O=S.indexOf(T)}Q.checked=(O>=0)}else{Q.checked=S}}else{if(Q.type=="radio"&&T!=null){if(R=="date"){T=C.toString(T,"yyyy-MM-dd")}else{if(R=="datetime-local"){T=C.toString(T,"yyyy-MM-ddTHH:mm:ss")}}if(Q.value===T.toString()){Q.checked=true}}}},value:function(){var O=this.element,P=O.value;if(O.type=="checkbox"){P=O.checked}return P},destroy:function(){B(this.element).off(A,this._change)}})};o.select={source:o.source.extend({refresh:function(Q){var O=this,P=O.bindings.source.get();if(P instanceof u||P instanceof C.data.DataSource){Q=Q||{};if(Q.action=="add"){O.add(Q.index,Q.items)}else{if(Q.action=="remove"){O.remove(Q.index,Q.items)}else{if(Q.action=="itemchange"||Q.action===p){O.render();if(O.bindings.value){O.bindings.value.source.trigger("change",{field:O.bindings.value.path})}}}}}else{O.render()}}}),value:w.extend({init:function(P,Q,O){w.fn.init.call(this,P,Q,O);this._change=M(this.change,this);B(this.element).change(this._change)},parsedValue:function(){var Q=this.dataType();var P=[];var T,R,O,S;for(O=0,S=this.element.options.length;O<S;O++){R=this.element.options[O];if(R.selected){T=R.attributes.value;if(T&&T.specified){T=R.value}else{T=R.text}P.push(this._parseValue(T,Q))}}return P},change:function(){var Y=[],R=this.element,O,V=this.options.valueField||this.options.textField,P=this.options.valuePrimitive,T,U,X,W,Q;Y=this.parsedValue();if(V){O=this.bindings.source.get();if(O instanceof C.data.DataSource){O=O.view()}for(U=0;U<Y.length;U++){for(W=0,Q=O.length;W<Q;W++){var S=P?(this._parseValue(Y[U],this.dataType())===O[W].get(V)):(this._parseValue(O[W].get(V),this.dataType()).toString()===Y[U]);if(S){Y[U]=O[W];break}}}}X=this.bindings[N].get();if(X instanceof u){X.splice.apply(X,[0,X.length].concat(Y))}else{if(!P&&(X instanceof r||X===null||X===p||!V)){this.bindings[N].set(Y[0])}else{this.bindings[N].set(Y[0].get(V))}}},refresh:function(){var Q,P=this.element,Y=P.options,O=this.options.valuePrimitive,V=this.bindings[N].get(),W=V,U=this.options.valueField||this.options.textField,X=false,R=this.dataType(),T;if(!(W instanceof u)){W=new u([V])}P.selectedIndex=-1;for(var S=0;S<W.length;S++){V=W[S];if(U&&V instanceof r){V=V.get(U)}if(R=="date"){V=C.toString(W[S],"yyyy-MM-dd")}else{if(R=="datetime-local"){V=C.toString(W[S],"yyyy-MM-ddTHH:mm:ss")}}for(Q=0;Q<Y.length;Q++){T=Y[Q].value;if(T===""&&V!==""){T=Y[Q].text}if(V!=null&&T==V.toString()){Y[Q].selected=true;X=true}}}},destroy:function(){B(this.element).off(A,this._change)}})};function G(O,Q,P){return F.extend({init:function(T,U,R){var S=this;F.fn.init.call(S,T.element[0],U,R);S.widget=T;S._dataBinding=M(S.dataBinding,S);S._dataBound=M(S.dataBound,S);S._itemChange=M(S.itemChange,S)},itemChange:function(R){x(R.item[0],R.data,this._ns(R.ns),[R.data].concat(this.bindings[O]._parents()))},dataBinding:function(V){var R,T,U=this.widget,S=V.removedItems||U.items();for(R=0,T=S.length;R<T;R++){f(S[R])}},_ns:function(S){S=S||C.ui;var R=[C.ui,C.dataviz.ui,C.mobile.ui];R.splice(B.inArray(S,R),1);R.unshift(S);return C.rolesFromNamespaces(R)},dataBound:function(V){var aa,S,U=this.widget,W=V.addedItems||U.items(),R=U[Q],X,Y,T=R.group()||[],Z=C.data.HierarchicalDataSource;if(Z&&R instanceof Z){return}if(W.length){X=V.addedDataItems||R.flatView();Y=this.bindings[O]._parents();for(aa=0,S=X.length;aa<S;aa++){x(W[aa],X[aa],this._ns(V.ns),[X[aa]].concat(Y))}}},refresh:function(U){var R=this,T,S=R.widget;U=U||{};if(!U.action){R.destroy();S.bind("dataBinding",R._dataBinding);S.bind("dataBound",R._dataBound);S.bind("itemChange",R._itemChange);T=R.bindings[O].get();if(S[Q] instanceof C.data.DataSource&&S[Q]!=T){if(T instanceof C.data.DataSource){S[P](T)}else{if(T&&T._dataSource){S[P](T._dataSource)}else{S[Q].data(T);if(R.bindings.value&&S instanceof C.ui.Select){R.bindings.value.source.trigger("change",{field:R.bindings.value.path})}}}}}},destroy:function(){var R=this.widget;R.unbind("dataBinding",this._dataBinding);R.unbind("dataBound",this._dataBound);R.unbind("itemChange",this._itemChange)}})}o.widget={events:F.extend({init:function(P,Q,O){F.fn.init.call(this,P.element[0],Q,O);this.widget=P;this.handlers={}},refresh:function(O){var Q=this.bindings.events[O],P=this.handlers[O];if(P){this.widget.unbind(O,P)}P=Q.get();this.handlers[O]=function(R){R.data=Q.source;P(R);if(R.data===Q.source){delete R.data}};this.widget.bind(O,this.handlers[O])},destroy:function(){var O;for(O in this.handlers){this.widget.unbind(O,this.handlers[O])}}}),checked:F.extend({init:function(P,Q,O){F.fn.init.call(this,P.element[0],Q,O);this.widget=P;this._change=M(this.change,this);this.widget.bind(A,this._change)},change:function(){this.bindings[b].set(this.value())},refresh:function(){this.widget.check(this.bindings[b].get()===true)},value:function(){var O=this.element,P=O.value;if(P=="on"||P=="off"){P=O.checked}return P},destroy:function(){this.widget.unbind(A,this._change)}}),visible:F.extend({init:function(P,Q,O){F.fn.init.call(this,P.element[0],Q,O);this.widget=P},refresh:function(){var O=this.bindings.visible.get();this.widget.wrapper[0].style.display=O?"":"none"}}),invisible:F.extend({init:function(P,Q,O){F.fn.init.call(this,P.element[0],Q,O);this.widget=P},refresh:function(){var O=this.bindings.invisible.get();this.widget.wrapper[0].style.display=O?"none":""}}),enabled:F.extend({init:function(P,Q,O){F.fn.init.call(this,P.element[0],Q,O);this.widget=P},refresh:function(){if(this.widget.enable){this.widget.enable(this.bindings.enabled.get())}}}),disabled:F.extend({init:function(P,Q,O){F.fn.init.call(this,P.element[0],Q,O);this.widget=P},refresh:function(){if(this.widget.enable){this.widget.enable(!this.bindings.disabled.get())}}}),source:G("source","dataSource","setDataSource"),value:F.extend({init:function(Q,R,O){F.fn.init.call(this,Q.element[0],R,O);this.widget=Q;this._change=B.proxy(this.change,this);this.widget.first(A,this._change);var P=this.bindings.value.get();this._valueIsObservableObject=!O.valuePrimitive&&(P==null||P instanceof r);this._valueIsObservableArray=P instanceof u;this._initChange=false},change:function(){var V=this.widget.value(),S=this.options.dataValueField||this.options.dataTextField,Q=j.call(V)==="[object Array]",W=this._valueIsObservableObject,R,X,Y=[],Z,U,T,P,O;this._initChange=true;if(S){if(this.bindings.source){O=this.bindings.source.get()}if(V===""&&(W||this.options.valuePrimitive)){V=null}else{if(!O||O instanceof C.data.DataSource){O=this.widget.dataSource.view()}if(Q){X=V.length;Y=V.slice(0)}for(T=0,P=O.length;T<P;T++){Z=O[T];U=Z.get(S);if(Q){for(R=0;R<X;R++){if(U==Y[R]){Y[R]=Z;break}}}else{if(U==V){V=W?Z:U;break}}}if(Y[0]){if(this._valueIsObservableArray){V=Y}else{if(W||!S){V=Y[0]}else{V=Y[0].get(S)}}}}}this.bindings.value.set(V);this._initChange=false},refresh:function(){if(!this._initChange){var U=this.widget;var P=this.options.dataTextField;var R=this.options.dataValueField||P;var T=this.bindings.value.get();var V=this.options.text||"";var O=0,S;var Q=[];if(T===p){T=null}if(R){if(T instanceof u){for(S=T.length;O<S;O++){Q[O]=T[O].get(R)}T=Q}else{if(T instanceof r){V=T.get(P);T=T.get(R)}}}if(U.options.autoBind===false&&U.listView&&!U.listView.isBound()){if(P===R&&!V){V=T}U._preselect(T,V)}else{U.value(T)}}this._initChange=false},destroy:function(){this.widget.unbind(A,this._change)}}),gantt:{dependencies:G("dependencies","dependencies","setDependenciesDataSource")},multiselect:{value:F.extend({init:function(P,Q,O){F.fn.init.call(this,P.element[0],Q,O);this.widget=P;this._change=B.proxy(this.change,this);this.widget.first(A,this._change);this._initChange=false},change:function(){var W=this,Z=W.bindings[N].get(),O=W.options.valuePrimitive,ab=O?W.widget.value():W.widget.dataItems();var Y=this.options.dataValueField||this.options.dataTextField;ab=ab.slice(0);W._initChange=true;if(Z instanceof u){var V=[];var S=ab.length;var U=0,T=0;var R=Z[U];var X=false;var Q;var P;var aa;while(R!==p){aa=false;for(T=0;T<S;T++){if(O){X=ab[T]==R}else{P=ab[T];P=P.get?P.get(Y):P;X=P==(R.get?R.get(Y):R)}if(X){ab.splice(T,1);S-=1;aa=true;break}}if(!aa){V.push(R);y(Z,U,1);Q=U}else{U+=1}R=Z[U]}y(Z,Z.length,0,ab);if(V.length){Z.trigger("change",{action:"remove",items:V,index:Q})}if(ab.length){Z.trigger("change",{action:"add",items:ab,index:Z.length-1})}}else{W.bindings[N].set(ab)}W._initChange=false},refresh:function(){if(!this._initChange){var W=this.options,Q=this.widget,S=W.dataValueField||W.dataTextField,T=this.bindings.value.get(),P=T,U=0,O,V=[],R;if(T===p){T=null}if(S){if(T instanceof u){for(O=T.length;U<O;U++){R=T[U];V[U]=R.get?R.get(S):R}T=V}else{if(T instanceof r){T=T.get(S)}}}if(W.autoBind===false&&W.valuePrimitive!==true&&!Q.listView.isBound()){Q._preselect(P,T)}else{Q.value(T)}}},destroy:function(){this.widget.unbind(A,this._change)}})},scheduler:{source:G("source","dataSource","setDataSource").extend({dataBound:function(U){var O;var Q;var T=this.widget;var S=U.addedItems||T.items();var R,P;if(S.length){R=U.addedDataItems||T.dataItems();P=this.bindings.source._parents();for(O=0,Q=R.length;O<Q;O++){x(S[O],R[O],this._ns(U.ns),[R[O]].concat(P))}}}})}};var y=function(T,V,R,W){W=W||[];R=R||0;var S=W.length;var Q=T.length;var P=[].slice.call(T,V+R);var O=P.length;var U;if(S){S=V+S;U=0;for(;V<S;V++){T[V]=W[U];U++}T.length=S}else{if(R){T.length=V;R+=V;while(V<R){delete T[--R]}}}if(O){O=V+O;U=0;for(;V<O;V++){T[V]=P[U];U++}T.length=O}V=T.length;while(V<Q){delete T[V];V++}};var E=c.extend({init:function(P,O){this.target=P;this.options=O;this.toDestroy=[]},bind:function(V){var S,R,P,U,O,Q=this instanceof h,T=this.binders();for(S in V){if(S==N){R=true}else{if(S==d){P=true}else{if(S==e&&!Q){U=true}else{if(S==b){O=true}else{this.applyBinding(S,V,T)}}}}}if(P){this.applyBinding(d,V,T)}if(R){this.applyBinding(N,V,T)}if(O){this.applyBinding(b,V,T)}if(U&&!Q){this.applyBinding(e,V,T)}},binders:function(){return o[this.target.nodeName.toLowerCase()]||{}},applyBinding:function(Q,U,S){var P=S[Q]||o[Q],O=this.toDestroy,R,T=U[Q];if(P){P=new P(this.target,U,this.options);O.push(P);if(T instanceof l){P.bind(T);O.push(T)}else{for(R in T){P.bind(T,R);O.push(T[R])}}}else{if(Q!=="template"){throw new Error("The "+Q+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")}}},destroy:function(){var O,Q,P=this.toDestroy;for(O=0,Q=P.length;O<Q;O++){P[O].destroy()}}});var h=E.extend({binders:function(){return o.widget[this.target.options.name.toLowerCase()]||{}},applyBinding:function(Q,U,S){var P=S[Q]||o.widget[Q],O=this.toDestroy,R,T=U[Q];if(P){P=new P(this.target,U,this.target.options);O.push(P);if(T instanceof l){P.bind(T);O.push(T)}else{for(R in T){P.bind(T,R);O.push(T[R])}}}else{throw new Error("The "+Q+" binding is not supported by the "+this.target.options.name+" widget")}}});function m(O,P){var Q=C.initWidget(O,{},P);if(Q){return new h(Q)}}var K=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,H=/\s/g;function L(R){var W={},U,O,P,Q,V,T,S;S=R.match(K);for(U=0,O=S.length;U<O;U++){P=S[U];Q=P.indexOf(":");V=P.substring(0,Q);T=P.substring(Q+1);if(T.charAt(0)=="{"){T=L(T)}W[V]=T}return W}function t(S,Q,P){var R,O={};for(R in S){O[R]=new P(Q,S[R])}return O}function x(T,O,U,X){var S=T.getAttribute("data-"+C.ns+"role"),Y,W=T.getAttribute("data-"+C.ns+"bind"),R=T.children,Q=[],Z=true,P,aa={},V;X=X||[O];if(S||W){I(T)}if(S){V=m(T,U)}if(W){W=L(W.replace(H,""));if(!V){aa=C.parseOptions(T,{textField:"",valueField:"",template:"",valueUpdate:A,valuePrimitive:false,autoBind:true});aa.roles=U;V=new E(T,aa)}V.source=O;P=t(W,X,l);if(aa.template){P.template=new z(X,"",aa.template)}if(P.click){W.events=W.events||{};W.events.click=W.click;P.click.destroy();delete P.click}if(P.source){Z=false}if(W.attr){P.attr=t(W.attr,X,l)}if(W.style){P.style=t(W.style,X,l)}if(W.events){P.events=t(W.events,X,J)}V.bind(P)}if(V){T.kendoBindingTarget=V}if(Z&&R){for(Y=0;Y<R.length;Y++){Q[Y]=R[Y]}for(Y=0;Y<Q.length;Y++){x(Q[Y],O,U,X)}}}function k(T,P){var O,S,R,Q=C.rolesFromNamespaces([].slice.call(arguments,2));P=C.observable(P);T=B(T);for(O=0,S=T.length;O<S;O++){R=T[O];if(R.nodeType===1){x(R,P,Q)}}}function I(O){var P=O.kendoBindingTarget;if(P){P.destroy();if(D){delete O.kendoBindingTarget}else{if(O.removeAttribute){O.removeAttribute("kendoBindingTarget")}else{O.kendoBindingTarget=null}}}}function f(O){I(O);n(O)}function n(Q){var P=Q.children;if(P){for(var O=0,R=P.length;O<R;O++){f(P[O])}}}function v(Q){var O,P;Q=B(Q);for(O=0,P=Q.length;O<P;O++){f(Q[O])}}function q(Q,P){var O=Q.element,R=O[0].kendoBindingTarget;if(R){k(O,R.source,P)}}C.unbind=v;C.bind=k;C.data.binders=o;C.data.Binder=F;C.notify=q;C.observable=function(O){if(!(O instanceof r)){O=new r(O)}return O};C.observableHierarchy=function(Q){var P=C.data.HierarchicalDataSource.create(Q);function O(T){var S,R;for(S=0;S<T.length;S++){T[S]._initChildren();R=T[S].children;R.fetch();T[S].items=R.data();O(T[S].items)}}P.fetch();O(P.data());P._data._dataSource=P;return P._data}})(window.kendo.jQuery);(function(S,r){var W=window.kendo,C=W.effects,ae=S.each,q=S.extend,ai=S.proxy,ac=W.support,g=ac.browser,K=ac.transforms,m=ac.transitions,o={scale:0,scalex:0,scaley:0,scale3d:0},i={translate:0,translatex:0,translatey:0,translate3d:0},O=(typeof document.documentElement.style.zoom!=="undefined")&&!K,N=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,am=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,G=/translatex?$/i,Y=/(zoom|fade|expand)(\w+)/,b=/(zoom|fade|expand)/,s=/[xy]$/i,Z=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],V=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],ao={rotate:"deg",scale:"",skew:"px",translate:"px"},X=K.css,aj=Math.round,w="",an="px",aa="none",Q="auto",j="width",R="height",ah="hidden",B="origin",I="abortId",ad="overflow",A="translate",ab="position",ag="completeCallback",al=X+"transition",ak=X+"transform",aq=X+"backface-visibility",y=X+"perspective",ap="1500px",l="perspective("+ap+")",k=ac.mobileOS&&ac.mobileOS.majorVersion==7,n={left:{reverse:"right",property:"left",transition:"translatex",vertical:false,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:false,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:true,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:true,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};W.directions=n;q(S.fn,{kendoStop:function(at,ar){if(m){return C.stopQueue(this,at||false,ar||false)}else{return this.stop(at,ar)}}});if(K&&!m){ae(V,function(ar,at){S.fn[at]=function(aw){if(typeof aw=="undefined"){return D(this,at)}else{var av=S(this)[0],au=at+"("+aw+ao[at.replace(s,"")]+")";if(av.style.cssText.indexOf(ak)==-1){S(this).css(ak,au)}else{av.style.cssText=av.style.cssText.replace(new RegExp(at+"\\(.*?\\)","i"),au)}}return this};S.fx.step[at]=function(au){S(au.elem)[at](au.now)}});var F=S.fx.prototype.cur;S.fx.prototype.cur=function(){if(V.indexOf(this.prop)!=-1){return parseFloat(S(this.elem)[this.prop]())}return F.apply(this,arguments)}}W.toggleClass=function(au,at,ar,av){if(at){at=at.split(" ");if(m){ar=q({exclusive:"all",duration:400,ease:"ease-out"},ar);au.css(al,ar.exclusive+" "+ar.duration+"ms "+ar.ease);setTimeout(function(){au.css(al,"").css(R)},ar.duration)}ae(at,function(aw,ax){au.toggleClass(ax,av)})}return au};W.parseEffects=function(ar,au){var at={};if(typeof ar==="string"){ae(ar.split(" "),function(av,az){var ay=!b.test(az),aw=az.replace(Y,function(aD,aC,aE){return aC+":"+aE.toLowerCase()}),ax=aw.split(":"),aB=ax[1],aA={};if(ax.length>1){aA.direction=(au&&ay?n[aB].reverse:aB)}at[ax[0]]=aA})}else{ae(ar,function(av){var aw=this.direction;if(aw&&au&&!b.test(av)){this.direction=n[aw].reverse}at[av]=this})}return at};function af(ar){return parseInt(ar,10)}function h(ar,at){return af(ar.css(at))}function H(au){var at=[];for(var ar in au){at.push(ar)}return at}function c(at){for(var ar in at){if(Z.indexOf(ar)!=-1&&V.indexOf(ar)==-1){delete at[ar]}}return at}function p(av,au){var ax=[],aw={},ar,at,ay,az;for(at in au){ar=at.toLowerCase();az=K&&Z.indexOf(ar)!=-1;if(!ac.hasHW3D&&az&&V.indexOf(ar)==-1){delete au[at]}else{ay=au[at];if(az){ax.push(at+"("+ay+")")}else{aw[at]=ay}}}if(ax.length){aw[ak]=ax.join(" ")}return aw}if(m){q(C,{transition:function(at,ax,aA){var aw,au=0,az=at.data("keys")||[],ar;aA=q({duration:200,ease:"ease-out",complete:null,exclusive:"all"},aA);var av=false;var ay=function(){if(!av){av=true;if(ar){clearTimeout(ar);ar=null}at.removeData(I).dequeue().css(al,"").css(al);aA.complete.call(at)}};aA.duration=S.fx?S.fx.speeds[aA.duration]||aA.duration:aA.duration;aw=p(at,ax);S.merge(az,H(aw));at.data("keys",S.unique(az)).height();at.css(al,aA.exclusive+" "+aA.duration+"ms "+aA.ease).css(al);at.css(aw).css(ak);if(m.event){at.one(m.event,ay);if(aA.duration!==0){au=500}}ar=setTimeout(ay,aA.duration+au);at.data(I,ar);at.data(ag,ay)},stopQueue:function(au,aw,at){var av,ar=au.data("keys"),ay=(!at&&ar),ax=au.data(ag);if(ay){av=W.getComputedStyles(au[0],ar)}if(ax){ax()}if(ay){au.css(av)}return au.removeData("keys").stop(aw)}})}function D(au,aw){if(K){var at=au.css(ak);if(at==aa){return aw=="scale"?1:0}var ar=at.match(new RegExp(aw+"\\s*\\(([\\d\\w\\.]+)")),av=0;if(ar){av=af(ar[1])}else{ar=at.match(N)||[0,0,0,0,0];aw=aw.toLowerCase();if(G.test(aw)){av=parseFloat(ar[3]/ar[2])}else{if(aw=="translatey"){av=parseFloat(ar[4]/ar[2])}else{if(aw=="scale"){av=parseFloat(ar[2])}else{if(aw=="rotate"){av=parseFloat(Math.atan2(ar[2],ar[1]))}}}}}return av}else{return parseFloat(au.css(aw))}}var E=W.Class.extend({init:function(at,ar){var au=this;au.element=at;au.effects=[];au.options=ar;au.restore=[]},run:function(au){var aA=this,aF,aD,ar,aw=au.length,az=aA.element,aG=aA.options,aE=S.Deferred(),at={},ay={},aB,av,ax;aA.effects=au;aE.then(S.proxy(aA,"complete"));az.data("animating",true);for(aD=0;aD<aw;aD++){aF=au[aD];aF.setReverse(aG.reverse);aF.setOptions(aG);aA.addRestoreProperties(aF.restore);aF.prepare(at,ay);av=aF.children();for(ar=0,ax=av.length;ar<ax;ar++){av[ar].duration(aG.duration).run()}}for(var aC in aG.effects){q(ay,aG.effects[aC].properties)}if(!az.is(":visible")){q(at,{display:az.data("olddisplay")||"block"})}if(K&&!aG.reset){aB=az.data("targetTransform");if(aB){at=q(aB,at)}}at=p(az,at);if(K&&!m){at=c(at)}az.css(at).css(ak);for(aD=0;aD<aw;aD++){au[aD].setup()}if(aG.init){aG.init()}az.data("targetTransform",ay);C.animate(az,ay,q({},aG,{complete:aE.resolve}));return aE.promise()},stop:function(){S(this.element).kendoStop(true,true)},addRestoreProperties:function(au){var at=this.element,aw,ar=0,av=au.length;for(;ar<av;ar++){aw=au[ar];this.restore.push(aw);if(!at.data(aw)){at.data(aw,at.css(aw))}}},restoreCallback:function(){var at=this.element;for(var ar=0,au=this.restore.length;ar<au;ar++){var av=this.restore[ar];at.css(av,at.data(av))}},complete:function(){var ax=this,ar=0,au=ax.element,at=ax.options,aw=ax.effects,av=aw.length;au.removeData("animating").dequeue();if(at.hide){au.data("olddisplay",au.css("display")).hide()}this.restoreCallback();if(O&&!K){setTimeout(S.proxy(this,"restoreCallback"),0)}for(;ar<av;ar++){aw[ar].teardown()}if(at.completeCallback){at.completeCallback(au)}}});C.promise=function(aw,at){var az=[],ay,av=new E(aw,at),au=W.parseEffects(at.effects),ax;at.effects=au;for(var ar in au){ay=C[J(ar)];if(ay){ax=new ay(aw,au[ar].direction);az.push(ax)}}if(az[0]){av.run(az)}else{if(!aw.is(":visible")){aw.css({display:aw.data("olddisplay")||"block"}).css("display")}if(at.init){at.init()}aw.dequeue();av.complete()}};q(C,{animate:function(av,at,ar){var au=ar.transition!==false;delete ar.transition;if(m&&"transition" in C&&au){C.transition(av,at,ar)}else{if(K){av.animate(c(at),{queue:false,show:false,hide:false,duration:ar.duration,complete:ar.complete})}else{av.each(function(){var ax=S(this),aw={};ae(Z,function(aF,aE){var aA,aH=at?at[aE]+" ":null;if(aH){var aG=at;if(aE in o&&at[aE]!==r){aA=aH.match(am);if(K){q(aG,{scale:+aA[0]})}}else{if(aE in i&&at[aE]!==r){var aD=ax.css(ab),ay=(aD=="absolute"||aD=="fixed");if(!ax.data(A)){if(ay){ax.data(A,{top:h(ax,"top")||0,left:h(ax,"left")||0,bottom:h(ax,"bottom"),right:h(ax,"right")})}else{ax.data(A,{top:h(ax,"marginTop")||0,left:h(ax,"marginLeft")||0})}}var aC=ax.data(A);aA=aH.match(am);if(aA){var aB=aE==A+"y"?+null:+aA[1],az=aE==A+"y"?+aA[1]:+aA[2];if(ay){if(!isNaN(aC.right)){if(!isNaN(aB)){q(aG,{right:aC.right-aB})}}else{if(!isNaN(aB)){q(aG,{left:aC.left+aB})}}if(!isNaN(aC.bottom)){if(!isNaN(az)){q(aG,{bottom:aC.bottom-az})}}else{if(!isNaN(az)){q(aG,{top:aC.top+az})}}}else{if(!isNaN(aB)){q(aG,{marginLeft:aC.left+aB})}if(!isNaN(az)){q(aG,{marginTop:aC.top+az})}}}}}if(!K&&aE!="scale"&&aE in aG){delete aG[aE]}if(aG){q(aw,aG)}}});if(g.msie){delete aw.scale}ax.animate(aw,{queue:false,show:false,hide:false,duration:ar.duration,complete:ar.complete})})}}}});C.animatedPromise=C.promise;var t=W.Class.extend({init:function(ar,au){var at=this;at.element=ar;at._direction=au;at.options={};at._additionalEffects=[];if(!at.restore){at.restore=[]}},reverse:function(){this._reverse=true;return this.run()},play:function(){this._reverse=false;return this.run()},add:function(ar){this._additionalEffects.push(ar);return this},direction:function(ar){this._direction=ar;return this},duration:function(ar){this._duration=ar;return this},compositeRun:function(){var au=this,ar=new E(au.element,{reverse:au._reverse,duration:au._duration}),at=au._additionalEffects.concat([au]);return ar.run(at)},run:function(){if(this._additionalEffects&&this._additionalEffects[0]){return this.compositeRun()}var ay=this,ax=ay.element,aC=0,aA=ay.restore,au=aA.length,aB,aD=S.Deferred(),ar={},aw={},az,at=ay.children(),av=at.length;aD.then(S.proxy(ay,"_complete"));ax.data("animating",true);for(aC=0;aC<au;aC++){aB=aA[aC];if(!ax.data(aB)){ax.data(aB,ax.css(aB))}}for(aC=0;aC<av;aC++){at[aC].duration(ay._duration).run()}ay.prepare(ar,aw);if(!ax.is(":visible")){q(ar,{display:ax.data("olddisplay")||"block"})}if(K){az=ax.data("targetTransform");if(az){ar=q(az,ar)}}ar=p(ax,ar);if(K&&!m){ar=c(ar)}ax.css(ar).css(ak);ay.setup();ax.data("targetTransform",aw);C.animate(ax,aw,{duration:ay._duration,complete:aD.resolve});return aD.promise()},stop:function(){var ar=0,at=this.children(),au=at.length;for(ar=0;ar<au;ar++){at[ar].stop()}S(this.element).kendoStop(true,true);return this},restoreCallback:function(){var at=this.element;for(var ar=0,au=this.restore.length;ar<au;ar++){var av=this.restore[ar];at.css(av,at.data(av))}},_complete:function(){var at=this,ar=at.element;ar.removeData("animating").dequeue();at.restoreCallback();if(at.shouldHide()){ar.data("olddisplay",ar.css("display")).hide()}if(O&&!K){setTimeout(S.proxy(at,"restoreCallback"),0)}at.teardown()},setOptions:function(ar){q(true,this.options,ar)},children:function(){return[]},shouldHide:S.noop,setup:S.noop,prepare:S.noop,teardown:S.noop,directions:[],setReverse:function(ar){this._reverse=ar;return this}});function J(ar){return ar.charAt(0).toUpperCase()+ar.substring(1)}function f(ar,at){var au=t.extend(at),av=au.prototype.directions;C[J(ar)]=au;C.Element.prototype[ar]=function(az,ay,ax,aw){return new au(this.element,az,ay,ax,aw)};ae(av,function(aw,ax){C.Element.prototype[ar+J(ax)]=function(aA,az,ay){return new au(this.element,ax,aA,az,ay)}})}var M=["left","right","up","down"],L=["in","out"];f("slideIn",{directions:M,divisor:function(ar){this.options.divisor=ar;return this},prepare:function(ar,au){var ay=this,aw,ax=ay.element,aA=n[ay._direction],av=-aA.modifier*(aA.vertical?ax.outerHeight():ax.outerWidth()),at=av/(ay.options&&ay.options.divisor||1)+an,az="0px";if(ay._reverse){aw=ar;ar=au;au=aw}if(K){ar[aA.transition]=at;au[aA.transition]=az}else{ar[aA.property]=at;au[aA.property]=az}}});f("tile",{directions:M,init:function(ar,au,at){t.prototype.init.call(this,ar,au);this.options={previous:at}},previousDivisor:function(ar){this.options.previousDivisor=ar;return this},children:function(){var aw=this,at=aw._reverse,av=aw.options.previous,ax=aw.options.previousDivisor||1,ar=aw._direction;var au=[W.fx(aw.element).slideIn(ar).setReverse(at)];if(av){au.push(W.fx(av).slideIn(n[ar].reverse).divisor(ax).setReverse(!at))}return au}});function e(at,av,au,ar){f(at,{directions:L,startValue:function(aw){this._startValue=aw;return this},endValue:function(aw){this._endValue=aw;return this},shouldHide:function(){return this._shouldHide},prepare:function(aD,ax){var aB=this,az,aw,aA=this._direction==="out",ay=aB.element.data(av),aC=!(isNaN(ay)||ay==au);if(aC){az=ay}else{if(typeof this._startValue!=="undefined"){az=this._startValue}else{az=aA?au:ar}}if(typeof this._endValue!=="undefined"){aw=this._endValue}else{aw=aA?ar:au}if(this._reverse){aD[av]=aw;ax[av]=az}else{aD[av]=az;ax[av]=aw}aB._shouldHide=ax[av]===ar}})}e("fade","opacity",1,0);e("zoom","scale",1,0.01);f("slideMargin",{prepare:function(ar,au){var ax=this,aw=ax.element,aA=ax.options,az=aw.data(B),av=aA.offset,at,ay=ax._reverse;if(!ay&&az===null){aw.data(B,parseFloat(aw.css("margin-"+aA.axis)))}at=(aw.data(B)||0);au["margin-"+aA.axis]=!ay?at+av:at}});f("slideTo",{prepare:function(ay,ar){var aw=this,av=aw.element,au=aw.options,ax=au.offset.split(","),at=aw._reverse;if(K){ar.translatex=!at?ax[0]:0;ar.translatey=!at?ax[1]:0}else{ar.left=!at?ax[0]:0;ar.top=!at?ax[1]:0}av.css("left")}});f("expand",{directions:["horizontal","vertical"],restore:[ad],prepare:function(ar,av){var ax=this,aw=ax.element,aC=ax.options,ay=ax._reverse,az=ax._direction==="vertical"?R:j,aB=aw[0].style[az],au=aw.data(az),at=parseFloat(au||aB),aA=aj(aw.css(az,Q)[az]());ar.overflow=ah;at=(aC&&aC.reset)?aA||at:at||aA;av[az]=(ay?0:at)+an;ar[az]=(ay?at:0)+an;if(au===r){aw.data(az,aB)}},shouldHide:function(){return this._reverse},teardown:function(){var au=this,ar=au.element,av=au._direction==="vertical"?R:j,at=ar.data(av);if(at==Q||at===w){setTimeout(function(){ar.css(av,Q).css(av)},0)}}});var U={position:"absolute",marginLeft:0,marginTop:0,scale:1};f("transfer",{init:function(ar,at){this.element=ar;this.options={target:at};this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(ar,aw){var az=this,ay=az.element,at=C.box(ay),aA=C.box(az.options.target),av=D(ay,"scale"),au=C.fillScale(aA,at),ax=C.transformOrigin(aA,at);q(ar,U);aw.scale=1;ay.css(ak,"scale(1)").css(ak);ay.css(ak,"scale("+av+")");ar.top=at.top;ar.left=at.left;ar.transformOrigin=ax.x+an+" "+ax.y+an;if(az._reverse){ar.scale=au}else{aw.scale=au}}});var z={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"};var v={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};function T(ar,av){var at=W.directions[av].vertical,au=(ar[at?R:j]()/2)+"px";return z[av].replace("$size",au)}f("turningPage",{directions:M,init:function(at,au,ar){t.prototype.init.call(this,at,au);this._container=ar},prepare:function(ax,ar){var av=this,at=av._reverse,aw=at?n[av._direction].reverse:av._direction,au=v[aw];ax.zIndex=1;if(av._clipInHalf){ax.clip=T(av._container,W.directions[aw].reverse)}ax[aq]=ah;ar[ak]=l+(at?au.start:au.end);ax[ak]=l+(at?au.end:au.start)},setup:function(){this._container.append(this.element)},face:function(ar){this._face=ar;return this},shouldHide:function(){var at=this,ar=at._reverse,au=at._face;return(ar&&!au)||(!ar&&au)},clipInHalf:function(ar){this._clipInHalf=ar;return this},temporary:function(){this.element.addClass("temp-page");return this}});f("staticPage",{directions:M,init:function(at,au,ar){t.prototype.init.call(this,at,au);this._container=ar},restore:["clip"],prepare:function(av,ar){var at=this,au=at._reverse?n[at._direction].reverse:at._direction;av.clip=T(at._container,au);av.opacity=0.999;ar.opacity=1},shouldHide:function(){var at=this,ar=at._reverse,au=at._face;return(ar&&!au)||(!ar&&au)},face:function(ar){this._face=ar;return this}});f("pageturn",{directions:["horizontal","vertical"],init:function(at,av,au,ar){t.prototype.init.call(this,at,av);this.options={};this.options.face=au;this.options.back=ar},children:function(){var au=this,aA=au.options,aw=au._direction==="horizontal"?"left":"top",ar=W.directions[aw].reverse,av=au._reverse,ax,az=aA.face.clone(true).removeAttr("id"),ay=aA.back.clone(true).removeAttr("id"),at=au.element;if(av){ax=aw;aw=ar;ar=ax}return[W.fx(aA.face).staticPage(aw,at).face(true).setReverse(av),W.fx(aA.back).staticPage(ar,at).setReverse(av),W.fx(az).turningPage(aw,at).face(true).clipInHalf(true).temporary().setReverse(av),W.fx(ay).turningPage(ar,at).clipInHalf(true).temporary().setReverse(av)]},prepare:function(at,ar){at[y]=ap;at.transformStyle="preserve-3d";at.opacity=0.999;ar.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}});f("flip",{directions:["horizontal","vertical"],init:function(at,av,au,ar){t.prototype.init.call(this,at,av);this.options={};this.options.face=au;this.options.back=ar},children:function(){var ax=this,av=ax.options,ay=ax._direction==="horizontal"?"left":"top",at=W.directions[ay].reverse,au=ax._reverse,ar,aw=ax.element;if(au){ar=ay;ay=at;at=ar}return[W.fx(av.face).turningPage(ay,aw).face(true).setReverse(au),W.fx(av.back).turningPage(at,aw).setReverse(au)]},prepare:function(ar){ar[y]=ap;ar.transformStyle="preserve-3d"}});var x=!ac.mobileOS.android;var d=".km-touch-scrollbar, .km-actionsheet-wrapper";f("replace",{_before:S.noop,_after:S.noop,init:function(ar,au,at){t.prototype.init.call(this,ar);this._previous=S(au);this._transitionClass=at},duration:function(){throw new Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule")},beforeTransition:function(ar){this._before=ar;return this},afterTransition:function(ar){this._after=ar;return this},_both:function(){return S().add(this._element).add(this._previous)},_containerClass:function(){var ar=this._direction,at="k-fx k-fx-start k-fx-"+this._transitionClass;if(ar){at+=" k-fx-"+ar}if(this._reverse){at+=" k-fx-reverse"}return at},complete:function(at){if(!this.deferred||(at&&S(at.target).is(d))){return}var ar=this.container;ar.removeClass("k-fx-end").removeClass(this._containerClass()).off(m.event,this.completeProxy);this._previous.hide().removeClass("k-fx-current");this.element.removeClass("k-fx-next");if(x){ar.css(ad,"")}if(!this.isAbsolute){this._both().css(ab,"")}this.deferred.resolve();delete this.deferred},run:function(){if(this._additionalEffects&&this._additionalEffects[0]){return this.compositeRun()}var az=this,av=az.element,ay=az._previous,ar=av.parents().filter(ay.parents()).first(),ax=az._both(),at=S.Deferred(),aw=av.css(ab),au;if(!ar.length){ar=av.parent()}this.container=ar;this.deferred=at;this.isAbsolute=aw=="absolute";if(!this.isAbsolute){ax.css(ab,"absolute")}if(x){au=ar.css(ad);ar.css(ad,"hidden")}if(!m){this.complete()}else{av.addClass("k-fx-hidden");ar.addClass(this._containerClass());this.completeProxy=S.proxy(this,"complete");ar.on(m.event,this.completeProxy);W.animationFrame(function(){av.removeClass("k-fx-hidden").addClass("k-fx-next");ay.css("display","").addClass("k-fx-current");az._before(ay,av);W.animationFrame(function(){ar.removeClass("k-fx-start").addClass("k-fx-end");az._after(ay,av)})})}return at.promise()},stop:function(){this.complete()}});var u=W.Class.extend({init:function(){var ar=this;ar._tickProxy=ai(ar._tick,ar);ar._started=false},tick:S.noop,done:S.noop,onEnd:S.noop,onCancel:S.noop,start:function(){if(!this.enabled()){return}if(!this.done()){this._started=true;W.animationFrame(this._tickProxy)}else{this.onEnd()}},enabled:function(){return true},cancel:function(){this._started=false;this.onCancel()},_tick:function(){var ar=this;if(!ar._started){return}ar.tick();if(!ar.done()){W.animationFrame(ar._tickProxy)}else{ar._started=false;ar.onEnd()}}});var P=u.extend({init:function(ar){var at=this;q(at,ar);u.fn.init.call(at)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,(new Date())-this.startDate)},moveTo:function(ar){var at=this,au=at.movable;at.initial=au[at.axis];at.delta=ar.location-at.initial;at.duration=typeof ar.duration=="number"?ar.duration:300;at.tick=at._easeProxy(ar.ease);at.startDate=new Date();at.start()},_easeProxy:function(at){var ar=this;return function(){ar.movable.moveAxis(ar.axis,at(ar.timePassed(),ar.initial,ar.delta,ar.duration))}}});q(P,{easeOutExpo:function(at,ar,av,au){return(at==au)?ar+av:av*(-Math.pow(2,-10*at/au)+1)+ar},easeOutBack:function(at,ar,aw,av,au){au=1.70158;return aw*((at=at/av-1)*at*((au+1)*at+au)+1)+ar}});C.Animation=u;C.Transition=P;C.createEffect=f;C.box=function(at){at=S(at);var ar=at.offset();ar.width=at.outerWidth();ar.height=at.outerHeight();return ar};C.transformOrigin=function(at,au){var ar=(at.left-au.left)*au.width/(au.width-at.width),av=(at.top-au.top)*au.height/(au.height-at.height);return{x:isNaN(ar)?0:ar,y:isNaN(av)?0:av}};C.fillScale=function(ar,at){return Math.min(ar.width/at.width,ar.height/at.height)};C.fitScale=function(ar,at){return Math.max(ar.width/at.width,ar.height/at.height)}})(window.kendo.jQuery);(function(g,h){var n=window.kendo,l=n.Observable,k="SCRIPT",d="init",f="show",q="hide",r="transitionStart",e="transitionEnd",s="attach",u="detach",j=/unrecognized expression/;var o=l.extend({init:function(x,v){var w=this;v=v||{};l.fn.init.call(w);w.content=x;w.id=n.guid();w.tagName=v.tagName||"div";w.model=v.model;w._wrap=v.wrap!==false;this._evalTemplate=v.evalTemplate||false;w._fragments={};w.bind([d,f,q,r,e],v)},render:function(v){var w=this,x=!w.element;if(x){w.element=w._createElement()}if(v){g(v).append(w.element)}if(x){n.bind(w.element,w.model);w.trigger(d)}if(v){w._eachFragment(s);w.trigger(f)}return w.element},clone:function(v){return new b(this)},triggerBeforeShow:function(){return true},triggerBeforeHide:function(){return true},showStart:function(){this.element.css("display","")},showEnd:function(){},hideEnd:function(){this.hide()},beforeTransition:function(v){this.trigger(r,{type:v})},afterTransition:function(v){this.trigger(e,{type:v})},hide:function(){this._eachFragment(u);this.element.detach();this.trigger(q)},destroy:function(){var v=this.element;if(v){n.unbind(v);n.destroy(v);v.remove()}},fragments:function(v){g.extend(this._fragments,v)},_eachFragment:function(v){for(var w in this._fragments){this._fragments[w][v](this,w)}},_createElement:function(){var y=this,A="<"+y.tagName+" />",w,x;try{x=g(document.getElementById(y.content)||y.content);if(x[0].tagName===k){x=x.html()}}catch(z){if(j.test(z.message)){x=y.content}}if(typeof x==="string"){x=x.replace(/^\s+|\s+$/g,"");if(y._evalTemplate){x=n.template(x)(y.model||{})}w=g(A).append(x);if(!y._wrap){w=w.contents()}}else{w=x;if(y._evalTemplate){var v=g(n.template(g("<div />").append(w.clone(true)).html())(y.model||{}));if(g.contains(document,w[0])){w.replaceWith(v)}w=v}if(y._wrap){w=w.wrapAll(A).parent()}}return w}});var b=n.Class.extend({init:function(v){g.extend(this,{element:v.element.clone(true),transition:v.transition,id:v.id});v.element.parent().append(this.element)},hideEnd:function(){this.element.remove()},beforeTransition:g.noop,afterTransition:g.noop});var p=o.extend({init:function(w,v){o.fn.init.call(this,w,v);this.containers={}},container:function(v){var w=this.containers[v];if(!w){w=this._createContainer(v);this.containers[v]=w}return w},showIn:function(v,w,x){this.container(v).show(w,x)},_createContainer:function(v){var x=this.render(),y=x.find(v),w;if(!y.length&&x.is(v)){if(x.is(v)){y=x}else{throw new Error("can't find a container with the specified "+v+" selector")}}w=new m(y);w.bind("accepted",function(z){z.view.render(y)});return w}});var c=o.extend({attach:function(v,w){v.element.find(w).replaceWith(this.render())},detach:function(){}});var i=/^(\w+)(:(\w+))?( (\w+))?$/;function t(w){if(!w){return{}}var v=w.match(i)||[];return{type:v[1],direction:v[3],reverse:v[5]==="reverse"}}var m=l.extend({init:function(v){l.fn.init.call(this);this.container=v;this.history=[];this.view=null;this.running=false},after:function(){this.running=false;this.trigger("complete",{view:this.view});this.trigger("after")},end:function(){this.view.showEnd();this.previous.hideEnd();this.after()},show:function(E,D,v){if(!E.triggerBeforeShow()||(this.view&&!this.view.triggerBeforeHide())){this.trigger("after");return false}v=v||E.id;var A=this,B=(E===A.view)?E.clone():A.view,C=A.history,w=C[C.length-2]||{},y=w.id===v,z=D||(y?C[C.length-1].transition:E.transition),x=t(z);if(A.running){A.effect.stop()}if(z==="none"){z=null}A.trigger("accepted",{view:E});A.view=E;A.previous=B;A.running=true;if(!y){C.push({id:v,transition:z})}else{C.pop()}if(!B){E.showStart();E.showEnd();A.after();return true}if(!z||!n.effects.enabled){E.showStart();A.end()}else{E.element.addClass("k-fx-hidden");E.showStart();if(y&&!D){x.reverse=!x.reverse}A.effect=n.fx(E.element).replace(B.element,x.type).beforeTransition(function(){E.beforeTransition("show");B.beforeTransition("hide")}).afterTransition(function(){E.afterTransition("show");B.afterTransition("hide")}).direction(x.direction).setReverse(x.reverse);A.effect.run().then(function(){A.end()})}return true}});n.ViewContainer=m;n.Fragment=c;n.Layout=p;n.View=o;n.ViewClone=b})(window.kendo.jQuery);(function(i){function h(){this.node=null}h.prototype={remove:function(){this.node.parentNode.removeChild(this.node)},attr:{}};function l(){}l.prototype={nodeName:"#null",attr:{style:{}},children:[],remove:function(){}};var j=new l();function c(o,m,n){this.nodeName=o;this.attr=m||{};this.children=n||[]}c.prototype=new h();c.prototype.appendTo=function(o){var p=document.createElement(this.nodeName);var n=this.children;for(var m=0;m<n.length;m++){n[m].render(p,j)}o.appendChild(p);return p};c.prototype.render=function(q,p){var s;if(p.nodeName!==this.nodeName){p.remove();s=this.appendTo(q)}else{s=p.node;var m;var o=this.children;var r=o.length;var n=p.children;var t=n.length;if(Math.abs(t-r)>2){this.render({appendChild:function(u){q.replaceChild(u,p.node)}},j);return}for(m=0;m<r;m++){o[m].render(s,n[m]||j)}for(m=r;m<t;m++){n[m].remove()}}this.node=s;this.syncAttributes(p.attr);this.removeAttributes(p.attr)};c.prototype.syncAttributes=function(n){var m=this.attr;for(var o in m){var q=m[o];var p=n[o];if(o==="style"){this.setStyle(q,p)}else{if(q!==p){this.setAttribute(o,q,p)}}}};c.prototype.setStyle=function(n,p){var o=this.node;var m;if(p){for(m in n){if(n[m]!==p[m]){o.style[m]=n[m]}}}else{for(m in n){o.style[m]=n[m]}}};c.prototype.removeStyle=function(o){var n=this.attr.style||{};var p=this.node;for(var m in o){if(n[m]===undefined){p.style[m]=""}}};c.prototype.removeAttributes=function(n){var m=this.attr;for(var o in n){if(o==="style"){this.removeStyle(n.style)}else{if(m[o]===undefined){this.removeAttribute(o)}}}};c.prototype.removeAttribute=function(m){var n=this.node;if(m==="style"){n.style.cssText=""}else{if(m==="className"){n.className=""}else{n.removeAttribute(m)}}};c.prototype.setAttribute=function(m,p,o){var n=this.node;if(n[m]!==undefined){n[m]=p}else{n.setAttribute(m,p)}};function b(m){this.nodeValue=m}b.prototype=new h();b.prototype.nodeName="#text";b.prototype.render=function(n,m){var o;if(m.nodeName!==this.nodeName){m.remove();o=document.createTextNode(this.nodeValue);n.appendChild(o)}else{o=m.node;if(this.nodeValue!==m.nodeValue){o.nodeValue=this.nodeValue}}this.node=o};function g(m){this.html=m}g.prototype={nodeName:"#html",attr:{},remove:function(){for(var m=0;m<this.nodes.length;m++){this.nodes[m].parentNode.removeChild(this.nodes[m])}},render:function(n,m){if(m.nodeName!==this.nodeName||m.html!==this.html){m.remove();var o=n.lastChild;n.insertAdjacentHTML("beforeend",this.html);this.nodes=[];for(var p=o?o.nextSibling:n.firstChild;p;p=p.nextSibling){this.nodes.push(p)}}else{this.nodes=m.nodes.slice(0)}}};function f(m){return new g(m)}function e(o,m,n){return new c(o,m,n)}function k(m){return new b(m)}function d(m){this.root=m;this.children=[]}d.prototype={html:f,element:e,text:k,render:function(o){var n=this.children;var m;var p;for(m=0,p=o.length;m<p;m++){o[m].render(this.root,n[m]||j)}for(m=p;m<n.length;m++){n[m].remove()}this.children=o}};i.dom={html:f,text:k,element:e,Tree:d}})(window.kendo);(function(e,n){var l='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>';var d=n.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>${creator}</dc:creator><cp:lastModifiedBy>${lastModifiedBy}</cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">${created}</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">${modified}</dcterms:modified></cp:coreProperties>');var k=n.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>${sheets.length}</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="${sheets.length}" baseType="lpstr"># for (var idx = 0; idx < sheets.length; idx++) { ## if (sheets[idx].options.title) { #<vt:lpstr>${sheets[idx].options.title}</vt:lpstr># } else { #<vt:lpstr>Sheet${idx+1}</vt:lpstr># } ## } #</vt:vector></TitlesOfParts><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>14.0300</AppVersion></Properties>');var o=n.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="xml" ContentType="application/xml" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/># for (var idx = 1; idx <= count; idx++) { #<Override PartName="/xl/worksheets/sheet${idx}.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /># } #<Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml" /><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" /></Types>');var j=n.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="9303" /><workbookPr defaultThemeVersion="124226" /><bookViews><workbookView xWindow="240" yWindow="45" windowWidth="18195" windowHeight="7995" /></bookViews><sheets># for (var idx = 0; idx < sheets.length; idx++) { ## if (sheets[idx].options.title) { #<sheet name="${sheets[idx].options.title}" sheetId="${idx+1}" r:id="rId${idx+1}" /># } else { #<sheet name="Sheet${idx+1}" sheetId="${idx+1}" r:id="rId${idx+1}" /># } ## } #</sheets># if (definedNames.length) { #<definedNames> # for (var di = 0; di < definedNames.length; di++) { #<definedName name="_xlnm._FilterDatabase" hidden="1" localSheetId="${definedNames[di].localSheetId}">${definedNames[di].name}!$${definedNames[di].from}:$${definedNames[di].to}</definedName> # } #</definedNames># } #<calcPr calcId="145621" /></workbook>');var s=n.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" mc:Ignorable="x14ac"><dimension ref="A1" /><sheetViews><sheetView #if(index==0) {# tabSelected="1" #}# workbookViewId="0"># if (freezePane) { #<pane state="frozen"# if (freezePane.colSplit) { # xSplit="${freezePane.colSplit}"# } ## if (freezePane.rowSplit) { # ySplit="${freezePane.rowSplit}"# } # topLeftCell="${String.fromCharCode(65 + (freezePane.colSplit || 0))}${(freezePane.rowSplit || 0)+1}"/># } #</sheetView></sheetViews><sheetFormatPr defaultRowHeight="15" x14ac:dyDescent="0.25" /># if (columns) { #<cols># for (var ci = 0; ci < columns.length; ci++) { ## var column = columns[ci]; ## if (column.width) { #<col min="${ci+1}" max="${ci+1}" customWidth="1"# if (column.autoWidth) { # width="${((column.width*7+5)/7*256)/256}" bestFit="1"# } else { # width="${(((column.width)/7)*100+0.5)/100}" # } #/># } ## } #</cols># } #<sheetData># for (var ri = 0; ri < data.length; ri++) { ## var row = data[ri]; #<row r="#=ri + 1#"># for (var ci = 0; ci < row.data.length; ci++) { ## var cell = row.data[ci];#<c r="#=cell.ref#"# if (cell.style) { # s="#=cell.style#" # } ## if (cell.type) { # t="#=cell.type#"# } #># if (cell.value != null) { #<v>${cell.value}</v># } #</c># } #</row># } #</sheetData># if (filter) { #<autoFilter ref="${filter.from}:${filter.to}"/># } ## if (mergeCells.length) { #<mergeCells count="${mergeCells.length}"># for (var ci = 0; ci < mergeCells.length; ci++) { #<mergeCell ref="${mergeCells[ci]}"/># } #</mergeCells># } #<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" /></worksheet>');var b=n.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"># for (var idx = 1; idx <= count; idx++) { #<Relationship Id="rId${idx}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet${idx}.xml" /># } #<Relationship Id="rId${count+1}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml" /><Relationship Id="rId${count+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" /></Relationships>');var m=n.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${count}" uniqueCount="${uniqueCount}"># for (var index in indexes) { #<si><t>${index.substring(1)}</t></si># } #</sst>');var t=n.template('<?xml version="1.0" encoding="UTF-8"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="${formats.length}"># for (var fi = 0; fi < formats.length; fi++) { ## var format = formats[fi]; #<numFmt formatCode="${format.format}" numFmtId="${165+fi}" /># } #</numFmts><fonts count="${fonts.length+1}" x14ac:knownFonts="1"><font><sz val="11" /><color theme="1" /><name val="Calibri" /><family val="2" /><scheme val="minor" /></font># for (var fi = 0; fi < fonts.length; fi++) { ## var font = fonts[fi]; #<font># if (font.bold) { #<b/># } ## if (font.italic) { #<i/># } ## if (font.underline) { #<u/># } ## if (font.color) { #<color rgb="${font.color}" /># } else { #<color theme="1" /># } ## if (font.fontSize) { #<sz val="${font.fontSize}" /># } else { #<sz val="11" /># } ## if (font.fontName) { #<name val="${font.fontName}" /># } else { #<name val="Calibri" /><scheme val="minor" /># } #<family val="2" /></font># } #</fonts><fills count="${fills.length+1}"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill># for (var fi = 0; fi < fills.length; fi++) { ## var fill = fills[fi]; ## if (fill.background) { #<fill><patternFill patternType="solid"><fgColor rgb="${fill.background}"/></patternFill></fill># } ## } #</fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellXfs count="${styles.length+1}"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/># for (var si = 0; si < styles.length; si++) { ## var style = styles[si]; #<xf xfid="0"# if (style.fontId) { # fontId="${style.fontId}" applyFont="1"# } ## if (style.fillId) { # fillId="${style.fillId}" applyFill="1"# } ## if (style.numFmtId) { # numFmtId="${style.numFmtId}" applyNumberFormat="1"# } ## if (style.hAlign || style.vAlign || style.wrap) { # applyAlignment="1"# } #># if (style.hAlign || style.vAlign || style.wrap) { #<alignment# if (style.hAlign) { # horizontal="${style.hAlign}"# } ## if (style.vAlign) { # vertical="${style.vAlign}"# } ## if (style.wrap) { # wrapText="1"# } #/># } #</xf># } #</cellXfs><dxfs count="0" /><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleMedium9" /></styleSheet>');function p(v){var w=Math.floor(v/26)-1;return(w>=0?p(w):"")+String.fromCharCode(65+(v%26))}function h(w,v){return p(v)+(w+1)}function q(w,v){return p(v)+"$"+(w+1)}function f(v){return((v.freezePane||{}).rowSplit||1)-1}var c=n.timezone.remove(new Date(1900,0,0),"Etc/UTC");var g=n.Class.extend({init:function(w,v,x){this.options=w;this._strings=v;this._styles=x;this._mergeCells=[]},toXML:function(v){var A=this.options.rows||[];var y=this.options.filter;var x={};this._maxCellIndex=0;var z=[];for(var w=0;w<A.length;w++){z.push(this._row(A,x,A[w],w))}return s({freezePane:this.options.freezePane,columns:this.options.columns,data:z,index:v,mergeCells:this._mergeCells,filter:y?{from:h(f(this.options),y.from),to:h(f(this.options),y.to)}:null})},_row:function(E,y,D,z){if(this._cellIndex&&this._cellIndex>this._maxCellIndex){this._maxCellIndex=this._cellIndex}this._cellIndex=0;var B;var x=[];var C=D.cells;for(var A=0,v=C.length;A<v;A++){B=this._cell(C[A],y,z);if(B){x.push.apply(x,B)}}var w;while(this._cellIndex<this._maxCellIndex){w=y[this._cellIndex];if(w){w.rowSpan-=1}x.push({ref:h(z,this._cellIndex)});this._cellIndex++}return{data:x}},_lookupString:function(x){var w="$"+x;var v=this._strings.indexes[w];if(v!==undefined){x=v}else{x=this._strings.indexes[w]=this._strings.uniqueCount;this._strings.uniqueCount++}this._strings.count++;return x},_lookupStyle:function(x){var w=n.stringify(x);if(w=="{}"){return 0}var v=e.inArray(w,this._styles);if(v<0){v=this._styles.push(w)-1}return v+1},_cell:function(B,D,G){if(!B){this._cellIndex++;return}var H=B.value;var w={bold:B.bold,color:B.color,background:B.background,italic:B.italic,underline:B.underline,fontName:B.fontName,fontSize:B.fontSize,format:B.format,hAlign:B.hAlign,vAlign:B.vAlign,wrap:B.wrap};var y=this.options.columns||[];var x=y[this._cellIndex];if(x&&x.autoWidth){x.width=Math.max(x.width||0,(""+H).length)}var F=typeof H;if(F==="string"){H=this._lookupString(H);F="s"}else{if(F==="number"){F="n"}else{if(F==="boolean"){F="b";H=+H}else{if(H&&H.getTime){F=null;H=(n.timezone.remove(H,"Etc/UTC")-c)/n.date.MS_PER_DAY+1;if(!w.format){w.format="mm-dd-yy"}}else{F=null;H=""}}}}w=this._lookupStyle(w);var I=[];var v,A;var z=D[this._cellIndex]||{};while(z.rowSpan>1){z.rowSpan-=1;v=z.colSpan;while(v>0){I.push({ref:h(G,this._cellIndex)});v--;this._cellIndex++}z=D[this._cellIndex]||{}}A=h(G,this._cellIndex);I.push({value:H,type:F,style:w,ref:A});var C=B.colSpan||1;var E=B.rowSpan||1;if(C>1||E>1){if(E>1){D[this._cellIndex]={colSpan:C,rowSpan:E}}for(var J=1;J<C;J++){this._cellIndex++;I.push({ref:h(G,this._cellIndex)})}this._mergeCells.push(A+":"+h(G+E-1,this._cellIndex))}this._cellIndex++;return I}});var u={General:0,"0":1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49,"[$-404]e/m/d":27,"m/d/yy":30,t0:59,"t0.00":60,"t#,##0":61,"t#,##0.00":62,"t0%":67,"t0.00%":68,"t# ?/?":69,"t# ??/??":70};function i(v){if(v.length<6){v=v.replace(/(\w)/g,function(x,w){return w+w})}v=v.substring(1).toUpperCase();if(v.length<8){v="FF"+v}return v}var r=n.Class.extend({init:function(v){this.options=v||{};this._strings={indexes:{},count:0,uniqueCount:0};this._styles=[];this._sheets=e.map(this.options.sheets||[],e.proxy(function(w){return new g(w,this._strings,this._styles)},this))},toDataURL:function(){if(typeof JSZip==="undefined"){throw new Error("JSZip not found. Check http://docs.telerik.com/kendo-ui/framework/excel/introduction#requirements for more details.")}var w=new JSZip();var y=w.folder("docProps");y.file("core.xml",d({creator:this.options.creator||"Kendo UI",lastModifiedBy:this.options.creator||"Kendo UI",created:this.options.date||new Date().toJSON(),modified:this.options.date||new Date().toJSON()}));var H=this._sheets.length;y.file("app.xml",k({sheets:this._sheets}));var C=w.folder("_rels");C.file(".rels",l);var A=w.folder("xl");var z=A.folder("_rels");z.file("workbook.xml.rels",b({count:H}));A.file("workbook.xml",j({sheets:this._sheets,definedNames:e.map(this._sheets,function(L,K){var J=L.options;var M=J.filter;if(M){return{localSheetId:K,name:(J.title||"Sheet"+(K+1)),from:q(f(J),M.from),to:q(f(J),M.to)}}})}));var x=A.folder("worksheets");var v=new Date();for(var G=0;G<H;G++){x.file(n.format("sheet{0}.xml",G+1),this._sheets[G].toXML(G))}var I=e.map(this._styles,e.parseJSON);var F=function(J){return J.underline||J.bold||J.italic||J.color||J.fontName||J.fontSize};var E=e.map(I,function(J){if(J.color){J.color=i(J.color)}if(F(J)){return J}});var D=e.map(I,function(J){if(J.format&&u[J.format]===undefined){return J}});var B=e.map(I,function(J){if(J.background){J.background=i(J.background);return J}});A.file("styles.xml",t({fonts:E,fills:B,formats:D,styles:e.map(I,function(K){var J={};if(F(K)){J.fontId=e.inArray(K,E)+1}if(K.background){J.fillId=e.inArray(K,B)+2}J.hAlign=K.hAlign;J.vAlign=K.vAlign;J.wrap=K.wrap;if(K.format){if(u[K.format]!==undefined){J.numFmtId=u[K.format]}else{J.numFmtId=165+e.inArray(K,D)}}return J})}));A.file("sharedStrings.xml",m(this._strings));w.file("[Content_Types].xml",o({count:H}));return"data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,"+w.generate({compression:"DEFLATE"})}});n.ooxml={Workbook:r,Worksheet:g}})(kendo.jQuery,kendo);(function(b,c){c.ExcelExporter=c.Class.extend({init:function(d){d.columns=this._trimColumns(d.columns||[]);this.allColumns=b.map(this._leafColumns(d.columns||[]),this._prepareColumn);this.columns=b.grep(this.allColumns,function(g){return !g.hidden});this.options=d;var f=d.dataSource;if(f instanceof c.data.DataSource){this.dataSource=new f.constructor(b.extend({},f.options,{page:d.allPages?0:f.page(),filter:f.filter(),pageSize:d.allPages?f.total():f.pageSize(),sort:f.sort(),group:f.group(),aggregate:f.aggregate()}));var e=f.data();if(e.length>0){this.dataSource._data=e}}else{this.dataSource=c.data.DataSource.create(f)}},_trimColumns:function(d){var e=this;return b.grep(d,function(g){var f=!(!g.field);if(!f&&g.columns){f=e._trimColumns(g.columns).length>0}return f})},_leafColumns:function(f){var e=[];for(var d=0;d<f.length;d++){if(!f[d].columns){e.push(f[d]);continue}e=e.concat(this._leafColumns(f[d].columns))}return e},workbook:function(){return b.Deferred(b.proxy(function(e){this.dataSource.fetch().then(b.proxy(function(){var d={sheets:[{columns:this._columns(),rows:this._rows(),freezePane:this._freezePane(),filter:this._filter()}]};e.resolve(d,this.dataSource.view())},this))},this)).promise()},_prepareColumn:function(e){if(!e.field){return}var f=function(g){return g.get(e.field)};var d=null;if(e.values){d={};b.each(e.values,function(g){d[this.value]=this.text});f=function(g){return d[g.get(e.field)]}}return b.extend({},e,{value:f,values:d,groupHeaderTemplate:c.template(e.groupHeaderTemplate||"${title}: ${value}"),groupFooterTemplate:e.groupFooterTemplate?c.template(e.groupFooterTemplate):null,footerTemplate:e.footerTemplate?c.template(e.footerTemplate):null})},_filter:function(){if(!this.options.filterable){return null}var d=this._depth();return{from:d,to:d+this.columns.length-1}},_dataRow:function(d,e,h){if(this._hierarchical()){e=this.dataSource.level(d)+1}var n=[];for(var m=0;m<e;m++){n[m]={background:"#dfdfdf",color:"#333"}}if(h&&d.items){var g=b.grep(this.allColumns,function(q){return q.field==d.field})[0];var i=g&&g.title?g.title:d.field;var l=g?g.groupHeaderTemplate:null;var j=i+": "+d.value;var k=b.extend({title:i,field:d.field,value:g&&g.values?g.values[d.value]:d.value,aggregates:d.aggregates},d.aggregates[d.field]);if(l){j=l(k)}n.push({value:j,background:"#dfdfdf",color:"#333",colSpan:this.columns.length+h-e});var p=this._dataRows(d.items,e+1);p.unshift({type:"group-header",cells:n});return p.concat(this._footer(d))}else{var f=[];for(var o=0;o<this.columns.length;o++){f[o]=this._cell(d,this.columns[o])}if(this._hierarchical()){f[0].colSpan=h-e+1}return[{type:"data",cells:n.concat(f)}]}},_dataRows:function(d,h){var g=this._depth();var f=[];for(var e=0;e<d.length;e++){f.push.apply(f,this._dataRow(d[e],h,g))}return f},_footer:function(e){var f=[];var g=false;var d=b.map(this.columns,b.proxy(function(h){if(h.groupFooterTemplate){g=true;return{background:"#dfdfdf",color:"#333",value:h.groupFooterTemplate(b.extend({},this.dataSource.aggregates(),e.aggregates,e.aggregates[h.field]))}}else{return{background:"#dfdfdf",color:"#333"}}},this));if(g){f.push({type:"group-footer",cells:b.map(new Array(this.dataSource.group().length),function(){return{background:"#dfdfdf",color:"#333"}}).concat(d)})}return f},_isColumnVisible:function(d){return this._visibleColumns([d]).length>0&&(d.field||d.columns)},_visibleColumns:function(d){var e=this;return b.grep(d,function(g){var f=!g.hidden;if(f&&g.columns){f=e._visibleColumns(g.columns).length>0}return f})},_headerRow:function(f,d){var e=b.map(f.cells,function(g){return{background:"#7a7a7a",color:"#fff",value:g.title,colSpan:g.colSpan>1?g.colSpan:1,rowSpan:f.rowSpan>1&&!g.colSpan?f.rowSpan:1}});if(this._hierarchical()){e[0].colSpan=this._depth()+1}return{type:"header",cells:b.map(new Array(d.length),function(){return{background:"#7a7a7a",color:"#fff"}}).concat(e)}},_prependHeaderRows:function(g){var e=this.dataSource.group();var f=[{rowSpan:1,cells:[],index:0}];this._prepareHeaderRows(f,this.options.columns);for(var d=f.length-1;d>=0;d--){g.unshift(this._headerRow(f[d],e))}},_prepareHeaderRows:function(l,f,d,j){var k=j||l[l.length-1];var g=l[k.index+1];var m=0;var e;var i;for(var h=0;h<f.length;h++){e=f[h];if(this._isColumnVisible(e)){i={title:e.title||e.field,colSpan:0};k.cells.push(i);if(e.columns&&e.columns.length){if(!g){g={rowSpan:0,cells:[],index:l.length};l.push(g)}i.colSpan=this._trimColumns(this._visibleColumns(e.columns)).length;this._prepareHeaderRows(l,e.columns,i,g);m+=i.colSpan-1;k.rowSpan=l.length-k.index}}}if(d){d.colSpan+=m}},_rows:function(){var d=this.dataSource.group();var f=this._dataRows(this.dataSource.view(),0);if(this.columns.length){this._prependHeaderRows(f);var g=false;var e=b.map(this.columns,b.proxy(function(i){if(i.footerTemplate){g=true;var j=this.dataSource.aggregates();var h=j[i.field]||{};h.data=j;return{background:"#dfdfdf",color:"#333",value:i.footerTemplate(h)}}else{return{background:"#dfdfdf",color:"#333"}}},this));if(g){f.push({type:"footer",cells:b.map(new Array(d.length),function(){return{background:"#dfdfdf",color:"#333"}}).concat(e)})}}return f},_headerDepth:function(h){var f=1;var e=0;for(var d=0;d<h.length;d++){if(h[d].columns){var g=this._headerDepth(h[d].columns);if(g>e){e=g}}}return f+e},_freezePane:function(){var e=this._visibleColumns(this.options.columns||[]);var d=this._trimColumns(this._leafColumns(b.grep(e,function(f){return f.locked}))).length;return{rowSplit:this._headerDepth(e),colSplit:d?d+this.dataSource.group().length:0}},_cell:function(d,e){return{value:e.value(d)}},_hierarchical:function(){return this.options.hierarchy&&this.dataSource.level},_depth:function(){var g=this.dataSource;var f=0;var d,e,h;if(this._hierarchical()){d=g.view();for(e=0;e<d.length;e++){h=g.level(d[e]);if(h>f){f=h}}f++}else{f=g.group().length}return f},_columns:function(){var e=this._depth();var d=b.map(new Array(e),function(){return{width:20}});return d.concat(b.map(this.columns,function(f){return{width:parseInt(f.width,10),autoWidth:f.width?false:true}}))}});c.ExcelMixin={extend:function(d){d.events.push("excelExport");d.options.excel=b.extend(d.options.excel,this.options);d.saveAsExcel=this.saveAsExcel},options:{proxyURL:"",allPages:false,filterable:false,fileName:"Export.xlsx"},saveAsExcel:function(){var e=this.options.excel||{};var d=new c.ExcelExporter({columns:this.columns,dataSource:this.dataSource,allPages:e.allPages,filterable:e.filterable,hierarchy:e.hierarchy});d.workbook().then(b.proxy(function(g,h){if(!this.trigger("excelExport",{workbook:g,data:h})){var f=new c.ooxml.Workbook(g);c.saveAs({dataURI:f.toDataURL(),fileName:g.fileName||e.fileName,proxyURL:e.proxyURL,forceProxy:e.forceProxy})}},this))}}})(kendo.jQuery,kendo);(function(b){var c=kendo.data.RemoteTransport.extend({init:function(e){var d=e&&e.signalr?e.signalr:{};var g=d.promise;if(!g){throw new Error('The "promise" option must be set.')}if(typeof g.done!="function"||typeof g.fail!="function"){throw new Error('The "promise" option must be a Promise.')}this.promise=g;var f=d.hub;if(!f){throw new Error('The "hub" option must be set.')}if(typeof f.on!="function"||typeof f.invoke!="function"){throw new Error('The "hub" option is not a valid SignalR hub proxy.')}this.hub=f;kendo.data.RemoteTransport.fn.init.call(this,e)},push:function(e){var d=this.options.signalr.client||{};if(d.create){this.hub.on(d.create,e.pushCreate)}if(d.update){this.hub.on(d.update,e.pushUpdate)}if(d.destroy){this.hub.on(d.destroy,e.pushDestroy)}},_crud:function(e,g){var f=this.hub;var i=this.options.signalr.server;if(!i||!i[g]){throw new Error(kendo.format('The "server.{0}" option must be set.',g))}var d=[i[g]];var h=this.parameterMap(e.data,g);if(!b.isEmptyObject(h)){d.push(h)}this.promise.done(function(){f.invoke.apply(f,d).done(e.success).fail(e.error)})},read:function(d){this._crud(d,"read")},create:function(d){this._crud(d,"create")},update:function(d){this._crud(d,"update")},destroy:function(d){this._crud(d,"destroy")}});b.extend(true,kendo.data,{transports:{signalr:c}})})(window.kendo.jQuery);(function(f,m,k){var b=function(u){var q=this,p=b.formats,t,s,v,r,o;if(arguments.length===1){u=q.resolveColor(u);for(r=0;r<p.length;r++){t=p[r].re;s=p[r].process;v=t.exec(u);if(v){o=s(v);q.r=o[0];q.g=o[1];q.b=o[2]}}}else{q.r=arguments[0];q.g=arguments[1];q.b=arguments[2]}q.r=q.normalizeByte(q.r);q.g=q.normalizeByte(q.g);q.b=q.normalizeByte(q.b)};b.prototype={toHex:function(){var o=this,s=o.padDigit,q=o.r.toString(16),p=o.g.toString(16),i=o.b.toString(16);return"#"+s(q)+s(p)+s(i)},resolveColor:function(i){i=i||"black";if(i.charAt(0)=="#"){i=i.substr(1,6)}i=i.replace(/ /g,"");i=i.toLowerCase();i=b.namedColors[i]||i;return i},normalizeByte:function(i){return(i<0||isNaN(i))?0:((i>255)?255:i)},padDigit:function(i){return(i.length===1)?"0"+i:i},brightness:function(p){var o=this,i=Math.round;o.r=i(o.normalizeByte(o.r*p));o.g=i(o.normalizeByte(o.g*p));o.b=i(o.normalizeByte(o.b*p));return o},percBrightness:function(){var i=this;return Math.sqrt(0.241*i.r*i.r+0.691*i.g*i.g+0.068*i.b*i.b)}};b.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(i){return[k(i[1],10),k(i[2],10),k(i[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(i){return[k(i[1],16),k(i[2],16),k(i[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(i){return[k(i[1]+i[1],16),k(i[2]+i[2],16),k(i[3]+i[3],16)]}}];b.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};var j=["transparent"];for(var g in b.namedColors){if(b.namedColors.hasOwnProperty(g)){j.push(g)}}j=new RegExp("^("+j.join("|")+")(\\W|$)","i");function n(p,o){var i,q;if(p==null||p=="none"){return null}if(p instanceof e){return p}p=p.toLowerCase();if((i=j.exec(p))){if(i[1]=="transparent"){p=new h(1,1,1,0)}else{p=n(b.namedColors[i[1]],o)}p.match=[i[1]];return p}if((i=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i.exec(p))){q=new l(k(i[1],16),k(i[2],16),k(i[3],16),1)}else{if((i=/^#?([0-9a-f])([0-9a-f])([0-9a-f])/i.exec(p))){q=new l(k(i[1]+i[1],16),k(i[2]+i[2],16),k(i[3]+i[3],16),1)}else{if((i=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(p))){q=new l(k(i[1],10),k(i[2],10),k(i[3],10),1)}else{if((i=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(p))){q=new l(k(i[1],10),k(i[2],10),k(i[3],10),m(i[4]))}else{if((i=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(p))){q=new h(m(i[1])/100,m(i[2])/100,m(i[3])/100,1)}else{if((i=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(p))){q=new h(m(i[1])/100,m(i[2])/100,m(i[3])/100,m(i[4]))}}}}}}if(q){q.match=i}else{if(!o){throw new Error("Cannot parse color: "+p)}}return q}function d(p,i,o){if(!o){o="0"}p=p.toString(16);while(i>p.length){p="0"+p}return p}var e=kendo.Class.extend({toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var i=this.toBytes();return"rgba("+i.r+", "+i.g+", "+i.b+", "+m((+this.a).toFixed(3))+")"},toDisplay:function(){if(kendo.support.browser.msie&&kendo.support.browser.version<9){return this.toCss()}return this.toCssRgba()},equals:function(i){return i===this||i!==null&&this.toCssRgba()==n(i).toCssRgba()},diff:function(i){if(i==null){return NaN}var o=this.toBytes();i=i.toBytes();return Math.sqrt(Math.pow((o.r-i.r)*0.3,2)+Math.pow((o.g-i.g)*0.59,2)+Math.pow((o.b-i.b)*0.11,2))},clone:function(){var i=this.toBytes();if(i===this){i=new l(i.r,i.g,i.b,i.a)}return i}});var h=e.extend({init:function(q,p,i,o){this.r=q;this.g=p;this.b=i;this.a=o},toHSV:function(){var o,u,w,p,y,x;var i=this.r,q=this.g,t=this.b;o=Math.min(i,q,t);u=Math.max(i,q,t);x=u;w=u-o;if(w===0){return new c(0,0,x,this.a)}if(u!==0){y=w/u;if(i==u){p=(q-t)/w}else{if(q==u){p=2+(t-i)/w}else{p=4+(i-q)/w}}p*=60;if(p<0){p+=360}}else{y=0;p=-1}return new c(p,y,x,this.a)},toBytes:function(){return new l(this.r*255,this.g*255,this.b*255,this.a)}});var l=h.extend({init:function(q,p,i,o){this.r=Math.round(q);this.g=Math.round(p);this.b=Math.round(i);this.a=o},toRGB:function(){return new h(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHex:function(){return d(this.r,2)+d(this.g,2)+d(this.b,2)},toBytes:function(){return this}});var c=e.extend({init:function(q,p,o,i){this.h=q;this.s=p;this.v=o;this.a=i},toRGB:function(){var y=this.h,E=this.s,C=this.v;var x,o,z,B,A,w,u,D;if(E===0){o=z=B=C}else{y/=60;x=Math.floor(y);A=y-x;w=C*(1-E);u=C*(1-E*A);D=C*(1-E*(1-A));switch(x){case 0:o=C;z=D;B=w;break;case 1:o=u;z=C;B=w;break;case 2:o=w;z=C;B=D;break;case 3:o=w;z=u;B=C;break;case 4:o=D;z=w;B=C;break;default:o=C;z=w;B=u;break}}return new h(o,z,B,this.a)},toBytes:function(){return this.toRGB().toBytes()}});b.fromBytes=function(q,p,i,o){return new l(q,p,i,o!=null?o:1)};b.fromRGB=function(q,p,i,o){return new h(q,p,i,o!=null?o:1)};b.fromHSV=function(q,p,o,i){return new c(q,p,o,i!=null?i:1)};kendo.Color=b;kendo.parseColor=n})(window.kendo.jQuery,parseFloat,parseInt);(function(A){var w=Math,F=window.kendo,H=F.deepExtend,h=F.dataviz;var z=w.PI/180,d=Number.MAX_VALUE,Q=-Number.MAX_VALUE,C="undefined",P=A.inArray,L=[].push,D=[].pop,q=[].splice,u=[].shift,k=[].slice,x=[].unshift;function M(T){return typeof T!==C}function O(V,T){var U=v(T);return w.round(V*U)/U}function v(T){if(T){return w.pow(10,T)}else{return 1}}function m(V,U,T){return w.max(w.min(V,T),U)}function f(T){return T*z}function o(T){return T/z}function S(T){return typeof T==="number"&&!isNaN(T)}function e(U,T){return M(U)?U:T}function y(T){return T*T}function R(T){var V=[];for(var U in T){V.push(U+T[U])}return V.sort().join("")}function E(V){var U=2166136261;for(var T=0;T<V.length;++T){U+=(U<<1)+(U<<4)+(U<<7)+(U<<8)+(U<<24);U^=V.charCodeAt(T)}return U>>>0}function p(T){return E(R(T))}var J=Date.now;if(!J){J=function(){return new Date().getTime()}}function s(U){var X=U.length,W,V=d,T=Q;for(W=0;W<X;W++){T=w.max(T,U[W]);V=w.min(V,U[W])}return{min:V,max:T}}function r(T){return s(T).min}function b(T){return s(T).max}function j(T){return i(T).min}function N(T){return i(T).max}function i(U){var W=d,T=Q;for(var V=0,X=U.length;V<X;V++){var Y=U[V];if(Y!==null&&isFinite(Y)){W=w.min(W,Y);T=w.max(T,Y)}}return{min:W===d?undefined:W,max:T===Q?undefined:T}}function l(T){if(T){return T[T.length-1]}}function I(U,T){U.push.apply(U,T);return U}function c(T){return F.template(T,{useWithBlock:false,paramName:"d"})}function G(T,U){return(M(U)&&U!==null)?" "+T+"='"+U+"' ":""}function B(U){var T="";for(var V=0;V<U.length;V++){T+=G(U[V][0],U[V][1])}return T}function g(U){var T="";for(var V=0;V<U.length;V++){var W=U[V][1];if(M(W)){T+=U[V][0]+":"+W+";"}}if(T!==""){return T}}function t(T){if(typeof T!=="string"){T+="px"}return T}function K(W){var T=[];if(W){var V=F.toHyphens(W).split("-");for(var U=0;U<V.length;U++){T.push("k-pos-"+V[U])}}return T.join(" ")}function n(T){return T===""||T===null||T==="none"||T==="transparent"||!M(T)}H(F,{util:{MAX_NUM:d,MIN_NUM:Q,append:I,arrayLimits:s,arrayMin:r,arrayMax:b,defined:M,deg:o,hashKey:E,hashObject:p,isNumber:S,isTransparent:n,last:l,limitValue:m,now:J,objectKey:R,round:O,rad:f,renderAttr:G,renderAllAttr:B,renderPos:K,renderSize:t,renderStyle:g,renderTemplate:c,sparseArrayLimits:i,sparseArrayMin:j,sparseArrayMax:N,sqr:y,valueOrDefault:e}});F.dataviz.util=F.util})(window.kendo.jQuery);(function(f){var h=window.kendo,d=h.deepExtend,e=String.fromCharCode;var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function b(l){var j="";var s,q,o,r,p,n,m;var k=0;l=g(l);while(k<l.length){s=l.charCodeAt(k++);q=l.charCodeAt(k++);o=l.charCodeAt(k++);r=s>>2;p=((s&3)<<4)|(q>>4);n=((q&15)<<2)|(o>>6);m=o&63;if(isNaN(q)){n=m=64}else{if(isNaN(o)){m=64}}j=j+c.charAt(r)+c.charAt(p)+c.charAt(n)+c.charAt(m)}return j}function g(k){k=k.replace(/\r\n/g,"\n");var j="";for(var l=0;l<k.length;l++){var m=k.charCodeAt(l);if(m<128){j+=e(m)}else{if(m<2048){j+=e(192|(m>>>6));j+=e(128|(m&63))}else{if(m<65536){j+=e(224|(m>>>12));j+=e(128|(m>>>6&63));j+=e(128|(m&63))}}}}return j}d(h.util,{encodeBase64:b,encodeUTF8:g})})(window.kendo.jQuery);(function(f){var d=Math,g=window.kendo,b=g.deepExtend,c=f.inArray;var e={observers:function(){this._observers=this._observers||[];return this._observers},addObserver:function(h){if(!this._observers){this._observers=[h]}else{this._observers.push(h)}return this},removeObserver:function(i){var j=this.observers();var h=c(i,j);if(h!=-1){j.splice(h,1)}return this},trigger:function(j,k){var l=this._observers;var i;var h;if(l&&!this._suspended){for(h=0;h<l.length;h++){i=l[h];if(i[j]){i[j](k)}}}return this},optionsChange:function(h){this.trigger("optionsChange",h)},geometryChange:function(h){this.trigger("geometryChange",h)},suspend:function(){this._suspended=(this._suspended||0)+1;return this},resume:function(){this._suspended=d.max((this._suspended||0)-1,0);return this},_observerField:function(i,h){if(this[i]){this[i].removeObserver(this)}this[i]=h;h.addObserver(this)}};b(g,{mixins:{ObserversMixin:e}})})(window.kendo.jQuery);(function(k){var g=Math,h=g.pow,B=k.inArray,t=window.kendo,z=t.Class,p=t.deepExtend,l=t.mixins.ObserversMixin,b=t.util,e=b.defined,E=b.rad,r=b.deg,D=b.round;var H=g.PI/2,d=b.MIN_NUM,i=b.MAX_NUM;var F=z.extend({init:function(I,J){this.x=I||0;this.y=J||0},equals:function(I){return I&&I.x===this.x&&I.y===this.y},clone:function(){return new F(this.x,this.y)},rotate:function(J,I){return this.transform(q().rotate(J,I))},translate:function(I,J){this.x+=I;this.y+=J;this.geometryChange();return this},translateWith:function(I){return this.translate(I.x,I.y)},move:function(I,J){this.x=this.y=0;return this.translate(I,J)},scale:function(J,I){if(!e(I)){I=J}this.x*=J;this.y*=I;this.geometryChange();return this},scaleCopy:function(J,I){return this.clone().scale(J,I)},transform:function(J){var K=o(J),I=this.x,L=this.y;this.x=K.a*I+K.c*L+K.e;this.y=K.b*I+K.d*L+K.f;this.geometryChange();return this},transformCopy:function(J){var I=this.clone();if(J){I.transform(J)}return I},distanceTo:function(I){var K=this.x-I.x;var J=this.y-I.y;return g.sqrt(K*K+J*J)},round:function(I){this.x=D(this.x,I);this.y=D(this.y,I);this.geometryChange();return this},toArray:function(K){var J=e(K);var I=J?D(this.x,K):this.x;var L=J?D(this.y,K):this.y;return[I,L]}});f(F.fn,["x","y"]);p(F.fn,l);F.fn.toString=function(J,K){var I=this.x,L=this.y;if(e(J)){I=D(I,J);L=D(L,J)}K=K||" ";return I+K+L};F.create=function(J,I){if(e(J)){if(J instanceof F){return J}else{if(arguments.length===1&&J.length===2){return new F(J[0],J[1])}else{return new F(J,I)}}}};F.min=function(){var I=b.MAX_NUM;var L=b.MAX_NUM;for(var J=0;J<arguments.length;J++){var K=arguments[J];I=g.min(K.x,I);L=g.min(K.y,L)}return new F(I,L)};F.max=function(N,M){var L=b.MIN_NUM;var J=b.MIN_NUM;for(var I=0;I<arguments.length;I++){var K=arguments[I];L=g.max(K.x,L);J=g.max(K.y,J)}return new F(L,J)};F.minPoint=function(){return new F(d,d)};F.maxPoint=function(){return new F(i,i)};F.ZERO=new F(0,0);var A=z.extend({init:function(J,I){this.width=J||0;this.height=I||0},equals:function(I){return I&&I.width===this.width&&I.height===this.height},clone:function(){return new A(this.width,this.height)},toArray:function(L){var K=e(L);var J=K?D(this.width,L):this.width;var I=K?D(this.height,L):this.height;return[J,I]}});f(A.fn,["width","height"]);p(A.fn,l);A.create=function(J,I){if(e(J)){if(J instanceof A){return J}else{if(arguments.length===1&&J.length===2){return new A(J[0],J[1])}else{return new A(J,I)}}}};A.ZERO=new A(0,0);var n=z.extend({init:function(I,J){this.setOrigin(I||new F());this.setSize(J||new A())},clone:function(){return new n(this.origin.clone(),this.size.clone())},equals:function(I){return I&&I.origin.equals(this.origin)&&I.size.equals(this.size)},setOrigin:function(I){this._observerField("origin",F.create(I));this.geometryChange();return this},getOrigin:function(){return this.origin},setSize:function(I){this._observerField("size",A.create(I));this.geometryChange();return this},getSize:function(){return this.size},width:function(){return this.size.width},height:function(){return this.size.height},topLeft:function(){return this.origin.clone()},bottomRight:function(){return this.origin.clone().translate(this.width(),this.height())},topRight:function(){return this.origin.clone().translate(this.width(),0)},bottomLeft:function(){return this.origin.clone().translate(0,this.height())},center:function(){return this.origin.clone().translate(this.width()/2,this.height()/2)},bbox:function(J){var I=this.topLeft().transformCopy(J);var L=this.topRight().transformCopy(J);var K=this.bottomRight().transformCopy(J);var M=this.bottomLeft().transformCopy(J);return n.fromPoints(I,L,K,M)},transformCopy:function(I){return n.fromPoints(this.topLeft().transform(I),this.bottomRight().transform(I))}});p(n.fn,l);n.fromPoints=function(){var K=F.min.apply(this,arguments);var J=F.max.apply(this,arguments);var I=new A(J.x-K.x,J.y-K.y);return new n(K,I)};n.union=function(J,I){return n.fromPoints(F.min(J.topLeft(),I.topLeft()),F.max(J.bottomRight(),I.bottomRight()))};n.intersect=function(J,I){J={left:J.topLeft().x,top:J.topLeft().y,right:J.bottomRight().x,bottom:J.bottomRight().y};I={left:I.topLeft().x,top:I.topLeft().y,right:I.bottomRight().x,bottom:I.bottomRight().y};if(J.left<=I.right&&I.left<=J.right&&J.top<=I.bottom&&I.top<=J.bottom){return n.fromPoints(new F(g.max(J.left,I.left),g.max(J.top,I.top)),new F(g.min(J.right,I.right),g.min(J.bottom,I.bottom)))}};var w=z.extend({init:function(J,I){this.setCenter(J||new F());this.setRadius(I||0)},setCenter:function(I){this._observerField("center",F.create(I));this.geometryChange();return this},getCenter:function(){return this.center},equals:function(I){return I&&I.center.equals(this.center)&&I.radius===this.radius},clone:function(){return new w(this.center.clone(),this.radius)},pointAt:function(I){return this._pointAt(E(I))},bbox:function(K){var I=F.maxPoint();var J=F.minPoint();var P=G(this.center,this.radius,this.radius,K);for(var L=0;L<4;L++){var O=this._pointAt(P.x+L*H).transformCopy(K);var N=this._pointAt(P.y+L*H).transformCopy(K);var M=new F(O.x,N.y);I=F.min(I,M);J=F.max(J,M)}return n.fromPoints(I,J)},_pointAt:function(J){var K=this.center;var I=this.radius;return new F(K.x-I*g.cos(J),K.y-I*g.sin(J))}});f(w.fn,["radius"]);p(w.fn,l);var v=z.extend({init:function(I,J){this.setCenter(I||new F());J=J||{};this.radiusX=J.radiusX;this.radiusY=J.radiusY||J.radiusX;this.startAngle=J.startAngle;this.endAngle=J.endAngle;this.anticlockwise=J.anticlockwise||false},clone:function(){return new v(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})},setCenter:function(I){this._observerField("center",F.create(I));this.geometryChange();return this},getCenter:function(){return this.center},MAX_INTERVAL:45,pointAt:function(K){var I=this.center;var J=E(K);return new F(I.x+this.radiusX*g.cos(J),I.y+this.radiusY*g.sin(J))},curvePoints:function(){var R=this.startAngle;var N=this.endAngle;var O=this.anticlockwise?-1:1;var M=[this.pointAt(R)];var P=R;var K=this._arcInterval();var T=K.endAngle-K.startAngle;var I=g.ceil(T/this.MAX_INTERVAL);var J=T/I;for(var Q=1;Q<=I;Q++){var L=P+O*J;var S=this._intervalCurvePoints(P,L);M.push(S.cp1,S.cp2,S.p2);P=L}return M},bbox:function(W){var K=this;var N=K._arcInterval();var T=N.startAngle;var O=N.endAngle;var P=G(this.center,this.radiusX,this.radiusY,W);var L=r(P.x);var I=r(P.y);var X=K.pointAt(T).transformCopy(W);var U=K.pointAt(O).transformCopy(W);var V=F.min(X,U);var R=F.max(X,U);var M=y(L,T);var J=y(I,T);while(M<O||J<O){var S;if(M<O){S=K.pointAt(M).transformCopy(W);M+=90}var Q;if(J<O){Q=K.pointAt(J).transformCopy(W);J+=90}X=new F(S.x,Q.y);V=F.min(V,X);R=F.max(R,X)}return n.fromPoints(V,R)},_arcInterval:function(){var J=this.startAngle;var I=this.endAngle;var L=this.anticlockwise;if(L){var K=J;J=I;I=K}if(J>I||(L&&J===I)){I+=360}return{startAngle:J,endAngle:I}},_intervalCurvePoints:function(O,K){var I=this;var Q=I.pointAt(O);var P=I.pointAt(K);var N=I._derivativeAt(O);var J=I._derivativeAt(K);var R=(E(K)-E(O))/3;var M=new F(Q.x+R*N.x,Q.y+R*N.y);var L=new F(P.x-R*J.x,P.y-R*J.y);return{p1:Q,cp1:M,cp2:L,p2:P}},_derivativeAt:function(K){var I=this;var J=E(K);return new F(-I.radiusX*g.sin(J),I.radiusY*g.cos(J))}});f(v.fn,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]);p(v.fn,l);v.fromPoints=function(O,J,N,L,M,K){var I=m(O.x,O.y,J.x,J.y,N,L,M,K);return new v(I.center,{startAngle:I.startAngle,endAngle:I.endAngle,radiusX:N,radiusY:L,anticlockwise:K===0})};var u=z.extend({init:function(J,I,N,M,L,K){this.a=J||0;this.b=I||0;this.c=N||0;this.d=M||0;this.e=L||0;this.f=K||0},multiplyCopy:function(I){return new u(this.a*I.a+this.c*I.b,this.b*I.a+this.d*I.b,this.a*I.c+this.c*I.d,this.b*I.c+this.d*I.d,this.a*I.e+this.c*I.f+this.e,this.b*I.e+this.d*I.f+this.f)},invert:function(){var J=this.a,I=this.b;var O=this.c,N=this.d;var M=this.e,L=this.f;var K=J*N-I*O;if(K===0){return null}return new u(N/K,-I/K,-O/K,J/K,(O*L-N*M)/K,(I*M-J*L)/K)},clone:function(){return new u(this.a,this.b,this.c,this.d,this.e,this.f)},equals:function(I){if(!I){return false}return this.a===I.a&&this.b===I.b&&this.c===I.c&&this.d===I.d&&this.e===I.e&&this.f===I.f},round:function(I){this.a=D(this.a,I);this.b=D(this.b,I);this.c=D(this.c,I);this.d=D(this.d,I);this.e=D(this.e,I);this.f=D(this.f,I);return this},toArray:function(J){var I=[this.a,this.b,this.c,this.d,this.e,this.f];if(e(J)){for(var K=0;K<I.length;K++){I[K]=D(I[K],J)}}return I}});u.fn.toString=function(I,J){return this.toArray(I).join(J||",")};u.translate=function(I,J){return new u(1,0,0,1,I,J)};u.unit=function(){return new u(1,0,0,1,0,0)};u.rotate=function(K,J,L){var I=new u();I.a=g.cos(E(K));I.b=g.sin(E(K));I.c=-I.b;I.d=I.a;I.e=(J-J*I.a+L*I.b)||0;I.f=(L-L*I.a-J*I.b)||0;return I};u.scale=function(J,I){return new u(J,0,0,I,0,0)};u.IDENTITY=u.unit();var C=z.extend({init:function(I){this._matrix=I||u.unit()},clone:function(){return new C(this._matrix.clone())},equals:function(I){return I&&I._matrix.equals(this._matrix)},_optionsChange:function(){this.optionsChange({field:"transform",value:this})},translate:function(I,J){this._matrix=this._matrix.multiplyCopy(u.translate(I,J));this._optionsChange();return this},scale:function(K,J,I){if(!e(J)){J=K}if(I){I=F.create(I);this._matrix=this._matrix.multiplyCopy(u.translate(I.x,I.y))}this._matrix=this._matrix.multiplyCopy(u.scale(K,J));if(I){this._matrix=this._matrix.multiplyCopy(u.translate(-I.x,-I.y))}this._optionsChange();return this},rotate:function(J,I){I=F.create(I)||F.ZERO;this._matrix=this._matrix.multiplyCopy(u.rotate(J,I.x,I.y));this._optionsChange();return this},multiply:function(J){var I=o(J);this._matrix=this._matrix.multiplyCopy(I);this._optionsChange();return this},matrix:function(){return this._matrix}});p(C.fn,l);function q(I){if(I===null){return null}if(I instanceof C){return I}return new C(I)}function o(I){if(I&&t.isFunction(I.matrix)){return I.matrix()}return I}function G(I,N,M,J){var L=0,K=0;if(J){L=g.atan2(J.c*M,J.a*N);if(J.b!==0){K=g.atan2(J.d*M,J.b*N)}}return{x:L,y:K}}function y(I,J){while(I<J){I+=90}return I}function f(L,I){for(var K=0;K<I.length;K++){var J=I[K];var M=J.charAt(0).toUpperCase()+J.substring(1,J.length);L["set"+M]=x(J);L["get"+M]=s(J)}}function x(I){return function(J){if(this[I]!==J){this[I]=J;this.geometryChange()}return this}}function s(I){return function(){return this[I]}}function c(L,I,J){if(L>I){I+=360}var K=g.abs(I-L);if(!J){K=360-K}return K}function j(J,P,N,M,I,O){var L=D((I-J)/N,3);var K=D((O-P)/M,3);return D(r(g.atan2(K,L)))}function m(Z,K,Y,I,R,Q,af,X){var L,J;var U,ae;var ag,ad,ab,ah;if(K!==I){var T=Y-Z;var ac=I-K;var aa=h(R,2),N=h(Q,2);var W=(N*T*(Z+Y)+aa*ac*(K+I))/(2*aa*ac);var S=W-I;var V=-(T*N)/(aa*ac);ag=1/aa+h(V,2)/N;ad=2*((V*S)/N-Y/aa);ab=h(Y,2)/aa+h(S,2)/N-1;ah=g.sqrt(h(ad,2)-4*ag*ab);L=(-ad-ah)/(2*ag);J=W+V*L;U=(-ad+ah)/(2*ag);ae=W+V*U}else{if(Z!==Y){ad=-2*I;ab=h(((Y-Z)*Q)/(2*R),2)+h(I,2)-h(Q,2);ah=g.sqrt(h(ad,2)-4*ab);L=U=(Z+Y)/2;J=(-ad-ah)/2;ae=(-ad+ah)/2}else{return false}}var P=j(L,J,R,Q,Z,K);var M=j(L,J,R,Q,Y,I);var O=c(P,M,X);if((af&&O<=180)||(!af&&O>180)){L=U;J=ae;P=j(L,J,R,Q,Z,K);M=j(L,J,R,Q,Y,I)}return{center:new F(L,J),startAngle:P,endAngle:M}}p(t,{geometry:{Arc:v,Circle:w,Matrix:u,Point:F,Rect:n,Size:A,Transformation:C,transform:q,toMatrix:o}});t.dataviz.geometry=t.geometry})(window.kendo.jQuery);(function(g){var m=document,o=g.noop,c=Object.prototype.toString,k=window.kendo,b=k.Class,l=k.ui.Widget,d=k.deepExtend,h=k.util,e=h.defined;var i=l.extend({init:function(q,p){this.options=d({},this.options,p);l.fn.init.call(this,q,this.options);this._click=this._handler("click");this._mouseenter=this._handler("mouseenter");this._mouseleave=this._handler("mouseleave");this._visual=new k.drawing.Group();if(this.options.width){this.element.css("width",this.options.width)}if(this.options.height){this.element.css("height",this.options.height)}},options:{name:"Surface"},events:["click","mouseenter","mouseleave","resize"],draw:function(p){this._visual.children.push(p)},clear:function(){this._visual.children=[]},destroy:function(){this._visual=null;l.fn.destroy.call(this)},exportVisual:function(){return this._visual},getSize:function(){return{width:this.element.width(),height:this.element.height()}},setSize:function(p){this.element.css({width:p.width,height:p.height});this._size=p;this._resize()},eventTarget:function(r){var p=g(r.touch?r.touch.initialTouch:r.target);var q;while(!q&&p.length>0){q=p[0]._kendoNode;if(p.is(this.element)||p.length===0){break}p=p.parent()}if(q){return q.srcElement}},_resize:o,_handler:function(q){var p=this;return function(s){var r=p.eventTarget(s);if(r){p.trigger(q,{element:r,originalEvent:s})}}}});k.ui.plugin(i);i.create=function(q,p){return j.current.create(q,p)};var n=b.extend({init:function(p){this.childNodes=[];this.parent=null;if(p){this.srcElement=p;this.observe()}},destroy:function(){if(this.srcElement){this.srcElement.removeObserver(this)}var q=this.childNodes;for(var p=0;p<q.length;p++){this.childNodes[p].destroy()}this.parent=null},load:o,observe:function(){if(this.srcElement){this.srcElement.addObserver(this)}},append:function(p){this.childNodes.push(p);p.parent=this},insertAt:function(p,q){this.childNodes.splice(q,0,p);p.parent=this},remove:function(q,s){var p=q+s;for(var r=q;r<p;r++){this.childNodes[r].removeSelf()}this.childNodes.splice(q,s)},removeSelf:function(){this.clear();this.destroy()},clear:function(){this.remove(0,this.childNodes.length)},invalidate:function(){if(this.parent){this.parent.invalidate()}},geometryChange:function(){this.invalidate()},optionsChange:function(){this.invalidate()},childrenChange:function(p){if(p.action==="add"){this.load(p.items,p.index)}else{if(p.action==="remove"){this.remove(p.index,p.items.length)}}this.invalidate()}});var f=b.extend({init:function(p,q){var r,s;this.prefix=q||"";for(r in p){s=p[r];s=this._wrap(s,r);this[r]=s}},get:function(p){return k.getter(p,true)(this)},set:function(r,p){var q=k.getter(r,true)(this);if(q!==p){var s=this._set(r,this._wrap(p,r));if(!s){this.optionsChange({field:this.prefix+r,value:p})}}},_set:function(t,p){var u=t.indexOf(".")>=0;if(u){var s=t.split("."),r="",q;while(s.length>1){r+=s.shift();q=k.getter(r,true)(this);if(!q){q=new f({},r+".");q.addObserver(this);this[r]=q}if(q instanceof f){q.set(s.join("."),p);return u}r+="."}}this._clear(t);k.setter(t)(this,p);return u},_clear:function(q){var p=k.getter(q,true)(this);if(p&&p.removeObserver){p.removeObserver(this)}},_wrap:function(p,r){var q=c.call(p);if(p!==null&&e(p)&&q==="[object Object]"){if(!(p instanceof f)&&!(p instanceof b)){p=new f(p,this.prefix+r+".")}p.addObserver(this)}return p}});d(f.fn,k.mixins.ObserversMixin);var j=function(){this._items=[]};j.prototype={register:function(r,s,p){var q=this._items,u=q[0],t={name:r,type:s,order:p};if(!u||p<u.order){q.unshift(t)}else{q.push(t)}},create:function(t,r){var p=this._items,q=p[0];if(r&&r.type){var u=r.type.toLowerCase();for(var s=0;s<p.length;s++){if(p[s].name===u){q=p[s];break}}}if(q){return new q.type(t,r)}k.logToConsole("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG, VML and Canvas. User agent: "+navigator.userAgent+"\n- The Kendo UI scripts are not fully loaded")}};j.current=new j();d(k,{drawing:{DASH_ARRAYS:{dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},Color:k.Color,BaseNode:n,OptionsStore:f,Surface:i,SurfaceFactory:j}});k.dataviz.drawing=k.drawing})(window.kendo.jQuery);(function(f){var h=window.kendo,b=h.deepExtend,g=h.util.defined;var c="gradient";var d={extend:function(i){i.fill=this.fill;i.stroke=this.stroke},fill:function(i,k){var j=this.options;if(g(i)){if(i&&i.nodeType!=c){var l={color:i};if(g(k)){l.opacity=k}j.set("fill",l)}else{j.set("fill",i)}return this}else{return j.get("fill")}},stroke:function(i,k,j){if(g(i)){this.options.set("stroke.color",i);if(g(k)){this.options.set("stroke.width",k)}if(g(j)){this.options.set("stroke.opacity",j)}return this}else{return this.options.get("stroke")}}};var e={extend:function(j,i){j.traverse=function(n){var l=this[i];for(var k=0;k<l.length;k++){var m=l[k];if(m.traverse){m.traverse(n)}else{n(m)}}return this}}};b(h.drawing,{mixins:{Paintable:d,Traversable:e}})})(window.kendo.jQuery);(function(f){var l=document,j=window.kendo,b=j.Class,d=j.deepExtend,h=j.util,e=h.defined;var g=1;var i=b.extend({init:function(m){this._size=m;this._length=0;this._map={}},put:function(m,o){var q=this,p=q._map,n={key:m,value:o};p[m]=n;if(!q._head){q._head=q._tail=n}else{q._tail.newer=n;n.older=q._tail;q._tail=n}if(q._length>=q._size){p[q._head.key]=null;q._head=q._head.newer;q._head.older=null}else{q._length++}},get:function(m){var o=this,n=o._map[m];if(n){if(n===o._head&&n!==o._tail){o._head=n.newer;o._head.older=null}if(n!==o._tail){if(n.older){n.older.newer=n.newer;n.newer.older=n.older}n.older=o._tail;n.newer=null;o._tail.newer=n;o._tail=n}return n.value}}});var k=b.extend({init:function(){this._cache=new i(1000)},measure:function(u,m){var p=h.objectKey(m),r=h.hashKey(u+p),n=this._cache.get(r);if(n){return n}var v={width:0,height:0,baseline:0};var q=this._measureBox,o=this._baselineMarker.cloneNode(false);for(var t in m){var s=m[t];if(e(s)){q.style[t]=s}}f(q).text(u);q.appendChild(o);l.body.appendChild(q);if((u+"").length){v.width=q.offsetWidth-g;v.height=q.offsetHeight;v.baseline=o.offsetTop+g}this._cache.put(r,v);q.parentNode.removeChild(q);return v}});k.fn._baselineMarker=f("<div class='k-baseline-marker' style='display: inline-block; vertical-align: baseline;width: "+g+"px; height: "+g+"px;overflow: hidden;' />")[0];k.fn._measureBox=f("<div style='position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space:nowrap !important;' />")[0];k.current=new k();function c(n,m){return k.current.measure(n,m)}d(j.drawing,{util:{TextMetrics:k,LRUCache:i,measureText:c}})})(window.kendo.jQuery);(function(ag){var u=window.kendo,aq=u.Class,ay=u.deepExtend,I=u.geometry,h=I.Point,z=I.Rect,M=I.Size,J=I.Matrix,ah=I.toMatrix,k=u.drawing,R=k.OptionsStore,G=Math,al=G.pow,ai=u.util,E=ai.append,ao=ai.arrayLimits,j=ai.defined,K=ai.last,f=ai.valueOrDefault,i=u.mixins.ObserversMixin,w=ag.inArray,e=[].push,ap=[].pop,ab=[].splice,Q=[].shift,y=[].slice,ar=[].unshift,v=1,aa="start",ak="end",b="horizontal";var U=aq.extend({nodeType:"Element",init:function(g){this._initOptions(g)},_initOptions:function(az){az=az||{};var g=az.transform;var aA=az.clip;if(g){az.transform=I.transform(g)}if(aA&&!aA.id){aA.id=c()}this.options=new R(az);this.options.addObserver(this)},transform:function(g){if(j(g)){this.options.set("transform",I.transform(g))}else{return this.options.get("transform")}},parentTransform:function(){var az=this,aB,g,aA;while(az.parent){az=az.parent;aB=az.transform();if(aB){aA=aB.matrix().multiplyCopy(aA||J.unit())}}if(aA){return I.transform(aA)}},currentTransform:function(g){var aA=this.transform(),aC=ah(aA),aB,az;if(!j(g)){g=this.parentTransform()}aB=ah(g);if(aC&&aB){az=aB.multiplyCopy(aC)}else{az=aC||aB}if(az){return I.transform(az)}},visible:function(g){if(j(g)){this.options.set("visible",g);return this}else{return this.options.get("visible")!==false}},clip:function(az){var g=this.options;if(j(az)){if(az&&!az.id){az.id=c()}g.set("clip",az);return this}else{return g.get("clip")}},opacity:function(g){if(j(g)){this.options.set("opacity",g);return this}else{return f(this.options.get("opacity"),1)}},clippedBBox:function(aA){var az=this._clippedBBox(aA);if(az){var g=this.clip();return g?z.intersect(az,g.bbox(aA)):az}},_clippedBBox:function(g){return this.bbox(g)}});ay(U.fn,i);var O=aq.extend({init:function(g){g=g||[];this.length=0;this._splice(0,g.length,g)},elements:function(g){if(g){this._splice(0,this.length,g);this._change();return this}else{return this.slice(0)}},push:function(){var az=arguments;var g=e.apply(this,az);this._add(az);return g},slice:y,pop:function(){var az=this.length;var g=ap.apply(this);if(az){this._remove([g])}return g},splice:function(az,aA){var aB=y.call(arguments,2);var g=this._splice(az,aA,aB);this._change();return g},shift:function(){var az=this.length;var g=Q.apply(this);if(az){this._remove([g])}return g},unshift:function(){var az=arguments;var g=ar.apply(this,az);this._add(az);return g},indexOf:function(az){var aB=this;var g;var aA;for(g=0,aA=aB.length;g<aA;g++){if(aB[g]===az){return g}}return -1},_splice:function(az,aA,aB){var g=ab.apply(this,[az,aA].concat(aB));this._clearObserver(g);this._setObserver(aB);return g},_add:function(g){this._setObserver(g);this._change()},_remove:function(g){this._clearObserver(g);this._change()},_setObserver:function(az){for(var g=0;g<az.length;g++){az[g].addObserver(this)}},_clearObserver:function(az){for(var g=0;g<az.length;g++){az[g].removeObserver(this)}},_change:function(){}});ay(O.fn,i);var L=U.extend({nodeType:"Group",init:function(g){U.fn.init.call(this,g);this.children=[]},childrenChange:function(aA,g,az){this.trigger("childrenChange",{action:aA,items:g,index:az})},append:function(){E(this.children,arguments);this._reparent(arguments,this);this.childrenChange("add",arguments);return this},insertAt:function(az,g){this.children.splice(g,0,az);az.parent=this;this.childrenChange("add",[az],g);return this},remove:function(az){var g=w(az,this.children);if(g>=0){this.children.splice(g,1);az.parent=null;this.childrenChange("remove",[az],g)}return this},removeAt:function(g){if(0<=g&&g<this.children.length){var az=this.children[g];this.children.splice(g,1);az.parent=null;this.childrenChange("remove",[az],g)}return this},clear:function(){var g=this.children;this.children=[];this._reparent(g,null);this.childrenChange("remove",g,0);return this},bbox:function(g){return ac(this.children,true,this.currentTransform(g))},rawBBox:function(){return ac(this.children,false)},_clippedBBox:function(g){return B(this.children,this.currentTransform(g))},currentTransform:function(g){return U.fn.currentTransform.call(this,g)||null},_reparent:function(aB,aA){for(var g=0;g<aB.length;g++){var aC=aB[g];var az=aC.parent;if(az&&az!=this&&az.remove){az.remove(aC)}aC.parent=aA}}});k.mixins.Traversable.extend(L.fn,"children");var av=U.extend({nodeType:"Text",init:function(aA,g,az){U.fn.init.call(this,az);this.content(aA);this.position(g||new I.Point());if(!this.options.font){this.options.font="12px sans-serif"}if(!j(this.options.fill)){this.fill("#000")}},content:function(g){if(j(g)){this.options.set("content",g);return this}else{return this.options.get("content")}},measure:function(){var g=k.util.measureText(this.content(),{font:this.options.get("font")});return g},rect:function(){var g=this.measure();var az=this.position().clone();return new I.Rect(az,[g.width,g.height])},bbox:function(az){var g=ah(this.currentTransform(az));return this.rect().bbox(g)},rawBBox:function(){return this.rect().bbox()}});k.mixins.Paintable.extend(av.fn);P(av.fn,["position"]);var N=U.extend({nodeType:"Circle",init:function(az,g){U.fn.init.call(this,g);this.geometry(az||new I.Circle());if(!j(this.options.stroke)){this.stroke("#000")}},bbox:function(aA){var g=ah(this.currentTransform(aA));var az=this._geometry.bbox(g);var aB=this.options.get("stroke.width");if(aB){s(az,aB/2)}return az},rawBBox:function(){return this._geometry.bbox()}});k.mixins.Paintable.extend(N.fn);am(N.fn,["geometry"]);var au=U.extend({nodeType:"Arc",init:function(az,g){U.fn.init.call(this,g);this.geometry(az||new I.Arc());if(!j(this.options.stroke)){this.stroke("#000")}},bbox:function(aA){var g=ah(this.currentTransform(aA));var az=this.geometry().bbox(g);var aB=this.options.get("stroke.width");if(aB){s(az,aB/2)}return az},rawBBox:function(){return this.geometry().bbox()},toPath:function(){var az=new W();var aA=this.geometry().curvePoints();if(aA.length>0){az.moveTo(aA[0].x,aA[0].y);for(var g=1;g<aA.length;g+=3){az.curveTo(aA[g],aA[g+1],aA[g+2])}}return az}});k.mixins.Paintable.extend(au.fn);am(au.fn,["geometry"]);var H=O.extend({_change:function(){this.geometryChange()}});var ae=aq.extend({init:function(g,aA,az){this.anchor(g||new h());this.controlIn(aA);this.controlOut(az)},bboxTo:function(aA,g){var aB;var az=this.anchor().transformCopy(g);var aC=aA.anchor().transformCopy(g);if(this.controlOut()&&aA.controlIn()){aB=this._curveBoundingBox(az,this.controlOut().transformCopy(g),aA.controlIn().transformCopy(g),aC)}else{aB=this._lineBoundingBox(az,aC)}return aB},_lineBoundingBox:function(az,g){return z.fromPoints(az,g)},_curveBoundingBox:function(aF,aA,az,aC){var aE=[aF,aA,az,aC],aD=this._curveExtremesFor(aE,"x"),aB=this._curveExtremesFor(aE,"y"),g=ao([aD.min,aD.max,aF.x,aC.x]),aG=ao([aB.min,aB.max,aF.y,aC.y]);return z.fromPoints(new h(g.min,aG.min),new h(g.max,aG.max))},_curveExtremesFor:function(g,az){var aA=this._curveExtremes(g[0][az],g[1][az],g[2][az],g[3][az]);return{min:this._calculateCurveAt(aA.min,az,g),max:this._calculateCurveAt(aA.max,az,g)}},_calculateCurveAt:function(g,aB,az){var aA=1-g;return al(aA,3)*az[0][aB]+3*al(aA,2)*g*az[1][aB]+3*al(g,2)*aA*az[2][aB]+al(g,3)*az[3][aB]},_curveExtremes:function(aA,az,g,aJ){var aH=aA-3*az+3*g-aJ;var aG=-2*(aA-2*az+g);var aE=aA-az;var aI=G.sqrt(aG*aG-4*aH*aE);var aD=0;var aC=1;if(aH===0){if(aG!==0){aD=aC=-aE/aG}}else{if(!isNaN(aI)){aD=(-aG+aI)/(2*aH);aC=(-aG-aI)/(2*aH)}}var aB=G.max(G.min(aD,aC),0);if(aB<0||aB>1){aB=0}var aF=G.min(G.max(aD,aC),1);if(aF>1||aF<0){aF=1}return{min:aB,max:aF}}});P(ae.fn,["anchor","controlIn","controlOut"]);ay(ae.fn,i);var W=U.extend({nodeType:"Path",init:function(g){U.fn.init.call(this,g);this.segments=new H();this.segments.addObserver(this);if(!j(this.options.stroke)){this.stroke("#000");if(!j(this.options.stroke.lineJoin)){this.options.set("stroke.lineJoin","miter")}}},moveTo:function(g,az){this.suspend();this.segments.elements([]);this.resume();this.lineTo(g,az);return this},lineTo:function(az,aB){var g=j(aB)?new h(az,aB):az,aA=new ae(g);this.segments.push(aA);return this},curveTo:function(aA,aC,g){if(this.segments.length>0){var az=K(this.segments);var aB=new ae(g,aC);this.suspend();az.controlOut(aA);this.resume();this.segments.push(aB)}return this},arc:function(aG,aD,aC,az,aE){if(this.segments.length>0){var aH=K(this.segments);var aF=aH.anchor();var aB=ai.rad(aG);var g=new h(aF.x-aC*G.cos(aB),aF.y-az*G.sin(aB));var aA=new I.Arc(g,{startAngle:aG,endAngle:aD,radiusX:aC,radiusY:az,anticlockwise:aE});this._addArcSegments(aA)}return this},arcTo:function(az,aF,aD,aE,aA){if(this.segments.length>0){var g=K(this.segments);var aB=g.anchor();var aC=I.Arc.fromPoints(aB,az,aF,aD,aE,aA);this._addArcSegments(aC)}return this},_addArcSegments:function(az){this.suspend();var aA=az.curvePoints();for(var g=1;g<aA.length;g+=3){this.curveTo(aA[g],aA[g+1],aA[g+2])}this.resume();this.geometryChange()},close:function(){this.options.closed=true;this.geometryChange();return this},bbox:function(aA){var az=ah(this.currentTransform(aA));var g=this._bbox(az);var aB=this.options.get("stroke.width");if(aB){s(g,aB/2)}return g},rawBBox:function(){return this._bbox()},_bbox:function(g){var aC=this.segments;var aE=aC.length;var aB;if(aE===1){var aA=aC[0].anchor().transformCopy(g);aB=new z(aA,M.ZERO)}else{if(aE>0){for(var aD=1;aD<aE;aD++){var az=aC[aD-1].bboxTo(aC[aD],g);if(aB){aB=z.union(aB,az)}else{aB=az}}}}return aB}});k.mixins.Paintable.extend(W.fn);W.fromRect=function(az,g){return new W(g).moveTo(az.topLeft()).lineTo(az.topRight()).lineTo(az.bottomRight()).lineTo(az.bottomLeft()).close()};W.fromPoints=function(aA,g){if(aA){var aC=new W(g);for(var az=0;az<aA.length;az++){var aB=h.create(aA[az]);if(aB){if(az===0){aC.moveTo(aB)}else{aC.lineTo(aB)}}}return aC}};W.fromArc=function(aA,g){var aB=new W(g);var az=aA.startAngle;var aC=aA.pointAt(az);aB.moveTo(aC.x,aC.y);aB.arc(az,aA.endAngle,aA.radiusX,aA.radiusY,aA.anticlockwise);return aB};var D=U.extend({nodeType:"MultiPath",init:function(g){U.fn.init.call(this,g);this.paths=new H();this.paths.addObserver(this);if(!j(this.options.stroke)){this.stroke("#000")}},moveTo:function(g,aA){var az=new W();az.moveTo(g,aA);this.paths.push(az);return this},lineTo:function(g,az){if(this.paths.length>0){K(this.paths).lineTo(g,az)}return this},curveTo:function(az,aA,g){if(this.paths.length>0){K(this.paths).curveTo(az,aA,g)}return this},arc:function(az,g,aC,aB,aA){if(this.paths.length>0){K(this.paths).arc(az,g,aC,aB,aA)}return this},arcTo:function(g,aC,aA,aB,az){if(this.paths.length>0){K(this.paths).arcTo(g,aC,aA,aB,az)}return this},close:function(){if(this.paths.length>0){K(this.paths).close()}return this},bbox:function(g){return ac(this.paths,true,this.currentTransform(g))},rawBBox:function(){return ac(this.paths,false)},_clippedBBox:function(g){return B(this.paths,this.currentTransform(g))}});k.mixins.Paintable.extend(D.fn);var af=U.extend({nodeType:"Image",init:function(aA,az,g){U.fn.init.call(this,g);this.src(aA);this.rect(az||new I.Rect())},src:function(g){if(j(g)){this.options.set("src",g);return this}else{return this.options.get("src")}},bbox:function(az){var g=ah(this.currentTransform(az));return this._rect.bbox(g)},rawBBox:function(){return this._rect.bbox()}});am(af.fn,["rect"]);var C=aq.extend({init:function(aA,g,az){this.options=new R({offset:aA,color:g,opacity:j(az)?az:1});this.options.addObserver(this)}});an(C.fn,["offset","color","opacity"]);ay(C.fn,i);C.create=function(g){if(j(g)){var az;if(g instanceof C){az=g}else{if(g.length>1){az=new C(g[0],g[1],g[2])}else{az=new C(g.offset,g.color,g.opacity)}}return az}};var aj=O.extend({_change:function(){this.optionsChange({field:"stops"})}});var o=aq.extend({nodeType:"gradient",init:function(g){this.stops=new aj(this._createStops(g.stops));this.stops.addObserver(this);this._userSpace=g.userSpace;this.id=c()},userSpace:function(g){if(j(g)){this._userSpace=g;this.optionsChange();return this}else{return this._userSpace}},_createStops:function(aA){var az=[];var g;aA=aA||[];for(g=0;g<aA.length;g++){az.push(C.create(aA[g]))}return az},addStop:function(aA,g,az){this.stops.push(new C(aA,g,az))},removeStop:function(az){var g=this.stops.indexOf(az);if(g>=0){this.stops.splice(g,1)}}});ay(o.fn,i,{optionsChange:function(g){this.trigger("optionsChange",{field:"gradient"+(g?"."+g.field:""),value:this})},geometryChange:function(){this.optionsChange()}});var d=o.extend({init:function(g){g=g||{};o.fn.init.call(this,g);this.start(g.start||new h());this.end(g.end||new h(1,0))}});P(d.fn,["start","end"]);var m=o.extend({init:function(g){g=g||{};o.fn.init.call(this,g);this.center(g.center||new h());this._radius=j(g.radius)?g.radius:1;this._fallbackFill=g.fallbackFill},radius:function(g){if(j(g)){this._radius=g;this.geometryChange();return this}else{return this._radius}},fallbackFill:function(g){if(j(g)){this._fallbackFill=g;this.optionsChange();return this}else{return this._fallbackFill}}});P(m.fn,["center"]);var S=L.extend({init:function(az,g){L.fn.init.call(this,u.deepExtend({},this._defaults,g));this._rect=az;this._fieldMap={}},_defaults:{alignContent:aa,justifyContent:aa,alignItems:aa,spacing:0,orientation:b,lineSpacing:0,wrap:true},rect:function(g){if(g){this._rect=g;return this}else{return this._rect}},_initMap:function(){var g=this.options;var az=this._fieldMap;if(g.orientation==b){az.sizeField="width";az.groupsSizeField="height";az.groupAxis="x";az.groupsAxis="y"}else{az.sizeField="height";az.groupsSizeField="width";az.groupAxis="y";az.groupsAxis="x"}},reflow:function(){if(!this._rect||this.children.length===0){return}this._initMap();if(this.options.transform){this.transform(null)}var aF=this.options;var aG=this._fieldMap;var aB=this._rect;var aL=this._initGroups();var aT=aL.groups;var aK=aL.groupsSize;var aA=aG.sizeField;var aE=aG.groupsSizeField;var aS=aG.groupAxis;var aU=aG.groupsAxis;var aC=at(aK,aB,aF.alignContent,aU,aE);var aV=new h();var aW=new h();var aR=new I.Size();var aN,az,aD,aJ,aH;for(var aM=0;aM<aT.length;aM++){aJ=aT[aM];aV[aS]=aN=at(aJ.size,aB,aF.justifyContent,aS,aA);aV[aU]=aC;aR[aA]=aJ.size;aR[aE]=aJ.lineSize;aH=new z(aV,aR);for(var aQ=0;aQ<aJ.bboxes.length;aQ++){aD=aJ.elements[aQ];az=aJ.bboxes[aQ];aW[aS]=aN;aW[aU]=at(az.size[aE],aH,aF.alignItems,aU,aE);T(aW,az,aD);aN+=az.size[aA]+aF.spacing}aC+=aJ.lineSize+aF.lineSpacing}if(!aF.wrap&&aJ.size>aB.size[aA]){var aX=aB.size[aA]/aH.size[aA];var aI=aH.topLeft().scale(aX,aX);var aP=aH.size[aE]*aX;var g=at(aP,aB,aF.alignContent,aU,aE);var aO=I.transform();if(aS==="x"){aO.translate(aB.origin.x-aI.x,g-aI.y)}else{aO.translate(g-aI.x,aB.origin.y-aI.y)}aO.scale(aX,aX);this.transform(aO)}},_initGroups:function(){var aI=this.options;var az=this.children;var aC=aI.lineSpacing;var aD=this._fieldMap.sizeField;var aG=-aC;var aA=[];var aF=this._newGroup();var g=function(){aA.push(aF);aG+=aF.lineSize+aC};var aH,aB;for(var aE=0;aE<az.length;aE++){aB=az[aE];aH=az[aE].clippedBBox();if(aB.visible()&&aH){if(aI.wrap&&aF.size+aH.size[aD]+aI.spacing>this._rect.size[aD]){if(aF.bboxes.length===0){this._addToGroup(aF,aH,aB);g();aF=this._newGroup()}else{g();aF=this._newGroup();this._addToGroup(aF,aH,aB)}}else{this._addToGroup(aF,aH,aB)}}}if(aF.bboxes.length){g()}return{groups:aA,groupsSize:aG}},_addToGroup:function(az,aA,g){az.size+=aA.size[this._fieldMap.sizeField]+this.options.spacing;az.lineSize=Math.max(aA.size[this._fieldMap.groupsSizeField],az.lineSize);az.bboxes.push(aA);az.elements.push(g)},_newGroup:function(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}}});function ac(aE,g,aC){var az;for(var aB=0;aB<aE.length;aB++){var aA=aE[aB];if(aA.visible()){var aD=g?aA.bbox(aC):aA.rawBBox();if(aD){if(az){az=z.union(az,aD)}else{az=aD}}}}return az}function B(aD,aB){var g;for(var aA=0;aA<aD.length;aA++){var az=aD[aA];if(az.visible()){var aC=az.clippedBBox(aB);if(aC){if(g){g=z.union(g,aC)}else{g=aC}}}}return g}function s(g,az){g.origin.x-=az;g.origin.y-=az;g.size.width+=az*2;g.size.height+=az*2}function am(az,aA){for(var g=0;g<aA.length;g++){az[aA[g]]=V(aA[g])}}function V(g){var az="_"+g;return function(aA){if(j(aA)){this._observerField(az,aA);this.geometryChange();return this}else{return this[az]}}}function P(az,aA){for(var g=0;g<aA.length;g++){az[aA[g]]=ad(aA[g])}}function ad(g){var az="_"+g;return function(aA){if(j(aA)){this._observerField(az,h.create(aA));this.geometryChange();return this}else{return this[az]}}}function an(az,aA){for(var g=0;g<aA.length;g++){az[aA[g]]=Z(aA[g])}}function Z(g){return function(az){if(j(az)){this.options.set(g,az);return this}else{return this.options.get(g)}}}function c(){return"kdef"+v++}function aw(az,g,aA){A(az,g,aA,"x","width")}function F(az,g,aA){A(az,g,aA,"y","height")}function X(g){ax(Y(g),"x","y","width")}function n(g){ax(Y(g),"y","x","height")}function t(az,g){return r(az,g,"x","y","width")}function l(az,g){return r(az,g,"y","x","height")}function r(g,aF,aA,aC,aD){var aJ=[];var az=x(g,aF,aD);var aH=aF.origin.clone();var aI;var aB;var aE;var aG;for(aG=0;aG<az.length;aG++){aE=az[aG];aI=aE[0];aH[aC]=aI.bbox.origin[aC];T(aH,aI.bbox,aI.element);aI.bbox.origin[aA]=aH[aA];ax(aE,aA,aC,aD);aJ.push([]);for(aB=0;aB<aE.length;aB++){aJ[aG].push(aE[aB].element)}}return aJ}function p(aA,aC){var aE=aA.clippedBBox();var g=aE.size;var aB=aC.size;if(aB.width<g.width||aB.height<g.height){var aD=G.min(aB.width/g.width,aB.height/g.height);var az=aA.transform()||I.transform();az.scale(aD,aD);aA.transform(az)}}function x(g,aC,aB){var aF=aC.size[aB];var aG=0;var az=[];var aD=[];var aA;var aJ;var aH;var aI=function(){aD.push({element:aA,bbox:aH})};for(var aE=0;aE<g.length;aE++){aA=g[aE];aH=aA.clippedBBox();if(aH){aJ=aH.size[aB];if(aG+aJ>aF){if(aD.length){az.push(aD);aD=[];aI();aG=aJ}else{aI();az.push(aD);aD=[];aG=0}}else{aI();aG+=aJ}}}if(aD.length){az.push(aD)}return az}function Y(aA){var aB=[];var az;var aC;for(var g=0;g<aA.length;g++){az=aA[g];aC=az.clippedBBox();if(aC){aB.push({element:az,bbox:aC})}}return aB}function ax(g,az,aA,aD){if(g.length>1){var aC=g[0].bbox;var aF=new h();var aB;var aG;for(var aE=1;aE<g.length;aE++){aB=g[aE].element;aG=g[aE].bbox;aF[az]=aC.origin[az]+aC.size[aD];aF[aA]=aG.origin[aA];T(aF,aG,aB);aG.origin[az]=aF[az];aC=aG}}}function A(g,aD,aB,aA,aC){var aG,az,aF;aB=aB||"start";for(var aE=0;aE<g.length;aE++){aG=g[aE].clippedBBox();if(aG){aF=aG.origin.clone();aF[aA]=at(aG.size[aC],aD,aB,aA,aC);T(aF,aG,g[aE])}}}function at(g,aA,aD,az,aC){var aB;if(aD==aa){aB=aA.origin[az]}else{if(aD==ak){aB=aA.origin[az]+aA.size[aC]-g}else{aB=aA.origin[az]+(aA.size[aC]-g)/2}}return aB}function q(g,aC,aB){var az=aB.transform()||I.transform();var aA=az.matrix();aA.e+=g;aA.f+=aC;aB.transform(az)}function T(g,aA,az){q(g.x-aA.origin.x,g.y-aA.origin.y,az)}ay(k,{align:aw,Arc:au,Circle:N,Element:U,ElementsArray:O,fit:p,Gradient:o,GradientStop:C,Group:L,Image:af,Layout:S,LinearGradient:d,MultiPath:D,Path:W,RadialGradient:m,Segment:ae,stack:X,Text:av,vAlign:F,vStack:n,vWrap:l,wrap:t})})(window.kendo.jQuery);(function(e){var p=window.kendo,v=p.drawing,f=p.geometry,r=p.Class,u=f.Point,n=p.deepExtend,q=e.trim,b=p.util,o=b.deg,k=b.last,t=b.round;var s=/([a-z]{1})([^a-z]*)(z)?/gi,g=/[,\s]?(-?(?:\d+\.)?\d+)/g,w="m",c="z";var d=r.extend({parse:function(A,y){var C=this;var z=new v.MultiPath(y);var x=new u();var B;A.replace(s,function(D,E,I,J){var H=E.toLowerCase();var F=H===E;var G=j(q(I));if(H===w){if(F){x.x+=G[0];x.y+=G[1]}else{x.x=G[0];x.y=G[1]}z.moveTo(x.x,x.y);if(G.length>2){H="l";G.splice(0,2)}}if(m[H]){m[H](z,{parameters:G,position:x,isRelative:F,previousCommand:B});if(J&&J.toLowerCase()===c){z.close()}}else{if(H!==w){throw new Error("Error while parsing SVG path. Unsupported command: "+H)}}B=H});return z}});var m={l:function(C,z){var B=z.parameters;var y=z.position;for(var A=0;A<B.length;A+=2){var x=new u(B[A],B[A+1]);if(z.isRelative){x.translateWith(y)}C.lineTo(x.x,x.y);y.x=x.x;y.y=x.y}},c:function(E,z){var C=z.parameters;var y=z.position;var B,D,x;for(var A=0;A<C.length;A+=6){B=new u(C[A],C[A+1]);D=new u(C[A+2],C[A+3]);x=new u(C[A+4],C[A+5]);if(z.isRelative){D.translateWith(y);B.translateWith(y);x.translateWith(y)}E.curveTo(B,D,x);y.x=x.x;y.y=x.y}},v:function(z,x){var y=x.isRelative?0:x.position.x;i(x.parameters,true,y);this.l(z,x)},h:function(z,x){var y=x.isRelative?0:x.position.y;i(x.parameters,false,y);this.l(z,x)},a:function(F,G){var E=G.parameters;var C=G.position;for(var B=0;B<E.length;B+=7){var y=E[B];var x=E[B+1];var z=E[B+3];var A=E[B+4];var D=new u(E[B+5],E[B+6]);if(G.isRelative){D.translateWith(C)}F.arcTo(D,y,x,z,A);C.x=D.x;C.y=D.y}},s:function(F,G){var E=G.parameters;var y=G.position;var z=G.previousCommand;var B,C,A,D;if(z=="s"||z=="c"){D=k(k(F.paths).segments).controlIn()}for(var x=0;x<E.length;x+=4){A=new u(E[x],E[x+1]);C=new u(E[x+2],E[x+3]);if(G.isRelative){A.translateWith(y);C.translateWith(y)}if(D){B=l(D,y)}else{B=y.clone()}D=A;F.curveTo(B,A,C);y.x=C.x;y.y=C.y}},q:function(E,A){var D=A.parameters;var y=A.position;var x,C,z;for(var B=0;B<D.length;B+=4){z=new u(D[B],D[B+1]);C=new u(D[B+2],D[B+3]);if(A.isRelative){z.translateWith(y);C.translateWith(y)}x=h(y,z,C);E.curveTo(x.controlOut,x.controlIn,C);y.x=C.x;y.y=C.y}},t:function(F,G){var E=G.parameters;var y=G.position;var z=G.previousCommand;var B,A,D;if(z=="q"||z=="t"){var C=k(k(F.paths).segments);A=C.controlIn().clone().translateWith(y.scaleCopy(-1/3)).scale(3/2)}for(var x=0;x<E.length;x+=2){D=new u(E[x],E[x+1]);if(G.isRelative){D.translateWith(y)}if(A){A=l(A,y)}else{A=y.clone()}B=h(y,A,D);F.curveTo(B.controlOut,B.controlIn,D);y.x=D.x;y.y=D.y}}};function j(y){var x=[];y.replace(g,function(z,A){x.push(parseFloat(A))});return x}function i(y,B,A){var z=B?0:1;for(var x=0;x<y.length;x+=2){y.splice(x+z,0,A)}}function l(y,x){if(y&&x){return x.scaleCopy(2).translate(-y.x,-y.y)}}function h(x,y,A){var z=1/3;y=y.clone().scale(2/3);return{controlOut:y.clone().translateWith(x.scaleCopy(z)),controlIn:y.translateWith(A.scaleCopy(z))}}d.current=new d();v.Path.parse=function(y,x){return d.current.parse(y,x)};n(v,{PathParser:d})})(window.kendo.jQuery);(function(A){var j=document,E=window.kendo,L=E.deepExtend,X=E.geometry,aa=E.drawing,z=aa.BaseNode,k=E.util,Q=k.defined,p=k.isTransparent,I=k.renderAttr,D=k.renderAllAttr,x=k.renderSize,e=k.renderTemplate,W=A.inArray;var ab="butt",M=aa.DASH_ARRAYS,m="gradient",K="none",H=".kendo",q="solid",c=" ",y="square",i="http://www.w3.org/2000/svg",Y="transform",C="undefined";var F=aa.Surface.extend({init:function(g,d){aa.Surface.fn.init.call(this,g,d);this._root=new J(this.options);f(this.element[0],this._template(this));this._rootElement=this.element[0].firstElementChild;R(this._rootElement);this._root.attachTo(this._rootElement);this.element.on("click"+H,this._click);this.element.on("mouseover"+H,this._mouseenter);this.element.on("mouseout"+H,this._mouseleave);this.resize()},type:"svg",destroy:function(){if(this._root){this._root.destroy();this._root=null;this._rootElement=null;this.element.off(H)}aa.Surface.fn.destroy.call(this)},translate:function(g){var d=E.format("{0} {1} {2} {3}",Math.round(g.x),Math.round(g.y),this._size.width,this._size.height);this._offset=g;this._rootElement.setAttribute("viewBox",d)},draw:function(d){aa.Surface.fn.draw.call(this,d);this._root.load([d])},clear:function(){aa.Surface.fn.clear.call(this);this._root.clear()},svg:function(){return"<?xml version='1.0' ?>"+this._template(this)},exportVisual:function(){var g=this._visual;var ad=this._offset;if(ad){var d=new aa.Group();d.children.push(g);d.transform(X.transform().translate(-ad.x,-ad.y));g=d}return g},_resize:function(){if(this._offset){this.translate(this._offset)}},_template:e("<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='"+i+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>#= d._root.render() #</svg>")});var u=z.extend({init:function(d){z.fn.init.call(this,d);this.definitions={}},destroy:function(){if(this.element){this.element._kendoNode=null;this.element=null}this.clearDefinitions();z.fn.destroy.call(this)},load:function(ah,ai){var ag=this,af=ag.element,ae,d,ad,g;for(g=0;g<ah.length;g++){d=ah[g];ad=d.children;ae=new U[d.nodeType](d);if(Q(ai)){ag.insertAt(ae,ai)}else{ag.append(ae)}ae.createDefinitions();if(ad&&ad.length>0){ae.load(ad)}if(af){ae.attachTo(af,ai)}}},root:function(){var d=this;while(d.parent){d=d.parent}return d},attachTo:function(ad,ae){var d=j.createElement("div");f(d,"<svg xmlns='"+i+"' version='1.1'>"+this.render()+"</svg>");var g=d.firstChild.firstChild;if(g){if(Q(ae)){ad.insertBefore(g,ad.childNodes[ae]||null)}else{ad.appendChild(g)}this.setElement(g)}},setElement:function(ae){var d=this.childNodes,g,ad;if(this.element){this.element._kendoNode=null}this.element=ae;this.element._kendoNode=this;for(ad=0;ad<d.length;ad++){g=ae.childNodes[ad];d[ad].setElement(g)}},clear:function(){this.clearDefinitions();if(this.element){this.element.innerHTML=""}var g=this.childNodes;for(var d=0;d<g.length;d++){g[d].destroy()}this.childNodes=[]},removeSelf:function(){if(this.element){this.element.parentNode.removeChild(this.element);this.element=null}z.fn.removeSelf.call(this)},template:e("#= d.renderChildren() #"),render:function(){return this.template(this)},renderChildren:function(){var g=this.childNodes,d="",ad;for(ad=0;ad<g.length;ad++){d+=g[ad].render()}return d},optionsChange:function(ad){var g=ad.field;var d=ad.value;if(g==="visible"){this.css("display",d?"":K)}else{if(b[g]&&l(g,d)){this.updateDefinition(g,d)}else{if(g==="opacity"){this.attr("opacity",d)}}}z.fn.optionsChange.call(this,ad)},attr:function(d,g){if(this.element){this.element.setAttribute(d,g)}},allAttr:function(d){for(var g=0;g<d.length;g++){this.attr(d[g][0],d[g][1])}},css:function(d,g){if(this.element){this.element.style[d]=g}},allCss:function(g){for(var d=0;d<g.length;d++){this.css(g[d][0],g[d][1])}},removeAttr:function(d){if(this.element){this.element.removeAttribute(d)}},mapTransform:function(g){var d=[];if(g){d.push([Y,"matrix("+g.matrix().toString(6)+")"])}return d},renderTransform:function(){return D(this.mapTransform(this.srcElement.transform()))},transformChange:function(d){if(d){this.allAttr(this.mapTransform(d))}else{this.removeAttr(Y)}},mapStyle:function(){var d=this.srcElement.options;var g=[["cursor",d.cursor]];if(d.visible===false){g.push(["display",K])}return g},renderStyle:function(){return I("style",k.renderStyle(this.mapStyle()))},renderOpacity:function(){return I("opacity",this.srcElement.options.opacity)},createDefinitions:function(){var d=this.srcElement;var ae=this.definitions;var ad,ag,g,af;if(d){g=d.options;for(ag in b){ad=g.get(ag);if(ad&&l(ag,ad)){ae[ag]=ad;af=true}}if(af){this.definitionChange({action:"add",definitions:ae})}}},definitionChange:function(d){if(this.parent){this.parent.definitionChange(d)}},updateDefinition:function(ae,af){var ad=this.definitions;var ag=ad[ae];var d=b[ae];var g={};if(ag){g[ae]=ag;this.definitionChange({action:"remove",definitions:g});delete ad[ae]}if(!af){if(ag){this.removeAttr(d)}}else{g[ae]=af;this.definitionChange({action:"add",definitions:g});ad[ae]=af;this.attr(d,T(af.id))}},clearDefinitions:function(){var d=this.definitions;var g;for(g in d){this.definitionChange({action:"remove",definitions:d});this.definitions={};break}},renderDefinitions:function(){return D(this.mapDefinitions())},mapDefinitions:function(){var g=this.definitions;var d=[];var ad;for(ad in g){d.push([b[ad],T(g[ad].id)])}return d}});var J=u.extend({init:function(d){u.fn.init.call(this);this.options=d;this.defs=new P()},attachTo:function(d){this.element=d;this.defs.attachTo(d.firstElementChild)},clear:function(){z.fn.clear.call(this)},template:e("#=d.defs.render()##= d.renderChildren() #"),definitionChange:function(d){this.defs.definitionChange(d)}});var P=u.extend({init:function(){u.fn.init.call(this);this.definitionMap={}},attachTo:function(d){this.element=d},template:e("<defs>#= d.renderChildren()#</defs>"),definitionChange:function(ad){var d=ad.definitions;var g=ad.action;if(g=="add"){this.addDefinitions(d)}else{if(g=="remove"){this.removeDefinitions(d)}}},createDefinition:function(g,ad){var d;if(g=="clip"){d=w}else{if(g=="fill"){if(ad instanceof aa.LinearGradient){d=Z}else{if(ad instanceof aa.RadialGradient){d=V}}}}return new d(ad)},addDefinitions:function(d){for(var g in d){this.addDefinition(g,d[g])}},addDefinition:function(ad,d){var af=this.definitionMap;var ah=d.id;var g=this.element;var ae,ag;ag=af[ah];if(!ag){ae=this.createDefinition(ad,d);af[ah]={element:ae,count:1};this.append(ae);if(g){ae.attachTo(this.element)}}else{ag.count++}},removeDefinitions:function(d){for(var g in d){this.removeDefinition(d[g])}},removeDefinition:function(d){var g=this.definitionMap;var ae=d.id;var ad;ad=g[ae];if(ad){ad.count--;if(ad.count===0){this.remove(W(ad.element,this.childNodes),1);delete g[ae]}}}});var w=u.extend({init:function(d){u.fn.init.call(this);this.srcElement=d;this.id=d.id;this.load([d])},template:e("<clipPath id='#=d.id#'>#= d.renderChildren()#</clipPath>")});var G=u.extend({template:e("<g#= d.renderTransform() + d.renderStyle() + d.renderOpacity() + d.renderDefinitions()#>#= d.renderChildren() #</g>"),optionsChange:function(d){if(d.field==Y){this.transformChange(d.value)}u.fn.optionsChange.call(this,d)}});var o=u.extend({geometryChange:function(){this.attr("d",this.renderData());this.invalidate()},optionsChange:function(g){switch(g.field){case"fill":if(g.value){this.allAttr(this.mapFill(g.value))}else{this.removeAttr("fill")}break;case"fill.color":this.allAttr(this.mapFill({color:g.value}));break;case"stroke":if(g.value){this.allAttr(this.mapStroke(g.value))}else{this.removeAttr("stroke")}break;case Y:this.transformChange(g.value);break;default:var d=this.attributeMap[g.field];if(d){this.attr(d,g.value)}break}u.fn.optionsChange.call(this,g)},attributeMap:{"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},content:function(d){if(this.element){this.element.textContent=this.srcElement.content()}},renderData:function(){return this.printPath(this.srcElement)},printPath:function(ai){var ad=ai.segments,af=ad.length;if(af>0){var ah=[],d,ag,g,ae;for(ae=1;ae<af;ae++){ag=this.segmentType(ad[ae-1],ad[ae]);if(ag!==g){g=ag;ah.push(ag)}if(ag==="L"){ah.push(this.printPoints(ad[ae].anchor()))}else{ah.push(this.printPoints(ad[ae-1].controlOut(),ad[ae].controlIn(),ad[ae].anchor()))}}d="M"+this.printPoints(ad[0].anchor())+c+ah.join(c);if(ai.options.closed){d+="Z"}return d}},printPoints:function(){var ad=arguments,ae=ad.length,g,d=[];for(g=0;g<ae;g++){d.push(ad[g].toString(3))}return d.join(c)},segmentType:function(d,g){return d.controlOut()&&g.controlIn()?"C":"L"},mapStroke:function(g){var d=[];if(g&&!p(g.color)){d.push(["stroke",g.color]);d.push(["stroke-width",g.width]);d.push(["stroke-linecap",this.renderLinecap(g)]);d.push(["stroke-linejoin",g.lineJoin]);if(Q(g.opacity)){d.push(["stroke-opacity",g.opacity])}if(Q(g.dashType)){d.push(["stroke-dasharray",this.renderDashType(g)])}}else{d.push(["stroke",K])}return d},renderStroke:function(){return D(this.mapStroke(this.srcElement.options.stroke))},renderDashType:function(ag){var af=ag.width||1,g=ag.dashType;if(g&&g!=q){var ad=M[g.toLowerCase()],d=[],ae;for(ae=0;ae<ad.length;ae++){d.push(ad[ae]*af)}return d.join(" ")}},renderLinecap:function(g){var d=g.dashType,ad=g.lineCap;return(d&&d!=q)?ab:ad},mapFill:function(g){var d=[];if(!(g&&g.nodeType==m)){if(g&&!p(g.color)){d.push(["fill",g.color]);if(Q(g.opacity)){d.push(["fill-opacity",g.opacity])}}else{d.push(["fill",K])}}return d},renderFill:function(){return D(this.mapFill(this.srcElement.options.fill))},template:e("<path #= d.renderStyle() # #= d.renderOpacity() # #= kendo.util.renderAttr('d', d.renderData()) # #= d.renderStroke() # #= d.renderFill() # #= d.renderDefinitions() # #= d.renderTransform() #></path>")});var r=o.extend({renderData:function(){return this.printPath(this.srcElement.toPath())}});var n=o.extend({renderData:function(){var ad=this.srcElement.paths;if(ad.length>0){var d=[],g;for(g=0;g<ad.length;g++){d.push(this.printPath(ad[g]))}return d.join(" ")}}});var s=o.extend({geometryChange:function(){var d=this.center();this.attr("cx",d.x);this.attr("cy",d.y);this.attr("r",this.radius());this.invalidate()},center:function(){return this.srcElement.geometry().center},radius:function(){return this.srcElement.geometry().radius},template:e("<circle #= d.renderStyle() # #= d.renderOpacity() # cx='#= d.center().x #' cy='#= d.center().y #' r='#= d.radius() #' #= d.renderStroke() # #= d.renderFill() # #= d.renderDefinitions() # #= d.renderTransform() # ></circle>")});var v=o.extend({geometryChange:function(){var d=this.pos();this.attr("x",d.x);this.attr("y",d.y);this.invalidate()},optionsChange:function(d){if(d.field==="font"){this.attr("style",k.renderStyle(this.mapStyle()));this.geometryChange()}else{if(d.field==="content"){o.fn.content.call(this,this.srcElement.content())}}o.fn.optionsChange.call(this,d)},mapStyle:function(){var g=o.fn.mapStyle.call(this);var d=this.srcElement.options.font;g.push(["font",E.htmlEncode(d)]);return g},pos:function(){var g=this.srcElement.position();var d=this.srcElement.measure();return g.clone().setY(g.y+d.baseline)},content:function(){var g=this.srcElement.content();var d=this.root().options;if(d&&d.encodeText){g=t(g);g=E.htmlEncode(g)}return g},template:e("<text #= d.renderStyle() # #= d.renderOpacity() # x='#= this.pos().x #' y='#= this.pos().y #' #= d.renderStroke() # #= d.renderTransform() # #= d.renderDefinitions() # #= d.renderFill() #>#= d.content() #</text>")});var S=o.extend({geometryChange:function(){this.allAttr(this.mapPosition());this.invalidate()},optionsChange:function(d){if(d.field==="src"){this.allAttr(this.mapSource())}o.fn.optionsChange.call(this,d)},mapPosition:function(){var g=this.srcElement.rect();var d=g.topLeft();return[["x",d.x],["y",d.y],["width",g.width()+"px"],["height",g.height()+"px"]]},renderPosition:function(){return D(this.mapPosition())},mapSource:function(){return[["xlink:href",this.srcElement.src()]]},renderSource:function(){return D(this.mapSource())},template:e("<image preserveAspectRatio='none' #= d.renderStyle() # #= d.renderTransform()# #= d.renderOpacity() # #= d.renderPosition() # #= d.renderSource() # #= d.renderDefinitions()#></image>")});var B=u.extend({template:e("<stop #=d.renderOffset()# #=d.renderStyle()# />"),renderOffset:function(){return I("offset",this.srcElement.offset())},mapStyle:function(){var d=this.srcElement;return[["stop-color",d.color()],["stop-opacity",d.opacity()]]},optionsChange:function(d){if(d.field=="offset"){this.attr(d.field,d.value)}else{if(d.field=="color"||d.field=="opacity"){this.css("stop-"+d.field,d.value)}}}});var O=u.extend({init:function(d){u.fn.init.call(this,d);this.id=d.id;this.loadStops()},loadStops:function(){var g=this.srcElement;var af=g.stops;var ae=this.element;var ad;var d;for(d=0;d<af.length;d++){ad=new B(af[d]);this.append(ad);if(ae){ad.attachTo(ae)}}},optionsChange:function(d){if(d.field=="gradient.stops"){z.fn.clear.call(this);this.loadStops()}else{if(d.field==m){this.allAttr(this.mapCoordinates())}}},renderCoordinates:function(){return D(this.mapCoordinates())},mapSpace:function(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}});var Z=O.extend({template:e("<linearGradient id='#=d.id#' #=d.renderCoordinates()#>#= d.renderChildren()#</linearGradient>"),mapCoordinates:function(){var g=this.srcElement;var ae=g.start();var d=g.end();var ad=[["x1",ae.x],["y1",ae.y],["x2",d.x],["y2",d.y],this.mapSpace()];return ad}});var V=O.extend({template:e("<radialGradient id='#=d.id#' #=d.renderCoordinates()#>#= d.renderChildren()#</radialGradient>"),mapCoordinates:function(){var ad=this.srcElement;var g=ad.center();var d=ad.radius();var ae=[["cx",g.x],["cy",g.y],["r",d],this.mapSpace()];return ae}});var U={Group:G,Text:v,Path:o,MultiPath:n,Circle:s,Arc:r,Image:S};var f=function(d,g){d.innerHTML=g};(function(){var ad="<svg xmlns='"+i+"'></svg>",d=j.createElement("div"),g=typeof DOMParser!=C;d.innerHTML=ad;if(g&&d.firstChild.namespaceURI!=i){f=function(ae,ag){var ai=new DOMParser(),ah=ai.parseFromString(ag,"text/xml"),af=j.adoptNode(ah.documentElement);ae.innerHTML="";ae.appendChild(af)}}})();function R(g){var d;try{d=g.getScreenCTM?g.getScreenCTM():null}catch(ag){}if(d){var af=-d.e%1,ae=-d.f%1,ad=g.style;if(af!==0||ae!==0){ad.left=af+"px";ad.top=ae+"px"}}}function h(){var ae=document.getElementsByTagName("base")[0],g="",d=document.location.href,ad=d.indexOf("#");if(ae&&!E.support.browser.msie){if(ad!==-1){d=d.substring(0,ad)}g=d}return g}function T(d){return"url("+h()+"#"+d+")"}function N(af){var d=new J({encodeText:true});var ag=af.clippedBBox();if(ag){var ad=ag.getOrigin();var ae=new aa.Group();ae.transform(X.transform().translate(-ad.x,-ad.y));ae.children.push(af);af=ae}d.load([af]);var g="<?xml version='1.0' ?><svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='"+i+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+d.render()+"</svg>";d.destroy();return g}function ac(ad,g){var d=N(ad);if(!g||!g.raw){d="data:image/svg+xml;base64,"+k.encodeBase64(d)}return A.Deferred().resolve(d).promise()}function l(d,g){return d=="clip"||(d=="fill"&&(!g||g.nodeType==m))}function t(g){if(!g||!g.indexOf||g.indexOf("&")<0){return g}else{var d=t._element;d.innerHTML=g;return d.textContent||d.innerText}}t._element=document.createElement("span");var b={clip:"clip-path",fill:"fill"};E.support.svg=(function(){return j.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")})();if(E.support.svg){aa.SurfaceFactory.current.register("svg",F,10)}L(aa,{exportSVG:ac,svg:{ArcNode:r,CircleNode:s,ClipNode:w,DefinitionNode:P,GradientStopNode:B,GroupNode:G,ImageNode:S,LinearGradientNode:Z,MultiPathNode:n,Node:u,PathNode:o,RadialGradientNode:V,RootNode:J,Surface:F,TextNode:v,_exportGroup:N}})})(window.kendo.jQuery);(function(i){var h=i.noop,H=document,w=window.kendo,r=w.deepExtend,e=w.util,f=e.defined,o=e.isTransparent,p=e.renderTemplate,s=e.valueOrDefault,C=w.geometry,D=w.drawing,c=D.BaseNode;var y="butt",l=D.DASH_ARRAYS,A=1000/60,m="none",n="solid";var B=D.Surface.extend({init:function(I,g){D.Surface.fn.init.call(this,I,g);this.element[0].innerHTML=this._template(this);var d=this.element[0].firstElementChild;d.width=i(I).width();d.height=i(I).height();this._rootElement=d;this._root=new F(d)},destroy:function(){D.Surface.fn.destroy.call(this);if(this._root){this._root.destroy();this._root=null}},type:"canvas",draw:function(d){D.Surface.fn.draw.call(this,d);this._root.load([d],undefined,this.options.cors)},clear:function(){D.Surface.fn.clear.call(this);this._root.clear()},image:function(){var g=this._root;var d=this._rootElement;var I=[];g.traverse(function(K){if(K.loading){I.push(K.loading)}});var J=i.Deferred();i.when.apply(i,I).done(function(){g._invalidate();try{var K=d.toDataURL();J.resolve(K)}catch(L){J.reject(L)}}).fail(function(K){J.reject(K)});return J.promise()},_resize:function(){this._rootElement.width=this._size.width;this._rootElement.height=this._size.height;this._root.invalidate()},_template:p("<canvas style='width: 100%; height: 100%;'></canvas>")});var G=c.extend({init:function(d){c.fn.init.call(this,d);if(d){this.initClip()}},initClip:function(){var d=this.srcElement.clip();if(d){this.clip=d;d.addObserver(this)}},clear:function(){if(this.srcElement){this.srcElement.removeObserver(this)}this.clearClip();c.fn.clear.call(this)},clearClip:function(){if(this.clip){this.clip.removeObserver(this);delete this.clip}},setClip:function(d){if(this.clip){d.beginPath();t.fn.renderPoints(d,this.clip);d.clip()}},optionsChange:function(d){if(d.field=="clip"){this.clearClip();this.initClip()}c.fn.optionsChange.call(this,d)},setTransform:function(d){if(this.srcElement){var g=this.srcElement.transform();if(g){d.transform.apply(d,g.matrix().toArray(6))}}},load:function(L,N,M){var K=this,J,d,I,g;for(g=0;g<L.length;g++){d=L[g];I=d.children;J=new b[d.nodeType](d,M);if(I&&I.length>0){J.load(I,N,M)}if(f(N)){K.insertAt(J,N)}else{K.append(J)}}K.invalidate()},setOpacity:function(d){if(this.srcElement){var g=this.srcElement.opacity();if(f(g)){this.globalAlpha(d,g)}}},globalAlpha:function(d,g){if(g&&d.globalAlpha){g*=d.globalAlpha}d.globalAlpha=g},visible:function(){var d=this.srcElement;return !d||(d&&d.options.visible!==false)}});var k=G.extend({renderTo:function(d){if(!this.visible()){return}d.save();this.setTransform(d);this.setClip(d);this.setOpacity(d);var I=this.childNodes;for(var g=0;g<I.length;g++){var J=I[g];if(J.visible()){J.renderTo(d)}}d.restore()}});D.mixins.Traversable.extend(k.fn,"childNodes");var F=k.extend({init:function(d){k.fn.init.call(this);this.canvas=d;this.ctx=d.getContext("2d");this.invalidate=w.throttle(i.proxy(this._invalidate,this),A)},destroy:function(){k.fn.destroy.call(this);this.canvas=null;this.ctx=null},_invalidate:function(){if(!this.ctx){return}this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);this.renderTo(this.ctx)}});D.mixins.Traversable.extend(F.fn,"childNodes");var t=G.extend({renderTo:function(d){d.save();this.setTransform(d);this.setClip(d);this.setOpacity(d);d.beginPath();this.renderPoints(d,this.srcElement);this.setLineDash(d);this.setLineCap(d);this.setLineJoin(d);this.setFill(d);this.setStroke(d);d.restore()},setFill:function(d){var I=this.srcElement.options.fill;var g=false;if(I){if(I.nodeType=="gradient"){this.setGradientFill(d,I);g=true}else{if(!o(I.color)){d.fillStyle=I.color;d.save();this.globalAlpha(d,I.opacity);d.fill();d.restore();g=true}}}return g},setGradientFill:function(I,K){var L=this.srcElement.rawBBox();var J;if(K instanceof D.LinearGradient){var M=K.start();var g=K.end();J=I.createLinearGradient(M.x,M.y,g.x,g.y)}else{if(K instanceof D.RadialGradient){var d=K.center();J=I.createRadialGradient(d.x,d.y,0,d.x,d.y,K.radius())}}u(J,K.stops);I.save();if(!K.userSpace()){I.transform(L.width(),0,0,L.height(),L.origin.x,L.origin.y)}I.fillStyle=J;I.fill();I.restore()},setStroke:function(d){var g=this.srcElement.options.stroke;if(g&&!o(g.color)&&g.width>0){d.strokeStyle=g.color;d.lineWidth=s(g.width,1);d.save();this.globalAlpha(d,g.opacity);d.stroke();d.restore();return true}},dashType:function(){var d=this.srcElement.options.stroke;if(d&&d.dashType){return d.dashType.toLowerCase()}},setLineDash:function(g){var d=this.dashType();if(d&&d!=n){var I=l[d];if(g.setLineDash){g.setLineDash(I)}else{g.mozDash=I;g.webkitLineDash=I}}},setLineCap:function(g){var d=this.dashType();var I=this.srcElement.options.stroke;if(d&&d!==n){g.lineCap=y}else{if(I&&I.lineCap){g.lineCap=I.lineCap}}},setLineJoin:function(d){var g=this.srcElement.options.stroke;if(g&&g.lineJoin){d.lineJoin=g.lineJoin}},renderPoints:function(N,O){var J=O.segments;if(J.length===0){return}var d=J[0];var I=d.anchor();N.moveTo(I.x,I.y);for(var g=1;g<J.length;g++){d=J[g];I=d.anchor();var M=J[g-1];var L=M.controlOut();var K=d.controlIn();if(L&&K){N.bezierCurveTo(L.x,L.y,K.x,K.y,I.x,I.y)}else{N.lineTo(I.x,I.y)}}if(O.options.closed){N.closePath()}}});var q=t.extend({renderPoints:function(d){var I=this.srcElement.paths;for(var g=0;g<I.length;g++){t.fn.renderPoints(d,I[g])}}});var E=t.extend({renderPoints:function(d){var I=this.srcElement.geometry();var J=I.center;var g=I.radius;d.arc(J.x,J.y,g,0,Math.PI*2)}});var j=t.extend({renderPoints:function(d){var g=this.srcElement.toPath();t.fn.renderPoints.call(this,d,g)}});var z=t.extend({renderTo:function(d){var I=this.srcElement;var J=I.position();var g=I.measure();d.save();this.setTransform(d);this.setClip(d);this.setOpacity(d);d.beginPath();d.font=I.options.font;if(this.setFill(d)){d.fillText(I.content(),J.x,J.y+g.baseline)}if(this.setStroke(d)){this.setLineDash(d);d.strokeText(I.content(),J.x,J.y+g.baseline)}d.restore()}});var x=t.extend({init:function(d,J){t.fn.init.call(this,d);this.onLoad=i.proxy(this.onLoad,this);this.onError=i.proxy(this.onError,this);this.loading=i.Deferred();var g=this.img=new Image();if(J&&!(/^data:/i.test(d.src()))){g.crossOrigin=J}var I=g.src=d.src();if(g.complete){this.onLoad()}else{g.onload=this.onLoad;g.onerror=this.onError}},renderTo:function(d){if(this.loading.state()==="resolved"){d.save();this.setTransform(d);this.setClip(d);this.drawImage(d);d.restore()}},optionsChange:function(d){if(d.field==="src"){this.loading=i.Deferred();this.img.src=this.srcElement.src()}else{t.fn.optionsChange.call(this,d)}},onLoad:function(){this.loading.resolve();this.invalidate()},onError:function(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))},drawImage:function(d){var I=this.srcElement.rect();var g=I.topLeft();d.drawImage(this.img,g.x,g.y,I.width(),I.height())}});function v(L,P){var I={width:"800px",height:"600px",cors:"Anonymous"};var M=L.clippedBBox();if(M){var K=M.getOrigin();var J=new D.Group();J.transform(C.transform().translate(-K.x,-K.y));J.children.push(L);L=J;var O=M.getSize();I.width=O.width+"px";I.height=O.height+"px"}P=r(I,P);var d=i("<div />").css({display:"none",width:P.width,height:P.height}).appendTo(document.body);var g=new B(d,P);g.draw(L);var N=g.image();N.always(function(){g.destroy();d.remove()});return N}var b={Group:k,Text:z,Path:t,MultiPath:q,Circle:E,Arc:j,Image:x};function u(K,J){var g,I,d;for(d=0;d<J.length;d++){I=J[d];g=w.parseColor(I.color());g.a*=I.opacity();K.addColorStop(I.offset(),g.toCssRgba())}}w.support.canvas=(function(){return !!H.createElement("canvas").getContext})();if(w.support.canvas){D.SurfaceFactory.current.register("canvas",B,20)}r(w.drawing,{exportImage:v,canvas:{ArcNode:j,CircleNode:E,GroupNode:k,ImageNode:x,MultiPathNode:q,Node:G,PathNode:t,RootNode:F,Surface:B,TextNode:z}})})(window.kendo.jQuery);(function(Q){var i=document,J=Math,A=J.atan2,G=J.ceil,Z=J.sqrt,S=window.kendo,aa=S.deepExtend,ak=Q.noop,am=S.drawing,O=am.BaseNode,al=S.geometry,C=al.toMatrix,n=S.Color,j=S.util,u=j.isTransparent,ad=j.defined,t=j.deg,c=j.renderTemplate,af=j.round,f=j.valueOrDefault;var Y="none",W=".kendo",b=100,U=b*b,o="gradient",L=4;var T=am.Surface.extend({init:function(g,d){am.Surface.fn.init.call(this,g,d);D();this.element.empty();this._root=new X();this._root.attachTo(this.element[0]);this.element.on("click"+W,this._click);this.element.on("mouseover"+W,this._mouseenter);this.element.on("mouseout"+W,this._mouseleave)},type:"vml",destroy:function(){if(this._root){this._root.destroy();this._root=null;this.element.off(W)}am.Surface.fn.destroy.call(this)},draw:function(d){am.Surface.fn.draw.call(this,d);this._root.load([d],undefined,null)},clear:function(){am.Surface.fn.clear.call(this);this._root.clear()}});var E=O.extend({init:function(d){O.fn.init.call(this,d);this.createElement();this.attachReference()},observe:ak,destroy:function(){if(this.element){this.element._kendoNode=null;this.element=null}O.fn.destroy.call(this)},clear:function(){if(this.element){this.element.innerHTML=""}var g=this.childNodes;for(var d=0;d<g.length;d++){g[d].destroy()}this.childNodes=[]},removeSelf:function(){if(this.element){this.element.parentNode.removeChild(this.element);this.element=null}O.fn.removeSelf.call(this)},createElement:function(){this.element=i.createElement("div")},attachReference:function(){this.element._kendoNode=this},load:function(g,av,ap,ar){ar=f(ar,1);if(this.srcElement){ar*=f(this.srcElement.options.opacity,1)}for(var aq=0;aq<g.length;aq++){var au=g[aq];var ao=au.children;var an=au.currentTransform(ap);var at=ar*f(au.options.opacity,1);var d=new ai[au.nodeType](au,an,at);if(ao&&ao.length>0){d.load(ao,av,an,ar)}if(ad(av)){this.insertAt(d,av)}else{this.append(d)}d.attachTo(this.element,av)}},attachTo:function(d,g){if(ad(g)){d.insertBefore(this.element,d.children[g]||null)}else{d.appendChild(this.element)}},optionsChange:function(d){if(d.field=="visible"){this.css("display",d.value!==false?"":Y)}},setStyle:function(){this.allCss(this.mapStyle())},mapStyle:function(){var d=[];if(this.srcElement&&this.srcElement.options.visible===false){d.push(["display",Y])}return d},mapOpacityTo:function(g,an){var d=f(this.opacity,1);d*=f(an,1);g.push(["opacity",d])},attr:function(d,g){if(this.element){this.element[d]=g}},allAttr:function(d){for(var g=0;g<d.length;g++){this.attr(d[g][0],d[g][1])}},css:function(d,g){if(this.element){this.element.style[d]=g}},allCss:function(g){for(var d=0;d<g.length;d++){this.css(g[d][0],g[d][1])}}});var X=E.extend({createElement:function(){E.fn.createElement.call(this);this.allCss([["width","100%"],["height","100%"],["position","relative"],["visibility","visible"]])},attachReference:ak});var ah=S.Class.extend({init:function(d,g){this.srcElement=d;this.observer=g;d.addObserver(this)},geometryChange:function(){this.observer.optionsChange({field:"clip",value:this.srcElement})},clear:function(){this.srcElement.removeObserver(this)}});var ag=E.extend({init:function(d){E.fn.init.call(this,d);if(d){this.initClip()}},observe:function(){O.fn.observe.call(this)},mapStyle:function(){var d=E.fn.mapStyle.call(this);if(this.srcElement&&this.srcElement.clip()){d.push(["clip",this.clipRect()])}return d},optionsChange:function(d){if(d.field=="clip"){this.clearClip();this.initClip();this.setClip()}E.fn.optionsChange.call(this,d)},clear:function(){this.clearClip();E.fn.clear.call(this)},initClip:function(){if(this.srcElement.clip()){this.clip=new ah(this.srcElement.clip(),this);this.clip.observer=this}},clearClip:function(){if(this.clip){this.clip.clear();this.clip=null;this.css("clip",this.clipRect())}},setClip:function(){if(this.clip){this.css("clip",this.clipRect())}},clipRect:function(){var g=I;var ao=this.srcElement.clip();if(ao){var ap=this.clipBBox(ao);var an=ap.topLeft();var d=ap.bottomRight();g=S.format("rect({0}px {1}px {2}px {3}px)",an.y,d.x,d.y,an.x)}return g},clipBBox:function(an){var g=this.srcElement.rawBBox().topLeft();var d=an.rawBBox();d.origin.translate(-g.x,-g.y);return d}});var V=ag.extend({createElement:function(){E.fn.createElement.call(this);this.setStyle()},attachTo:function(d,g){this.css("display",Y);E.fn.attachTo.call(this,d,g);if(this.srcElement.options.visible!==false){this.css("display","")}},_attachTo:function(d){var g=document.createDocumentFragment();g.appendChild(this.element);d.appendChild(g)},mapStyle:function(){var d=ag.fn.mapStyle.call(this);d.push(["position","absolute"]);d.push(["white-space","nowrap"]);return d},optionsChange:function(d){if(d.field==="transform"){this.refreshTransform()}if(d.field==="opacity"){this.refreshOpacity()}ag.fn.optionsChange.call(this,d)},refreshTransform:function(d){var ao=this.srcElement.currentTransform(d),an=this.childNodes,ap=an.length,g;this.setClip();for(g=0;g<ap;g++){an[g].refreshTransform(ao)}},currentOpacity:function(){var d=f(this.srcElement.options.opacity,1);if(this.parent&&this.parent.currentOpacity){d*=this.parent.currentOpacity()}return d},refreshOpacity:function(){var an=this.childNodes,ao=an.length,g;var d=this.currentOpacity();for(g=0;g<ao;g++){an[g].refreshOpacity(d)}},initClip:function(){ag.fn.initClip.call(this);if(this.clip){var d=this.clip.srcElement.bbox(this.srcElement.currentTransform());if(d){this.css("width",d.width()+d.origin.x);this.css("height",d.height()+d.origin.y)}}},clipBBox:function(d){return d.bbox(this.srcElement.currentTransform())},clearClip:function(){ag.fn.clearClip.call(this)}});var aj=E.extend({init:function(d,g){this.opacity=g;E.fn.init.call(this,d)},createElement:function(){this.element=y("stroke");this.setOpacity()},optionsChange:function(d){if(d.field.indexOf("stroke")===0){this.setStroke()}},refreshOpacity:function(d){this.opacity=d;this.setStroke()},setStroke:function(){this.allAttr(this.mapStroke())},setOpacity:function(){this.setStroke()},mapStroke:function(){var g=this.srcElement.options.stroke;var d=[];if(g&&!u(g.color)&&g.width!==0){d.push(["on","true"]);d.push(["color",g.color]);d.push(["weight",(g.width||1)+"px"]);this.mapOpacityTo(d,g.opacity);if(ad(g.dashType)){d.push(["dashstyle",g.dashType])}if(ad(g.lineJoin)){d.push(["joinstyle",g.lineJoin])}if(ad(g.lineCap)){var an=g.lineCap.toLowerCase();if(an==="butt"){an=an==="butt"?"flat":an}d.push(["endcap",an])}}else{d.push(["on","false"])}return d}});var x=E.extend({init:function(d,an,g){this.opacity=g;E.fn.init.call(this,d)},createElement:function(){this.element=y("fill");this.setFill()},optionsChange:function(d){if(R(d.field)){this.setFill()}},refreshOpacity:function(d){this.opacity=d;this.setOpacity()},setFill:function(){this.allAttr(this.mapFill())},setOpacity:function(){this.setFill()},attr:function(g,ao){var an=this.element;if(an){var d=g.split(".");while(d.length>1){an=an[d.shift()]}an[d[0]]=ao}},mapFill:function(){var g=this.srcElement.fill();var d=[["on","false"]];if(g){if(g.nodeType==o){d=this.mapGradient(g)}else{if(!u(g.color)){d=this.mapFillColor(g)}}}return d},mapFillColor:function(g){var d=[["on","true"],["color",g.color]];this.mapOpacityTo(d,g.opacity);return d},mapGradient:function(ao){var g=this.srcElement.options;var an=g.fallbackFill||(ao.fallbackFill&&ao.fallbackFill());var d;if(ao instanceof am.LinearGradient){d=this.mapLinearGradient(ao)}else{if(ao instanceof am.RadialGradient&&ao.supportVML){d=this.mapRadialGradient(ao)}else{if(an){d=this.mapFillColor(an)}else{d=[["on","false"]]}}}return d},mapLinearGradient:function(ao){var aq=ao.start();var d=ao.end();var an=ao.stops;var ap=j.deg(A(d.y-aq.y,d.x-aq.x));var g=[["on","true"],["type",o],["focus",0],["method","none"],["angle",270-ap]];this.addColors(g);return g},mapRadialGradient:function(ap){var ar=this.srcElement.rawBBox();var d=ap.center();var an=ap.stops;var aq=(d.x-ar.origin.x)/ar.width();var ao=(d.y-ar.origin.y)/ar.height();var g=[["on","true"],["type","gradienttitle"],["focus","100%"],["focusposition",aq+" "+ao],["method","none"]];this.addColors(g);return g},addColors:function(au){var aw=this.srcElement.options;var ap=f(this.opacity,1);var an=[];var av=aw.fill.stops;var ao=aw.baseColor;var d=this.element.colors?"colors.value":"colors";var g=B(ao,av[0],ap);var at=B(ao,av[av.length-1],ap);var aq;for(var ar=0;ar<av.length;ar++){aq=av[ar];an.push(J.round(aq.offset()*100)+"% "+B(ao,aq,ap))}au.push([d,an.join(",")],["color",g],["color2",at])}});var m=E.extend({init:function(d,g){this.transform=g;E.fn.init.call(this,d)},createElement:function(){this.element=y("skew");this.setTransform()},optionsChange:function(d){if(d.field==="transform"){this.refresh(this.srcElement.currentTransform())}},refresh:function(d){this.transform=d;this.setTransform()},transformOrigin:function(){return"-0.5,-0.5"},setTransform:function(){this.allAttr(this.mapTransform())},mapTransform:function(){var aq=this.transform;var ap=[],an,g,at,ar,ao=C(aq);if(ao){ao.round(L);ap.push(["on","true"],["matrix",[ao.a,ao.c,ao.b,ao.d,0,0].join(",")],["offset",ao.e+"px,"+ao.f+"px"],["origin",this.transformOrigin()])}else{ap.push(["on","false"])}return ap}});var w=ag.extend({init:function(d,an,g){this.fill=this.createFillNode(d,an,g);this.stroke=new aj(d,g);this.transform=this.createTransformNode(d,an);ag.fn.init.call(this,d)},attachTo:function(d,g){this.fill.attachTo(this.element);this.stroke.attachTo(this.element);this.transform.attachTo(this.element);E.fn.attachTo.call(this,d,g)},createFillNode:function(d,an,g){return new x(d,an,g)},createTransformNode:function(d,g){return new m(d,g)},createElement:function(){this.element=y("shape");this.setCoordsize();this.setStyle()},optionsChange:function(d){if(R(d.field)){this.fill.optionsChange(d)}else{if(d.field.indexOf("stroke")===0){this.stroke.optionsChange(d)}else{if(d.field==="transform"){this.transform.optionsChange(d)}else{if(d.field==="opacity"){this.fill.setOpacity();this.stroke.setOpacity()}}}}ag.fn.optionsChange.call(this,d)},refreshTransform:function(d){this.transform.refresh(this.srcElement.currentTransform(d))},refreshOpacity:function(d){d*=f(this.srcElement.options.opacity,1);this.fill.refreshOpacity(d);this.stroke.refreshOpacity(d)},mapStyle:function(g,d){var an=ag.fn.mapStyle.call(this);if(!g||!d){g=d=b}an.push(["position","absolute"],["width",g+"px"],["height",d+"px"]);var ao=this.srcElement.options.cursor;if(ao){an.push(["cursor",ao])}return an},setCoordsize:function(){this.allAttr([["coordorigin","0 0"],["coordsize",U+" "+U]])}});var k=E.extend({createElement:function(){this.element=y("path");this.setPathData()},geometryChange:function(){this.setPathData()},setPathData:function(){this.attr("v",this.renderData())},renderData:function(){return M(this.srcElement)}});var s=w.extend({init:function(d,an,g){this.pathData=this.createDataNode(d);w.fn.init.call(this,d,an,g)},attachTo:function(d,g){this.pathData.attachTo(this.element);w.fn.attachTo.call(this,d,g)},createDataNode:function(d){return new k(d)},geometryChange:function(){this.pathData.geometryChange();w.fn.geometryChange.call(this)}});var P=k.extend({renderData:function(){var ao=this.srcElement.paths;if(ao.length>0){var d=[],an,g;for(an=0;an<ao.length;an++){g=an<ao.length-1;d.push(M(ao[an],g))}return d.join(" ")}}});var p=s.extend({createDataNode:function(d){return new P(d)}});var N=m.extend({transformOrigin:function(){var ao=this.srcElement.geometry().bbox(),d=ao.center(),an=-G(d.x)/G(ao.width()),g=-G(d.y)/G(ao.height());return an+","+g}});var v=w.extend({createElement:function(){this.element=y("oval");this.setStyle()},createTransformNode:function(d,g){return new N(d,g)},geometryChange:function(){w.fn.geometryChange.call(this);this.setStyle();this.refreshTransform()},mapStyle:function(){var ap=this.srcElement.geometry();var g=ap.radius;var d=ap.center;var an=G(g*2);var ao=w.fn.mapStyle.call(this,an,an);ao.push(["left",G(d.x-g)+"px"],["top",G(d.y-g)+"px"]);return ao}});var K=k.extend({renderData:function(){return M(this.srcElement.toPath())}});var r=s.extend({createDataNode:function(d){return new K(d)}});var H=k.extend({createElement:function(){k.fn.createElement.call(this);this.attr("textpathok",true)},renderData:function(){var g=this.srcElement.rect();var d=g.center();return"m "+z([new al.Point(g.topLeft().x,d.y)])+" l "+z([new al.Point(g.bottomRight().x,d.y)])}});var h=E.extend({createElement:function(){this.element=y("textpath");this.attr("on",true);this.attr("fitpath",false);this.setStyle();this.setString()},optionsChange:function(d){if(d.field==="content"){this.setString()}else{this.setStyle()}E.fn.optionsChange.call(this,d)},mapStyle:function(){return[["font",this.srcElement.options.font]]},setString:function(){this.attr("string",this.srcElement.content())}});var F=s.extend({init:function(d,an,g){this.path=new h(d);s.fn.init.call(this,d,an,g)},createDataNode:function(d){return new H(d)},attachTo:function(d,g){this.path.attachTo(this.element);s.fn.attachTo.call(this,d,g)},optionsChange:function(d){if(d.field==="font"||d.field==="content"){this.path.optionsChange(d);this.pathData.geometryChange(d)}s.fn.optionsChange.call(this,d)}});var ac=k.extend({renderData:function(){var d=this.srcElement.rect();var g=new am.Path().moveTo(d.topLeft()).lineTo(d.topRight()).lineTo(d.bottomRight()).lineTo(d.bottomLeft()).close();return M(g)}});var e=m.extend({init:function(d,an,g){this.opacity=g;m.fn.init.call(this,d,an)},createElement:function(){this.element=y("fill");this.attr("type","frame");this.attr("rotate",true);this.setOpacity();this.setSrc();this.setTransform()},optionsChange:function(d){if(d.field==="src"){this.setSrc()}m.fn.optionsChange.call(this,d)},geometryChange:function(){this.refresh()},refreshOpacity:function(d){this.opacity=d;this.setOpacity()},setOpacity:function(){var d=[];this.mapOpacityTo(d,this.srcElement.options.opacity);this.allAttr(d)},setSrc:function(){this.attr("src",this.srcElement.src())},mapTransform:function(){var ar=this.srcElement;var ao=ar.rawBBox();var au=ao.center();var at=b/2;var av=b;var aB;var ax;var an=ao.width()/av;var aC=ao.height()/av;var aq=0;var ap=this.transform;if(ap){var aA=C(ap);var az=Z(aA.a*aA.a+aA.b*aA.b);var aw=Z(aA.c*aA.c+aA.d*aA.d);an*=az;aC*=aw;var g=t(A(aA.b,aA.d));var aD=t(A(-aA.c,aA.a));aq=(g+aD)/2;if(aq!==0){var d=ar.bbox().center();aB=(d.x-at)/av;ax=(d.y-at)/av}else{aB=(au.x*az+aA.e-at)/av;ax=(au.y*aw+aA.f-at)/av}}else{aB=(au.x-at)/av;ax=(au.y-at)/av}an=af(an,L);aC=af(aC,L);aB=af(aB,L);ax=af(ax,L);aq=af(aq,L);return[["size",an+","+aC],["position",aB+","+ax],["angle",aq]]}});var ae=s.extend({createFillNode:function(d,an,g){return new e(d,an,g)},createDataNode:function(d){return new ac(d)},optionsChange:function(d){if(d.field==="src"||d.field==="transform"){this.fill.optionsChange(d)}s.fn.optionsChange.call(this,d)},geometryChange:function(){this.fill.geometryChange();s.fn.geometryChange.call(this)},refreshTransform:function(d){s.fn.refreshTransform.call(this,d);this.fill.refresh(this.srcElement.currentTransform(d))}});var ai={Group:V,Text:F,Path:s,MultiPath:p,Circle:v,Arc:r,Image:ae};function D(){if(i.namespaces&&!i.namespaces.kvml){i.namespaces.add("kvml","urn:schemas-microsoft-com:vml");var d=i.styleSheets.length>30?i.styleSheets[0]:i.createStyleSheet();d.addRule(".kvml","behavior:url(#default#VML)")}}function y(g){var d=i.createElement("kvml:"+g);d.className="kvml";return d}function z(an){var ao=an.length;var d=[];for(var g=0;g<ao;g++){d.push(an[g].scaleCopy(b).toString(0,","))}return d.join(" ")}function M(au,ap){var aq=au.segments,d=aq.length;if(d>0){var an=[],g,at,ar,ao;for(ao=1;ao<d;ao++){at=ab(aq[ao-1],aq[ao]);if(at!==ar){ar=at;an.push(at)}if(at==="l"){an.push(z([aq[ao].anchor()]))}else{an.push(z([aq[ao-1].controlOut(),aq[ao].controlIn(),aq[ao].anchor()]))}}g="m "+z([aq[0].anchor()])+" "+an.join(" ");if(au.options.closed){g+=" x"}if(ap!==true){g+=" e"}return g}}function ab(d,g){return d.controlOut()&&g.controlIn()?"c":"l"}function R(d){return d.indexOf("fill")===0||d.indexOf(o)===0}function B(ap,ao,an){var g=an*f(ao.opacity(),1);var d;if(ap){d=q(ap,ao.color(),g)}else{d=q(ao.color(),"#fff",1-g)}return d}function q(aq,an,ar){var au=new n(aq),at=new n(an),ap=l(au.r,at.r,ar),ao=l(au.g,at.g,ar),d=l(au.b,at.b,ar);return new n(ap,ao,d).toHex()}function l(g,d,an){return J.round(an*d+(1-an)*g)}S.support.vml=(function(){var d=S.support.browser;return d.msie&&d.version<9})();var I="inherit";if(S.support.browser.msie&&S.support.browser.version<8){I="rect(auto auto auto auto)"}if(S.support.vml){am.SurfaceFactory.current.register("vml",T,30)}aa(am,{vml:{ArcDataNode:K,ArcNode:r,CircleTransformNode:N,CircleNode:v,FillNode:x,GroupNode:V,ImageNode:ae,ImageFillNode:e,ImagePathDataNode:ac,MultiPathDataNode:P,MultiPathNode:p,Node:E,PathDataNode:k,PathNode:s,RootNode:X,StrokeNode:aj,Surface:T,TextNode:F,TextPathNode:h,TextPathDataNode:H,TransformNode:m}})})(window.kendo.jQuery);(function(T,z,G){var r=kendo.drawing;var ap=kendo.geometry;var w=Array.prototype.slice;var h=kendo.support.browser;var e="KENDO-PSEUDO-ELEMENT";var Y={};var U={};U._root=U;var H=r.Text.extend({nodeType:"Text",init:function(at,ar,aq){r.Text.fn.init.call(this,at,ar.getOrigin(),aq);this._pdfRect=ar},rect:function(){return this._pdfRect},rawBBox:function(){return this._pdfRect}});function am(at,ar){if(!ar){ar={}}var aw=T.Deferred();at=T(at)[0];if(!at){return aw.reject("No element to export")}if(typeof window.getComputedStyle!="function"){throw new Error("window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.")}if(kendo.pdf){kendo.pdf.defineFont(B(at.ownerDocument))}function aq(ax){var ay=new r.Group();var az=ax.getBoundingClientRect();f(ay,[1,0,0,1,-az.left,-az.top]);U._clipbox=false;U._matrix=ap.Matrix.unit();U._stackingContext={element:ax,group:ay};T(ax).addClass("k-pdf-export");t(ax,ay);T(ax).removeClass("k-pdf-export");return ay}M(at,function(){var ay=ar&&ar.forcePageBreak;var aB=ar&&ar.paperSize&&ar.paperSize!="auto";var aA=aB&&kendo.pdf.getPaperOptions(function(aE,aF){return aE in ar?ar[aE]:aF});var ax=aB&&aA.paperSize[0];var az=aB&&aA.paperSize[1];var aC=ar.margin&&aA.margin;if(ay||az){if(!aC){aC={left:0,top:0,right:0,bottom:0}}var aD=new r.Group({pdf:{multiPage:true,paperSize:aB?aA.paperSize:"auto"}});av(function(aF){if(ar.progress){var aE=false,aH=0;(function aG(){if(aH<aF.pages.length){aD.append(aq(aF.pages[aH]));ar.progress({pageNum:++aH,totalPages:aF.pages.length,cancel:function(){aE=true}});if(!aE){setTimeout(aG)}else{aF.container.parentNode.removeChild(aF.container)}}else{aF.container.parentNode.removeChild(aF.container);aw.resolve(aD)}})()}else{aF.pages.forEach(function(aI){aD.append(aq(aI))});aF.container.parentNode.removeChild(aF.container);aw.resolve(aD)}},at,ay,ax?ax-aC.left-aC.right:null,az?az-aC.top-aC.bottom:null,aC,ar)}else{aw.resolve(aq(at))}});function au(ax){if(ax!=null){if(typeof ax=="string"){ax=kendo.template(ax.replace(/^\s+|\s+$/g,""))}if(typeof ax=="function"){return function(az){var ay=ax(az);if(ay){return T(ay)[0]}}}return function(){return T(ax).clone()[0]}}}function av(aD,az,aE,aN,aG,aK,aB){var aO=au(aB.template);var aQ=az.ownerDocument;var aI=[];var aL=T(az).clone(true,true)[0];var aJ=aQ.createElement("KENDO-PDF-DOCUMENT");var aM=0;T(aJ).css({display:"block",position:"absolute",boxSizing:"content-box",left:"-10000px",top:"-10000px"});if(aN){T(aJ).css({width:aN,paddingLeft:aK.left,paddingRight:aK.right});T(aL).css({overflow:"hidden"})}aJ.appendChild(aL);az.parentNode.insertBefore(aJ,az);if(aB.beforePageBreak){setTimeout(function(){aB.beforePageBreak(aJ,aA)},15)}else{setTimeout(aA,15)}function aA(){if(aE!="-"||aG){aP(aL)}var aR=ay();aL.parentNode.insertBefore(aR,aL);aR.appendChild(aL);if(aO){aI.forEach(function(aU,aS){var aT=aO({element:aU,pageNum:aS+1,totalPages:aI.length});if(aT){aU.appendChild(aT)}})}setTimeout(function(){aD({pages:aI,container:aJ})},10)}function aP(aX){var aR=x(aX);var aZ=z(ah(aR,"padding-bottom"));var aT=z(ah(aR,"border-bottom-width"));var aY=aM;aM+=aZ+aT;var aW=true;for(var aU=aX.firstChild;aU;aU=aU.nextSibling){if(aU.nodeType==1){aW=false;var aS=T(aU);if(aS.is(aE)){aC(aU);continue}if(!aG){aP(aU);continue}if(!/^(?:static|relative)$/.test(ah(x(aU),"position"))){continue}var aV=aF(aU);if(aV==1){aC(aU)}else{if(aV){if(aS.data("kendoChart")||/^(?:img|tr|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(aU.tagName)){aC(aU)}else{aP(aU)}}else{aP(aU)}}}else{if(aU.nodeType==3&&aG){aH(aU,aW);aW=false}}}aM=aY}function ax(aR){var aS=aR.parentNode,aT=aS.firstChild;if(aR===aT){return true}if(aR===aS.children[0]){if(aT.nodeType==7||aT.nodeType==8){return true}if(aT.nodeType==3){return !/\S/.test(aT.data)}}return false}function aC(aS){if(aS.nodeType==1&&aS!==aL&&ax(aS)){return aC(aS.parentNode)}var aT=ay();var aR=aQ.createRange();aR.setStartBefore(aL);aR.setEndBefore(aS);aT.appendChild(aR.extractContents());aL.parentNode.insertBefore(aT,aL)}function ay(){var aR=aQ.createElement("KENDO-PDF-PAGE");T(aR).css({display:"block",boxSizing:"content-box",width:aN||"auto",padding:(aK.top+"px "+aK.right+"px "+aK.bottom+"px "+aK.left+"px"),position:"relative",height:aG||"auto",overflow:aG||aN?"hidden":"visible",clear:"both"});if(aB&&aB.pageClassName){aR.className=aB.pageClassName}aI.push(aR);return aR}function aF(aR){var aS=aR.getBoundingClientRect();if(aS.width===0||aS.height===0){return 0}var aU=aL.getBoundingClientRect().top;var aT=aG-aM;return(aS.height>aT)?3:(aS.top-aU>aT)?1:(aS.bottom-aU>aT)?2:0}function aH(aW,aS){if(!/\S/.test(aW.data)){return}var aR=aW.data.length;var aT=aQ.createRange();aT.selectNodeContents(aW);var aY=aF(aT);if(!aY){return}var aU=aW;if(aY==1){if(aS){aC(aW.parentNode)}else{aC(aW)}}else{(function aV(a0,a1,aZ){aT.setEnd(aW,a1);if(a0==a1||a1==aZ){return a1}if(aF(aT)){return aV(a0,(a0+a1)>>1,a1)}else{return aV(a1,(a1+aZ)>>1,aZ)}})(0,aR>>1,aR);if(!/\S/.test(aT.toString())&&aS){aC(aW.parentNode)}else{aU=aW.splitText(aT.endOffset);var aX=ay();aT.setStartBefore(aL);aX.appendChild(aT.extractContents());aL.parentNode.insertBefore(aX,aL)}}aH(aU)}}return aw.promise()}r.drawDOM=am;am.getFontFaces=B;var u=(function(){var az=/^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\s*)\(/;var ay=/^((-webkit-|-moz-|-o-|-ms-)?radial-gradient\s*)\(/;var au=/^([-0-9.]+%)/;var av=/^([-0-9.]+px)/;var at=/^(left|right|top|bottom|to|center)\W/;var aB=/^([-0-9.]+(deg|grad|rad|turn))/;var aA=/^(\s+)/;var ar=/^(\()/;var ax=/^(\))/;var aw=/^(,)/;var aq={};return function(aE){var aI=aE;if(p(aq,aI)){return aq[aI]}function aD(){var aJ=aA.exec(aE);if(aJ){aE=aE.substr(aJ[1].length)}}function aH(aK){aD();var aJ=aK.exec(aE);if(aJ){aE=aE.substr(aJ[1].length);return aJ[1]}}function aG(){var aJ=kendo.parseColor(aE,true);var aL,aK;if(aJ){aE=aE.substr(aJ.match[0].length);aJ=aJ.toRGB();if(!(aL=aH(av))){aK=aH(au)}return{color:aJ,length:aL,percent:aK}}}function aF(aL){var aJ;var aM,aK;var aR=[];var aN=false;if(aH(ar)){aJ=aH(aB);if(aJ){aJ=d(aJ);aH(aw)}else{aM=aH(at);if(aM=="to"){aM=aH(at)}else{if(aM&&/^-/.test(aL)){aN=true}}aK=aH(at);aH(aw)}if(/-moz-/.test(aL)&&aJ==null&&aM==null){var aQ=aH(au),aP=aH(au);aN=true;if(aQ=="0%"){aM="left"}else{if(aQ=="100%"){aM="right"}}if(aP=="0%"){aK="top"}else{if(aP=="100%"){aK="bottom"}}aH(aw)}while(aE&&!aH(ax)){var aO=aG();if(!aO){break}aR.push(aO);aH(aw)}return{type:"linear",angle:aJ,to:aM&&aK?aM+" "+aK:aM?aM:aK?aK:null,stops:aR,reverse:aN,orig:aI}}}var aC=aH(az);if(aC){aC=aF(aC)}return(aq[aI]=aC)}})();var V=(function(){var aq={};return function(aB,av){if(!av){av=/^\s*,\s*/}var ax=aB+av;if(p(aq,ax)){return aq[ax]}var aw=[];var aC=0,aA=0;var ay=0;var az=false;var au;function ar(aD){return(au=aD.exec(aB.substr(aA)))}function at(aD){return aD.replace(/^\s+|\s+$/g,"")}while(aA<aB.length){if(!az&&ar(/^[\(\[\{]/)){ay++;aA++}else{if(!az&&ar(/^[\)\]\}]/)){ay--;aA++}else{if(!az&&ar(/^[\"\']/)){az=au[0];aA++}else{if(az=="'"&&ar(/^\\\'/)){aA+=2}else{if(az=='"'&&ar(/^\\\"/)){aA+=2}else{if(az=="'"&&ar(/^\'/)){az=false;aA++}else{if(az=='"'&&ar(/^\"/)){az=false;aA++}else{if(ar(av)){if(!az&&!ay&&aA>aC){aw.push(at(aB.substring(aC,aA)));aC=aA+au[0].length}aA+=au[0].length}else{aA++}}}}}}}}}if(aC<aA){aw.push(at(aB.substring(aC,aA)))}return(aq[ax]=aw)}})();var g=(function(){var aq={};return function(au){var at=aq[au];if(!at){var ar;if((ar=/url\((['"]?)([^'")]*?)\1\)\s+format\((['"]?)truetype\3\)/.exec(au))){at=aq[au]=ar[2]}else{if((ar=/url\((['"]?)([^'")]*?\.ttf)\1\)/.exec(au))){at=aq[au]=ar[2]}}}return at}})();function B(av){if(av==null){av=document}var at={};for(var au=0;au<av.styleSheets.length;++au){ar(av.styleSheets[au])}return at;function ar(az){if(az){var aA=null;try{aA=az.cssRules}catch(ay){}if(aA){aw(az,aA)}}}function ax(az){var aA=ah(az.style,"src");if(aA){return V(aA).reduce(function(aB,aD){var aC=g(aD);if(aC){aB.push(aC)}return aB},[])}else{var ay=g(az.cssText);return ay?[ay]:[]}}function aw(aF,aG){for(var aC=0;aC<aG.length;++aC){var az=aG[aC];switch(az.type){case 3:ar(az.styleSheet);break;case 5:var aA=az.style;var aB=V(ah(aA,"font-family"));var aE=/^(400|bold)$/i.test(ah(aA,"font-weight"));var aD="italic"==ah(aA,"font-style");var ay=ax(az);if(ay.length>0){aq(aF,aB,aE,aD,ay[0])}}}}function aq(aC,aB,aA,ay,az){if(!(/^[^\/:]+:\/\//.test(az)||/^\//.test(az))){az=String(aC.href).replace(/[^\/]*$/,"")+az}aB.forEach(function(aD){aD=aD.replace(/^(['"]?)(.*?)\1$/,"$2");if(aA){aD+="|bold"}if(ay){aD+="|italic"}at[aD]=az})}}function p(ar,aq){return Object.prototype.hasOwnProperty.call(ar,aq)}function J(aq){aq="_counter_"+aq;return U[aq]}function O(ar){var aq=[],at=U;ar="_counter_"+ar;while(at){if(p(at,ar)){aq.push(at[ar])}at=Object.getPrototypeOf(at)}return aq.reverse()}function F(aq,at){var ar=U;aq="_counter_"+aq;while(ar&&!p(ar,aq)){ar=Object.getPrototypeOf(ar)}if(!ar){ar=U._root}ar[aq]=(ar[aq]||0)+(at==null?1:at)}function N(aq,ar){aq="_counter_"+aq;U[aq]=ar==null?0:ar}function C(aq,av,au){for(var at=0;at<aq.length;){var ar=aq[at++];var aw=z(aq[at]);if(isNaN(aw)){av(ar,au)}else{av(ar,aw);++at}}}function q(at,ar){var aq=kendo.parseColor(at);if(aq){aq=aq.toRGB();if(ar){aq=aq.toCssRgba()}else{if(aq.a===0){aq=null}}}return aq}function M(aq,ax){var aw=[];function av(ay){if(!Y[ay]){Y[ay]=true;aw.push(ay)}}(function au(aA){var az=s(ah(x(aA),"background-image"));if(/^img$/i.test(aA.tagName)){av(aA.src)}if(az){av(az)}for(var ay=aA.firstChild;ay;ay=ay.nextSibling){if(ay.nodeType==1){au(ay)}}})(aq);var at=aw.length;function ar(){if(--at<=0){ax()}}if(at===0){ar()}aw.forEach(function(az){var ay=Y[az]=new Image();if(!(/^data:/i.test(az))){ay.crossOrigin="Anonymous"}ay.src=az;if(ay.complete){ar()}else{ay.onload=ar;ay.onerror=function(){Y[az]=null;ar()}}})}function X(au){var ar={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1000:"m"};var aq=[1000,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1];var at="";while(au>0){if(au<aq[0]){aq.shift()}else{at+=ar[aq[0]];au-=aq[0]}}return at}function af(at){var aq="";do{var ar=at%26;aq=String.fromCharCode(97+ar)+aq;at=G.floor(at/26)}while(at>0);return aq}function s(ar){var aq=/^\s*url\((['"]?)(.*?)\1\)\s*$/i.exec(ar);if(aq){return aq[2]}}function ab(at,au,av){U=Object.create(U);U[at.tagName.toLowerCase()]={element:at,style:au};var ar=ah(au,"text-decoration");if(ar&&ar!="none"){var aq=ah(au,"color");ar.split(/\s+/g).forEach(function(aw){if(!U[aw]){U[aw]=aq}})}if(al(au)){U._stackingContext={element:at,group:av}}}function ae(){U=Object.getPrototypeOf(U)}function ac(ar){if(U._clipbox!=null){var aq=ar.bbox(U._matrix);if(U._clipbox){U._clipbox=ap.Rect.intersect(U._clipbox,aq)}else{U._clipbox=aq}}}function K(){var aq=U._clipbox;if(aq==null){return true}if(aq){return aq.width()===0||aq.height()===0}}function al(aq){function ar(at){return ah(aq,at)}if(ar("transform")!="none"||(ar("position")!="static"&&ar("z-index")!="auto")||(ar("opacity")<1)){return true}}function x(aq,ar){return window.getComputedStyle(aq,ar||null)}function ah(aq,ar){return aq.getPropertyValue(ar)||(h.webkit&&aq.getPropertyValue("-webkit-"+ar))||(h.mozilla&&aq.getPropertyValue("-moz-"+ar))||(h.opera&&aq.getPropertyValue("-o-"+ar))||(h.msie&&aq.getPropertyValue("-ms-"+ar))}function b(ar,au,at,aq){ar.setProperty(au,at,aq);if(h.webkit){ar.setProperty("-webkit-"+au,at,aq)}else{if(h.mozilla){ar.setProperty("-moz-"+au,at,aq)}else{if(h.opera){ar.setProperty("-o-"+au,at,aq)}else{if(h.msie){ar.setProperty("-ms-"+au,at,aq);au="ms"+au.replace(/(^|-)([a-z])/g,function(av,ax,aw){return ax+aw.toUpperCase()});ar[au]=at}}}}}function ag(ar,aq){aq="border-"+aq;return{width:z(ah(ar,aq+"-width")),style:ah(ar,aq+"-style"),color:q(ah(ar,aq+"-color"),true)}}function R(ar,au){var at=ar.style.cssText;var aq=au();ar.style.cssText=at;return aq}function aa(ar,aq){var at=ah(ar,"border-"+aq+"-radius").split(/\s+/g).map(z);if(at.length==1){at.push(at[0])}return ak({x:at[0],y:at[1]})}function ai(aq){var ar=aq.getBoundingClientRect();ar=v(ar,"border-*-width",aq);ar=v(ar,"padding-*",aq);return ar}function v(av,ay,at){var au,aq,ar,aw,ax;if(typeof ay=="string"){au=x(at);aq=z(ah(au,ay.replace("*","top")));ar=z(ah(au,ay.replace("*","right")));aw=z(ah(au,ay.replace("*","bottom")));ax=z(ah(au,ay.replace("*","left")))}else{if(typeof ay=="number"){aq=ar=aw=ax=ay}}return{top:av.top+aq,right:av.right-ar,bottom:av.bottom-aw,left:av.left+ax,width:av.right-av.left-ar-ax,height:av.bottom-av.top-aw-aq}}function Q(au){var at=ah(au,"transform");if(at=="none"){return null}var ar=/^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(at);if(ar){var aq=ah(au,"transform-origin");ar=ar[1].split(/\s*,\s*/g).map(z);aq=aq.split(/\s+/g).map(z);return{matrix:ar,origin:aq}}}function i(aq){return((180*aq)/G.PI)%360}function d(ar){var aq=z(ar);if(/grad$/.test(ar)){return G.PI*aq/200}else{if(/rad$/.test(ar)){return aq}else{if(/turn$/.test(ar)){return G.PI*aq*2}else{if(/deg$/.test(ar)){return G.PI*aq/180}}}}}function f(ar,aq){aq=new ap.Matrix(aq[0],aq[1],aq[2],aq[3],aq[4],aq[5]);ar.transform(aq);return aq}function L(aq,ar){aq.clip(ar)}function m(av,aq,aw,ar){var au=new ap.Arc([aq,aw],ar).curvePoints(),at=1;while(at<au.length){av.curveTo(au[at++],au[at++],au[at++])}}function ak(aq){if(aq.x<=0||aq.y<=0){aq.x=aq.y=0}return aq}function o(av,ar,aE,au,aw){var aD=G.max(0,ar.x),aB=G.max(0,ar.y);var at=G.max(0,aE.x),aq=G.max(0,aE.y);var aC=G.max(0,au.x),aA=G.max(0,au.y);var az=G.max(0,aw.x),ay=G.max(0,aw.y);var ax=G.min(av.width/(aD+at),av.height/(aq+aA),av.width/(aC+az),av.height/(ay+aB));if(ax<1){aD*=ax;aB*=ax;at*=ax;aq*=ax;aC*=ax;aA*=ax;az*=ax;ay*=ax}return{tl:{x:aD,y:aB},tr:{x:at,y:aq},br:{x:aC,y:aA},bl:{x:az,y:ay}}}function y(ax,ay,aB){var ar=x(ax);var au=aa(ar,"top-left");var aG=aa(ar,"top-right");var az=aa(ar,"bottom-left");var av=aa(ar,"bottom-right");if(aB=="padding"||aB=="content"){var aD=ag(ar,"top");var aE=ag(ar,"right");var aA=ag(ar,"bottom");var at=ag(ar,"left");au.x-=at.width;au.y-=aD.width;aG.x-=aE.width;aG.y-=aD.width;av.x-=aE.width;av.y-=aA.width;az.x-=at.width;az.y-=aA.width;if(aB=="content"){var aF=z(ah(ar,"padding-top"));var aq=z(ah(ar,"padding-right"));var aC=z(ah(ar,"padding-bottom"));var aw=z(ah(ar,"padding-left"));au.x-=aw;au.y-=aF;aG.x-=aq;aG.y-=aF;av.x-=aq;av.y-=aC;az.x-=aw;az.y-=aC}}if(typeof aB=="number"){au.x-=aB;au.y-=aB;aG.x-=aB;aG.y-=aB;av.x-=aB;av.y-=aB;az.x-=aB;az.y-=aB}return D(ay,au,aG,av,az)}function D(av,az,ax,aA,aq){var au=o(av,az,ax,aA,aq);var at=au.tl;var aB=au.tr;var ar=au.br;var aw=au.bl;var ay=new r.Path({fill:null,stroke:null});ay.moveTo(av.left,av.top+at.y);if(at.x){m(ay,av.left+at.x,av.top+at.y,{startAngle:-180,endAngle:-90,radiusX:at.x,radiusY:at.y})}ay.lineTo(av.right-aB.x,av.top);if(aB.x){m(ay,av.right-aB.x,av.top+aB.y,{startAngle:-90,endAngle:0,radiusX:aB.x,radiusY:aB.y})}ay.lineTo(av.right,av.bottom-ar.y);if(ar.x){m(ay,av.right-ar.x,av.bottom-ar.y,{startAngle:0,endAngle:90,radiusX:ar.x,radiusY:ar.y})}ay.lineTo(av.left+aw.x,av.bottom);if(aw.x){m(ay,av.left+aw.x,av.bottom-aw.y,{startAngle:90,endAngle:180,radiusX:aw.x,radiusY:aw.y})}return ay.close()}function j(at,aq){var ar=z(at)+"";switch(aq){case"decimal-leading-zero":if(ar.length<2){ar="0"+ar}return ar;case"lower-roman":return X(at);case"upper-roman":return X(at).toUpperCase();case"lower-latin":case"lower-alpha":return af(at-1);case"upper-latin":case"upper-alpha":return af(at-1).toUpperCase();default:return ar}}function c(au,av){function aw(ax,ay,az){if(!az){return j(J(ax)||0,ay)}az=az.replace(/^\s*(["'])(.*)\1\s*$/,"$2");return O(ax).map(function(aA){return j(aA,ay)}).join(az)}var at=V(av,/^\s+/);var ar=[],aq;at.forEach(function(ay){var ax;if((aq=/^\s*(["'])(.*)\1\s*$/.exec(ay))){ar.push(aq[2].replace(/\\([0-9a-f]{4})/gi,function(az,aA){return String.fromCharCode(parseInt(aA,16))}))}else{if((aq=/^\s*counter\((.*?)\)\s*$/.exec(ay))){ax=V(aq[1]);ar.push(aw(ax[0],ax[1]))}else{if((aq=/^\s*counters\((.*?)\)\s*$/.exec(ay))){ax=V(aq[1]);ar.push(aw(ax[0],ax[2],ax[1]))}else{if((aq=/^\s*attr\((.*?)\)\s*$/.exec(ay))){ar.push(au.getAttribute(aq[1])||"")}else{ar.push(ay)}}}}});return ar.join("")}function ao(at){if(at.cssText){return at.cssText}var aq=[];for(var ar=0;ar<at.length;++ar){aq.push(at[ar]+": "+ah(at,at[ar]))}return aq.join(";\n")}function n(ar,au){if(ar.tagName==e){P(ar,au);return}var aq=[];function at(ay,aw){var ax=x(ar,ay);if(ax.content&&ax.content!="normal"&&ax.content!="none"&&ax.width!="0px"){var av=ar.ownerDocument.createElement(e);av.style.cssText=ao(ax);av.textContent=c(ar,ax.content);ar.insertBefore(av,aw);if(ay==":before"&&!(/absolute|fixed/.test(ah(av.style,"position")))){av.style.marginLeft=z(ah(av.style,"margin-left"))-av.offsetWidth+"px"}aq.push(av)}}at(":before",ar.firstChild);at(":after",null);P(ar,au);aq.forEach(function(av){ar.removeChild(av)})}function P(ar,aD){var aL=x(ar);var aH=ag(aL,"top");var aP=ag(aL,"right");var aB=ag(aL,"bottom");var at=ag(aL,"left");var aw=aa(aL,"top-left");var ay=aa(aL,"top-right");var az=aa(aL,"bottom-left");var aC=aa(aL,"bottom-right");var aJ=ah(aL,"direction");var av=ah(aL,"background-color");av=q(av);var aq=V(ah(aL,"background-image"));var aN=V(ah(aL,"background-repeat"));var aI=V(ah(aL,"background-position"));var aE=V(ah(aL,"background-origin"));var aO=V(ah(aL,"background-size"));if(h.msie&&h.version<10){aI=V(ar.currentStyle.backgroundPosition)}var aF=v(ar.getBoundingClientRect(),"border-*-width",ar);(function(){var aU=ah(aL,"clip");var aV=/^\s*rect\((.*)\)\s*$/.exec(aU);if(aV){var aZ=aV[1].split(/[ ,]+/g);var aY=aZ[0]=="auto"?aF.top:z(aZ[0])+aF.top;var a0=aZ[1]=="auto"?aF.right:z(aZ[1])+aF.left;var aS=aZ[2]=="auto"?aF.bottom:z(aZ[2])+aF.top;var aT=aZ[3]=="auto"?aF.left:z(aZ[3])+aF.left;var aW=new r.Group();var aX=new r.Path().moveTo(aT,aY).lineTo(a0,aY).lineTo(a0,aS).lineTo(aT,aS).close();L(aW,aX);aD.append(aW);aD=aW;ac(aX)}})();var ax=ar.getClientRects();if(ax.length==1){ax=[ar.getBoundingClientRect()]}ax=aR(ax);for(var aK=0;aK<ax.length;++aK){au(ax[aK],aK===0,aK==ax.length-1)}if(ax.length>0&&ah(aL,"display")=="list-item"){aM(ax[0])}(function(){function aS(){var aU=y(ar,aF,"padding");var aT=new r.Group();L(aT,aU);aD.append(aT);aD=aT;ac(aU)}if(Z(ar)){aS()}else{if(/^(hidden|auto|scroll)/.test(ah(aL,"overflow"))){aS()}else{if(/^(hidden|auto|scroll)/.test(ah(aL,"overflow-x"))){aS()}else{if(/^(hidden|auto|scroll)/.test(ah(aL,"overflow-y"))){aS()}}}}})();if(!I(ar,aD)){S(ar,aD)}return aD;function aR(aW){if(/^td$/i.test(ar.tagName)){var aX=U.table;if(aX&&ah(aX.style,"border-collapse")=="collapse"){var aV=ag(aX.style,"left").width;var aS=ag(aX.style,"top").width;if(aV===0&&aS===0){return aW}var aY=aX.element.getBoundingClientRect();var aU=aX.element.rows[0].cells[0];var aT=aU.getBoundingClientRect();if(aT.top==aY.top||aT.left==aY.left){return w.call(aW).map(function(aZ){return{left:aZ.left+aV,top:aZ.top+aS,right:aZ.right+aV,bottom:aZ.bottom+aS,height:aZ.height,width:aZ.width}})}}}return aW}function aA(aV,aY,aS,a1,aZ,a0,aX,aU){if(aS<=0){return}var a2,aT=new r.Group();f(aT,aU);aD.append(aT);ak(a0);ak(aX);a2=new r.Path({fill:{color:aV},stroke:null});aT.append(a2);a2.moveTo(a0.x?G.max(a0.x,a1):0,0).lineTo(aY-(aX.x?G.max(aX.x,aZ):0),0).lineTo(aY-G.max(aX.x,aZ),aS).lineTo(G.max(a0.x,a1),aS).close();if(a0.x){aW(a1,a0,[-1,0,0,1,a0.x,0])}if(aX.x){aW(aZ,aX,[1,0,0,1,aY-aX.x,0])}function aW(a6,a5,a4){var a8=G.PI/2*a6/(a6+aS);var a3={x:a5.x-a6,y:a5.y-aS};var a7=new r.Path({fill:{color:aV},stroke:null}).moveTo(0,0);f(a7,a4);m(a7,0,a5.y,{startAngle:-90,endAngle:-i(a8),radiusX:a5.x,radiusY:a5.y});if(a3.x>0&&a3.y>0){a7.lineTo(a3.x*G.cos(a8),a5.y-a3.y*G.sin(a8));m(a7,0,a5.y,{startAngle:-i(a8),endAngle:-90,radiusX:a3.x,radiusY:a3.y,anticlockwise:true})}else{if(a3.x>0){a7.lineTo(a3.x,aS).lineTo(0,aS)}else{a7.lineTo(a3.x,aS).lineTo(a3.x,0)}}aT.append(a7.close())}}function aG(aV){var aS=new r.Group();L(aS,D(aV,aw,ay,aC,az));aD.append(aS);if(ar.tagName=="A"&&ar.href&&!/^#?$/.test(T(ar).attr("href"))){aS._pdfLink={url:ar.href,top:aV.top,right:aV.right,bottom:aV.bottom,left:aV.left}}if(av){var a0=new r.Path({fill:{color:av.toCssRgba()},stroke:null});a0.moveTo(aV.left,aV.top).lineTo(aV.right,aV.top).lineTo(aV.right,aV.bottom).lineTo(aV.left,aV.bottom).close();aS.append(a0)}var aY,aX,aZ,aT,aW;for(var aU=aq.length;--aU>=0;){aY=aq[aU];aX=aN[aU]||aN[aN.length-1];aZ=aI[aU]||aI[aI.length-1];aT=aE[aU]||aE[aE.length-1];aW=aO[aU]||aO[aO.length-1];aQ(aS,aV,aY,aX,aZ,aT,aW)}}function aQ(a2,aX,a0,aV,aU,aS,a1){if(!a0||(a0=="none")){return}if(/^url\(\"data:image\/svg/i.test(a0)){return}var aT=s(a0);if(aT){var aW=Y[aT];if(aW&&aW.width>0&&aW.height>0){aY(a2,aX,aW.width,aW.height,function(a4,a3){a4.append(new r.Image(aT,a3))})}}else{var aZ=u(a0);if(aZ){aY(a2,aX,aX.width,aX.height,W(aZ))}}function aY(bc,a5,bd,a3,a7){var a4=bd/a3;var ba=a5;if(aS=="content-box"){ba=v(ba,"border-*-width",ar);ba=v(ba,"padding-*",ar)}else{if(aS=="padding-box"){ba=v(ba,"border-*-width",ar)}}if(!/^\s*auto(\s+auto)?\s*$/.test(a1)){var bg=a1.split(/\s+/g);if(/%$/.test(bg[0])){bd=ba.width*z(bg[0])/100}else{bd=z(bg[0])}if(bg.length==1||bg[1]=="auto"){a3=bd/a4}else{if(/%$/.test(bg[1])){a3=ba.height*z(bg[1])/100}else{a3=z(bg[1])}}}var a9=(aU+"").split(/\s+/);if(a9.length==1){a9[1]="50%"}if(/%$/.test(a9[0])){a9[0]=z(a9[0])/100*(ba.width-bd)}else{a9[0]=z(a9[0])}if(/%$/.test(a9[1])){a9[1]=z(a9[1])/100*(ba.height-a3)}else{a9[1]=z(a9[1])}var a8=new ap.Rect([ba.left+a9[0],ba.top+a9[1]],[bd,a3]);function bf(){while(a8.origin.x>a5.left){a8.origin.x-=bd}}function be(){while(a8.origin.y>a5.top){a8.origin.y-=a3}}function a6(){while(a8.origin.x<a5.right){a7(bc,a8.clone());a8.origin.x+=bd}}if(aV=="no-repeat"){a7(bc,a8)}else{if(aV=="repeat-x"){bf();a6()}else{if(aV=="repeat-y"){be();while(a8.origin.y<a5.bottom){a7(bc,a8.clone());a8.origin.y+=a3}}else{if(aV=="repeat"){bf();be();var bb=a8.origin.clone();while(a8.origin.y<a5.bottom){a8.origin.x=bb.x;a6();a8.origin.y+=a3}}}}}}}function aM(aV){var aT=ah(aL,"list-style-type");if(aT=="none"){return}var aW=ah(aL,"list-style-image");var aX=ah(aL,"list-style-position");function aS(aY){R(ar,function(){ar.style.position="relative";var aZ=ar.ownerDocument.createElement(e);aZ.style.position="absolute";aZ.style.boxSizing="border-box";if(aX=="outside"){aZ.style.width="6em";aZ.style.left="-6.8em";aZ.style.textAlign="right"}else{aZ.style.left="0px"}aY(aZ);ar.insertBefore(aZ,ar.firstChild);t(aZ,aD);ar.removeChild(aZ)})}function aU(a0){var aY=ar.parentNode.children;for(var aZ=0;aZ<aY.length;++aZ){if(aY[aZ]===ar){return a0(aZ,aY.length)}}}switch(aT){case"circle":case"disc":case"square":aS(function(aY){aY.style.fontSize="60%";aY.style.lineHeight="200%";aY.style.paddingRight="0.5em";aY.style.fontFamily="DejaVu Serif";aY.innerHTML={disc:"\u25cf",circle:"\u25ef",square:"\u25a0"}[aT]});break;case"decimal":case"decimal-leading-zero":aS(function(aY){aU(function(a0,aZ){++a0;if(aT=="decimal-leading-zero"&&(a0+"").length<2){a0="0"+a0}aY.innerHTML=a0+"."})});break;case"lower-roman":case"upper-roman":aS(function(aY){aU(function(a0,aZ){a0=X(a0+1);if(aT=="upper-roman"){a0=a0.toUpperCase()}aY.innerHTML=a0+"."})});break;case"lower-latin":case"lower-alpha":case"upper-latin":case"upper-alpha":aS(function(aY){aU(function(a0,aZ){a0=af(a0);if(/^upper/i.test(aT)){a0=a0.toUpperCase()}aY.innerHTML=a0+"."})});break}}function au(aZ,aV,aX){if(aZ.width===0||aZ.height===0){return}aG(aZ);var a3=(at.width>0&&((aV&&aJ=="ltr")||(aX&&aJ=="rtl")));var aU=(aP.width>0&&((aX&&aJ=="ltr")||(aV&&aJ=="rtl")));if(aH.width===0&&at.width===0&&aP.width===0&&aB.width===0){return}if(true){if(aH.color==aP.color&&aH.color==aB.color&&aH.color==at.color){if(aH.width==aP.width&&aH.width==aB.width&&aH.width==at.width){if(a3&&aU){aZ=v(aZ,aH.width/2);var a2=y(ar,aZ,aH.width/2);a2.options.stroke={color:aH.color,width:aH.width};aD.append(a2);return}}}if(aw.x===0&&ay.x===0&&aC.x===0&&az.x===0){if(aH.width<2&&at.width<2&&aP.width<2&&aB.width<2){if(aH.width>0){aD.append(new r.Path({stroke:{width:aH.width,color:aH.color}}).moveTo(aZ.left,aZ.top+aH.width/2).lineTo(aZ.right,aZ.top+aH.width/2))}if(aB.width>0){aD.append(new r.Path({stroke:{width:aB.width,color:aB.color}}).moveTo(aZ.left,aZ.bottom-aB.width/2).lineTo(aZ.right,aZ.bottom-aB.width/2))}if(a3){aD.append(new r.Path({stroke:{width:at.width,color:at.color}}).moveTo(aZ.left+at.width/2,aZ.top).lineTo(aZ.left+at.width/2,aZ.bottom))}if(aU){aD.append(new r.Path({stroke:{width:aP.width,color:aP.color}}).moveTo(aZ.right-aP.width/2,aZ.top).lineTo(aZ.right-aP.width/2,aZ.bottom))}return}}}var aY=o(aZ,aw,ay,aC,az);var aT=aY.tl;var a1=aY.tr;var aS=aY.br;var a0=aY.bl;aA(aH.color,aZ.width,aH.width,at.width,aP.width,aT,a1,[1,0,0,1,aZ.left,aZ.top]);aA(aB.color,aZ.width,aB.width,aP.width,at.width,aS,a0,[-1,0,0,-1,aZ.right,aZ.bottom]);function aW(a4){return{x:a4.y,y:a4.x}}aA(at.color,aZ.height,at.width,aB.width,aH.width,aW(a0),aW(aT),[0,-1,1,0,aZ.left,aZ.bottom]);aA(aP.color,aZ.height,aP.width,aH.width,aB.width,aW(a1),aW(aS),[0,1,-1,0,aZ.right,aZ.top])}}function W(aq){return function(az,at){var aD=at.width(),aC=at.height(),aw=at.topLeft();switch(aq.type){case"linear":var aG=aq.angle!=null?aq.angle:G.PI;switch(aq.to){case"top":aG=0;break;case"left":aG=-G.PI/2;break;case"bottom":aG=G.PI;break;case"right":aG=G.PI/2;break;case"top left":case"left top":aG=-G.atan2(aC,aD);break;case"top right":case"right top":aG=G.atan2(aC,aD);break;case"bottom left":case"left bottom":aG=G.PI+G.atan2(aC,aD);break;case"bottom right":case"right bottom":aG=G.PI-G.atan2(aC,aD);break}if(aq.reverse){aG-=G.PI}aG%=2*G.PI;if(aG<0){aG+=2*G.PI}var aE=G.abs(aD*G.sin(aG))+G.abs(aC*G.cos(aG));var aI=G.atan(aD*G.tan(aG)/aC);var ar=G.sin(aI),au=G.cos(aI);var aF=G.abs(ar)+G.abs(au);var aB=aF/2*ar;var aA=aF/2*au;if(aG>G.PI/2&&aG<=3*G.PI/2){aB=-aB;aA=-aA}var aJ=[],aH=0;var ay=aq.stops.map(function(aM,aL){var aN=aM.percent;if(aN){aN=z(aN)/100}else{if(aM.length){aN=z(aM.length)/aE}else{if(aL===0){aN=0}else{if(aL==aq.stops.length-1){aN=1}}}}var aK={color:aM.color.toCssRgba(),offset:aN};if(aN!=null){aH=aN;aJ.forEach(function(aQ,aP){var aO=aQ.stop;aO.offset=aQ.left+(aH-aQ.left)*(aP+1)/(aJ.length+1)});aJ=[]}else{aJ.push({left:aH,stop:aK})}return aK});var ax=[0.5-aB,0.5+aA];var av=[0.5+aB,0.5-aA];az.append(r.Path.fromRect(at).stroke(null).fill(new r.LinearGradient({start:ax,end:av,stops:ay,userSpace:false})));break;case"radial":if(window.console&&window.console.log){window.console.log("Radial gradients are not yet supported in HTML renderer")}break}}}function I(aq,av){if(aq.getAttribute(kendo.attr("role"))){var au=kendo.widgetInstance(T(aq));if(au&&(au.exportDOMVisual||au.exportVisual)){var at;if(au.exportDOMVisual){at=au.exportDOMVisual()}else{at=au.exportVisual()}if(!at){return false}var ar=new r.Group();ar.children.push(at);var aw=aq.getBoundingClientRect();ar.transform(ap.transform().translate(aw.left,aw.top));av.append(ar);return true}}}function E(ar,aq,aw){var au=ai(ar);var at=new ap.Rect([au.left,au.top],[au.width,au.height]);var av=new r.Image(aq,at);L(av,y(ar,au,"content"));aw.append(av)}function A(at,ar){var aq=x(at);var ay=x(ar);var av=z(ah(aq,"z-index"));var au=z(ah(ay,"z-index"));var ax=ah(aq,"position");var aw=ah(ay,"position");if(isNaN(av)&&isNaN(au)){if((/static|absolute/.test(ax))&&(/static|absolute/.test(aw))){return 0}if(ax=="static"){return -1}if(aw=="static"){return 1}return 0}if(isNaN(av)){return au===0?0:au>0?-1:1}if(isNaN(au)){return av===0?0:av>0?1:-1}return z(av)-z(au)}function Z(aq){return/^(?:textarea|select|input)$/i.test(aq.tagName)}function k(aq){if(aq.selectedOptions&&aq.selectedOptions.length>0){return aq.selectedOptions[0]}return aq.options[aq.selectedIndex]}function l(at,ay){var aq=at.tagName.toLowerCase();var ax=at.parentNode;var aw=at.ownerDocument;var av=aw.createElement(e);var au;av.style.cssText=ao(x(at));av.style.display="inline-block";if(aq=="input"){av.style.whiteSpace="pre"}if(aq=="select"||aq=="textarea"){av.style.overflow="auto"}if(aq=="select"){if(at.multiple){for(var ar=0;ar<at.options.length;++ar){au=aw.createElement(e);au.style.cssText=ao(x(at.options[ar]));au.style.display="block";au.textContent=at.options[ar].textContent;av.appendChild(au)}}else{au=k(at);if(au){av.textContent=au.textContent}}}else{av.textContent=at.value}ax.insertBefore(av,at);av.scrollLeft=at.scrollLeft;av.scrollTop=at.scrollTop;S(av,ay);ax.removeChild(av)}function S(au,aC){if(U._stackingContext.element===au){U._stackingContext.group=aC}switch(au.tagName.toLowerCase()){case"img":E(au,au.src,aC);break;case"canvas":try{E(au,au.toDataURL("image/png"),aC)}catch(aA){}break;case"textarea":case"input":case"select":l(au,aC);break;default:var aq=[],aB=[],az=[],at=[];for(var av=au.firstChild;av;av=av.nextSibling){switch(av.nodeType){case 3:if(/\S/.test(av.data)){aj(au,av,aC)}break;case 1:var ar=x(av);var ay=ah(ar,"display");var ax=ah(ar,"float");var aw=ah(ar,"position");if(aw!="static"){at.push(av)}else{if(ay!="inline"){if(ax!="none"){aB.push(av)}else{aq.push(av)}}else{az.push(av)}}break}}aq.sort(A).forEach(function(aD){t(aD,aC)});aB.sort(A).forEach(function(aD){t(aD,aC)});az.sort(A).forEach(function(aD){t(aD,aC)});at.sort(A).forEach(function(aD){t(aD,aC)})}}function aj(ar,aF,ax){if(K()){return}var aJ=x(ar);if(z(ah(aJ,"text-indent"))<-500){return}var aB=aF.data;var aw=0;var av=aB.search(/\S\s*$/)+1;if(!av){return}var at=ah(aJ,"font-size");var au=ah(aJ,"line-height");var aD=[ah(aJ,"font-style"),ah(aJ,"font-variant"),ah(aJ,"font-weight"),at,ah(aJ,"font-family")].join(" ");at=z(at);au=z(au);if(at===0){return}var aG=ah(aJ,"color");var aC=ar.ownerDocument.createRange();var aH=ah(aJ,"text-align");var az=aH=="justify";var aq=ah(aJ,"white-space");var aI=ar.getBoundingClientRect().width/at*5;if(aI===0){aI=500}while(!ay()){}return;function ay(){var aS=aw;var aP,aR=aB.substr(aw).search(/\S/);aw+=aR;if(aR<0||aw>=av){return true}aC.setStart(aF,aw);aC.setEnd(aF,aw+1);aP=aC.getBoundingClientRect();var aT=false;if(az){aR=aB.substr(aw).search(/\s/);if(aR>=0){aC.setEnd(aF,aw+aR);var aK=aC.getBoundingClientRect();if(aK.bottom==aP.bottom){aP=aK;aT=true;aw+=aR}}}if(!aT){aR=(function aL(aV,aX,aU){aC.setEnd(aF,aX);var aW=aC.getBoundingClientRect();if(aW.bottom!=aP.bottom&&aV<aX){return aL(aV,(aV+aX)>>1,aX)}else{if(aW.right!=aP.right){aP=aW;if(aX<aU){return aL(aX,(aX+aU)>>1,aU)}else{return aX}}else{return aX}}})(aw,G.min(av,aw+aI),av);if(aR==aw){return true}aw=aR;aR=aC.toString().search(/\s+$/);if(aR===0){return}if(aR>0){aC.setEnd(aF,aC.startOffset+aR);aP=aC.getBoundingClientRect()}}if(h.msie){aP=aC.getClientRects()[0]}var aQ=aC.toString();if(!/^(?:pre|pre-wrap)$/i.test(aq)){aQ=aQ.replace(/\s+/g," ")}else{if(/\t/.test(aQ)){var aO=0;for(aR=aS;aR<aC.startOffset;++aR){var aM=aB.charCodeAt(aR);if(aM==9){aO+=8-aO%8}else{if(aM==10||aM==13){aO=0}else{aO++}}}while((aR=aQ.search("\t"))>=0){var aN="        ".substr(0,8-(aO+aR)%8);aQ=aQ.substr(0,aR)+aN+aQ.substr(aR+1)}}}aE(aQ,aP)}function aE(aO,aL){if(h.msie&&!isNaN(au)){var aK=r.util.measureText(aO,{font:aD});var aM=(aL.top+aL.bottom-aK.height)/2;aL={top:aM,right:aL.right,bottom:aM+aK.height,left:aL.left,height:aK.height,width:aL.right-aL.left}}var aN=new H(aO,new ap.Rect([aL.left,aL.top],[aL.width,aL.height]),{font:aD,fill:{color:aG}});ax.append(aN);aA(aL)}function aA(aL){aK(U.underline,aL.bottom);aK(U["line-through"],aL.bottom-aL.height/2.7);aK(U.overline,aL.top);function aK(aM,aP){if(aM){var aN=at/12;var aO=new r.Path({stroke:{width:aN,color:aM}});aP-=aN;aO.moveTo(aL.left,aP).lineTo(aL.right,aP);ax.append(aO)}}}}function an(au,az,ax){var at;if(ax!="auto"){at=U._stackingContext.group;ax=z(ax)}else{at=az;ax=0}var ay=at.children;for(var av=0;av<ay.length;++av){if(ay[av]._dom_zIndex!=null&&ay[av]._dom_zIndex>ax){break}}var aw=new r.Group();at.insertAt(aw,av);aw._dom_zIndex=ax;if(at!==az){if(U._clipbox){var ar=U._matrix.invert();var aq=U._clipbox.transformCopy(ar);L(aw,r.Path.fromRect(aq))}}return aw}function t(au,ar){var aq=x(au);var aw=ah(aq,"counter-reset");if(aw){C(V(aw,/^\s+/),N,0)}var ax=ah(aq,"counter-increment");if(ax){C(V(ax,/^\s+/),F,1)}if(/^(style|script|link|meta|iframe|svg|col|colgroup)$/i.test(au.tagName)){return}if(U._clipbox==null){return}var av=z(ah(aq,"opacity"));var at=ah(aq,"visibility");var ay=ah(aq,"display");if(av===0||at=="hidden"||ay=="none"){return}var az=Q(aq);var aB;var aA=ah(aq,"z-index");if((az||av<1)&&aA=="auto"){aA=0}aB=an(au,ar,aA);if(av<1){aB.opacity(av*aB.opacity())}ab(au,aq,aB);if(!az){n(au,aB)}else{R(au,function(){b(au.style,"transform","none","important");b(au.style,"transition","none","important");if(ah(aq,"position")=="static"){b(au.style,"position","relative","important")}var aE=au.getBoundingClientRect();var aD=aE.left+az.origin[0];var aF=aE.top+az.origin[1];var aC=[1,0,0,1,-aD,-aF];aC=ad(aC,az.matrix);aC=ad(aC,[1,0,0,1,aD,aF]);aC=f(aB,aC);U._matrix=U._matrix.multiplyCopy(aC);n(au,aB)})}ae()}function ad(aE,aC){var au=aE[0],aD=aE[1],ay=aE[2],at=aE[3],aB=aE[4],ax=aE[5];var ar=aC[0],aA=aC[1],aw=aC[2],aq=aC[3],az=aC[4],av=aC[5];return[au*ar+aD*aw,au*aA+aD*aq,ay*ar+at*aw,ay*aA+at*aq,aB*ar+ax*aw+az,aB*aA+ax*aq+av]}})(window.kendo.jQuery,parseFloat,Math);(function(f,c){var k=document,l=f.noop,i=window.kendo,b=i.Class,g=i.util,d=i.animationFrame,e=i.deepExtend;var h=b.extend({init:function(n,m){var o=this;o.options=e({},o.options,m);o.element=n},options:{duration:500,easing:"swing"},setup:l,step:l,play:function(){var p=this,n=p.options,s=f.easing[n.easing],q=n.duration,m=n.delay||0,r=g.now()+m,o=r+q;if(q===0){p.step(1);p.abort()}else{setTimeout(function(){var t=function(){if(p._stopped){return}var v=g.now();var w=g.limitValue(v-r,0,q);var x=w/q;var u=s(x,w,0,1,q);p.step(u);if(v<o){d(t)}else{p.abort()}};t()},m)}},abort:function(){this._stopped=true},destroy:function(){this.abort()}});var j=function(){this._items=[]};j.prototype={register:function(m,n){this._items.push({name:m,type:n})},create:function(q,o){var m=this._items;var n;if(o&&o.type){var r=o.type.toLowerCase();for(var p=0;p<m.length;p++){if(m[p].name.toLowerCase()===r){n=m[p];break}}}if(n){return new n.type(q,o)}}};j.current=new j();h.create=function(o,n,m){return j.current.create(o,n,m)};e(i.drawing,{Animation:h,AnimationFactory:j})})(window.kendo.jQuery,Math);(function(h,i){var s=window.kendo,g=s.ui.Widget,x=".kendoValidator",y="k-invalid-msg",t=new RegExp(y,"i"),z="k-invalid",A="k-valid",o=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,C=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,f=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",d=":checkbox:not([disabled],[readonly])",B="[type=number],[type=range]",c="blur",k="name",n="form",b="novalidate",v=h.proxy,u=function(E,D){if(typeof D==="string"){D=new RegExp("^(?:"+D+")$")}return D.test(E)},e=function(E,D,G){var F=E.val();if(E.filter(D).length&&F!==""){return u(F,G)}return true},j=function(D,E){if(D.length){return D[0].attributes[E]!=null}return false};if(!s.ui.validator){s.ui.validator={rules:{},messages:{}}}function w(F){var E=s.ui.validator.ruleResolvers||{},G={},D;for(D in E){h.extend(true,G,E[D].resolve(F))}return G}function r(D){return D.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}function p(D){D=(D+"").split(".");if(D.length>1){return D[1].length}return 0}function q(D){if(h.parseHTML){return h(h.parseHTML(D))}return h(D)}function m(I,J){var H=h(),F,E;for(var D=0,G=I.length;D<G;D++){F=I[D];if(t.test(F.className)){E=F.getAttribute(s.attr("for"));if(E===J){H=H.add(F)}}}return H}var l=g.extend({init:function(F,E){var H=this,D=w(F),G="["+s.attr("validate")+"!=false]";E=E||{};E.rules=h.extend({},s.ui.validator.rules,D.rules,E.rules);E.messages=h.extend({},s.ui.validator.messages,D.messages,E.messages);g.fn.init.call(H,F,E);H._errorTemplate=s.template(H.options.errorTemplate);if(H.element.is(n)){H.element.attr(b,b)}H._inputSelector=f+G;H._checkboxSelector=d+G;H._errors={};H._attachEvents();H._isValidated=false},events:["validate","change"],options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> </span> #=message#</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date",dateCompare:"End date should be greater than or equal to the start date"},rules:{required:function(D){var F=D.filter("[type=checkbox]").length&&!D.is(":checked"),E=D.val();return !(j(D,"required")&&(E===""||!E||F))},pattern:function(D){if(D.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&D.val()!==""){return u(D.val(),D.attr("pattern"))}return true},min:function(D){if(D.filter(B+",["+s.attr("type")+"=number]").filter("[min]").length&&D.val()!==""){var E=parseFloat(D.attr("min"))||0,F=s.parseFloat(D.val());return E<=F}return true},max:function(E){if(E.filter(B+",["+s.attr("type")+"=number]").filter("[max]").length&&E.val()!==""){var D=parseFloat(E.attr("max"))||0,F=s.parseFloat(E.val());return D>=F}return true},step:function(F){if(F.filter(B+",["+s.attr("type")+"=number]").filter("[step]").length&&F.val()!==""){var G=parseFloat(F.attr("min"))||0,H=parseFloat(F.attr("step"))||1,I=parseFloat(F.val()),D=p(H),E;if(D){E=Math.pow(10,D);return((Math.floor((I-G)*E))%(H*E))/Math.pow(100,D)===0}return((I-G)%H)===0}return true},email:function(D){return e(D,"[type=email],["+s.attr("type")+"=email]",o)},url:function(D){return e(D,"[type=url],["+s.attr("type")+"=url]",C)},date:function(D){if(D.filter("[type^=date],["+s.attr("type")+"=date]").length&&D.val()!==""){return s.parseDate(D.val(),D.attr(s.attr("format")))!==null}return true}},validateOnBlur:true},destroy:function(){g.fn.destroy.call(this);this.element.off(x)},value:function(){if(!this._isValidated){return false}return this.errors().length===0},_submit:function(D){if(!this.validate()){D.stopPropagation();D.stopImmediatePropagation();D.preventDefault();return false}return true},_checkElement:function(D){var E=this.value();this.validateInput(D);if(this.value()!==E){this.trigger("change")}},_attachEvents:function(){var D=this;if(D.element.is(n)){D.element.on("submit"+x,v(D._submit,D))}if(D.options.validateOnBlur){if(!D.element.is(f)){D.element.on(c+x,D._inputSelector,function(){D._checkElement(h(this))});D.element.on("click"+x,D._checkboxSelector,function(){D._checkElement(h(this))})}else{D.element.on(c+x,function(){D._checkElement(D.element)});if(D.element.is(d)){D.element.on("click"+x,function(){D._checkElement(D.element)})}}}},validate:function(){var F;var E;var D=false;var G;var I=this.value();this._errors={};if(!this.element.is(f)){var H=false;F=this.element.find(this._inputSelector);for(E=0,G=F.length;E<G;E++){if(!this.validateInput(F.eq(E))){H=true}}D=!H}else{D=this.validateInput(this.element)}this.trigger("validate",{valid:D});if(I!==D){this.trigger("change")}return D},validateInput:function(K){K=h(K);this._isValidated=true;var F=this,L=F._errorTemplate,N=F._checkValidity(K),D=N.valid,G="."+y,M=(K.attr(k)||""),H=F._findMessageContainer(M).add(K.next(G).filter(function(){var O=h(this);if(O.filter("["+s.attr("for")+"]").length){return O.attr(s.attr("for"))===M}return true})).hide(),I;K.removeAttr("aria-invalid");if(!D){I=F._extractMessage(K,N.key);F._errors[M]=I;var E=q(L({message:r(I)}));var J=H.attr("id");F._decorateMessageContainer(E,M);if(J){E.attr("id",J)}if(!H.replaceWith(E).length){E.insertAfter(K)}E.show();K.attr("aria-invalid",true)}else{delete F._errors[M]}K.toggleClass(z,!D);K.toggleClass(A,D);return D},hideMessages:function(){var F=this,E="."+y,D=F.element;if(!D.is(f)){D.find(E).hide()}else{D.next(E).hide()}},_findMessageContainer:function(I){var E=s.ui.validator.messageLocators,F,H=h();for(var D=0,G=this.element.length;D<G;D++){H=H.add(m(this.element[D].getElementsByTagName("*"),I))}for(F in E){H=H.add(E[F].locate(this.element,I))}return H},_decorateMessageContainer:function(E,G){var D=s.ui.validator.messageLocators,F;E.addClass(y).attr(s.attr("for"),G||"");for(F in D){D[F].decorate(E,G)}E.attr("role","alert")},_extractMessage:function(E,D){var G=this,F=G.options.messages[D],H=E.attr(k);F=s.isFunction(F)?F(E):F;return s.format(E.attr(s.attr(D+"-msg"))||E.attr("validationMessage")||E.attr("title")||F||"",H,E.attr(D))},_checkValidity:function(D){var F=this.options.rules,E;for(E in F){if(!F[E].call(this,D)){return{valid:false,key:E}}}return{valid:true}},errors:function(){var E=[],F=this._errors,D;for(D in F){E.push(F[D])}return E}});s.ui.plugin(l)})(window.kendo.jQuery);(function(i,m){var u=window.kendo,p=u.support,w=window.document,B=u.Class,q=u.Observable,c=i.now,F=i.extend,d=p.mobileOS,v=d&&d.android,t=800,x=p.browser.msie?5:0,j="press",E="hold",e="select",C="start",I="move",l="end",g="cancel",G="tap",o="release",r="gesturestart",b="gesturechange",h="gestureend",D="gesturetap";var H={api:0,touch:0,mouse:9,pointer:9};var k=(!p.touch||p.mouseAndTouchPresent);function A(Q,P){var M=Q.x.location,O=Q.y.location,L=P.x.location,N=P.y.location,K=M-L,J=O-N;return{center:{x:(M+L)/2,y:(O+N)/2},distance:Math.sqrt(K*K+J*J)}}function z(P){var O=[],K=P.originalEvent,N=P.currentTarget,J=0,M,L,Q;if(P.api){O.push({id:2,event:P,target:P.target,currentTarget:P.target,location:P,type:"api"})}else{if(P.type.match(/touch/)){L=K?K.changedTouches:[];for(M=L.length;J<M;J++){Q=L[J];O.push({location:Q,event:P,target:Q.target,currentTarget:N,id:Q.identifier,type:"touch"})}}else{if(p.pointers||p.msPointers){O.push({location:K,event:P,target:P.target,currentTarget:N,id:K.pointerId,type:"pointer"})}else{O.push({id:1,event:P,target:P.target,currentTarget:N,location:P,type:"mouse"})}}}return O}var n=B.extend({init:function(K,J){var L=this;L.axis=K;L._updateLocationData(J);L.startLocation=L.location;L.velocity=L.delta=0;L.timeStamp=c()},move:function(J){var L=this,N=J["page"+L.axis],K=c(),M=(K-L.timeStamp)||1;if(!N&&v){return}L.delta=N-L.location;L._updateLocationData(J);L.initialDelta=N-L.startLocation;L.velocity=L.delta/M;L.timeStamp=K},_updateLocationData:function(J){var L=this,K=L.axis;L.location=J["page"+K];L.client=J["client"+K];L.screen=J["screen"+K]}});var s=B.extend({init:function(K,L,J){F(this,{x:new n("X",J.location),y:new n("Y",J.location),type:J.type,threshold:K.threshold||H[J.type],userEvents:K,target:L,currentTarget:J.currentTarget,initialTouch:J.target,id:J.id,pressEvent:J,_moved:false,_finished:false})},press:function(){this._holdTimeout=setTimeout(i.proxy(this,"_hold"),this.userEvents.minHold);this._trigger(j,this.pressEvent)},_hold:function(){this._trigger(E,this.pressEvent)},move:function(J){var K=this;if(K._finished){return}K.x.move(J.location);K.y.move(J.location);if(!K._moved){if(K._withinIgnoreThreshold()){return}if(!f.current||f.current===K.userEvents){K._start(J)}else{return K.dispose()}}if(!K._finished){K._trigger(I,J)}},end:function(J){var K=this;K.endTime=c();if(K._finished){return}K._finished=true;K._trigger(o,J);if(K._moved){K._trigger(l,J)}else{K._trigger(G,J)}clearTimeout(K._holdTimeout);K.dispose()},dispose:function(){var J=this.userEvents,K=J.touches;this._finished=true;this.pressEvent=null;clearTimeout(this._holdTimeout);K.splice(i.inArray(this,K),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(J){clearTimeout(this._holdTimeout);this.startTime=c();this._moved=true;this._trigger(C,J)},_trigger:function(K,L){var M=this,J=L.event,N={touch:M,x:M.x,y:M.y,target:M.target,event:J};if(M.userEvents.notify(K,N)){J.preventDefault()}},_withinIgnoreThreshold:function(){var K=this.x.initialDelta,J=this.y.initialDelta;return Math.sqrt(K*K+J*J)<=this.threshold}});function y(M){var L=u.eventMap.up.split(" "),J=0,K=L.length;for(;J<K;J++){M(L[J])}}var f=q.extend({init:function(K,J){var N=this,M,L=u.guid();J=J||{};M=N.filter=J.filter;N.threshold=J.threshold||x;N.minHold=J.minHold||t;N.touches=[];N._maxTouches=J.multiTouch?2:1;N.allowSelection=J.allowSelection;N.captureUpIfMoved=J.captureUpIfMoved;N.eventNS=L;K=i(K).handler(N);q.fn.init.call(N);F(N,{element:K,surface:J.global&&k?i(w.documentElement):i(J.surface||K),stopPropagation:J.stopPropagation,pressed:false});N.surface.handler(N).on(u.applyEventMap("move",L),"_move").on(u.applyEventMap("up cancel",L),"_end");K.on(u.applyEventMap("down",L),M,"_start");if(p.pointers||p.msPointers){K.css("-ms-touch-action","pinch-zoom double-tap-zoom")}if(J.preventDragEvent){K.on(u.applyEventMap("dragstart",L),u.preventDefault)}K.on(u.applyEventMap("mousedown",L),M,{root:K},"_select");if(N.captureUpIfMoved&&p.eventCapture){var P=N.surface[0],O=i.proxy(N.preventIfMoving,N);y(function(Q){P.addEventListener(Q,O,true)})}N.bind([j,E,G,C,I,l,o,g,r,b,h,D,e],J)},preventIfMoving:function(J){if(this._isMoved()){J.preventDefault()}},destroy:function(){var J=this;if(J._destroyed){return}J._destroyed=true;if(J.captureUpIfMoved&&p.eventCapture){var K=J.surface[0];y(function(L){K.removeEventListener(L,J.preventIfMoving)})}J.element.kendoDestroy(J.eventNS);J.surface.kendoDestroy(J.eventNS);J.element.removeData("handler");J.surface.removeData("handler");J._disposeAll();J.unbind();delete J.surface;delete J.element;delete J.currentTarget},capture:function(){f.current=this},cancel:function(){this._disposeAll();this.trigger(g)},notify:function(J,L){var K=this,M=K.touches;if(this._isMultiTouch()){switch(J){case I:J=b;break;case l:J=h;break;case G:J=D;break}F(L,{touches:M},A(M[0],M[1]))}return this.trigger(J,F(L,{type:J}))},press:function(J,L,K){this._apiCall("_start",J,L,K)},move:function(J,K){this._apiCall("_move",J,K)},end:function(J,K){this._apiCall("_end",J,K)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){var J=this.touches;while(J.length>0){J.pop().dispose()}},_isMoved:function(){return i.grep(this.touches,function(J){return J.isMoved()}).length},_select:function(J){if(!this.allowSelection||this.trigger(e,{event:J})){J.preventDefault()}},_start:function(P){var O=this,R=0,J=O.filter,Q,N=z(P),K=N.length,M,L=P.which;if((L&&L>1)||(O._maxTouchesReached())){return}f.current=null;O.currentTarget=P.currentTarget;if(O.stopPropagation){P.stopPropagation()}for(;R<K;R++){if(O._maxTouchesReached()){break}M=N[R];if(J){Q=i(M.currentTarget)}else{Q=O.element}if(!Q.length){continue}M=new s(O,Q,M);O.touches.push(M);M.press();if(O._isMultiTouch()){O.notify("gesturestart",{})}}},_move:function(J){this._eachTouch("move",J)},_end:function(J){this._eachTouch("end",J)},_eachTouch:function(R,P){var O=this,K={},N=z(P),L=O.touches,S,M,Q,J;for(S=0;S<L.length;S++){M=L[S];K[M.id]=M}for(S=0;S<N.length;S++){Q=N[S];J=K[Q.id];if(J){J[R](Q)}}},_apiCall:function(K,J,M,L){this[K]({api:true,pageX:J,pageY:M,clientX:J,clientY:M,target:i(L||this.element)[0],stopPropagation:i.noop,preventDefault:i.noop})}});f.defaultThreshold=function(J){x=J};f.minHold=function(J){t=J};u.getTouches=z;u.touchDelta=A;u.UserEvents=f})(window.kendo.jQuery);(function(B,o){var C=window.kendo,H=C.support,i=window.document,b=C.Class,j=C.ui.Widget,h=C.Observable,M=C.UserEvents,O=B.proxy,n=B.extend,p=C.getOffset,q={},T={},e={},w,G=C.elementUnderCursor,R="keyup",A="change",J="dragstart",P="hold",u="drag",F="dragend",c="dragcancel",E="hintDestroyed",l="dragenter",t="dragleave",K="drop";function z(U,W){try{return B.contains(U,W)||U==W}catch(V){return false}}function y(U,V){return parseInt(U.css(V),10)||0}function N(V,U){return Math.min(Math.max(V,U.min),U.max)}function g(V,W){var Z=p(V),U=Z.left+y(V,"borderLeftWidth")+y(V,"paddingLeft"),aa=Z.top+y(V,"borderTopWidth")+y(V,"paddingTop"),Y=U+V.width()-W.outerWidth(true),X=aa+V.height()-W.outerHeight(true);return{x:{min:U,max:Y},y:{min:aa,max:X}}}function s(ab,V,W){var aa,Y,X=0,Z=V&&V.length,U=W&&W.length;while(ab&&ab.parentNode){for(X=0;X<Z;X++){aa=V[X];if(aa.element[0]===ab){return{target:aa,targetElement:ab}}}for(X=0;X<U;X++){Y=W[X];if(B.contains(Y.element[0],ab)&&H.matchesSelector.call(ab,Y.options.filter)){return{target:Y,targetElement:ab}}}ab=ab.parentNode}return o}var Q=h.extend({init:function(V,U){var W=this,X=V[0];W.capture=false;if(X.addEventListener){B.each(C.eventMap.down.split(" "),function(){X.addEventListener(this,O(W._press,W),true)});B.each(C.eventMap.up.split(" "),function(){X.addEventListener(this,O(W._release,W),true)})}else{B.each(C.eventMap.down.split(" "),function(){X.attachEvent(this,O(W._press,W))});B.each(C.eventMap.up.split(" "),function(){X.attachEvent(this,O(W._release,W))})}h.fn.init.call(W);W.bind(["press","release"],U||{})},captureNext:function(){this.capture=true},cancelCapture:function(){this.capture=false},_press:function(V){var U=this;U.trigger("press");if(U.capture){V.preventDefault()}},_release:function(V){var U=this;U.trigger("release");if(U.capture){V.preventDefault();U.cancelCapture()}}});var v=h.extend({init:function(U){var V=this;h.fn.init.call(V);V.forcedEnabled=false;B.extend(V,U);V.scale=1;if(V.horizontal){V.measure="offsetWidth";V.scrollSize="scrollWidth";V.axis="x"}else{V.measure="offsetHeight";V.scrollSize="scrollHeight";V.axis="y"}},makeVirtual:function(){B.extend(this,{virtual:true,forcedEnabled:true,_virtualMin:0,_virtualMax:0})},virtualSize:function(V,U){if(this._virtualMin!==V||this._virtualMax!==U){this._virtualMin=V;this._virtualMax=U;this.update()}},outOfBounds:function(U){return U>this.max||U<this.min},forceEnabled:function(){this.forcedEnabled=true},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(U){this.scale=U},update:function(U){var Y=this,X=Y.virtual?Y._virtualMax:Y.getTotal(),W=X*Y.scale,V=Y.getSize();if(X===0&&!Y.forcedEnabled){return}Y.max=Y.virtual?-Y._virtualMin:0;Y.size=V;Y.total=W;Y.min=Math.min(Y.max,V-W);Y.minScale=V/X;Y.centerOffset=(W-V)/2;Y.enabled=Y.forcedEnabled||(W>V);if(!U){Y.trigger(A,Y)}}});var L=h.extend({init:function(U){var V=this;h.fn.init.call(V);V.x=new v(n({horizontal:true},U));V.y=new v(n({horizontal:false},U));V.container=U.container;V.forcedMinScale=U.minScale;V.maxScale=U.maxScale||100;V.bind(A,U)},rescale:function(U){this.x.rescale(U);this.y.rescale(U);this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var U=this;U.x.update();U.y.update();U.enabled=U.x.enabled||U.y.enabled;U.minScale=U.forcedMinScale||Math.min(U.x.minScale,U.y.minScale);U.fitScale=Math.max(U.x.minScale,U.y.minScale);U.trigger(A)}});var S=h.extend({init:function(U){var V=this;n(V,U);h.fn.init.call(V)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(Z){var W=this,Y=W.dimension,V=W.axis,X=W.movable,U=X[V]+Z;if(!Y.enabled){return}if((U<Y.min&&Z<0)||(U>Y.max&&Z>0)){Z*=W.resistance}X.translateAxis(V,Z);W.trigger(A,W)}});var D=b.extend({init:function(V){var X=this,U,Z,W,Y;n(X,{elastic:true},V);W=X.elastic?0.5:0;Y=X.movable;X.x=U=new S({axis:"x",dimension:X.dimensions.x,resistance:W,movable:Y});X.y=Z=new S({axis:"y",dimension:X.dimensions.y,resistance:W,movable:Y});X.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(aa){X.gesture=aa;X.offset=X.dimensions.container.offset()},gesturechange:function(ah){var ab=X.gesture,ae=ab.center,ac=ah.center,ai=ah.distance/ab.distance,ad=X.dimensions.minScale,aa=X.dimensions.maxScale,aj;if(Y.scale<=ad&&ai<1){ai+=(1-ai)*0.8}if(Y.scale*ai>=aa){ai=aa/Y.scale}var ag=Y.x+X.offset.left,af=Y.y+X.offset.top;aj={x:(ag-ae.x)*ai+ac.x-ag,y:(af-ae.y)*ai+ac.y-af};Y.scaleWith(ai);U.dragMove(aj.x);Z.dragMove(aj.y);X.dimensions.rescale(Y.scale);X.gesture=ah;ah.preventDefault()},move:function(aa){if(aa.event.target.tagName.match(/textarea|input/i)){return}if(U.dimension.enabled||Z.dimension.enabled){U.dragMove(aa.x.delta);Z.dragMove(aa.y.delta);aa.preventDefault()}else{aa.touch.skip()}},end:function(aa){aa.preventDefault()}})}});var I=H.transitions.prefix+"Transform",f;if(H.hasHW3D){f=function(U,W,V){return"translate3d("+U+"px,"+W+"px,0) scale("+V+")"}}else{f=function(U,W,V){return"translate("+U+"px,"+W+"px) scale("+V+")"}}var r=h.extend({init:function(U){var V=this;h.fn.init.call(V);V.element=B(U);V.element[0].style.webkitTransformOrigin="left top";V.x=0;V.y=0;V.scale=1;V._saveCoordinates(f(V.x,V.y,V.scale))},translateAxis:function(U,V){this[U]+=V;this.refresh()},scaleTo:function(U){this.scale=U;this.refresh()},scaleWith:function(U){this.scale*=U;this.refresh()},translate:function(U){this.x+=U.x;this.y+=U.y;this.refresh()},moveAxis:function(U,V){this[U]=V;this.refresh()},moveTo:function(U){n(this,U);this.refresh()},refresh:function(){var V=this,U=V.x,X=V.y,W;if(V.round){U=Math.round(U);X=Math.round(X)}W=f(U,X,V.scale);if(W!=V.coordinates){if(C.support.browser.msie&&C.support.browser.version<10){V.element[0].style.position="absolute";V.element[0].style.left=V.x+"px";V.element[0].style.top=V.y+"px"}else{V.element[0].style[I]=W}V._saveCoordinates(W);V.trigger(A)}},_saveCoordinates:function(U){this.coordinates=U}});function x(X,W){var Y=W.options.group,U=X[Y],V;j.fn.destroy.call(W);if(U.length>1){for(V=0;V<U.length;V++){if(U[V]==W){U.splice(V,1);break}}}else{U.length=0;delete X[Y]}}var k=j.extend({init:function(V,U){var W=this;j.fn.init.call(W,V,U);var X=W.options.group;if(!(X in T)){T[X]=[W]}else{T[X].push(W)}},events:[l,t,K],options:{name:"DropTarget",group:"default"},destroy:function(){x(T,this)},_trigger:function(V,X){var W=this,U=q[W.options.group];if(U){return W.trigger(V,n({},X.event,{draggable:U,dropTarget:X.dropTarget}))}},_over:function(U){this._trigger(l,U)},_out:function(U){this._trigger(t,U)},_drop:function(W){var V=this,U=q[V.options.group];if(U){U.dropped=!V._trigger(K,W)}}});k.destroyGroup=function(W){var V=T[W]||e[W],U;if(V){for(U=0;U<V.length;U++){j.fn.destroy.call(V[U])}V.length=0;delete T[W];delete e[W]}};k._cache=T;var d=k.extend({init:function(V,U){var W=this;j.fn.init.call(W,V,U);var X=W.options.group;if(!(X in e)){e[X]=[W]}else{e[X].push(W)}},destroy:function(){x(e,this)},options:{name:"DropTargetArea",group:"default",filter:null}});var m=j.extend({init:function(V,U){var W=this;j.fn.init.call(W,V,U);W._activated=false;W.userEvents=new M(W.element,{global:true,allowSelection:true,filter:W.options.filter,threshold:W.options.distance,start:O(W._start,W),hold:O(W._hold,W),move:O(W._drag,W),end:O(W._end,W),cancel:O(W._cancel,W),select:O(W._select,W)});W._afterEndHandler=O(W._afterEnd,W);W._captureEscape=O(W._captureEscape,W)},events:[P,J,u,F,c,E],options:{name:"Draggable",distance:(C.support.touch?0:5),group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:false,dropped:false},cancelHold:function(){this._activated=false},_captureEscape:function(V){var U=this;if(V.keyCode===C.keys.ESC){U._trigger(c,{event:V});U.userEvents.cancel()}},_updateHint:function(Z){var Y=this,aa,W=Y.options,V=Y.boundaries,X=W.axis,U=Y.options.cursorOffset;if(U){aa={left:Z.x.location+U.left,top:Z.y.location+U.top}}else{Y.hintOffset.left+=Z.x.delta;Y.hintOffset.top+=Z.y.delta;aa=B.extend({},Y.hintOffset)}if(V){aa.top=N(aa.top,V.y);aa.left=N(aa.left,V.x)}if(X==="x"){delete aa.top}else{if(X==="y"){delete aa.left}}Y.hint.css(aa)},_shouldIgnoreTarget:function(V){var U=this.options.ignore;return U&&B(V).is(U)},_select:function(U){if(!this._shouldIgnoreTarget(U.event.target)){U.preventDefault()}},_start:function(X){var W=this,V=W.options,U=V.container,Z=V.hint;if(this._shouldIgnoreTarget(X.touch.initialTouch)||(V.holdToDrag&&!W._activated)){W.userEvents.cancel();return}W.currentTarget=X.target;W.currentTargetOffset=p(W.currentTarget);if(Z){if(W.hint){W.hint.stop(true,true).remove()}W.hint=C.isFunction(Z)?B(Z.call(W,W.currentTarget)):Z;var Y=p(W.currentTarget);W.hintOffset=Y;W.hint.css({position:"absolute",zIndex:20000,left:Y.left,top:Y.top}).appendTo(i.body);W.angular("compile",function(){W.hint.removeAttr("ng-repeat");var aa=B(X.target);while(!aa.data("$$kendoScope")&&aa.length){aa=aa.parent()}return{elements:W.hint.get(),scopeFrom:aa.data("$$kendoScope")}})}q[V.group]=W;W.dropped=false;if(U){W.boundaries=g(U,W.hint)}if(W._trigger(J,X)){W.userEvents.cancel();W._afterEnd()}W.userEvents.capture();B(i).on(R,W._captureEscape)},_hold:function(U){this.currentTarget=U.target;if(this._trigger(P,U)){this.userEvents.cancel()}else{this._activated=true}},_drag:function(V){var U=this;V.preventDefault();U._withDropTarget(V,function(X,W){if(!X){if(w){w._trigger(t,n(V,{dropTarget:B(w.targetElement)}));w=null}return}if(w){if(W===w.targetElement){return}w._trigger(t,n(V,{dropTarget:B(w.targetElement)}))}X._trigger(l,n(V,{dropTarget:B(W)}));w=n(X,{targetElement:W})});U._trigger(u,n(V,{dropTarget:w}));if(U.hint){U._updateHint(V)}},_end:function(V){var U=this;U._withDropTarget(V,function(X,W){if(X){X._drop(n({},V,{dropTarget:B(W)}));w=null}});U._trigger(F,V);U._cancel(V.event)},_cancel:function(){var U=this;U._activated=false;if(U.hint&&!U.dropped){setTimeout(function(){U.hint.stop(true,true).animate(U.currentTargetOffset,"fast",U._afterEndHandler)},0)}else{U._afterEnd()}},_trigger:function(U,W){var V=this;return V.trigger(U,n({},W.event,{x:W.x,y:W.y,currentTarget:V.currentTarget,initialTarget:W.touch?W.touch.initialTouch:null,dropTarget:W.dropTarget}))},_withDropTarget:function(aa,ab){var Y=this,Z,U,X=Y.options,V=T[X.group],W=e[X.group];if(V&&V.length||W&&W.length){Z=G(aa);if(Y.hint&&z(Y.hint[0],Z)){Y.hint.hide();Z=G(aa);if(!Z){Z=G(aa)}Y.hint.show()}U=s(Z,V,W);if(U){ab(U.target,U.targetElement)}else{ab()}}},destroy:function(){var U=this;j.fn.destroy.call(U);U._afterEnd();U.userEvents.destroy();U.currentTarget=null},_afterEnd:function(){var U=this;if(U.hint){U.hint.remove()}delete q[U.options.group];U.trigger("destroy");U.trigger(E);B(i).off(R,U._captureEscape)}});C.ui.plugin(k);C.ui.plugin(d);C.ui.plugin(m);C.TapCapture=Q;C.containerBoundaries=g;n(C.ui,{Pane:D,PaneDimensions:L,Movable:r})})(window.kendo.jQuery);(function(i,j){var x=window.kendo,d=x.mobile,e=x.effects,w=d.ui,A=i.proxy,D=i.extend,c=w.Widget,B=x.Class,z=x.ui.Movable,E=x.ui.Pane,p=x.ui.PaneDimensions,h=e.Transition,I=e.Animation,v=Math.abs,H=500,y=0.7,G=0.96,l=10,F=55,r=0.5,J=5,b="km-scroller-release",g="km-scroller-refresh",f="pull",s="change",o="resize",t="scroll",n=2;var m=I.extend({init:function(K){var L=this;I.fn.init.call(L);D(L,K);L.userEvents.bind("gestureend",A(L.start,L));L.tapCapture.bind("press",A(L.cancel,L))},enabled:function(){return this.movable.scale<this.dimensions.minScale},done:function(){return this.dimensions.minScale-this.movable.scale<0.01},tick:function(){var K=this.movable;K.scaleWith(1.1);this.dimensions.rescale(K.scale)},onEnd:function(){var K=this.movable;K.scaleTo(this.dimensions.minScale);this.dimensions.rescale(K.scale)}});var u=I.extend({init:function(K){var L=this;I.fn.init.call(L);D(L,K,{transition:new h({axis:K.axis,movable:K.movable,onEnd:function(){L._end()}})});L.tapCapture.bind("press",function(){L.cancel()});L.userEvents.bind("end",A(L.start,L));L.userEvents.bind("gestureend",A(L.start,L));L.userEvents.bind("tap",A(L.onEnd,L))},onCancel:function(){this.transition.cancel()},freeze:function(K){var L=this;L.cancel();L._moveTo(K)},onEnd:function(){var K=this;if(K.paneAxis.outOfBounds()){K._snapBack()}else{K._end()}},done:function(){return v(this.velocity)<1},start:function(M){var L=this,K;if(!L.dimension.enabled){return}if(L.paneAxis.outOfBounds()){L._snapBack()}else{K=M.touch.id===n?0:M.touch[L.axis].velocity;L.velocity=Math.max(Math.min(K*L.velocityMultiplier,F),-F);L.tapCapture.captureNext();I.fn.start.call(L)}},tick:function(){var L=this,N=L.dimension,M=L.paneAxis.outOfBounds()?r:L.friction,O=(L.velocity*=M),K=L.movable[L.axis]+O;if(!L.elastic&&N.outOfBounds(K)){K=Math.max(Math.min(K,N.max),N.min);L.velocity=0}L.movable.moveAxis(L.axis,K)},_end:function(){this.tapCapture.cancelCapture();this.end()},_snapBack:function(){var K=this,M=K.dimension,L=K.movable[K.axis]>M.max?M.max:M.min;K._moveTo(L)},_moveTo:function(K){this.transition.moveTo({location:K,duration:H,ease:h.easeOutExpo})}});var k=I.extend({init:function(K){var L=this;x.effects.Animation.fn.init.call(this);D(L,K,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates();this.moveTo(this.origin)},done:function(){return v(this.offset.y)<J&&v(this.offset.x)<J},onEnd:function(){this.moveTo(this.destination);if(this.callback){this.callback.call()}},setCoordinates:function(L,K){this.offset={};this.origin=L;this.destination=K},setCallback:function(K){if(K&&x.isFunction(K)){this.callback=K}else{K=j}},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4};this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}});var q=B.extend({init:function(L){var N=this,K=L.axis==="x",M=i('<div class="km-touch-scrollbar km-'+(K?"horizontal":"vertical")+'-scrollbar" />');D(N,L,{element:M,elementSize:0,movable:new z(M),scrollMovable:L.movable,alwaysVisible:L.alwaysVisible,size:K?"width":"height"});N.scrollMovable.bind(s,A(N.refresh,N));N.container.append(M);if(L.alwaysVisible){N.show()}},refresh:function(){var P=this,O=P.axis,R=P.dimension,N=R.size,L=P.scrollMovable,Q=N/R.total,K=Math.round(-L[O]*Q),M=Math.round(N*Q);if(Q>=1){this.element.css("display","none")}else{this.element.css("display","")}if(K+M>N){M=N-K}else{if(K<0){M+=K;K=0}}if(P.elementSize!=M){P.element.css(P.size,M+"px");P.elementSize=M}P.movable.moveAxis(O,K)},show:function(){this.element.css({opacity:y,visibility:"visible"})},hide:function(){if(!this.alwaysVisible){this.element.css({opacity:0})}}});var C=c.extend({init:function(O,U){var Q=this;c.fn.init.call(Q,O,U);O=Q.element;Q._native=Q.options.useNative&&x.support.hasNativeScrolling;if(Q._native){O.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>');D(Q,{scrollElement:O,fixedContainer:O.children().first()});return}O.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var V=O.children().eq(1),T=new x.TapCapture(O),S=new z(V),K=new p({element:V,container:O,forcedEnabled:Q.options.zoom}),P=this.options.avoidScrolling,R=new x.UserEvents(O,{allowSelection:true,preventDragEvent:true,captureUpIfMoved:true,multiTouch:Q.options.zoom,start:function(ab){K.refresh();var Y=v(ab.x.velocity),W=v(ab.y.velocity),aa=Y*2>=W,X=i.contains(Q.fixedContainer[0],ab.event.target),Z=W*2>=Y;if(!X&&!P(ab)&&Q.enabled&&(K.x.enabled&&aa||K.y.enabled&&Z)){R.capture()}else{R.cancel()}}}),M=new E({movable:S,dimensions:K,userEvents:R,elastic:Q.options.elastic}),L=new m({movable:S,dimensions:K,userEvents:R,tapCapture:T}),N=new k({moveTo:function(W){Q.scrollTo(W.x,W.y)}});S.bind(s,function(){Q.scrollTop=-S.y;Q.scrollLeft=-S.x;Q.trigger(t,{scrollTop:Q.scrollTop,scrollLeft:Q.scrollLeft})});if(Q.options.mousewheelScrolling){O.on("DOMMouseScroll mousewheel",A(this,"_wheelScroll"))}D(Q,{movable:S,dimensions:K,zoomSnapBack:L,animatedScroller:N,userEvents:R,pane:M,tapCapture:T,pulled:false,enabled:true,scrollElement:V,scrollTop:0,scrollLeft:0,fixedContainer:O.children().first()});Q._initAxis("x");Q._initAxis("y");Q._wheelEnd=function(){Q._wheel=false;Q.userEvents.end(0,Q._wheelY)};K.refresh();if(Q.options.pullToRefresh){Q._initPullToRefresh()}},_wheelScroll:function(K){if(!this._wheel){this._wheel=true;this._wheelY=0;this.userEvents.press(0,this._wheelY)}clearTimeout(this._wheelTimeout);this._wheelTimeout=setTimeout(this._wheelEnd,50);var L=x.wheelDeltaY(K);if(L){this._wheelY+=L;this.userEvents.move(0,this._wheelY)}K.preventDefault()},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(L,K){this.dimensions.y.virtualSize(L,K)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:false,pullOffset:140,visibleScrollHints:false,elastic:true,useNative:false,mousewheelScrolling:true,avoidScrolling:function(){return false},pullToRefresh:false,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}},events:[f,t,o],_resize:function(){if(!this._native){this.contentResized()}},setOptions:function(K){var L=this;c.fn.setOptions.call(L,K);if(K.pullToRefresh){L._initPullToRefresh()}},reset:function(){if(this._native){this.scrollElement.scrollTop(0)}else{this.movable.moveTo({x:0,y:0});this._scale(1)}},contentResized:function(){this.dimensions.refresh();if(this.pane.x.outOfBounds()){this.movable.moveAxis("x",this.dimensions.x.min)}if(this.pane.y.outOfBounds()){this.movable.moveAxis("y",this.dimensions.y.min)}},zoomOut:function(){var K=this.dimensions;K.refresh();this._scale(K.fitScale);this.movable.moveTo(K.centerCoordinates())},enable:function(){this.enabled=true},disable:function(){this.enabled=false},scrollTo:function(K,L){if(this._native){this.scrollElement.scrollLeft(v(K));this.scrollElement.scrollTop(v(L))}else{this.dimensions.refresh();this.movable.moveTo({x:K,y:L})}},animatedScrollTo:function(K,O,N){var M,L;if(this._native){this.scrollTo(K,O)}else{M={x:this.movable.x,y:this.movable.y};L={x:K,y:O};this.animatedScroller.setCoordinates(M,L);this.animatedScroller.setCallback(N);this.animatedScroller.start()}},pullHandled:function(){var K=this;K.refreshHint.removeClass(g);K.hintContainer.html(K.pullTemplate({}));K.yinertia.onEnd();K.xinertia.onEnd();K.userEvents.cancel()},destroy:function(){c.fn.destroy.call(this);if(this.userEvents){this.userEvents.destroy()}},_scale:function(K){this.dimensions.rescale(K);this.movable.scaleTo(K)},_initPullToRefresh:function(){var K=this;K.dimensions.y.forceEnabled();K.pullTemplate=x.template(K.options.messages.pullTemplate);K.releaseTemplate=x.template(K.options.messages.releaseTemplate);K.refreshTemplate=x.template(K.options.messages.refreshTemplate);K.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+K.pullTemplate({})+"</span></span>");K.refreshHint=K.scrollElement.children().first();K.hintContainer=K.refreshHint.children(".km-template");K.pane.y.bind("change",A(K._paneChange,K));K.userEvents.bind("end",A(K._dragEnd,K))},_dragEnd:function(){var K=this;if(!K.pulled){return}K.pulled=false;K.refreshHint.removeClass(b).addClass(g);K.hintContainer.html(K.refreshTemplate({}));K.yinertia.freeze(K.options.pullOffset/2);K.trigger("pull")},_paneChange:function(){var K=this;if(K.movable.y/r>K.options.pullOffset){if(!K.pulled){K.pulled=true;K.refreshHint.removeClass(g).addClass(b);K.hintContainer.html(K.releaseTemplate({}))}}else{if(K.pulled){K.pulled=false;K.refreshHint.removeClass(b);K.hintContainer.html(K.pullTemplate({}))}}},_initAxis:function(K){var N=this,Q=N.movable,P=N.dimensions[K],O=N.tapCapture,M=N.pane[K],L=new q({axis:K,movable:Q,dimension:P,container:N.element,alwaysVisible:N.options.visibleScrollHints});P.bind(s,function(){L.refresh()});M.bind(s,function(){L.show()});N[K+"inertia"]=new u({axis:K,paneAxis:M,movable:Q,tapCapture:O,userEvents:N.userEvents,dimension:P,elastic:N.options.elastic,friction:N.options.friction||G,velocityMultiplier:N.options.velocityMultiplier||l,end:function(){L.hide();N.trigger("scrollEnd",{axis:K,scrollTop:N.scrollTop,scrollLeft:N.scrollLeft})}})}});w.plugin(C)})(window.kendo.jQuery);(function(f,b){var i=window.kendo,n=i.ui.Widget,j=f.proxy,k=false,c=".kendoGroupable",g="change",d=i.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}"><a href="\\#" class="k-link"><span class="k-icon k-si-arrow-${(data.dir || "asc") == "asc" ? "n" : "s"}">(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})</span>${data.title ? data.title: data.field}</a><a class="k-button k-button-icon k-button-bare"><span class="k-icon k-group-delete"></span></a></div>',{useWithBlock:false}),e=function(p){return f('<div class="k-header k-drag-clue" />').css({width:p.width(),paddingLeft:p.css("paddingLeft"),paddingRight:p.css("paddingRight"),lineHeight:p.height()+"px",paddingTop:p.css("paddingTop"),paddingBottom:p.css("paddingBottom")}).html(p.attr(i.attr("title"))||p.attr(i.attr("field"))).prepend('<span class="k-icon k-drag-status k-denied" />')},m=f('<div class="k-grouping-dropclue"/>'),o=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g;function h(p){return p.position().top+3}var l=n.extend({init:function(s,w){var t=this,u,v=i.guid(),r=j(t._intializePositions,t),x,q,p=t._dropCuePositions=[];n.fn.init.call(t,s,w);k=i.support.isRtl(s);q=k?"right":"left";t.draggable=x=t.options.draggable||new i.ui.Draggable(t.element,{filter:t.options.draggableElements,hint:e,group:v});t.groupContainer=f(t.options.groupContainer,t.element).kendoDropTarget({group:x.options.group,dragenter:function(y){if(t._canDrag(y.draggable.currentTarget)){y.draggable.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add");m.css("top",h(t.groupContainer)).css(q,0).appendTo(t.groupContainer)}},dragleave:function(y){y.draggable.hint.find(".k-drag-status").removeClass("k-add").addClass("k-denied");m.remove()},drop:function(E){var B=E.draggable.currentTarget,D=B.attr(i.attr("field")),F=B.attr(i.attr("title")),C=t.indicator(D),A=t._dropCuePositions,z=A[A.length-1],y;if(!B.hasClass("k-group-indicator")&&!t._canDrag(B)){return}if(z){y=t._dropCuePosition(i.getOffset(m).left+parseInt(z.element.css("marginLeft"),10)*(k?-1:1)+parseInt(z.element.css("marginRight"),10));if(y&&t._canDrop(f(C),y.element,y.left)){if(y.before){y.element.before(C||t.buildIndicator(D,F))}else{y.element.after(C||t.buildIndicator(D,F))}t._change()}}else{t.groupContainer.append(t.buildIndicator(D,F));t._change()}}}).kendoDraggable({filter:"div.k-group-indicator",hint:e,group:x.options.group,dragcancel:j(t._dragCancel,t),dragstart:function(C){var y=C.currentTarget,A=parseInt(y.css("marginLeft"),10),z=y.position(),B=k?z.left-A:z.left+y.outerWidth();r();m.css({top:h(t.groupContainer),left:B}).appendTo(t.groupContainer);this.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add")},dragend:function(){t._dragEnd(this)},drag:j(t._drag,t)}).on("click"+c,".k-button",function(y){y.preventDefault();t._removeIndicator(f(this).parent())}).on("click"+c,".k-link",function(A){var z=f(this).parent(),y=t.buildIndicator(z.attr(i.attr("field")),z.attr(i.attr("title")),z.attr(i.attr("dir"))=="asc"?"desc":"asc");z.before(y).remove();t._change();A.preventDefault()});x.bind(["dragend","dragcancel","dragstart","drag"],{dragend:function(){t._dragEnd(this)},dragcancel:j(t._dragCancel,t),dragstart:function(B){var y,z,A;if(!t.options.allowDrag&&!t._canDrag(B.currentTarget)){B.preventDefault();return}r();if(p.length){y=p[p.length-1].element;z=parseInt(y.css("marginRight"),10);A=y.position().left+y.outerWidth()+z}else{A=0}},drag:j(t._drag,t)});t.dataSource=t.options.dataSource;if(t.dataSource&&t._refreshHandler){t.dataSource.unbind(g,t._refreshHandler)}else{t._refreshHandler=j(t.refresh,t)}if(t.dataSource){t.dataSource.bind("change",t._refreshHandler);t.refresh()}},refresh:function(){var p=this,q=p.dataSource;if(p.groupContainer){p.groupContainer.empty().append(f.map(q.group()||[],function(t){var u=t.field;var r=i.attr("field");var s=p.element.find(p.options.filter).filter(function(){return f(this).attr(r)===u});return p.buildIndicator(t.field,s.attr(i.attr("title")),t.dir)}).join(""))}p._invalidateGroupContainer()},destroy:function(){var p=this;n.fn.destroy.call(p);p.groupContainer.off(c);if(p.groupContainer.data("kendoDropTarget")){p.groupContainer.data("kendoDropTarget").destroy()}if(p.groupContainer.data("kendoDraggable")){p.groupContainer.data("kendoDraggable").destroy()}if(!p.options.draggable){p.draggable.destroy()}if(p.dataSource&&p._refreshHandler){p.dataSource.unbind("change",p._refreshHandler);p._refreshHandler=null}p.groupContainer=p.element=p.draggable=null},options:{name:"Groupable",filter:"th",draggableElements:"th",messages:{empty:"Drag a column header and drop it here to group by that column"}},indicator:function(q){var p=f(".k-group-indicator",this.groupContainer);return f.grep(p,function(r){return f(r).attr(i.attr("field"))===q})[0]},buildIndicator:function(q,r,p){return d({field:q.replace(/"/g,"'"),dir:p,title:r,ns:i.ns})},descriptors:function(){var r=this,u=f(".k-group-indicator",r.groupContainer),v,t,s,p,q;v=r.element.find(r.options.filter).map(function(){var w=f(this),x=w.attr(i.attr("aggregates")),y=w.attr(i.attr("field"));if(x&&x!==""){t=x.split(",");x=[];for(p=0,q=t.length;p<q;p++){x.push({field:y,aggregate:t[p]})}}return x}).toArray();return f.map(u,function(w){w=f(w);s=w.attr(i.attr("field"));return{field:s,dir:w.attr(i.attr("dir")),aggregates:v||[]}})},_removeIndicator:function(p){var q=this;p.remove();q._invalidateGroupContainer();q._change()},_change:function(){var p=this;if(p.dataSource){p.dataSource.group(p.descriptors())}},_dropCuePosition:function(q){var r=this._dropCuePositions;if(!m.is(":visible")||r.length===0){return}q=Math.ceil(q);var p=r[r.length-1],v=p.left,s=p.right,u=parseInt(p.element.css("marginLeft"),10),t=parseInt(p.element.css("marginRight"),10);if(q>=s&&!k||q<v&&k){q={left:p.element.position().left+(!k?p.element.outerWidth()+t:-u),element:p.element,before:false}}else{q=f.grep(r,function(w){return(w.left<=q&&q<=w.right)||(k&&q>w.right)})[0];if(q){q={left:k?q.element.position().left+q.element.outerWidth()+t:q.element.position().left-u,element:q.element,before:true}}}return q},_drag:function(q){var p=this._dropCuePosition(q.x.location);if(p){m.css({left:p.left,right:"auto"})}},_canDrag:function(p){var q=p.attr(i.attr("field"));return p.attr(i.attr("groupable"))!="false"&&q&&(p.hasClass("k-group-indicator")||!this.indicator(q))},_canDrop:function(s,t,q){var r=s.next(),p=s[0]!==t[0]&&(!r[0]||t[0]!==r[0]||(!k&&q>r.position().left||k&&q<r.position().left));return p},_dragEnd:function(p){var r=this,s=p.currentTarget.attr(i.attr("field")),q=r.indicator(s);if(p!==r.options.draggable&&!p.dropped&&q){r._removeIndicator(f(q))}r._dragCancel()},_dragCancel:function(){m.remove();this._dropCuePositions=[]},_intializePositions:function(){var p=this,r=f(".k-group-indicator",p.groupContainer),q;p._dropCuePositions=f.map(r,function(s){s=f(s);q=i.getOffset(s).left;return{left:parseInt(q,10),right:parseInt(q+s.outerWidth(),10),element:s}})},_invalidateGroupContainer:function(){var p=this.groupContainer;if(p&&p.is(":empty")){p.html(this.options.messages.empty)}}});i.ui.plugin(l)})(window.kendo.jQuery);(function(d,c){var g=window.kendo,j=g.getOffset,h=g.ui.Widget,e="change",f="k-reorderable";function b(l,k){l=d(l);if(k){l.find(".k-drag-status").removeClass("k-add").addClass("k-denied")}else{l.find(".k-drag-status").removeClass("k-denied").addClass("k-add")}}var i=h.extend({init:function(m,l){var n=this,k,o=g.guid()+"-reorderable";h.fn.init.call(n,m,l);m=n.element.addClass(f);l=n.options;n.draggable=k=l.draggable||new g.ui.Draggable(m,{group:o,filter:l.filter,hint:l.hint});n.reorderDropCue=d('<div class="k-reorder-cue"><div class="k-icon k-i-arrow-s"></div><div class="k-icon k-i-arrow-n"></div></div>');m.find(k.options.filter).kendoDropTarget({group:k.options.group,dragenter:function(r){if(!n._draggable){return}var t=this.element,s;var p=!n._dropTargetAllowed(t)||n._isLastDraggable();b(r.draggable.hint,p);if(!p){s=j(t);var q=s.left;if(l.inSameContainer&&!l.inSameContainer({source:t,target:n._draggable,sourceIndex:n._index(t),targetIndex:n._index(n._draggable)})){n._dropTarget=t}else{if(n._index(t)>n._index(n._draggable)){q+=t.outerWidth()}}n.reorderDropCue.css({height:t.outerHeight(),top:s.top,left:q}).appendTo(document.body)}},dragleave:function(p){b(p.draggable.hint,true);n.reorderDropCue.remove();n._dropTarget=null},drop:function(){n._dropTarget=null;if(!n._draggable){return}var r=this.element;var p=n._draggable;var q=false;if(n._dropTargetAllowed(r)&&!n._isLastDraggable()){n.trigger(e,{element:n._draggable,target:r,oldIndex:n._index(p),newIndex:n._index(r),position:j(n.reorderDropCue).left>j(r).left?"after":"before"})}}});k.bind(["dragcancel","dragend","dragstart","drag"],{dragcancel:function(){n.reorderDropCue.remove();n._draggable=null;n._elements=null},dragend:function(){n.reorderDropCue.remove();n._draggable=null;n._elements=null},dragstart:function(p){n._draggable=p.currentTarget;n._elements=n.element.find(n.draggable.options.filter)},drag:function(r){if(!n._dropTarget||this.hint.find(".k-drag-status").hasClass("k-denied")){return}var q=j(n._dropTarget).left;var p=n._dropTarget.outerWidth();if(r.pageX>q+p/2){n.reorderDropCue.css({left:q+p})}else{n.reorderDropCue.css({left:q})}}})},options:{name:"Reorderable",filter:"*"},events:[e],_isLastDraggable:function(){var o=this.options.inSameContainer,k=this._draggable[0],n=this._elements.get(),m=false,l;if(!o){return false}while(!m&&n.length>0){l=n.pop();m=k!==l&&o({source:k,target:l,sourceIndex:this._index(k),targetIndex:this._index(l)})}return !m},_dropTargetAllowed:function(n){var m=this.options.inSameContainer,l=this.options.dragOverContainers,k=this._draggable;if(k[0]===n[0]){return false}if(!m||!l){return true}if(m({source:k,target:n,sourceIndex:this._index(k),targetIndex:this._index(n)})){return true}return l(this._index(k),this._index(n))},_index:function(k){return this._elements.index(k)},destroy:function(){var k=this;h.fn.destroy.call(k);k.element.find(k.draggable.options.filter).each(function(){var l=d(this);if(l.data("kendoDropTarget")){l.data("kendoDropTarget").destroy()}});if(k.draggable){k.draggable.destroy();k.draggable.element=k.draggable=null}k.elements=k.reorderDropCue=k._elements=k._draggable=null}});g.ui.plugin(i)})(window.kendo.jQuery);(function(h,f){var k=window.kendo,m=k.ui,n=m.Widget,l=h.proxy,c=k.isFunction,j=h.extend,e="horizontal",g="vertical",o="start",b="resize",i="resizeend";var d=n.extend({init:function(q,p){var r=this;n.fn.init.call(r,q,p);r.orientation=r.options.orientation.toLowerCase()!=g?e:g;r._positionMouse=r.orientation==e?"x":"y";r._position=r.orientation==e?"left":"top";r._sizingDom=r.orientation==e?"outerWidth":"outerHeight";r.draggable=new m.Draggable(q,{distance:1,filter:p.handle,drag:l(r._resize,r),dragcancel:l(r._cancel,r),dragstart:l(r._start,r),dragend:l(r._stop,r)});r.userEvents=r.draggable.userEvents},events:[b,i,o],options:{name:"Resizable",orientation:e},resize:function(){},_max:function(s){var r=this,p=r.hint?r.hint[r._sizingDom]():0,q=r.options.max;return c(q)?q(s):q!==f?(r._initialElementPosition+q)-p:q},_min:function(r){var q=this,p=q.options.min;return c(p)?p(r):p!==f?q._initialElementPosition+p:p},_start:function(r){var q=this,s=q.options.hint,p=h(r.currentTarget);q._initialElementPosition=p.position()[q._position];q._initialMousePosition=r[q._positionMouse].startLocation;if(s){q.hint=c(s)?h(s(p)):s;q.hint.css({position:"absolute"}).css(q._position,q._initialElementPosition).appendTo(q.element)}q.trigger(o,r);q._maxPosition=q._max(r);q._minPosition=q._min(r);h(document.body).css("cursor",p.css("cursor"))},_resize:function(s){var q=this,t=q._maxPosition,u=q._minPosition,r=q._initialElementPosition+(s[q._positionMouse].location-q._initialMousePosition),p;p=u!==f?Math.max(u,r):r;q.position=p=t!==f?Math.min(t,p):p;if(q.hint){q.hint.toggleClass(q.options.invalidClass||"",p==t||p==u).css(q._position,p)}q.resizing=true;q.trigger(b,j(s,{position:p}))},_stop:function(q){var p=this;if(p.hint){p.hint.remove()}p.resizing=false;p.trigger(i,j(q,{position:p.position}));h(document.body).css("cursor","")},_cancel:function(q){var p=this;if(p.hint){p.position=f;p.hint.css(p._position,p._initialElementPosition);p._stop(q)}},destroy:function(){var p=this;n.fn.destroy.call(p);if(p.draggable){p.draggable.destroy()}},press:function(r){if(!r){return}var p=r.position(),q=this;q.userEvents.press(p.left,p.top,r[0]);q.targetPosition=p;q.target=r},move:function(t){var r=this,q=r._position,p=r.targetPosition,s=r.position;if(s===f){s=p[q]}p[q]=s+t;r.userEvents.move(p.left,p.top)},end:function(){this.userEvents.end();this.target=this.position=f}});k.ui.plugin(d)})(window.kendo.jQuery);(function(e,g){var m=window.kendo,b=m.ui.Widget,p="start",t="beforeMove",s="move",f="end",j="change",d="cancel",h="sort",o="remove",i="receive",k=">*",q=-1;function r(u,w){try{return e.contains(u,w)||u==w}catch(v){return false}}function n(u){return u.clone()}function l(u){return u.clone().removeAttr("id").css("visibility","hidden")}var c=b.extend({init:function(v,u){var w=this;b.fn.init.call(w,v,u);if(!w.options.placeholder){w.options.placeholder=l}if(!w.options.hint){w.options.hint=n}w._draggable=w._createDraggable()},events:[p,t,s,f,j,d],options:{name:"Sortable",hint:null,placeholder:null,filter:k,holdToDrag:false,disabled:null,container:null,connectWith:null,handler:null,cursorOffset:null,axis:null,ignore:null,cursor:"auto"},destroy:function(){this._draggable.destroy();b.fn.destroy.call(this)},_createDraggable:function(){var w=this,v=w.element,u=w.options;return new m.ui.Draggable(v,{filter:u.filter,hint:m.isFunction(u.hint)?u.hint:e(u.hint),holdToDrag:u.holdToDrag,container:u.container?e(u.container):null,cursorOffset:u.cursorOffset,axis:u.axis,ignore:u.ignore,dragstart:e.proxy(w._dragstart,w),dragcancel:e.proxy(w._dragcancel,w),drag:e.proxy(w._drag,w),dragend:e.proxy(w._dragend,w)})},_dragstart:function(z){var u=this.draggedElement=z.currentTarget,y=z.target||m.elementUnderCursor(z),x=this.options.disabled,w=this.options.handler,v=this.options.placeholder,A=this.placeholder=m.isFunction(v)?e(v.call(this,u)):e(v);if(x&&u.is(x)){z.preventDefault()}else{if(w&&!e(z.initialTarget).is(w)){z.preventDefault()}else{if(this.trigger(p,{item:u,draggableEvent:z})){z.preventDefault()}else{u.css("display","none");u.before(A);this._setCursor()}}}},_dragcancel:function(u){this._cancel();this.trigger(d,{item:this.draggedElement});this._resetCursor()},_drag:function(y){var A=this.draggedElement,z=this._findTarget(y),B,u={left:y.x.location,top:y.y.location},x,w={x:y.x.delta,y:y.y.delta},C,F,D,v=this.options.axis,E={item:A,list:this,draggableEvent:y};if(v==="x"||v==="y"){this._movementByAxis(v,u,w[v],E);return}if(z){B=this._getElementCenter(z.element);x={left:Math.round(u.left-B.left),top:Math.round(u.top-B.top)};e.extend(E,{target:z.element});if(z.appendToBottom){this._movePlaceholder(z,null,E);return}if(z.appendAfterHidden){this._movePlaceholder(z,"next",E)}if(this._isFloating(z.element)){if(w.x<0&&x.left<0){C="prev"}else{if(w.x>0&&x.left>0){C="next"}}}else{if(w.y<0&&x.top<0){C="prev"}else{if(w.y>0&&x.top>0){C="next"}}}if(C){D=(C==="prev")?jQuery.fn.prev:jQuery.fn.next;F=D.call(z.element);while(F.length&&!F.is(":visible")){F=D.call(F)}if(F[0]!=this.placeholder[0]){this._movePlaceholder(z,C,E)}}}},_dragend:function(w){var A=this.placeholder,x=this.draggedElement,u=this.indexOf(x),y=this.indexOf(A),z=this.options.connectWith,v,D,B,C;this._resetCursor();B={action:h,item:x,oldIndex:u,newIndex:y,draggableEvent:w};if(y>=0){D=this.trigger(f,B)}else{v=A.parents(z).getKendoSortable();B.action=o;C=e.extend({},B,{action:i,oldIndex:q,newIndex:v.indexOf(A)});D=!(!this.trigger(f,B)&&!v.trigger(f,C))}if(D||y===u){this._cancel();return}A.replaceWith(x);x.show();this._draggable.dropped=true;B={action:this.indexOf(x)!=q?h:o,item:x,oldIndex:u,newIndex:this.indexOf(x),draggableEvent:w};this.trigger(j,B);if(v){C=e.extend({},B,{action:i,oldIndex:q,newIndex:v.indexOf(x)});v.trigger(j,C)}},_findTarget:function(y){var v=this._findElementUnderCursor(y),u,x=this.options.connectWith,w;if(e.contains(this.element[0],v)){u=this.items();w=u.filter(v)[0]||u.has(v)[0];return w?{element:e(w),sortable:this}:null}else{if(this.element[0]==v&&this._isEmpty()){return{element:this.element,sortable:this,appendToBottom:true}}else{if(this.element[0]==v&&this._isLastHidden()){w=this.items().eq(0);return{element:w,sortable:this,appendAfterHidden:true}}else{if(x){return this._searchConnectedTargets(v,y)}}}}},_findElementUnderCursor:function(z){var v=m.elementUnderCursor(z),u=z.sender,y=this.options.disabled,x=this.options.filter,w=this.items();if(r(u.hint[0],v)){u.hint.hide();v=m.elementUnderCursor(z);if(!v){v=m.elementUnderCursor(z)}u.hint.show()}return v},_searchConnectedTargets:function(x,A){var z=e(this.options.connectWith),v,u,y;for(var w=0;w<z.length;w++){v=z.eq(w).getKendoSortable();if(e.contains(z[w],x)){if(v){u=v.items();y=u.filter(x)[0]||u.has(x)[0];if(y){v.placeholder=this.placeholder;return{element:e(y),sortable:v}}else{return null}}}else{if(z[w]==x){if(v&&v._isEmpty()){return{element:z.eq(w),sortable:v,appendToBottom:true}}else{if(this._isCursorAfterLast(v,A)){y=v.items().last();return{element:y,sortable:v}}}}}}},_isCursorAfterLast:function(z,x){var w=z.items().last(),u={left:x.x.location,top:x.y.location},v,y;v=m.getOffset(w);v.top+=w.outerHeight();v.left+=w.outerWidth();if(this._isFloating(w)){y=v.left-u.left}else{y=v.top-u.top}return y<0?true:false},_movementByAxis:function(x,w,A,y){var v=(x==="x")?w.left:w.top,z=(A<0)?this.placeholder.prev():this.placeholder.next(),u;if(z.length&&!z.is(":visible")){z=(A<0)?z.prev():z.next()}e.extend(y,{target:z});u=this._getElementCenter(z);if(u){u=(x==="x")?u.left:u.top}if(z.length&&A<0&&v-u<0){this._movePlaceholder({element:z,sortable:this},"prev",y)}else{if(z.length&&A>0&&v-u>0){this._movePlaceholder({element:z,sortable:this},"next",y)}}},_movePlaceholder:function(w,v,u){var x=this.placeholder;if(!w.sortable.trigger(t,u)){if(!v){w.element.append(x)}else{if(v==="prev"){w.element.before(x)}else{if(v==="next"){w.element.after(x)}}}w.sortable.trigger(s,u)}},_setCursor:function(){var v=this.options.cursor,u;if(v&&v!=="auto"){u=e(document.body);this._originalCursorType=u.css("cursor");u.css({cursor:v});if(!this._cursorStylesheet){this._cursorStylesheet=e("<style>* { cursor: "+v+" !important; }</style>")}this._cursorStylesheet.appendTo(u)}},_resetCursor:function(){if(this._originalCursorType){e(document.body).css("cursor",this._originalCursorType);this._originalCursorType=null;this._cursorStylesheet.remove()}},_getElementCenter:function(v){var u=v.length?m.getOffset(v):null;if(u){u.top+=v.outerHeight()/2;u.left+=v.outerWidth()/2}return u},_isFloating:function(u){return(/left|right/).test(u.css("float"))||(/inline|table-cell/).test(u.css("display"))},_cancel:function(){this.draggedElement.show();this.placeholder.remove()},_items:function(){var v=this.options.filter,u;if(v){u=this.element.find(v)}else{u=this.element.children()}return u},indexOf:function(w){var v=this._items(),x=this.placeholder,u=this.draggedElement;if(x&&w[0]==x[0]){return v.not(u).index(w)}else{return v.not(x).index(w)}},items:function(){var v=this.placeholder,u=this._items();if(v){u=u.not(v)}return u},_isEmpty:function(){return !this.items().length},_isLastHidden:function(){return this.items().length===1&&this.items().is(":hidden")}});m.ui.plugin(c)})(window.kendo.jQuery);(function(d,g){var o=window.kendo,c=o.ui.Widget,q=d.proxy,l=Math.abs,s=Array.prototype.shift,p="aria-selected",e="k-state-selected",h="k-state-selecting",n="k-selectable",k="change",r=".kendoSelectable",j="k-state-unselecting",b="input,a,textarea,.k-multiselect-wrap,select,button,a.k-button>.k-icon,button.k-button>.k-icon,span.k-icon.k-i-expand,span.k-icon.k-i-collapse",i=o.support.browser.msie,m=false;(function(u){(function(){u('<div class="parent"><span /></div>').on("click",">*",function(){m=true}).find("span").click().end().off()})()})(d);var t=c.extend({init:function(w,v){var x=this,u;c.fn.init.call(x,w,v);x._marquee=d("<div class='k-marquee'><div class='k-marquee-color'></div></div>");x._lastActive=null;x.element.addClass(n);x.relatedTarget=x.options.relatedTarget;u=x.options.multiple;if(this.options.aria&&u){x.element.attr("aria-multiselectable",true)}x.userEvents=new o.UserEvents(x.element,{global:true,allowSelection:true,filter:(!m?"."+n+" ":"")+x.options.filter,tap:q(x._tap,x)});if(u){x.userEvents.bind("start",q(x._start,x)).bind("move",q(x._move,x)).bind("end",q(x._end,x)).bind("select",q(x._select,x))}},events:[k],options:{name:"Selectable",filter:">*",multiple:false,relatedTarget:d.noop},_isElement:function(y){var x=this.element;var v,w=x.length,u=false;y=y[0];for(v=0;v<w;v++){if(x[v]===y){u=true;break}}return u},_tap:function(y){var z=d(y.target),x=this,v=y.event.ctrlKey||y.event.metaKey,C=x.options.multiple,A=C&&y.event.shiftKey,w,B=y.event.which,u=y.event.button;if(!x._isElement(z.closest("."+n))||B&&B==3||u&&u==2){return}if(!this._allowSelection(y.event.target)){return}w=z.hasClass(e);if(!C||!v){x.clear()}z=z.add(x.relatedTarget(z));if(A){x.selectRange(x._firstSelectee(),z)}else{if(w&&v){x._unselect(z);x._notify(k)}else{x.value(z)}x._lastActive=x._downTarget=z}},_start:function(y){var w=this,x=d(y.target),v=x.hasClass(e),u,z=y.event.ctrlKey||y.event.metaKey;if(!this._allowSelection(y.event.target)){return}w._downTarget=x;if(!w._isElement(x.closest("."+n))){w.userEvents.cancel();return}if(w.options.useAllItems){w._items=w.element.find(w.options.filter)}else{u=x.closest(w.element);w._items=u.find(w.options.filter)}y.sender.capture();w._marquee.appendTo(document.body).css({left:y.x.client+1,top:y.y.client+1,width:0,height:0});if(!z){w.clear()}x=x.add(w.relatedTarget(x));if(v){w._selectElement(x,true);if(z){x.addClass(j)}}},_move:function(w){var v=this,u={left:w.x.startLocation>w.x.location?w.x.location:w.x.startLocation,top:w.y.startLocation>w.y.location?w.y.location:w.y.startLocation,width:l(w.x.initialDelta),height:l(w.y.initialDelta)};v._marquee.css(u);v._invalidateSelectables(u,(w.event.ctrlKey||w.event.metaKey));w.preventDefault()},_end:function(){var u=this;u._marquee.remove();u._unselect(u.element.find(u.options.filter+"."+j)).removeClass(j);var v=u.element.find(u.options.filter+"."+h);v=v.add(u.relatedTarget(v));u.value(v);u._lastActive=u._downTarget;u._items=null},_invalidateSelectables:function(v,B){var u,y,A=this._downTarget[0],w=this._items,z,x;for(u=0,y=w.length;u<y;u++){x=w.eq(u);z=x.add(this.relatedTarget(x));if(f(x,v)){if(x.hasClass(e)){if(B&&A!==x[0]){z.removeClass(e).addClass(j)}}else{if(!x.hasClass(h)&&!x.hasClass(j)){z.addClass(h)}}}else{if(x.hasClass(h)){z.removeClass(h)}else{if(B&&x.hasClass(j)){z.removeClass(j).addClass(e)}}}}},value:function(w){var v=this,u=q(v._selectElement,v);if(w){w.each(function(){u(this)});v._notify(k);return}return v.element.find(v.options.filter+"."+e)},_firstSelectee:function(){var v=this,u;if(v._lastActive!==null){return v._lastActive}u=v.value();return u.length>0?u[0]:v.element.find(v.options.filter)[0]},_selectElement:function(v,x){var w=d(v),u=!x&&this._notify("select",{element:v});w.removeClass(h);if(!u){w.addClass(e);if(this.options.aria){w.attr(p,true)}}},_notify:function(v,u){u=u||{};return this.trigger(v,u)},_unselect:function(u){u.removeClass(e);if(this.options.aria){u.attr(p,false)}return u},_select:function(u){if(this._allowSelection(u.event.target)){if(!i||(i&&!d(o._activeElement()).is(b))){u.preventDefault()}}},_allowSelection:function(u){if(d(u).is(b)){this.userEvents.cancel();this._downTarget=null;return false}return true},resetTouchEvents:function(){this.userEvents.cancel()},clear:function(){var u=this.element.find(this.options.filter+"."+e);this._unselect(u)},selectRange:function(z,v){var y=this,u,x,w;y.clear();if(y.element.length>1){w=y.options.continuousItems()}if(!w||!w.length){w=y.element.find(y.options.filter)}z=d.inArray(d(z)[0],w);v=d.inArray(d(v)[0],w);if(z>v){x=z;z=v;v=x}if(!y.options.useAllItems){v+=y.element.length-1}for(u=z;u<=v;u++){y._selectElement(w[u])}y._notify(k)},destroy:function(){var u=this;c.fn.destroy.call(u);u.element.off(r);u.userEvents.destroy();u._marquee=u._lastActive=u.element=u.userEvents=null}});t.parseOptions=function(v){var u=typeof v==="string"&&v.toLowerCase();return{multiple:u&&u.indexOf("multiple")>-1,cell:u&&u.indexOf("cell")>-1}};function f(x,u){if(!x.is(":visible")){return false}var y=o.getOffset(x),w=u.left+u.width,v=u.top+u.height;y.right=y.left+x.outerWidth();y.bottom=y.top+x.outerHeight();return !(y.left>w||y.right<u.left||y.top>v||y.bottom<u.top)}o.ui.plugin(t)})(window.kendo.jQuery);(function(f,d){var i=window.kendo,m=i.ui.Widget,k=f.proxy,q=i.keys,j="click",p="k-button",o="k-button-icon",b="k-button-icontext",c=".kendoButton",h="disabled",l="k-state-disabled",n="k-state-focused",e="k-state-selected";var g=m.extend({init:function(s,r){var t=this;m.fn.init.call(t,s,r);s=t.wrapper=t.element;r=t.options;s.addClass(p).attr("role","button");r.enable=r.enable&&!s.attr(h);t.enable(r.enable);t._tabindex();t._graphics();s.on(j+c,k(t._click,t)).on("focus"+c,k(t._focus,t)).on("blur"+c,k(t._blur,t)).on("keydown"+c,k(t._keydown,t)).on("keyup"+c,k(t._keyup,t));i.notify(t)},destroy:function(){var r=this;r.wrapper.off(c);m.fn.destroy.call(r)},events:[j],options:{name:"Button",icon:"",spriteCssClass:"",imageUrl:"",enable:true},_isNativeButton:function(){return this.element.prop("tagName").toLowerCase()=="button"},_click:function(r){if(this.options.enable){if(this.trigger(j,{event:r})){r.preventDefault()}}},_focus:function(){if(this.options.enable){this.element.addClass(n)}},_blur:function(){this.element.removeClass(n)},_keydown:function(s){var r=this;if(!r._isNativeButton()){if(s.keyCode==q.ENTER||s.keyCode==q.SPACEBAR){if(s.keyCode==q.SPACEBAR){s.preventDefault();if(r.options.enable){r.element.addClass(e)}}r._click(s)}}},_keyup:function(){this.element.removeClass(e)},_graphics:function(){var v=this,t=v.element,z=v.options,w=z.icon,r=z.spriteCssClass,y=z.imageUrl,x,u,s;if(r||y||w){s=true;t.contents().not("span.k-sprite").not("span.k-icon").not("img.k-image").each(function(A,B){if(B.nodeType==1||B.nodeType==3&&f.trim(B.nodeValue).length>0){s=false}});if(s){t.addClass(o)}else{t.addClass(b)}}if(w){x=t.children("span.k-icon").first();if(!x[0]){x=f('<span class="k-icon"></span>').prependTo(t)}x.addClass("k-i-"+w)}else{if(r){x=t.children("span.k-sprite").first();if(!x[0]){x=f('<span class="k-sprite"></span>').prependTo(t)}x.addClass(r)}else{if(y){u=t.children("img.k-image").first();if(!u[0]){u=f('<img alt="icon" class="k-image" />').prependTo(t)}u.attr("src",y)}}}},enable:function(r){var u=this,s=u.element;if(r===d){r=true}r=!!r;u.options.enable=r;s.toggleClass(l,!r).attr("aria-disabled",!r).attr(h,!r);try{s.blur()}catch(t){}}});i.ui.plugin(g)})(window.kendo.jQuery);(function(e,g){var m=window.kendo,l=m.ui,c=l.Widget,r=e.proxy,v=".k-i-seek-w",q=".k-i-seek-e",x=".k-i-arrow-w",y=".k-i-arrow-e",k="change",s=".kendoPager",f="click",d="keydown",t="disabled",w=m.template('<a href="\\#" title="#=text#" class="k-link k-pager-nav #= wrapClassName #"><span class="k-icon #= className #">#=text#</span></a>');function b(B,z,D,A,C){return B({idx:z,text:D,ns:m.ns,numeric:A,title:C||""})}function u(z,B,A){return w({className:z.substring(1),text:B,wrapClassName:A||""})}function i(A,z,C,B){A.find(z).parent().attr(m.attr("page"),C).attr("tabindex",-1).toggleClass("k-state-disabled",B)}function h(z,A){i(z,v,1,A<=1)}function n(z,A){i(z,x,Math.max(1,A-1),A<=1)}function o(z,B,A){i(z,y,Math.min(A,B+1),B>=A)}function j(z,B,A){i(z,q,A,B>=A)}var p=c.extend({init:function(A,z){var C=this,D,B;c.fn.init.call(C,A,z);z=C.options;C.dataSource=m.data.DataSource.create(z.dataSource);C.linkTemplate=m.template(C.options.linkTemplate);C.selectTemplate=m.template(C.options.selectTemplate);C.currentPageTemplate=m.template(C.options.currentPageTemplate);D=C.page();B=C.totalPages();C._refreshHandler=r(C.refresh,C);C.dataSource.bind(k,C._refreshHandler);if(z.previousNext){if(!C.element.find(v).length){C.element.append(u(v,z.messages.first,"k-pager-first"));h(C.element,D,B)}if(!C.element.find(x).length){C.element.append(u(x,z.messages.previous));n(C.element,D,B)}}if(z.numeric){C.list=C.element.find(".k-pager-numbers");if(!C.list.length){C.list=e('<ul class="k-pager-numbers k-reset" />').appendTo(C.element)}}if(z.input){if(!C.element.find(".k-pager-input").length){C.element.append('<span class="k-pager-input k-label">'+z.messages.page+'<input class="k-textbox">'+m.format(z.messages.of,B)+"</span>")}C.element.on(d+s,".k-pager-input input",r(C._keydown,C))}if(z.previousNext){if(!C.element.find(y).length){C.element.append(u(y,z.messages.next));o(C.element,D,B)}if(!C.element.find(q).length){C.element.append(u(q,z.messages.last,"k-pager-last"));j(C.element,D,B)}}if(z.pageSizes){if(!C.element.find(".k-pager-sizes").length){e('<span class="k-pager-sizes k-label"><select/>'+z.messages.itemsPerPage+"</span>").appendTo(C.element).find("select").html(e.map(e.isArray(z.pageSizes)?z.pageSizes:[5,10,20],function(E){return"<option>"+E+"</option>"}).join("")).end().appendTo(C.element)}C.element.find(".k-pager-sizes select").val(C.pageSize());if(m.ui.DropDownList){C.element.find(".k-pager-sizes select").show().kendoDropDownList()}C.element.on(k+s,".k-pager-sizes select",r(C._change,C))}if(z.refresh){if(!C.element.find(".k-pager-refresh").length){C.element.append('<a href="#" class="k-pager-refresh k-link" title="'+z.messages.refresh+'"><span class="k-icon k-i-refresh">'+z.messages.refresh+"</span></a>")}C.element.on(f+s,".k-pager-refresh",r(C._refreshClick,C))}if(z.info){if(!C.element.find(".k-pager-info").length){C.element.append('<span class="k-pager-info k-label" />')}}C.element.on(f+s,"a",r(C._click,C)).addClass("k-pager-wrap k-widget");C.element.on(f+s,".k-current-page",r(C._toggleActive,C));if(z.autoBind){C.refresh()}m.notify(C)},destroy:function(){var z=this;c.fn.destroy.call(z);z.element.off(s);z.dataSource.unbind(k,z._refreshHandler);z._refreshHandler=null;m.destroy(z.element);z.element=z.list=null},events:[k],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',currentPageTemplate:'<li class="k-current-page"><span class="k-link k-pager-nav">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#" #if (title !== "") {# title="#=title#" #}#>#=text#</a></li>',buttonCount:10,autoBind:true,numeric:true,info:true,input:false,previousNext:true,pageSizes:false,refresh:false,messages:{display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh",morePages:"More pages"}},setDataSource:function(A){var z=this;z.dataSource.unbind(k,z._refreshHandler);z.dataSource=z.options.dataSource=A;A.bind(k,z._refreshHandler);if(z.options.autoBind){A.fetch()}},refresh:function(H){var G=this,L,C,A=1,E,I=G.page(),D="",M=G.options,J=G.pageSize(),K=G.dataSource.total(),F=G.totalPages(),z=G.linkTemplate,B=M.buttonCount;if(H&&H.action=="itemchange"){return}if(M.numeric){if(I>B){E=(I%B);A=(E===0)?(I-B)+1:(I-E)+1}C=Math.min((A+B)-1,F);if(A>1){D+=b(z,A-1,"...",false,M.messages.morePages)}for(L=A;L<=C;L++){D+=b(L==I?G.selectTemplate:z,L,L,true)}if(C<F){D+=b(z,L,"...",false,M.messages.morePages)}if(D===""){D=G.selectTemplate({text:0})}D=this.currentPageTemplate({text:I})+D;G.list.removeClass("k-state-expanded").html(D)}if(M.info){if(K>0){D=m.format(M.messages.display,(I-1)*J+1,Math.min(I*J,K),K)}else{D=M.messages.empty}G.element.find(".k-pager-info").html(D)}if(M.input){G.element.find(".k-pager-input").html(G.options.messages.page+'<input class="k-textbox">'+m.format(M.messages.of,F)).find("input").val(I).attr(t,K<1).toggleClass("k-state-disabled",K<1)}if(M.previousNext){h(G.element,I,F);n(G.element,I,F);o(G.element,I,F);j(G.element,I,F)}if(M.pageSizes){G.element.find(".k-pager-sizes select").val(J).filter("["+m.attr("role")+"=dropdownlist]").kendoDropDownList("value",J).kendoDropDownList("text",J)}},_keydown:function(B){if(B.keyCode===m.keys.ENTER){var z=this.element.find(".k-pager-input").find("input"),A=parseInt(z.val(),10);if(isNaN(A)||A<1||A>this.totalPages()){A=this.page()}z.val(A);this.page(A)}},_refreshClick:function(z){z.preventDefault();this.dataSource.read()},_change:function(A){var z=parseInt(A.currentTarget.value,10);if(!isNaN(z)){this.dataSource.pageSize(z)}},_toggleActive:function(z){this.list.toggleClass("k-state-expanded")},_click:function(A){var z=e(A.currentTarget);A.preventDefault();if(!z.is(".k-state-disabled")){this.page(z.attr(m.attr("page")))}},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/this.pageSize())},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(z){if(z!==g){this.dataSource.page(z);this.trigger(k,{index:z})}else{if(this.dataSource.total()>0){return this.dataSource.page()}else{return 0}}}});l.plugin(p)})(window.kendo.jQuery);(function(w,g){var x=window.kendo,D=x.ui,b=D.Widget,F=x.support,h=x.getOffset,d=x._activeElement,I="open",K="close",G="deactivate",f="activate",s="center",q="left",M="right",y="top",t="bottom",B="absolute",J="hidden",H="body",j="location",E="position",O="visible",m="effects",n="k-state-active",r="k-state-border",o=/k-state-border-(\w+)/,c=".k-picker-wrap, .k-dropdown-wrap, .k-link",C="down",N=w(document.documentElement),k=w(window),l="scroll",p="resize scroll",A=F.transitions.css,L=A+"transform",e=w.extend,z=".kendoPopup",v=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];function u(P,Q){return P===Q||w.contains(P,Q)}var i=b.extend({init:function(R,Q){var S=this,P;Q=Q||{};if(Q.isRtl){Q.origin=Q.origin||t+" "+M;Q.position=Q.position||y+" "+M}b.fn.init.call(S,R,Q);R=S.element;Q=S.options;S.collisions=Q.collision?Q.collision.split(" "):[];S.downEvent=x.applyEventMap(C,x.guid());if(S.collisions.length===1){S.collisions.push(S.collisions[0])}P=w(S.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])");Q.appendTo=w(w(Q.appendTo)[0]||P[0]||H);S.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!Q.isRtl).css({position:B}).appendTo(Q.appendTo).on("mouseenter"+z,function(){S._hovered=true}).on("mouseleave"+z,function(){S._hovered=false});S.wrapper=w();if(Q.animation===false){Q.animation={open:{effects:{}},close:{hide:true,effects:{}}}}e(Q.animation.open,{complete:function(){S.wrapper.css({overflow:O});S._activated=true;S._trigger(f)}});e(Q.animation.close,{complete:function(){S._animationClose()}});S._mousedownProxy=function(T){S._mousedown(T)};S._resizeProxy=function(T){S._resize(T)};if(Q.toggleTarget){w(Q.toggleTarget).on(Q.toggleEvent+z,w.proxy(S.toggle,S))}},events:[I,f,K,G],options:{name:"Popup",toggleEvent:"click",origin:t+" "+q,position:y+" "+q,anchor:H,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:true,autosize:false,modal:false,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:true,duration:200},close:{duration:100,hide:true}}},_animationClose:function(){var S=this,R=S.options;S.wrapper.hide();var P=S.wrapper.data(j),Q=w(R.anchor),U,T;if(P){S.wrapper.css(P)}if(R.anchor!=H){U=((Q.attr("class")||"").match(o)||["","down"])[1];T=r+"-"+U;Q.removeClass(T).children(c).removeClass(n).removeClass(T);S.element.removeClass(r+"-"+x.directions[U].reverse)}S._closing=false;S._trigger(G)},destroy:function(){var S=this,P=S.options,Q=S.element.off(z),R;b.fn.destroy.call(S);if(P.toggleTarget){w(P.toggleTarget).off(z)}if(!P.modal){N.unbind(S.downEvent,S._mousedownProxy);S._scrollableParents().unbind(l,S._resizeProxy);k.unbind(p,S._resizeProxy)}x.destroy(S.element.children());Q.removeData();if(P.appendTo[0]===document.body){R=Q.parent(".k-animation-container");if(R[0]){R.remove()}else{Q.remove()}}},open:function(Z,X){var W=this,T={isFixed:!isNaN(parseInt(X,10)),x:Z,y:X},V=W.element,aa=W.options,Y="down",S,Q,U=w(aa.anchor),P=V[0]&&V.hasClass("km-widget");if(!W.visible()){if(aa.copyAnchorStyles){if(P&&v[0]=="font-size"){v.shift()}V.css(x.getComputedStyles(U[0],v))}if(V.data("animating")||W._trigger(I)){return}W._activated=false;if(!aa.modal){N.unbind(W.downEvent,W._mousedownProxy).bind(W.downEvent,W._mousedownProxy);if(!(F.mobileOS.ios||F.mobileOS.android)){W._scrollableParents().unbind(l,W._resizeProxy).bind(l,W._resizeProxy);k.unbind(p,W._resizeProxy).bind(p,W._resizeProxy)}}W.wrapper=Q=x.wrap(V,aa.autosize).css({overflow:J,display:"block",position:B});if(F.mobileOS.android){Q.css(L,"translatez(0)")}Q.css(E);if(w(aa.appendTo)[0]==document.body){Q.css(y,"-10000px")}S=e(true,{},aa.animation.open);W.flipped=W._position(T);S.effects=x.parseEffects(S.effects,W.flipped);Y=S.effects.slideIn?S.effects.slideIn.direction:Y;if(aa.anchor!=H){var R=r+"-"+Y;V.addClass(r+"-"+x.directions[Y].reverse);U.addClass(R).children(c).addClass(n).addClass(R)}V.data(m,S.effects).kendoStop(true).kendoAnimate(S)}},toggle:function(){var P=this;P[P.visible()?K:I]()},visible:function(){return this.element.is(":"+O)},close:function(V){var S=this,Q=S.options,R,U,P,T;if(S.visible()){R=(S.wrapper[0]?S.wrapper:x.wrap(S.element).hide());if(S._closing||S._trigger(K)){return}S.element.find(".k-popup").each(function(){var X=w(this),W=X.data("kendoPopup");if(W){W.close(V)}});N.unbind(S.downEvent,S._mousedownProxy);S._scrollableParents().unbind(l,S._resizeProxy);k.unbind(p,S._resizeProxy);if(V){U={hide:true,effects:{}}}else{U=e(true,{},Q.animation.close);P=S.element.data(m);T=U.effects;if(!T&&!x.size(T)&&P&&x.size(P)){U.effects=P;U.reverse=true}S._closing=true}S.element.kendoStop(true);R.css({overflow:J});S.element.kendoAnimate(U)}},_trigger:function(P){return this.trigger(P,{type:P})},_resize:function(Q){var P=this;if(Q.type==="resize"){clearTimeout(P._resizeTimeout);P._resizeTimeout=setTimeout(function(){P._position();P._resizeTimeout=null},50)}else{if(!P._hovered||(P._activated&&P.element.hasClass("k-list-container"))){P.close()}}},_mousedown:function(U){var T=this,Q=T.element[0],X=T.options,S=w(X.anchor)[0],W=X.toggleTarget,V=x.eventTarget(U),R=w(V).closest(".k-popup"),P=R.parent().parent(".km-shim").length;R=R[0];if(!P&&R&&R!==T.element[0]){return}if(w(U.target).closest("a").data("rel")==="popover"){return}if(!u(Q,V)&&!u(S,V)&&!(W&&u(w(W)[0],V))){T.close()}},_fit:function(P,S,Q){var R=0;if(P+S>Q){R=Q-(P+S)}if(P<0){R=-P}return R},_flip:function(V,U,R,Q,T,P,W){var S=0;W=W||U;if(P!==T&&P!==s&&T!==s){if(V+W>Q){S+=-(R+U)}if(V+S<0){S+=R+U}}return S},_scrollableParents:function(){return w(this.options.anchor).parentsUntil("body").filter(function(Q,R){var P=x.getComputedStyles(R,["overflow"]);return P.overflow!="visible"})},_position:function(Z){var af=this,S=af.element.css(E,""),ac=af.wrapper,W=af.options,ao=w(W.viewport),an=ao.offset(),ae=w(W.anchor),Q=W.origin.toLowerCase().split(" "),ag=W.position.toLowerCase().split(" "),X=af.collisions,aj=F.zoomLevel(),R,aq,T,ai=10002,ap=!!((ao[0]==window)&&window.innerWidth&&(aj<=1.02)),ah=0,V,al,U;al=ap?window.innerWidth:ao.width();U=ap?window.innerHeight:ao.height();R=ae.parents().filter(ac.siblings());if(R[0]){T=Math.max(Number(R.css("zIndex")),0);if(T){ai=T+10}else{aq=ae.parentsUntil(R);for(V=aq.length;ah<V;ah++){T=Number(w(aq[ah]).css("zIndex"));if(T&&ai<T){ai=T+10}}}}ac.css("zIndex",ai);if(Z&&Z.isFixed){ac.css({left:Z.x,top:Z.y})}else{ac.css(af._align(Q,ag))}var ad=h(ac,E,ae[0]===ac.offsetParent()[0]),ab=h(ac),am=ae.offsetParent().parent(".k-animation-container,.k-popup,.k-group");if(am.length){ad=h(ac,E,true);ab=h(ac)}if(ao[0]===window){ab.top-=(window.pageYOffset||document.documentElement.scrollTop||0);ab.left-=(window.pageXOffset||document.documentElement.scrollLeft||0)}else{ab.top-=an.top;ab.left-=an.left}if(!af.wrapper.data(j)){ac.data(j,e({},ad))}var aa=e({},ab),P=e({},ad),Y=W.adjustSize;if(X[0]==="fit"){P.top+=af._fit(aa.top,ac.outerHeight()+Y.height,U/aj)}if(X[1]==="fit"){P.left+=af._fit(aa.left,ac.outerWidth()+Y.width,al/aj)}var ak=e({},P);if(X[0]==="flip"){P.top+=af._flip(aa.top,S.outerHeight(),ae.outerHeight(),U/aj,Q[0],ag[0],ac.outerHeight())}if(X[1]==="flip"){P.left+=af._flip(aa.left,S.outerWidth(),ae.outerWidth(),al/aj,Q[1],ag[1],ac.outerWidth())}S.css(E,B);ac.css(P);return(P.left!=ak.left||P.top!=ak.top)},_align:function(ag,ah){var V=this,R=V.wrapper,U=w(V.options.anchor),W=ag[0],af=ag[1],Z=ah[0],Q=ah[1],aa=h(U),T=w(V.options.appendTo),ac,ab=R.outerWidth(),Y=R.outerHeight(),P=U.outerWidth(),ae=U.outerHeight(),X=aa.top,S=aa.left,ad=Math.round;if(T[0]!=document.body){ac=h(T);X-=ac.top;S-=ac.left}if(W===t){X+=ae}if(W===s){X+=ad(ae/2)}if(Z===t){X-=Y}if(Z===s){X-=ad(Y/2)}if(af===M){S+=P}if(af===s){S+=ad(P/2)}if(Q===M){S-=ab}if(Q===s){S-=ad(ab/2)}return{top:X,left:S}}});D.plugin(i)})(window.kendo.jQuery);(function(h,j){var r=window.kendo,c=r.ui.Widget,v=h.proxy,y=h.extend,b=window.setTimeout,i="click",g="show",x="hide",u="k-notification",d=".k-notification-wrap .k-i-close",e="info",z="success",m="warning",k="error",s="top",p="left",n="bottom",o="right",f="up",w=".kendoNotification",l='<div class="k-widget k-notification"></div>',q='<div class="k-notification-wrap"><span class="k-icon k-i-note">#=typeIcon#</span>#=content#<span class="k-icon k-i-close">Hide</span></div>';var t=c.extend({init:function(B,A){var C=this;c.fn.init.call(C,B,A);A=C.options;if(!A.appendTo||!h(A.appendTo).is(B)){C.element.hide()}C._compileTemplates(A.templates);C._guid="_"+r.guid();C._isRtl=r.support.isRtl(B);C._compileStacking(A.stacking,A.position.top);r.notify(C)},events:[g,x],options:{name:"Notification",position:{pinned:true,top:null,left:null,bottom:20,right:20},stacking:"default",hideOnClick:true,button:false,allowHideAfter:0,autoHideAfter:5000,appendTo:null,width:null,height:null,templates:[],animation:{open:{effects:"fade:in",duration:300},close:{effects:"fade:out",duration:600,hide:true}}},_compileTemplates:function(A){var B=this;var C=r.template;B._compiled={};h.each(A,function(D,E){B._compiled[E.type]=C(E.template||h("#"+E.templateId).html())});B._defaultCompiled=C(q)},_getCompiled:function(A){var B=this;var C=B._defaultCompiled;return A?B._compiled[A]||C:C},_compileStacking:function(D,F){var E=this,C={paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},B,A;switch(D){case"down":B=n+" "+p;A=s+" "+p;delete C.paddingBottom;break;case o:B=s+" "+o;A=s+" "+p;delete C.paddingRight;break;case p:B=s+" "+p;A=s+" "+o;delete C.paddingLeft;break;case f:B=s+" "+p;A=n+" "+p;delete C.paddingTop;break;default:if(F!==null){B=n+" "+p;A=s+" "+p;delete C.paddingBottom}else{B=s+" "+p;A=n+" "+p;delete C.paddingTop}break}E._popupOrigin=B;E._popupPosition=A;E._popupPaddings=C},_attachPopupEvents:function(B,A){var D=this,G=B.allowHideAfter,C=!isNaN(G)&&G>0,F;function E(H){H.on(i+w,function(){A.close()})}if(B.hideOnClick){A.bind("activate",function(H){if(C){b(function(){E(A.element)},G)}else{E(A.element)}})}else{if(B.button){F=A.element.find(d);if(C){b(function(){E(F)},G)}else{E(F)}}}},_showPopup:function(B,K){var G=this,A=K.autoHideAfter,J=K.position.left,I=K.position.top,H=K.allowHideAfter,C,E,F,D;E=h("."+G._guid).last();C=new r.ui.Popup(B,{anchor:E[0]?E:document.body,origin:G._popupOrigin,position:G._popupPosition,animation:K.animation,modal:true,collision:"",isRtl:G._isRtl,close:function(L){G._triggerHide(this.element)},deactivate:function(L){L.sender.element.off(w);L.sender.element.find(d).off(w);L.sender.destroy()}});G._attachPopupEvents(K,C);if(E[0]){C.open()}else{if(J===null){J=h(window).width()-B.width()-K.position.right}if(I===null){I=h(window).height()-B.height()-K.position.bottom}C.open(J,I)}C.wrapper.addClass(G._guid).css(y({margin:0},G._popupPaddings));if(K.position.pinned){C.wrapper.css("position","fixed");if(E[0]){G._togglePin(C.wrapper,true)}}else{if(!E[0]){G._togglePin(C.wrapper,false)}}if(A>0){b(function(){C.close()},A)}},_togglePin:function(D,B){var C=h(window),A=B?-1:1;D.css({top:parseInt(D.css(s),10)+A*C.scrollTop(),left:parseInt(D.css(p),10)+A*C.scrollLeft()})},_attachStaticEvents:function(A,F){var C=this,E=A.allowHideAfter,B=!isNaN(E)&&E>0;function D(G){G.on(i+w,v(C._hideStatic,C,F))}if(A.hideOnClick){if(B){b(function(){D(F)},E)}else{D(F)}}else{if(A.button){if(B){b(function(){D(F.find(d))},E)}else{D(F.find(d))}}}},_showStatic:function(G,A){var C=this,B=A.autoHideAfter,E=A.animation,F=A.stacking==f||A.stacking==p?"prependTo":"appendTo",D;G.addClass(C._guid)[F](A.appendTo).hide().kendoAnimate(E.open||false);C._attachStaticEvents(A,G);if(B>0){b(function(){C._hideStatic(G)},B)}},_hideStatic:function(A){A.kendoAnimate(y(this.options.animation.close||false,{complete:function(){A.off(w).find(d).off(w);A.remove()}}));this._triggerHide(A)},_triggerHide:function(A){this.trigger(x,{element:A});this.angular("cleanup",function(){return{elements:A}})},show:function(F,D){var E=this,C=E.options,H=h(l),B,G,A;if(!D){D=e}if(F!==null&&F!==j&&F!==""){if(r.isFunction(F)){F=F()}G={typeIcon:D,content:""};if(h.isPlainObject(F)){B=y(G,F)}else{B=y(G,{content:F})}H.addClass(u+"-"+D).toggleClass(u+"-button",C.button).attr("data-role","alert").css({width:C.width,height:C.height}).append(E._getCompiled(D)(B));E.angular("compile",function(){return{elements:H,data:[{dataItem:B}]}});if(h(C.appendTo)[0]){E._showStatic(H,C)}else{E._showPopup(H,C)}E.trigger(g,{element:H})}return E},info:function(A){return this.show(A,e)},success:function(A){return this.show(A,z)},warning:function(A){return this.show(A,m)},error:function(A){return this.show(A,k)},hide:function(){var A=this,B=A.getNotifications();if(A.options.appendTo){B.each(function(C,D){A._hideStatic(h(D))})}else{B.each(function(C,E){var D=h(E).data("kendoPopup");if(D){D.close()}})}return A},getNotifications:function(){var B=this,A=h("."+B._guid);if(B.options.appendTo){return A}else{return A.children("."+u)}},setOptions:function(C){var B=this,A;c.fn.setOptions.call(B,C);A=B.options;if(C.templates!==j){B._compileTemplates(A.templates)}if(C.stacking!==j||C.position!==j){B._compileStacking(A.stacking,A.position.top)}},destroy:function(){c.fn.destroy.call(this);this.getNotifications().off(w).find(d).off(w)}});r.ui.plugin(t)})(window.kendo.jQuery);(function(h,j){var v=window.kendo,c=v.ui.Widget,k=v.ui.Popup,b=v.isFunction,u=h.isPlainObject,C=h.extend,x=h.proxy,i=h(document),w=v.isLocalUrl,e="_tt_active",f="aria-describedby",g="show",A="hide",l="error",s="contentLoad",D="requestStart",E="k-content-frame",t='<div role="tooltip" class="k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#">#if (!autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close</a></div> #}#<div class="k-tooltip-content"></div>#if (callout){ #<div class="k-callout k-callout-#=dir#"></div>#}#</div>',n=v.template("<iframe frameborder='0' class='"+E+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),z=".kendoTooltip",r={bottom:{origin:"bottom center",position:"top center"},top:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"},center:{position:"center center",origin:"center center"}},G={top:"bottom",bottom:"top",left:"right",right:"left",center:"center"},m={bottom:"n",top:"s",left:"e",right:"w",center:"n"},o={horizontal:{offset:"top",size:"outerHeight"},vertical:{offset:"left",size:"outerWidth"}},q=function(H){return H.target.data(v.ns+"title")};function p(H){while(H.length){B(H);H=H.parent()}}function B(H){var I=H.data(v.ns+"title");if(I){H.attr("title",I);H.removeData(v.ns+"title")}}function F(H){var I=H.attr("title");if(I){H.data(v.ns+"title",I);H.attr("title","")}}function d(H){while(H.length&&!H.is("body")){F(H);H=H.parent()}}var y=c.extend({init:function(I,H){var K=this,J;c.fn.init.call(K,I,H);J=K.options.position.match(/left|right/)?"horizontal":"vertical";K.dimensions=o[J];K._documentKeyDownHandler=x(K._documentKeyDown,K);K.element.on(K.options.showOn+z,K.options.filter,x(K._showOn,K)).on("mouseenter"+z,K.options.filter,x(K._mouseenter,K));if(this.options.autoHide){K.element.on("mouseleave"+z,K.options.filter,x(K._mouseleave,K))}},options:{name:"Tooltip",filter:"",content:q,showAfter:100,callout:true,position:"bottom",showOn:"mouseenter",autoHide:true,width:null,height:null,animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:40,hide:true}}},events:[g,A,s,l,D],_mouseenter:function(H){d(h(H.currentTarget))},_showOn:function(J){var H=this;var I=h(J.currentTarget);if(H.options.showOn&&H.options.showOn.match(/click|focus/)){H._show(I)}else{clearTimeout(H.timeout);H.timeout=setTimeout(function(){H._show(I)},H.options.showAfter)}},_appendContent:function(M){var K=this,L=K.options.content,I=K.content,H=K.options.iframe,J;if(u(L)&&L.url){if(!("iframe" in K.options)){H=!w(L.url)}K.trigger(D,{options:L,target:M});if(!H){I.empty();v.ui.progress(I,true);K._ajaxRequest(L)}else{I.hide();J=I.find("."+E)[0];if(J){J.src=L.url||J.src}else{I.html(n({content:L}))}I.find("."+E).off("load"+z).on("load"+z,function(){K.trigger(s);I.show()})}}else{if(L&&b(L)){L=L({sender:this,target:M});I.html(L||"")}else{I.html(L)}}K.angular("compile",function(){return{elements:I}})},_ajaxRequest:function(H){var I=this;jQuery.ajax(C({type:"GET",dataType:"html",cache:false,error:function(K,J){v.ui.progress(I.content,false);I.trigger(l,{status:J,xhr:K})},success:x(function(J){v.ui.progress(I.content,false);I.content.html(J);I.trigger(s)},I)},H))},_documentKeyDown:function(H){if(H.keyCode===v.keys.ESC){this.hide()}},refresh:function(){var I=this,H=I.popup;if(H&&H.options.anchor){I._appendContent(H.options.anchor)}},hide:function(){if(this.popup){this.popup.close()}},show:function(H){H=H||this.element;d(H);this._show(H)},_show:function(J){var H=this,I=H.target();if(!H.popup){H._initPopup()}if(I&&I[0]!=J[0]){H.popup.close();H.popup.element.kendoStop(true,true)}if(!I||I[0]!=J[0]){H._appendContent(J);H.popup.options.anchor=J}H.popup.one("deactivate",function(){p(J);J.removeAttr(f);this.element.removeAttr("id").attr("aria-hidden",true);i.off("keydown"+z,H._documentKeyDownHandler)});H.popup.open()},_initPopup:function(){var I=this,H=I.options,J=h(v.template(t)({callout:H.callout&&H.position!=="center",dir:m[H.position],autoHide:H.autoHide}));I.popup=new k(J,C({activate:function(){var K=this.options.anchor,L=K[0].id||I.element[0].id;if(L){K.attr(f,L+e);this.element.attr("id",L+e)}if(H.callout){I._positionCallout()}this.element.removeAttr("aria-hidden");i.on("keydown"+z,I._documentKeyDownHandler);I.trigger(g)},close:function(){I.trigger(A)},copyAnchorStyles:false,animation:H.animation},r[H.position]));J.css({width:H.width,height:H.height});I.content=J.find(".k-tooltip-content");I.arrow=J.find(".k-callout");if(H.autoHide){J.on("mouseleave"+z,x(I._mouseleave,I))}else{J.on("click"+z,".k-tooltip-button",x(I._closeButtonClick,I))}},_closeButtonClick:function(H){H.preventDefault();this.hide()},_mouseleave:function(K){if(this.popup){var I=h(K.currentTarget),L=I.offset(),J=K.pageX,H=K.pageY;L.right=L.left+I.outerWidth();L.bottom=L.top+I.outerHeight();if(J>L.left&&J<L.right&&H>L.top&&H<L.bottom){return}this.popup.close()}else{p(h(K.currentTarget))}clearTimeout(this.timeout)},_positionCallout:function(){var O=this,N=O.options.position,H=O.dimensions,L=H.offset,J=O.popup,M=J.options.anchor,K=h(M).offset(),Q=parseInt(O.arrow.css("border-top-width"),10),I=h(J.element).offset(),R=m[J.flipped?G[N]:N],P=K[L]-I[L]+(h(M)[H.size]()/2)-Q;O.arrow.removeClass("k-callout-n k-callout-s k-callout-w k-callout-e").addClass("k-callout-"+R).css(L,P)},target:function(){if(this.popup){return this.popup.options.anchor}return null},destroy:function(){var H=this.popup;if(H){H.element.off(z);H.destroy()}this.element.off(z);i.off("keydown"+z,this._documentKeyDownHandler);c.fn.destroy.call(this)}});v.ui.plugin(y)})(window.kendo.jQuery);(function(A,k){var B=window.kendo,D=B.ui,f=D.Widget,w=B.keys,E=B.support,p=B.htmlEncode,g=B._activeElement,o=B.data.ObservableArray,t="id",s="li",z="change",l="character",C="k-state-focused",n="k-state-hover",r="k-loading",F="open",H="close",q="select",x="selected",v="progress",i="requestEnd",e="width",j=A.extend,G=A.proxy,u=A.isArray,d=E.browser,J=d.msie&&d.version<9,K=/"/g,b={ComboBox:"DropDownList",DropDownList:"ComboBox"};var m=B.ui.DataBoundWidget.extend({init:function(M,L){var O=this,N=O.ns,P;f.fn.init.call(O,M,L);M=O.element;L=O.options;O._isSelect=M.is(q);if(O._isSelect&&O.element[0].length){if(!L.dataSource){L.dataTextField=L.dataTextField||"text";L.dataValueField=L.dataValueField||"value"}}O.ul=A('<ul unselectable="on" class="k-list k-reset"/>').attr({tabIndex:-1,"aria-hidden":true});O.list=A("<div class='k-list-container'/>").append(O.ul).on("mousedown"+N,G(O._listMousedown,O));P=M.attr(t);if(P){O.list.attr(t,P+"-list");O.ul.attr(t,P+"_listbox")}O._header();O._accessors();O._initValue()},options:{valuePrimitive:false,headerTemplate:""},setOptions:function(L){f.fn.setOptions.call(this,L);if(L&&L.enable!==k){L.enabled=L.enable}},focus:function(){this._focused.focus()},readonly:function(L){this._editable({readonly:L===k?true:L,disable:false})},enable:function(L){this._editable({readonly:false,disable:!(L=L===k?true:L)})},_listOptions:function(M){var L=this.options;M=M||{};M={height:M.height||L.height,dataValueField:M.dataValueField||L.dataValueField,dataTextField:M.dataTextField||L.dataTextField,groupTemplate:M.groupTemplate||L.groupTemplate,fixedGroupTemplate:M.fixedGroupTemplate||L.fixedGroupTemplate,template:M.template||L.template};if(!M.template){M.template="#:"+B.expr(M.dataTextField,"data")+"#"}return M},_initList:function(){var P=this;var N=P.options;var R=N.virtual;var M=!!R;var Q=N.value;var L=G(P._listBound,P);var O={autoBind:false,selectable:true,dataSource:P.dataSource,click:G(P._click,P),change:G(P._listChange,P),activate:G(P._activateItem,P),deactivate:G(P._deactivateItem,P),dataBinding:function(){P.trigger("dataBinding");P._angularItems("cleanup")},dataBound:L,listBound:L,selectedItemChange:G(P._listChange,P)};O=A.extend(P._listOptions(),O,typeof R==="object"?R:{});if(!M){P.listView=new B.ui.StaticList(P.ul,O);P.listView.setTouchScroller(P._touchScroller)}else{P.listView=new B.ui.VirtualList(P.ul,O)}if(Q!==k){P.listView.value(Q).done(function(){var S=N.text;if(P.input&&P.selectedIndex===-1){if(S===k||S===null){S=Q}P._accessor(Q);P.input.val(S)}})}},_listMousedown:function(L){if(!this.filterInput||this.filterInput[0]!==L.target){L.preventDefault()}},_filterSource:function(M,O){var N=this;var L=N.options;var R=N.dataSource;var Q=j({},R.filter()||{});var P=c(Q,L.dataTextField);if((M||P)&&N.trigger("filtering",{filter:M})){return}if(M){Q=Q.filters||[];Q.push(M)}if(!O){R.filter(Q)}else{R.read(Q)}},_header:function(){var M=this;var L=M.options.headerTemplate;var N;if(A.isFunction(L)){L=L({})}if(L){M.list.prepend(L);N=M.ul.prev();M.header=N[0]?N:null;if(M.header){M.angular("compile",function(){return{elements:M.header}})}}},_initValue:function(){var L=this,M=L.options.value;if(M!==null){L.element.val(M)}else{M=L._accessor();L.options.value=M}L._old=M},_ignoreCase:function(){var M=this,L=M.dataSource.reader.model,N;if(L&&L.fields){N=L.fields[M.options.dataTextField];if(N&&N.type&&N.type!=="string"){M.options.ignoreCase=false}}},_focus:function(L){return this.listView.focus(L)},current:function(L){return this._focus(L)},items:function(){return this.ul[0].children},destroy:function(){var M=this;var L=M.ns;f.fn.destroy.call(M);M._unbindDataSource();M.listView.destroy();M.list.off(L);if(M._touchScroller){M._touchScroller.destroy()}M.popup.destroy();if(M._form){M._form.off("reset",M._resetHandler)}},dataItem:function(L){var M=this;if(L===k){return M.listView.selectedDataItems()[0]}if(typeof L!=="number"){L=A(M.items()).index(L)}return M.dataSource.flatView()[L]},_activateItem:function(){var L=this.listView.focus();if(L){this._focused.add(this.filterInput).attr("aria-activedescendant",L.attr("id"))}},_deactivateItem:function(){this._focused.add(this.filterInput).removeAttr("aria-activedescendant")},_accessors:function(){var Q=this;var P=Q.element;var O=Q.options;var L=B.getter;var M=P.attr(B.attr("text-field"));var N=P.attr(B.attr("value-field"));if(!O.dataTextField&&M){O.dataTextField=M}if(!O.dataValueField&&N){O.dataValueField=N}Q._text=L(O.dataTextField);Q._value=L(O.dataValueField)},_aria:function(O){var N=this,L=N.options,M=N._focused.add(N.filterInput);if(L.suggest!==k){M.attr("aria-autocomplete",L.suggest?"both":"list")}O=O?O+" "+N.ul[0].id:N.ul[0].id;M.attr("aria-owns",O);N.ul.attr("aria-live",!L.filter||L.filter==="none"?"off":"polite")},_blur:function(){var L=this;L._change();L.close()},_change:function(){var N=this;var M=N.selectedIndex;var P=N.options.value;var O=N.value();var L;if(N._isSelect&&!N.listView.isBound()&&P){O=P}if(O!==N._old){L=true}else{if(M!==k&&M!==N._oldIndex){L=true}}if(L){N._old=O;N._oldIndex=M;N.element.trigger(z);N.trigger(z)}},_data:function(){return this.dataSource.view()},_enable:function(){var N=this,L=N.options,M=N.element.is("[disabled]");if(L.enable!==k){L.enabled=L.enable}if(!L.enabled||M){N.enable(false)}else{N.readonly(N.element.is("[readonly]"))}},_dataValue:function(L){var M=this._value(L);if(M===k){M=this._text(L)}return M},_height:function(P){var O=this;var Q=O.list;var L=O.options.height;var R=O.popup.visible();var N;var M;if(P){M=Q.add(Q.parent(".k-animation-container")).show();L=O.ul[0].scrollHeight>L?L:"auto";M.height(L);if(L!=="auto"){N=O.ul[0].offsetTop;if(N){L=Q.height()-N}}O.ul.height(L);if(!R){M.hide()}}return L},_adjustListWidth:function(){var O=this.list,N=O[0].style.width,P=this.wrapper,M,L;if(!O.data(e)&&N){return}M=window.getComputedStyle?window.getComputedStyle(P[0],null):0;L=M?parseFloat(M.width):P.outerWidth();if(M&&d.msie){L+=parseFloat(M.paddingLeft)+parseFloat(M.paddingRight)+parseFloat(M.borderLeftWidth)+parseFloat(M.borderRightWidth)}if(O.css("box-sizing")!=="border-box"){N=L-(O.outerWidth()-O.width())}else{N=L}O.css({fontFamily:P.css("font-family"),width:N}).data(e,N);return true},_openHandler:function(L){this._adjustListWidth();if(this.trigger(F)){L.preventDefault()}else{this._focused.attr("aria-expanded",true);this.ul.attr("aria-hidden",false)}},_closeHandler:function(L){if(this.trigger(H)){L.preventDefault()}else{this._focused.attr("aria-expanded",false);this.ul.attr("aria-hidden",true)}},_focusItem:function(){var L=this.listView;var N=L.focus();var M=L.select();M=M[M.length-1];if(M===k&&this.options.highlightFirst&&!N){M=0}if(M!==k){L.focus(M)}else{L.scrollToIndex(0)}},_calculateGroupPadding:function(M){var O=this.ul;var L=O.children(".k-first:first");var N=O.prev(".k-group-header");var P=0;if(N[0]&&N[0].style.display!=="none"){if(M!=="auto"){P=B.support.scrollbar()}P+=parseFloat(L.css("border-right-width"),10)+parseFloat(L.children(".k-group").css("right"),10);N.css("padding-right",P)}},_firstOpen:function(){var L=this._height(this.dataSource.flatView().length);this._calculateGroupPadding(L)},_popup:function(){var L=this;L.popup=new D.Popup(L.list,j({},L.options.popup,{anchor:L.wrapper,open:G(L._openHandler,L),close:G(L._closeHandler,L),animation:L.options.animation,isRtl:E.isRtl(L.wrapper)}));if(!L.options.virtual){L.popup.one(F,G(L._firstOpen,L))}L._touchScroller=B.touchScroller(L.popup.element)},_makeUnselectable:function(){if(J){this.list.find("*").not(".k-textbox").attr("unselectable","on")}},_toggleHover:function(L){A(L.currentTarget).toggleClass(n,L.type==="mouseenter")},_toggle:function(M,O){var N=this;var L=E.mobileOS&&(E.touch||E.MSPointers||E.pointers);M=M!==k?M:!N.popup.visible();if(!O&&!L&&N._focused[0]!==g()){N._focused.focus()}N[M?F:H]()},_triggerCascade:function(){var L=this;if(!L._cascadeTriggered||L._old!==L.value()||L._oldIndex!==L.selectedIndex){L._cascadeTriggered=true;L.trigger("cascade",{userTriggered:L._userTriggered})}},_unbindDataSource:function(){var L=this;L.dataSource.unbind(v,L._progressHandler).unbind(i,L._requestEndHandler).unbind("error",L._errorHandler)}});j(m,{inArray:function(O,M){var L,N,P=M.children;if(!O||O.parentNode!==M){return -1}for(L=0,N=P.length;L<N;L++){if(O===P[L]){return L}}return -1}});B.ui.List=m;D.Select=m.extend({init:function(M,L){m.fn.init.call(this,M,L);this._initial=this.element.val()},setDataSource:function(L){this.options.dataSource=L;this._dataSource();this.listView.setDataSource(this.dataSource);if(this.options.autoBind){this.dataSource.fetch()}},close:function(){this.popup.close()},select:function(L){var M=this;if(L===k){return M.selectedIndex}else{M._select(L);M._old=M._accessor();M._oldIndex=M.selectedIndex}},search:function(R){R=typeof R==="string"?R:this.text();var P=this;var O=R.length;var M=P.options;var L=M.ignoreCase;var N=M.filter;var Q=M.dataTextField;clearTimeout(P._typing);if(!O||O>=M.minLength){P._state="filter";P.listView.filter(true);if(N==="none"){P._filter(R)}else{P._open=true;P._filterSource({value:L?R.toLowerCase():R,field:Q,operator:N,ignoreCase:L})}}},_accessor:function(M,L){return this[this._isSelect?"_accessorSelect":"_accessorInput"](M,L)},_accessorInput:function(M){var L=this.element[0];if(M===k){return L.value}else{L.value=M}},_accessorSelect:function(P,M){var N=this.element[0];var L=N.selectedIndex;var O;if(P===k){if(L>-1){O=N.options[L]}if(O){P=O.value}return P||""}else{if(L>-1){N.options[L].removeAttribute(x)}if(M===k){M=-1}if(P!==""&&M==-1){this._custom(P)}else{if(P){N.value=P}else{N.selectedIndex=M}if(N.selectedIndex>-1){O=N.options[N.selectedIndex]}if(O){O.setAttribute(x,x)}}}},_custom:function(O){var M=this;var L=M.element;var N=M._customOption;if(!N){N=A("<option/>");M._customOption=N;L.append(N)}N.text(O);N[0].setAttribute(x,x)},_hideBusy:function(){var L=this;clearTimeout(L._busy);L._arrow.removeClass(r);L._focused.attr("aria-busy",false);L._busy=null},_showBusy:function(){var L=this;L._request=true;if(L._busy){return}L._busy=setTimeout(function(){if(L._arrow){L._focused.attr("aria-busy",true);L._arrow.addClass(r)}},100)},_requestEnd:function(){this._request=false},_dataSource:function(){var O=this,N=O.element,M=O.options,P=M.dataSource||{},L;P=A.isArray(P)?{data:P}:P;if(O._isSelect){L=N[0].selectedIndex;if(L>-1){M.index=L}P.select=N;P.fields=[{field:M.dataTextField},{field:M.dataValueField}]}if(O.dataSource){O._unbindDataSource()}else{O._progressHandler=G(O._showBusy,O);O._requestEndHandler=G(O._requestEnd,O);O._errorHandler=G(O._hideBusy,O)}O.dataSource=B.data.DataSource.create(P).bind(v,O._progressHandler).bind(i,O._requestEndHandler).bind("error",O._errorHandler)},_firstItem:function(){this.listView.first()},_lastItem:function(){this.listView.last()},_nextItem:function(){this.listView.next()},_prevItem:function(){this.listView.prev()},_move:function(O){var N=this;var S=O.keyCode;var Q=N.ul[0];var R=S===w.DOWN;var L;var M;var P;if(S===w.UP||R){if(O.altKey){N.toggle(R)}else{if(!N.listView.isBound()){if(!N._fetch){N.dataSource.one(z,function(){N._fetch=false;N._move(O)});N._fetch=true;N._filterSource()}O.preventDefault();return true}P=N._focus();if(!N._fetch&&(!P||P.hasClass("k-state-selected"))){if(R){N._nextItem();if(!N._focus()){N._lastItem()}}else{N._prevItem();if(!N._focus()){N._firstItem()}}}if(N.trigger(q,{item:N.listView.focus()})){N._focus(P);return}N._select(N._focus(),true);if(!N.popup.visible()){N._blur()}}O.preventDefault();M=true}else{if(S===w.ENTER||S===w.TAB){if(N.popup.visible()){O.preventDefault()}P=N._focus();L=N.dataItem();if(!N.popup.visible()&&(!L||N.text()!==N._text(L))){P=null}var T=N.filterInput&&N.filterInput[0]===g();if(P){if(N.trigger(q,{item:P})){return}N._select(P)}else{if(N.input){N._accessor(N.input.val());N.listView.value(N.input.val())}}if(N._focusElement){N._focusElement(N.wrapper)}if(T&&S===w.TAB){N.wrapper.focusout()}else{N._blur()}N.close();M=true}else{if(S===w.ESC){if(N.popup.visible()){O.preventDefault()}N.close();M=true}}}return M},_fetchData:function(){var L=this;var M=!!L.dataSource.view().length;if(L.element[0].disabled||L._request||L.options.cascadeFrom){return}if(!L.listView.isBound()&&!L._fetch&&!M){L._fetch=true;L.dataSource.fetch().done(function(){L._fetch=false})}},_options:function(O,S,U){var R=this,P=R.element,N=O.length,W="",Q,M,V,L,T=0;if(S){W=S}for(;T<N;T++){Q="<option";M=O[T];V=R._text(M);L=R._value(M);if(L!==k){L+="";if(L.indexOf('"')!==-1){L=L.replace(K,"&quot;")}Q+=' value="'+L+'"'}Q+=">";if(V!==k){Q+=p(V)}Q+="</option>";W+=Q}P.html(W);if(U!==k){P.val(U)}},_reset:function(){var N=this,L=N.element,O=L.attr("form"),M=O?A("#"+O):L.closest("form");if(M[0]){N._resetHandler=function(){setTimeout(function(){N.value(N._initial)})};N._form=M.on("reset",N._resetHandler)}},_cascade:function(){var R=this,P=R.options,N=P.cascadeFrom,Q,M,L,O,S;if(N){M=A("#"+N);Q=M.data("kendo"+P.name);if(!Q){Q=M.data("kendo"+b[P.name])}if(!Q){return}P.autoBind=false;O=P.cascadeFromField||Q.options.dataValueField;S=function(){R.dataSource.unbind(z,S);var T=R._accessor();if(R._userTriggered){R._clearSelection(Q,true)}else{if(T){if(T!==R.listView.value()[0]){R.value(T)}if(!R.dataSource.view()[0]||R.selectedIndex===-1){R._clearSelection(Q,true)}}else{if(R.dataSource.flatView().length){R.select(P.index)}}}R.enable();R._triggerCascade();R._userTriggered=false};L=function(){var T=Q.dataItem(),X=T?Q._value(T):null,W,V;if(X||X===0){W=R.dataSource.filter()||{};c(W,O);V=W.filters||[];V.push({field:O,operator:"eq",value:X});var U=function(){R.unbind("dataBound",U);S.apply(R,arguments)};R.first("dataBound",U);R.dataSource.filter(V)}else{R.enable(false);R._clearSelection(Q);R._triggerCascade();R._userTriggered=false}};Q.first("cascade",function(T){R._userTriggered=T.userTriggered;L()});if(Q.listView.isBound()){L()}else{if(!Q.value()){R.enable(false)}}}}});var y=".StaticList";var I=B.ui.DataBoundWidget.extend({init:function(M,L){f.fn.init.call(this,M,L);this.element.attr("role","listbox").css({overflow:E.kineticScrollNeeded?"":"auto"}).on("click"+y,"li",G(this._click,this)).on("mouseenter"+y,"li",function(){A(this).addClass(n)}).on("mouseleave"+y,"li",function(){A(this).removeClass(n)});this.header=this.element.before('<div class="k-group-header" style="display:none"></div>').prev();this._bound=false;this._optionID=B.guid();this._selectedIndices=[];this._view=[];this._dataItems=[];this._values=[];var N=this.options.value;if(N){this._values=A.isArray(N)?N.slice(0):[N]}this._getter();this._templates();this.setDataSource(this.options.dataSource);this._onScroll=G(function(){var O=this;clearTimeout(O._scrollId);O._scrollId=setTimeout(function(){O._renderHeader()},50)},this);this._fixedHeader()},options:{name:"StaticList",dataValueField:null,selectable:true,template:null,groupTemplate:null,fixedGroupTemplate:null},events:["click","change","activate","deactivate","dataBinding","dataBound","selectedItemChange"],setDataSource:function(N){var L=this;var O=N||{};var M;O=A.isArray(O)?{data:O}:O;O=B.data.DataSource.create(O);if(L.dataSource){L.dataSource.unbind(z,L._refreshHandler);M=L.value();L.value([]);L._bound=false;L.value(M)}else{L._refreshHandler=G(L.refresh,L)}L.dataSource=O.bind(z,L._refreshHandler);L._fixedHeader()},setOptions:function(L){f.fn.setOptions.call(this,L);this._fixedHeader();this._getter();this._templates();this._render()},destroy:function(){this.element.off(y);if(this._refreshHandler){this.dataSource.unbind(z,this._refreshHandler)}f.fn.destroy.call(this)},scrollToIndex:function(L){var M=this.element[0].children[L];if(M){this.scroll(M)}},_offsetHeight:function(){var L=0;var M=this.element.prevAll();M.each(function(){var N=A(this);if(N.is(":visible")){if(N.hasClass("k-list-filter")){L+=N.children().height()}else{L+=N.outerHeight()}}});return L},setTouchScroller:function(L){this._touchScroller=L},scroll:function(U){if(!U){return}if(U[0]){U=U[0]}var R=this.element[0],S=U.offsetTop,P=U.offsetHeight,L=R.scrollTop,T=R.clientHeight,Q=S+P,M=this._touchScroller,O,N;if(M){O=M.dimensions.y;O.update(true);if(O.enabled&&S>O.size){S=S-O.size+P+4;M.scrollTo(0,-S)}}else{N=this._offsetHeight();if(L>(S-N)){L=(S-N)}else{if(Q>(L+T+N)){L=(Q-T-N)}}R.scrollTop=L}},selectedDataItems:function(M){var L=this._valueGetter;if(M===k){return this._dataItems.slice()}this._dataItems=M;this._values=A.map(M,function(N){return L(N)})},next:function(){var L=this.focus();if(!L){L=0}else{L=L.next()}this.focus(L)},prev:function(){var L=this.focus();if(!L){L=this.element[0].children.length-1}else{L=L.prev()}this.focus(L)},first:function(){this.focus(this.element[0].children[0])},last:function(){this.focus(this.element[0].children[this.element[0].children.length-1])},focus:function(M){var N=this;var O=N._optionID;var L;if(M===k){return N._current}M=N._get(M);M=M[M.length-1];M=A(this.element[0].children[M]);if(N._current){N._current.removeClass(C).removeAttr("aria-selected").removeAttr(t);N.trigger("deactivate")}L=!!M[0];if(L){M.addClass(C);N.scroll(M);M.attr("id",O)}N._current=L?M:null;N.trigger("activate")},filter:function(M,L){if(M===k){return this._filtered}this._filtered=M},skipUpdate:function(L){this._skipUpdate=L},select:function(Q){var N=this.options.selectable;var M=N!=="multiple"&&N!==false;var O=[];var P=[];var L;if(Q===k){return this._selectedIndices.slice()}Q=this._get(Q);if(Q.length===1&&Q[0]===-1){Q=[]}if(this._filtered&&!M&&this._deselectFiltered(Q)){return}if(M&&!this._filtered&&A.inArray(Q[Q.length-1],this._selectedIndices)!==-1){return}L=this._deselect(Q);P=L.removed;Q=L.indices;if(Q.length){if(M){Q=[Q[Q.length-1]]}O=this._select(Q)}if(O.length||P.length){this.trigger("change",{added:O,removed:P})}},removeAt:function(L){this._selectedIndices.splice(L,1);this._values.splice(L,1);return{position:L,dataItem:this._dataItems.splice(L,1)[0]}},setValue:function(L){if(L===""||L===null){L=[]}L=A.isArray(L)||L instanceof o?L.slice(0):[L];this._values=L},value:function(N){var M=this;var L=M._valueDeferred;var O;if(N===k){return M._values.slice()}M.setValue(N);if(!L||L.state()==="resolved"){M._valueDeferred=L=A.Deferred()}if(M.isBound()){O=M._valueIndices(M._values);if(M.options.selectable==="multiple"){M.select(-1)}M.select(O);L.resolve()}M._skipUpdate=false;return L},_click:function(L){if(!L.isDefaultPrevented()){this.trigger("click",{item:A(L.currentTarget)})}},_dataItemPosition:function(O,M){var P=this._valueGetter(O);var N=-1;for(var L=0;L<M.length;L++){if(P==M[L]){N=L;break}}return N},_updateIndices:function(P,M){var O=this._view;var L=0;var N;if(!M.length){return[]}for(;L<O.length;L++){N=this._dataItemPosition(O[L].item,M);if(N!==-1){P[N]=L}}return this._normalizeIndices(P)},_valueIndices:function(L){var M=[];return this._updateIndices(M,L)},_getter:function(){this._valueGetter=B.getter(this.options.dataValueField)},_deselect:function(X){var T=this;var L=T.element[0].children;var U=T.options.selectable;var M=T._selectedIndices;var V=T._dataItems;var W=T._values;var S=[];var Q=0;var P;var R,N;var O=0;X=X.slice();if(U===true||!X.length){for(;Q<M.length;Q++){A(L[M[Q]]).removeClass("k-state-selected");S.push({position:Q,dataItem:V[Q]})}T._values=[];T._dataItems=[];T._selectedIndices=[]}else{if(U==="multiple"){for(;Q<X.length;Q++){R=X[Q];if(!A(L[R]).hasClass("k-state-selected")){continue}for(P=0;P<M.length;P++){N=M[P];if(N===R){A(L[N]).removeClass("k-state-selected");S.push({position:P+O,dataItem:V.splice(P,1)[0]});M.splice(P,1);X.splice(Q,1);W.splice(P,1);O+=1;Q-=1;P-=1;break}}}}}return{indices:X,removed:S}},_deselectFiltered:function(R){var P=this.element[0].children;var O,N,M;var Q=[];var L=0;for(;L<R.length;L++){N=R[L];O=this._view[N].item;M=this._dataItemPosition(O,this._values);if(M>-1){Q.push(this.removeAt(M));A(P[N]).removeClass("k-state-selected")}}if(Q.length){this.trigger("change",{added:[],removed:Q});return true}return false},_select:function(S){var Q=this;var O=Q.element[0].children;var R=Q._view;var N,M;var P=[];var L=0;if(S[S.length-1]!==-1){Q.focus(S)}for(;L<S.length;L++){M=S[L];N=R[M];if(M===-1||!N){continue}N=N.item;Q._selectedIndices.push(M);Q._dataItems.push(N);Q._values.push(Q._valueGetter(N));A(O[M]).addClass("k-state-selected").attr("aria-selected",true);P.push({dataItem:N})}return P},_get:function(L){if(typeof L==="number"){L=[L]}else{if(!u(L)){L=A(L).data("offset-index");if(L===k){L=-1}L=[L]}}return L},_template:function(){var N=this;var L=N.options;var M=L.template;if(!M){M=B.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+B.expr(L.dataTextField,"data")+"}</li>",{useWithBlock:false})}else{M=B.template(M);M=function(O){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+M(O)+"</li>"}}return M},_templates:function(){var N;var M={template:this.options.template,groupTemplate:this.options.groupTemplate,fixedGroupTemplate:this.options.fixedGroupTemplate};for(var L in M){N=M[L];if(N&&typeof N!=="function"){M[L]=B.template(N)}}this.templates=M},_normalizeIndices:function(N){var M=[];var L=0;for(;L<N.length;L++){if(N[L]!==k){M.push(N[L])}}return M},_firstVisibleItem:function(){var N=this.element[0];var Q=N.scrollTop;var R=A(N.children[0]).height();var O=Math.floor(Q/R)||0;var P=N.children[O]||N.lastChild;var L=this._offsetHeight();var M=(P.offsetTop-L)<Q;while(P){if(M){if((P.offsetTop+R-L)>Q||!P.nextSibling){break}P=P.nextSibling}else{if((P.offsetTop-L)<=Q||!P.previousSibling){break}P=P.previousSibling}}return this._view[A(P).data("offset-index")]},_fixedHeader:function(){if(this.dataSource.group().length&&this.templates.fixedGroupTemplate){this.header.show();this.element.scroll(this._onScroll)}else{this.header.hide();this.element.off("scroll",this._onScroll)}},_renderHeader:function(){var L=this.templates.fixedGroupTemplate;if(!L){return}var M=this._firstVisibleItem();if(M){this.header.html(L(M.group))}},_renderItem:function(N){var P='<li tabindex="-1" role="option" unselectable="on" class="k-item';var M=N.item;var L=N.index!==0;var O=N.selected;if(L&&N.newGroup){P+=" k-first"}if(O){P+=" k-state-selected"}P+='"'+(O?' aria-selected="true"':"")+' data-offset-index="'+N.index+'">';P+=this.templates.template(M);if(L&&N.newGroup){P+='<div class="k-group">'+this.templates.groupTemplate(N.group)+"</div>"}return P+"</li>"},_render:function(){var Q="";var P=0;var S=0;var L;var M=[];var R=this.dataSource.view();var V=this.value();var U,N,O;var T=this.dataSource.group().length;if(T){for(P=0;P<R.length;P++){U=R[P];N=true;for(O=0;O<U.items.length;O++){L={selected:this._selected(U.items[O],V),item:U.items[O],group:U.value,newGroup:N,index:S};M[S]=L;S+=1;Q+=this._renderItem(L);N=false}}}else{for(P=0;P<R.length;P++){L={selected:this._selected(R[P],V),item:R[P],index:P};M[P]=L;Q+=this._renderItem(L)}}this._view=M;this.element[0].innerHTML=Q;if(T&&M.length){this._renderHeader()}},_selected:function(N,M){var L=!this._filtered||this.options.selectable==="multiple";return L&&this._dataItemPosition(N,M)!==-1},refresh:function(O){var M=this;var L;var N=O&&O.action;M.trigger("dataBinding");M._render();M._bound=true;if(N==="itemchange"){L=h(M._dataItems,O.items);if(L.length){M.trigger("selectedItemChange",{items:L})}}else{if(M._filtered||M._skipUpdate){M.focus(0);if(M._skipUpdate){M._skipUpdate=false;M._updateIndices(M._selectedIndices,M._values)}}else{if(!N){M.value(M._values)}}}if(M._valueDeferred){M._valueDeferred.resolve()}M.trigger("dataBound")},isBound:function(){return this._bound}});D.plugin(I);function h(Q,R){var O=R.length;var L=[];var N;var P,M;for(P=0;P<Q.length;P++){N=Q[P];for(M=0;M<O;M++){if(N===R[M]){L.push({index:P,item:N})}}}return L}function c(O,N){var L;var M=false;if(O.filters){L=A.grep(O.filters,function(P){M=c(P,N);if(P.filters){return P.filters.length}else{return P.field!=N}});if(!M&&O.filters.length!==L.length){M=true}O.filters=L}return M}})(window.kendo.jQuery);(function(X,x){var Z=window.kendo,ag=Z.support,ae=Z.ui,i=ae.Widget,R=Z.keys,D=Z.parseDate,g=Z.date.adjustDST,r=Z._extractFormat,k=Z.template,B=Z.getCulture,n=Z.support.transitions,au=n?n.css+"transform-origin":"",O=k('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:false}),S=k('<td role="gridcell">&nbsp;</td>',{useWithBlock:false}),f=Z.support.browser,at=f.msie&&f.version<9,ap=".kendoCalendar",ai="click"+ap,ah="keydown"+ap,L="id",J="min",M="left",h="slideIn",p="month",C="century",V="change",o="navigate",ao="value",F="k-state-hover",U="k-state-disabled",ac="k-state-focused",N="k-other-month",P=' class="'+N+'"',I="k-nav-today",Q="td:has(.k-link)",ad="blur"+ap,ar="focus",K=ar+ap,m=ag.touch?"touchstart":"mouseenter",ab=ag.touch?"touchstart"+ap:"mouseenter"+ap,A=ag.touch?"touchend"+ap+" touchmove"+ap:"mouseleave"+ap,Y=60000,l=86400000,af="_prevArrow",an="_nextArrow",s="aria-disabled",j="aria-selected",al=X.proxy,w=X.extend,v=Date,d={month:0,year:1,decade:2,century:3};var z=i.extend({init:function(aw,av){var ax=this,ay,az;i.fn.init.call(ax,aw,av);aw=ax.wrapper=ax.element;av=ax.options;av.url=window.unescape(av.url);ax._templates();ax._header();ax._footer(ax.footer);az=aw.addClass("k-widget k-calendar").on(ab+" "+A,Q,y).on(ah,"table.k-content",al(ax._move,ax)).on(ai,Q,function(aB){var aA=aB.currentTarget.firstChild;if(aA.href.indexOf("#")!=-1){aB.preventDefault()}ax._click(X(aA))}).on("mouseup"+ap,"table.k-content, .k-footer",function(){ax._focusView(ax.options.focusOnNav!==false)}).attr(L);if(az){ax._cellID=az+"_cell_selected"}ak(av);ay=D(av.value,av.format,av.culture);ax._index=d[av.start];ax._current=new v(+b(ay,av.min,av.max));ax._addClassProxy=function(){ax._active=true;ax._cell.addClass(ac)};ax._removeClassProxy=function(){ax._active=false;ax._cell.removeClass(ac)};ax.value(ay);Z.notify(ax)},options:{name:"Calendar",value:null,min:new v(1900,0,1),max:new v(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:p,depth:p,animation:{horizontal:{effects:h,reverse:true,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[V,o],setOptions:function(av){var aw=this;ak(av);if(!av.dates[0]){av.dates=aw.options.dates}i.fn.setOptions.call(aw,av);aw._templates();aw._footer(aw.footer);aw._index=d[aw.options.start];aw.navigate()},destroy:function(){var aw=this,av=aw._today;aw.element.off(ap);aw._title.off(ap);aw[af].off(ap);aw[an].off(ap);Z.destroy(aw._table);if(av){Z.destroy(av.off(ap))}i.fn.destroy.call(aw)},current:function(){return this._current},view:function(){return this._view},focus:function(av){av=av||this._table;this._bindTable(av);av.focus()},min:function(av){return this._option(J,av)},max:function(av){return this._option("max",av)},navigateToPast:function(){this._navigate(af,-1)},navigateToFuture:function(){this._navigate(an,1)},navigateUp:function(){var aw=this,av=aw._index;if(aw._title.hasClass(U)){return}aw.navigate(aw._current,++av)},navigateDown:function(ax){var aw=this,av=aw._index,ay=aw.options.depth;if(!ax){return}if(av===d[ay]){if(+aw._value!=+ax){aw.value(ax);aw.trigger(V)}return}aw.navigate(ax,--av)},navigate:function(aF,aD){aD=isNaN(aD)?d[aD]:aD;var aB=this,ay=aB.options,aJ=ay.culture,aG=ay.min,aI=ay.max,aL=aB._title,aH=aB._table,av=aB._oldTable,aE=aB._value,aC=aB._current,aA=aF&&+aF>+aC,aw=aD!==x&&aD!==aB._index,ax,aM,aK,az;if(!aF){aF=aC}aB._current=aF=new v(+b(aF,aG,aI));if(aD===x){aD=aB._index}else{aB._index=aD}aB._view=aM=aj.views[aD];aK=aM.compare;az=aD===d[C];aL.toggleClass(U,az).attr(s,az);az=aK(aF,aG)<1;aB[af].toggleClass(U,az).attr(s,az);az=aK(aF,aI)>-1;aB[an].toggleClass(U,az).attr(s,az);if(aH&&av&&av.data("animating")){av.kendoStop(true,true);aH.kendoStop(true,true)}aB._oldTable=aH;if(!aH||aB._changeView){aL.html(aM.title(aF,aG,aI,aJ));aB._table=ax=X(aM.content(w({min:aG,max:aI,date:aF,url:ay.url,dates:ay.dates,format:ay.format,culture:aJ},aB[aM.name])));am(ax);aB._animate({from:aH,to:ax,vertical:aw,future:aA});aB._focus(aF);aB.trigger(o)}if(aD===d[ay.depth]&&aE){aB._class("k-state-selected",aM.toDateString(aE))}aB._class(ac,aM.toDateString(aF));if(!aH&&aB._cell){aB._cell.removeClass(ac)}aB._changeView=true},value:function(aB){var aA=this,ax=aA._view,ay=aA.options,aw=aA._view,az=ay.min,av=ay.max;if(aB===x){return aA._value}aB=D(aB,ay.format,ay.culture);if(aB!==null){aB=new v(+aB);if(!aa(aB,az,av)){aB=null}}aA._value=aB;if(aw&&aB===null&&aA._cell){aA._cell.removeClass("k-state-selected")}else{aA._changeView=!aB||ax&&ax.compare(aB,aA._current)!==0;aA.navigate(aB)}},_move:function(ay){var aw=this,aG=aw.options,aE=ay.keyCode,aB=aw._view,ax=aw._index,aD=new v(+aw._current),az=Z.support.isRtl(aw.wrapper),aC,aA,av,aF;if(ay.target===aw._table[0]){aw._active=true}if(ay.ctrlKey){if(aE==R.RIGHT&&!az||aE==R.LEFT&&az){aw.navigateToFuture();aA=true}else{if(aE==R.LEFT&&!az||aE==R.RIGHT&&az){aw.navigateToPast();aA=true}else{if(aE==R.UP){aw.navigateUp();aA=true}else{if(aE==R.DOWN){aw._click(X(aw._cell[0].firstChild));aA=true}}}}}else{if(aE==R.RIGHT&&!az||aE==R.LEFT&&az){aC=1;aA=true}else{if(aE==R.LEFT&&!az||aE==R.RIGHT&&az){aC=-1;aA=true}else{if(aE==R.UP){aC=ax===0?-7:-4;aA=true}else{if(aE==R.DOWN){aC=ax===0?7:4;aA=true}else{if(aE==R.ENTER){aw._click(X(aw._cell[0].firstChild));aA=true}else{if(aE==R.HOME||aE==R.END){av=aE==R.HOME?"first":"last";aF=aB[av](aD);aD=new v(aF.getFullYear(),aF.getMonth(),aF.getDate(),aD.getHours(),aD.getMinutes(),aD.getSeconds(),aD.getMilliseconds());aA=true}else{if(aE==R.PAGEUP){aA=true;aw.navigateToPast()}else{if(aE==R.PAGEDOWN){aA=true;aw.navigateToFuture()}}}}}}}}if(aC||av){if(!av){aB.setDate(aD,aC)}aw._focus(b(aD,aG.min,aG.max))}}if(aA){ay.preventDefault()}return aw._current},_animate:function(av){var aw=this,az=av.from,ay=av.to,ax=aw._active;if(!az){ay.insertAfter(aw.element[0].firstChild);aw._bindTable(ay)}else{if(az.parent().data("animating")){az.off(ap);az.parent().kendoStop(true,true).remove();az.remove();ay.insertAfter(aw.element[0].firstChild);aw._focusView(ax)}else{if(!az.is(":visible")||aw.options.animation===false){ay.insertAfter(az);az.off(ap).remove();aw._focusView(ax)}else{aw[av.vertical?"_vertical":"_horizontal"](az,ay,av.future)}}}},_horizontal:function(aC,aB,av){var az=this,aA=az._active,aw=az.options.animation.horizontal,ay=aw.effects,ax=aC.outerWidth();if(ay&&ay.indexOf(h)!=-1){aC.add(aB).css({width:ax});aC.wrap("<div/>");az._focusView(aA,aC);aC.parent().css({position:"relative",width:ax*2,"float":M,"margin-left":av?0:-ax});aB[av?"insertAfter":"insertBefore"](aC);w(aw,{effects:h+":"+(av?"right":M),complete:function(){aC.off(ap).remove();az._oldTable=null;aB.unwrap();az._focusView(aA)}});aC.parent().kendoStop(true,true).kendoAnimate(aw)}},_vertical:function(aC,aB){var az=this,ax=az.options.animation.vertical,ay=ax.effects,aA=az._active,aw,av;if(ay&&ay.indexOf("zoom")!=-1){aB.css({position:"absolute",top:aC.prev().outerHeight(),left:0}).insertBefore(aC);if(au){aw=az._cellByDate(az._view.toDateString(az._current));av=aw.position();av=(av.left+parseInt(aw.width()/2,10))+"px "+(av.top+parseInt(aw.height()/2,10)+"px");aB.css(au,av)}aC.kendoStop(true,true).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){aC.off(ap).remove();az._oldTable=null;aB.css({position:"static",top:0,left:0});az._focusView(aA)}});aB.kendoStop(true,true).kendoAnimate(ax)}},_cellByDate:function(av){return this._table.find("td:not(."+N+")").filter(function(){return X(this.firstChild).attr(Z.attr(ao))===av})},_class:function(aw,ay){var ax=this,az=ax._cellID,av=ax._cell;if(av){av.removeAttr(j).removeAttr("aria-label").removeAttr(L)}av=ax._table.find("td:not(."+N+")").removeClass(aw).filter(function(){return X(this.firstChild).attr(Z.attr(ao))===ay}).attr(j,true);if(aw===ac&&!ax._active&&ax.options.focusOnNav!==false){aw=""}av.addClass(aw);if(av[0]){ax._cell=av}if(az){av.attr(L,az);ax._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",az)}},_bindTable:function(av){av.on(K,this._addClassProxy).on(ad,this._removeClassProxy)},_click:function(ay){var ax=this,av=ax.options,aw=new Date(+ax._current),az=ay.attr(Z.attr(ao)).split("/");az=new v(az[0],az[1],az[2]);g(az,0);ax._view.setDate(aw,az);ax.navigateDown(b(aw,av.min,av.max))},_focus:function(ax){var aw=this,av=aw._view;if(av.compare(ax,aw._current)!==0){aw.navigate(ax)}else{aw._current=ax;aw._class(ac,av.toDateString(ax))}},_focusView:function(aw,av){if(aw){this.focus(av)}},_footer:function(ax){var ay=this,av=u(),aw=ay.element,az=aw.find(".k-footer");if(!ax){ay._toggle(false);az.hide();return}if(!az[0]){az=X('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(aw)}ay._today=az.show().find(".k-link").html(ax(av)).attr("title",Z.toString(av,"D",ay.options.culture));ay._toggle()},_header:function(){var ax=this,aw=ax.element,av;if(!aw.find(".k-header")[0]){aw.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a></div>')}av=aw.find(".k-link").on(ab+" "+A+" "+K+" "+ad,y).click(false);ax._title=av.eq(1).on(ai,function(){ax._active=ax.options.focusOnNav!==false;ax.navigateUp()});ax[af]=av.eq(0).on(ai,function(){ax._active=ax.options.focusOnNav!==false;ax.navigateToPast()});ax[an]=av.eq(2).on(ai,function(){ax._active=ax.options.focusOnNav!==false;ax.navigateToFuture()})},_navigate:function(az,av){var ay=this,aw=ay._index+1,ax=new v(+ay._current);az=ay[az];if(!az.hasClass(U)){if(aw>3){ax.setFullYear(ax.getFullYear()+100*av)}else{aj.views[aw].setDate(ax,av)}ay.navigate(ax)}},_option:function(ax,aA){var ay=this,av=ay.options,aw=ay._value||ay._current,az;if(aA===x){return av[ax]}aA=D(aA,av.format,av.culture);if(!aA){return}av[ax]=new v(+aA);if(ax===J){az=aA>aw}else{az=aw>aA}if(az||t(aw,aA)){if(az){ay._value=null}ay._changeView=true}if(!ay._changeView){ay._changeView=!!(av.month.content||av.month.empty)}ay.navigate(ay._value);ay._toggle()},_toggle:function(av){var ay=this,aw=ay.options,ax=ay._today;if(av===x){av=aa(u(),aw.min,aw.max)}if(ax){ax.off(ai);if(av){ax.addClass(I).removeClass(U).on(ai,al(ay._todayClick,ay))}else{ax.removeClass(I).addClass(U).on(ai,e)}}},_todayClick:function(ax){var aw=this,ay=d[aw.options.depth],av=u();ax.preventDefault();if(aw._view.compare(aw._current,av)===0&&aw._index==ay){aw._changeView=false}aw._value=av;aw.navigate(av,ay);aw.trigger(V)},_templates:function(){var ax=this,av=ax.options,aA=av.footer,az=av.month,aw=az.content,ay=az.empty;ax.month={content:k('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+Z.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(aw||"#=data.value#")+"</a></td>",{useWithBlock:!!aw}),empty:k('<td role="gridcell">'+(ay||"&nbsp;")+"</td>",{useWithBlock:!!ay})};ax.footer=aA!==false?k(aA||'#= kendo.toString(data,"D","'+av.culture+'") #',{useWithBlock:false}):null}});ae.plugin(z);var aj={firstDayOfMonth:function(av){return new v(av.getFullYear(),av.getMonth(),1)},firstVisibleDay:function(ay,av){av=av||Z.culture().calendar;var aw=av.firstDay,ax=new v(ay.getFullYear(),ay.getMonth(),0,ay.getHours(),ay.getMinutes(),ay.getSeconds(),ay.getMilliseconds());while(ax.getDay()!=aw){aj.setTime(ax,-1*l)}return ax},setTime:function(av,az){var aw=av.getTimezoneOffset(),ay=new v(av.getTime()+az),ax=ay.getTimezoneOffset()-aw;av.setTime(ay.getTime()+ax*Y)},views:[{name:p,title:function(ax,ay,av,aw){return E(aw).months.names[ax.getMonth()]+" "+ax.getFullYear()},content:function(aw){var aE=this,aI=0,aJ=aw.min,aM=aw.max,aQ=aw.date,aA=aw.dates,aN=aw.format,aO=aw.culture,aD=aw.url,ay=aD&&aA[0],av=E(aO),aL=av.firstDay,aC=av.days,aH=G(aC.names,aL),ax=G(aC.namesShort,aL),az=aj.firstVisibleDay(aQ,av),aK=aE.first(aQ),aB=aE.last(aQ),aG=aE.toDateString,aP=new v(),aF='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';for(;aI<7;aI++){aF+='<th scope="col" title="'+aH[aI]+'">'+ax[aI]+"</th>"}aP=new v(aP.getFullYear(),aP.getMonth(),aP.getDate());g(aP,0);aP=+aP;return c({cells:42,perRow:7,html:aF+='</tr></thead><tbody><tr role="row">',start:new v(az.getFullYear(),az.getMonth(),az.getDate()),min:new v(aJ.getFullYear(),aJ.getMonth(),aJ.getDate()),max:new v(aM.getFullYear(),aM.getMonth(),aM.getDate()),content:aw.content,empty:aw.empty,setter:aE.setDate,build:function(aU){var aR=[],aS=aU.getDay(),aV="",aT="#";if(aU<aK||aU>aB){aR.push(N)}if(+aU===aP){aR.push("k-today")}if(aS===0||aS===6){aR.push("k-weekend")}if(ay&&aq(+aU,aA)){aT=aD.replace("{0}",Z.toString(aU,aN,aO));aV=" k-action-link"}return{date:aU,dates:aA,ns:Z.ns,title:Z.toString(aU,"D",aO),value:aU.getDate(),dateString:aG(aU),cssClass:aR[0]?' class="'+aR.join(" ")+'"':"",linkClass:aV,url:aT}}})},first:function(av){return aj.firstDayOfMonth(av)},last:function(aw){var ax=new v(aw.getFullYear(),aw.getMonth()+1,0),ay=aj.firstDayOfMonth(aw),av=Math.abs(ax.getTimezoneOffset()-ay.getTimezoneOffset());if(av){ax.setHours(ay.getHours()+(av/60))}return ax},compare:function(aA,az){var aw,av=aA.getMonth(),ay=aA.getFullYear(),aB=az.getMonth(),ax=az.getFullYear();if(ay>ax){aw=1}else{if(ay<ax){aw=-1}else{aw=av==aB?0:av>aB?1:-1}}return aw},setDate:function(aw,ax){var av=aw.getHours();if(ax instanceof v){aw.setFullYear(ax.getFullYear(),ax.getMonth(),ax.getDate())}else{aj.setTime(aw,ax*l)}g(aw,av)},toDateString:function(av){return av.getFullYear()+"/"+av.getMonth()+"/"+av.getDate()}},{name:"year",title:function(av){return av.getFullYear()},content:function(ax){var az=E(ax.culture).months.namesAbbr,aw=this.toDateString,ay=ax.min,av=ax.max;return c({min:new v(ay.getFullYear(),ay.getMonth(),1),max:new v(av.getFullYear(),av.getMonth(),1),start:new v(ax.date.getFullYear(),0,1),setter:this.setDate,build:function(aA){return{value:az[aA.getMonth()],ns:Z.ns,dateString:aw(aA),cssClass:""}}})},first:function(av){return new v(av.getFullYear(),0,av.getDate())},last:function(av){return new v(av.getFullYear(),11,av.getDate())},compare:function(aw,av){return q(aw,av)},setDate:function(aw,ax){var ay,av=aw.getHours();if(ax instanceof v){ay=ax.getMonth();aw.setFullYear(ax.getFullYear(),ay,aw.getDate());if(ay!==aw.getMonth()){aw.setDate(0)}}else{ay=aw.getMonth()+ax;aw.setMonth(ay);if(ay>11){ay-=12}if(ay>0&&aw.getMonth()!=ay){aw.setDate(0)}}g(aw,av)},toDateString:function(av){return av.getFullYear()+"/"+av.getMonth()+"/1"}},{name:"decade",title:function(aw,ax,av){return W(aw,ax,av,10)},content:function(aw){var ax=aw.date.getFullYear(),av=this.toDateString;return c({start:new v(ax-ax%10-1,0,1),min:new v(aw.min.getFullYear(),0,1),max:new v(aw.max.getFullYear(),0,1),setter:this.setDate,build:function(az,ay){return{value:az.getFullYear(),ns:Z.ns,dateString:av(az),cssClass:ay===0||ay==11?P:""}}})},first:function(av){var aw=av.getFullYear();return new v(aw-aw%10,av.getMonth(),av.getDate())},last:function(av){var aw=av.getFullYear();return new v(aw-aw%10+9,av.getMonth(),av.getDate())},compare:function(aw,av){return q(aw,av,10)},setDate:function(av,aw){H(av,aw,1)},toDateString:function(av){return av.getFullYear()+"/0/1"}},{name:C,title:function(aw,ax,av){return W(aw,ax,av,100)},content:function(ay){var aA=ay.date.getFullYear(),az=ay.min.getFullYear(),aw=ay.max.getFullYear(),ax=this.toDateString,aB=az,av=aw;aB=aB-aB%10;av=av-av%10;if(av-aB<10){av=aB+9}return c({start:new v(aA-aA%100-10,0,1),min:new v(aB,0,1),max:new v(av,0,1),setter:this.setDate,build:function(aE,aC){var aF=aE.getFullYear(),aD=aF+9;if(aF<az){aF=az}if(aD>aw){aD=aw}return{ns:Z.ns,value:aF+" - "+aD,dateString:ax(aE),cssClass:aC===0||aC==11?P:""}}})},first:function(av){var aw=av.getFullYear();return new v(aw-aw%100,av.getMonth(),av.getDate())},last:function(av){var aw=av.getFullYear();return new v(aw-aw%100+99,av.getMonth(),av.getDate())},compare:function(aw,av){return q(aw,av,100)},setDate:function(av,aw){H(av,aw,10)},toDateString:function(av){var aw=av.getFullYear();return(aw-aw%10)+"/0/1"}}]};function W(ay,az,aw,aA){var aC=ay.getFullYear(),aB=az.getFullYear(),av=aw.getFullYear(),ax;aC=aC-aC%aA;ax=aC+(aA-1);if(aC<aB){aC=aB}if(ax>av){ax=av}return aC+"-"+ax}function c(aH){var aF=0,aA,az=aH.min,aE=aH.max,av=aH.start,ax=aH.setter,aG=aH.build,aw=aH.cells||12,ay=aH.perRow||4,aD=aH.content||O,aC=aH.empty||S,aB=aH.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';for(;aF<aw;aF++){if(aF>0&&aF%ay===0){aB+='</tr><tr role="row">'}aA=aG(av,aF);aB+=aa(av,az,aE)?aD(aA):aC(aA);ax(av,1)}return aB+"</tr></tbody></table>"}function q(aA,az,aw){var ay=aA.getFullYear(),aB=az.getFullYear(),ax=aB,av=0;if(aw){aB=aB-aB%aw;ax=aB-aB%aw+aw-1}if(ay>ax){av=1}else{if(ay<aB){av=-1}}return av}function u(){var av=new v();return new v(av.getFullYear(),av.getMonth(),av.getDate())}function b(ay,ax,av){var aw=u();if(ay){aw=new v(+ay)}if(ax>aw){aw=new v(+ax)}else{if(av<aw){aw=new v(+av)}}return aw}function aa(aw,ax,av){return +aw>=+ax&&+aw<=+av}function G(aw,av){return aw.slice(av).concat(aw.slice(0,av))}function H(av,aw,ax){aw=aw instanceof v?aw.getFullYear():av.getFullYear()+ax*aw;av.setFullYear(aw)}function y(av){X(this).toggleClass(F,m.indexOf(av.type)>-1||av.type==ar)}function e(av){av.preventDefault()}function E(av){return B(av).calendars.standard}function ak(aw){var ay=d[aw.start],ax=d[aw.depth],av=B(aw.culture);aw.format=r(aw.format||av.calendars.standard.patterns.d);if(isNaN(ay)){ay=0;aw.start=p}if(ax===x||ax>ay){aw.depth=p}if(!aw.dates){aw.dates=[]}}function am(av){if(at){av.find("*").attr("unselectable","on")}}function aq(av,ay){for(var aw=0,ax=ay.length;aw<ax;aw++){if(av===+ay[aw]){return true}}return false}function T(aw,av){if(aw){return aw.getFullYear()===av.getFullYear()&&aw.getMonth()===av.getMonth()&&aw.getDate()===av.getDate()}return false}function t(aw,av){if(aw){return aw.getFullYear()===av.getFullYear()&&aw.getMonth()===av.getMonth()}return false}aj.isEqualDatePart=T;aj.makeUnselectable=am;aj.restrictValue=b;aj.isInRange=aa;aj.normalize=ak;aj.viewsEnum=d;Z.calendar=aj})(window.kendo.jQuery);(function(A,l){var B=window.kendo,I=B.ui,c=I.Widget,n=B.parseDate,u=B.keys,d=B.template,g=B._activeElement,q="<div />",K="<span />",R=".kendoDatePicker",J="click"+R,O="open",S="close",y="change",o="dateView",x="disabled",h="readonly",M="k-state-default",E="k-state-focused",v="k-state-selected",m="k-state-disabled",p="k-state-hover",U="keydown"+R,e="mouseenter"+R+" mouseleave"+R,F="mousedown"+R,t="id",s="min",T="max",f="month",i="aria-disabled",z="aria-expanded",H="aria-hidden",L="aria-readonly",N=B.calendar,C=N.isInRange,b=N.restrictValue,w=N.isEqualDatePart,k=A.extend,Q=A.proxy,j=Date;function P(V){var X=V.parseFormats,W=V.format;N.normalize(V);X=A.isArray(X)?X:[X];if(A.inArray(W,X)===-1){X.splice(0,0,V.format)}V.parseFormats=X}function D(V){V.preventDefault()}var G=function(W){var X=this,Z,V=document.body,Y=A(q).attr(H,"true").addClass("k-calendar-container").appendTo(V);X.options=W=W||{};Z=W.id;if(Z){Z+="_dateview";Y.attr(t,Z);X._dateViewID=Z}X.popup=new I.Popup(Y,k(W.popup,W,{name:"Popup",isRtl:B.support.isRtl(W.anchor)}));X.div=Y;X.value(W.value)};G.prototype={_calendar:function(){var W=this;var X=W.calendar;var V=W.options;var Y;if(!X){Y=A(q).attr(t,B.guid()).appendTo(W.popup.element).on(F,D).on(J,"td:has(.k-link)",Q(W._click,W));W.calendar=X=new I.Calendar(Y);W._setOptions(V);B.calendar.makeUnselectable(X.element);X.navigate(W._value||W._current,V.start);W.value(W._value)}},_setOptions:function(V){this.calendar.setOptions({focusOnNav:false,change:V.change,culture:V.culture,dates:V.dates,depth:V.depth,footer:V.footer,format:V.format,max:V.max,min:V.min,month:V.month,start:V.start})},setOptions:function(W){var V=this.options;this.options=k(V,W,{change:V.change,close:V.close,open:V.open});if(this.calendar){this._setOptions(this.options)}},destroy:function(){this.popup.destroy()},open:function(){var V=this;V._calendar();V.popup.open()},close:function(){this.popup.close()},min:function(V){this._option(s,V)},max:function(V){this._option(T,V)},toggle:function(){var V=this;V[V.popup.visible()?S:O]()},move:function(Z){var X=this,W=Z.keyCode,Y=X.calendar,V=Z.ctrlKey&&W==u.DOWN||W==u.ENTER;if(W==u.ESC){X.close();return}if(Z.altKey){if(W==u.DOWN){X.open();Z.preventDefault()}else{if(W==u.UP){X.close();Z.preventDefault()}}return}if(!X.popup.visible()){return}if(V&&Y._cell.hasClass(v)){X.close();Z.preventDefault();return}X._current=Y._move(Z)},current:function(V){this._current=V;this.calendar._focus(V)},value:function(X){var W=this,Y=W.calendar,V=W.options;W._value=X;W._current=new j(+b(X,V.min,V.max));if(Y){Y.value(X)}},_click:function(V){if(V.currentTarget.className.indexOf(v)!==-1){this.close()}},_option:function(V,X){var W=this;var Y=W.calendar;W.options[V]=X;if(Y){Y[V](X)}}};G.normalize=P;B.DateView=G;var r=c.extend({init:function(W,V){var Y=this,X,aa;c.fn.init.call(Y,W,V);W=Y.element;V=Y.options;V.min=n(W.attr("min"))||n(V.min);V.max=n(W.attr("max"))||n(V.max);P(V);Y._wrapper();Y.dateView=new G(k({},V,{id:W.attr(t),anchor:Y.wrapper,change:function(){Y._change(this.value());Y.close()},close:function(ab){if(Y.trigger(S)){ab.preventDefault()}else{W.attr(z,false);aa.attr(H,true)}},open:function(ad){var ac=Y.options,ab;if(Y.trigger(O)){ad.preventDefault()}else{if(Y.element.val()!==Y._oldText){ab=n(W.val(),ac.parseFormats,ac.culture);Y.dateView[ab?"current":"value"](ab)}W.attr(z,true);aa.attr(H,false);Y._updateARIA(ab)}}}));aa=Y.dateView.div;Y._icon();try{W[0].setAttribute("type","text")}catch(Z){W[0].type="text"}W.addClass("k-input").attr({role:"combobox","aria-expanded":false,"aria-owns":Y.dateView._dateViewID});Y._reset();Y._template();X=W.is("[disabled]");if(X){Y.enable(false)}else{Y.readonly(W.is("[readonly]"))}Y._old=Y._update(V.value||Y.element.val());Y._oldText=W.val();B.notify(Y)},events:[O,S,y],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:f,depth:f,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(V){var W=this;var X=W._value;c.fn.setOptions.call(W,V);V=W.options;V.min=n(V.min);V.max=n(V.max);P(V);W.dateView.setOptions(V);if(X){W.element.val(B.toString(X,V.format,V.culture));W._updateARIA(X)}},_editable:function(X){var aa=this,Z=aa._dateIcon.off(R),Y=aa.element.off(R),ab=aa._inputWrapper.off(R),V=X.readonly,W=X.disable;if(!V&&!W){ab.addClass(M).removeClass(m).on(e,aa._toggleHover);Y.removeAttr(x).removeAttr(h).attr(i,false).attr(L,false).on("keydown"+R,Q(aa._keydown,aa)).on("focusout"+R,Q(aa._blur,aa)).on("focus"+R,function(){aa._inputWrapper.addClass(E)});Z.on(J,Q(aa._click,aa)).on(F,D)}else{ab.addClass(W?m:M).removeClass(W?M:m);Y.attr(x,W).attr(h,V).attr(i,W).attr(L,V)}},readonly:function(V){this._editable({readonly:V===l?true:V,disable:false})},enable:function(V){this._editable({readonly:false,disable:!(V=V===l?true:V)})},destroy:function(){var V=this;c.fn.destroy.call(V);V.dateView.destroy();V.element.off(R);V._dateIcon.off(R);V._inputWrapper.off(R);if(V._form){V._form.off("reset",V._resetHandler)}},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(V){return this._option(s,V)},max:function(V){return this._option(T,V)},value:function(W){var V=this;if(W===l){return V._value}V._old=V._update(W);if(V._old===null){V.element.val("")}V._oldText=V.element.val()},_toggleHover:function(V){A(V.currentTarget).toggleClass(p,V.type==="mouseenter")},_blur:function(){var V=this,W=V.element.val();V.close();if(W!==V._oldText){V._change(W)}V._inputWrapper.removeClass(E)},_click:function(){var W=this,V=W.element;W.dateView.toggle();if(!B.support.touch&&V[0]!==g()){V.focus()}},_change:function(W){var V=this;W=V._update(W);if(+V._old!=+W){V._old=W;V._oldText=V.element.val();V.element.trigger(y);V.trigger(y)}},_keydown:function(Y){var W=this,V=W.dateView,X=W.element.val();if(!V.popup.visible()&&Y.keyCode==u.ENTER&&X!==W._oldText){W._change(X)}else{V.move(Y);W._updateARIA(V._current)}},_icon:function(){var X=this,V=X.element,W;W=V.next("span.k-select");if(!W[0]){W=A('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span></span>').insertAfter(V)}X._dateIcon=W.attr({role:"button","aria-controls":X.dateView._dateViewID})},_option:function(W,Y){var X=this,V=X.options;if(Y===l){return V[W]}Y=n(Y,V.parseFormats,V.culture);if(!Y){return}V[W]=new j(+Y);X.dateView[W](Y)},_update:function(ac){var Z=this,ad=Z.options,X=ad.min,ab=ad.max,aa=Z._value,V=n(ac,ad.parseFormats,ad.culture),W=(V===null&&aa===null)||(V instanceof Date&&aa instanceof Date),Y;if(+V===+aa&&W){Y=B.toString(V,ad.format,ad.culture);if(Y!==ac){Z.element.val(V===null?ac:Y)}return V}if(V!==null&&w(V,X)){V=b(V,X,ab)}else{if(!C(V,X,ab)){V=null}}Z._value=V;Z.dateView.value(V);Z.element.val(V?B.toString(V,ad.format,ad.culture):ac);Z._updateARIA(V);return V},_wrapper:function(){var W=this,V=W.element,X;X=V.parents(".k-datepicker");if(!X[0]){X=V.wrap(K).parent().addClass("k-picker-wrap k-state-default");X=X.wrap(K).parent()}X[0].style.cssText=V[0].style.cssText;V.css({width:"100%",height:V[0].style.height});W.wrapper=X.addClass("k-widget k-datepicker k-header").addClass(V[0].className);W._inputWrapper=A(X[0].firstChild)},_reset:function(){var X=this,V=X.element,Y=V.attr("form"),W=Y?A("#"+Y):V.closest("form");if(W[0]){X._resetHandler=function(){X.value(V[0].defaultValue)};X._form=W.on("reset",X._resetHandler)}},_template:function(){this._ariaTemplate=d(this.options.ARIATemplate)},_updateARIA:function(W){var V;var X=this;var Y=X.dateView.calendar;X.element.removeAttr("aria-activedescendant");if(Y){V=Y._cell;V.attr("aria-label",X._ariaTemplate({current:W||Y.current()}));X.element.attr("aria-activedescendant",V.attr("id"))}}});I.plugin(r)})(window.kendo.jQuery);(function(f,i){var q=window.kendo,k=q.support,n=q.caret,j=q._activeElement,t=k.placeholder,p=q.ui,b=p.List,o=q.keys,e=q.data.DataSource,d="aria-disabled",z="aria-readonly",y="k-state-default",x="disabled",c="readonly",l="k-state-focused",g="k-state-selected",B="k-state-disabled",m="k-state-hover",A=".kendoAutoComplete",r="mouseenter"+A+" mouseleave"+A,u=f.proxy;function w(C,E,D){return D?E.substring(0,C).split(D).length-1:0}function h(C,E,D){return E.split(D)[w(C,E,D)]}function v(C,G,E,D){var F=G.split(D);F.splice(w(C,G,D),1,E);if(D&&F[F.length-1]!==""){F.push("")}return F.join(D)}var s=b.extend({init:function(D,C){var E=this,F;E.ns=A;C=f.isArray(C)?{dataSource:C}:C;b.fn.init.call(E,D,C);D=E.element;C=E.options;C.placeholder=C.placeholder||D.attr("placeholder");if(t){D.attr("placeholder",C.placeholder)}E._wrapper();E._loader();E._dataSource();E._ignoreCase();D[0].type="text";F=E.wrapper;E._popup();D.addClass("k-input").on("keydown"+A,u(E._keydown,E)).on("paste"+A,u(E._search,E)).on("focus"+A,function(){E._prev=E._accessor();E._placeholder(false);F.addClass(l)}).on("focusout"+A,function(){E._change();E._placeholder();F.removeClass(l)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":true});E._enable();E._old=E._accessor();if(D[0].id){D.attr("aria-owns",E.ul[0].id)}E._aria();E._placeholder();E._initList();q.notify(E)},options:{name:"AutoComplete",enabled:true,suggest:false,template:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:true,highlightFirst:false,separator:null,placeholder:"",animation:{},value:null},_dataSource:function(){var C=this;if(C.dataSource&&C._refreshHandler){C._unbindDataSource()}else{C._progressHandler=u(C._showBusy,C)}C.dataSource=e.create(C.options.dataSource).bind("progress",C._progressHandler)},setDataSource:function(C){this.options.dataSource=C;this._dataSource();this.listView.setDataSource(this.dataSource)},events:["open","close","change","select","filtering","dataBinding","dataBound"],setOptions:function(C){var D=this._listOptions(C);b.fn.setOptions.call(this,C);D.dataValueField=D.dataTextField;this.listView.setOptions(D);this._accessors();this._aria()},_editable:function(E){var G=this,F=G.element,H=G.wrapper.off(A),C=E.readonly,D=E.disable;if(!C&&!D){H.addClass(y).removeClass(B).on(r,G._toggleHover);F.removeAttr(x).removeAttr(c).attr(d,false).attr(z,false)}else{H.addClass(D?B:y).removeClass(D?y:B);F.attr(x,D).attr(c,C).attr(d,D).attr(z,C)}},close:function(){var C=this;var D=C.listView.focus();if(D){D.removeClass(g)}C.popup.close()},destroy:function(){var C=this;C.element.off(A);C.wrapper.off(A);b.fn.destroy.call(C)},refresh:function(){this.listView.refresh()},select:function(C){this._select(C)},search:function(H){var F=this,D=F.options,C=D.ignoreCase,G=D.separator,E;H=H||F._accessor();clearTimeout(F._typing);if(G){H=h(n(F.element)[0],H,G)}E=H.length;if(!E||E>=D.minLength){F._open=true;F.listView.filter(true);F._filterSource({value:C?H.toLowerCase():H,operator:D.filter,field:D.dataTextField,ignoreCase:C})}},suggest:function(C){var H=this,L=H._last,K=H._accessor(),E=H.element[0],G=n(E)[0],F=H.options.separator,I=K.split(F),D=w(G,K,F),M=G,J;if(L==o.BACKSPACE||L==o.DELETE){H._last=i;return}C=C||"";if(typeof C!=="string"){if(C[0]){C=H.dataSource.view()[b.inArray(C[0],H.ul[0])]}C=C?H._text(C):""}if(G<=0){G=K.toLowerCase().indexOf(C.toLowerCase())+1}J=K.substring(0,G).lastIndexOf(F);J=J>-1?G-(J+F.length):G;K=I[D].substring(0,J);if(C){J=C.toLowerCase().indexOf(K.toLowerCase());if(J>-1){C=C.substring(J+K.length);M=G+C.length;K+=C}if(F&&I[I.length-1]!==""){I.push("")}}I[D]=K;H._accessor(I.join(F||""));if(E===j()){n(E,G,M)}},value:function(C){if(C!==i){this.listView.value(C);this._accessor(C);this._old=this._accessor()}else{return this._accessor()}},_click:function(E){var D=E.item;var C=this.element;if(this.trigger("select",{item:D})){this.close();return}this._select(D);this._blur();n(C,C.val().length)},_initList:function(){var F=this;var G=F.options.virtual;var D=!!G;var C=u(F._listBound,F);var E={autoBind:false,selectable:true,dataSource:F.dataSource,click:f.proxy(F._click,this),change:f.proxy(F._listChange,this),activate:u(F._activateItem,F),deactivate:u(F._deactivateItem,F),dataBinding:function(){F.trigger("dataBinding");F._angularItems("cleanup")},dataBound:C,listBound:C};E=f.extend(F._listOptions(),E,typeof G==="object"?G:{});E.dataValueField=E.dataTextField;if(!D){F.listView=new q.ui.StaticList(F.ul,E)}else{F.listView=new q.ui.VirtualList(F.ul,E)}F.listView.value(F.options.value)},_listBound:function(){var G=this;var C=G.popup;var D=G.options;var I=G.dataSource.flatView();var F=I.length;var E=G.element[0]===j();var H;G._angularItems("compile");G.listView.value([]);G.listView.focus(-1);G.listView.filter(false);G._calculateGroupPadding(G._height(F));if(C.visible()){C._position()}if(F){var J=this.listView.focus();if(D.highlightFirst&&!J){G.listView.first()}if(D.suggest&&E){G.suggest(I[0])}}if(G._open){G._open=false;H=F?"open":"close";if(G._typing&&!E){H="close"}C[H]();G._typing=i}if(G._touchScroller){G._touchScroller.reset()}G._hideBusy();G._makeUnselectable();G._hideBusy();G.trigger("dataBound")},_listChange:function(){if(!this.listView.filter()){this._selectValue(this.listView.selectedDataItems()[0])}},_selectValue:function(C){var D=this.options.separator;var E="";if(C){E=this._text(C)}if(E===null){E=""}if(D){E=v(n(this.element)[0],this._accessor(),E,D)}this._prev=E;this._accessor(E);this._placeholder()},_accessor:function(E){var D=this,C=D.element[0];if(E!==i){C.value=E===null?"":E;D._placeholder()}else{E=C.value;if(C.className.indexOf("k-readonly")>-1){if(E===D.options.placeholder){return""}else{return E}}return E}},_keydown:function(F){var D=this;var C=F.keyCode;var G=D.popup.visible();var E=this.listView.focus();D._last=C;if(C===o.DOWN){if(G){this._move(E?"next":"first")}F.preventDefault()}else{if(C===o.UP){if(G){this._move(E?"prev":"last")}F.preventDefault()}else{if(C===o.ENTER||C===o.TAB){if(C===o.ENTER&&G){F.preventDefault()}if(G&&E){if(D.trigger("select",{item:E})){return}this._select(E)}this._blur()}else{if(C===o.ESC){if(G){F.preventDefault()}D.close()}else{D._search()}}}}},_move:function(C){this.listView[C]();if(this.options.suggest){this.suggest(this.listView.focus())}},_hideBusy:function(){var C=this;clearTimeout(C._busy);C._loading.hide();C.element.attr("aria-busy",false);C._busy=null},_showBusy:function(){var C=this;if(C._busy){return}C._busy=setTimeout(function(){C.element.attr("aria-busy",true);C._loading.show()},100)},_placeholder:function(C){if(t){return}var E=this,D=E.element,G=E.options.placeholder,F;if(G){F=D.val();if(C===i){C=!F}if(!C){if(F!==G){G=F}else{G=""}}if(F===E._old&&!C){return}D.toggleClass("k-readonly",C).val(G);if(!G&&D[0]===document.activeElement){n(D[0],0,0)}}},_search:function(){var C=this;clearTimeout(C._typing);C._typing=setTimeout(function(){if(C._prev!==C._accessor()){C._prev=C._accessor();C.search()}},C.options.delay)},_select:function(C){this.listView.select(C)},_loader:function(){this._loading=f('<span class="k-icon k-loading" style="display:none"></span>').insertAfter(this.element)},_toggleHover:function(C){f(C.currentTarget).toggleClass(m,C.type==="mouseenter")},_wrapper:function(){var D=this,C=D.element,F=C[0],E;E=C.parent();if(!E.is("span.k-widget")){E=C.wrap("<span />").parent()}E.attr("tabindex",-1);E.attr("role","presentation");E[0].style.cssText=F.style.cssText;C.css({width:"100%",height:F.style.height});D._focused=D.element;D.wrapper=E.addClass("k-widget k-autocomplete k-header").addClass(F.className)}});p.plugin(s)})(window.kendo.jQuery);(function(f,h){var s=window.kendo,r=s.ui,p=r.Select,k=s.support,i=s._activeElement,c=s.data.ObservableObject,o=s.keys,z=".kendoDropDownList",w="disabled",b="readonly",n="change",l="k-state-focused",x="k-state-default",A="k-state-disabled",d="aria-disabled",y="aria-readonly",g="k-state-selected",t="mouseenter"+z+" mouseleave"+z,q="tabindex",m="filter",e="accept",v=f.proxy;var j=p.extend({init:function(D,C){var F=this;var B=C&&C.index;var E,G;F.ns=z;C=f.isArray(C)?{dataSource:C}:C;p.fn.init.call(F,D,C);C=F.options;D=F.element.on("focus"+z,v(F._focusHandler,F));F._focusInputHandler=f.proxy(F._focusInput,F);F._inputTemplate();F._reset();F._prev="";F._word="";F.optionLabel=f();F._wrapper();F._tabindex();F.wrapper.data(q,F.wrapper.attr(q));F._span();F._popup();F._mobile();F._dataSource();F._ignoreCase();F._filterHeader();F._aria();F._enable();F._oldIndex=F.selectedIndex=-1;if(B!==h){C.index=B}F._initialIndex=C.index;F._optionLabel();F._initList();F._cascade();if(C.autoBind){F.dataSource.fetch()}else{if(F.selectedIndex===-1){G=C.text||"";if(!G){E=C.optionLabel;if(E&&C.index===0){G=E}else{if(F._isSelect){G=D.children(":selected").text()}}}F._textAccessor(G)}}s.notify(F)},options:{name:"DropDownList",enabled:true,autoBind:true,index:0,text:null,value:null,delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",ignoreCase:true,animation:{},filter:"none",minLength:1,virtual:false,template:null,valueTemplate:null,optionLabelTemplate:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#"},events:["open","close",n,"select","filtering","dataBinding","dataBound","cascade"],setOptions:function(B){p.fn.setOptions.call(this,B);this.listView.setOptions(this._listOptions(B));this._optionLabel();this._inputTemplate();this._accessors();this._filterHeader();this._enable();this._aria();if(!this.value()&&this.optionLabel[0]){this.select(0)}},destroy:function(){var B=this;B.wrapper.off(z);B.element.off(z);B._inputWrapper.off(z);B._arrow.off();B._arrow=null;B.optionLabel.off();p.fn.destroy.call(B)},open:function(){var B=this;if(B.popup.visible()){return}if(!B.listView.isBound()||B._state===e){B._open=true;B._state="rebind";if(B.filterInput){B.filterInput.val("");B._prev=""}B._filterSource()}else{if(B._allowOpening()){B.popup.one("activate",B._focusInputHandler);B.popup.open();B._focusItem()}}},_focusInput:function(){this._focusElement(this.filterInput)},toggle:function(B){this._toggle(B,true)},_allowOpening:function(B){return this.optionLabel[0]||this.filterInput||this.dataSource.view().length},current:function(B){var C;if(B===h){C=this.listView.focus();if(!C&&this.selectedIndex===0&&this.optionLabel[0]){return this.optionLabel}return C}this._focus(B)},dataItem:function(C){var E=this;var B=null;var F=!!E.optionLabel[0];var D=E.options.optionLabel;if(C===h){B=E.listView.selectedDataItems()[0]}else{if(typeof C!=="number"){if(C.hasClass("k-list-optionlabel")){C=-1}else{C=f(E.items()).index(C)}}else{if(F){C-=1}}B=E.dataSource.flatView()[C]}if(!B&&F){B=f.isPlainObject(D)?new c(D):E._assignInstance(E._optionLabelText(),"")}return B},refresh:function(){this.listView.refresh()},text:function(F){var E=this;var C,D;var B=E.options.ignoreCase;F=F===null?"":F;if(F!==h){if(typeof F==="string"){D=B?F.toLowerCase():F;E._select(function(G){G=E._text(G);if(B){G=(G+"").toLowerCase()}return G===D});C=E.dataItem();if(C){F=C}}E._textAccessor(F)}else{return E._textAccessor()}},value:function(C){var B=this;if(C===h){C=B._accessor()||B.listView.value()[0];return C===h||C===null?"":C}if(C===null){C=""}B._initialIndex=null;B.listView.value(C.toString()).done(function(){B._triggerCascade();if(B.selectedIndex===-1&&B.text()){B.text("")}B._old=B._accessor();B._oldIndex=B.selectedIndex});B._fetchData()},_optionLabel:function(){var E=this;var B=E.options;var D=B.optionLabel;var C=B.optionLabelTemplate;if(!D){E.optionLabel.off().remove();E.optionLabel=f();return}if(!C){C="#:";if(typeof D==="string"){C+="data"}else{C+=s.expr(B.dataTextField,"data")}C+="#"}if(typeof C!=="function"){C=s.template(C)}E.optionLabelTemplate=C;if(!E.optionLabel[0]){E.optionLabel=f('<div class="k-list-optionlabel"></div>').prependTo(E.list)}E.optionLabel.html(C(D)).off().click(v(E._click,E)).on(t,E._toggleHover);E.angular("compile",function(){return{elements:E.optionLabel}})},_optionLabelText:function(){var B=this.options.optionLabel;return(typeof B==="string")?B:this._text(B)},_listBound:function(){var E=this;var G=E._initialIndex;var H=E.options.optionLabel;var F=E._state===m;var D=E.element[0];var C=E.dataSource.flatView();var B=C.length;var J;var I;E._angularItems("compile");E._presetValue=false;if(!E.options.virtual){J=E._height(F?(B||1):B);E._calculateGroupPadding(J)}if(E.popup.visible()){E.popup._position()}if(E._isSelect){I=E.value();if(B){if(H){H=E._option("",E._optionLabelText())}}else{if(I){H=E._option(I,E.text())}}E._options(C,H,I);if(D.selectedIndex===-1){D.selectedIndex=0}}E._hideBusy();E._makeUnselectable();if(!F){if(E._open){E.toggle(E._allowOpening())}E._open=false;if(!E._fetch){if(B){if(!E.listView.value().length&&G>-1&&G!==null){E.select(G)}E._initialIndex=null}else{if(E._textAccessor()!==E._optionLabelText()){E.listView.value("");E._selectValue(null)}}}}E._hideBusy();E.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]);if(this._presetValue||(this._old&&this._oldIndex===-1)){this._oldIndex=this.selectedIndex}},_focusHandler:function(){this.wrapper.focus()},_focusinHandler:function(){this._inputWrapper.addClass(l);this._prevent=false},_focusoutHandler:function(){var D=this;var B=D._state===m;var E=window.self!==window.top;var C=D._focus();if(!D._prevent){clearTimeout(D._typing);if(B&&C&&!D.trigger("select",{item:C})){D._select(C,!D.dataSource.view().length)}if(k.mobileOS.ios&&E){D._change()}else{D._blur()}D._inputWrapper.removeClass(l);D._prevent=true;D._open=false;D.element.blur()}},_wrapperMousedown:function(){this._prevent=!!this.filterInput},_wrapperClick:function(B){B.preventDefault();this.popup.unbind("activate",this._focusInputHandler);this._focused=this.wrapper;this._toggle()},_editable:function(D){var F=this;var E=F.element;var C=D.disable;var B=D.readonly;var H=F.wrapper.add(F.filterInput).off(z);var G=F._inputWrapper.off(t);if(!B&&!C){E.removeAttr(w).removeAttr(b);G.addClass(x).removeClass(A).on(t,F._toggleHover);H.attr(q,H.data(q)).attr(d,false).attr(y,false).on("keydown"+z,v(F._keydown,F)).on("focusin"+z,v(F._focusinHandler,F)).on("focusout"+z,v(F._focusoutHandler,F)).on("mousedown"+z,v(F._wrapperMousedown,F));F.wrapper.on("click"+z,v(F._wrapperClick,F));if(!F.filterInput){H.on("keypress"+z,v(F._keypress,F))}}else{if(C){H.removeAttr(q);G.addClass(A).removeClass(x)}else{G.addClass(x).removeClass(A);H.on("focusin"+z,v(F._focusinHandler,F)).on("focusout"+z,v(F._focusoutHandler,F))}}E.attr(w,C).attr(b,B);H.attr(d,C).attr(y,B)},_option:function(B,C){return'<option value="'+B+'">'+C+"</option>"},_keydown:function(G){var D=this;var C=G.keyCode;var E=G.altKey;var B=D.ul[0];var H;var F;if(D.filterInput){H=D.filterInput[0]===i()}if(C===o.LEFT){C=o.UP;F=true}else{if(C===o.RIGHT){C=o.DOWN;F=true}}if(F&&H){return}G.keyCode=C;if(E&&C===o.UP){D._focusElement(D.wrapper)}F=D._move(G);if(F){return}if(!D.popup.visible()||!D.filterInput){if(C===o.HOME){F=true;D._firstItem()}else{if(C===o.END){F=true;D._lastItem()}}if(F){D._select(D._focus());G.preventDefault()}}if(!E&&!F&&D.filterInput){D._search()}},_matchText:function(F,C){var D=this;var B=D.options.ignoreCase;var E=false;F=F+"";if(B){F=F.toLowerCase()}if(F.indexOf(D._word)===0){if(D.optionLabel[0]){C+=1}D._select(C);if(!D.popup.visible()){D._change()}E=true}return E},_selectNext:function(B){var D=this;var G=B;var E=D.dataSource.flatView();var C=E.length;var F;for(;B<C;B++){F=D._text(E[B]);if(F&&D._matchText(F,B)&&!(D._word.length===1&&G===D.selectedIndex)){return true}}if(G>0&&G<C){B=0;for(;B<=G;B++){F=D._text(E[B]);if(F&&D._matchText(F,B)){return true}}}return false},_keypress:function(F){var D=this;if(F.which===0||F.keyCode===s.keys.ENTER){return}var E=String.fromCharCode(F.charCode||F.keyCode);var B=D.selectedIndex;var C=D._word.length;if(D.options.ignoreCase){E=E.toLowerCase()}if(E===" "){F.preventDefault()}if(!C){D._word=E}if(D._last===E&&C<=1&&B>-1){if(D._selectNext(B)){return}}if(C){D._word+=E}D._last=E;D._search()},_popupOpen:function(){var B=this.popup;B.wrapper=s.wrap(B.element);if(B.element.closest(".km-root")[0]){B.wrapper.addClass("km-popup km-widget");this.wrapper.addClass("km-widget")}},_popup:function(){p.fn._popup.call(this);this.popup.one("open",v(this._popupOpen,this))},_click:function(C){var B=C.item||f(C.currentTarget);if(this.trigger("select",{item:B})){this.close();return}this._userTriggered=true;this._select(B);this._focusElement(this.wrapper);this._blur()},_focusElement:function(D){var F=i();var G=this.wrapper;var E=this.filterInput;var C=D===E?G:E;var B=k.mobileOS&&(k.touch||k.MSPointers||k.pointers);if(E&&E[0]===D[0]&&B){return}if(E&&C[0]===F){this._prevent=true;this._focused=D.focus()}},_filter:function(D){if(D){var C=this;var B=C.options.ignoreCase;if(B){D=D.toLowerCase()}C._select(function(E){var F=C._text(E);if(F!==h){F=(F+"");if(B){F=F.toLowerCase()}return F.indexOf(D)===0}})}},_search:function(){var C=this;var D=C.dataSource;var B=C.selectedIndex;clearTimeout(C._typing);if(C.options.filter!=="none"){C._typing=setTimeout(function(){var E=C.filterInput.val();if(C._prev!==E){C._prev=E;C.search(E)}C._typing=null},C.options.delay)}else{C._typing=setTimeout(function(){C._word=""},C.options.delay);if(B===-1){B=0}if(!C.ul[0].firstChild){D.fetch().done(function(){if(D.data()[0]&&B>-1){C._selectNext(B)}});return}C._selectNext(B)}},_get:function(C){var E,D,B;if(this.optionLabel[0]){if(typeof C==="number"){if(C>-1){C-=1}}else{if(C instanceof jQuery&&C.hasClass("k-list-optionlabel")){C=-1}}}if(typeof C==="function"){E=this.dataSource.flatView();for(B=0;B<E.length;B++){if(C(E[B])){C=B;D=true;break}}if(!D){C=-1}}return C},_firstItem:function(){if(this.optionLabel[0]){this._focus(this.optionLabel)}else{this.listView.first()}},_lastItem:function(){this.optionLabel.removeClass("k-state-focused");this.listView.last()},_nextItem:function(){if(this.optionLabel.hasClass("k-state-focused")){this.optionLabel.removeClass("k-state-focused");this.listView.first()}else{this.listView.next()}},_prevItem:function(){if(this.optionLabel.hasClass("k-state-focused")){return}this.listView.prev();if(!this.listView.focus()){this.optionLabel.addClass("k-state-focused")}},_focusItem:function(){var B=this.listView;var D=B.focus();var C=B.select();C=C[C.length-1];if(C===h&&this.options.highlightFirst&&!D){C=0}if(C!==h){B.focus(C)}else{if(this.options.optionLabel){this._focus(this.optionLabel);this._select(this.optionLabel)}else{B.scrollToIndex(0)}}},_focus:function(C){var B=this.listView;var D=this.optionLabel;if(C===h){C=B.focus();if(!C&&D.hasClass("k-state-focused")){C=D}return C}D.removeClass("k-state-focused");C=this._get(C);B.focus(C);if(C===-1){D.addClass("k-state-focused")}},_select:function(C,B){var E=this;var D=E.optionLabel;C=E._get(C);E.listView.select(C);if(!B&&E._state===m){E.listView.filter(false);E._state=e}if(C===-1){E._selectValue(null)}},_selectValue:function(D){var F=this;var E=F.options.optionLabel;var C=F.optionLabel;var B=F.listView.select();var G="";var H="";B=B[B.length-1];if(B===h){B=-1}C.removeClass("k-state-focused k-state-selected");if(D){H=D;G=F._dataValue(D);if(E){B+=1}}else{if(E){F._focus(C.addClass("k-state-selected"));H=F._optionLabelText();if(typeof E==="string"){G=""}else{G=F._value(E)}B=0}}F.selectedIndex=B;if(G===null){G=""}F._textAccessor(H);F._accessor(G,B);F._triggerCascade()},_mobile:function(){var D=this,C=D.popup,E=k.mobileOS,B=C.element.parents(".km-root").eq(0);if(B.length&&E){C.options.animation.open.effects=(E.android||E.meego)?"fadeIn":(E.ios||E.wp)?"slideIn:up":C.options.animation.open.effects}},_filterHeader:function(){var C;var B=this.options;var D=B.filter!=="none";if(this.filterInput){this.filterInput.off(z).parent().remove();this.filterInput=null}if(D){C='<span unselectable="on" class="k-icon k-i-search">select</span>';this.filterInput=f('<input class="k-textbox"/>').attr({role:"listbox","aria-haspopup":true,"aria-expanded":false});this.list.prepend(f('<span class="k-list-filter" />').append(this.filterInput.add(C)))}},_span:function(){var C=this,E=C.wrapper,D="span.k-input",B;B=E.find(D);if(!B[0]){E.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(C.element);B=E.find(D)}C.span=B;C._inputWrapper=f(E[0].firstChild);C._arrow=E.find(".k-icon")},_wrapper:function(){var C=this,B=C.element,E=B[0],D;D=B.parent();if(!D.is("span.k-widget")){D=B.wrap("<span />").parent();D[0].style.cssText=E.style.cssText;D[0].title=E.title}B.hide();C._focused=C.wrapper=D.addClass("k-widget k-dropdown k-header").addClass(E.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":true,"aria-expanded":false})},_clearSelection:function(B){this.select(B.value()?0:-1)},_inputTemplate:function(){var C=this,B=C.options.valueTemplate;if(!B){B=f.proxy(s.template("#:this._text(data)#",{useWithBlock:false}),C)}else{B=s.template(B)}C.valueTemplate=B},_textAccessor:function(H){var D=null;var F=this.valueTemplate;var C=this.options;var G=C.optionLabel;var E=this.span;if(H!==h){if(f.isPlainObject(H)||H instanceof c){D=H}else{if(G&&this._optionLabelText()===H){D=G;F=this.optionLabelTemplate}}if(!D){D=this._assignInstance(H,this._accessor())}var B=function(){return{elements:E.get(),data:[{dataItem:D}]}};this.angular("cleanup",B);E.html(F(D));this.angular("compile",B)}else{return E.text()}},_preselect:function(B,C){this._accessor(B);this._textAccessor(C);this._old=this._accessor();this._oldIndex=this.selectedIndex;this.listView.setValue(B);this._initialIndex=null;this._presetValue=true},_assignInstance:function(E,C){var D=this.options.dataTextField;var B={};if(D){u(B,D.split("."),E);u(B,this.options.dataValueField.split("."),C);B=new c(B)}else{B=E}return B}});function u(D,C,E){var B=0,G=C.length-1,F;for(;B<G;++B){F=C[B];if(!(F in D)){D[F]={}}D=D[F]}D[C[G]]=E}r.plugin(j)})(window.kendo.jQuery);(function(f,h){var t=window.kendo,s=t.ui,b=s.List,r=s.Select,o=t.caret,m=t.support,v=m.placeholder,i=t._activeElement,q=t.keys,E=".kendoComboBox",g="click"+E,k="mousedown"+E,x="disabled",c="readonly",p="change",y="k-state-default",l="k-state-focused",D="k-state-disabled",d="aria-disabled",C="aria-readonly",B="k-state-selected",n="filter",e="accept",j="rebind",u="mouseenter"+E+" mouseleave"+E,z=null,w=f.proxy;var A=r.extend({init:function(G,F){var H=this,I;H.ns=E;F=f.isArray(F)?{dataSource:F}:F;r.fn.init.call(H,G,F);F=H.options;G=H.element.on("focus"+E,w(H._focusHandler,H));F.placeholder=F.placeholder||G.attr("placeholder");H._reset();H._wrapper();H._input();H._tabindex(H.input);H._popup();H._dataSource();H._ignoreCase();H._enable();H._oldIndex=H.selectedIndex=-1;H._aria();H._initialIndex=F.index;H._initList();H._cascade();if(F.autoBind){H._filterSource()}else{I=F.text;if(!I&&H._isSelect){I=G.children(":selected").text()}if(I){H.input.val(I);H._prev=I}}if(!I){H._placeholder()}t.notify(H)},options:{name:"ComboBox",enabled:true,index:-1,text:null,value:null,autoBind:true,delay:200,dataTextField:"",dataValueField:"",minLength:0,height:200,highlightFirst:true,filter:"none",placeholder:"",suggest:false,cascadeFrom:"",cascadeFromField:"",ignoreCase:true,animation:{},template:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#"},events:["open","close",p,"select","filtering","dataBinding","dataBound","cascade"],setOptions:function(F){r.fn.setOptions.call(this,F);this.listView.setOptions(F);this._accessors();this._aria()},destroy:function(){var F=this;F.input.off(E);F.element.off(E);F._inputWrapper.off(E);r.fn.destroy.call(F)},_focusHandler:function(){this.input.focus()},_arrowClick:function(){this._toggle()},_inputFocus:function(){this._inputWrapper.addClass(l);this._placeholder(false)},_inputFocusout:function(){var F=this;F._inputWrapper.removeClass(l);clearTimeout(F._typing);F._typing=null;if(F.options.text!==F.input.val()){F.text(F.text())}F._placeholder();F._blur();F.element.blur()},_editable:function(I){var J=this,H=I.disable,G=I.readonly,L=J._inputWrapper.off(E),F=J.element.add(J.input.off(E)),K=J._arrow.parent().off(g+" "+k);if(!G&&!H){L.addClass(y).removeClass(D).on(u,J._toggleHover);F.removeAttr(x).removeAttr(c).attr(d,false).attr(C,false);K.on(g,w(J._arrowClick,J)).on(k,function(M){M.preventDefault()});J.input.on("keydown"+E,w(J._keydown,J)).on("focus"+E,w(J._inputFocus,J)).on("focusout"+E,w(J._inputFocusout,J))}else{L.addClass(H?D:y).removeClass(H?y:D);F.attr(x,H).attr(c,G).attr(d,H).attr(C,G)}},open:function(){var H=this;var I=H._state;var G;var F;if(H.popup.visible()){return}if((!H.listView.isBound()&&I!==n)||I===e){H._open=true;H._state=j;H.listView.filter(false);H._filterSource()}else{H.popup.open();H._focusItem()}},_listBound:function(){var K=this;var R=K.options;var M=K._initialIndex;var L=K._state===n;var Q=K.input[0]===i();var P=K.listView;var O=P.focus();var J=this.dataSource.flatView();var G=J.length;var N;K._angularItems("compile");K._presetValue=false;if(!R.virtual){K._calculateGroupPadding(K._height(G))}if(K.popup.visible()){K.popup._position()}if(K._isSelect){var I=K.element[0].children[0];if(K._state===j){K._state=""}var H=true;var F=K._customOption;K._customOption=h;K._options(J,"",K.value());if(F&&F[0].selected){K._custom(F.val(),H)}else{if(!I){K._custom("",H)}}}K._hideBusy();K._makeUnselectable();if(!L&&!K._fetch){if(!P.value().length){if(M!==null&&M>-1){K.select(M);O=P.focus()}else{if(K._accessor()){P.value(K._accessor())}}}K._initialIndex=null}else{if(L&&O){O.removeClass("k-state-selected")}}if(G){if(R.highlightFirst){if(!O){P.focus(0)}}else{P.focus(-1)}if(R.suggest&&Q&&K.input.val()){K.suggest(J[0])}}if(K._open){K._open=false;if(K._typing&&!Q){K.popup.close()}else{K.toggle(!!G)}K._typing=null}if(K._touchScroller){K._touchScroller.reset()}K._hideBusy();K.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]);if(this._presetValue){this._oldIndex=this.selectedIndex}},_get:function(G){var I,H,F;if(typeof G==="function"){I=this.dataSource.flatView();for(F=0;F<I.length;F++){if(G(I[F])){G=F;H=true;break}}if(!H){G=-1}}return G},_select:function(G,F){G=this._get(G);if(G===-1){this.input[0].value="";this._accessor("")}this.listView.select(G);if(!F&&this._state===n){this.listView.filter(false);this._state=e}},_selectValue:function(G){var F=this.listView.select();var H="";var I="";F=F[F.length-1];if(F===h){F=-1}this.selectedIndex=F;if(F===-1){H=I=this.input[0].value;this.listView.focus(-1)}else{if(G){H=this._dataValue(G);I=this._text(G)}if(H===null){H=""}}this._prev=this.input[0].value=I;this._accessor(H!==h?H:I,F);this._placeholder();this._triggerCascade()},refresh:function(){this.listView.refresh()},suggest:function(L){var J=this;var I=J.input[0];var K=J.text();var H=o(I)[0];var G=J._last;var F;if(G==q.BACKSPACE||G==q.DELETE){J._last=h;return}L=L||"";if(typeof L!=="string"){if(L[0]){L=J.dataSource.view()[b.inArray(L[0],J.ul[0])]}L=L?J._text(L):""}if(H<=0){H=K.toLowerCase().indexOf(L.toLowerCase())+1}if(L){F=L.toLowerCase().indexOf(K.toLowerCase());if(F>-1){K+=L.substring(F+K.length)}}else{K=K.substring(0,H)}if(K.length!==H||!L){I.value=K;if(I===i()){o(I,H,K.length)}}},text:function(L){L=L===null?"":L;var J=this;var G=J.input[0];var F=J.options.ignoreCase;var I=L;var H;var K;if(L===h){return G.value}H=J.dataItem();if(J.options.autoBind===false&&!J.listView.isBound()){return}if(H&&J._text(H)===L){K=J._value(H);if(K===null){K=""}else{K+=""}if(K===J._old){J._triggerCascade();return}}if(F){I=I.toLowerCase()}J._select(function(M){M=J._text(M);if(F){M=(M+"").toLowerCase()}return M===I});if(J.selectedIndex<0){J._accessor(L);G.value=L;J._triggerCascade()}J._prev=G.value},toggle:function(F){this._toggle(F,true)},value:function(H){var G=this;var F=G.options;if(H===h){H=G._accessor()||G.listView.value()[0];return H===h||H===null?"":H}if(H===null){H=""}H=H.toString();if(H===F.value&&G.input.val()===F.text){return}G._accessor(H);G.listView.value(H).done(function(){G._triggerCascade();G._selectValue(G.listView.selectedDataItems()[0]);if(G.selectedIndex===-1){G._accessor(H);G.input.val(H)}G._old=G._accessor();G._oldIndex=G.selectedIndex;G._prev=G.input.val();G._state=e});G._fetchData()},_click:function(G){var F=G.item;if(this.trigger("select",{item:F})){this.close();return}this._userTriggered=true;this._select(F);this._blur()},_filter:function(K){var I=this;var H=I.options;var L=I.dataSource;var G=H.ignoreCase;var F=function(M){var N=I._text(M);if(N!==h){N=N+"";if(N!==""&&K===""){return false}if(G){N=N.toLowerCase()}return N.indexOf(K)===0}};if(G){K=K.toLowerCase()}if(!I.ul[0].firstChild){L.one(p,function(){if(L.view()[0]){I.search(K)}}).fetch();return}this.listView.focus(this._get(F));var J=this.listView.focus();if(J){if(H.suggest){this.suggest(J)}this.open()}if(this.options.highlightFirst&&!K){this.listView.first()}I._hideBusy()},_input:function(){var J=this,H=J.element.removeClass("k-input")[0],I=H.accessKey,L=J.wrapper,K="input.k-input",G=H.name||"",F;if(G){G='name="'+G+'_input" '}F=L.find(K);if(!F[0]){L.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+G+'class="k-input" type="text" autocomplete="off"/><span tabindex="-1" unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(J.element);F=L.find(K)}F[0].style.cssText=H.style.cssText;F[0].title=H.title;if(H.maxLength>-1){F[0].maxLength=H.maxLength}F.addClass(H.className).val(this.options.text||H.value).css({width:"100%",height:H.style.height}).attr({role:"combobox","aria-expanded":false}).show();if(v){F.attr("placeholder",J.options.placeholder)}if(I){H.accessKey="";F[0].accessKey=I}J._focused=J.input=F;J._inputWrapper=f(L[0].firstChild);J._arrow=L.find(".k-icon").attr({role:"button",tabIndex:-1});if(H.id){J._arrow.attr("aria-controls",J.ul[0].id)}},_keydown:function(H){var G=this,F=H.keyCode;G._last=F;clearTimeout(G._typing);G._typing=null;if(F!=q.TAB&&!G._move(H)){G._search()}},_placeholder:function(F){if(v){return}var H=this,G=H.input,J=H.options.placeholder,I;if(J){I=H.value();if(F===h){F=!I}G.toggleClass("k-readonly",F);if(!F){if(!I){J=""}else{return}}G.val(J);if(!J&&G[0]===i()){o(G[0],0,0)}}},_search:function(){var F=this;F._typing=setTimeout(function(){var G=F.text();if(F._prev!==G){F._prev=G;F.search(G)}F._typing=null},F.options.delay)},_wrapper:function(){var G=this,F=G.element,H=F.parent();if(!H.is("span.k-widget")){H=F.hide().wrap("<span />").parent();H[0].style.cssText=F[0].style.cssText}G.wrapper=H.addClass("k-widget k-combobox k-header").addClass(F[0].className).css("display","")},_clearSelection:function(H,F){var I=this;var G=H.value();var J=G&&H.selectedIndex===-1;if(F||!G||J){I.options.value="";I.value("")}},_preselect:function(F,G){this.input.val(G);this._accessor(F);this._old=this._accessor();this._oldIndex=this.selectedIndex;this.listView.setValue(F);this._initialIndex=null;this._presetValue=true}});s.plugin(A)})(window.kendo.jQuery);(function(B,k){var C=window.kendo,E=C.ui,m=E.List,w=C.keys,d=C._activeElement,o=C.data.ObservableArray,J=B.proxy,s="id",r="li",F="accept",j="filter",M="rebind",I="open",L="close",A="change",v="progress",p="select",q="nextSibling",O="previousSibling",g=' style="display:none"',h="aria-disabled",H="aria-readonly",u="k-state-focused",D="k-loading-hidden",i="k-state-hover",l="k-state-disabled",z="disabled",e="readonly",K=".kendoMultiSelect",G="click"+K,P="keydown"+K,b="mouseenter"+K,n="mouseleave"+K,c=b+" "+n,N=/"/g,t=B.isArray,y=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"];var x=m.extend({init:function(R,Q){var S=this,T;S.ns=K;m.fn.init.call(S,R,Q);S._optionsMap={};S._customOptions={};S._wrapper();S._tagList();S._input();S._textContainer();S._loader();S._tabindex(S.input);R=S.element.attr("multiple","multiple").hide();Q=S.options;if(!Q.placeholder){Q.placeholder=R.data("placeholder")}T=R.attr(s);if(T){S._tagID=T+"_tag_active";T=T+"_taglist";S.tagList.attr(s,T)}S._aria(T);S._dataSource();S._ignoreCase();S._popup();S._tagTemplate();S._initList();S._reset();S._enable();S._placeholder();if(Q.autoBind){S.dataSource.fetch()}else{if(Q.value){S._preselect(Q.value)}}C.notify(S)},_preselect:function(S,R){var Q=this;if(!t(S)){S=[S]}if(B.isPlainObject(S[0])||S[0] instanceof C.data.ObservableObject||!Q.options.dataValueField){Q._retrieveData=true;Q.dataSource.data(S);Q.value(R||Q._initialValues)}},options:{name:"MultiSelect",enabled:true,autoBind:true,autoClose:true,highlightFirst:true,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:true,minLength:0,delay:100,value:null,maxSelectedItems:null,placeholder:"",height:200,animation:{},itemTemplate:"",tagTemplate:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#"},events:[I,L,A,p,"filtering","dataBinding","dataBound"],setDataSource:function(Q){this.options.dataSource=Q;this._dataSource();this.listView.setDataSource(this.dataSource);if(this.options.autoBind){this.dataSource.fetch()}},setOptions:function(Q){var R=this._listOptions(Q);m.fn.setOptions.call(this,Q);this._normalizeOptions(R);this.listView.setOptions(R);this._accessors();this._aria(this.tagList.attr(s));this._tagTemplate()},currentTag:function(Q){var R=this;if(Q!==k){if(R._currentTag){R._currentTag.removeClass(u).removeAttr(s);R.input.removeAttr("aria-activedescendant")}if(Q){Q.addClass(u).attr(s,R._tagID);R.input.attr("aria-activedescendant",R._tagID)}R._currentTag=Q}else{return R._currentTag}},dataItems:function(){return this.listView.selectedDataItems()},destroy:function(){var R=this,Q=R.ns;clearTimeout(R._busy);clearTimeout(R._typing);R.wrapper.off(Q);R.tagList.off(Q);R.input.off(Q);m.fn.destroy.call(R)},_activateItem:function(){m.fn._activateItem.call(this);this.currentTag(null)},_normalizeOptions:function(Q){var S=this.options.itemTemplate||this.options.template;var R=Q.itemTemplate||S||Q.template;if(!R){R="#:"+C.expr(Q.dataTextField,"data")+"#"}Q.template=R},_initList:function(){var T=this;var U=T.options.virtual;var R=!!U;var Q=J(T._listBound,T);var S={autoBind:false,selectable:"multiple",dataSource:T.dataSource,click:J(T._click,T),change:J(T._listChange,T),activate:J(T._activateItem,T),deactivate:J(T._deactivateItem,T),dataBinding:function(){T.trigger("dataBinding");T._angularItems("cleanup")},dataBound:Q,listBound:Q,selectedItemChange:J(T._selectedItemChange,T)};S=B.extend(T._listOptions(),S,typeof U==="object"?U:{});T._normalizeOptions(S);if(!R){T.listView=new C.ui.StaticList(T.ul,S)}else{T.listView=new C.ui.VirtualList(T.ul,S)}T.listView.value(T._initialValues||T.options.value)},_listChange:function(Q){if(this._state===M){this._state="";Q.added=[]}this._selectValue(Q.added,Q.removed)},_selectedItemChange:function(T){var R=T.items;var S;var Q;for(Q=0;Q<R.length;Q++){S=R[Q];this.tagList.children().eq(S.index).children("span:first").html(this.tagTextTemplate(S.item))}},_wrapperMousedown:function(T){var S=this;var Q=T.target.nodeName.toLowerCase()!=="input";var R=B(T.target).hasClass("k-select")||B(T.target).parent().hasClass("k-select");if(Q&&!(R&&C.support.mobileOS)){T.preventDefault()}if(!R){if(S.input[0]!==d()&&Q){S.input.focus()}if(S.options.minLength===0){S.open()}}},_inputFocus:function(){this._placeholder(false);this.wrapper.addClass(u)},_inputFocusout:function(){var Q=this;clearTimeout(Q._typing);Q.wrapper.removeClass(u);Q._placeholder(!Q.listView.selectedDataItems()[0],true);Q.close();if(Q._state===j){Q._state=F;Q.listView.filter(false);Q.listView.skipUpdate(true)}Q.element.blur()},_removeTag:function(R){var V=this;var X=V._state;var Q=R.index();var S=V.listView;var W=S.value()[Q];var T=V._customOptions[W];var U;if(T===k&&(X===F||X===j)){T=V._optionsMap[W]}if(T!==k){U=V.element[0].children[T];U.removeAttribute("selected");U.selected=false;S.removeAt(Q);R.remove()}else{S.select(S.select()[Q])}V.currentTag(null);V._change();V._close()},_tagListClick:function(Q){this._removeTag(B(Q.target).closest(r))},_editable:function(T){var U=this,S=T.disable,R=T.readonly,W=U.wrapper.off(K),V=U.tagList.off(K),Q=U.element.add(U.input.off(K));if(!R&&!S){W.removeClass(l).on(c,U._toggleHover).on("mousedown"+K+" touchend"+K,J(U._wrapperMousedown,U));U.input.on(P,J(U._keydown,U)).on("paste"+K,J(U._search,U)).on("focus"+K,J(U._inputFocus,U)).on("focusout"+K,J(U._inputFocusout,U));Q.removeAttr(z).removeAttr(e).attr(h,false).attr(H,false);V.on(b,r,function(){B(this).addClass(i)}).on(n,r,function(){B(this).removeClass(i)}).on(G,"li.k-button .k-select",J(U._tagListClick,U))}else{if(S){W.addClass(l)}else{W.removeClass(l)}Q.attr(z,S).attr(e,R).attr(h,S).attr(H,R)}},_close:function(){var Q=this;if(Q.options.autoClose){Q.close()}else{Q.popup._position()}},close:function(){this.popup.close()},open:function(){var Q=this;if(Q._request){Q._retrieveData=false}if(Q._retrieveData||!Q.listView.isBound()||Q._state===F){Q._open=true;Q._state=M;Q._retrieveData=false;Q.listView.filter(false);Q.listView.skipUpdate(true);Q._filterSource()}else{if(Q._allowSelection()){Q.popup.open();Q._focusItem()}}},toggle:function(Q){Q=Q!==k?Q:!this.popup.visible();this[Q?I:L]()},refresh:function(){this.listView.refresh()},_listBound:function(){var R=this;var S=this.dataSource.flatView();var Q=S.length;R._angularItems("compile");R._render(S);R._calculateGroupPadding(R._height(Q));if(R._open){R._open=false;R.toggle(Q)}if(R.popup.visible()){R.popup._position()}if(R.options.highlightFirst){R.listView.first()}if(R._touchScroller){R._touchScroller.reset()}R._hideBusy();R._makeUnselectable();R._hideBusy();R.trigger("dataBound")},search:function(Q){var U=this;var Y=U.options;var V=Y.ignoreCase;var R=Y.filter;var X=Y.dataTextField;var T=U.input.val();var W;var S;if(Y.placeholder===T){T=""}clearTimeout(U._typing);Q=typeof Q==="string"?Q:T;S=Q.length;if(!S||S>=Y.minLength){U.listView.filter(true);U._state=j;U._open=true;W={value:V?Q.toLowerCase():Q,field:X,operator:R,ignoreCase:V};U._filterSource(W,U._retrieveData);U._retrieveData=false}},value:function(T){var S=this;var R=S.listView.value().slice();var U=S.options.maxSelectedItems;var Q;if(T===k){return R}T=S._normalizeValues(T);if(U!==null&&T.length>U){T=T.slice(0,U)}S.listView.value(T);S._old=T;S._fetchData()},_setOption:function(S,R){var Q=this.element[0].children[this._optionsMap[S]];if(Q){if(R){Q.setAttribute("selected","selected")}else{Q.removeAttribute("selected")}Q.selected=R}},_fetchData:function(){var R=this;var S=!!R.dataSource.view().length;var Q=R.listView.value().length===0;if(Q){return}if(!R._fetch&&!S){R._fetch=true;R.dataSource.fetch().done(function(){R._fetch=false})}},_dataSource:function(){var S=this,R=S.element,Q=S.options,T=Q.dataSource||{};T=t(T)?{data:T}:T;T.select=R;T.fields=[{field:Q.dataTextField},{field:Q.dataValueField}];if(S.dataSource&&S._refreshHandler){S._unbindDataSource()}else{S._progressHandler=J(S._showBusy,S)}S.dataSource=C.data.DataSource.create(T).bind(v,S._progressHandler)},_reset:function(){var S=this,Q=S.element,T=Q.attr("form"),R=T?B("#"+T):Q.closest("form");if(R[0]){S._resetHandler=function(){setTimeout(function(){S.value(S._initialValues);S._placeholder()})};S._form=R.on("reset",S._resetHandler)}},_initValue:function(){var Q=this.options.value||this.element.val();this._old=this._initialValues=this._normalizeValues(Q)},_normalizeValues:function(R){var Q=this;if(R===null){R=[]}else{if(R&&B.isPlainObject(R)){R=[Q._value(R)]}else{if(R&&B.isPlainObject(R[0])){R=B.map(R,function(S){return Q._value(S)})}else{if(!t(R)&&!(R instanceof o)){R=[R]}}}}return R},_change:function(){var Q=this,R=Q.value();if(!f(R,Q._old)){Q._old=R.slice();Q.trigger(A);Q.element.trigger(A)}},_click:function(R){var Q=R.item;if(this.trigger(p,{item:Q})){this._close();return}this._select(Q);this._change();this._close()},_keydown:function(W){var U=this;var T=W.keyCode;var Q=U._currentTag;var V=U.listView.focus();var S=U.input.val();var R=C.support.isRtl(U.wrapper);var X=U.popup.visible();if(T===w.DOWN){W.preventDefault();if(!X){U.open();if(!V){this.listView.first()}return}if(V){this.listView.next();if(!this.listView.focus()){this.listView.last()}}else{this.listView.first()}}else{if(T===w.UP){if(X){if(V){this.listView.prev()}if(!this.listView.focus()){U.close()}}W.preventDefault()}else{if((T===w.LEFT&&!R)||(T===w.RIGHT&&R)){if(!S){Q=Q?Q.prev():B(U.tagList[0].lastChild);if(Q[0]){U.currentTag(Q)}}}else{if((T===w.RIGHT&&!R)||(T===w.LEFT&&R)){if(!S&&Q){Q=Q.next();U.currentTag(Q[0]?Q:null)}}else{if(T===w.ENTER&&X){if(V){if(U.trigger(p,{item:V})){U._close();return}U._select(V)}U._change();U._close();W.preventDefault()}else{if(T===w.ESC){if(X){W.preventDefault()}else{U.currentTag(null)}U.close()}else{if(T===w.HOME){if(X){this.listView.first()}else{if(!S){Q=U.tagList[0].firstChild;if(Q){U.currentTag(B(Q))}}}}else{if(T===w.END){if(X){this.listView.last()}else{if(!S){Q=U.tagList[0].lastChild;if(Q){U.currentTag(B(Q))}}}}else{if((T===w.DELETE||T===w.BACKSPACE)&&!S){if(T===w.BACKSPACE&&!Q){Q=B(U.tagList[0].lastChild)}if(Q&&Q[0]){U._removeTag(Q)}}else{clearTimeout(U._typing);setTimeout(function(){U._scale()});U._search()}}}}}}}}}},_hideBusy:function(){var Q=this;clearTimeout(Q._busy);Q.input.attr("aria-busy",false);Q._loading.addClass(D);Q._request=false;Q._busy=null},_showBusyHandler:function(){this.input.attr("aria-busy",true);this._loading.removeClass(D)},_showBusy:function(){var Q=this;Q._request=true;if(Q._busy){return}Q._busy=setTimeout(J(Q._showBusyHandler,Q),100)},_placeholder:function(Q,S){var T=this,R=T.input,U=d();if(Q===k){Q=false;if(R[0]!==U){Q=!T.listView.selectedDataItems()[0]}}T._prev="";R.toggleClass("k-readonly",Q).val(Q?T.options.placeholder:"");if(R[0]===U&&!S){C.caret(R[0],0,0)}T._scale()},_scale:function(){var S=this,U=S.wrapper,Q=U.width(),R=S._span.text(S.input.val()),T;if(!U.is(":visible")){R.appendTo(document.documentElement);Q=T=R.width()+25;R.appendTo(U)}else{T=R.width()+25}S.input.width(T>Q?Q:T)},_option:function(Q,S){var R="<option",T=this._text(Q),U=this._value(Q);if(U!==k){U+="";if(U.indexOf('"')!==-1){U=U.replace(N,"&quot;")}R+=' value="'+U+'"'}if(S){R+=" selected"}R+=">";if(T!==k){R+=C.htmlEncode(T)}return R+="</option>"},_render:function(V){var U=this.listView.selectedDataItems();var S=V.length;var T;var Z="";var Q;var X;var Y;var R={};var W={};for(Y=0;Y<S;Y++){Q=V[Y];T=this._selectedIndex(Q,U);if(T!==-1){U.splice(T,1)}W[this._value(Q)]=Y;Z+=this._option(Q,T!==-1)}if(U.length){for(Y=0;Y<U.length;Y++){Q=U[Y];X=this._value(Q);R[X]=Y+S;W[X]=Y+S;Z+='<option selected="selected" value="'+X+'">'+this._text(Q)+"</option>"}}this._customOptions=R;this._optionsMap=W;this.element.html(Z)},_selectedIndex:function(S,U){var R=this._value;var T=R(S);var Q=0;for(;Q<U.length;Q++){if(T===R(U[Q])){return Q}}return -1},_search:function(){var Q=this;Q._typing=setTimeout(function(){var R=Q.input.val();if(Q._prev!==R){Q._prev=R;Q.search(R)}},Q.options.delay)},_allowSelection:function(){var Q=this.options.maxSelectedItems;return Q===null||Q>this.listView.value().length},_selectValue:function(U,W){var V=this.tagList;var R=this._value;var T;var S;var Q;for(Q=W.length-1;Q>-1;Q--){T=W[Q];V[0].removeChild(V[0].children[T.position]);this._setOption(R(T.dataItem),false)}for(Q=0;Q<U.length;Q++){S=U[Q];V.append(this.tagTemplate(S.dataItem));this._setOption(R(S.dataItem),true)}this._placeholder()},_select:function(R){var S=this;var Q;if(S._state===M){S._state=""}if(!S._allowSelection()){return}this.listView.select(R);S._placeholder();if(S._state===j){S._state=F;S.listView.filter(false);S.listView.skipUpdate(true)}},_input:function(){var S=this,R=S.element[0].accessKey,Q=S._innerWrapper.children("input.k-input");if(!Q[0]){Q=B('<input class="k-input" style="width: 25px" />').appendTo(S._innerWrapper)}S.element.removeAttr("accesskey");S._focused=S.input=Q.attr({accesskey:R,autocomplete:"off",role:"listbox","aria-expanded":false})},_tagList:function(){var Q=this,R=Q._innerWrapper.children("ul");if(!R[0]){R=B('<ul role="listbox" unselectable="on" class="k-reset"/>').appendTo(Q._innerWrapper)}Q.tagList=R},_tagTemplate:function(){var T=this;var R=T.options;var S=R.tagTemplate;var Q=R.dataSource;if(T.element[0].length&&!Q){R.dataTextField=R.dataTextField||"text";R.dataValueField=R.dataValueField||"value"}S=S?C.template(S):C.template("#:"+C.expr(R.dataTextField,"data")+"#",{useWithBlock:false});T.tagTextTemplate=S;T.tagTemplate=function(U){return'<li class="k-button" unselectable="on"><span unselectable="on">'+S(U)+'</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-close">delete</span></span></li>'}},_loader:function(){this._loading=B('<span class="k-icon k-loading '+D+'"></span>').insertAfter(this.input)},_textContainer:function(){var Q=C.getComputedStyles(this.input[0],y);Q.position="absolute";Q.visibility="hidden";Q.top=-3333;Q.left=-3333;this._span=B("<span/>").css(Q).appendTo(this.wrapper)},_wrapper:function(){var R=this,Q=R.element,S=Q.parent("span.k-multiselect");if(!S[0]){S=Q.wrap('<div class="k-widget k-multiselect k-header" unselectable="on" />').parent();S[0].style.cssText=Q[0].style.cssText;S[0].title=Q[0].title;B('<div class="k-multiselect-wrap k-floatwrap" unselectable="on" />').insertBefore(Q)}R.wrapper=S.addClass(Q[0].className).css("display","");R._innerWrapper=B(S[0].firstChild)}});function f(R,Q){var S;if((R===null&&Q!==null)||(R!==null&&Q===null)){return false}S=R.length;if(S!==Q.length){return false}while(S--){if(R[S]!==Q[S]){return false}}return true}E.plugin(x)})(window.kendo.jQuery);(function(E,l){var H=window.kendo,d=H.ui.Widget,k=H.ui.Draggable,j=E.extend,z=H.format,p=H.parseFloat,X=E.proxy,t=E.isArray,A=Math,Q=H.support,L=Q.pointers,T=Q.msPointers,D="change",c="slide",N=".slider",M="touchstart"+N+" mousedown"+N,V=L?"pointerdown"+N:(T?"MSPointerDown"+N:M),e="touchend"+N+" mouseup"+N,h=L?"pointerup":(T?"MSPointerUp"+N:e),r="moveSelection",x="keydown"+N,S="click"+N,i="mouseover"+N,aa="focus"+N,O="blur"+N,f=".k-draghandle",g=".k-slider-track",I=".k-tick",s="k-state-selected",R="k-state-focused",Y="k-state-default",y="k-state-disabled",m=3,C="disabled",F="undefined",v="tabindex",q=H.getTouches;var ab=d.extend({init:function(ad,ac){var ae=this;d.fn.init.call(ae,ad,ac);ac=ae.options;ae._distance=Z(ac.max-ac.min);ae._isHorizontal=ac.orientation=="horizontal";ae._isRtl=ae._isHorizontal&&H.support.isRtl(ad);ae._position=ae._isHorizontal?"left":"bottom";ae._sizeFn=ae._isHorizontal?"width":"height";ae._outerSize=ae._isHorizontal?"outerWidth":"outerHeight";ac.tooltip.format=ac.tooltip.enabled?ac.tooltip.format||"{0}":"{0}";ae._createHtml();ae.wrapper=ae.element.closest(".k-slider");ae._trackDiv=ae.wrapper.find(g);ae._setTrackDivWidth();ae._maxSelection=ae._trackDiv[ae._sizeFn]();ae._sliderItemsInit();ae._reset();ae._tabindex(ae.wrapper.find(f));ae[ac.enabled?"enable":"disable"]();var af=H.support.isRtl(ae.wrapper)?-1:1;ae._keyMap={37:G(-1*af*ac.smallStep),40:G(-ac.smallStep),39:G(+1*af*ac.smallStep),38:G(+ac.smallStep),35:K(ac.max),36:K(ac.min),33:G(+ac.largeStep),34:G(-ac.largeStep)};H.notify(ae)},events:[D,c],options:{enabled:true,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:true,format:"{0}"}},_resize:function(){this._setTrackDivWidth();this.wrapper.find(".k-slider-items").remove();this._maxSelection=this._trackDiv[this._sizeFn]();this._sliderItemsInit();this._refresh()},_sliderItemsInit:function(){var ae=this,ad=ae.options;var ac=ae._maxSelection/((ad.max-ad.min)/ad.smallStep);var af=ae._calculateItemsWidth(A.floor(ae._distance/ad.smallStep));if(ad.tickPlacement!="none"&&ac>=2){ae._trackDiv.before(o(ad,ae._distance));ae._setItemsWidth(af);ae._setItemsTitle()}ae._calculateSteps(af);if(ad.tickPlacement!="none"&&ac>=2&&ad.largeStep>=ad.smallStep){ae._setItemsLargeTick()}},getSize:function(){return H.dimensions(this.wrapper)},_setTrackDivWidth:function(){var ac=this,ad=parseFloat(ac._trackDiv.css(ac._isRtl?"right":ac._position),10)*2;ac._trackDiv[ac._sizeFn]((ac.wrapper[ac._sizeFn]()-2)-ad)},_setItemsWidth:function(ah){var af=this,am=af.options,ad=0,ak=ah.length-1,ag=af.wrapper.find(I),ac,al=0,aj=2,ae=ag.length,ai=0;for(ac=0;ac<ae-2;ac++){E(ag[ac+1])[af._sizeFn](ah[ac])}if(af._isHorizontal){E(ag[ad]).addClass("k-first")[af._sizeFn](ah[ak-1]);E(ag[ak]).addClass("k-last")[af._sizeFn](ah[ak])}else{E(ag[ak]).addClass("k-first")[af._sizeFn](ah[ak]);E(ag[ad]).addClass("k-last")[af._sizeFn](ah[ak-1])}if(af._distance%am.smallStep!==0&&!af._isHorizontal){for(ac=0;ac<ah.length;ac++){ai+=ah[ac]}al=af._maxSelection-ai;al+=parseFloat(af._trackDiv.css(af._position),10)+aj;af.wrapper.find(".k-slider-items").css("padding-top",al)}},_setItemsTitle:function(){var aj=this,af=aj.options,ae=aj.wrapper.find(I),ah=af.min,ai=ae.length,ag=aj._isHorizontal&&!aj._isRtl?0:ai-1,ad=aj._isHorizontal&&!aj._isRtl?ai:-1,ac=aj._isHorizontal&&!aj._isRtl?1:-1;for(;ag-ad!==0;ag+=ac){E(ae[ag]).attr("title",z(af.tooltip.format,Z(ah)));ah+=af.smallStep}},_setItemsLargeTick:function(){var ag=this,ad=ag.options,ac=ag.wrapper.find(I),ae=0,af,ah;if(u(ad.largeStep)%u(ad.smallStep)===0||ag._distance/ad.largeStep>=3){if(!ag._isHorizontal&&!ag._isRtl){ac=E.makeArray(ac).reverse()}for(ae=0;ae<ac.length;ae++){af=E(ac[ae]);ah=ag._values[ae];var ai=Z(u(ah-this.options.min));if(ai%u(ad.smallStep)===0&&ai%u(ad.largeStep)===0){af.addClass("k-tick-large").html("<span class='k-label'>"+af.attr("title")+"</span>");if(ae!==0&&ae!==ac.length-1){af.css("line-height",af[ag._sizeFn]()+"px")}}}}},_calculateItemsWidth:function(ac){var ag=this,ad=ag.options,ai=parseFloat(ag._trackDiv.css(ag._sizeFn))+1,af=ai/ag._distance,ah,aj,ae;if((ag._distance/ad.smallStep)-A.floor(ag._distance/ad.smallStep)>0){ai-=((ag._distance%ad.smallStep)*af)}ah=ai/ac;aj=[];for(ae=0;ae<ac-1;ae++){aj[ae]=ah}aj[ac-1]=aj[ac]=ah/2;return ag._roundWidths(aj)},_roundWidths:function(ae){var af=0,ad=ae.length,ac;for(ac=0;ac<ad;ac++){af+=(ae[ac]-A.floor(ae[ac]));ae[ac]=A.floor(ae[ac])}af=A.round(af);return this._addAdditionalSize(af,ae)},_addAdditionalSize:function(ac,af){if(ac===0){return af}var ae=parseFloat(af.length-1)/parseFloat(ac==1?ac:ac-1),ad;for(ad=0;ad<ac;ad++){af[parseInt(A.round(ae*ad),10)]+=1}return af},_calculateSteps:function(aj){var ah=this,ad=ah.options,ai=ad.min,af=0,ac=A.ceil(ah._distance/ad.smallStep),ae=1,ag;ac+=(ah._distance/ad.smallStep)%1===0?1:0;aj.splice(0,0,aj[ac-2]*2);aj.splice(ac-1,1,aj.pop()*2);ah._pixelSteps=[af];ah._values=[ai];if(ac===0){return}while(ae<ac){af+=(aj[ae-1]+aj[ae])/2;ah._pixelSteps[ae]=af;ai+=ad.smallStep;ah._values[ae]=Z(ai);ae++}ag=ah._distance%ad.smallStep===0?ac-1:ac;ah._pixelSteps[ag]=ah._maxSelection;ah._values[ag]=ad.max;if(ah._isRtl){ah._pixelSteps.reverse();ah._values.reverse()}},_getValueFromPosition:function(aj,ae){var ai=this,ad=ai.options,ah=A.max(ad.smallStep*(ai._maxSelection/ai._distance),0),ac=0,ag=(ah/2),af;if(ai._isHorizontal){ac=aj-ae.startPoint;if(ai._isRtl){ac=ai._maxSelection-ac}}else{ac=ae.startPoint-aj}if(ai._maxSelection-((parseInt(ai._maxSelection%ah,10)-3)/2)<ac){return ad.max}for(af=0;af<ai._pixelSteps.length;af++){if(A.abs(ai._pixelSteps[af]-ac)-1<=ag){return Z(ai._values[af])}}},_getFormattedValue:function(aj,ae){var af=this,ad="",ah=af.options.tooltip,ac,ag,ai;if(t(aj)){ag=aj[0];ai=aj[1]}else{if(ae&&ae.type){ag=ae.selectionStart;ai=ae.selectionEnd}}if(ae){ac=ae.tooltipTemplate}if(!ac&&ah.template){ac=H.template(ah.template)}if(t(aj)||(ae&&ae.type)){if(ac){ad=ac({selectionStart:ag,selectionEnd:ai})}else{ag=z(ah.format,ag);ai=z(ah.format,ai);ad=ag+" - "+ai}}else{if(ae){ae.val=aj}if(ac){ad=ac({value:aj})}else{ad=z(ah.format,aj)}}return ad},_getDraggableArea:function(){var ac=this,ad=H.getOffset(ac._trackDiv);return{startPoint:ac._isHorizontal?ad.left:ad.top+ac._maxSelection,endPoint:ac._isHorizontal?ad.left+ac._maxSelection:ad.top}},_createHtml:function(){var af=this,ae=af.element,ad=af.options,ac=ae.find("input");if(ac.length==2){ac.eq(0).prop("value",n(ad.selectionStart));ac.eq(1).prop("value",n(ad.selectionEnd))}else{ae.prop("value",n(ad.value))}ae.wrap(P(ad,ae,af._isHorizontal)).hide();if(ad.showButtons){ae.before(B(ad,"increase",af._isHorizontal)).before(B(ad,"decrease",af._isHorizontal))}ae.before(b(ad,ae))},_focus:function(af){var ad=this,ae=af.target,ag=ad.value(),ac=ad._drag;if(!ac){if(ae==ad.wrapper.find(f).eq(0)[0]){ac=ad._firstHandleDrag;ad._activeHandle=0}else{ac=ad._lastHandleDrag;ad._activeHandle=1}ag=ag[ad._activeHandle]}E(ae).addClass(R+" "+s);if(ac){ad._activeHandleDrag=ac;ac.selectionStart=ad.options.selectionStart;ac.selectionEnd=ad.options.selectionEnd;ac._updateTooltip(ag)}},_focusWithMouse:function(ae){ae=E(ae);var ad=this,ac=ae.is(f)?ae.index():0;window.setTimeout(function(){ad.wrapper.find(f)[ac==2?1:0].focus()},1);ad._setTooltipTimeout()},_blur:function(ae){var ad=this,ac=ad._activeHandleDrag;E(ae.target).removeClass(R+" "+s);if(ac){ac._removeTooltip();delete ad._activeHandleDrag;delete ad._activeHandle}},_setTooltipTimeout:function(){var ac=this;ac._tooltipTimeout=window.setTimeout(function(){var ad=ac._drag||ac._activeHandleDrag;if(ad){ad._removeTooltip()}},300)},_clearTooltipTimeout:function(){var ad=this;window.clearTimeout(this._tooltipTimeout);var ac=ad._drag||ad._activeHandleDrag;if(ac&&ac.tooltipDiv){ac.tooltipDiv.stop(true,false).css("opacity",1)}},_reset:function(){var ae=this,ac=ae.element,af=ac.attr("form"),ad=af?E("#"+af):ac.closest("form");if(ad[0]){ae._form=ad.on("reset",X(ae._formResetHandler,ae))}},destroy:function(){if(this._form){this._form.off("reset",this._formResetHandler)}d.fn.destroy.call(this)}});function P(ac,af,ai){var ae=ai?" k-slider-horizontal":" k-slider-vertical",ag=ac.style?ac.style:af.attr("style"),ad=af.attr("class")?(" "+af.attr("class")):"",ah="";if(ac.tickPlacement=="bottomRight"){ah=" k-slider-bottomright"}else{if(ac.tickPlacement=="topLeft"){ah=" k-slider-topleft"}}ag=ag?" style='"+ag+"'":"";return"<div class='k-widget k-slider"+ae+ad+"'"+ag+"><div class='k-slider-wrap"+(ac.showButtons?" k-slider-buttons":"")+ah+"'></div></div>"}function B(ac,ae,af){var ad="";if(ae=="increase"){ad=af?"k-i-arrow-e":"k-i-arrow-n"}else{ad=af?"k-i-arrow-w":"k-i-arrow-s"}return"<a class='k-button k-button-"+ae+"'><span class='k-icon "+ad+"' title='"+ac[ae+"ButtonTitle"]+"'>"+ac[ae+"ButtonTitle"]+"</span></a>"}function o(ad,ag){var ac="<ul class='k-reset k-slider-items'>",af=A.floor(Z(ag/ad.smallStep))+1,ae;for(ae=0;ae<af;ae++){ac+="<li class='k-tick' role='presentation'>&nbsp;</li>"}ac+="</ul>";return ac}function b(ac,ae){var af=ae.is("input")?1:2,ad=af==2?ac.leftDragHandleTitle:ac.dragHandleTitle;return"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div><a href='#' class='k-draghandle' title='"+ad+"' role='slider' aria-valuemin='"+ac.min+"' aria-valuemax='"+ac.max+"' aria-valuenow='"+(af>1?(ac.selectionStart||ac.min):ac.value||ac.min)+"'>Drag</a>"+(af>1?"<a href='#' class='k-draghandle' title='"+ac.rightDragHandleTitle+"'role='slider' aria-valuemin='"+ac.min+"' aria-valuemax='"+ac.max+"' aria-valuenow='"+(ac.selectionEnd||ac.max)+"'>Drag</a>":"")+"</div>"}function G(ac){return function(ad){return ad+ac}}function K(ac){return function(){return ac}}function n(ac){return(ac+"").replace(".",H.cultures.current.numberFormat["."])}function Z(ad){ad=parseFloat(ad,10);var ac=A.pow(10,m||0);return A.round(ad*ac)/ac}function w(ad,ac){var ae=p(ad.getAttribute(ac));if(ae===null){ae=l}return ae}function W(ac){return typeof ac!==F}function u(ac){return ac*10000}var J=ab.extend({init:function(ae,ad){var af=this,ac;ae.type="text";ad=j({},{value:w(ae,"value"),min:w(ae,"min"),max:w(ae,"max"),smallStep:w(ae,"step")},ad);ae=E(ae);if(ad&&ad.enabled===l){ad.enabled=!ae.is("[disabled]")}ab.fn.init.call(af,ae,ad);ad=af.options;if(!W(ad.value)||ad.value===null){ad.value=ad.min;ae.prop("value",n(ad.min))}ad.value=A.max(A.min(ad.value,ad.max),ad.min);ac=af.wrapper.find(f);new J.Selection(ac,af,ad);af._drag=new J.Drag(ac,"",af,ad)},options:{name:"Slider",showButtons:true,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},value:null},enable:function(af){var ag=this,ae=ag.options,ah,ad;ag.disable();if(af===false){return}ag.wrapper.removeClass(y).addClass(Y);ag.wrapper.find("input").removeAttr(C);ah=function(ak){var am=q(ak)[0];if(!am){return}var al=ag._isHorizontal?am.location.pageX:am.location.pageY,ai=ag._getDraggableArea(),aj=E(ak.target);if(aj.hasClass("k-draghandle")){aj.addClass(R+" "+s);return}ag._update(ag._getValueFromPosition(al,ai));ag._focusWithMouse(ak.target);ag._drag.dragstart(ak);ak.preventDefault()};ag.wrapper.find(I+", "+g).on(V,ah).end().on(V,function(){E(document.documentElement).one("selectstart",H.preventDefault)}).on(h,function(){ag._drag._end()});ag.wrapper.find(f).attr(v,0).on(e,function(){ag._setTooltipTimeout()}).on(S,function(ai){ag._focusWithMouse(ai.target);ai.preventDefault()}).on(aa,X(ag._focus,ag)).on(O,X(ag._blur,ag));ad=X(function(ai){var aj=ag._nextValueByIndex(ag._valueIndex+(ai*1));ag._setValueInRange(aj);ag._drag._updateTooltip(aj)},ag);if(ae.showButtons){var ac=X(function(aj,ai){this._clearTooltipTimeout();if(aj.which===1||(Q.touch&&aj.which===0)){ad(ai);this.timeout=setTimeout(X(function(){this.timer=setInterval(function(){ad(ai)},60)},this),200)}},ag);ag.wrapper.find(".k-button").on(e,X(function(ai){this._clearTimer();ag._focusWithMouse(ai.target)},ag)).on(i,function(ai){E(ai.currentTarget).addClass("k-state-hover")}).on("mouseout"+N,X(function(ai){E(ai.currentTarget).removeClass("k-state-hover");this._clearTimer()},ag)).eq(0).on(M,X(function(ai){ac(ai,1)},ag)).click(false).end().eq(1).on(M,X(function(ai){ac(ai,-1)},ag)).click(H.preventDefault)}ag.wrapper.find(f).off(x,false).on(x,X(this._keydown,ag));ae.enabled=true},disable:function(){var ac=this;ac.wrapper.removeClass(Y).addClass(y);E(ac.element).prop(C,C);ac.wrapper.find(".k-button").off(M).on(M,H.preventDefault).off(e).on(e,H.preventDefault).off("mouseleave"+N).on("mouseleave"+N,H.preventDefault).off(i).on(i,H.preventDefault);ac.wrapper.find(I+", "+g).off(V).off(h);ac.wrapper.find(f).attr(v,-1).off(e).off(x).off(S).off(aa).off(O);ac.options.enabled=false},_update:function(ad){var ac=this,ae=ac.value()!=ad;ac.value(ad);if(ae){ac.trigger(D,{value:ac.options.value})}},value:function(ae){var ad=this,ac=ad.options;ae=Z(ae);if(isNaN(ae)){return ac.value}if(ae>=ac.min&&ae<=ac.max){if(ac.value!=ae){ad.element.prop("value",n(ae));ac.value=ae;ad._refreshAriaAttr(ae);ad._refresh()}}},_refresh:function(){this.trigger(r,{value:this.options.value})},_refreshAriaAttr:function(af){var ae=this,ad=ae._drag,ac;if(ad&&ad._tooltipDiv){ac=ad._tooltipDiv.text()}else{ac=ae._getFormattedValue(af,null)}this.wrapper.find(f).attr("aria-valuenow",af).attr("aria-valuetext",ac)},_clearTimer:function(){clearTimeout(this.timeout);clearInterval(this.timer)},_keydown:function(ad){var ac=this;if(ad.keyCode in ac._keyMap){ac._clearTooltipTimeout();ac._setValueInRange(ac._keyMap[ad.keyCode](ac.options.value));ac._drag._updateTooltip(ac.value());ad.preventDefault()}},_setValueInRange:function(ae){var ad=this,ac=ad.options;ae=Z(ae);if(isNaN(ae)){ad._update(ac.min);return}ae=A.max(A.min(ae,ac.max),ac.min);ad._update(ae)},_nextValueByIndex:function(ac){var ad=this._values.length;if(this._isRtl){ac=ad-1-ac}return this._values[A.max(0,A.min(ac,ad-1))]},_formResetHandler:function(){var ad=this,ac=ad.options.min;setTimeout(function(){var ae=ad.element[0].value;ad.value(ae===""||isNaN(ae)?ac:ae)})},destroy:function(){var ac=this;ab.fn.destroy.call(ac);ac.wrapper.off(N).find(".k-button").off(N).end().find(f).off(N).end().find(I+", "+g).off(N).end();ac._drag.draggable.destroy();ac._drag._removeTooltip(true)}});J.Selection=function(ac,ae,ad){function af(am){var ah=am-ad.min,ag=ae._valueIndex=A.ceil(Z(ah/ad.smallStep)),aj=parseInt(ae._pixelSteps[ag],10),al=ae._trackDiv.find(".k-slider-selection"),ai=parseInt(ac[ae._outerSize]()/2,10),ak=ae._isRtl?2:0;al[ae._sizeFn](ae._isRtl?ae._maxSelection-aj:aj);ac.css(ae._position,aj-ai-ak)}af(ad.value);ae.bind([D,c,r],function(ag){af(parseFloat(ag.value,10))})};J.Drag=function(ae,af,ac,ad){var ag=this;ag.owner=ac;ag.options=ad;ag.element=ae;ag.type=af;ag.draggable=new k(ae,{distance:0,dragstart:X(ag._dragstart,ag),drag:X(ag.drag,ag),dragend:X(ag.dragend,ag),dragcancel:X(ag.dragcancel,ag)});ae.click(false)};J.Drag.prototype={dragstart:function(ac){this.owner._activeDragHandle=this;this.draggable.userEvents.cancel();this.draggable.userEvents._start(ac)},_dragstart:function(af){var ae=this,ac=ae.owner,ad=ae.options;if(!ad.enabled){af.preventDefault();return}this.owner._activeDragHandle=this;ac.element.off(i);ac.wrapper.find("."+R).removeClass(R+" "+s);ae.element.addClass(R+" "+s);E(document.documentElement).css("cursor","pointer");ae.dragableArea=ac._getDraggableArea();ae.step=A.max(ad.smallStep*(ac._maxSelection/ac._distance),0);if(ae.type){ae.selectionStart=ad.selectionStart;ae.selectionEnd=ad.selectionEnd;ac._setZIndex(ae.type)}else{ae.oldVal=ae.val=ad.value}ae._removeTooltip(true);ae._createTooltip()},_createTooltip:function(){var ag=this,ac=ag.owner,ai=ag.options.tooltip,ae="",af=E(window),ad,ah;if(!ai.enabled){return}if(ai.template){ad=ag.tooltipTemplate=H.template(ai.template)}E(".k-slider-tooltip").remove();ag.tooltipDiv=E("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --></div>").appendTo(document.body);ae=ac._getFormattedValue(ag.val||ac.value(),ag);if(!ag.type){ah="k-callout-"+(ac._isHorizontal?"s":"e");ag.tooltipInnerDiv="<div class='k-callout "+ah+"'><!-- --></div>";ae+=ag.tooltipInnerDiv}ag.tooltipDiv.html(ae);ag._scrollOffset={top:af.scrollTop(),left:af.scrollLeft()};ag.moveTooltip()},drag:function(ai){var ah=this,ad=ah.owner,ac=ai.x.location,aj=ai.y.location,ag=ah.dragableArea.startPoint,ae=ah.dragableArea.endPoint,af;ai.preventDefault();if(ad._isHorizontal){if(ad._isRtl){ah.val=ah.constrainValue(ac,ag,ae,ac<ae)}else{ah.val=ah.constrainValue(ac,ag,ae,ac>=ae)}}else{ah.val=ah.constrainValue(aj,ae,ag,aj<=ae)}if(ah.oldVal!=ah.val){ah.oldVal=ah.val;if(ah.type){if(ah.type=="firstHandle"){if(ah.val<ah.selectionEnd){ah.selectionStart=ah.val}else{ah.selectionStart=ah.selectionEnd=ah.val}}else{if(ah.val>ah.selectionStart){ah.selectionEnd=ah.val}else{ah.selectionStart=ah.selectionEnd=ah.val}}af={values:[ah.selectionStart,ah.selectionEnd],value:[ah.selectionStart,ah.selectionEnd]}}else{af={value:ah.val}}ad.trigger(c,af)}ah._updateTooltip(ah.val)},_updateTooltip:function(ag){var ae=this,ac=ae.options,af=ac.tooltip,ad="";if(!af.enabled){return}if(!ae.tooltipDiv){ae._createTooltip()}ad=ae.owner._getFormattedValue(Z(ag),ae);if(!ae.type){ad+=ae.tooltipInnerDiv}ae.tooltipDiv.html(ad);ae.moveTooltip()},dragcancel:function(){this.owner._refresh();E(document.documentElement).css("cursor","");return this._end()},dragend:function(){var ad=this,ac=ad.owner;E(document.documentElement).css("cursor","");if(ad.type){ac._update(ad.selectionStart,ad.selectionEnd)}else{ac._update(ad.val);ad.draggable.userEvents._disposeAll()}return ad._end()},_end:function(){var ad=this,ac=ad.owner;ac._focusWithMouse(ad.element);ac.element.on(i);return false},_removeTooltip:function(ad){var ae=this,ac=ae.owner;if(ae.tooltipDiv&&ac.options.tooltip.enabled&&ac.options.enabled){if(ad){ae.tooltipDiv.remove();ae.tooltipDiv=null}else{ae.tooltipDiv.fadeOut("slow",function(){E(this).remove();ae.tooltipDiv=null})}}},moveTooltip:function(){var ak=this,ad=ak.owner,an=0,ae=0,ai=ak.element,ah=H.getOffset(ai),ag=8,am=E(window),af=ak.tooltipDiv.find(".k-callout"),ac=ak.tooltipDiv.outerWidth(),aq=ak.tooltipDiv.outerHeight(),aj,ao,ap,al;if(ak.type){aj=ad.wrapper.find(f);ah=H.getOffset(aj.eq(0));ao=H.getOffset(aj.eq(1));if(ad._isHorizontal){an=ao.top;ae=ah.left+((ao.left-ah.left)/2)}else{an=ah.top+((ao.top-ah.top)/2);ae=ao.left}al=aj.eq(0).outerWidth()+2*ag}else{an=ah.top;ae=ah.left;al=ai.outerWidth()+2*ag}if(ad._isHorizontal){ae-=parseInt((ac-ai[ad._outerSize]())/2,10);an-=aq+af.height()+ag}else{an-=parseInt((aq-ai[ad._outerSize]())/2,10);ae-=ac+af.width()+ag}if(ad._isHorizontal){ap=ak._flip(an,aq,al,am.outerHeight()+ak._scrollOffset.top);an+=ap;ae+=ak._fit(ae,ac,am.outerWidth()+ak._scrollOffset.left)}else{ap=ak._flip(ae,ac,al,am.outerWidth()+ak._scrollOffset.left);an+=ak._fit(an,aq,am.outerHeight()+ak._scrollOffset.top);ae+=ap}if(ap>0&&af){af.removeClass();af.addClass("k-callout k-callout-"+(ad._isHorizontal?"n":"w"))}ak.tooltipDiv.css({top:an,left:ae})},_fit:function(ad,af,ac){var ae=0;if(ad+af>ac){ae=ac-(ad+af)}if(ad<0){ae=-ad}return ae},_flip:function(ag,af,ad,ac){var ae=0;if(ag+af>ac){ae+=-(ad+af)}if(ag+ae<0){ae+=ad+af}return ae},constrainValue:function(ad,ae,ac,ag){var af=this,ah=0;if(ae<ad&&ad<ac){ah=af.owner._getValueFromPosition(ad,af.dragableArea)}else{if(ag){ah=af.options.max}else{ah=af.options.min}}return ah}};H.ui.plugin(J);var U=ab.extend({init:function(ag,af){var ai=this,ad=E(ag).find("input"),ac=ad.eq(0)[0],ah=ad.eq(1)[0];ac.type="text";ah.type="text";af=j({},{selectionStart:w(ac,"value"),min:w(ac,"min"),max:w(ac,"max"),smallStep:w(ac,"step")},{selectionEnd:w(ah,"value"),min:w(ah,"min"),max:w(ah,"max"),smallStep:w(ah,"step")},af);if(af&&af.enabled===l){af.enabled=!ad.is("[disabled]")}ab.fn.init.call(ai,ag,af);af=ai.options;if(!W(af.selectionStart)||af.selectionStart===null){af.selectionStart=af.min;ad.eq(0).prop("value",n(af.min))}if(!W(af.selectionEnd)||af.selectionEnd===null){af.selectionEnd=af.max;ad.eq(1).prop("value",n(af.max))}var ae=ai.wrapper.find(f);new U.Selection(ae,ai,af);ai._firstHandleDrag=new J.Drag(ae.eq(0),"firstHandle",ai,af);ai._lastHandleDrag=new J.Drag(ae.eq(1),"lastHandle",ai,af)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},selectionStart:null,selectionEnd:null},enable:function(ad){var ae=this,ac=ae.options,af;ae.disable();if(ad===false){return}ae.wrapper.removeClass(y).addClass(Y);ae.wrapper.find("input").removeAttr(C);af=function(aj){var ah=q(aj)[0];if(!ah){return}var ao=ae._isHorizontal?ah.location.pageX:ah.location.pageY,al=ae._getDraggableArea(),ag=ae._getValueFromPosition(ao,al),ak=E(aj.target),am,an,ai;if(ak.hasClass("k-draghandle")){ae.wrapper.find("."+R).removeClass(R+" "+s);ak.addClass(R+" "+s);return}if(ag<ac.selectionStart){am=ag;an=ac.selectionEnd;ai=ae._firstHandleDrag}else{if(ag>ae.selectionEnd){am=ac.selectionStart;an=ag;ai=ae._lastHandleDrag}else{if(ag-ac.selectionStart<=ac.selectionEnd-ag){am=ag;an=ac.selectionEnd;ai=ae._firstHandleDrag}else{am=ac.selectionStart;an=ag;ai=ae._lastHandleDrag}}}ai.dragstart(aj);ae._setValueInRange(am,an);ae._focusWithMouse(ai.element)};ae.wrapper.find(I+", "+g).on(V,af).end().on(V,function(){E(document.documentElement).one("selectstart",H.preventDefault)}).on(h,function(){if(ae._activeDragHandle){ae._activeDragHandle._end()}});ae.wrapper.find(f).attr(v,0).on(e,function(){ae._setTooltipTimeout()}).on(S,function(ag){ae._focusWithMouse(ag.target);ag.preventDefault()}).on(aa,X(ae._focus,ae)).on(O,X(ae._blur,ae));ae.wrapper.find(f).off(x,H.preventDefault).eq(0).on(x,X(function(ag){this._keydown(ag,"firstHandle")},ae)).end().eq(1).on(x,X(function(ag){this._keydown(ag,"lastHandle")},ae));ae.options.enabled=true},disable:function(){var ac=this;ac.wrapper.removeClass(Y).addClass(y);ac.wrapper.find("input").prop(C,C);ac.wrapper.find(I+", "+g).off(V).off(h);ac.wrapper.find(f).attr(v,-1).off(e).off(x).off(S).off(aa).off(O);ac.options.enabled=false},_keydown:function(ah,ag){var af=this,aj=af.options.selectionStart,ad=af.options.selectionEnd,ac,ai,ae;if(ah.keyCode in af._keyMap){af._clearTooltipTimeout();if(ag=="firstHandle"){ae=af._activeHandleDrag=af._firstHandleDrag;aj=af._keyMap[ah.keyCode](aj);if(aj>ad){ad=aj}}else{ae=af._activeHandleDrag=af._lastHandleDrag;ad=af._keyMap[ah.keyCode](ad);if(aj>ad){aj=ad}}af._setValueInRange(aj,ad);ac=Math.max(aj,af.options.selectionStart);ai=Math.min(ad,af.options.selectionEnd);ae.selectionEnd=Math.max(ai,af.options.selectionStart);ae.selectionStart=Math.min(ac,af.options.selectionEnd);ae._updateTooltip(af.value()[af._activeHandle]);ah.preventDefault()}},_update:function(ae,af){var ad=this,ac=ad.value();var ag=ac[0]!=ae||ac[1]!=af;ad.value([ae,af]);if(ag){ad.trigger(D,{values:[ae,af],value:[ae,af]})}},value:function(ac){if(ac&&ac.length){return this._value(ac[0],ac[1])}else{return this._value()}},_value:function(ah,ac){var ae=this,ad=ae.options,af=ad.selectionStart,ag=ad.selectionEnd;if(isNaN(ah)&&isNaN(ac)){return[af,ag]}else{ah=Z(ah);ac=Z(ac)}if(ah>=ad.min&&ah<=ad.max&&ac>=ad.min&&ac<=ad.max&&ah<=ac){if(af!=ah||ag!=ac){ae.element.find("input").eq(0).prop("value",n(ah)).end().eq(1).prop("value",n(ac));ad.selectionStart=ah;ad.selectionEnd=ac;ae._refresh();ae._refreshAriaAttr(ah,ac)}}},values:function(ad,ac){if(t(ad)){return this._value(ad[0],ad[1])}else{return this._value(ad,ac)}},_refresh:function(){var ad=this,ac=ad.options;ad.trigger(r,{values:[ac.selectionStart,ac.selectionEnd],value:[ac.selectionStart,ac.selectionEnd]});if(ac.selectionStart==ac.max&&ac.selectionEnd==ac.max){ad._setZIndex("firstHandle")}},_refreshAriaAttr:function(ah,ac){var ag=this,ad=ag.wrapper.find(f),af=ag._activeHandleDrag,ae;ae=ag._getFormattedValue([ah,ac],af);ad.eq(0).attr("aria-valuenow",ah);ad.eq(1).attr("aria-valuenow",ac);ad.attr("aria-valuetext",ae)},_setValueInRange:function(ad,ae){var ac=this.options;ad=A.max(A.min(ad,ac.max),ac.min);ae=A.max(A.min(ae,ac.max),ac.min);if(ad==ac.max&&ae==ac.max){this._setZIndex("firstHandle")}this._update(A.min(ad,ae),A.max(ad,ae))},_setZIndex:function(ac){this.wrapper.find(f).each(function(ad){E(this).css("z-index",ac=="firstHandle"?1-ad:ad)})},_formResetHandler:function(){var ad=this,ac=ad.options;setTimeout(function(){var af=ad.element.find("input");var ag=af[0].value;var ae=af[1].value;ad.values(ag===""||isNaN(ag)?ac.min:ag,ae===""||isNaN(ae)?ac.max:ae)})},destroy:function(){var ac=this;ab.fn.destroy.call(ac);ac.wrapper.off(N).find(I+", "+g).off(N).end().find(f).off(N);ac._firstHandleDrag.draggable.destroy();ac._lastHandleDrag.draggable.destroy()}});U.Selection=function(ac,af,ae){function ag(am){am=am||[];var al=am[0]-ae.min,ah=am[1]-ae.min,ak=A.ceil(Z(al/ae.smallStep)),an=A.ceil(Z(ah/ae.smallStep)),ao=af._pixelSteps[ak],ap=af._pixelSteps[an],ai=parseInt(ac.eq(0)[af._outerSize]()/2,10),aj=af._isRtl?2:0;ac.eq(0).css(af._position,ao-ai-aj).end().eq(1).css(af._position,ap-ai-aj);ad(ao,ap)}function ad(aj,ak){var ah,al,ai=af._trackDiv.find(".k-slider-selection");ah=A.abs(aj-ak);ai[af._sizeFn](ah);if(af._isRtl){al=A.max(aj,ak);ai.css("right",af._maxSelection-al-1)}else{al=A.min(aj,ak);ai.css(af._position,al-1)}}ag(af.value());af.bind([D,c,r],function(ah){ag(ah.values)})};H.ui.plugin(U)})(window.kendo.jQuery);(function(g,m,h){var p=window.kendo,o=p.ui,e=o.Widget,w=p.parseColor,A=p.Color,x=p.keys,u="background-color",i="k-state-selected",d="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",r="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",t={apply:"Apply",cancel:"Cancel"},v=".kendoColorTools",f="click"+v,q="keydown"+v,z=p.support.browser,n=z.msie&&z.version<9;var s=e.extend({init:function(D,C){var E=this,F;e.fn.init.call(E,D,C);D=E.element;C=E.options;E._value=C.value=w(C.value);E._tabIndex=D.attr("tabIndex")||0;F=E._ariaId=C.ariaId;if(F){D.attr("aria-labelledby",F)}if(C._standalone){E._triggerSelect=E._triggerChange}},options:{name:"ColorSelector",value:null,_standalone:true},events:["change","select","cancel"],color:function(C){if(C!==h){this._value=w(C);this._updateUI(this._value)}return this._value},value:function(C){C=this.color(C);if(C){if(this.options.opacity){C=C.toCssRgba()}else{C=C.toCss()}}return C||null},enable:function(C){if(arguments.length===0){C=true}g(".k-disabled-overlay",this.wrapper).remove();if(!C){this.wrapper.append("<div class='k-disabled-overlay'></div>")}this._onEnable(C)},_select:function(C,D){var E=this._value;C=this.color(C);if(!D){this.element.trigger("change");if(!C.equals(E)){this.trigger("change",{value:this.value()})}else{if(!this._standalone){this.trigger("cancel")}}}},_triggerSelect:function(C){c(this,"select",C)},_triggerChange:function(C){c(this,"change",C)},destroy:function(){if(this.element){this.element.off(v)}if(this.wrapper){this.wrapper.off(v).find("*").off(v)}this.wrapper=null;e.fn.destroy.call(this)},_updateUI:g.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}});function c(D,E,C){C=w(C);if(C&&!C.equals(D.color())){if(E=="change"){D._value=C}if(C.a!=1){C=C.toCssRgba()}else{C=C.toCss()}D.trigger(E,{value:C})}}var j=s.extend({init:function(F,E){var H=this;s.fn.init.call(H,F,E);F=H.wrapper=H.element;E=H.options;var D=E.palette;if(D=="websafe"){D=r;E.columns=18}else{if(D=="basic"){D=d}}if(typeof D=="string"){D=D.split(",")}if(g.isArray(D)){D=g.map(D,function(J){return w(J)})}H._selectedID=(E.ariaId||p.guid())+"_selected";F.addClass("k-widget k-colorpalette").attr("role","grid").attr("aria-readonly","true").append(g(H._template({colors:D,columns:E.columns,tileSize:E.tileSize,value:H._value,id:E.ariaId}))).on(f,".k-item",function(J){H._select(g(J.currentTarget).css(u))}).attr("tabIndex",H._tabIndex).on(q,B(H._keydown,H));var I=E.tileSize,G,C;if(I){if(/number|string/.test(typeof I)){G=C=parseFloat(I)}else{if(typeof I=="object"){G=parseFloat(I.width);C=parseFloat(I.height)}else{throw new Error("Unsupported value for the 'tileSize' argument")}}F.find(".k-item").css({width:G,height:C})}},focus:function(){this.wrapper.focus()},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(C){if(C){this.wrapper.attr("tabIndex",this._tabIndex)}else{this.wrapper.removeAttr("tabIndex")}},_keydown:function(I){var F,J=this.wrapper,D=J.find(".k-item"),H=D.filter("."+i).get(0),G=I.keyCode;if(G==x.LEFT){F=y(D,H,-1)}else{if(G==x.RIGHT){F=y(D,H,1)}else{if(G==x.DOWN){F=y(D,H,this.options.columns)}else{if(G==x.UP){F=y(D,H,-this.options.columns)}else{if(G==x.ENTER){k(I);if(H){this._select(g(H).css(u))}}else{if(G==x.ESC){this._cancel()}}}}}}if(F){k(I);this._current(F);try{var C=w(F.css(u));this._triggerSelect(C)}catch(E){}}},_current:function(C){this.wrapper.find("."+i).removeClass(i).attr("aria-selected",false).removeAttr("id");g(C).addClass(i).attr("aria-selected",true).attr("id",this._selectedID);this.element.removeAttr("aria-activedescendant").attr("aria-activedescendant",this._selectedID)},_updateUI:function(C){var D=null;this.wrapper.find(".k-item").each(function(){var E=w(g(this).css(u));if(E&&E.equals(C)){D=this;return false}});this._current(D)},_template:p.template('<table class="k-palette k-reset" role="presentation"><tr role="row"># for (var i = 0; i < colors.length; ++i) { ## var selected = colors[i].equals(value); ## if (i && i % columns == 0) { # </tr><tr role="row"> # } #<td role="gridcell" unselectable="on" style="background-color:#= colors[i].toCss() #"#= selected ? " aria-selected=true" : "" # #=(id && i === 0) ? "id=\\""+id+"\\" " : "" # class="k-item#= selected ? " '+i+'" : "" #" aria-label="#= colors[i].toCss() #"></td># } #</tr></table>')});var l=s.extend({init:function(D,C){var E=this;s.fn.init.call(E,D,C);C=E.options;D=E.element;E.wrapper=D.addClass("k-widget k-flatcolorpicker").append(E._template(C));E._hueElements=g(".k-hsv-rectangle, .k-transparency-slider .k-slider-track",D);E._selectedColor=g(".k-selected-color-display",D);E._colorAsText=g("input.k-color-value",D);E._sliders();E._hsvArea();E._updateUI(E._value||w("#f00"));D.find("input.k-color-value").on(q,function(I){var G=this;if(I.keyCode==x.ENTER){try{var F=w(G.value);var J=E.color();E._select(F,F.equals(J))}catch(H){g(G).addClass("k-state-error")}}else{if(E.options.autoupdate){setTimeout(function(){var K=w(G.value,true);if(K){E._updateUI(K,true)}},10)}}}).end().on(f,".k-controls button.apply",function(){E._select(E._getHSV())}).on(f,".k-controls button.cancel",function(){E._updateUI(E.color());E._cancel()});if(n){E._applyIEFilter()}},destroy:function(){this._hueSlider.destroy();if(this._opacitySlider){this._opacitySlider.destroy()}this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null;s.fn.destroy.call(this)},options:{name:"FlatColorPicker",opacity:false,buttons:false,input:true,preview:true,autoupdate:true,messages:t},_applyIEFilter:function(){var C=this.element.find(".k-hue-slider .k-slider-track")[0],D=C.currentStyle.backgroundImage;D=D.replace(/^url\([\'\"]?|[\'\"]?\)$/g,"");C.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+D+"', sizingMethod='scale')"},_sliders:function(){var E=this,D=E.element;function C(G){E._updateUI(E._getHSV(G.value,null,null,null))}E._hueSlider=D.find(".k-hue-slider").kendoSlider({min:0,max:359,tickPlacement:"none",showButtons:false,slide:C,change:C}).data("kendoSlider");function F(G){E._updateUI(E._getHSV(null,null,null,G.value/100))}E._opacitySlider=D.find(".k-transparency-slider").kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:false,slide:F,change:F}).data("kendoSlider")},_hsvArea:function(){var F=this,E=F.element,C=E.find(".k-hsv-rectangle"),D=C.find(".k-draghandle").attr("tabIndex",0).on(q,B(F._keydown,F));function G(H,N){var M=this.offset,K=H-M.left,I=N-M.top,L=this.width,J=this.height;K=K<0?0:K>L?L:K;I=I<0?0:I>J?J:I;F._svChange(K/L,1-I/J)}F._hsvEvents=new p.UserEvents(C,{global:true,press:function(H){this.offset=p.getOffset(C);this.width=C.width();this.height=C.height();D.focus();G.call(this,H.x.location,H.y.location)},start:function(){C.addClass("k-dragging");D.focus()},move:function(H){H.preventDefault();G.call(this,H.x.location,H.y.location)},end:function(){C.removeClass("k-dragging")}});F._hsvRect=C;F._hsvHandle=D},_onEnable:function(C){this._hueSlider.enable(C);if(this._opacitySlider){this._opacitySlider.enable(C)}this.wrapper.find("input").attr("disabled",!C);var D=this._hsvRect.find(".k-draghandle");if(C){D.attr("tabIndex",this._tabIndex)}else{D.removeAttr("tabIndex")}},_keydown:function(F){var E=this;function C(I,G){var H=E._getHSV();H[I]+=G*(F.shiftKey?0.01:0.05);if(H[I]<0){H[I]=0}if(H[I]>1){H[I]=1}E._updateUI(H);k(F)}function D(G){var H=E._getHSV();H.h+=G*(F.shiftKey?1:5);if(H.h<0){H.h=0}if(H.h>359){H.h=359}E._updateUI(H);k(F)}switch(F.keyCode){case x.LEFT:if(F.ctrlKey){D(-1)}else{C("s",-1)}break;case x.RIGHT:if(F.ctrlKey){D(1)}else{C("s",1)}break;case x.UP:C(F.ctrlKey&&E._opacitySlider?"a":"v",1);break;case x.DOWN:C(F.ctrlKey&&E._opacitySlider?"a":"v",-1);break;case x.ENTER:E._select(E._getHSV());break;case x.F2:E.wrapper.find("input.k-color-value").focus().select();break;case x.ESC:E._cancel();break}},focus:function(){this._hsvHandle.focus()},_getHSV:function(I,H,F,E){var J=this._hsvRect,G=J.width(),C=J.height(),D=this._hsvHandle.position();if(I==null){I=this._hueSlider.value()}if(H==null){H=D.left/G}if(F==null){F=1-D.top/C}if(E==null){E=this._opacitySlider?this._opacitySlider.value()/100:1}return A.fromHSV(I,H,F,E)},_svChange:function(E,D){var C=this._getHSV(null,E,D,null);this._updateUI(C)},_updateUI:function(C,F){var E=this,D=E._hsvRect;if(!C){return}this._colorAsText.removeClass("k-state-error");E._selectedColor.css(u,C.toDisplay());if(!F){E._colorAsText.val(E._opacitySlider?C.toCssRgba():C.toCss())}E._triggerSelect(C);C=C.toHSV();E._hsvHandle.css({left:C.s*D.width()+"px",top:(1-C.v)*D.height()+"px"});E._hueElements.css(u,A.fromHSV(C.h,1,1,1).toCss());E._hueSlider.value(C.h);if(E._opacitySlider){E._opacitySlider.value(100*C.a)}},_selectOnHide:function(){return this.options.buttons?null:this._getHSV()},_template:p.template('# if (preview) { #<div class="k-selected-color"><div class="k-selected-color-display"><input class="k-color-value" #= !data.input ? \'style="visibility: hidden;"\' : "" #></div></div># } #<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div><input class="k-hue-slider" /># if (opacity) { #<input class="k-transparency-slider" /># } ## if (buttons) { #<div unselectable="on" class="k-controls"><button class="k-button k-primary apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div># } #')});function y(G,C,F){G=Array.prototype.slice.call(G);var E=G.length;var D=G.indexOf(C);if(D<0){return F<0?G[E-1]:G[0]}D+=F;if(D<0){D+=E}else{D%=E}return G[D]}var b=e.extend({init:function(E,D){var G=this;e.fn.init.call(G,E,D);D=G.options;E=G.element;var H=E.attr("value")||E.val();if(H){H=w(H,true)}else{H=w(D.value,true)}G._value=D.value=H;var F=G.wrapper=g(G._template(D));E.hide().after(F);if(E.is("input")){E.appendTo(F);var C=E.closest("label");var J=E.attr("id");if(J){C=C.add('label[for="'+J+'"]')}C.click(function(K){G.open();K.preventDefault()})}G._tabIndex=E.attr("tabIndex")||0;G.enable(!E.attr("disabled"));var I=E.attr("accesskey");if(I){E.attr("accesskey",null);F.attr("accesskey",I)}G.bind("activate",function(K){if(!K.isDefaultPrevented()){G.toggle()}});G._updateUI(H)},destroy:function(){this.wrapper.off(v).find("*").off(v);if(this._popup){this._selector.destroy();this._popup.destroy()}this._selector=this._popup=this.wrapper=null;e.fn.destroy.call(this)},enable:function(C){var F=this,G=F.wrapper,D=G.children(".k-picker-wrap"),E=D.find(".k-select");if(arguments.length===0){C=true}F.element.attr("disabled",!C);G.attr("aria-disabled",!C);E.off(v).on("mousedown"+v,k);G.addClass("k-state-disabled").removeAttr("tabIndex").add("*",G).off(v);if(C){G.removeClass("k-state-disabled").attr("tabIndex",F._tabIndex).on("mouseenter"+v,function(){D.addClass("k-state-hover")}).on("mouseleave"+v,function(){D.removeClass("k-state-hover")}).on("focus"+v,function(){D.addClass("k-state-focused")}).on("blur"+v,function(){D.removeClass("k-state-focused")}).on(q,B(F._keydown,F)).on(f,".k-icon",B(F.toggle,F)).on(f,F.options.toolIcon?".k-tool-icon":".k-selected-color",function(){F.trigger("activate")})}},_template:p.template('<span role="textbox" aria-haspopup="true" class="k-widget k-colorpicker k-header"><span class="k-picker-wrap k-state-default"># if (toolIcon) { #<span class="k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"></span># } #<span class="k-select" unselectable="on"><span class="k-icon k-i-arrow-s" unselectable="on"></span></span></span></span>'),options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:t,opacity:false,buttons:true,preview:true,ARIATemplate:'Current selected color is #=data || ""#'},events:["activate","change","select","open","close"],open:function(){this._getPopup().open()},close:function(){this._getPopup().close()},toggle:function(){this._getPopup().toggle()},color:s.fn.color,value:s.fn.value,_select:s.fn._select,_triggerSelect:s.fn._triggerSelect,_isInputTypeColor:function(){var C=this.element[0];return(/^input$/i).test(C.tagName)&&(/^color$/i).test(C.type)},_updateUI:function(D){var C="";if(D){if(this._isInputTypeColor()||D.a==1){C=D.toCss()}else{C=D.toCssRgba()}this.element.val(C)}if(!this._ariaTemplate){this._ariaTemplate=p.template(this.options.ARIATemplate)}this.wrapper.attr("aria-label",this._ariaTemplate(C));this._triggerSelect(D);this.wrapper.find(".k-selected-color").css(u,D?D.toDisplay():"transparent")},_keydown:function(D){var C=D.keyCode;if(this._getPopup().visible()){if(C==x.ESC){this._selector._cancel()}else{this._selector._keydown(D)}k(D)}else{if(C==x.ENTER||C==x.DOWN){this.open();k(D)}}},_getPopup:function(){var G=this,D=G._popup;if(!D){var F=G.options;var E;if(F.palette){E=j}else{E=l}F._standalone=false;delete F.select;delete F.change;delete F.cancel;var H=p.guid();var C=G._selector=new E(g('<div id="'+H+'"/>').appendTo(document.body),F);G.wrapper.attr("aria-owns",H);G._popup=D=C.wrapper.kendoPopup({anchor:G.wrapper,adjustSize:{width:5,height:0}}).data("kendoPopup");C.bind({select:function(I){G._updateUI(w(I.value))},change:function(){G._select(C.color());G.close()},cancel:function(){G.close()}});D.bind({close:function(J){if(G.trigger("close")){J.preventDefault();return}G.wrapper.children(".k-picker-wrap").removeClass("k-state-focused");var I=C._selectOnHide();if(!I){G.wrapper.focus();G._updateUI(G.color())}else{G._select(I)}},open:function(I){if(G.trigger("open")){I.preventDefault()}else{G.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}},activate:function(){C._select(G.color(),true);C.focus();G.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}})}return D}});function k(C){C.preventDefault()}function B(D,C){return function(){return D.apply(C,arguments)}}o.plugin(j);o.plugin(l);o.plugin(b)})(jQuery,parseInt);(function(x,l){var y=window.kendo,p=y.caret,s=y.keys,B=y.ui,b=B.Widget,g=y._activeElement,j=y._extractFormat,q=y.parseFloat,K=y.support.placeholder,n=y.getCulture,G=y._round,w="change",v="disabled",h="readonly",e="k-input",f="spin",I=".kendoNumericTextBox",A="touchend",o="mouseleave"+I,d="mouseenter"+I+" "+o,E="k-state-default",z="k-state-focused",r="k-state-hover",J="focus",C=".",t="k-state-selected",m="k-state-disabled",k="aria-disabled",D="aria-readonly",c=/^(-)?(\d*)$/,u=null,F=x.proxy;var H=b.extend({init:function(O,T){var P=this,R=T&&T.step!==l,N,Q,L,S,M;b.fn.init.call(P,O,T);T=P.options;O=P.element.on("focusout"+I,F(P._focusout,P)).attr("role","spinbutton");T.placeholder=T.placeholder||O.attr("placeholder");P._reset();P._wrapper();P._arrows();P._input();if(!y.support.mobileOS){P._text.on(J+I,F(P._click,P))}else{P._text.on(A+I+" "+J+I,function(U){P._toggleText(false);O.focus()})}N=P.min(O.attr("min"));Q=P.max(O.attr("max"));L=P._parse(O.attr("step"));if(T.min===u&&N!==u){T.min=N}if(T.max===u&&Q!==u){T.max=Q}if(!R&&L!==u){T.step=L}O.attr("aria-valuemin",T.min).attr("aria-valuemax",T.max);T.format=j(T.format);S=T.value;P.value(S!==u?S:O.val());M=O.is("[disabled]");if(M){P.enable(false)}else{P.readonly(O.is("[readonly]"))}y.notify(P)},options:{name:"NumericTextBox",decimals:u,min:u,max:u,value:u,step:1,culture:"",format:"n",spinners:true,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:[w,f],_editable:function(N){var P=this,O=P.element,M=N.disable,L=N.readonly,Q=P._text.add(O),R=P._inputWrapper.off(d);P._toggleText(true);P._upArrowEventHandler.unbind("press");P._downArrowEventHandler.unbind("press");O.off("keydown"+I).off("keypress"+I).off("paste"+I);if(!L&&!M){R.addClass(E).removeClass(m).on(d,P._toggleHover);Q.removeAttr(v).removeAttr(h).attr(k,false).attr(D,false);P._upArrowEventHandler.bind("press",function(S){S.preventDefault();P._spin(1);P._upArrow.addClass(t)});P._downArrowEventHandler.bind("press",function(S){S.preventDefault();P._spin(-1);P._downArrow.addClass(t)});P.element.on("keydown"+I,F(P._keydown,P)).on("keypress"+I,F(P._keypress,P)).on("paste"+I,F(P._paste,P))}else{R.addClass(M?m:E).removeClass(M?E:m);Q.attr(v,M).attr(h,L).attr(k,M).attr(D,L)}},readonly:function(L){this._editable({readonly:L===l?true:L,disable:false})},enable:function(L){this._editable({readonly:false,disable:!(L=L===l?true:L)})},destroy:function(){var L=this;L.element.add(L._text).add(L._upArrow).add(L._downArrow).add(L._inputWrapper).off(I);L._upArrowEventHandler.destroy();L._downArrowEventHandler.destroy();if(L._form){L._form.off("reset",L._resetHandler)}b.fn.destroy.call(L)},min:function(L){return this._option("min",L)},max:function(L){return this._option("max",L)},step:function(L){return this._option("step",L)},value:function(N){var M=this,L;if(N===l){return M._value}N=M._parse(N);L=M._adjust(N);if(N!==L){return}M._update(N);M._old=M._value},focus:function(){this._focusin()},_adjust:function(P){var O=this,M=O.options,N=M.min,L=M.max;if(P===u){return P}if(N!==u&&P<N){P=N}else{if(L!==u&&P>L){P=L}}return P},_arrows:function(){var P=this,M,Q=function(){clearTimeout(P._spinning);M.removeClass(t)},N=P.options,L=N.spinners,O=P.element;M=O.siblings(".k-icon");if(!M[0]){M=x(i("n",N.upArrowText)+i("s",N.downArrowText)).insertAfter(O);M.wrapAll('<span class="k-select"/>')}if(!L){M.parent().toggle(L);P._inputWrapper.addClass("k-expand-padding")}P._upArrow=M.eq(0);P._upArrowEventHandler=new y.UserEvents(P._upArrow,{release:Q});P._downArrow=M.eq(1);P._downArrowEventHandler=new y.UserEvents(P._downArrow,{release:Q})},_blur:function(){var L=this;L._toggleText(true);L._change(L.element.val())},_click:function(M){var L=this;clearTimeout(L._focusing);L._focusing=setTimeout(function(){var Q=M.target,T=p(Q)[0],S=Q.value.substring(0,T),R=L._format(L.options.format),U=R[","],V,O,N,P=0;if(U){O=new RegExp("\\"+U,"g");N=new RegExp("([\\d\\"+U+"]+)(\\"+R[C]+")?(\\d+)?")}if(N){V=N.exec(S)}if(V){P=V[0].replace(O,"").length;if(S.indexOf("(")!=-1&&L._value<0){P++}}L._focusin();p(L.element[0],P)})},_change:function(M){var L=this;L._update(M);M=L._value;if(L._old!=M){L._old=M;L.element.trigger(w);L.trigger(w)}},_culture:function(L){return L||n(this.options.culture)},_focusin:function(){var L=this;L._inputWrapper.addClass(z);L._toggleText(false);L.element[0].focus()},_focusout:function(){var L=this;clearTimeout(L._focusing);L._inputWrapper.removeClass(z).removeClass(r);L._blur()},_format:function(N,M){var L=this._culture(M).numberFormat;N=N.toLowerCase();if(N.indexOf("c")>-1){L=L.currency}else{if(N.indexOf("p")>-1){L=L.percent}}return L},_input:function(){var O=this,N="k-formatted-value",L=O.element.addClass(e).show()[0],M=L.accessKey,R=O.wrapper,Q;Q=R.find(C+N);if(!Q[0]){Q=x('<input type="text"/>').insertBefore(L).addClass(N)}try{L.setAttribute("type","text")}catch(P){L.type="text"}Q[0].tabIndex=L.tabIndex;Q[0].style.cssText=L.style.cssText;Q[0].title=L.title;Q.prop("placeholder",O.options.placeholder);if(M){Q.attr("accesskey",M);L.accessKey=""}O._text=Q.addClass(L.className)},_keydown:function(N){var M=this,L=N.keyCode;M._key=L;if(L==s.DOWN){M._step(-1)}else{if(L==s.UP){M._step(1)}else{if(L==s.ENTER){M._change(M.element.val())}}}},_keypress:function(P){if(P.which===0||P.metaKey||P.ctrlKey||P.keyCode===s.BACKSPACE||P.keyCode===s.ENTER){return}var O=this;var L=O.options.min;var M=O.element;var T=p(M);var S=T[0];var U=T[1];var N=String.fromCharCode(P.which);var Q=O._format(O.options.format);var W=O._key===s.NUMPAD_DOT;var R=M.val();var V;if(W){N=Q[C]}R=R.substring(0,S)+N+R.substring(U);V=O._numericRegex(Q).test(R);if(V&&W){M.val(R);p(M,S+N.length);P.preventDefault()}else{if((L!==null&&L>=0&&R.charAt(0)==="-")||!V){P.preventDefault()}}O._key=0},_numericRegex:function(L){var N=this;var O=L[C];var M=N.options.decimals;if(O===C){O="\\"+O}if(M===u){M=L.decimals}if(M===0){return c}if(N._separator!==O){N._separator=O;N._floatRegExp=new RegExp("^(-)?(((\\d+("+O+"\\d*)?)|("+O+"\\d*)))?$")}return N._floatRegExp},_paste:function(O){var M=this,L=O.target,N=L.value;setTimeout(function(){if(M._parse(L.value)===u){M._update(N)}})},_option:function(M,O){var N=this,L=N.options;if(O===l){return L[M]}O=N._parse(O);if(!O&&M==="step"){return}L[M]=O;N.element.attr("aria-value"+M,O).attr(M,O)},_spin:function(M,N){var L=this;N=N||500;clearTimeout(L._spinning);L._spinning=setTimeout(function(){L._spin(M,50)},N);L._step(M)},_step:function(N){var M=this,L=M.element,O=M._parse(L.val())||0;if(g()!=L[0]){M._focusin()}O+=M.options.step*N;M._update(M._adjust(O));M.trigger(f)},_toggleHover:function(L){x(L.currentTarget).toggleClass(r,L.type==="mouseenter")},_toggleText:function(L){var M=this;M._text.toggle(L);M.element.toggle(!L)},_parse:function(M,L){return q(M,this._culture(L),this.options.format)},_update:function(Q){var P=this,O=P.options,R=O.format,M=O.decimals,N=P._culture(),L=P._format(R,N),S;if(M===u){M=L.decimals}Q=P._parse(Q,N);S=Q!==u;if(S){Q=parseFloat(G(Q,M))}P._value=Q=P._adjust(Q);P._placeholder(y.toString(Q,R,N));if(S){Q=Q.toString();if(Q.indexOf("e")!==-1){Q=G(+Q,M)}Q=Q.replace(C,L[C])}else{Q=""}P.element.val(Q).attr("aria-valuenow",Q)},_placeholder:function(L){this._text.val(L);if(!K&&!L){this._text.val(this.options.placeholder)}},_wrapper:function(){var N=this,L=N.element,M=L[0],O;O=L.parents(".k-numerictextbox");if(!O.is("span.k-numerictextbox")){O=L.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent();O=O.wrap("<span/>").parent()}O[0].style.cssText=M.style.cssText;M.style.width="";N.wrapper=O.addClass("k-widget k-numerictextbox").addClass(M.className).css("display","");N._inputWrapper=x(O[0].firstChild)},_reset:function(){var N=this,L=N.element,O=L.attr("form"),M=O?x("#"+O):L.closest("form");if(M[0]){N._resetHandler=function(){setTimeout(function(){N.value(L[0].value)})};N._form=M.on("reset",N._resetHandler)}}});function i(L,M){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+L+'" title="'+M+'">'+M+"</span></span>"}B.plugin(H)})(window.kendo.jQuery);(function(j,m){var v=window.kendo,u=v.ui,y=j.proxy,w="kendoPopup",d="init",B="refresh",p="change",A=".kendoFilterMenu",z="Is equal to",D="Is not equal to",s={number:"numerictextbox",date:"datepicker"},e={string:"text",number:"number",date:"date"},b=v.isFunction,f=u.Widget;var x='<div><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><div><button type="submit" class="k-button k-primary">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>';var h='<div><div class="k-filter-help-text">#=messages.info#</div><select data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}##if(extra){#<select class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>#}##}#<div><button type="submit" class="k-button k-primary">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>';var r='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#</button>#=title#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[0].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[0].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#if(extra){#</ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="and" />#=messages.and#</label></li><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="or" />#=messages.or#</label></li></ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[1].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[1].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[1].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#}#</ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></div></form></div>';var g='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#</button>#=title#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label></li><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label></li></ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></form></div>';function F(H,G){if(H.filters){H.filters=j.grep(H.filters,function(I){F(I,G);if(I.filters){return I.filters.length}else{return I.field!=G}})}}function l(I){var H,K,J,L,M,G;if(I&&I.length){G=[];for(H=0,K=I.length;H<K;H++){J=I[H];M=J.text||J.value||J;L=J.value==null?(J.text||J):J.value;G[H]={text:M,value:L}}}return G}function C(G,H){return j.grep(G,function(I){if(I.filters){I.filters=j.grep(I.filters,function(J){return J.field!=H});return I.filters.length}return I.field!=H})}var q=f.extend({init:function(J,I){var M=this,K="string",G,H,L,N;f.fn.init.call(M,J,I);G=M.operators=I.operators||{};J=M.element;I=M.options;if(!I.appendToElement){L=J.addClass("k-with-icon k-filterable").find(".k-grid-filter");if(!L[0]){L=J.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/></a>').find(".k-grid-filter")}L.attr("tabindex",-1).on("click"+A,y(M._click,M))}M.link=L||j();M.dataSource=I.dataSource;M.field=I.field||J.attr(v.attr("field"));M.model=M.dataSource.reader.model;M._parse=function(O){return O+""};if(M.model&&M.model.fields){N=M.model.fields[M.field];if(N){K=N.type||"string";if(N.parse){M._parse=y(N.parse,N)}}}if(I.values){K="enums"}M.type=K;G=G[K]||I.operators[K];for(H in G){break}M._defaultFilter=function(){return{field:M.field,operator:H||"eq",value:""}};M._refreshHandler=y(M.refresh,M);M.dataSource.bind(p,M._refreshHandler);if(I.appendToElement){M._init()}else{M.refresh()}},_init:function(){var G=this,H=G.options.ui,I=b(H),J;G.pane=G.options.pane;if(G.pane){G._isMobile=true}if(!I){J=H||s[G.type]}if(G._isMobile){G._createMobileForm(J)}else{G._createForm(J)}G.form.on("submit"+A,y(G._submit,G)).on("reset"+A,y(G._reset,G));if(I){G.form.find(".k-textbox").removeClass("k-textbox").each(function(){H(j(this))})}G.form.find("["+v.attr("role")+"=numerictextbox]").removeClass("k-textbox").end().find("["+v.attr("role")+"=datetimepicker]").removeClass("k-textbox").end().find("["+v.attr("role")+"=timepicker]").removeClass("k-textbox").end().find("["+v.attr("role")+"=datepicker]").removeClass("k-textbox");G.refresh();G.trigger(d,{field:G.field,container:G.form})},_createForm:function(K){var J=this,H=J.options,G=J.operators||{},I=J.type;G=G[I]||H.operators[I];J.form=j('<form class="k-filter-menu"/>').html(v.template(I==="boolean"?x:h)({field:J.field,format:H.format,ns:v.ns,messages:H.messages,extra:H.extra,operators:G,type:I,role:K,values:l(H.values)}));if(!H.appendToElement){J.popup=J.form[w]({anchor:J.link,open:y(J._open,J),activate:y(J._activate,J),close:function(){if(J.options.closeCallback){J.options.closeCallback(J.element)}}}).data(w)}else{J.element.append(J.form);J.popup=J.element.closest(".k-popup").data(w)}J.form.on("keydown"+A,y(J._keydown,J))},_createMobileForm:function(K){var J=this,H=J.options,G=J.operators||{},I=J.type;G=G[I]||H.operators[I];J.form=j("<div />").html(v.template(I==="boolean"?g:r)({field:J.field,title:H.title||J.field,format:H.format,ns:v.ns,messages:H.messages,extra:H.extra,operators:G,type:I,role:K,useRole:(!v.support.input.date&&I==="date")||I==="number",inputType:e[I],values:l(H.values)}));J.view=J.pane.append(J.form.html());J.form=J.view.element.find("form");J.view.element.on("click",".k-submit",function(L){J.form.submit();L.preventDefault()}).on("click",".k-cancel",function(L){J._closeForm();L.preventDefault()})},refresh:function(){var G=this,H=G.dataSource.filter()||{filters:[],logic:"and"};G.filterModel=v.observable({logic:"and",filters:[G._defaultFilter(),G._defaultFilter()]});if(G.form){v.bind(G.form.children().first(),G.filterModel)}if(G._bind(H)){G.link.addClass("k-state-active")}else{G.link.removeClass("k-state-active")}},destroy:function(){var G=this;f.fn.destroy.call(G);if(G.form){v.unbind(G.form);v.destroy(G.form);G.form.unbind(A);if(G.popup){G.popup.destroy();G.popup=null}G.form=null}if(G.view){G.view.purge();G.view=null}G.link.unbind(A);if(G._refreshHandler){G.dataSource.unbind(p,G._refreshHandler);G.dataSource=null}G.element=G.link=G._refreshHandler=G.filterModel=null},_bind:function(N){var L=this,H=N.filters,O,I,P=false,M=0,J=L.filterModel,K,G;for(O=0,I=H.length;O<I;O++){G=H[O];if(G.field==L.field){J.set("logic",N.logic);K=J.filters[M];if(!K){J.filters.push({field:L.field});K=J.filters[M]}K.set("value",L._parse(G.value));K.set("operator",G.operator);M++;P=true}else{if(G.filters){P=P||L._bind(G)}}}return P},_merge:function(N){var M=this,I=N.logic||"and",L=N.filters,J,H=M.dataSource.filter()||{filters:[],logic:"and"},G,K;F(H,M.field);L=j.grep(L,function(O){return O.value!==""&&O.value!=null});for(G=0,K=L.length;G<K;G++){J=L[G];J.value=M._parse(J.value)}if(L.length){if(H.filters.length){N.filters=L;if(H.logic!=="and"){H.filters=[{logic:H.logic,filters:H.filters}];H.logic="and"}if(L.length>1){H.filters.push(N)}else{H.filters.push(L[0])}}else{H.filters=L;H.logic=I}}return H},filter:function(G){G=this._merge(G);if(G.filters.length){this.dataSource.filter(G)}},clear:function(){var G=this,H=G.dataSource.filter()||{filters:[]};H.filters=j.grep(H.filters,function(I){if(I.filters){I.filters=C(I.filters,G.field);return I.filters.length}return I.field!=G.field});if(!H.filters.length){H=null}G.dataSource.filter(H)},_submit:function(G){G.preventDefault();G.stopPropagation();this.filter(this.filterModel.toJSON());this._closeForm()},_reset:function(){this.clear();this._closeForm()},_closeForm:function(){if(this._isMobile){this.pane.navigate("",this.options.animations.right)}else{this.popup.close()}},_click:function(G){G.preventDefault();G.stopPropagation();if(!this.popup&&!this.pane){this._init()}if(this._isMobile){this.pane.navigate(this.view,this.options.animations.left)}else{this.popup.toggle()}},_open:function(){var G;j(".k-filter-menu").not(this.form).each(function(){G=j(this).data(w);if(G){G.close()}})},_activate:function(){this.form.find(":kendoFocusable:first").focus()},_keydown:function(G){if(G.keyCode==v.keys.ESC){this.popup.close()}},events:[d],options:{name:"FilterMenu",extra:true,appendToElement:false,type:"string",operators:{string:{eq:z,neq:D,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with"},number:{eq:z,neq:D,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},date:{eq:z,neq:D,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before"},enums:{eq:z,neq:D}},messages:{info:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-",operator:"Operator",value:"Value",cancel:"Cancel"},animations:{left:"slide",right:"slide:right"}}});var o=".kendoFilterMultiCheck";function n(H,G){if(H.filters){H.filters=j.grep(H.filters,function(I){n(I,G);if(I.filters){return I.filters.length}else{return I.field==G&&I.operator=="eq"}})}}function k(G){if(G.logic=="and"&&G.filters.length>1){return[]}if(G.filters){return j.map(G.filters,function(H){return k(H)})}else{if(G.value!==null&&G.value!==m){return[G.value]}else{return[]}}}function c(J,M){var H=v.getter(M,true),G=[],K=0,I={};while(K<J.length){var L=J[K++],N=H(L);if(N!==m&&N!==null&&!I.hasOwnProperty(N)){G.push(L);I[N]=true}}return G}function E(G,H){return function(J){var I=G(J);return c(I,H)}}var i=v.data.DataSource;var t=f.extend({init:function(I,H){f.fn.init.call(this,I,H);H=this.options;this.element=j(I);var J=this.field=this.options.field||this.element.attr(v.attr("field"));var G=H.checkSource;if(H.forceUnique){G=H.dataSource.options;delete G.pageSize;this.checkSource=i.create(G);this.checkSource.reader.data=E(this.checkSource.reader.data,this.field)}else{this.checkSource=i.create(G)}this.dataSource=H.dataSource;this.model=this.dataSource.reader.model;this._parse=function(K){return K+""};if(this.model&&this.model.fields){J=this.model.fields[this.field];if(J){if(J.parse){this._parse=y(J.parse,J)}this.type=J.type||"string"}}if(!H.appendToElement){this._createLink()}else{this._init()}this._refreshHandler=y(this.refresh,this);this.dataSource.bind(p,this._refreshHandler)},_createLink:function(){var G=this.element;var H=G.addClass("k-with-icon k-filterable").find(".k-grid-filter");if(!H[0]){H=G.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/></a>').find(".k-grid-filter")}this._link=H.attr("tabindex",-1).on("click"+A,y(this._click,this))},_init:function(){var I=this;var G=this.options.forceUnique;var H=this.options;this.pane=H.pane;if(this.pane){this._isMobile=true}this._createForm();if(G&&!this.checkSource.options.serverPaging&&this.dataSource.data().length){this.checkSource.data(c(this.dataSource.data(),this.field));this.refresh()}else{u.progress(I.container,true);this.checkSource.fetch(function(){u.progress(I.container,false);I.refresh.call(I)})}if(!this.options.forceUnique){this.checkChangeHandler=function(){I.container.empty();I.refresh()};this.checkSource.bind(p,this.checkChangeHandler)}this.form.on("keydown"+o,y(this._keydown,this)).on("submit"+o,y(this._filter,this)).on("reset"+o,y(this._reset,this));this.trigger(d,{field:this.field,container:this.form})},_createForm:function(){var G=this.options;var I="<ul class='k-reset k-multicheck-wrap'></ul><button type='submit' class='k-button k-primary'>"+G.messages.filter+"</button>";I+="<button type='reset' class='k-button'>"+G.messages.clear+"</button>";this.form=j('<form class="k-filter-menu"/>').html(I);this.container=this.form.find(".k-multicheck-wrap");if(this._isMobile){this.view=this.pane.append(this.form.addClass("k-mobile-list").wrap("<div/>").parent().html());var H=this.view.element;this.form=H.find("form");this.container=H.find(".k-multicheck-wrap");var J=this;H.on("click",".k-primary",function(K){J.form.submit();K.preventDefault()}).on("click","[type=reset]",function(K){J._reset();K.preventDefault()})}else{if(!G.appendToElement){this.popup=this.form.kendoPopup({anchor:this._link}).data(w)}else{this.popup=this.element.closest(".k-popup").data(w);this.element.append(this.form)}}},createCheckAllItem:function(){var G=this.options;var H=v.template(G.itemTemplate({field:"all",mobile:this._isMobile}));var I=j(H({all:G.messages.checkAll}));this.container.prepend(I);this.checkBoxAll=I.find(":checkbox").eq(0).addClass("k-check-all");this.checkAllHandler=y(this.checkAll,this);this.checkBoxAll.on(p+o,this.checkAllHandler)},updateCheckAllState:function(){if(this.checkBoxAll){var G=this.container.find(":checkbox:not(.k-check-all)").length==this.container.find(":checked:not(.k-check-all)").length;this.checkBoxAll.prop("checked",G)}},refresh:function(I){var G=this.options.forceUnique;var J=this.dataSource;var H=this.getFilterArray();if(this._link){this._link.toggleClass("k-state-active",H.length!==0)}if(this.form){if(I&&G&&I.sender===J&&!J.options.serverPaging&&(I.action=="itemchange"||I.action=="add"||I.action=="remove")){this.checkSource.data(c(this.dataSource.data(),this.field));this.container.empty()}if(this.container.is(":empty")){this.createCheckBoxes()}this.checkValues(H);this.trigger(B)}},getFilterArray:function(){var H=j.extend(true,{},{filters:[],logic:"and"},this.dataSource.filter());n(H,this.field);var G=k(H);return G},createCheckBoxes:function(){var G=this.options;var I={field:this.field,format:G.format,mobile:this._isMobile,type:this.type};var H=v.template(G.itemTemplate(I));var K=this.checkSource.data();if(G.values){K=G.values;I.valueField="value";I.field="text";H=v.template(G.itemTemplate(I))}var J=v.render(H,K);if(G.checkAll){this.createCheckAllItem();this.container.on(p+o,":checkbox",y(this.updateCheckAllState,this))}this.container.append(J)},checkAll:function(){var G=this.checkBoxAll.is(":checked");this.container.find(":checkbox").prop("checked",G)},checkValues:function(G){var H=this;j(j.grep(this.container.find(":checkbox").prop("checked",false),function(K){var J=false;if(j(K).is(".k-check-all")){return}var L=H._parse(j(K).val());for(var I=0;I<G.length;I++){if(H.type=="date"){J=G[I].getTime()==L.getTime()}else{J=G[I]==L}if(J){return J}}})).prop("checked",true);this.updateCheckAllState()},_filter:function(H){H.preventDefault();H.stopPropagation();var I={logic:"or"};var G=this;I.filters=j.map(this.form.find(":checkbox:checked:not(.k-check-all)"),function(J){return{value:j(J).val(),operator:"eq",field:G.field}});I=this._merge(I);if(I.filters.length){this.dataSource.filter(I)}this._closeForm()},destroy:function(){var G=this;f.fn.destroy.call(G);if(G.form){v.unbind(G.form);v.destroy(G.form);G.form.unbind(o);if(G.popup){G.popup.destroy();G.popup=null}G.form=null;if(G.container){G.container.unbind(o);G.container=null}if(G.checkBoxAll){G.checkBoxAll.unbind(o)}}if(G.view){G.view.purge();G.view=null}if(G._link){G._link.unbind(A)}if(G._refreshHandler){G.dataSource.unbind(p,G._refreshHandler);G.dataSource=null}if(G.checkChangeHandler){G.checkSource.unbind(p,G.checkChangeHandler)}G.element=G.checkSource=G.container=G.checkBoxAll=G._link=G._refreshHandler=G.checkAllHandler=null},options:{name:"FilterMultiCheck",itemTemplate:function(I){var L=I.field;var K=I.format;var H=I.valueField;var G=I.mobile;var J="";if(H===m){H=L}if(I.type=="date"){J=":yyyy-MM-ddTHH:mm:sszzz"}return"<li class='k-item'><label class='k-label'><input type='checkbox' class='"+(G?"k-check":"")+"'  value='#:kendo.format('{0"+J+"}',"+H+")#'/>#:kendo.format('"+(K?K:"{0}")+"', "+L+")#</label></li>"},checkAll:true,appendToElement:false,messages:{checkAll:"Select All",clear:"Clear",filter:"Filter"},forceUnique:true,animations:{left:"slide",right:"slide:right"}},events:[d,B]});j.extend(t.fn,{_click:q.fn._click,_keydown:q.fn._keydown,_reset:q.fn._reset,_closeForm:q.fn._closeForm,clear:q.fn.clear,_merge:q.fn._merge});u.plugin(q);u.plugin(t)})(window.kendo.jQuery);(function(L,s){var O=window.kendo,W=O.ui,j=O._activeElement,ah=(O.support.touch&&O.support.mobileOS),V="mousedown",Z="click",p=L.extend,af=L.proxy,ae=L.each,g=O.template,H=O.keys,f=W.Widget,B=/^(ul|a|div)$/i,Q=".kendoMenu",R="img",ad="open",r="k-menu",G="k-link",U="k-last",aj="close",S="timer",w="k-first",n="k-image",C="select",l="zIndex",q="activate",ac="deactivate",F="touchstart"+Q+" MSPointerDown"+Q+" pointerdown"+Q,P=O.support.pointers,aa=O.support.msPointers,am=aa||P,h=P?"pointerover":(aa?"MSPointerOver":"mouseenter"),v=P?"pointerout":(aa?"MSPointerOut":"mouseleave"),N=ah||am,al=L(document.documentElement),T="kendoPopup",t="k-state-default",ak="k-state-hover",m="k-state-focused",k="k-state-disabled",i=".k-menu",Y=".k-menu-group",ag=Y+",.k-animation-container",c=":not(.k-list) > .k-item",z=".k-item.k-state-disabled",o=".k-item:not(.k-state-disabled)",e=".k-item:not(.k-state-disabled) > .k-link",M=":not(.k-item.k-separator)",x=M+":eq(0)",E=M+":last",I="> div:not(.k-animation-container,.k-list-container)",X={"2":1,touch:1},b={content:g("<div class='k-content #= groupCssClass() #' tabindex='-1'>#= content(item) #</div>"),group:g("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:g("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:g("<li class='#= wrapperCssClass(group, item) #' role='menuitem' #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:g("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:g("<span class='#= arrowClass(item, group) #'></span>"),sprite:g("<span class='k-sprite #= spriteCssClass #'></span>"),empty:g("")},y={wrapperCssClass:function(aq,ap){var an="k-item",ao=ap.index;if(ap.enabled===false){an+=" k-state-disabled"}else{an+=" k-state-default"}if(aq.firstLevel&&ao===0){an+=" k-first"}if(ao==aq.length-1){an+=" k-last"}if(ap.cssClass){an+=" "+ap.cssClass}return an},textClass:function(){return G},textAttributes:function(an){return an.url?" href='"+an.url+"'":""},arrowClass:function(ao,ap){var an="k-icon";if(ap.horizontal){an+=" k-i-arrow-s"}else{an+=" k-i-arrow-e"}return an},text:function(an){return an.encoded===false?an.text:O.htmlEncode(an.text)},tag:function(an){return an.url?"a":"span"},groupAttributes:function(an){return an.expanded!==true?" style='display:none'":""},groupCssClass:function(){return"k-group k-menu-group"},content:function(an){return an.content?an.content:"&nbsp;"}};function K(ao,an){ao=ao.split(" ")[!an+0]||ao;return ao.replace("top","up").replace("bottom","down")}function ai(ar,ao,aq){ar=ar.split(" ")[!ao+0]||ar;var ap={origin:["bottom",(aq?"right":"left")],position:["top",(aq?"right":"left")]},an=/left|right/.test(ar);if(an){ap.origin=["top",ar];ap.position[1]=O.directions[ar].reverse}else{ap.origin[0]=ar;ap.position[0]=O.directions[ar].reverse}ap.origin=ap.origin.join(" ");ap.position=ap.position.join(" ");return ap}function J(an,ap){try{return L.contains(an,ap)}catch(ao){return false}}function d(an){an=L(an);an.addClass("k-item").children(R).addClass(n);an.children("a").addClass(G).children(R).addClass(n);an.filter(":not([disabled])").addClass(t);an.filter(".k-separator:empty").append("&nbsp;");an.filter("li[disabled]").addClass(k).removeAttr("disabled").attr("aria-disabled",true);if(!an.filter("[role]").length){an.attr("role","menuitem")}if(!an.children("."+G).length){an.contents().filter(function(){return(!this.nodeName.match(B)&&!(this.nodeType==3&&!L.trim(this.nodeValue)))}).wrapAll("<span class='"+G+"'/>")}u(an);A(an)}function u(an){an=L(an);an.find("> .k-link > [class*=k-i-arrow]:not(.k-sprite)").remove();an.filter(":has(.k-menu-group)").children(".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))").each(function(){var ap=L(this),ao=ap.parent().parent();ap.append("<span class='k-icon "+(ao.hasClass(r+"-horizontal")?"k-i-arrow-s":"k-i-arrow-e")+"'/>")})}function A(an){an=L(an);an.filter(".k-first:not(:first-child)").removeClass(w);an.filter(".k-last:not(:last-child)").removeClass(U);an.filter(":first-child").addClass(w);an.filter(":last-child").addClass(U)}var ab=f.extend({init:function(ao,an){var ap=this;f.fn.init.call(ap,ao,an);ao=ap.wrapper=ap.element;an=ap.options;ap._initData(an);ap._updateClasses();ap._animations(an);ap.nextItemZIndex=100;ap._tabindex();ap._focusProxy=af(ap._focusHandler,ap);ao.on(F,o,ap._focusProxy).on(Z+Q,z,false).on(Z+Q,o,af(ap._click,ap)).on("keydown"+Q,af(ap._keydown,ap)).on("focus"+Q,af(ap._focus,ap)).on("focus"+Q,".k-content",af(ap._focus,ap)).on(F+" "+V+Q,".k-content",af(ap._preventClose,ap)).on("blur"+Q,af(ap._removeHoverItem,ap)).on("blur"+Q,"[tabindex]",af(ap._checkActiveElement,ap)).on(h+Q,o,af(ap._mouseenter,ap)).on(v+Q,o,af(ap._mouseleave,ap)).on(h+Q+" "+v+Q+" "+V+Q+" "+Z+Q,e,af(ap._toggleHover,ap));if(an.openOnClick){ap.clicked=false;ap._documentClickHandler=af(ap._documentClick,ap);L(document).click(ap._documentClickHandler)}ao.attr("role","menubar");if(ao[0].id){ap._ariaId=O.format("{0}_mn_active",ao[0].id)}O.notify(ap)},events:[ad,aj,q,ac,C],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:false,closeOnClick:true,hoverDelay:100,popupCollision:s},_initData:function(an){var ao=this;if(an.dataSource){ao.angular("cleanup",function(){return{elements:ao.element.children()}});ao.element.empty();ao.append(an.dataSource,ao.element);ao.angular("compile",function(){return{elements:ao.element.children()}})}},setOptions:function(an){var ao=this.options.animation;this._animations(an);an.animation=p(true,ao,an.animation);if("dataSource" in an){this._initData(an)}this._updateClasses();f.fn.setOptions.call(this,an)},destroy:function(){var an=this;f.fn.destroy.call(an);an.element.off(Q);if(an._documentClickHandler){L(document).unbind("click",an._documentClickHandler)}O.destroy(an.element)},enable:function(ao,an){this._toggleDisabled(ao,an!==false);return this},disable:function(an){this._toggleDisabled(an,false);return this},append:function(ap,an){an=this.element.find(an);var ao=this._insert(ap,an,an.length?an.find("> .k-menu-group, > .k-animation-container > .k-menu-group"):null);ae(ao.items,function(){ao.group.append(this);u(this)});u(an);A(ao.group.find(".k-first, .k-last").add(ao.items));return this},insertBefore:function(ap,an){an=this.element.find(an);var ao=this._insert(ap,an,an.parent());ae(ao.items,function(){an.before(this);u(this);A(this)});A(an);return this},insertAfter:function(ap,an){an=this.element.find(an);var ao=this._insert(ap,an,an.parent());ae(ao.items,function(){an.after(this);u(this);A(this)});A(an);return this},_insert:function(av,ao,at){var au=this,ap,an;if(!ao||!ao.length){at=au.element}var ar=L.isPlainObject(av),aq={firstLevel:at.hasClass(r),horizontal:at.hasClass(r+"-horizontal"),expanded:true,length:at.children().length};if(ao&&!at.length){at=L(ab.renderGroup({group:aq})).appendTo(ao)}if(ar||L.isArray(av)){ap=L(L.map(ar?[av]:av,function(ax,aw){if(typeof ax==="string"){return L(ax).get()}else{return L(ab.renderItem({group:aq,item:p(ax,{index:aw})})).get()}}))}else{if(typeof av=="string"&&av.charAt(0)!="<"){ap=au.element.find(av)}else{ap=L(av)}an=ap.find("> ul").addClass("k-menu-group").attr("role","menu");ap=ap.filter("li");ap.add(an.find("> li")).each(function(){d(this)})}return{items:ap,group:at}},remove:function(ao){ao=this.element.find(ao);var aq=this,ap=ao.parentsUntil(aq.element,c),ar=ao.parent("ul:not(.k-menu)");ao.remove();if(ar&&!ar.children(c).length){var an=ar.parent(".k-animation-container");if(an.length){an.remove()}else{ar.remove()}}if(ap.length){ap=ap.eq(0);u(ap);A(ap)}return aq},open:function(aq){var ar=this,ap=ar.options,an=ap.orientation=="horizontal",at=ap.direction,ao=O.support.isRtl(ar.wrapper);aq=ar.element.find(aq);if(/^(top|bottom|default)$/.test(at)){if(ao){at=an?(at+" left").replace("default","bottom"):"left"}else{at=an?(at+" right").replace("default","bottom"):"right"}}aq.siblings().find(">.k-popup:visible,>.k-animation-container>.k-popup:visible").each(function(){var au=L(this).data("kendoPopup");if(au){au.close()}});aq.each(function(){var au=L(this);clearTimeout(au.data(S));au.data(S,setTimeout(function(){var aA=au.find(".k-menu-group:first:hidden"),aw;if(aA[0]&&ar._triggerEvent({item:au[0],type:ad})===false){if(!aA.find(".k-menu-group")[0]&&aA.children(".k-item").length>1){var av=L(window).height(),az=function(){aA.css({maxHeight:av-(aA.outerHeight()-aA.height())-O.getShadows(aA).bottom,overflow:"auto"})};if(O.support.browser.msie&&O.support.browser.version<=7){setTimeout(az,0)}else{az()}}else{aA.css({maxHeight:"",overflow:""})}au.data(l,au.css(l));au.css(l,ar.nextItemZIndex++);aw=aA.data(T);var aD=au.parent().hasClass(r),ax=aD&&an,aC=ai(at,aD,ao),ay=ap.animation.open.effects,aB=ay!==s?ay:"slideIn:"+K(at,aD);if(!aw){aw=aA.kendoPopup({activate:function(){ar._triggerEvent({item:this.wrapper.parent(),type:q})},deactivate:function(aE){aE.sender.element.removeData("targetTransform").css({opacity:""});ar._triggerEvent({item:this.wrapper.parent(),type:ac})},origin:aC.origin,position:aC.position,collision:ap.popupCollision!==s?ap.popupCollision:(ax?"fit":"fit flip"),anchor:au,appendTo:au,animation:{open:p(true,{effects:aB},ap.animation.open),close:ap.animation.close},close:function(aF){var aE=aF.sender.wrapper.parent();if(!ar._triggerEvent({item:aE[0],type:aj})){aE.css(l,aE.data(l));aE.removeData(l);if(ah){aE.removeClass(ak);ar._removeHoverItem()}}else{aF.preventDefault()}}}).data(T)}else{aw=aA.data(T);aw.options.origin=aC.origin;aw.options.position=aC.position;aw.options.animation.open.effects=aB}aA.removeAttr("aria-hidden");aw.open()}},ar.options.hoverDelay))});return ar},close:function(an,aq){var ap=this,ao=ap.element;an=ao.find(an);if(!an.length){an=ao.find(">.k-item")}an.each(function(){var ar=L(this);if(!aq&&ap._isRootItem(ar)){ap.clicked=false}clearTimeout(ar.data(S));ar.data(S,setTimeout(function(){var at=ar.find(".k-menu-group:not(.k-list-container):not(.k-calendar-container):first:visible").data(T);if(at){at.close();at.element.attr("aria-hidden",true)}},ap.options.hoverDelay))});return ap},_toggleDisabled:function(an,ao){this.element.find(an).each(function(){L(this).toggleClass(t,ao).toggleClass(k,!ao).attr("aria-disabled",!ao)})},_toggleHover:function(ap){var ao=L(O.eventTarget(ap)||ap.target).closest(c),an=ap.type==h||V.indexOf(ap.type)!==-1;if(!ao.parents("li."+k).length){ao.toggleClass(ak,an||ap.type=="mousedown"||ap.type=="click")}this._removeHoverItem()},_preventClose:function(){if(!this.options.closeOnClick){this._closurePrevented=true}},_checkActiveElement:function(aq){var ao=this,an=L(aq?aq.currentTarget:this._hoverItem()),ap=ao._findRootParent(an)[0];if(!this._closurePrevented){setTimeout(function(){if(!document.hasFocus()||(!J(ap,O._activeElement())&&aq&&!J(ap,aq.currentTarget))){ao.close(ap)}},0)}this._closurePrevented=false},_removeHoverItem:function(){var an=this._hoverItem();if(an&&an.hasClass(m)){an.removeClass(m);this._oldHoverItem=null}},_updateClasses:function(){var ap=this.element,an=".k-menu-init div ul",ao;ap.removeClass("k-menu-horizontal k-menu-vertical");ap.addClass("k-widget k-reset k-header k-menu-init "+r).addClass(r+"-"+this.options.orientation);ap.find("li > ul").filter(function(){return !O.support.matchesSelector.call(this,an)}).addClass("k-group k-menu-group").attr("role","menu").attr("aria-hidden",ap.is(":visible")).end().find("li > div").addClass("k-content").attr("tabindex","-1");ao=ap.find("> li,.k-menu-group > li");ap.removeClass("k-menu-init");ao.each(function(){d(this)})},_mouseenter:function(aq){var ap=this,ao=L(aq.currentTarget),an=(ao.children(".k-animation-container").length||ao.children(Y).length);if(aq.delegateTarget!=ao.parents(i)[0]){return}if((!ap.options.openOnClick||ap.clicked)&&!ah&&!((P||aa)&&aq.originalEvent.pointerType in X&&ap._isRootItem(ao.closest(c)))){if(!J(aq.currentTarget,aq.relatedTarget)&&an){ap.open(ao)}}if(ap.options.openOnClick&&ap.clicked||N){ao.siblings().each(af(function(ar,at){ap.close(at,true)},ap))}},_mouseleave:function(aq){var ap=this,ao=L(aq.currentTarget),an=(ao.children(".k-animation-container").length||ao.children(Y).length);if(ao.parentsUntil(".k-animation-container",".k-list-container,.k-calendar-container")[0]){aq.stopImmediatePropagation();return}if(!ap.options.openOnClick&&!ah&&!((P||aa)&&aq.originalEvent.pointerType in X)&&!J(aq.currentTarget,aq.relatedTarget||aq.target)&&an&&!J(aq.currentTarget,O._activeElement())){ap.close(ao)}},_click:function(aB){var av=this,ax,aq=av.options,aF=L(O.eventTarget(aB)),ao=aF[0]?aF[0].nodeName.toUpperCase():"",ay=(ao=="INPUT"||ao=="SELECT"||ao=="BUTTON"||ao=="LABEL"),au=aF.closest("."+G),ap=aF.closest(c),az=au.attr("href"),aA,aC,ar=aF.attr("href"),aE=L("<a href='#' />").attr("href"),aw=(!!az&&az!==aE),aD=aw&&!!az.match(/^#/),at=(!!ar&&ar!==aE),an=(aq.openOnClick&&aC&&av._isRootItem(ap));if(aF.closest(I,ap[0]).length){return}if(ap.hasClass(k)){aB.preventDefault();return}if(!aB.handled&&av._triggerEvent({item:ap[0],type:C})&&!ay){aB.preventDefault()}aB.handled=true;aA=ap.children(ag);aC=aA.is(":visible");if(aq.closeOnClick&&(!aw||aD)&&(!aA.length||an)){ap.removeClass(ak).css("height");av._oldHoverItem=av._findRootParent(ap);av.close(au.parentsUntil(av.element,c));av.clicked=false;if("MSPointerUp".indexOf(aB.type)!=-1){aB.preventDefault()}return}if(aw&&aB.enterKey){au[0].click()}if((!av._isRootItem(ap)||!aq.openOnClick)&&!O.support.touch&&!((P||aa)&&av._isRootItem(ap.closest(c)))){return}if(!aw&&!ay&&!at){aB.preventDefault()}av.clicked=true;ax=aA.is(":visible")?aj:ad;if(!aq.closeOnClick&&ax==aj){return}av[ax](ap)},_documentClick:function(an){if(J(this.element[0],an.target)){return}this.clicked=false},_focus:function(ar){var ao=this,aq=ar.target,an=ao._hoverItem(),ap=j();if(aq!=ao.wrapper[0]&&!L(aq).is(":kendoFocusable")){ar.stopPropagation();L(aq).closest(".k-content").closest(".k-menu-group").closest(".k-item").addClass(m);ao.wrapper.focus();return}if(ap===ar.currentTarget){if(an.length){ao._moveHover([],an)}else{if(!ao._oldHoverItem){ao._moveHover([],ao.wrapper.children().first())}}}},_keydown:function(av){var at=this,aq=av.keyCode,ar=at._oldHoverItem,au,ao,an,ap=O.support.isRtl(at.wrapper);if(av.target!=av.currentTarget&&aq!=H.ESC){return}if(!ar){ar=at._oldHoverItem=at._hoverItem()}ao=at._itemBelongsToVertival(ar);an=at._itemHasChildren(ar);if(aq==H.RIGHT){au=at[ap?"_itemLeft":"_itemRight"](ar,ao,an)}else{if(aq==H.LEFT){au=at[ap?"_itemRight":"_itemLeft"](ar,ao,an)}else{if(aq==H.DOWN){au=at._itemDown(ar,ao,an)}else{if(aq==H.UP){au=at._itemUp(ar,ao,an)}else{if(aq==H.ESC){au=at._itemEsc(ar,ao)}else{if(aq==H.ENTER||aq==H.SPACEBAR){au=ar.children(".k-link");if(au.length>0){at._click({target:au[0],preventDefault:function(){},enterKey:true});at._moveHover(ar,at._findRootParent(ar))}}else{if(aq==H.TAB){au=at._findRootParent(ar);at._moveHover(ar,au);at._checkActiveElement();return}}}}}}}if(au&&au[0]){av.preventDefault();av.stopPropagation()}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(ao){var an=this.wrapper.hasClass("k-menu-vertical");if(!ao.length){return an}return ao.parent().hasClass("k-menu-group")||an},_itemHasChildren:function(an){if(!an.length){return false}return an.children("ul.k-menu-group, div.k-animation-container").length>0},_moveHover:function(ap,an){var ao=this,aq=ao._ariaId;if(ap.length&&an.length){ap.removeClass(m)}if(an.length){if(an[0].id){aq=an[0].id}an.addClass(m);ao._oldHoverItem=an;if(aq){ao.element.removeAttr("aria-activedescendant");L("#"+aq).removeAttr("id");an.attr("id",aq);ao.element.attr("aria-activedescendant",aq)}}},_findRootParent:function(an){if(this._isRootItem(an)){return an}else{return an.parentsUntil(i,"li.k-item").last()}},_isRootItem:function(an){return an.parent().hasClass(r)},_itemRight:function(at,aq,ap){var ar=this,ao,an;if(at.hasClass(k)){return}if(!aq){ao=at.nextAll(x);if(!ao.length){ao=at.prevAll(E)}}else{if(ap){ar.open(at);ao=at.find(".k-menu-group").children().first()}else{if(ar.options.orientation=="horizontal"){an=ar._findRootParent(at);ar.close(an);ao=an.nextAll(x)}}}if(ao&&!ao.length){ao=ar.wrapper.children(".k-item").first()}else{if(!ao){ao=[]}}ar._moveHover(at,ao);return ao},_itemLeft:function(aq,ao){var ap=this,an;if(!ao){an=aq.prevAll(x);if(!an.length){an=aq.nextAll(E)}}else{an=aq.parent().closest(".k-item");ap.close(an);if(ap._isRootItem(an)&&ap.options.orientation=="horizontal"){an=an.prevAll(x)}}if(!an.length){an=ap.wrapper.children(".k-item").last()}ap._moveHover(aq,an);return an},_itemDown:function(ar,ap,ao){var aq=this,an;if(!ap){if(!ao||ar.hasClass(k)){return}else{aq.open(ar);an=ar.find(".k-menu-group").children().first()}}else{an=ar.nextAll(x)}if(!an.length&&ar.length){an=ar.parent().children().first()}else{if(!ar.length){an=aq.wrapper.children(".k-item").first()}}aq._moveHover(ar,an);return an},_itemUp:function(aq,ao){var ap=this,an;if(!ao){return}else{an=aq.prevAll(x)}if(!an.length&&aq.length){an=aq.parent().children().last()}else{if(!aq.length){an=ap.wrapper.children(".k-item").last()}}ap._moveHover(aq,an);return an},_itemEsc:function(aq,ao){var ap=this,an;if(!ao){return aq}else{an=aq.parent().closest(".k-item");ap.close(an);ap._moveHover(aq,an)}return an},_triggerEvent:function(ao){var an=this;return an.trigger(ao.type,{type:ao.type,item:ao.item})},_focusHandler:function(ap){var ao=this,an=L(O.eventTarget(ap)).closest(c);setTimeout(function(){ao._moveHover([],an);if(an.children(".k-content")[0]){an.parent().closest(".k-item").removeClass(m)}},200)},_animations:function(an){if(an&&("animation" in an)&&!an.animation){an.animation={open:{effects:{}},close:{hide:true,effects:{}}}}}});p(ab,{renderItem:function(an){an=p({menu:{},group:{}},an);var ap=b.empty,ao=an.item;return b.item(p(an,{image:ao.imageUrl?b.image:ap,sprite:ao.spriteCssClass?b.sprite:ap,itemWrapper:b.itemWrapper,renderContent:ab.renderContent,arrow:ao.items||ao.content?b.arrow:ap,subGroup:ab.renderGroup},y))},renderGroup:function(an){return b.group(p({renderItems:function(aq){var at="",ar=0,ap=aq.items,ao=ap?ap.length:0,au=p({length:ao},aq.group);for(;ar<ao;ar++){at+=ab.renderItem(p(aq,{group:au,item:p({index:ar},ap[ar])}))}return at}},an,y))},renderContent:function(an){return b.content(p(an,y))}});var D=ab.extend({init:function(ao,an){var ap=this;ab.fn.init.call(ap,ao,an);ap.target=L(ap.options.target);ap._popup();ap._wire()},options:{name:"ContextMenu",filter:null,showOn:"contextmenu",orientation:"vertical",alignToAnchor:false,target:"body"},events:[ad,aj,q,ac,C],setOptions:function(an){var ao=this;ab.fn.setOptions.call(ao,an);ao.target.off(ao.showOn+Q,ao._showProxy);if(ao.userEvents){ao.userEvents.destroy()}ao.target=L(ao.options.target);if(an.orientation&&ao.popup.wrapper[0]){ao.popup.element.unwrap()}ao._wire();ab.fn.setOptions.call(this,an)},destroy:function(){var an=this;an.target.off(an.options.showOn+Q);al.off(O.support.mousedown+Q,an._closeProxy);if(an.userEvents){an.userEvents.destroy()}ab.fn.destroy.call(an)},open:function(an,ap){var ao=this;an=L(an)[0];if(J(ao.element[0],L(an)[0])){ab.fn.open.call(ao,an)}else{if(ao._triggerEvent({item:ao.element,type:ad})===false){if(ao.popup.visible()&&ao.options.filter){ao.popup.close(true)}if(ap!==s){ao.popup.wrapper.hide();ao.popup.open(an,ap)}else{ao.popup.options.anchor=(an?an:ao.popup.anchor)||ao.target;ao.popup.open()}al.off(ao.popup.downEvent,ao.popup._mousedownProxy);al.on(O.support.mousedown+Q,ao._closeProxy)}}return ao},close:function(){var an=this;if(J(an.element[0],L(arguments[0])[0])){ab.fn.close.call(an,arguments[0])}else{if(an.popup.visible()){if(an._triggerEvent({item:an.element,type:aj})===false){an.popup.close();al.off(O.support.mousedown+Q,an._closeProxy);an.unbind(C,an._closeTimeoutProxy)}}}},_showHandler:function(aq){var ap=aq,ar,ao=this,an=ao.options;if(aq.event){ap=aq.event;ap.pageX=aq.x.location;ap.pageY=aq.y.location}if(J(ao.element[0],aq.relatedTarget||aq.target)){return}ao._eventOrigin=ap;ap.preventDefault();ap.stopImmediatePropagation();ao.element.find("."+m).removeClass(m);if((an.filter&&O.support.matchesSelector.call(ap.currentTarget,an.filter))||!an.filter){if(an.alignToAnchor){ao.open(ap.currentTarget)}else{ao.popup.options.anchor=ap.currentTarget;if(ao._targetChild){ar=ao.target.offset();ao.open(ap.pageX-ar.left,ap.pageY-ar.top)}else{ao.open(ap.pageX,ap.pageY)}}}},_closeHandler:function(au){var ar=this,ao=ar.options,at=L(au.relatedTarget||au.target),aq=at.closest(ar.target.selector)[0]==ar.target[0],ap=at.closest(o).children(ag),av=J(ar.element[0],at[0]);ar._eventOrigin=au;var an=au.which!==3;if(ar.popup.visible()&&((an&&aq)||!aq)&&((ar.options.closeOnClick&&!ap[0]&&av)||!av)){if(av){this.unbind(C,this._closeTimeoutProxy);ar.bind(C,ar._closeTimeoutProxy)}else{ar.close()}}},_wire:function(){var ao=this,an=ao.options,ap=ao.target;ao._showProxy=af(ao._showHandler,ao);ao._closeProxy=af(ao._closeHandler,ao);ao._closeTimeoutProxy=af(ao.close,ao);if(ap[0]){if(O.support.mobileOS&&an.showOn=="contextmenu"){ao.userEvents=new O.UserEvents(ap,{filter:an.filter,allowSelection:false});ap.on(an.showOn+Q,false);ao.userEvents.bind("hold",ao._showProxy)}else{if(an.filter){ap.on(an.showOn+Q,an.filter,ao._showProxy)}else{ap.on(an.showOn+Q,ao._showProxy)}}}},_triggerEvent:function(aq){var ap=this,ao=L(ap.popup.options.anchor)[0],an=ap._eventOrigin;ap._eventOrigin=s;return ap.trigger(aq.type,p({type:aq.type,item:aq.item||this.element[0],target:ao},an?{event:an}:{}))},_popup:function(){var an=this;an._triggerProxy=af(an._triggerEvent,an);an.popup=an.element.addClass("k-context-menu").kendoPopup({anchor:an.target||"body",copyAnchorStyles:an.options.copyAnchorStyles,collision:an.options.popupCollision||"fit",animation:an.options.animation,activate:an._triggerProxy,deactivate:an._triggerProxy}).data("kendoPopup");an._targetChild=J(an.target[0],an.popup.element[0])}});W.plugin(ab);W.plugin(D)})(window.kendo.jQuery);(function(i,j){var r=window.kendo,q=r.ui,v=i.proxy,z=i.extend,n=i.grep,A=i.map,y=i.inArray,l="k-state-selected",x="asc",g="desc",p="change",d="init",f="select",s="kendoPopup",b="kendoFilterMenu",m="kendoMenu",w=".kendoColumnMenu",e=q.Widget;function u(C){return i.trim(C).replace(/&nbsp;/gi,"")}function c(F,G){var E={};var D,C,H;for(D=0,C=F.length;D<C;D++){H=F[D];E[H[G]]=H}return E}function k(E){var D=[];for(var C=0;C<E.length;C++){if(!E[C].columns){D.push(E[C]);continue}D=D.concat(k(E[C].columns))}return D}var h=e.extend({init:function(D,C){var F=this,E;e.fn.init.call(F,D,C);D=F.element;C=F.options;F.owner=C.owner;F.dataSource=C.dataSource;F.field=D.attr(r.attr("field"));F.title=D.attr(r.attr("title"));E=D.find(".k-header-column-menu");if(!E[0]){E=D.addClass("k-with-icon").prepend('<a class="k-header-column-menu" href="#"><span class="k-icon k-i-arrowhead-s"/></a>').find(".k-header-column-menu")}F.link=E.attr("tabindex",-1).on("click"+w,v(F._click,F));F.wrapper=i('<div class="k-column-menu"/>')},_init:function(){var C=this;C.pane=C.options.pane;if(C.pane){C._isMobile=true}if(C._isMobile){C._createMobileMenu()}else{C._createMenu()}C._angularItems("compile");C._refreshHandler=v(C.refresh,C);C.dataSource.bind(p,C._refreshHandler);C._sort();C._columns();C._filter();C._lockColumns();C.trigger(d,{field:C.field,container:C.wrapper})},events:[d],options:{name:"ColumnMenu",messages:{sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filter:"Filter",columns:"Columns",done:"Done",settings:"Column Settings",lock:"Lock",unlock:"Unlock"},filter:"",columns:true,sortable:true,filterable:true,animations:{left:"slide"}},_createMenu:function(){var D=this,C=D.options;D.wrapper.html(r.template(B)({ns:r.ns,messages:C.messages,sortable:C.sortable,filterable:C.filterable,columns:D._ownerColumns(),showColumns:C.columns,lockedColumns:C.lockedColumns}));D.popup=D.wrapper[s]({anchor:D.link,open:v(D._open,D),activate:v(D._activate,D),close:function(){if(D.options.closeCallback){D.options.closeCallback(D.element)}}}).data(s);D.menu=D.wrapper.children()[m]({orientation:"vertical",closeOnClick:false}).data(m)},_createMobileMenu:function(){var E=this,C=E.options;var D=r.template(t)({ns:r.ns,field:E.field,title:E.title||E.field,messages:C.messages,sortable:C.sortable,filterable:C.filterable,columns:E._ownerColumns(),showColumns:C.columns,lockedColumns:C.lockedColumns});E.view=E.pane.append(D);E.wrapper=E.view.element.find(".k-column-menu");E.menu=new o(E.wrapper.children(),{pane:E.pane});E.view.element.on("click",".k-done",function(F){E.close();F.preventDefault()});if(E.options.lockedColumns){E.view.bind("show",function(){E._updateLockedColumns()})}},_angularItems:function(D){var C=this;C.angular(D,function(){var E=C.wrapper.find(".k-columns-item input["+r.attr("field")+"]").map(function(){return i(this).closest("li")});var F=A(C._ownerColumns(),function(G){return{column:G._originalObject}});return{elements:E,data:F}})},destroy:function(){var C=this;C._angularItems("cleanup");e.fn.destroy.call(C);if(C.filterMenu){C.filterMenu.destroy()}if(C._refreshHandler){C.dataSource.unbind(p,C._refreshHandler)}if(C.options.columns&&C.owner){if(C._updateColumnsMenuHandler){C.owner.unbind("columnShow",C._updateColumnsMenuHandler);C.owner.unbind("columnHide",C._updateColumnsMenuHandler)}if(C._updateColumnsLockedStateHandler){C.owner.unbind("columnLock",C._updateColumnsLockedStateHandler);C.owner.unbind("columnUnlock",C._updateColumnsLockedStateHandler)}}if(C.menu){C.menu.element.off(w);C.menu.destroy()}C.wrapper.off(w);if(C.popup){C.popup.destroy()}if(C.view){C.view.purge()}C.link.off(w);C.owner=null;C.wrapper=null;C.element=null},close:function(){this.menu.close();if(this.popup){this.popup.close();this.popup.element.off("keydown"+w)}},_click:function(D){D.preventDefault();D.stopPropagation();var C=this.options;if(C.filter&&this.element.is(!C.filter)){return}if(!this.popup&&!this.pane){this._init()}if(this._isMobile){this.pane.navigate(this.view,this.options.animations.left)}else{this.popup.toggle()}},_open:function(){var C=this;i(".k-column-menu").not(C.wrapper).each(function(){i(this).data(s).close()});C.popup.element.on("keydown"+w,function(D){if(D.keyCode==r.keys.ESC){C.close()}});if(C.options.lockedColumns){C._updateLockedColumns()}},_activate:function(){this.menu.element.focus()},_ownerColumns:function(){var C=k(this.owner.columns),D=n(C,function(F){var E=true,G=u(F.title||"");if(F.menu===false||(!F.field&&!G.length)){E=false}return E});return A(D,function(E){return{originalField:E.field,field:E.field||E.title,title:E.title||E.field,hidden:E.hidden,index:y(E,C),locked:!!E.locked,_originalObject:E}})},_sort:function(){var C=this;if(C.options.sortable){C.refresh();C.menu.bind(f,function(F){var E=i(F.item),D;if(E.hasClass("k-sort-asc")){D=x}else{if(E.hasClass("k-sort-desc")){D=g}}if(!D){return}E.parent().find(".k-sort-"+(D==x?g:x)).removeClass(l);C._sortDataSource(E,D);C.close()})}},_sortDataSource:function(K,F){var I=this,H=I.options.sortable,D=H.compare===null?j:H.compare,C=I.dataSource,J,E,G=C.sort()||[];if(K.hasClass(l)&&H&&H.allowUnsort!==false){K.removeClass(l);F=j}else{K.addClass(l)}if(H.mode==="multiple"){for(J=0,E=G.length;J<E;J++){if(G[J].field===I.field){G.splice(J,1);break}}G.push({field:I.field,dir:F,compare:D})}else{G=[{field:I.field,dir:F,compare:D}]}C.sort(G)},_columns:function(){var C=this;if(C.options.columns){C._updateColumnsMenu();C._updateColumnsMenuHandler=v(C._updateColumnsMenu,C);C.owner.bind(["columnHide","columnShow"],C._updateColumnsMenuHandler);C._updateColumnsLockedStateHandler=v(C._updateColumnsLockedState,C);C.owner.bind(["columnUnlock","columnLock"],C._updateColumnsLockedStateHandler);C.menu.bind(f,function(J){var H=i(J.item),D,E,G,F=k(C.owner.columns),I;if(C._isMobile){J.preventDefault()}if(!H.parent().closest("li.k-columns-item")[0]){return}D=H.find(":checkbox");if(D.attr("disabled")){return}I=D.attr(r.attr("field"));G=n(F,function(K){return K.field==I||K.title==I})[0];if(G.hidden===true){C.owner.showColumn(G)}else{C.owner.hideColumn(G)}})}},_updateColumnsMenu:function(){var K,D,I,J,G;var F=r.attr("field"),M=r.attr("locked"),E=n(this._ownerColumns(),function(O){return !O.hidden}),C=n(E,function(O){return O.originalField}),L=n(C,function(O){return O.locked===true}).length,N=n(C,function(O){return O.locked!==true}).length;E=A(E,function(O){return O.field});var H=this.wrapper.find(".k-columns-item input["+F+"]").prop("disabled",false).prop("checked",false);for(K=0,D=H.length;K<D;K++){I=H.eq(K);G=I.attr(M)==="true";J=false;if(y(I.attr(F),E)>-1){J=true;I.prop("checked",J)}if(J){if(L==1&&G){I.prop("disabled",true)}if(N==1&&!G){I.prop("disabled",true)}}}},_updateColumnsLockedState:function(){var J,C,I,G,D;var F=r.attr("field");var K=r.attr("locked");var E=c(this._ownerColumns(),"field");var H=this.wrapper.find(".k-columns-item input[type=checkbox]");for(J=0,C=H.length;J<C;J++){I=H.eq(J);D=E[I.attr(F)];if(D){I.attr(K,D.locked)}}this._updateColumnsMenu()},_filter:function(){var D=this,E=b,C=D.options;if(C.filterable!==false){if(C.filterable.multi){E="kendoFilterMultiCheck";if(C.filterable.dataSource){C.filterable.checkSource=C.filterable.dataSource;delete C.filterable.dataSource}}D.filterMenu=D.wrapper.find(".k-filterable")[E](z(true,{},{appendToElement:true,dataSource:C.dataSource,values:C.values,field:D.field,title:D.title},C.filterable)).data(E);if(D._isMobile){D.menu.bind(f,function(G){var F=i(G.item);if(F.hasClass("k-filter-item")){D.pane.navigate(D.filterMenu.view,D.options.animations.left)}})}}},_lockColumns:function(){var C=this;C.menu.bind(f,function(E){var D=i(E.item);if(D.hasClass("k-lock")){C.owner.lockColumn(C.field);C.close()}else{if(D.hasClass("k-unlock")){C.owner.unlockColumn(C.field);C.close()}}})},_updateLockedColumns:function(){var I=this.field;var D=this.owner.columns;var F=n(D,function(J){return J.field==I||J.title==I})[0];if(!F){return}var C=F.locked===true;var H=n(D,function(J){return !J.hidden&&((J.locked&&C)||(!J.locked&&!C))}).length;var G=this.wrapper.find(".k-lock").removeClass("k-state-disabled");var E=this.wrapper.find(".k-unlock").removeClass("k-state-disabled");if(C||H==1){G.addClass("k-state-disabled")}if(!C||H==1){E.addClass("k-state-disabled")}this._updateColumnsLockedState()},refresh:function(){var F=this,D=F.options.dataSource.sort()||[],H,G=F.field,C,E;F.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(l);for(C=0,E=D.length;C<E;C++){H=D[C];if(G==H.field){F.wrapper.find(".k-sort-"+H.dir).addClass(l)}}F.link[F._filterExist(F.dataSource.filter())?"addClass":"removeClass"]("k-state-active")},_filterExist:function(F){var G=false;var D;if(!F){return}F=F.filters;for(var C=0,E=F.length;C<E;C++){D=F[C];if(D.field==this.field){G=true}else{if(D.filters){G=G||this._filterExist(D)}}}return G}});var B='<ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#if(showColumns || filterable){#<li class="k-separator"></li>#}##}##if(showColumns){#<li class="k-item k-columns-item"><span class="k-link"><span class="k-sprite k-i-columns"></span>${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li><input type="checkbox" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</li>#}#</ul></li>#if(filterable || lockedColumns){#<li class="k-separator"></li>#}##}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link"><span class="k-sprite k-filter"></span>${messages.filter}</span><ul><li><div class="k-filterable"></div></li></ul></li>#if(lockedColumns){#<li class="k-separator"></li>#}##}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-sprite k-i-lock"></span>${messages.lock}</span></li><li class="k-item k-unlock"><span class="k-link"><span class="k-sprite k-i-unlock"></span>${messages.unlock}</span></li>#}#</ul>';var t='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-column-menu"><div data-#=ns#role="header" class="k-header">${messages.settings}<button class="k-button k-done">#=messages.done#</button></div><div class="k-column-menu k-mobile-list"><ul><li><span class="k-link">${title}</span><ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-sprite k-i-lock"></span>${messages.lock}</span></li><li class="k-item k-unlock"><span class="k-link"><span class="k-sprite k-i-unlock"></span>${messages.unlock}</span></li>#}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link k-filterable"><span class="k-sprite k-filter"></span>${messages.filter}</span></li>#}#</ul></li>#if(showColumns){#<li class="k-columns-item"><span class="k-link">${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li class="k-item"><label class="k-label"><input type="checkbox" class="k-check" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</label></li>#}#</ul></li>#}#</ul></div></div>';var o=e.extend({init:function(D,C){e.fn.init.call(this,D,C);this.element.on("click"+w,"li.k-item:not(.k-separator):not(.k-state-disabled)","_click")},events:[f],_click:function(C){if(!i(C.target).is("[type=checkbox]")){C.preventDefault()}this.trigger(f,{item:C.currentTarget})},close:function(){this.options.pane.navigate("")},destroy:function(){e.fn.destroy.call(this);this.element.off(w)}});q.plugin(h)})(window.kendo.jQuery);(function(g,c){var k=window.kendo;var l=k.ui;var m=l.Widget;var p="dir";var e="asc";var o="single";var i="field";var h="desc";var b=".kendoColumnSorter";var d=".k-link";var n="aria-sort";var j=g.proxy;var f=m.extend({init:function(r,q){var t=this,s;m.fn.init.call(t,r,q);t._refreshHandler=j(t.refresh,t);t.dataSource=t.options.dataSource.bind("change",t._refreshHandler);s=t.element.find(d);if(!s[0]){s=t.element.wrapInner('<a class="k-link" href="#"/>').find(d)}t.link=s;t.element.on("click"+b,j(t._click,t))},options:{name:"ColumnSorter",mode:o,allowUnsort:true,compare:null,filter:""},destroy:function(){var q=this;m.fn.destroy.call(q);q.element.off(b);q.dataSource.unbind("change",q._refreshHandler);q._refreshHandler=q.element=q.link=q.dataSource=null},refresh:function(){var v=this,t=v.dataSource.sort()||[],q,u,x,r,s=v.element,w=s.attr(k.attr(i));s.removeAttr(k.attr(p));s.removeAttr(n);for(q=0,u=t.length;q<u;q++){x=t[q];if(w==x.field){s.attr(k.attr(p),x.dir)}}r=s.attr(k.attr(p));s.find(".k-i-arrow-n,.k-i-arrow-s").remove();if(r===e){g('<span class="k-icon k-i-arrow-n" />').appendTo(v.link);s.attr(n,"ascending")}else{if(r===h){g('<span class="k-icon k-i-arrow-s" />').appendTo(v.link);s.attr(n,"descending")}}},_click:function(w){var v=this,t=v.element,x=t.attr(k.attr(i)),s=t.attr(k.attr(p)),z=v.options,q=v.options.compare===null?c:v.options.compare,u=v.dataSource.sort()||[],y,r;w.preventDefault();if(z.filter&&!t.is(z.filter)){return}if(s===e){s=h}else{if(s===h&&z.allowUnsort){s=c}else{s=e}}if(z.mode===o){u=[{field:x,dir:s,compare:q}]}else{if(z.mode==="multiple"){for(y=0,r=u.length;y<r;y++){if(u[y].field===x){u.splice(y,1);break}}u.push({field:x,dir:s,compare:q})}}this.dataSource.sort(u)}});l.plugin(f)})(window.kendo.jQuery);(function(d,g){var p=window.kendo,o=p.ui,c=o.Widget,v=d.extend,f=p.support.browser.msie&&p.support.browser.version<9,b=p.isFunction,m=d.isPlainObject,u=d.inArray,n=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,t='<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>',l="change";var s=["url","email","number","date","boolean"];function i(w){w=w!=null?w:"";return w.type||d.type(w)||"string"}function q(w){w.find(":input:not(:button, ["+p.attr("role")+"=upload], ["+p.attr("skip")+"], [type=file]), select").each(function(){var x=p.attr("bind"),z=this.getAttribute(x)||"",y=this.type==="checkbox"||this.type==="radio"?"checked:":"value:",A=this.name;if(z.indexOf(y)===-1&&A){z+=(z.length?",":"")+y+A;d(this).attr(x,z)}})}function j(E){var B=(E.model.fields||E.model)[E.field],z=i(B),w=B?B.validation:{},C,D=p.attr("type"),x=p.attr("bind"),A,y={name:E.field};for(C in w){A=w[C];if(u(C,s)>=0){y[D]=C}else{if(!b(A)){y[C]=m(A)?A.value||C:A}}y[p.attr(C+"-msg")]=A.message}if(u(z,s)>=0){y[D]=z}y[x]=(z==="boolean"?"checked:":"value:")+E.field;return y}function e(y){var x,A,z,B,C,w;if(y&&y.length){w=[];for(x=0,A=y.length;x<A;x++){z=y[x];C=z.text||z.value||z;B=z.value==null?(z.text||z):z.value;w[x]={text:C,value:B}}}return w}var k={number:function(x,y){var w=j(y);d('<input type="text"/>').attr(w).appendTo(x).kendoNumericTextBox({format:y.format});d("<span "+p.attr("for")+'="'+y.field+'" class="k-invalid-msg"/>').hide().appendTo(x)},date:function(x,y){var w=j(y),z=y.format;if(z){z=p._extractFormat(z)}w[p.attr("format")]=z;d('<input type="text"/>').attr(w).appendTo(x).kendoDatePicker({format:y.format});d("<span "+p.attr("for")+'="'+y.field+'" class="k-invalid-msg"/>').hide().appendTo(x)},string:function(x,y){var w=j(y);d('<input type="text" class="k-input k-textbox"/>').attr(w).appendTo(x)},"boolean":function(x,y){var w=j(y);d('<input type="checkbox" />').attr(w).appendTo(x)},values:function(x,y){var w=j(y);d("<select "+p.attr("text-field")+'="text"'+p.attr("value-field")+'="value"'+p.attr("source")+"='"+p.stringify(e(y.values)).replace(/\'/g,"&apos;")+"'"+p.attr("role")+'="dropdownlist"/>').attr(w).appendTo(x);d("<span "+p.attr("for")+'="'+y.field+'" class="k-invalid-msg"/>').hide().appendTo(x)}};function h(x,A){var w=x?(x.validation||{}):{},z,y;for(z in w){y=w[z];if(m(y)&&y.value){y=y.value}if(b(y)){A[z]=y}}}var r=c.extend({init:function(x,w){var y=this;if(w.target){w.$angular=w.target.options.$angular}c.fn.init.call(y,x,w);y._validateProxy=d.proxy(y._validate,y);y.refresh()},events:[l],options:{name:"Editable",editors:k,clearContainer:true,errorTemplate:t},editor:function(F,x){var B=this,D=B.options.editors,H=m(F),G=H?F.field:F,z=B.options.model||{},y=H&&F.values,E=y?"values":i(x),C=H&&F.editor,A=C?F.editor:D[E],w=B.element.find("["+p.attr("container-for")+"="+G.replace(n,"\\$1")+"]");A=A?A:D.string;if(C&&typeof F.editor==="string"){A=function(I){I.append(F.editor)}}w=w.length?w:B.element;A(w,v(true,{},H?F:{field:G},{model:z}))},_validate:function(y){var w=this,A,B=y.value,E=w._validationEventInProgress,C={},z=p.attr("bind"),D=y.field.replace(n,"\\$1"),x=new RegExp("(value|checked)\\s*:\\s*"+D+"\\s*(,|$)");C[y.field]=y.value;A=d(":input["+z+'*="'+D+'"]',w.element).filter("["+p.attr("validate")+"!='false']").filter(function(F){return x.test(d(this).attr(z))});if(A.length>1){A=A.filter(function(){var F=d(this);return !F.is(":radio")||F.val()==B})}try{w._validationEventInProgress=true;if(!w.validatable.validateInput(A)||(!E&&w.trigger(l,{values:C}))){y.preventDefault()}}finally{w._validationEventInProgress=false}},end:function(){return this.validatable.validate()},destroy:function(){var w=this;w.angular("cleanup",function(){return{elements:w.element}});c.fn.destroy.call(w);w.options.model.unbind("set",w._validateProxy);p.unbind(w.element);if(w.validatable){w.validatable.destroy()}p.destroy(w.element);w.element.removeData("kendoValidator")},refresh:function(){var C=this,F,x,A=C.options.fields||[],w=C.options.clearContainer?C.element.empty():C.element,z=C.options.model||{},H={},E,I,G,y,B;if(!d.isArray(A)){A=[A]}for(F=0,x=A.length;F<x;F++){E=A[F];I=m(E);G=I?E.field:E;y=(z.fields||z)[G];h(y,H);C.editor(E,y)}if(C.options.target){C.angular("compile",function(){return{elements:w,data:[{dataItem:z}]}})}if(!x){B=z.fields||z;for(G in B){h(B[G],H)}}q(w);if(C.validatable){C.validatable.destroy()}p.bind(w,C.options.model);C.options.model.unbind("set",C._validateProxy);C.options.model.bind("set",C._validateProxy);C.validatable=new p.ui.Validator(w,{validateOnBlur:false,errorTemplate:C.options.errorTemplate||g,rules:H});var D=w.find(":kendoFocusable").eq(0).focus();if(f){D.focus()}}});o.plugin(r)})(window.kendo.jQuery);(function(y,m){var B=window.kendo,c=B.ui.Widget,j=B.ui.Draggable,ab=y.isPlainObject,e=B._activeElement,S=y.proxy,h=y.extend,Q=y.each,d=B.template,O="body",b,C=".kendoWindow",x=".k-window",Y=".k-window-title",z=Y+"bar",r=".k-window-content",p=".k-resize-handle",l=".k-overlay",g="k-content-frame",t="k-loading",D="k-state-hover",J="k-state-focused",v="k-window-maximized",aa=":visible",R="hidden",F="cursor",P="open",i="activate",I="deactivate",X="close",u="refresh",ac="resize",H="resizeEnd",L="dragstart",E="dragend",A="error",K="overflow",f="zIndex",W=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",V=".k-i-pin",w=".k-i-unpin",T=V+","+w,N=".k-window-titlebar .k-window-action",o=".k-window-titlebar .k-i-refresh",G=B.isLocalUrl;function M(ad){return(typeof ad!="undefined")}function U(af,ad,ae){return Math.max(Math.min(parseInt(af,10),ae===Infinity?ae:parseInt(ae,10)),parseInt(ad,10))}function n(ae,ad){return function(){var ah=this,ai=ah.wrapper,ag=ai[0].style,af=ah.options;if(af.isMaximized||af.isMinimized){return ah}ah.restoreOptions={width:ag.width,height:ag.height};ai.children(p).hide().end().children(z).find(W).parent().hide().eq(0).before(b.action({name:"Restore"}));ad.call(ah);if(ae=="maximize"){ah.wrapper.children(z).find(T).parent().hide()}else{ah.wrapper.children(z).find(T).parent().show()}return ah}}function s(){return !this.type||this.type.toLowerCase().indexOf("script")>=0}var k=c.extend({init:function(ah,ap){var ak=this,ad,ag={},ae,am,aj,ai=false,al,ao,an=ap&&ap.actions&&!ap.actions.length,af;c.fn.init.call(ak,ah,ap);ap=ak.options;aj=ap.position;ah=ak.element;al=ap.content;if(an){ap.actions=[]}ak.appendTo=y(ap.appendTo);ak._animations();if(al&&!ab(al)){al=ap.content={url:al}}ah.find("script").filter(s).remove();if(!ah.parent().is(ak.appendTo)&&(aj.top===m||aj.left===m)){if(ah.is(aa)){ag=ah.offset();ai=true}else{ae=ah.css("visibility");am=ah.css("display");ah.css({visibility:R,display:""});ag=ah.offset();ah.css({visibility:ae,display:am})}if(aj.top===m){aj.top=ag.top}if(aj.left===m){aj.left=ag.left}}if(!M(ap.visible)||ap.visible===null){ap.visible=ah.is(aa)}ad=ak.wrapper=ah.closest(x);if(!ah.is(".k-content")||!ad[0]){ah.addClass("k-window-content k-content");ak._createWindow(ah,ap);ad=ak.wrapper=ah.closest(x);ak._dimensions()}ak._position();if(ap.pinned){ak.pin(true)}if(al){ak.refresh(al)}if(ap.visible){ak.toFront()}ao=ad.children(r);ak._tabindex(ao);if(ap.visible&&ap.modal){ak._overlay(ad.is(aa)).css({opacity:0.5})}ad.on("mouseenter"+C,N,S(ak._buttonEnter,ak)).on("mouseleave"+C,N,S(ak._buttonLeave,ak)).on("click"+C,"> "+N,S(ak._windowActionHandler,ak));ao.on("keydown"+C,S(ak._keydown,ak)).on("focus"+C,S(ak._focus,ak)).on("blur"+C,S(ak._blur,ak));this._resizable();this._draggable();af=ah.attr("id");if(af){af=af+"_wnd_title";ad.children(z).children(Y).attr("id",af);ao.attr({role:"dialog","aria-labelledby":af})}ad.add(ad.children(".k-resize-handle,"+z)).on("mousedown"+C,S(ak.toFront,ak));ak.touchScroller=B.touchScroller(ah);ak._resizeHandler=S(ak._onDocumentResize,ak);ak._marker=B.guid().substring(0,8);y(window).on("resize"+C+ak._marker,ak._resizeHandler);if(ap.visible){ak.trigger(P);ak.trigger(i)}B.notify(ak)},_buttonEnter:function(ad){y(ad.currentTarget).addClass(D)},_buttonLeave:function(ad){y(ad.currentTarget).removeClass(D)},_focus:function(){this.wrapper.addClass(J)},_blur:function(){this.wrapper.removeClass(J)},_dimensions:function(){var ak=this.wrapper;var ae=this.options;var ag=ae.width;var ad=ae.height;var ai=ae.maxHeight;var ah=["minWidth","minHeight","maxWidth","maxHeight"];this.title(ae.title);for(var af=0;af<ah.length;af++){var aj=ae[ah[af]];if(aj&&aj!=Infinity){ak.css(ah[af],aj)}}if(ai&&ai!=Infinity){this.element.css("maxHeight",ai)}if(ag){if(ag.toString().indexOf("%")>0){ak.width(ag)}else{ak.width(U(ag,ae.minWidth,ae.maxWidth))}}if(ad){if(ad.toString().indexOf("%")>0){ak.height(ad)}else{ak.height(U(ad,ae.minHeight,ae.maxHeight))}}if(!ae.visible){ak.hide()}},_position:function(){var ae=this.wrapper,ad=this.options.position;if(ad.top===0){ad.top=ad.top.toString()}if(ad.left===0){ad.left=ad.left.toString()}ae.css({top:ad.top||"",left:ad.left||""})},_animations:function(){var ad=this.options;if(ad.animation===false){ad.animation={open:{effects:{}},close:{hide:true,effects:{}}}}},_resize:function(){B.resize(this.element.children())},_resizable:function(){var ad=this.options.resizable;var ae=this.wrapper;if(this.resizing){ae.off("dblclick"+C).children(p).remove();this.resizing.destroy();this.resizing=null}if(ad){ae.on("dblclick"+C,z,S(function(af){if(!y(af.target).closest(".k-window-action").length){this.toggleMaximization()}},this));Q("n e s w se sw ne nw".split(" "),function(af,ag){ae.append(b.resizeHandle(ag))});this.resizing=new Z(this)}ae=null},_draggable:function(){var ad=this.options.draggable;if(this.dragging){this.dragging.destroy();this.dragging=null}if(ad){this.dragging=new q(this,ad.dragHandle||z)}},_actions:function(){var af=this.options.actions;var ae=this.wrapper.children(z);var ad=ae.find(".k-window-actions");af=y.map(af,function(ag){return{name:ag}});ad.html(B.render(b.action,af))},setOptions:function(ad){c.fn.setOptions.call(this,ad);this._animations();this._dimensions();this._position();this._resizable();this._draggable();this._actions()},events:[P,i,I,X,u,ac,H,L,E,A],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:0.7}},fade:{direction:"out"}},duration:350,hide:true}},title:"",actions:["Close"],autoFocus:true,modal:false,resizable:true,draggable:true,minWidth:90,minHeight:50,maxWidth:Infinity,maxHeight:Infinity,pinned:false,position:{},content:null,visible:null,height:null,width:null,appendTo:"body"},_closable:function(){return y.inArray("close",y.map(this.options.actions,function(ad){return ad.toLowerCase()}))>-1},_keydown:function(am){var al=this,aq=al.options,ap=B.keys,ao=am.keyCode,af=al.wrapper,ah,ak,ae=10,ag=al.options.isMaximized,ai,ad,an,aj;if(am.target!=am.currentTarget||al._closing){return}if(ao==ap.ESC&&al._closable()){al._close(false)}if(aq.draggable&&!am.ctrlKey&&!ag){ah=B.getOffset(af);if(ao==ap.UP){ak=af.css("top",ah.top-ae)}else{if(ao==ap.DOWN){ak=af.css("top",ah.top+ae)}else{if(ao==ap.LEFT){ak=af.css("left",ah.left-ae)}else{if(ao==ap.RIGHT){ak=af.css("left",ah.left+ae)}}}}}if(aq.resizable&&am.ctrlKey&&!ag){if(ao==ap.UP){ak=true;ad=af.height()-ae}else{if(ao==ap.DOWN){ak=true;ad=af.height()+ae}}if(ao==ap.LEFT){ak=true;ai=af.width()-ae}else{if(ao==ap.RIGHT){ak=true;ai=af.width()+ae}}if(ak){an=U(ai,aq.minWidth,aq.maxWidth);aj=U(ad,aq.minHeight,aq.maxHeight);if(!isNaN(an)){af.width(an);al.options.width=an+"px"}if(!isNaN(aj)){af.height(aj);al.options.height=aj+"px"}al.resize()}}if(ak){am.preventDefault()}},_overlay:function(ae){var ad=this.appendTo.children(l),af=this.wrapper;if(!ad.length){ad=y("<div class='k-overlay' />")}ad.insertBefore(af[0]).toggle(ae).css(f,parseInt(af.css(f),10)-1);return ad},_actionForIcon:function(ae){var ad=/\bk-i-\w+\b/.exec(ae[0].className)[0];return{"k-i-close":"_close","k-i-maximize":"maximize","k-i-minimize":"minimize","k-i-restore":"restore","k-i-refresh":"refresh","k-i-pin":"pin","k-i-unpin":"unpin"}[ad]},_windowActionHandler:function(af){if(this._closing){return}var ad=y(af.target).closest(".k-window-action").find(".k-icon");var ae=this._actionForIcon(ad);if(ae){af.preventDefault();this[ae]();return false}},_modals:function(){var ad=this;var ae=y(x).filter(function(){var ah=y(this);var ag=ad._object(ah);var af=ag&&ag.options;return af&&af.modal&&af.visible&&ah.is(aa)}).sort(function(ag,af){return +y(ag).css("zIndex")-+y(af).css("zIndex")});ad=null;return ae},_object:function(ad){var ae=ad.children(r);return ae.data("kendoWindow")||ae.data("kendo"+this.options.name)},center:function(){var ah=this,ad=ah.options.position,ak=ah.wrapper,af=y(window),ai=0,aj=0,ae,ag;if(ah.options.isMaximized){return ah}if(!ah.options.pinned){ai=af.scrollTop();aj=af.scrollLeft()}ag=aj+Math.max(0,(af.width()-ak.width())/2);ae=ai+Math.max(0,(af.height()-ak.height()-parseInt(ak.css("paddingTop"),10))/2);ak.css({left:ag,top:ae});ad.top=ae;ad.left=ag;return ah},title:function(ai){var ag=this,aj=ag.wrapper,ae=ag.options,ad=aj.children(z),ah=ad.children(Y),af;if(!arguments.length){return ah.text()}if(ai===false){aj.addClass("k-window-titleless");ad.remove()}else{if(!ad.length){aj.prepend(b.titlebar(ae));ag._actions();ad=aj.children(z)}else{ah.html(ai)}af=ad.outerHeight();aj.css("padding-top",af);ad.css("margin-top",-af)}ag.options.title=ai;return ag},content:function(ae,ag){var af=this.wrapper.children(r),ad=af.children(".km-scroll-container");af=ad[0]?ad:af;if(!M(ae)){return af.html()}this.angular("cleanup",function(){return{elements:af.children()}});B.destroy(this.element.children());af.empty().html(ae);this.angular("compile",function(){var ah=[];for(var ai=af.length;--ai>=0;){ah.push({dataItem:ag})}return{elements:af.children(),data:ah}});return this},open:function(){var ah=this,aj=ah.wrapper,af=ah.options,ag=af.animation.open,ai=aj.children(r),ae;if(!ah.trigger(P)){if(ah._closing){aj.kendoStop(true,true)}ah._closing=false;ah.toFront();if(af.autoFocus){ah.element.focus()}af.visible=true;if(af.modal){ae=ah._overlay(false);ae.kendoStop(true,true);if(ag.duration&&B.effects.Fade){var ad=B.fx(ae).fadeIn();ad.duration(ag.duration||0);ad.endValue(0.5);ad.play()}else{ae.css("opacity",0.5)}ae.show()}if(!aj.is(aa)){ai.css(K,R);aj.show().kendoStop().kendoAnimate({effects:ag.effects,duration:ag.duration,complete:S(this._activate,this)})}}if(af.isMaximized){ah._documentScrollTop=y(document).scrollTop();y("html, body").css(K,R)}return ah},_activate:function(){if(this.options.autoFocus){this.element.focus()}this.trigger(i);this.wrapper.children(r).css(K,"")},_removeOverlay:function(ag){var ah=this._modals();var af=this.options;var aj=af.modal&&!ah.length;var ae=af.modal?this._overlay(true):y(m);var ai=af.animation.close;if(aj){if(!ag&&ai.duration&&B.effects.Fade){var ad=B.fx(ae).fadeOut();ad.duration(ai.duration||0);ad.startValue(0.5);ad.play()}else{this._overlay(false).remove()}}else{if(ah.length){this._object(ah.last())._overlay(true)}}},_close:function(ah){var af=this,ai=af.wrapper,ad=af.options,ae=ad.animation.open,ag=ad.animation.close;if(ai.is(aa)&&!af.trigger(X,{userTriggered:!ah})){if(af._closing){return}af._closing=true;ad.visible=false;y(x).each(function(ak,aj){var al=y(aj).children(r);if(aj!=ai&&al.find("> ."+g).length>0){al.children(l).remove()}});this._removeOverlay();ai.kendoStop().kendoAnimate({effects:ag.effects||ae.effects,reverse:ag.reverse===true,duration:ag.duration,complete:S(this._deactivate,this)})}if(af.options.isMaximized){y("html, body").css(K,"");if(af._documentScrollTop&&af._documentScrollTop>0){y(document).scrollTop(af._documentScrollTop)}}},_deactivate:function(){this.wrapper.hide().css("opacity","");this.trigger(I);var ad=this._object(this._modals().last());if(ad){ad.toFront()}},close:function(){this._close(true);return this},_actionable:function(ad){return y(ad).is(N+","+N+" .k-icon,:input,a")},_shouldFocus:function(af){var ae=e(),ad=this.element;return this.options.autoFocus&&!y(ae).is(ad)&&!this._actionable(af)&&(!ad.find(ae).length||!ad.find(af).length)},toFront:function(ai){var ah=this,ad=ah.wrapper,af=ad[0],ak=+ad.css(f),ag=ak,aj=(ai&&ai.target)||null;y(x).each(function(ao,an){var am=y(an),aq=am.css(f),ap=am.children(r);if(!isNaN(aq)){ak=Math.max(+aq,ak)}if(an!=af&&ap.find("> ."+g).length>0){ap.append(b.overlay)}});if(!ad[0].style.zIndex||ag<ak){ad.css(f,ak+2)}ah.element.find("> .k-overlay").remove();if(ah._shouldFocus(aj)){ah.element.focus();var ae=y(window).scrollTop(),al=parseInt(ad.position().top,10);if(al>0&&al<ae){if(ae>0){y(window).scrollTop(al)}else{ad.css("top",ae)}}}ad=null;return ah},toggleMaximization:function(){if(this._closing){return this}return this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var ae=this;var ad=ae.options;var af=ad.minHeight;var ag=ae.restoreOptions;if(!ad.isMaximized&&!ad.isMinimized){return ae}if(af&&af!=Infinity){ae.wrapper.css("min-height",af)}ae.wrapper.css({position:ad.pinned?"fixed":"absolute",left:ag.left,top:ag.top,width:ag.width,height:ag.height}).removeClass(v).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(W).parent().show().end().end().find(T).parent().show();ae.options.width=ag.width;ae.options.height=ag.height;y("html, body").css(K,"");if(this._documentScrollTop&&this._documentScrollTop>0){y(document).scrollTop(this._documentScrollTop)}ad.isMaximized=ad.isMinimized=false;ae.resize();return ae},maximize:n("maximize",function(){var ae=this,af=ae.wrapper,ad=af.position();h(ae.restoreOptions,{left:ad.left,top:ad.top});af.css({left:0,top:0,position:"fixed"}).addClass(v);this._documentScrollTop=y(document).scrollTop();y("html, body").css(K,R);ae.options.isMaximized=true;ae._onDocumentResize()}),minimize:n("minimize",function(){var ad=this;ad.wrapper.css({height:"",minHeight:""});ad.element.hide();ad.options.isMinimized=true}),pin:function(ae){var ad=this,ah=y(window),ai=ad.wrapper,ag=parseInt(ai.css("top"),10),af=parseInt(ai.css("left"),10);if(ae||!ad.options.pinned&&!ad.options.isMaximized){ai.css({position:"fixed",top:ag-ah.scrollTop(),left:af-ah.scrollLeft()});ai.children(z).find(V).addClass("k-i-unpin").removeClass("k-i-pin");ad.options.pinned=true}},unpin:function(){var ad=this,ag=y(window),ah=ad.wrapper,af=parseInt(ah.css("top"),10),ae=parseInt(ah.css("left"),10);if(ad.options.pinned&&!ad.options.isMaximized){ah.css({position:"",top:af+ag.scrollTop(),left:ae+ag.scrollLeft()});ah.children(z).find(w).addClass("k-i-pin").removeClass("k-i-unpin");ad.options.pinned=false}},_onDocumentResize:function(){var ag=this,ai=ag.wrapper,af=y(window),ah=B.support.zoomLevel(),ad,ae;if(!ag.options.isMaximized){return}ad=af.width()/ah;ae=af.height()/ah-parseInt(ai.css("padding-top"),10);ai.css({width:ad,height:ae});ag.options.width=ad;ag.options.height=ae;ag.resize()},refresh:function(af){var aj=this,ai=aj.options,ag=y(aj.element),ah,ad,ae;if(!ab(af)){af={url:af}}af=h({},ai.content,af);ad=M(ai.iframe)?ai.iframe:af.iframe;ae=af.url;if(ae){if(!M(ad)){ad=!G(ae)}if(!ad){aj._ajaxRequest(af)}else{ah=ag.find("."+g)[0];if(ah){ah.src=ae||ah.src}else{ag.html(b.contentFrame(h({},ai,{content:af})))}ag.find("."+g).unbind("load"+C).on("load"+C,S(this._triggerRefresh,this))}}else{if(af.template){aj.content(d(af.template)({}))}aj.trigger(u)}ag.toggleClass("k-window-iframecontent",!!ad);return aj},_triggerRefresh:function(){this.trigger(u)},_ajaxComplete:function(){clearTimeout(this._loadingIconTimeout);this.wrapper.find(o).removeClass(t)},_ajaxError:function(ae,ad){this.trigger(A,{status:ad,xhr:ae})},_ajaxSuccess:function(ad){return function(af){var ae=af;if(ad){ae=d(ad)(af||{})}this.content(ae,af);this.element.prop("scrollTop",0);this.trigger(u)}},_showLoading:function(){this.wrapper.find(o).addClass(t)},_ajaxRequest:function(ad){this._loadingIconTimeout=setTimeout(S(this._showLoading,this),100);y.ajax(h({type:"GET",dataType:"html",cache:false,error:S(this._ajaxError,this),complete:S(this._ajaxComplete,this),success:S(this._ajaxSuccess(ad.template),this)},ad))},destroy:function(){var ad=this;if(ad.resizing){ad.resizing.destroy()}if(ad.dragging){ad.dragging.destroy()}ad.wrapper.off(C).children(r).off(C).end().find(".k-resize-handle,.k-window-titlebar").off(C);y(window).off("resize"+C+ad._marker);clearTimeout(ad._loadingIconTimeout);c.fn.destroy.call(ad);ad.unbind(m);B.destroy(ad.wrapper);ad._removeOverlay(true);ad.wrapper.empty().remove();ad.wrapper=ad.appendTo=ad.element=y()},_createWindow:function(){var ag=this.element,af=this.options,ad,ah,ae=B.support.isRtl(ag);if(af.scrollable===false){ag.attr("style","overflow:hidden;")}ah=y(b.wrapper(af));ad=ag.find("iframe:not(.k-content)").map(function(){var ai=this.getAttribute("src");this.src="";return ai});ah.toggleClass("k-rtl",ae).appendTo(this.appendTo).append(ag).find("iframe:not(.k-content)").each(function(ai){this.src=ad[ai]});ah.find(".k-window-title").css(ae?"left":"right",ah.find(".k-window-actions").outerWidth()+10);ag.css("visibility","").show();ag.find("[data-role=editor]").each(function(){var ai=y(this).data("kendoEditor");if(ai){ai.refresh()}});ah=ag=null}});b={wrapper:d("<div class='k-widget k-window' />"),action:d("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span></a>"),titlebar:d("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #</span><div class='k-window-actions' /></div>"),overlay:"<div class='k-overlay' />",contentFrame:d("<iframe frameborder='0' title='#= title #' class='"+g+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),resizeHandle:d("<div class='k-resize-handle k-resize-#= data #'></div>")};function Z(ae){var ad=this;ad.owner=ae;ad._draggable=new j(ae.wrapper,{filter:">"+p,group:ae.wrapper.id+"-resizing",dragstart:S(ad.dragstart,ad),drag:S(ad.drag,ad),dragend:S(ad.dragend,ad)});ad._draggable.userEvents.bind("press",S(ad.addOverlay,ad));ad._draggable.userEvents.bind("release",S(ad.removeOverlay,ad))}Z.prototype={addOverlay:function(){this.owner.wrapper.append(b.overlay)},removeOverlay:function(){this.owner.wrapper.find(l).remove()},dragstart:function(af){var ae=this;var ad=ae.owner;var ag=ad.wrapper;ae.elementPadding=parseInt(ag.css("padding-top"),10);ae.initialPosition=B.getOffset(ag,"position");ae.resizeDirection=af.currentTarget.prop("className").replace("k-resize-handle k-resize-","");ae.initialSize={width:ag.width(),height:ag.height()};ae.containerOffset=B.getOffset(ad.appendTo,"position");ag.children(p).not(af.currentTarget).hide();y(O).css(F,af.currentTarget.css(F))},drag:function(al){var ak=this,ag=ak.owner,ae=ag.wrapper,ar=ag.options,ao=ak.resizeDirection,aj=ak.containerOffset,ah=ak.initialPosition,aq=ak.initialSize,ai,ad,af,ap,an=Math.max(al.x.location,aj.left),am=Math.max(al.y.location,aj.top);if(ao.indexOf("e")>=0){ai=an-ah.left;ae.width(U(ai,ar.minWidth,ar.maxWidth))}else{if(ao.indexOf("w")>=0){ap=ah.left+aq.width;ai=U(ap-an,ar.minWidth,ar.maxWidth);ae.css({left:ap-ai-aj.left,width:ai})}}if(ao.indexOf("s")>=0){ad=am-ah.top-ak.elementPadding;ae.height(U(ad,ar.minHeight,ar.maxHeight))}else{if(ao.indexOf("n")>=0){af=ah.top+aq.height;ad=U(af-am,ar.minHeight,ar.maxHeight);ae.css({top:af-ad-aj.top,height:ad})}}if(ai){ag.options.width=ai+"px"}if(ad){ag.options.height=ad+"px"}ag.resize()},dragend:function(af){var ae=this,ad=ae.owner,ag=ad.wrapper;ag.children(p).not(af.currentTarget).show();y(O).css(F,"");if(ad.touchScroller){ad.touchScroller.reset()}if(af.keyCode==27){ag.css(ae.initialPosition).css(ae.initialSize)}ad.trigger(H);return false},destroy:function(){if(this._draggable){this._draggable.destroy()}this._draggable=this.owner=null}};function q(af,ad){var ae=this;ae.owner=af;ae._draggable=new j(af.wrapper,{filter:ad,group:af.wrapper.id+"-moving",dragstart:S(ae.dragstart,ae),drag:S(ae.drag,ae),dragend:S(ae.dragend,ae),dragcancel:S(ae.dragcancel,ae)});ae._draggable.userEvents.stopPropagation=false}q.prototype={dragstart:function(ag){var af=this.owner,ad=af.element,ah=ad.find(".k-window-actions"),ae=B.getOffset(af.appendTo);af.trigger(L);af.initialWindowPosition=B.getOffset(af.wrapper,"position");af.startPosition={left:ag.x.client-af.initialWindowPosition.left,top:ag.y.client-af.initialWindowPosition.top};if(ah.length>0){af.minLeftPosition=ah.outerWidth()+parseInt(ah.css("right"),10)-ad.outerWidth()}else{af.minLeftPosition=20-ad.outerWidth()}af.minLeftPosition-=ae.left;af.minTopPosition=-ae.top;af.wrapper.append(b.overlay).children(p).hide();y(O).css(F,ag.currentTarget.css(F))},drag:function(ah){var ag=this.owner,ad=ag.options.position,ae=Math.max(ah.y.client-ag.startPosition.top,ag.minTopPosition),af=Math.max(ah.x.client-ag.startPosition.left,ag.minLeftPosition),ai={left:af,top:ae};y(ag.wrapper).css(ai);ad.top=ae;ad.left=af},_finishDrag:function(){var ad=this.owner;ad.wrapper.children(p).toggle(!ad.options.isMinimized).end().find(l).remove();y(O).css(F,"")},dragcancel:function(ad){this._finishDrag();ad.currentTarget.closest(x).css(this.owner.initialWindowPosition)},dragend:function(){this._finishDrag();this.owner.trigger(E);return false},destroy:function(){if(this._draggable){this._draggable.destroy()}this._draggable=this.owner=null}};B.ui.plugin(k)})(window.kendo.jQuery);(function(B,r){var C=window.kendo,z=window.angular,D=C.mobile,E=D.ui,t=C.attr,c=C.Class,l=E.Widget,F=C.ViewClone,q="init",A='<div style="height: 100%; width: 100%; position: absolute; top: 0; left: 0; z-index: 20000; display: none" />',b="beforeShow",e="show",w="afterShow",m="beforeHide",p="transitionEnd",k="transitionStart",o="hide",u="destroy",O="z-index",f=C.attrValue,N=C.roleSelector,d=C.directiveSelector,g=C.compileMobileDirective;function I(Q){var T=Q.find(N("popover")),P,S,R=E.roles;for(P=0,S=T.length;P<S;P++){C.initWidget(T[P],{},R)}}function K(P){if(!C.triggeredByInput(P)){P.preventDefault()}}var L=l.extend({init:function(Q,P){l.fn.init.call(this,Q,P);this.params={};B.extend(this,P);this.transition=this.transition||this.defaultTransition;this._id();if(!this.options.$angular){this._layout();this._overlay();this._scroller();this._model()}else{this._overlay()}},events:[q,b,e,w,m,o,u,k,p],options:{name:"View",title:"",layout:null,getLayout:B.noop,reload:false,transition:"",defaultTransition:"",useNativeScrolling:false,stretch:false,zoom:false,model:null,modelScope:window,scroller:{},initWidgets:true},enable:function(P){if(typeof P=="undefined"){P=true}if(P){this.overlay.hide()}else{this.overlay.show()}},destroy:function(){if(this.layout){this.layout.detach(this)}this.trigger(u);l.fn.destroy.call(this);if(this.scroller){this.scroller.destroy()}if(this.options.$angular){this.element.scope().$destroy()}C.destroy(this.element)},purge:function(){this.destroy();this.element.remove()},triggerBeforeShow:function(){if(this.trigger(b,{view:this})){return false}return true},triggerBeforeHide:function(){if(this.trigger(m,{view:this})){return false}return true},showStart:function(){var P=this.element;P.css("display","");if(!this.inited){this.inited=true;this.trigger(q,{view:this})}else{this._invokeNgController()}if(this.layout){this.layout.attach(this)}this._padIfNativeScrolling();this.trigger(e,{view:this});C.resize(P)},showEnd:function(){this.trigger(w,{view:this});this._padIfNativeScrolling()},hideEnd:function(){var P=this;P.element.hide();P.trigger(o,{view:P});if(P.layout){P.layout.trigger(o,{view:P,layout:P.layout})}},beforeTransition:function(P){this.trigger(k,{type:P})},afterTransition:function(P){this.trigger(p,{type:P})},_padIfNativeScrolling:function(){if(D.appLevelNativeScrolling()){var S=C.support.mobileOS&&C.support.mobileOS.android,T=D.application.skin()||"",P=D.application.os.android||(T.indexOf("android")>-1),U=T==="flat"||(T.indexOf("material")>-1),R=(S||P)&&(!U)?"footer":"header",Q=(S||P)&&(!U)?"header":"footer";this.content.css({paddingTop:this[R].height(),paddingBottom:this[Q].height()})}},contentElement:function(){var P=this;return P.options.stretch?P.content:P.scrollerContent},clone:function(P){return new F(this)},_scroller:function(){var P=this;if(D.appLevelNativeScrolling()){return}if(P.options.stretch){P.content.addClass("km-stretched-view")}else{P.content.kendoMobileScroller(B.extend(P.options.scroller,{zoom:P.options.zoom,useNative:P.options.useNativeScrolling}));P.scroller=P.content.data("kendoMobileScroller");P.scrollerContent=P.scroller.scrollElement}if(C.support.kineticScrollNeeded){B(P.element).on("touchmove",".km-header",K);if(!P.options.useNativeScrolling){B(P.element).on("touchmove",".km-content",K)}}},_model:function(){var R=this,Q=R.element,P=R.options.model;if(typeof P==="string"){P=C.getter(P)(R.options.modelScope)}R.model=P;I(Q);R.element.css("display","");if(R.options.initWidgets){if(P){C.bind(Q,P,E,C.ui,C.dataviz.ui)}else{D.init(Q.children())}}R.element.css("display","none")},_id:function(){var P=this.element,Q=P.attr("id")||"";this.id=f(P,"url")||"#"+Q;if(this.id=="#"){this.id=C.guid();P.attr("id",this.id)}},_layout:function(){var P=N("content"),Q=this.element;Q.addClass("km-view");this.header=Q.children(N("header")).addClass("km-header");this.footer=Q.children(N("footer")).addClass("km-footer");if(!Q.children(P)[0]){Q.wrapInner("<div "+t("role")+'="content"></div>')}this.content=Q.children(N("content")).addClass("km-content");this.element.prepend(this.header).append(this.footer);this.layout=this.options.getLayout(this.layout);if(this.layout){this.layout.setup(this)}},_overlay:function(){this.overlay=B(A).appendTo(this.element)},_invokeNgController:function(){var P,Q;if(this.options.$angular){P=this.element.controller();Q=this.element.scope();if(P){var R=B.proxy(this,"_callController",P,Q);if(/^\$(digest|apply)$/.test(Q.$$phase)){R()}else{Q.$apply(R)}}}},_callController:function(P,Q){this.element.injector().invoke(P.constructor,P,{$scope:Q})}});function h(P){P.each(function(){C.initWidget(B(this),{},E.roles)})}var i=l.extend({init:function(Q,P){l.fn.init.call(this,Q,P);Q=this.element;this.header=Q.children(this._locate("header")).addClass("km-header");this.footer=Q.children(this._locate("footer")).addClass("km-footer");this.elements=this.header.add(this.footer);I(Q);if(!this.options.$angular){C.mobile.init(this.element.children())}this.element.detach();this.trigger(q,{layout:this})},_locate:function(P){return this.options.$angular?d(P):N(P)},options:{name:"Layout",id:null,platform:null},events:[q,e,o],setup:function(P){if(!P.header[0]){P.header=this.header}if(!P.footer[0]){P.footer=this.footer}},detach:function(P){var Q=this;if(P.header===Q.header&&Q.header[0]){P.element.prepend(Q.header.detach()[0].cloneNode(true))}if(P.footer===Q.footer&&Q.footer.length){P.element.append(Q.footer.detach()[0].cloneNode(true))}},attach:function(P){var Q=this,R=Q.currentView;if(R){Q.detach(R)}if(P.header===Q.header){Q.header.detach();P.element.children(N("header")).remove();P.element.prepend(Q.header)}if(P.footer===Q.footer){Q.footer.detach();P.element.children(N("footer")).remove();P.element.append(Q.footer)}Q.trigger(e,{layout:Q,view:P});Q.currentView=P}});var j=C.Observable,v=/<body[^>]*>(([\u000a\u000d\u2028\u2029]|.)*)<\/body>/i,s="loadStart",n="loadComplete",M="showStart",J="sameViewRequested",y="viewShow",H="viewTypeDetermined",G="after";var x=j.extend({init:function(S){var T=this,Q,R,P,U;j.fn.init.call(T);B.extend(T,S);T.sandbox=B("<div />");P=T.container;Q=T._hideViews(P);T.rootView=Q.first();if(!T.rootView[0]&&S.rootNeeded){if(P[0]==C.mobile.application.element[0]){R='Your kendo mobile application element does not contain any direct child elements with data-role="view" attribute set. Make sure that you instantiate the mobile application using the correct container.'}else{R='Your pane element does not contain any direct child elements with data-role="view" attribute set.'}throw new Error(R)}T.layouts={};T.viewContainer=new C.ViewContainer(T.container);T.viewContainer.bind("accepted",function(V){V.view.params=T.params});T.viewContainer.bind("complete",function(V){T.trigger(y,{view:V.view})});T.viewContainer.bind(G,function(V){T.trigger(G)});this.getLayoutProxy=B.proxy(this,"_getLayout");T._setupLayouts(P);U=P.children(T._locate("modalview drawer"));if(T.$angular){T.$angular[0].viewOptions={defaultTransition:T.transition,loader:T.loader,container:T.container,getLayout:T.getLayoutProxy};U.each(function(V,W){g(B(W),S.$angular[0])})}else{h(U)}this.bind(this.events,S)},events:[M,G,y,s,n,J,H],destroy:function(){C.destroy(this.container);for(var P in this.layouts){this.layouts[P].destroy()}},view:function(){return this.viewContainer.view},showView:function(R,V,U){R=R.replace(new RegExp("^"+this.remoteViewURLPrefix),"");if(R===""&&this.remoteViewURLPrefix){R="/"}if(R.replace(/^#/,"")===this.url){this.trigger(J);return false}this.trigger(M);var T=this,Q=function(W){return T.viewContainer.show(W,V,R)},S=T._findViewElement(R),P=C.widgetInstance(S);T.url=R.replace(/^#/,"");T.params=U;if(P&&P.reload){P.purge();S=[]}this.trigger(H,{remote:S.length===0,url:R});if(S[0]){if(!P){P=T._createView(S)}return Q(P)}else{if(this.serverNavigation){location.href=R}else{T._loadView(R,Q)}return true}},append:function(V,U){var S=this.sandbox,T=(U||"").split("?")[0],R=this.container,Q,W,P;if(v.test(V)){V=RegExp.$1}S[0].innerHTML=V;R.append(S.children("script, style"));Q=this._hideViews(S);P=Q.first();if(!P.length){Q=P=S.wrapInner("<div data-role=view />").children()}if(T){P.hide().attr(t("url"),T)}this._setupLayouts(S);W=S.children(this._locate("modalview drawer"));R.append(S.children(this._locate("layout modalview drawer")).add(Q));h(W);return this._createView(P)},_locate:function(P){return this.$angular?d(P):N(P)},_findViewElement:function(Q){var R,P=Q.split("?")[0];if(!P){return this.rootView}R=this.container.children("["+t("url")+"='"+P+"']");if(!R[0]&&P.indexOf("/")===-1){R=this.container.children(P.charAt(0)==="#"?P:"#"+P)}return R},_createView:function(P){if(this.$angular){return g(P,this.$angular[0])}else{return C.initWidget(P,{defaultTransition:this.transition,loader:this.loader,container:this.container,getLayout:this.getLayoutProxy,modelScope:this.modelScope,reload:f(P,"reload")},E.roles)}},_getLayout:function(P){if(P===""){return null}return P?this.layouts[P]:this.layouts[this.layout]},_loadView:function(P,Q){if(this._xhr){this._xhr.abort()}this.trigger(s);this._xhr=B.get(C.absoluteURL(P,this.remoteViewURLPrefix),"html").always(B.proxy(this,"_xhrComplete",Q,P))},_xhrComplete:function(U,R,Q,P,S){var T=true;if(typeof Q==="object"){if(Q.status===0){if(Q.responseText&&Q.responseText.length>0){T=true;Q=Q.responseText}else{return}}}this.trigger(n);if(T){U(this.append(Q,R))}},_hideViews:function(P){return P.children(this._locate("view splitview")).hide()},_setupLayouts:function(P){var R=this,Q;P.children(R._locate("layout")).each(function(){if(R.$angular){Q=g(B(this),R.$angular[0])}else{Q=C.initWidget(B(this),{},E.roles)}var S=Q.options.platform;if(!S||S===D.application.os.name){R.layouts[Q.options.id]=Q}else{Q.destroy()}})}});C.mobile.ViewEngine=x;E.plugin(L);E.plugin(i)})(window.kendo.jQuery);(function(d,g){var f=window.kendo,c=f.mobile.ui,b=c.Widget,e=d.map(f.eventMap,function(i){return i}).join(" ").split(" ");var h=b.extend({init:function(i,j){var l=this,k=d('<div class="km-loader"><span class="km-loading km-spin"></span><span class="km-loading-left"></span><span class="km-loading-right"></span></div>');b.fn.init.call(l,k,j);l.container=i;l.captureEvents=false;l._attachCapture();k.append(l.options.loading).hide().appendTo(i)},options:{name:"Loader",loading:"<h1>Loading...</h1>",timeout:100},show:function(){var i=this;clearTimeout(i._loading);if(i.options.loading===false){return}i.captureEvents=true;i._loading=setTimeout(function(){i.element.show()},i.options.timeout)},hide:function(){this.captureEvents=false;clearTimeout(this._loading);this.element.hide()},changeMessage:function(i){this.options.loading=i;this.element.find(">h1").html(i)},transition:function(){this.captureEvents=true;this.container.css("pointer-events","none")},transitionDone:function(){this.captureEvents=false;this.container.css("pointer-events","")},_attachCapture:function(){var l=this;l.captureEvents=false;function j(i){if(l.captureEvents){i.preventDefault()}}for(var k=0;k<e.length;k++){l.container[0].addEventListener(e[k],j,true)}}});c.plugin(h)})(window.kendo.jQuery);(function(f,h){var p=window.kendo,e=p.mobile,j=p.roleSelector,o=e.ui,d=o.Widget,i=e.ViewEngine,r=o.View,k=e.ui.Loader,v="external",b="href",q="#!",u="navigate",s="viewShow",m="sameViewRequested",c=p.support.mobileOS,l=c.ios&&!c.appMode&&c.flatVersion>=700,g=/popover|actionsheet|modalview|drawer/,w="#:back",n=p.attrValue;var t=d.extend({init:function(y,x){var z=this;d.fn.init.call(z,y,x);x=z.options;y=z.element;y.addClass("km-pane");if(z.options.collapsible){y.addClass("km-collapsible-pane")}this.history=[];this.historyCallback=function(B,D,A){var C=z.transition;z.transition=null;if(l&&A){C="none"}return z.viewEngine.showView(B,C,D)};this._historyNavigate=function(A){if(A===w){if(z.history.length===1){return}z.history.pop();A=z.history[z.history.length-1]}else{z.history.push(A)}z.historyCallback(A,p.parseQueryStringParams(A))};this._historyReplace=function(A){var B=p.parseQueryStringParams(A);z.history[z.history.length-1]=A;z.historyCallback(A,B)};z.loader=new k(y,{loading:z.options.loading});z.viewEngine=new i({container:y,transition:x.transition,modelScope:x.modelScope,rootNeeded:!x.initial,serverNavigation:x.serverNavigation,remoteViewURLPrefix:x.root||"",layout:x.layout,$angular:x.$angular,loader:z.loader,showStart:function(){z.loader.transition();z.closeActiveDialogs()},after:function(A){z.loader.transitionDone()},viewShow:function(A){z.trigger(s,A)},loadStart:function(){z.loader.show()},loadComplete:function(){z.loader.hide()},sameViewRequested:function(){z.trigger(m)},viewTypeDetermined:function(A){if(!A.remote||!z.options.serverNavigation){z.trigger(u,{url:A.url})}}});this._setPortraitWidth();p.onResize(function(){z._setPortraitWidth()});z._setupAppLinks()},closeActiveDialogs:function(){var x=this.element.find(j("actionsheet popover modalview")).filter(":visible");x.each(function(){p.widgetInstance(f(this),o).close()})},navigateToInitial:function(){var x=this.options.initial;if(x){this.navigate(x)}},options:{name:"Pane",portraitWidth:"",transition:"",layout:"",collapsible:false,initial:null,modelScope:window,loading:"<h1>Loading...</h1>"},events:[u,s,m],append:function(x){return this.viewEngine.append(x)},destroy:function(){d.fn.destroy.call(this);this.viewEngine.destroy();this.userEvents.destroy()},navigate:function(x,y){if(x instanceof r){x=x.id}this.transition=y;this._historyNavigate(x)},replace:function(x,y){if(x instanceof r){x=x.id}this.transition=y;this._historyReplace(x)},bindToRouter:function(x){var z=this,A=this.history,y=this.viewEngine;x.bind("init",function(E){var B=E.url,D=x.pushState?B:"/";y.rootView.attr(p.attr("url"),D);var C=A.length;if(B==="/"&&C){x.navigate(A[C-1],true);E.preventDefault()}});x.bind("routeMissing",function(B){if(!z.historyCallback(B.url,B.params,B.backButtonPressed)){B.preventDefault()}});x.bind("same",function(){z.trigger(m)});z._historyNavigate=function(B){x.navigate(B)};z._historyReplace=function(B){x.replace(B)}},hideLoading:function(){this.loader.hide()},showLoading:function(){this.loader.show()},changeLoadingMessage:function(x){this.loader.changeMessage(x)},view:function(){return this.viewEngine.view()},_setPortraitWidth:function(){var y,x=this.options.portraitWidth;if(x){y=p.mobile.application.element.is(".km-vertical")?x:"auto";this.element.css("width",y)}},_setupAppLinks:function(){var B=this,A="tab",z="[data-"+p.ns+"navigate-on-press]",y=j("button")+":not("+z+")",x=j("backbutton detailbutton listview-link")+","+y;this.element.handler(this).on("down",j(A)+","+z,"_mouseup").on("click",j(A)+" "+x,"_appLinkClick");this.userEvents=new p.UserEvents(this.element,{filter:x,tap:function(C){C.event.currentTarget=C.touch.currentTarget;B._mouseup(C.event)}});this.element.css("-ms-touch-action","")},_appLinkClick:function(z){var x=f(z.currentTarget).attr("href");var y=x&&x[0]!=="#"&&this.options.serverNavigation;if(!y&&n(f(z.currentTarget),"rel")!=v){z.preventDefault()}},_mouseup:function(A){if(A.which>1||A.isDefaultPrevented()){return}var z=this,D=f(A.currentTarget),C=n(D,"transition"),E=n(D,"rel")||"",B=n(D,"target"),x=D.attr(b),F=l&&D[0].offsetHeight===0,y=x&&x[0]!=="#"&&this.options.serverNavigation;if(F||y||E===v||(typeof x==="undefined")||x===q){return}D.attr(b,q);setTimeout(function(){D.attr(b,x)});if(E.match(g)){p.widgetInstance(f(x),o).openFor(D);if(E==="actionsheet"||E==="drawer"){A.stopPropagation()}}else{if(B==="_top"){z=e.application.pane}else{if(B){z=f("#"+B).data("kendoMobilePane")}}z.navigate(x,C)}A.preventDefault()}});t.wrap=function(x){if(!x.is(j("view"))){x=x.wrap("<div data-"+p.ns+'role="view" data-stretch="true"></div>').parent()}var y=x.wrap('<div class="km-pane-wrapper"><div></div></div>').parent(),z=new t(y);z.navigate("");return z};o.plugin(t)})(window.kendo.jQuery);(function(g,h){var o=window.kendo,e=o.mobile,n=e.ui,f="show",s="hide",t="open",d="close",j='<div class="km-popup-wrapper" />',r='<div class="km-popup-arrow" />',k='<div class="km-popup-overlay" />',q="km-up km-down km-left km-right",c=n.Widget,p={down:{origin:"bottom center",position:"top center"},up:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"}},m={animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:400}}},l={horizontal:{offset:"top",size:"height"},vertical:{offset:"left",size:"width"}},u={up:"down",down:"up",left:"right",right:"left"};var i=c.extend({init:function(z,y){var B=this,x=z.closest(".km-modalview-wrapper"),v=z.closest(".km-root").children(".km-pane").first(),w=x[0]?x:v,C,A;if(y.viewport){v=y.viewport}else{if(!v[0]){v=window}}if(y.container){w=y.container}else{if(!w[0]){w=document.body}}C={viewport:v,copyAnchorStyles:false,autosize:true,open:function(){B.overlay.show()},activate:g.proxy(B._activate,B),deactivate:function(){B.overlay.hide();if(!B._apiCall){B.trigger(s)}B._apiCall=false}};c.fn.init.call(B,z,y);z=B.element;y=B.options;z.wrap(j).addClass("km-popup").show();A=B.options.direction.match(/left|right/)?"horizontal":"vertical";B.dimensions=l[A];B.wrapper=z.parent().css({width:y.width,height:y.height}).addClass("km-popup-wrapper km-"+y.direction).hide();B.arrow=g(r).prependTo(B.wrapper).hide();B.overlay=g(k).appendTo(w).hide();C.appendTo=B.overlay;if(y.className){B.overlay.addClass(y.className)}B.popup=new o.ui.Popup(B.wrapper,g.extend(true,C,m,p[y.direction]))},options:{name:"Popup",width:240,height:"",direction:"down",container:null,viewport:null},events:[s],show:function(v){this.popup.options.anchor=g(v);this.popup.open()},hide:function(){this._apiCall=true;this.popup.close()},destroy:function(){c.fn.destroy.call(this);this.popup.destroy();this.overlay.remove()},target:function(){return this.popup.options.anchor},_activate:function(){var C=this,F=C.options.direction,v=C.dimensions,A=v.offset,x=C.popup,B=x.options.anchor,y=g(B).offset(),w=g(x.element).offset(),H=x.flipped?u[F]:F,z=C.arrow[v.size]()*2,E=C.element[v.size]()-C.arrow[v.size](),G=g(B)[v.size](),D=y[A]-w[A]+(G/2);if(D<z){D=z}if(D>E){D=E}C.wrapper.removeClass(q).addClass("km-"+H);C.arrow.css(A,D).show()}});var b=c.extend({init:function(w,v){var x=this,z,y;x.initialOpen=false;c.fn.init.call(x,w,v);z=g.extend({className:"km-popover-root",hide:function(){x.trigger(d)}},this.options.popup);x.popup=new i(x.element,z);x.popup.overlay.on("move",function(A){if(A.target==x.popup.overlay[0]){A.preventDefault()}});x.pane=new n.Pane(x.element,g.extend(this.options.pane,{$angular:this.options.$angular}));x.pane.navigateToInitial();o.notify(x,n)},options:{name:"PopOver",popup:{},pane:{}},events:[t,d],open:function(v){this.popup.show(v);if(!this.initialOpen){this.pane.navigate("");this.popup.popup._position();this.initialOpen=true}else{this.pane.view()._invokeNgController()}},openFor:function(v){this.open(v);this.trigger(t,{target:this.popup.target()})},close:function(){this.popup.hide()},destroy:function(){c.fn.destroy.call(this);this.pane.destroy();this.popup.destroy();o.destroy(this.element)}});n.plugin(i);n.plugin(b)})(window.kendo.jQuery);(function(e,b){var f=window.kendo,i=f.mobile.ui,k=f.ui.Popup,c='<div class="km-shim"/>',j="show",d="hide",h=i.Widget;var g=h.extend({init:function(p,w){var r=this,m=f.mobile.application,o=f.support.mobileOS,l=m?m.os.name:(o?o.name:"ios"),u=l==="ios"||l==="wp"||(m?m.os.skin:false),t=l==="blackberry",s=w.align||(u?"bottom center":t?"center right":"center center"),q=w.position||(u?"bottom center":t?"center right":"center center"),v=w.effect||(u?"slideIn:up":t?"slideIn:left":"fade:in"),n=e(c).handler(r).hide();h.fn.init.call(r,p,w);r.shim=n;p=r.element;w=r.options;if(w.className){r.shim.addClass(w.className)}if(!w.modal){r.shim.on("up","_hide")}(m?m.element:e(document.body)).append(n);r.popup=new k(r.element,{anchor:n,modal:true,appendTo:n,origin:s,position:q,animation:{open:{effects:v,duration:w.duration},close:{duration:w.duration}},close:function(y){var x=false;if(!r._apiCall){x=r.trigger(d)}if(x){y.preventDefault()}r._apiCall=false},deactivate:function(){n.hide()},open:function(){n.show()}});f.notify(r)},events:[d],options:{name:"Shim",modal:false,align:b,position:b,effect:b,duration:200},show:function(){this.popup.open()},hide:function(){this._apiCall=true;this.popup.close()},destroy:function(){h.fn.destroy.call(this);this.shim.kendoDestroy();this.popup.destroy();this.shim.remove()},_hide:function(l){if(!l||!e.contains(this.shim.children().children(".k-popup")[0],l.target)){this.popup.close()}}});i.plugin(g)})(window.kendo.jQuery);(function(h,e){var k=window.kendo,q=k.support,n=k.mobile.ui,l=n.Shim,p=n.Popup,o=n.Widget,g="open",j="close",m="command",c="li>a",d="actionsheetContext",b='<div class="km-actionsheet-wrapper" />',i=k.template('<li class="km-actionsheet-cancel"><a href="\\#">#:cancel#</a></li>');var f=o.extend({init:function(t,s){var v=this,x,r,u,w=q.mobileOS;o.fn.init.call(v,t,s);s=v.options;u=s.type;t=v.element;if(u==="auto"){r=w&&w.tablet}else{r=u==="tablet"}x=r?p:l;if(s.cancelTemplate){i=k.template(s.cancelTemplate)}t.addClass("km-actionsheet").append(i({cancel:v.options.cancel})).wrap(b).on("up",c,"_click").on("click",c,k.preventDefault);v.view().bind("destroy",function(){v.destroy()});v.wrapper=t.parent().addClass(u?" km-actionsheet-"+u:"");v.shim=new x(v.wrapper,h.extend({modal:w.ios&&w.majorVersion<7,className:"km-actionsheet-root"},v.options.popup));v._closeProxy=h.proxy(v,"_close");v.shim.bind("hide",v._closeProxy);if(r){k.onResize(v._closeProxy)}k.notify(v,n)},events:[g,j,m],options:{name:"ActionSheet",cancel:"Cancel",type:"auto",popup:{height:"auto"}},open:function(t,r){var s=this;s.target=h(t);s.context=r;s.shim.show(t)},close:function(){this.context=this.target=null;this.shim.hide()},openFor:function(t){var s=this,r=t.data(d);s.open(t,r);s.trigger(g,{target:t,context:r})},destroy:function(){o.fn.destroy.call(this);k.unbindResize(this._closeProxy);this.shim.destroy()},_click:function(v){if(v.isDefaultPrevented()){return}var u=h(v.currentTarget);var t=u.data("action");if(t){var s={target:this.target,context:this.context},r=this.options.$angular;if(r){this.element.injector().get("$parse")(t)(r[0])(s)}else{k.getter(t)(window)(s)}}this.trigger(m,{target:this.target,context:this.context,currentTarget:u});v.preventDefault();this._close()},_close:function(r){if(!this.trigger(j)){this.close()}else{r.preventDefault()}}});n.plugin(f)})(window.kendo.jQuery);(function(j,m){var w=window.kendo,v=w.ui,e=v.Widget,G="horizontal",z="vertical",l=0,o=100,D=0,i=5,c="k-progressbar",d="k-progressbar-reverse",F="k-progressbar-indeterminate",q="k-complete",p="k-state-selected",n="k-progress-status",E="k-state-selected",h="k-state-default",y="k-state-disabled",u={VALUE:"value",PERCENT:"percent",CHUNK:"chunk"},s="change",x="complete",r="boolean",g=Math,B=j.extend,A=j.proxy,b=100,C=400,t=3,f={progressStatus:"<span class='k-progress-status-wrap'><span class='k-progress-status'></span></span>"};var k=e.extend({init:function(I,H){var J=this;e.fn.init.call(this,I,H);H=J.options;J._progressProperty=(H.orientation===G)?"width":"height";J._fields();H.value=J._validateValue(H.value);J._validateType(H.type);J._wrapper();J._progressAnimation();if((H.value!==H.min)&&(H.value!==false)){J._updateProgress()}},setOptions:function(H){var I=this;e.fn.setOptions.call(I,H);if(H.hasOwnProperty("reverse")){I.wrapper.toggleClass("k-progressbar-reverse",H.reverse)}if(H.hasOwnProperty("enable")){I.enable(H.enable)}I._progressAnimation();I._validateValue();I._updateProgress()},events:[s,x],options:{name:"ProgressBar",orientation:G,reverse:false,min:l,max:o,value:D,enable:true,type:u.VALUE,chunkCount:i,showStatus:true,animation:{}},_fields:function(){var H=this;H._isStarted=false;H.progressWrapper=H.progressStatus=j()},_validateType:function(H){var I=false;j.each(u,function(J,K){if(K===H){I=true;return false}});if(!I){throw new Error(w.format("Invalid ProgressBar type '{0}'",H))}},_wrapper:function(){var K=this;var H=K.wrapper=K.element;var J=K.options;var I=J.orientation;var L;H.addClass("k-widget "+c);H.addClass(c+"-"+((I===G)?G:z));if(J.enable===false){H.addClass(y)}if(J.reverse){H.addClass(d)}if(J.value===false){H.addClass(F)}if(J.type===u.CHUNK){K._addChunkProgressWrapper()}else{if(J.showStatus){K.progressStatus=K.wrapper.prepend(f.progressStatus).find("."+n);L=(J.value!==false)?J.value:J.min;if(J.type===u.VALUE){K.progressStatus.text(L)}else{K.progressStatus.text(K._calculatePercentage(L)+"%")}}}},value:function(H){return this._value(H)},_value:function(J){var I=this;var H=I.options;var K;if(J===m){return H.value}else{if(typeof J!==r){J=I._roundValue(J);if(!isNaN(J)){K=I._validateValue(J);if(K!==H.value){I.wrapper.removeClass(F);H.value=K;I._isStarted=true;I._updateProgress()}}}else{if(!J){I.wrapper.addClass(F);H.value=false}}}},_roundValue:function(I){I=parseFloat(I);var H=g.pow(10,t);return g.floor(I*H)/H},_validateValue:function(J){var I=this;var H=I.options;if(J!==false){if(J<=H.min||J===true){return H.min}else{if(J>=H.max){return H.max}}}else{if(J===false){return false}}if(isNaN(I._roundValue(J))){return H.min}return J},_updateProgress:function(){var J=this;var I=J.options;var H=J._calculatePercentage();if(I.type===u.CHUNK){J._updateChunks(H);J._onProgressUpdateAlways(I.value)}else{J._updateProgressWrapper(H)}},_updateChunks:function(H){var K=this;var I=K.options;var N=I.chunkCount;var M=parseInt((b/N)*100,10)/100;var O=parseInt(H*100,10)/100;var L=g.floor(O/M);var J;if((I.orientation===G&&!(I.reverse))||(I.orientation===z&&I.reverse)){J=K.wrapper.find("li.k-item:lt("+L+")")}else{J=K.wrapper.find("li.k-item:gt(-"+(L+1)+")")}K.wrapper.find("."+E).removeClass(E).addClass(h);J.removeClass(h).addClass(E)},_updateProgressWrapper:function(H){var J=this;var I=J.options;var M=J.wrapper.find("."+p);var L=J._isStarted?J._animation.duration:0;var K={};if(M.length===0){J._addRegularProgressWrapper()}K[J._progressProperty]=H+"%";J.progressWrapper.animate(K,{duration:L,start:A(J._onProgressAnimateStart,J),progress:A(J._onProgressAnimate,J),complete:A(J._onProgressAnimateComplete,J,I.value),always:A(J._onProgressUpdateAlways,J,I.value)})},_onProgressAnimateStart:function(){this.progressWrapper.show()},_onProgressAnimate:function(L){var K=this;var J=K.options;var I=parseFloat(L.elem.style[K._progressProperty],10);var H;if(J.showStatus){H=10000/parseFloat(K.progressWrapper[0].style[K._progressProperty]);K.progressWrapper.find(".k-progress-status-wrap").css(K._progressProperty,H+"%")}if(J.type!==u.CHUNK&&I<=98){K.progressWrapper.removeClass(q)}},_onProgressAnimateComplete:function(I){var J=this;var H=J.options;var K=parseFloat(J.progressWrapper[0].style[J._progressProperty]);if(H.type!==u.CHUNK&&K>98){J.progressWrapper.addClass(q)}if(H.showStatus){if(H.type===u.VALUE){J.progressStatus.text(I)}else{J.progressStatus.text(g.floor(J._calculatePercentage(I))+"%")}}if(I===H.min){J.progressWrapper.hide()}},_onProgressUpdateAlways:function(I){var J=this;var H=J.options;if(J._isStarted){J.trigger(s,{value:I})}if(I===H.max&&J._isStarted){J.trigger(x,{value:H.max})}},enable:function(I){var J=this;var H=J.options;H.enable=typeof(I)==="undefined"?true:I;J.wrapper.toggleClass(y,!H.enable)},destroy:function(){var H=this;e.fn.destroy.call(H)},_addChunkProgressWrapper:function(){var L=this;var I=L.options;var H=L.wrapper;var M=b/I.chunkCount;var K="";if(I.chunkCount<=1){I.chunkCount=i}K+="<ul class='k-reset'>";for(var J=I.chunkCount-1;J>=0;J--){K+="<li class='k-item k-state-default'></li>"}K+="</ul>";H.append(K).find(".k-item").css(L._progressProperty,M+"%").first().addClass("k-first").end().last().addClass("k-last");L._normalizeChunkSize()},_normalizeChunkSize:function(){var J=this;var I=J.options;var L=J.wrapper.find(".k-item:last");var H=parseFloat(L[0].style[J._progressProperty]);var K=b-(I.chunkCount*H);if(K>0){L.css(J._progressProperty,(H+K)+"%")}},_addRegularProgressWrapper:function(){var H=this;H.progressWrapper=j("<div class='"+p+"'></div>").appendTo(H.wrapper);if(H.options.showStatus){H.progressWrapper.append(f.progressStatus);H.progressStatus=H.wrapper.find("."+n)}},_calculateChunkSize:function(){var I=this;var J=I.options.chunkCount;var H=I.wrapper.find("ul.k-reset");return(parseInt(H.css(I._progressProperty),10)-(J-1))/J},_calculatePercentage:function(K){var L=this;var I=L.options;var M=(K!==m)?K:I.value;var J=I.min;var H=I.max;L._onePercent=g.abs((H-J)/100);return g.abs((M-J)/L._onePercent)},_progressAnimation:function(){var I=this;var H=I.options;var J=H.animation;if(J===false){I._animation={duration:0}}else{I._animation=B({duration:C},H.animation)}}});w.ui.plugin(k)})(window.kendo.jQuery);(function(X,F,w){var T=X.kendo;var i=!!X.Uint8Array;var V="\n";var ac=0;var o=(function(){var ap="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{decode:function(au){var av=au.replace(/[^A-Za-z0-9\+\/\=]/g,""),at=0,aq=av.length,ar=[];while(at<aq){var aC=ap.indexOf(av.charAt(at++));var aA=ap.indexOf(av.charAt(at++));var ay=ap.indexOf(av.charAt(at++));var aw=ap.indexOf(av.charAt(at++));var aB=(aC<<2)|(aA>>>4);var az=((aA&15)<<4)|(ay>>>2);var ax=((ay&3)<<6)|aw;ar.push(aB);if(ay!=64){ar.push(az)}if(aw!=64){ar.push(ax)}}return ar},encode:function(aB){var at=0,aq=aB.length;var ar="";while(at<aq){var aA=aB[at++];var ay=aB[at++];var aw=aB[at++];var az=aA>>>2;var ax=((aA&3)<<4)|(ay>>>4);var av=((ay&15)<<2)|(aw>>>6);var au=aw&63;if(at-aq==2){av=au=64}else{if(at-aq==1){au=64}}ar+=ap.charAt(az)+ap.charAt(ax)+ap.charAt(av)+ap.charAt(au)}return ar}}}());var P={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],executive:[521.86,756],folio:[612,936],legal:[612,1008],letter:[612,792],tabloid:[792,1224]};function S(){var ar=0,ap=r();function aq(){for(var av=0;av<arguments.length;++av){var at=arguments[av];if(at===w){throw new Error("Cannot output undefined to PDF")}else{if(at instanceof g){at.beforeRender(aq);at.render(aq)}else{if(M(at)){K(at,aq)}else{if(L(at)){t(at,aq)}else{if(typeof at=="number"){if(isNaN(at)){throw new Error("Cannot output NaN to PDF")}var au=at.toFixed(7);if(au.indexOf(".")>=0){au=au.replace(/\.?0+$/,"")}if(au=="-0"){au="0"}ap.writeString(au)}else{if(/string|boolean/.test(typeof at)){ap.writeString(at+"")}else{if(typeof at.get=="function"){ap.write(at.get())}else{if(typeof at=="object"){if(!at){ap.writeString("null")}else{aq(new J(at))}}}}}}}}}}}aq.writeData=function(at){ap.write(at)};aq.withIndent=function(at){++ar;at(aq);--ar};aq.indent=function(){aq(V,A("",ar*2,"  "));aq.apply(null,arguments)};aq.offset=function(){return ap.offset()};aq.toString=function(){throw new Error("FIX CALLER")};aq.get=function(){return ap.get()};aq.stream=function(){return ap};return aq}function H(aq,at){var ap=aq.beforeRender;var ar=aq.render;aq.beforeRender=function(){};aq.render=function(au){au(at," 0 R")};aq.renderFull=function(au){aq._offset=au.offset();au(at," 0 obj ");ap.call(aq,au);ar.call(aq,au);au(" endobj")}}function c(ap){var ar=ap("paperSize",P.a4);if(!ar){return{}}if(typeof ar=="string"){ar=P[ar.toLowerCase()];if(ar==null){throw new Error("Unknown paper size")}}ar[0]=x(ar[0]);ar[1]=x(ar[1]);if(ap("landscape",false)){ar=[Math.max(ar[0],ar[1]),Math.min(ar[0],ar[1])]}var aq=ap("margin");if(aq){if(typeof aq=="string"||typeof aq=="number"){aq=x(aq,0);aq={left:aq,top:aq,right:aq,bottom:aq}}else{aq={left:x(aq.left,0),top:x(aq.top,0),right:x(aq.right,0),bottom:x(aq.bottom,0)}}if(ap("addMargin")){ar[0]+=aq.left+aq.right;ar[1]+=aq.top+aq.bottom}}return{paperSize:ar,margin:aq}}function N(au){var aq=this;var at=S();var av=0;var aw=[];function ar(az,ay){return(au&&au[az]!=null)?au[az]:ay}aq.getOption=ar;aq.attach=function(ay){if(aw.indexOf(ay)<0){H(ay,++av);aw.push(ay)}return ay};aq.pages=[];aq.FONTS={};aq.IMAGES={};aq.GRAD_COL_FUNCTIONS={};aq.GRAD_OPC_FUNCTIONS={};aq.GRAD_COL={};aq.GRAD_OPC={};var ap=aq.attach(new O());var ax=aq.attach(new n());ap.setPages(ax);aq.addPage=function(aG){var aE=c(function(aI,aH){return(aG&&aG[aI]!=null)?aG[aI]:aH});var az=aE.paperSize;var aA=aE.margin;var ay=az[0];var aF=az[1];if(aA){ay-=aA.left+aA.right;aF-=aA.top+aA.bottom}var aB=new al(S(),null,true);var aD={Contents:aq.attach(aB),Parent:ax,MediaBox:[0,0,az[0],az[1]]};var aC=new d(aq,aD);aC._content=aB;ax.addPage(aq.attach(aC));aC.transform(1,0,0,-1,0,az[1]);if(aA){aC.translate(aA.left,aA.top);aC.rect(0,0,ay,aF);aC.clip()}aq.pages.push(aC);return aC};aq.render=function(){var az;at("%PDF-1.4",V,"%\xc2\xc1\xda\xcf\xce",V,V);for(az=0;az<aw.length;++az){aw[az].renderFull(at);at(V,V)}var ay=at.offset();at("xref",V,0," ",aw.length+1,V);at("0000000000 65535 f ",V);for(az=0;az<aw.length;++az){at(l(aw[az]._offset,10)," 00000 n ",V)}at(V);at("trailer",V);at(new J({Size:aw.length+1,Root:ap,Info:new J({Producer:new y(ar("producer","Kendo UI PDF Generator")),Title:new y(ar("title","")),Author:new y(ar("author","")),Subject:new y(ar("subject","")),Keywords:new y(ar("keywords","")),Creator:new y(ar("creator","Kendo UI PDF Generator")),CreationDate:ar("date",new Date())})}),V,V);at("startxref",V,ay,V);at("%%EOF",V);return at.stream().offset(0)}}var ai={"Times-Roman":true,"Times-Bold":true,"Times-Italic":true,"Times-BoldItalic":true,Helvetica:true,"Helvetica-Bold":true,"Helvetica-Oblique":true,"Helvetica-BoldOblique":true,Courier:true,"Courier-Bold":true,"Courier-Oblique":true,"Courier-BoldOblique":true,Symbol:true,ZapfDingbats:true};function B(ar,ap){function aq(){if(X.console){if(X.console.error){X.console.error("Cannot load URL: %s",ar)}else{X.console.log("Cannot load URL: %s",ar)}}ap(null)}var at=new XMLHttpRequest();at.open("GET",ar,true);if(i){at.responseType="arraybuffer"}at.onload=function(){if(at.status==200||at.status==304){if(i){ap(new Uint8Array(at.response))}else{ap(new VBArray(at.responseBody).toArray())}}else{aq()}};at.onerror=aq;at.send(null)}function p(ar,ap){var aq=ai[ar];if(aq){ap(aq)}else{B(ar,function(au){if(au==null){throw new Error("Cannot load font from "+ar)}else{var at=new T.pdf.TTFFont(au);ai[ar]=at;ap(at)}})}}var U={};function I(ar,ay){var at=U[ar],ap,aq;if(at){ay(at)}else{at=new Image();if(!(/^data:/i.test(ar))){at.crossOrigin="Anonymous"}if(i&&!(/^data:/i.test(ar))){var ax=new XMLHttpRequest();ax.onload=function(){aq=ax.response;ap=URL.createObjectURL(aq);av(ap)};ax.onerror=au;ax.open("GET",ar,true);ax.responseType="blob";ax.send()}else{av(ar)}}function av(az){at.src=az;if(at.complete&&!T.support.browser.msie){aw()}else{at.onload=aw;at.onerror=au}}function au(){ay(U[ar]="TAINTED")}function aw(){if(aq&&/^image\/jpe?g$/i.test(aq.type)){var aE=new FileReader();aE.onload=function(){at=new ah(at.width,at.height,r(new Uint8Array(this.result)));URL.revokeObjectURL(ap);ay(U[ar]=at)};aE.readAsArrayBuffer(aq);return}var az=document.createElement("canvas");az.width=at.width;az.height=at.height;var aL=az.getContext("2d");aL.drawImage(at,0,0);var aJ;try{aJ=aL.getImageData(0,0,at.width,at.height)}catch(aF){return au()}finally{if(ap){URL.revokeObjectURL(ap)}}var aD=false,aG=r(),aA=r();var aH=aJ.data;var aC=0;while(aC<aH.length){aG.writeByte(aH[aC++]);aG.writeByte(aH[aC++]);aG.writeByte(aH[aC++]);var aI=aH[aC++];if(aI<255){aD=true}aA.writeByte(aI)}if(aD){at=new ab(at.width,at.height,aG,aA)}else{var aB=az.toDataURL("image/jpeg");aB=aB.substr(aB.indexOf(";base64,")+8);var aK=r();aK.writeBase64(aB);aK.offset(0);at=new ah(at.width,at.height,aK)}ay(U[ar]=at)}}function Y(ap){return function(ar,au){var at=ar.length,aq=at;if(at===0){return au()}while(aq-->0){ap(ar[aq],function(){if(--at===0){au()}})}}}var m=Y(p);var k=Y(I);N.prototype={loadFonts:m,loadImages:k,getFont:function(aq){var ap=this.FONTS[aq];if(!ap){ap=ai[aq];if(!ap){throw new Error("Font "+aq+" has not been loaded")}if(ap===true){ap=this.attach(new u(aq))}else{ap=this.attach(new af(this,ap))}this.FONTS[aq]=ap}return ap},getImage:function(aq){var ap=this.IMAGES[aq];if(!ap){ap=U[aq];if(!ap){throw new Error("Image "+aq+" has not been loaded")}if(ap==="TAINTED"){return null}ap=this.IMAGES[aq]=this.attach(ap.asStream(this))}return ap},getOpacityGS:function(ar,au){var av=F(ar).toFixed(3);ar=F(av);av+=au?"S":"F";var aq=this._opacityGSCache||(this._opacityGSCache={});var ap=aq[av];if(!ap){var at={Type:an("ExtGState")};if(au){at.CA=ar}else{at.ca=ar}ap=this.attach(new J(at));ap._resourceName=an("GS"+(++ac));aq[av]=ap}return ap},dict:function(ap){return new J(ap)},name:function(ap){return an(ap)},stream:function(ap,aq){return new al(aq,ap)}};function A(ar,ap,aq){while(ar.length<ap){ar=aq+ar}return ar}function l(aq,ap){return A(aq+"",ap,"0")}function s(aq,ap){return Object.prototype.hasOwnProperty.call(aq,ap)}var M=Array.isArray||function(ap){return ap instanceof Array};function L(ap){return ap instanceof Date}function K(ap,aq){aq("[");if(ap.length>0){aq.withIndent(function(){for(var ar=0;ar<ap.length;++ar){if(ar>0&&ar%8===0){aq.indent(ap[ar])}else{aq(" ",ap[ar])}}})}aq(" ]")}function t(aq,ap){ap("(D:",l(aq.getUTCFullYear(),4),l(aq.getUTCMonth()+1,2),l(aq.getUTCDate(),2),l(aq.getUTCHours(),2),l(aq.getUTCMinutes(),2),l(aq.getUTCSeconds(),2),"Z)")}function E(ap){return ap*(72/25.4)}function j(ap){return E(ap*10)}function ae(ap){return ap*72}function x(aq,at){if(typeof aq=="number"){return aq}if(typeof aq=="string"){var ap;ap=/^\s*([0-9.]+)\s*(mm|cm|in|pt)\s*$/.exec(aq);if(ap){var ar=F(ap[1]);if(!isNaN(ar)){if(ap[2]=="pt"){return ar}return{mm:E,cm:j,"in":ae}[ap[2]](ar)}}}if(at!=null){return at}throw new Error("Can't parse unit: "+aq)}function g(){}g.prototype.beforeRender=function(){};function ao(ap,at,ar){if(!ar){ar=g}ap.prototype=new ar();for(var aq in at){if(s(at,aq)){ap.prototype[aq]=at[aq]}}return ap}var y=ao(function y(ap){this.value=ap},{render:function(ar){var ap="",aq=this.escape();for(var at=0;at<aq.length;++at){ap+=String.fromCharCode(aq.charCodeAt(at)&255)}ar("(",ap,")")},escape:function(){return this.value.replace(/([\(\)\\])/g,"\\$1")},toString:function(){return this.value}});var am=ao(function am(ap){this.value=ap},{render:function(ap){ap("<");for(var aq=0;aq<this.value.length;++aq){ap(l(this.value.charCodeAt(aq).toString(16),4))}ap(">")}},y);var v=ao(function v(ap){this.name=ap},{render:function(ap){ap("/"+this.escape())},escape:function(){return this.name.replace(/[^\x21-\x7E]/g,function(ap){return"#"+l(ap.charCodeAt(0).toString(16),2)})},toString:function(){return this.name}});var ag={};v.get=an;function an(ap){if(s(ag,ap)){return ag[ap]}return(ag[ap]=new v(ap))}var J=ao(function J(ap){this.props=ap},{render:function(ap){var aq=this.props,ar=true;ap("<<");ap.withIndent(function(){for(var at in aq){if(s(aq,at)&&!/^_/.test(at)){ar=false;ap.indent(an(at)," ",aq[at])}}});if(!ar){ap.indent()}ap(">>")}});var al=ao(function al(at,ar,ap){if(typeof at=="string"){var aq=r();aq.write(at);at=aq}this.data=at;this.props=ar||{};this.compress=ap},{render:function(ap){var ar=this.data.get(),aq=this.props;if(this.compress&&X.pako&&typeof X.pako.deflate=="function"){if(!aq.Filter){aq.Filter=[]}else{if(!(aq.Filter instanceof Array)){aq.Filter=[aq.Filter]}}aq.Filter.unshift(an("FlateDecode"));ar=X.pako.deflate(ar)}aq.Length=ar.length;ap(new J(aq)," stream",V);ap.writeData(ar);ap(V,"endstream")}});var O=ao(function O(ap){ap=this.props=ap||{};ap.Type=an("Catalog")},{setPages:function(ap){this.props.Pages=ap}},J);var n=ao(function n(){this.props={Type:an("Pages"),Kids:[],Count:0}},{addPage:function(ap){this.props.Kids.push(ap);this.props.Count++}},J);function ah(aq,ap,ar){this.asStream=function(){var at=new al(ar,{Type:an("XObject"),Subtype:an("Image"),Width:aq,Height:ap,BitsPerComponent:8,ColorSpace:an("DeviceRGB"),Filter:an("DCTDecode")});at._resourceName=an("I"+(++ac));return at}}function ab(ar,ap,aq,at){this.asStream=function(av){var au=new al(at,{Type:an("XObject"),Subtype:an("Image"),Width:ar,Height:ap,BitsPerComponent:8,ColorSpace:an("DeviceGray")},true);var aw=new al(aq,{Type:an("XObject"),Subtype:an("Image"),Width:ar,Height:ap,BitsPerComponent:8,ColorSpace:an("DeviceRGB"),SMask:av.attach(au)},true);aw._resourceName=an("I"+(++ac));return aw}}var u=ao(function u(ap){this.props={Type:an("Font"),Subtype:an("Type1"),BaseFont:an(ap)};this._resourceName=an("F"+(++ac))},{encodeText:function(ap){return new y(ap+"")}},J);var af=ao(function af(ap,aq,at){at=this.props=at||{};at.Type=an("Font");at.Subtype=an("Type0");at.Encoding=an("Identity-H");this._pdf=ap;this._font=aq;this._sub=aq.makeSubset();this._resourceName=an("F"+(++ac));var ar=aq.head;this.name=aq.psName;var au=this.scale=aq.scale;this.bbox=[ar.xMin*au,ar.yMin*au,ar.xMax*au,ar.yMax*au];this.italicAngle=aq.post.italicAngle;this.ascent=aq.ascent*au;this.descent=aq.descent*au;this.lineGap=aq.lineGap*au;this.capHeight=aq.os2.capHeight||this.ascent;this.xHeight=aq.os2.xHeight||0;this.stemV=0;this.familyClass=(aq.os2.familyClass||0)>>8;this.isSerif=this.familyClass>=1&&this.familyClass<=7;this.isScript=this.familyClass==10;this.flags=((aq.post.isFixedPitch?1:0)|(this.isSerif?1<<1:0)|(this.isScript?1<<3:0)|(this.italicAngle!==0?1<<6:0)|(1<<5))},{encodeText:function(ap){return new am(this._sub.encodeText(ap+""))},getTextWidth:function(at,au){var aq=0,av=this._font.cmap.getUnicodeEntry().codeMap;for(var ap=0;ap<au.length;++ap){var ar=av[au.charCodeAt(ap)];aq+=this._font.widthOfGlyph(ar||0)}return aq*at/1000},beforeRender:function(){var aD=this;var at=aD._font;var ap=aD._sub;var ax=ap.render();var ar=new al(r(ax),{Length1:ax.length},true);var aq=aD._pdf.attach(new J({Type:an("FontDescriptor"),FontName:an(aD._sub.psName),FontBBox:aD.bbox,Flags:aD.flags,StemV:aD.stemV,ItalicAngle:aD.italicAngle,Ascent:aD.ascent,Descent:aD.descent,CapHeight:aD.capHeight,XHeight:aD.xHeight,FontFile2:aD._pdf.attach(ar)}));var av=ap.ncid2ogid;var aA=ap.firstChar;var aB=ap.lastChar;var az=[];(function ay(aG,aF){if(aG<=aB){var aH=av[aG];if(aH==null){ay(aG+1)}else{if(!aF){az.push(aG,aF=[])}aF.push(aD._font.widthOfGlyph(aH));ay(aG+1,aF)}}})(aA);var aC=new J({Type:an("Font"),Subtype:an("CIDFontType2"),BaseFont:an(aD._sub.psName),CIDSystemInfo:new J({Registry:new y("Adobe"),Ordering:new y("Identity"),Supplement:0}),FontDescriptor:aq,FirstChar:aA,LastChar:aB,DW:Math.round(aD._font.widthOfGlyph(0)),W:az,CIDToGIDMap:aD._pdf.attach(aD._makeCidToGidMap())});var au=aD.props;au.BaseFont=an(aD._sub.psName);au.DescendantFonts=[aD._pdf.attach(aC)];var aE=new ak(aA,aB,ap.subset);var aw=new al(S(),null,true);aw.data(aE);au.ToUnicode=aD._pdf.attach(aw)},_makeCidToGidMap:function(){return new al(r(this._sub.cidToGidMap()),null,true)}},J);var ak=ao(function q(aq,ap,ar){this.firstChar=aq;this.lastChar=ap;this.map=ar},{render:function(aq){aq.indent("/CIDInit /ProcSet findresource begin");aq.indent("12 dict begin");aq.indent("begincmap");aq.indent("/CIDSystemInfo <<");aq.indent("  /Registry (Adobe)");aq.indent("  /Ordering (UCS)");aq.indent("  /Supplement 0");aq.indent(">> def");aq.indent("/CMapName /Adobe-Identity-UCS def");aq.indent("/CMapType 2 def");aq.indent("1 begincodespacerange");aq.indent("  <0000><ffff>");aq.indent("endcodespacerange");var ap=this;aq.indent(ap.lastChar-ap.firstChar+1," beginbfchar");aq.withIndent(function(){for(var at=ap.firstChar;at<=ap.lastChar;++at){var ar=ap.map[at];aq.indent("<",l(at.toString(16),4),">","<",l(ar.toString(16),4),">")}});aq.indent("endbfchar");aq.indent("endcmap");aq.indent("CMapName currentdict /CMap defineresource pop");aq.indent("end");aq.indent("end")}});function f(ap){return ap.map(function(aq){return M(aq)?f(aq):typeof aq=="number"?(Math.round(aq*1000)/1000).toFixed(3):aq}).join(" ")}function W(aq,at,ap,ax,ar,ay,aw){var av=f([at,ap,ax,ar,ay,aw]);var au=aq.GRAD_COL_FUNCTIONS[av];if(!au){au=aq.GRAD_COL_FUNCTIONS[av]=aq.attach(new J({FunctionType:2,Domain:[0,1],Range:[0,1,0,1,0,1],N:1,C0:[at,ap,ax],C1:[ar,ay,aw]}))}return au}function Q(ar,aq,ap){var au=f([aq,ap]);var at=ar.GRAD_OPC_FUNCTIONS[au];if(!at){at=ar.GRAD_OPC_FUNCTIONS[au]=ar.attach(new J({FunctionType:2,Domain:[0,1],Range:[0,1],N:1,C0:[aq],C1:[ap]}))}return at}function ad(at,aC){var ay=false;var ar=[];var ap=[];var aw=[];var az=[];var ax,av,aB,aq,aA;for(ax=1;ax<aC.length;++ax){av=aC[ax-1];aB=aC[ax];aq=av.color;aA=aB.color;ap.push(W(at,aq.r,aq.g,aq.b,aA.r,aA.g,aA.b));if(aq.a<1||aA.a<1){ay=true}aw.push(aB.offset);az.push(0,1)}if(ay){for(ax=1;ax<aC.length;++ax){av=aC[ax-1];aB=aC[ax];aq=av.color;aA=aB.color;ar.push(Q(at,aq.a,aA.a))}}aw.pop();return{hasAlpha:ay,colors:au(ap),opacities:ay?au(ar):null};function au(aD){if(aD.length==1){return aD[0]}return{FunctionType:3,Functions:aD,Domain:[0,1],Bounds:aw,Encode:az}}}function R(aq,ar,ay,ax,ap,au){var av,at;if(!au){var aw=[ar].concat(ax);ay.forEach(function(az){aw.push(az.offset,az.color.r,az.color.g,az.color.b)});at=f(aw);av=aq.GRAD_COL[at]}if(!av){av=new J({Type:an("Shading"),ShadingType:ar?3:2,ColorSpace:an("DeviceRGB"),Coords:ax,Domain:[0,1],Function:ap,Extend:[true,true]});aq.attach(av);av._resourceName="S"+(++ac);if(at){aq.GRAD_COL[at]=av}}return av}function b(aq,ar,ay,ax,ap,au){var av,at;if(!au){var aw=[ar].concat(ax);ay.forEach(function(az){aw.push(az.offset,az.color.a)});at=f(aw);av=aq.GRAD_OPC[at]}if(!av){av=new J({Type:an("ExtGState"),AIS:false,CA:1,ca:1,SMask:{Type:an("Mask"),S:an("Luminosity"),G:aq.attach(new al("/a0 gs /s0 sh",{Type:an("XObject"),Subtype:an("Form"),FormType:1,BBox:(au?[au.left,au.top+au.height,au.left+au.width,au.top]:[0,1,1,0]),Group:{Type:an("Group"),S:an("Transparency"),CS:an("DeviceGray"),I:true},Resources:{ExtGState:{a0:{CA:1,ca:1}},Shading:{s0:{ColorSpace:an("DeviceGray"),Coords:ax,Domain:[0,1],ShadingType:ar?3:2,Function:ap,Extend:[true,true]}}}}))}});aq.attach(av);av._resourceName="O"+(++ac);if(at){aq.GRAD_OPC[at]=av}}return av}function D(ap,ax,au){var aw=ax.type=="radial";var ar=ad(ap,ax.stops);var av=aw?[ax.start.x,ax.start.y,ax.start.r,ax.end.x,ax.end.y,ax.end.r]:[ax.start.x,ax.start.y,ax.end.x,ax.end.y];var aq=R(ap,aw,ax.stops,av,ar.colors,ax.userSpace&&au);var at=ar.hasAlpha?b(ap,aw,ax.stops,av,ar.opacities,ax.userSpace&&au):null;return{hasAlpha:ar.hasAlpha,shading:aq,opacity:at}}var d=ao(function d(ap,aq){this._pdf=ap;this._rcount=0;this._textMode=false;this._fontResources={};this._gsResources={};this._xResources={};this._patResources={};this._shResources={};this._opacity=1;this._matrix=[1,0,0,1,0,0];this._annotations=[];this._font=null;this._fontSize=null;this._contextStack=[];aq=this.props=aq||{};aq.Type=an("Page");aq.ProcSet=[an("PDF"),an("Text"),an("ImageB"),an("ImageC"),an("ImageI")];aq.Resources=new J({Font:new J(this._fontResources),ExtGState:new J(this._gsResources),XObject:new J(this._xResources),Pattern:new J(this._patResources),Shading:new J(this._shResources)});aq.Annots=this._annotations},{_out:function(){this._content.data.apply(null,arguments)},transform:function(aq,ap,av,au,at,ar){if(!z(arguments)){this._matrix=Z(arguments,this._matrix);this._out(aq," ",ap," ",av," ",au," ",at," ",ar," cm");this._out(V)}},translate:function(aq,ap){this.transform(1,0,0,1,aq,ap)},scale:function(aq,ap){this.transform(aq,0,0,ap,0,0)},rotate:function(ar){var aq=Math.cos(ar),ap=Math.sin(ar);this.transform(aq,ap,-ap,aq,0,0)},beginText:function(){this._textMode=true;this._out("BT",V)},endText:function(){this._textMode=false;this._out("ET",V)},_requireTextMode:function(){if(!this._textMode){throw new Error("Text mode required; call page.beginText() first")}},_requireFont:function(){if(!this._font){throw new Error("No font selected; call page.setFont() first")}},setFont:function(ap,aq){this._requireTextMode();if(ap==null){ap=this._font}else{if(!(ap instanceof af)){ap=this._pdf.getFont(ap)}}if(aq==null){aq=this._fontSize}this._fontResources[ap._resourceName]=ap;this._font=ap;this._fontSize=aq;this._out(ap._resourceName," ",aq," Tf",V)},setTextLeading:function(ap){this._requireTextMode();this._out(ap," TL",V)},setTextRenderingMode:function(ap){this._requireTextMode();this._out(ap," Tr",V)},showText:function(ar,ap){this._requireFont();if(ar.length>1&&ap&&this._font instanceof af){var at=this._font.getTextWidth(this._fontSize,ar);var aq=ap/at*100;this._out(aq," Tz ")}this._out(this._font.encodeText(ar)," Tj",V)},showTextNL:function(ap){this._requireFont();this._out(this._font.encodeText(ap)," '",V)},addLink:function(aq,ap){var ar=this._toPage({x:ap.left,y:ap.bottom});var at=this._toPage({x:ap.right,y:ap.top});this._annotations.push(new J({Type:an("Annot"),Subtype:an("Link"),Rect:[ar.x,ar.y,at.x,at.y],Border:[0,0,0],A:new J({Type:an("Action"),S:an("URI"),URI:new y(aq)})}))},setStrokeColor:function(ar,aq,ap){this._out(ar," ",aq," ",ap," RG",V)},setOpacity:function(ap){this.setFillOpacity(ap);this.setStrokeOpacity(ap);this._opacity*=ap},setStrokeOpacity:function(aq){if(aq<1){var ap=this._pdf.getOpacityGS(this._opacity*aq,true);this._gsResources[ap._resourceName]=ap;this._out(ap._resourceName," gs",V)}},setFillColor:function(ar,aq,ap){this._out(ar," ",aq," ",ap," rg",V)},setFillOpacity:function(aq){if(aq<1){var ap=this._pdf.getOpacityGS(this._opacity*aq,false);this._gsResources[ap._resourceName]=ap;this._out(ap._resourceName," gs",V)}},gradient:function(at,ar){this.save();this.rect(ar.left,ar.top,ar.width,ar.height);this.clip();if(!at.userSpace){this.transform(ar.width,0,0,ar.height,ar.left,ar.top)}var aq=D(this._pdf,at,ar);var ap=aq.shading._resourceName,au;this._shResources[ap]=aq.shading;if(aq.hasAlpha){au=aq.opacity._resourceName;this._gsResources[au]=aq.opacity;this._out("/"+au+" gs ")}this._out("/"+ap+" sh",V);this.restore()},setDashPattern:function(ap,aq){this._out(ap," ",aq," d",V)},setLineWidth:function(ap){this._out(ap," w",V)},setLineCap:function(ap){this._out(ap," J",V)},setLineJoin:function(ap){this._out(ap," j",V)},setMitterLimit:function(ap){this._out(ap," M",V)},save:function(){this._contextStack.push(this._context());this._out("q",V)},restore:function(){this._out("Q",V);this._context(this._contextStack.pop())},moveTo:function(ap,aq){this._out(ap," ",aq," m",V)},lineTo:function(ap,aq){this._out(ap," ",aq," l",V)},bezier:function(at,av,aq,au,ap,ar){this._out(at," ",av," ",aq," ",au," ",ap," ",ar," c",V)},bezier1:function(ar,at,ap,aq){this._out(ar," ",at," ",ap," ",aq," y",V)},bezier2:function(aq,at,ap,ar){this._out(aq," ",at," ",ap," ",ar," v",V)},close:function(){this._out("h",V)},rect:function(ap,at,aq,ar){this._out(ap," ",at," ",aq," ",ar," re",V)},ellipse:function(ap,aw,av,au){function at(ax){return ap+ax}function aq(ax){return aw+ax}var ar=0.5522847498307936;this.moveTo(at(0),aq(au));this.bezier(at(av*ar),aq(au),at(av),aq(au*ar),at(av),aq(0));this.bezier(at(av),aq(-au*ar),at(av*ar),aq(-au),at(0),aq(-au));this.bezier(at(-av*ar),aq(-au),at(-av),aq(-au*ar),at(-av),aq(0));this.bezier(at(-av),aq(au*ar),at(-av*ar),aq(au),at(0),aq(au))},circle:function(ap,ar,aq){this.ellipse(ap,ar,aq,aq)},stroke:function(){this._out("S",V)},nop:function(){this._out("n",V)},clip:function(){this._out("W n",V)},clipStroke:function(){this._out("W S",V)},closeStroke:function(){this._out("s",V)},fill:function(){this._out("f",V)},fillStroke:function(){this._out("B",V)},drawImage:function(aq){var ap=this._pdf.getImage(aq);if(ap){this._xResources[ap._resourceName]=ap;this._out(ap._resourceName," Do",V)}},comment:function(ap){var aq=this;ap.split(/\r?\n/g).forEach(function(ar){aq._out("% ",ar,V)})},_context:function(ap){if(ap!=null){this._opacity=ap.opacity;this._matrix=ap.matrix}else{return{opacity:this._opacity,matrix:this._matrix}}},_toPage:function(av){var aq=this._matrix;var ar=aq[0],ap=aq[1],ax=aq[2],aw=aq[3],au=aq[4],at=aq[5];return{x:ar*av.x+ax*av.y+au,y:ap*av.x+aw*av.y+at}}},J);function r(aQ){var az=0,ax=0;if(aQ==null){aQ=i?new Uint8Array(256):[]}else{ax=aQ.length}var aH=i?function(aR){if(aR>=aQ.length){var aS=new Uint8Array(Math.max(aR+256,aQ.length*2));aS.set(aQ,0);aQ=aS}}:function(){};var aO=i?function(){return new Uint8Array(aQ.buffer,0,ax)}:function(){return aQ};var aN=i?function(aS){if(typeof aS=="string"){return aJ(aS)}var aR=aS.length;aH(az+aR);aQ.set(aS,az);az+=aR;if(az>ax){ax=az}}:function(aR){if(typeof aR=="string"){return aJ(aR)}for(var aS=0;aS<aR.length;++aS){aE(aR[aS])}};var aG=i?function(aT,aS){if(aQ.buffer.slice){return new Uint8Array(aQ.buffer.slice(aT,aT+aS))}else{var aR=new Uint8Array(aS);aR.set(new Uint8Array(aQ.buffer,aT,aS));return aR}}:function(aS,aR){return aQ.slice(aS,aS+aR)};function aC(){return az>=ax}function aq(){return az<ax?aQ[az++]:0}function aE(aR){aH(az);aQ[az++]=aR&255;if(az>ax){ax=az}}function av(){return(aq()<<8)|aq()}function aL(aR){aE(aR>>8);aE(aR)}function aD(){var aR=av();return aR>=32768?aR-65536:aR}function ar(aR){aL(aR<0?aR+65536:aR)}function aP(){return(av()*65536)+av()}function aA(aR){aL((aR>>>16)&65535);aL(aR&65535)}function ap(){var aR=aP();return aR>=2147483648?aR-4294967296:aR}function aF(aR){aA(aR<0?aR+4294967296:aR)}function aw(){return aP()/65536}function aM(aR){aA(Math.round(aR*65536))}function au(){return ap()/65536}function aK(aR){aF(Math.round(aR*65536))}function aI(aR){return aB(aR,aq)}function at(aR){return String.fromCharCode.apply(String,aI(aR))}function aJ(aS){for(var aR=0;aR<aS.length;++aR){aE(aS.charCodeAt(aR))}}function aB(aU,aR){for(var aS=new Array(aU),aT=0;aT<aU;++aT){aS[aT]=aR()}return aS}var ay={eof:aC,readByte:aq,writeByte:aE,readShort:av,writeShort:aL,readLong:aP,writeLong:aA,readFixed:aw,writeFixed:aM,readShort_:aD,writeShort_:ar,readLong_:ap,writeLong_:aF,readFixed_:au,writeFixed_:aK,read:aI,write:aN,readString:at,writeString:aJ,times:aB,get:aO,slice:aG,offset:function(aR){if(aR!=null){az=aR;return ay}return az},skip:function(aR){az+=aR},toString:function(){throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!")},length:function(){return ax},saveExcursion:function(aR){var aS=az;try{return aR()}finally{az=aS}},writeBase64:function(aR){if(X.atob){aJ(X.atob(aR))}else{aN(o.decode(aR))}},base64:function(){return o.encode(aO())}};return ay}function G(ap){return ap.replace(/^\s*(['"])(.*)\1\s*$/,"$2")}function C(aq){var at=/^\s*((normal|italic)\s+)?((normal|small-caps)\s+)?((normal|bold|\d+)\s+)?(([0-9.]+)(px|pt))(\/(([0-9.]+)(px|pt)|normal))?\s+(.*?)\s*$/i;var ap=at.exec(aq);if(!ap){return{fontSize:12,fontFamily:"sans-serif"}}var ar=ap[8]?parseInt(ap[8],10):12;return{italic:ap[2]&&ap[2].toLowerCase()=="italic",variant:ap[4],bold:ap[6]&&/bold|700/i.test(ap[6]),fontSize:ar,lineHeight:ap[12]?ap[12]=="normal"?ar:parseInt(ap[12],10):null,fontFamily:ap[14].split(/\s*,\s*/g).map(G)}}function h(av){function aq(aw){if(av.bold){aw+="|bold"}if(av.italic){aw+="|italic"}return aw.toLowerCase()}var ap=av.fontFamily;var at,ar;if(ap instanceof Array){for(var au=0;au<ap.length;++au){at=aq(ap[au]);ar=e[at];if(ar){break}}}else{ar=e[ap.toLowerCase()]}while(typeof ar=="function"){ar=ar()}if(!ar){ar="Times-Roman"}return ar}var e={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique",zapfdingbats:"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"};function aa(aq,ap){aq=aq.toLowerCase();e[aq]=function(){return e[ap]};e[aq+"|bold"]=function(){return e[ap+"|bold"]};e[aq+"|italic"]=function(){return e[ap+"|italic"]};e[aq+"|bold|italic"]=function(){return e[ap+"|bold|italic"]}}aa("Times New Roman","serif");aa("Courier New","monospace");aa("Arial","sans-serif");aa("Helvetica","sans-serif");aa("Verdana","sans-serif");aa("Tahoma","sans-serif");aa("Georgia","sans-serif");aa("Monaco","monospace");aa("Andale Mono","monospace");function aj(aq,ap){if(arguments.length==1){for(var ar in aq){if(s(aq,ar)){aj(ar,aq[ar])}}}else{aq=aq.toLowerCase();e[aq]=ap;switch(aq){case"dejavu sans":e["sans-serif"]=ap;break;case"dejavu sans|bold":e["sans-serif|bold"]=ap;break;case"dejavu sans|italic":e["sans-serif|italic"]=ap;break;case"dejavu sans|bold|italic":e["sans-serif|bold|italic"]=ap;break;case"dejavu serif":e.serif=ap;break;case"dejavu serif|bold":e["serif|bold"]=ap;break;case"dejavu serif|italic":e["serif|italic"]=ap;break;case"dejavu serif|bold|italic":e["serif|bold|italic"]=ap;break;case"dejavu mono":e.monospace=ap;break;case"dejavu mono|bold":e["monospace|bold"]=ap;break;case"dejavu mono|italic":e["monospace|italic"]=ap;break;case"dejavu mono|bold|italic":e["monospace|bold|italic"]=ap;break}}}T.pdf={Document:N,BinaryStream:r,defineFont:aj,parseFontDef:C,getFontURL:h,loadFonts:m,loadImages:k,getPaperOptions:c,TEXT_RENDERING_MODE:{fill:0,stroke:1,fillAndStroke:2,invisible:3,fillAndClip:4,strokeAndClip:5,fillStrokeClip:6,clip:7}};function Z(aD,aB){var at=aD[0],aC=aD[1],ax=aD[2],ar=aD[3],aA=aD[4],aw=aD[5];var aq=aB[0],az=aB[1],av=aB[2],ap=aB[3],ay=aB[4],au=aB[5];return[at*aq+aC*av,at*az+aC*ap,ax*aq+ar*av,ax*az+ar*ap,aA*aq+aw*av+ay,aA*az+aw*ap+au]}function z(ap){return ap[0]===1&&ap[1]===0&&ap[2]===0&&ap[3]===1&&ap[4]===0&&ap[5]===0}})(window,parseFloat);(function(j){function k(x,w){return Object.prototype.hasOwnProperty.call(x,w)}function e(w){return Object.keys(w).sort(function(y,x){return y-x}).map(parseFloat)}var u=j.kendo.pdf;var p=u.BinaryStream;function c(z){this.raw=z;this.scalerType=z.readLong();this.tableCount=z.readShort();this.searchRange=z.readShort();this.entrySelector=z.readShort();this.rangeShift=z.readShort();var x=this.tables={};for(var w=0;w<this.tableCount;++w){var y={tag:z.readString(4),checksum:z.readLong(),offset:z.readLong(),length:z.readLong()};x[y.tag]=y}}c.prototype={readTable:function(x,w){var y=this.tables[x];if(!y){throw new Error("Table "+x+" not found in directory")}return(this[x]=y.table=new w(this,y))},render:function(G){var K=Object.keys(G).length;var E=Math.pow(2,Math.floor(Math.log(K)/Math.LN2));var C=E*16;var w=Math.floor(Math.log(E)/Math.LN2);var I=K*16-C;var z=p();z.writeLong(this.scalerType);z.writeShort(K);z.writeShort(C);z.writeShort(w);z.writeShort(I);var A=K*16;var y=z.offset()+A;var D=null;var x=p();for(var J in G){if(k(G,J)){var H=G[J];z.writeString(J);z.writeLong(this.checksum(H));z.writeLong(y);z.writeLong(H.length);x.write(H);if(J=="head"){D=y}y+=H.length;while(y%4){x.writeByte(0);y++}}}z.write(x.get());var B=this.checksum(z.get());var F=2981146554-B;z.offset(D+8);z.writeLong(F);return z.get()},checksum:function(x){x=p(x);var w=0;while(!x.eof()){w+=x.readLong()}return w&4294967295}};function f(w){function x(z,A){this.definition=A;this.length=A.length;this.offset=A.offset;this.file=z;this.rawData=z.raw;this.parse(z.raw)}x.prototype.raw=function(){return this.rawData.slice(this.offset,this.length)};for(var y in w){if(k(w,y)){x[y]=x.prototype[y]=w[y]}}return x}var d=f({parse:function(w){w.offset(this.offset);this.version=w.readLong();this.revision=w.readLong();this.checkSumAdjustment=w.readLong();this.magicNumber=w.readLong();this.flags=w.readShort();this.unitsPerEm=w.readShort();this.created=w.read(8);this.modified=w.read(8);this.xMin=w.readShort_();this.yMin=w.readShort_();this.xMax=w.readShort_();this.yMax=w.readShort_();this.macStyle=w.readShort();this.lowestRecPPEM=w.readShort();this.fontDirectionHint=w.readShort_();this.indexToLocFormat=w.readShort_();this.glyphDataFormat=w.readShort_()},render:function(x){var w=p();w.writeLong(this.version);w.writeLong(this.revision);w.writeLong(0);w.writeLong(this.magicNumber);w.writeShort(this.flags);w.writeShort(this.unitsPerEm);w.write(this.created);w.write(this.modified);w.writeShort_(this.xMin);w.writeShort_(this.yMin);w.writeShort_(this.xMax);w.writeShort_(this.yMax);w.writeShort(this.macStyle);w.writeShort(this.lowestRecPPEM);w.writeShort_(this.fontDirectionHint);w.writeShort_(x);w.writeShort_(this.glyphDataFormat);return w.get()}});var m=f({parse:function(w){w.offset(this.offset);var x=this.file.head.indexToLocFormat;if(x===0){this.offsets=w.times(this.length/2,function(){return 2*w.readShort()})}else{this.offsets=w.times(this.length/4,w.readLong)}},offsetOf:function(w){return this.offsets[w]},lengthOf:function(w){return this.offsets[w+1]-this.offsets[w]},render:function(y){var w=p();var z=y[y.length-1]>65535;for(var x=0;x<y.length;++x){if(z){w.writeLong(y[x])}else{w.writeShort(y[x]/2)}}return{format:z?1:0,table:w.get()}}});var l=f({parse:function(w){w.offset(this.offset);this.version=w.readLong();this.ascent=w.readShort_();this.descent=w.readShort_();this.lineGap=w.readShort_();this.advanceWidthMax=w.readShort();this.minLeftSideBearing=w.readShort_();this.minRightSideBearing=w.readShort_();this.xMaxExtent=w.readShort_();this.caretSlopeRise=w.readShort_();this.caretSlopeRun=w.readShort_();this.caretOffset=w.readShort_();w.skip(4*2);this.metricDataFormat=w.readShort_();this.numOfLongHorMetrics=w.readShort()},render:function(x){var w=p();w.writeLong(this.version);w.writeShort_(this.ascent);w.writeShort_(this.descent);w.writeShort_(this.lineGap);w.writeShort(this.advanceWidthMax);w.writeShort_(this.minLeftSideBearing);w.writeShort_(this.minRightSideBearing);w.writeShort_(this.xMaxExtent);w.writeShort_(this.caretSlopeRise);w.writeShort_(this.caretSlopeRun);w.writeShort_(this.caretOffset);w.write([0,0,0,0,0,0,0,0]);w.writeShort_(this.metricDataFormat);w.writeShort(x.length);return w.get()}});var o=f({parse:function(w){w.offset(this.offset);this.version=w.readLong();this.numGlyphs=w.readShort();this.maxPoints=w.readShort();this.maxContours=w.readShort();this.maxComponentPoints=w.readShort();this.maxComponentContours=w.readShort();this.maxZones=w.readShort();this.maxTwilightPoints=w.readShort();this.maxStorage=w.readShort();this.maxFunctionDefs=w.readShort();this.maxInstructionDefs=w.readShort();this.maxStackElements=w.readShort();this.maxSizeOfInstructions=w.readShort();this.maxComponentElements=w.readShort();this.maxComponentDepth=w.readShort()},render:function(w){var x=p();x.writeLong(this.version);x.writeShort(w.length);x.writeShort(this.maxPoints);x.writeShort(this.maxContours);x.writeShort(this.maxComponentPoints);x.writeShort(this.maxComponentContours);x.writeShort(this.maxZones);x.writeShort(this.maxTwilightPoints);x.writeShort(this.maxStorage);x.writeShort(this.maxFunctionDefs);x.writeShort(this.maxInstructionDefs);x.writeShort(this.maxStackElements);x.writeShort(this.maxSizeOfInstructions);x.writeShort(this.maxComponentElements);x.writeShort(this.maxComponentDepth);return x.get()}});var v=f({parse:function(z){z.offset(this.offset);var y=this.file,x=y.hhea;this.metrics=z.times(x.numOfLongHorMetrics,function(){return{advance:z.readShort(),lsb:z.readShort_()}});var w=y.maxp.numGlyphs-y.hhea.numOfLongHorMetrics;this.leftSideBearings=z.times(w,z.readShort_)},forGlyph:function(y){var w=this.metrics;var x=w.length;if(y<x){return w[y]}return{advance:w[x-1].advance,lsb:this.leftSideBearings[y-x]}},render:function(x){var y=p();for(var z=0;z<x.length;++z){var w=this.forGlyph(x[z]);y.writeShort(w.advance);y.writeShort_(w.lsb)}return y.get()}});var h=(function(){function x(E){this.raw=E}x.prototype={compound:false,render:function(){return this.raw.get()}};var D=1;var A=8;var w=32;var z=64;var y=128;var C=256;function B(H){this.raw=H;var F=this.glyphIds=[];var G=this.idOffsets=[];while(true){var E=H.readShort();G.push(H.offset());F.push(H.readShort());if(!(E&w)){break}H.skip(E&D?4:2);if(E&y){H.skip(8)}else{if(E&z){H.skip(4)}else{if(E&A){H.skip(2)}}}}}B.prototype={compound:true,render:function(F){var E=p(this.raw.get());for(var G=0;G<this.glyphIds.length;++G){var H=this.glyphIds[G];E.offset(this.idOffsets[G]);E.writeShort(F[H])}return E.get()}};return f({parse:function(E){this.cache={}},glyphFor:function(G){var E=this.cache;if(k(E,G)){return E[G]}var K=this.file.loca;var H=K.lengthOf(G);if(H===0){return(E[G]=null)}var M=this.rawData;var L=this.offset+K.offsetOf(G);var Q=p(M.slice(L,H));var I=Q.readShort_();var F=Q.readShort_();var P=Q.readShort_();var N=Q.readShort_();var J=Q.readShort_();var O=E[G]=I==-1?new B(Q):new x(Q);O.numberOfContours=I;O.xMin=F;O.yMin=P;O.xMax=N;O.yMax=J;return O},render:function(H,K,F){var E=p(),J=[];for(var G=0;G<K.length;++G){var L=K[G];var I=H[L];J.push(E.offset());if(I){E.write(I.render(F))}}J.push(E.offset());return{table:E.get(),offsets:J}}})}());var s=(function(){function w(y,x){this.text=y;this.length=y.length;this.platformID=x.platformID;this.platformSpecificID=x.platformSpecificID;this.languageID=x.languageID;this.nameID=x.nameID}return f({parse:function(z){z.offset(this.offset);var C=z.readShort();var B=z.readShort();var x=this.offset+z.readShort();var F=z.times(B,function(){return{platformID:z.readShort(),platformSpecificID:z.readShort(),languageID:z.readShort(),nameID:z.readShort(),length:z.readShort(),offset:z.readShort()+x}});var D=this.strings={};for(var A=0;A<F.length;++A){var y=F[A];z.offset(y.offset);var E=z.readString(y.length);if(!D[y.nameID]){D[y.nameID]=[]}D[y.nameID].push(new w(E,y))}this.postscriptEntry=D[6][0];this.postscriptName=this.postscriptEntry.text.replace(/[^\x20-\x7F]/g,"")},render:function(D){var E=this.strings;var A=0;for(var z in E){if(k(E,z)){A+=E[z].length}}var x=p();var F=p();x.writeShort(0);x.writeShort(A);x.writeShort(6+12*A);for(z in E){if(k(E,z)){var B=z==6?[new w(D,this.postscriptEntry)]:E[z];for(var y=0;y<B.length;++y){var C=B[y];x.writeShort(C.platformID);x.writeShort(C.platformSpecificID);x.writeShort(C.languageID);x.writeShort(C.nameID);x.writeShort(C.length);x.writeShort(F.offset());F.writeString(C.text)}}}x.write(F.get());return x.get()}})})();var i=(function(){var w=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g);return f({parse:function(z){z.offset(this.offset);this.format=z.readLong();this.italicAngle=z.readFixed_();this.underlinePosition=z.readShort_();this.underlineThickness=z.readShort_();this.isFixedPitch=z.readLong();this.minMemType42=z.readLong();this.maxMemType42=z.readLong();this.minMemType1=z.readLong();this.maxMemType1=z.readLong();var y;switch(this.format){case 65536:case 196608:break;case 131072:y=z.readShort();this.glyphNameIndex=z.times(y,z.readShort);this.names=[];var x=this.offset+this.length;while(z.offset()<x){this.names.push(z.readString(z.readByte()))}break;case 151552:y=z.readShort();this.offsets=z.read(y);break;case 262144:this.map=z.times(this.file.maxp.numGlyphs,z.readShort);break}},glyphFor:function(y){switch(this.format){case 65536:return w[y]||".notdef";case 131072:var x=this.glyphNameIndex[y];if(x<w.length){return w[x]}return this.names[x-w.length]||".notdef";case 151552:case 196608:return".notdef";case 262144:return this.map[y]||65535}},render:function(B){if(this.format==196608){return this.raw()}var A=p(this.rawData.slice(this.offset,32));A.writeLong(131072);A.offset(32);var z=[];var x=[];for(var D=0;D<B.length;++D){var E=B[D];var C=this.glyphFor(E);var y=w.indexOf(C);if(y>=0){z.push(y)}else{z.push(w.length+x.length);x.push(C)}}A.writeShort(B.length);for(D=0;D<z.length;++D){A.writeShort(z[D])}for(D=0;D<x.length;++D){A.writeByte(x[D].length);A.writeString(x[D])}return A.get()}})})();var g=(function(){function w(z,A){var y=this;y.platformID=z.readShort();y.platformSpecificID=z.readShort();y.offset=A+z.readLong();z.saveExcursion(function(){z.offset(y.offset);y.format=z.readShort();y.length=z.readShort();y.language=z.readShort();y.isUnicode=(y.platformID==3&&y.platformSpecificID==1&&y.format==4)||(y.platformID===0&&y.format==4);y.codeMap={};switch(y.format){case 0:for(var K=0;K<256;++K){y.codeMap[K]=z.readByte()}break;case 4:var C=z.readShort()/2;z.skip(6);var J=z.times(C,z.readShort);z.skip(2);var B=z.times(C,z.readShort);var F=z.times(C,z.readShort_);var N=z.times(C,z.readShort);var M=(y.length+y.offset-z.offset())/2;var I=z.times(M,z.readShort);for(K=0;K<C;++K){var E=B[K],H=J[K];for(var D=E;D<=H;++D){var G;if(N[K]===0){G=D+F[K]}else{var L=N[K]/2-(C-K)+(D-E);G=I[L]||0;if(G!==0){G+=F[K]}}y.codeMap[D]=G&65535}}}})}function x(P,L){var S=e(P);var R=[];var M=[];var F=null;var I=null;function V(X){return L[P[X]]}for(var Q=0;Q<S.length;++Q){var y=S[Q];var K=V(y);var T=K-y;if(F==null||T!==I){if(F){M.push(F)}R.push(y);I=T}F=y}if(F){M.push(F)}M.push(65535);R.push(65535);var A=R.length;var W=A*2;var z=2*Math.pow(2,Math.floor(Math.log(A)/Math.LN2));var J=Math.log(z/2)/Math.LN2;var H=W-z;var D=[];var B=[];var G=[];for(Q=0;Q<A;++Q){var C=R[Q];var U=M[Q];if(C==65535){D.push(0);B.push(0);break}var E=V(C);if(C-E>=32768){D.push(0);B.push(2*(G.length+A-Q));for(var N=C;N<=U;++N){G.push(V(N))}}else{D.push(E-C);B.push(0)}}var O=p();O.writeShort(3);O.writeShort(1);O.writeLong(12);O.writeShort(4);O.writeShort(16+A*8+G.length*2);O.writeShort(0);O.writeShort(W);O.writeShort(z);O.writeShort(J);O.writeShort(H);M.forEach(O.writeShort);O.writeShort(0);R.forEach(O.writeShort);D.forEach(O.writeShort_);B.forEach(O.writeShort);G.forEach(O.writeShort);return O.get()}return f({parse:function(A){var z=this;var B=z.offset;A.offset(B);z.version=A.readShort();var y=A.readShort();z.unicodeEntry=null;z.tables=A.times(y,function(){var C=new w(A,B);if(C.isUnicode){z.unicodeEntry=C}return C})},render:function(A,z){var y=p();y.writeShort(0);y.writeShort(1);y.write(x(A,z));return y.get()},getUnicodeEntry:function(){if(!this.unicodeEntry){throw new Error("Font doesn't have an Unicode encoding")}return this.unicodeEntry}})})();var n=f({parse:function(w){w.offset(this.offset);this.version=w.readShort();this.averageCharWidth=w.readShort_();this.weightClass=w.readShort();this.widthClass=w.readShort();this.type=w.readShort();this.ySubscriptXSize=w.readShort_();this.ySubscriptYSize=w.readShort_();this.ySubscriptXOffset=w.readShort_();this.ySubscriptYOffset=w.readShort_();this.ySuperscriptXSize=w.readShort_();this.ySuperscriptYSize=w.readShort_();this.ySuperscriptXOffset=w.readShort_();this.ySuperscriptYOffset=w.readShort_();this.yStrikeoutSize=w.readShort_();this.yStrikeoutPosition=w.readShort_();this.familyClass=w.readShort_();this.panose=w.times(10,w.readByte);this.charRange=w.times(4,w.readLong);this.vendorID=w.readString(4);this.selection=w.readShort();this.firstCharIndex=w.readShort();this.lastCharIndex=w.readShort();if(this.version>0){this.ascent=w.readShort_();this.descent=w.readShort_();this.lineGap=w.readShort_();this.winAscent=w.readShort();this.winDescent=w.readShort();this.codePageRange=w.times(2,w.readLong);if(this.version>1){this.xHeight=w.readShort();this.capHeight=w.readShort();this.defaultChar=w.readShort();this.breakChar=w.readShort();this.maxContext=w.readShort()}}},render:function(){return this.raw()}});var t=100000;function r(){var w="",y=t+"";for(var x=0;x<y.length;++x){w+=String.fromCharCode(y.charCodeAt(x)-48+65)}++t;return w}function b(w){this.font=w;this.subset={};this.unicodes={};this.ogid2ngid={0:0};this.ngid2ogid={0:0};this.ncid2ogid={};this.next=this.firstChar=1;this.nextGid=1;this.psName=r()+"+"+this.font.psName}b.prototype={use:function(z){var A;if(typeof z=="string"){var x="";for(var y=0;y<z.length;++y){A=this.use(z.charCodeAt(y));x+=String.fromCharCode(A)}return x}A=this.unicodes[z];if(!A){A=this.next++;this.subset[A]=z;this.unicodes[z]=A;var w=this.font.cmap.getUnicodeEntry().codeMap[z];if(w){this.ncid2ogid[A]=w;if(this.ogid2ngid[w]==null){var B=this.nextGid++;this.ogid2ngid[w]=B;this.ngid2ogid[B]=w}}}return A},encodeText:function(w){return this.use(w)},glyphIds:function(){return e(this.ogid2ngid)},glyphsFor:function(x,w){if(!w){w={}}for(var y=0;y<x.length;++y){var A=x[y];if(!w[A]){var z=w[A]=this.font.glyf.glyphFor(A);if(z&&z.compound){this.glyphsFor(z.glyphIds,w)}}}return w},render:function(){var C=this.glyphsFor(this.glyphIds());for(var A in C){if(k(C,A)){A=parseInt(A,10);if(this.ogid2ngid[A]==null){var E=this.nextGid++;this.ogid2ngid[A]=E;this.ngid2ogid[E]=A}}}var B=e(this.ngid2ogid);var y=B.map(function(F){return this.ngid2ogid[F]},this);var x=this.font;var w=x.glyf.render(C,y,this.ogid2ngid);var z=x.loca.render(w.offsets);this.lastChar=this.next-1;var D={cmap:g.render(this.ncid2ogid,this.ogid2ngid),glyf:w.table,loca:z.table,hmtx:x.hmtx.render(y),hhea:x.hhea.render(y),maxp:x.maxp.render(y),post:x.post.render(y),name:x.name.render(this.psName),head:x.head.render(z.format),"OS/2":x.os2.render()};return this.font.directory.render(D)},cidToGidMap:function(){var y=p(),x=0;for(var A=this.firstChar;A<this.next;++A){while(x<A){y.writeShort(0);x++}var w=this.ncid2ogid[A];if(w){var z=this.ogid2ngid[w];y.writeShort(z)}else{y.writeShort(0)}x++}return y.get()}};function q(D,z){var y=this;var B=y.contents=p(D);if(B.readString(4)=="ttcf"){if(!z){throw new Error("Must specify a name for TTC files")}var x=B.readLong();var w=B.readLong();for(var A=0;A<w;++A){var C=B.readLong();B.saveExcursion(function(){B.offset(C);y.parse()});if(y.psName==z){return}}throw new Error("Font "+z+" not found in collection")}else{B.offset(0);y.parse()}}q.prototype={parse:function(){var w=this.directory=new c(this.contents);this.head=w.readTable("head",d);this.loca=w.readTable("loca",m);this.hhea=w.readTable("hhea",l);this.maxp=w.readTable("maxp",o);this.hmtx=w.readTable("hmtx",v);this.glyf=w.readTable("glyf",h);this.name=w.readTable("name",s);this.post=w.readTable("post",i);this.cmap=w.readTable("cmap",g);this.os2=w.readTable("OS/2",n);this.psName=this.name.postscriptName;this.ascent=this.os2.ascent||this.hhea.ascent;this.descent=this.os2.descent||this.hhea.descent;this.lineGap=this.os2.lineGap||this.hhea.lineGap;this.scale=1000/this.head.unitsPerEm},widthOfGlyph:function(w){return this.hmtx.forGlyph(w).advance*this.scale},makeSubset:function(){return new b(this)}};u.TTFFont=q})(window);(function(u,h){var D=u.drawing;var H=u.geometry;var F=D.Color;var k=u.pdf.TEXT_RENDERING_MODE;var o={dash:[4],dashDot:[4,2,1,2],dot:[1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2],solid:[]};var m={butt:0,round:1,square:2};var z={miter:0,round:1,bevel:2};function G(O,P){var N=[],M=[],Q=O.options;function I(S,R,T){if(!T){T=Q}if(T.pdf&&T.pdf[S]!=null){return T.pdf[S]}return R}var J=I("multiPage");O.traverse(function(R){E({Image:function(S){if(M.indexOf(S.src())<0){M.push(S.src())}},Text:function(T){var U=u.pdf.parseFontDef(T.options.font);var S=u.pdf.getFontURL(U);if(N.indexOf(S)<0){N.push(S)}}},R)});function L(){if(--K>0){return}var R=new (u.pdf.Document)({producer:I("producer"),title:I("title"),author:I("author"),subject:I("subject"),keywords:I("keywords"),creator:I("creator"),date:I("date")});function S(Y){var ab=Y.options;var U=p(Y);var Z=U.bbox;Y=U.root;var T=I("paperSize",I("paperSize","auto"),ab),W=false;if(T=="auto"){if(Z){var aa=Z.getSize();T=[aa.width,aa.height];W=true;var X=Z.getOrigin();U=new D.Group();U.transform(new H.Matrix(1,0,0,1,-X.x,-X.y));U.append(Y);Y=U}else{T="A4"}}var V;V=R.addPage({paperSize:T,margin:I("margin",I("margin"),ab),addMargin:W,landscape:I("landscape",I("landscape",false),ab)});x(Y,V,R)}if(J){O.children.forEach(S)}else{S(O)}P(R.render(),R)}var K=2;u.pdf.loadFonts(N,L);u.pdf.loadImages(M,L)}function s(I,J){G(I,function(K){J("data:application/pdf;base64,"+K.base64())})}function b(I,J){G(I,function(K){J(new Blob([K.get()],{type:"application/pdf"}))})}function e(K,I,J,L){if(window.Blob&&!u.support.browser.safari){b(K,function(M){u.saveAs({dataURI:M,fileName:I});if(L){L(M)}})}else{s(K,function(M){u.saveAs({dataURI:M,fileName:I,proxyURL:J});if(L){L(M)}})}}function E(I,J){var K=I[J.nodeType];if(K){return K.call.apply(K,arguments)}return J}function x(M,N,J){if(M.options._pdfDebug){N.comment("BEGIN: "+M.options._pdfDebug)}var L=M.transform();var K=M.opacity();N.save();if(K!=null&&K<1){N.setOpacity(K)}j(M,N,J);n(M,N,J);t(M,N,J);if(L){var I=L.matrix();N.transform(I.a,I.b,I.c,I.d,I.e,I.f)}E({Path:w,MultiPath:c,Circle:f,Arc:i,Text:v,Image:y,Group:q},M,N,J);N.restore();if(M.options._pdfDebug){N.comment("END: "+M.options._pdfDebug)}}function j(M,O,K){var R=M.stroke&&M.stroke();if(!R){return}var L=R.color;if(L){L=A(L);if(L==null){return}O.setStrokeColor(L.r,L.g,L.b);if(L.a!=1){O.setStrokeOpacity(L.a)}}var J=R.width;if(J!=null){if(J===0){return}O.setLineWidth(J)}var P=R.dashType;if(P){O.setDashPattern(o[P],0)}var Q=R.lineCap;if(Q){O.setLineCap(m[Q])}var I=R.lineJoin;if(I){O.setLineJoin(z[I])}var N=R.opacity;if(N!=null){O.setStrokeOpacity(N)}}function n(L,M,I){var N=L.fill&&L.fill();if(!N){return}if(N instanceof D.Gradient){return}var J=N.color;if(J){J=A(J);if(J==null){return}M.setFillColor(J.r,J.g,J.b);if(J.a!=1){M.setFillOpacity(J.a)}}var K=N.opacity;if(K!=null){M.setFillOpacity(K)}}function t(J,L,I){var K=J.clip();if(K){B(K,L,I);L.clip()}}function d(I){return(I&&(I instanceof D.Gradient||(I.color&&!/^(none|transparent)$/i.test(I.color)&&(I.width==null||I.width>0)&&(I.opacity==null||I.opacity>0))))}function C(M,O,J,R){var S=M.fill();if(S instanceof D.Gradient){if(R){O.clipStroke()}else{O.clip()}var L=S instanceof D.RadialGradient;var I,K;if(L){I={x:S.center().x,y:S.center().y,r:0};K={x:S.center().x,y:S.center().y,r:S.radius()}}else{I={x:S.start().x,y:S.start().y};K={x:S.end().x,y:S.end().y}}var P={type:L?"radial":"linear",start:I,end:K,userSpace:S.userSpace(),stops:S.stops.elements().map(function(V){var W=V.offset();if(/%$/.test(W)){W=parseFloat(W)/100}else{W=parseFloat(W)}var U=A(V.color());U.a*=V.opacity();return{offset:W,color:U}})};var N=M.rawBBox();var Q=N.topLeft(),T=N.getSize();N={left:Q.x,top:Q.y,width:T.width,height:T.height};O.gradient(P,N);return true}}function g(J,K,I){if(d(J.fill())&&d(J.stroke())){if(!C(J,K,I,true)){K.fillStroke()}}else{if(d(J.fill())){if(!C(J,K,I,false)){K.fill()}}else{if(d(J.stroke())){K.stroke()}else{K.nop()}}}}function r(O,N,J){var K=O.segments;if(K.length==4&&O.options.closed){var I=[];for(var L=0;L<K.length;++L){if(K[L].controlIn()){return false}I[L]=K[L].anchor()}var M=(I[0].y==I[1].y&&I[1].x==I[2].x&&I[2].y==I[3].y&&I[3].x==I[0].x)||(I[0].x==I[1].x&&I[1].y==I[2].y&&I[2].x==I[3].x&&I[3].y==I[0].y);if(M){N.rect(I[0].x,I[0].y,I[2].x-I[0].x,I[2].y-I[0].y);return true}}}function B(L,R,I){var O=L.segments;if(O.length===0){return}if(!r(L,R,I)){for(var J,M=0;M<O.length;++M){var K=O[M];var N=K.anchor();if(!J){R.moveTo(N.x,N.y)}else{var Q=J.controlOut();var P=K.controlIn();if(Q&&P){R.bezier(Q.x,Q.y,P.x,P.y,N.x,N.y)}else{R.lineTo(N.x,N.y)}}J=K}if(L.options.closed){R.close()}}}function w(J,K,I){B(J,K,I);g(J,K,I)}function c(K,L,I){var M=K.paths;for(var J=0;J<M.length;++J){B(M[J],L,I)}g(K,L,I)}function f(J,L,I){var K=J.geometry();L.circle(K.center.x,K.center.y,K.radius);g(J,L,I)}function i(K,M,I){var L=K.geometry().curvePoints();M.moveTo(L[0].x,L[0].y);for(var J=1;J<L.length;){M.bezier(L[J].x,L[J++].y,L[J].x,L[J++].y,L[J].x,L[J++].y)}g(K,M,I)}function v(J,L,I){var K=u.pdf.parseFontDef(J.options.font);var N=J._position;var M;if(J.fill()&&J.stroke()){M=k.fillAndStroke}else{if(J.fill()){M=k.fill}else{if(J.stroke()){M=k.stroke}}}L.transform(1,0,0,-1,N.x,N.y+K.fontSize);L.beginText();L.setFont(u.pdf.getFontURL(K),K.fontSize);L.setTextRenderingMode(M);L.showText(J.content(),J._pdfRect?J._pdfRect.width():null);L.endText()}function q(L,M,I){if(L._pdfLink){M.addLink(L._pdfLink.url,L._pdfLink)}var K=L.children;for(var J=0;J<K.length;++J){x(K[J],M,I)}}function y(L,N,I){var K=L.src();if(!K){return}var M=L.rect();var J=M.getOrigin();var O=M.getSize();N.transform(O.width,0,0,-O.height,J.x,J.y+O.height);N.drawImage(K)}function l(K,I){var L=h.Deferred();for(var J in I){K.options.set("pdf."+J,I[J])}D.pdf.toDataURL(K,L.resolve);return L.promise()}function A(I){var J=u.parseColor(I,true);return J?J.toRGB():null}function p(Q){var S=false;var R=H.Matrix.unit();var K=null;var N;do{N=false;Q=I(Q)}while(Q&&N);return{root:Q,bbox:K};function P(T){N=true;return T}function J(T){return(T.visible()&&T.opacity()>0&&(d(T.fill())||d(T.stroke())))}function O(U){var T=[];for(var V=0;V<U.length;++V){var W=I(U[V]);if(W!=null){T.push(W)}}return T}function M(U,X){var T=S;var W=R;if(U.transform()){R=R.multiplyCopy(U.transform().matrix())}var V=U.clip();if(V){V=V.bbox();if(V){V=V.bbox(R);S=S?H.Rect.intersect(S,V):V}}try{return X()}finally{S=T;R=W}}function L(T){if(S==null){return false}var U=T.rawBBox().bbox(R);if(S&&U){U=H.Rect.intersect(U,S)}return U}function I(T){return M(T,function(){if(!(T instanceof D.Group||T instanceof D.MultiPath)){var U=L(T);if(!U){return P(null)}K=K?H.Rect.union(K,U):U}return E({Path:function(V){if(V.segments.length===0||!J(V)){return P(null)}return V},MultiPath:function(V){if(!J(V)){return P(null)}var W=new D.MultiPath(V.options);W.paths=O(V.paths);if(W.paths.length===0){return P(null)}return W},Circle:function(V){if(!J(V)){return P(null)}return V},Arc:function(V){if(!J(V)){return P(null)}return V},Text:function(V){if(!/\S/.test(V.content())||!J(V)){return P(null)}return V},Image:function(V){if(!(V.visible()&&V.opacity()>0)){return P(null)}return V},Group:function(V){var W=new D.Group(V.options);W.children=O(V.children);W._pdfLink=V._pdfLink;if(V!==Q&&W.children.length===0&&!V._pdfLink){return P(null)}return W}},T)})}}u.deepExtend(D,{exportPDF:l,pdf:{toDataURL:s,toBlob:b,saveAs:e,toStream:G}})})(window.kendo,window.kendo.jQuery);(function(c,b){c.PDFMixin={extend:function(d){d.events.push("pdfExport");d.options.pdf=this.options;d.saveAsPDF=this.saveAsPDF;d._drawPDF=this._drawPDF;d._drawPDFShadow=this._drawPDFShadow},options:{fileName:"Export.pdf",proxyURL:"",paperSize:"auto",allPages:false,landscape:false,margin:null,title:null,author:null,subject:null,keywords:null,creator:"Kendo UI PDF Generator",date:null},saveAsPDF:function(){var f=new b.Deferred();var g=f.promise();var e={promise:g};if(this.trigger("pdfExport",e)){return}var d=this.options.pdf;d.multiPage=d.allPages;this._drawPDF(f).then(function(h){return c.drawing.exportPDF(h,d)}).done(function(h){c.saveAs({dataURI:h,fileName:d.fileName,proxyURL:d.proxyURL,forceProxy:d.forceProxy});f.resolve()}).fail(function(h){f.reject(h)});return g},_drawPDF:function(){return c.drawing.drawDOM(this.wrapper)},_drawPDFShadow:function(d){var g=this.wrapper;var f=b("<div class='k-pdf-export-shadow'>").css("width",g.width());g.before(f);f.append(d||g.clone(true,true));var e=c.drawing.drawDOM(f);e.always(function(){f.remove()});return e}}})(kendo,window.kendo.jQuery);(function(bc,H){var C=window.kendo,aw=C.ui,y=C.data.DataSource,z=aw.Groupable,L=C.support.tbodyInnerHtml,X=C._activeElement,q=aw.Widget,aj=C.keys,W=bc.isPlainObject,aP=bc.extend,I=bc.map,n=bc.grep,d=bc.isArray,G=bc.inArray,h=Array.prototype.push,N=bc.proxy,bf=C.isFunction,aW=bc.isEmptyObject,aq=Math,a5="progress",Z="error",S=":not(.k-group-cell):not(.k-hierarchy-cell):visible",l="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",T="tr:not(.k-footer-template):visible",bh=":not(.k-group-cell):not(.k-hierarchy-cell):visible",aV=T+":first>"+bh+":first",aQ="th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)",bp=".kendoGrid",ah="edit",bb="save",bw="remove",A="detailInit",f="filterMenuInit",a3="columnMenuInit",aa="change",K="columnHide",aX="columnShow",br="saveChanges",O="dataBound",p="detailExpand",aL="detailCollapse",D="k-state-focused",bm="k-state-selected",bu="columnResize",aY="columnReorder",V="columnLock",i="columnUnlock",ba="click",bj="height",ax="tabIndex",aU="function",bq="string",t="Are you sure you want to delete this record?",aR="Delete",an="Cancel",au=/(\}|\#)/ig,aE=/#/ig,af="[\\x20\\t\\r\\n\\f]",aF=new RegExp("(^|"+af+")(k-group-cell|k-hierarchy-cell)("+af+"|$)"),ac=new RegExp("(^|"+af+")(k-filter-row)("+af+"|$)"),az='<a class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',J=false,be=C.support.browser,at=be.msie&&be.version==7,ap=be.msie&&be.version==8;var aN=q.extend({init:function(bz,by){var bA=this;q.fn.init.call(bA,bz,by);bA._refreshHandler=N(bA.refresh,bA);bA.setDataSource(by.dataSource);bA.wrap()},setDataSource:function(bz){var by=this;if(by.dataSource){by.dataSource.unbind(aa,by._refreshHandler)}by.dataSource=bz;by.dataSource.bind(aa,by._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:bc.noop,prefetch:true},destroy:function(){var by=this;q.fn.destroy.call(by);by.dataSource.unbind(aa,by._refreshHandler);by.wrapper.add(by.verticalScrollbar).off(bp);if(by.drag){by.drag.destroy();by.drag=null}by.wrapper=by.element=by.verticalScrollbar=null;by._refreshHandler=null},wrap:function(){var bz=this,bB=C.support.scrollbar()+1,by=bz.element,bA;by.css({width:"auto",overflow:"hidden"}).css((J?"padding-left":"padding-right"),bB);bz.content=by.children().first();bA=bz.wrapper=bz.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+bp+" mousewheel"+bp,N(bz._wheelScroll,bz));if(C.support.kineticScrollNeeded){bz.drag=new C.UserEvents(bz.wrapper,{global:true,start:function(bC){bC.sender.capture()},move:function(bC){bz.verticalScrollbar.scrollTop(bz.verticalScrollbar.scrollTop()-bC.y.delta);bA.scrollLeft(bA.scrollLeft()-bC.x.delta);bC.preventDefault()}})}bz.verticalScrollbar=bc('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:bB}).appendTo(by).bind("scroll"+bp,N(bz._scroll,bz))},_wheelScroll:function(bz){if(bz.ctrlKey){return}var by=this.verticalScrollbar.scrollTop(),bA=C.wheelDeltaY(bz);if(bA){bz.preventDefault();bc(bz.currentTarget).one("wheel"+bp,false);this.verticalScrollbar.scrollTop(by+(-bA))}},_scroll:function(bE){var bD=this,bG=!bD.options.prefetch,bB=bE.currentTarget.scrollTop,by=bD.dataSource,bz=bD.itemHeight,bI=by.skip()||0,bA=bD._rangeStart||bI,bJ=bD.element.innerHeight(),bC=!!(bD._scrollbarTop&&bD._scrollbarTop>bB),bH=aq.max(aq.floor(bB/bz),0),bF=aq.max(bH+aq.floor(bJ/bz),0);bD._scrollTop=bB-(bA*bz);bD._scrollbarTop=bB;bD._scrolling=bG;if(!bD._fetch(bH,bF,bC)){bD.wrapper[0].scrollTop=bD._scrollTop}if(bG){if(bD._scrollingTimeout){clearTimeout(bD._scrollingTimeout)}bD._scrollingTimeout=setTimeout(function(){bD._scrolling=false;bD._page(bD._rangeStart,bD.dataSource.take())},100)}},_fetch:function(bH,bE,bF){var bC=this,by=bC.dataSource,bA=bC.itemHeight,bz=by.take(),bI=bC._rangeStart||by.skip()||0,bG=aq.floor(bH/bz)*bz,bB=false,bD=0.33;if(bH<bI){bB=true;bI=aq.max(0,bE-bz);bC._scrollTop=(bH-bI)*bA;bC._page(bI,bz)}else{if(bE>=bI+bz&&!bF){bB=true;bI=bH;bC._scrollTop=bA;bC._page(bI,bz)}else{if(!bC._fetching&&bC.options.prefetch){if(bH<(bG+bz)-bz*bD&&bH>bz){by.prefetch(bG-bz,bz)}if(bE>bG+bz*bD){by.prefetch(bG+bz,bz)}}}}return bB},_page:function(bB,by){var bA=this,bz=!bA.options.prefetch,bC=bA.dataSource;clearTimeout(bA._timeout);bA._fetching=true;bA._rangeStart=bB;if(bC.inRange(bB,by)){bC.range(bB,by)}else{if(!bz){C.ui.progress(bA.wrapper.parent(),true)}bA._timeout=setTimeout(function(){if(!bA._scrolling){if(bz){C.ui.progress(bA.wrapper.parent(),true)}bC.range(bB,by)}},100)}},repaintScrollbar:function(){var bC=this,bB="",bF=250000,by=bC.dataSource,bG=!C.support.kineticScrollNeeded?C.support.scrollbar():0,bH=bC.wrapper[0],bD,bE,bz;bz=bC.itemHeight=bC.options.itemHeight()||0;var bA=(bH.scrollWidth>bH.offsetWidth)?bG:0;bD=by.total()*bz+bA;for(bE=0;bE<aq.floor(bD/bF);bE++){bB+='<div style="width:1px;height:'+bF+'px"></div>'}if(bD%bF){bB+='<div style="width:1px;height:'+(bD%bF)+'px"></div>'}bC.verticalScrollbar.html(bB);bH.scrollTop=bC._scrollTop},refresh:function(){var by=this,bA=by.dataSource,bz=by._rangeStart;C.ui.progress(by.wrapper.parent(),false);clearTimeout(by._timeout);by.repaintScrollbar();if(by.drag){by.drag.cancel()}if(bz&&!by._fetching){by._rangeStart=bA.skip();if(bA.page()===1){by.verticalScrollbar[0].scrollTop=0}}by._fetching=false}});function a9(by){return new Array(by+1).join('<td class="k-group-cell">&nbsp;</td>')}function s(bA){var bz,by=" ";if(bA){if(typeof bA===bq){return bA}for(bz in bA){by+=bz+'="'+bA[bz]+'"'}}return by}var av={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-primary k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"},excel:{text:"Export to Excel",imageClass:"k-i-excel",className:"k-grid-excel",iconClass:"k-icon"},pdf:{text:"Export to PDF",imageClass:"k-i-pdf",className:"k-grid-pdf",iconClass:"k-icon"}};function M(by){var bz=0;bc("> .k-grouping-header, > .k-grid-toolbar",by).each(function(){bz+=this.offsetHeight});return bz}function o(by,bz){bc("th, th .k-grid-filter, th .k-link",by).add(document.body).css("cursor",bz)}function ae(bA,bE,bB,bD,bC){var bz=bE;bE=bc();bC=bC||1;for(var by=0;by<bC;by++){bE=bE.add(bA.eq(bz+by))}if(typeof bB=="number"){bE[bD?"insertBefore":"insertAfter"](bA.eq(bB))}else{bE.appendTo(bB)}}function bl(by,bA,bz){return bc(by).add(bA).find(bz)}function ar(bC,bA,bz){var by,bD,bE,bB;bz=!d(bz)?[bz]:bz;for(by=0,bD=bz.length;by<bD;by++){bE=bz[by];if(W(bE)&&bE.click){bB=bE.name||bE.text;bA.on(ba+bp,"a.k-grid-"+(bB||"").replace(/\s/g,""),{commandName:bB},N(bE.click,bC))}}}function u(bz,bA,by){return I(bz,function(bB){bB=typeof bB===bq?{field:bB}:bB;var bC;if(!bo(bB)||by){bB.attributes=Y(bB.attributes);bB.footerAttributes=Y(bB.footerAttributes);bB.headerAttributes=Y(bB.headerAttributes);bC=true}if(bB.columns){bB.columns=u(bB.columns,bA,bC)}return aP({encoded:bA,hidden:bC},bB)})}function R(bA,bz){var by=[];aB(bA,bz,by);return by[by.length-1]}function aB(bC,bA,bz){bz=bz||[];for(var by=0;by<bA.length;by++){if(bC===bA[by]){return true}else{if(bA[by].columns){var bB=bz.length;bz.push(bA[by]);if(!aB(bC,bA[by].columns,bz)){bz.splice(bB,bz.length-bB)}else{return true}}}}return false}function w(by,bz){var bA=bz?aD:Y;by.hidden=!bz;by.attributes=bA(by.attributes);by.footerAttributes=bA(by.footerAttributes);by.headerAttributes=bA(by.headerAttributes)}function a1(){return this.style.display!=="none"}function bo(by){return E([by]).length>0}function E(by){return n(by,function(bA){var bz=!bA.hidden;if(bz&&bA.columns){bz=E(bA.columns).length>0}return bz})}function ab(by){return bc(by).map(function(){return this.toArray()})}function aO(bz,bA,by){var bC=bn(k(bA));var bD=bn(bd(bA));var bB=bz.rowSpan;if(by){if(bC>bD){bz.rowSpan=(bB-(bC-bD))||1}else{bz.rowSpan=bB+(bD-bC)}}else{if(bC>bD){bz.rowSpan=bB+(bC-bD)}else{bz.rowSpan=(bB-(bD-bC))||1}}}function bs(bz,bE,bH,bD,bA,bF,bB){var bG=bn(bz);var by=bn([bE]);if(bG>by){var bC=new Array(bB+1).join('<th class="k-group-cell k-header">&nbsp;</th>');var bI=bF.children(":not(.k-filter-row)");bc(new Array((bG-by)+1).join("<tr>"+bC+"</tr>")).insertAfter(bI.last())}e(bF,bG-by);j(bH,bD,bA,bF)}function a2(bE,bB,bC){bC=bC||0;var bD;var bG;var bA=bB;bB=ad(bB);var bH={};var bI=bE.find(">tr:not(.k-filter-row)");var by=function(){var bJ=bc(this);return !bJ.hasClass("k-group-cell")&&!bJ.hasClass("k-hierarchy-cell")};for(var bF=0,bz=bB.length;bF<bz;bF++){bD=ay(bB[bF],bA);if(!bH[bD.row]){bH[bD.row]=bI.eq(bD.row).find(".k-header").filter(by)}bG=bH[bD.row].eq(bD.cell);bG.attr(C.attr("index"),bC+bF)}return bB.length}function bn(bC){var bA=1;var bz=0;for(var by=0;by<bC.length;by++){if(bC[by].columns){var bB=bn(bC[by].columns);if(bB>bz){bz=bB}}}return bA+bz}function j(bG,bB,bz,bE){var bC=am(bG[0],bB);var by=bz.find(">tr:not(.k-filter-row):eq("+bC.row+")>th.k-header");var bH=bc();var bD=bC.cell;var bF;for(bF=0;bF<bG.length;bF++){bH=bH.add(by.eq(bD+bF))}bE.find(">tr:not(.k-filter-row)").eq(bC.row).append(bH);var bA=[];for(bF=0;bF<bG.length;bF++){if(bG[bF].columns){bA=bA.concat(bG[bF].columns)}}if(bA.length){j(bA,bB,bz,bE)}}function ay(bC,bB,bD,bA){var bz;var by;bD=bD||0;bA=bA||{};bA[bD]=bA[bD]||0;for(by=0;by<bB.length;by++){if(bB[by]==bC){bz={cell:bA[bD],row:bD};break}else{if(bB[by].columns){bz=ay(bC,bB[by].columns,bD+1,bA);if(bz){break}}}bA[bD]++}return bz}function ak(bA,bz,bB,bD){var bC;var by=bB.locked;do{bC=bA[bz];bz+=bD?1:-1}while(bC&&bz>-1&&bz<bA.length&&bC!=bB&&!bC.columns&&bC.locked==by);return bC}function aA(bB,bF,bE,bD){if(bF.columns){bF=bF.columns;return bF[bD?0:bF.length-1]}else{var bC=R(bF,bB);var bz;if(bC){bz=bC.columns}else{bz=bB}var bA=G(bF,bz);if(bA===0&&bD){bA++}else{if(bA==bz.length-1&&!bD){bA--}else{if(bA>0||(bA===0&&!bD)){bA+=bD?-1:1}}}var by=G(bE,bz);bF=ak(bz,bA,bE,by>bA);if(bF&&bF!=bE&&bF.columns){return aA(bB,bF,bE,bD)}}return null}function am(bC,bB,bD,bA){var bz;var by;bD=bD||0;bA=bA||{};bA[bD]=bA[bD]||0;for(by=0;by<bB.length;by++){if(bB[by]==bC){bz={cell:bA[bD],row:bD};break}else{if(bB[by].columns){bz=am(bC,bB[by].columns,bD+1,bA);if(bz){break}}}if(!bB[by].hidden){bA[bD]++}}return bz}function b(bz){var by=x(k(bz));return by.concat(x(bd(bz)))}function x(bB){var bz=[];var bA=[];for(var by=0;by<bB.length;by++){bz.push(bB[by]);if(bB[by].columns){bA=bA.concat(bB[by].columns)}}if(bA.length){bz=bz.concat(x(bA))}return bz}function aK(bA){var bz=0;var bB;for(var by=0;by<bA.length;by++){bB=bA[by];if(bB.columns){bz+=aK(bB.columns)}else{if(bB.hidden){bz++}}}return bz}function ao(bC){var bA,bz=0;for(var by=0,bB=bC.length;by<bB;by++){bA=bC[by].style.width;if(bA&&bA.indexOf("%")==-1){bz+=parseInt(bA,10)}}return bz}function bv(bz,bC){var bA=bz.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)");var bB;for(var by=0;by<bA.length;by++){bB=bA[by].rowSpan;if(bB>1){bA[by].rowSpan=(bB-bC)||1}}}function e(bz,bB){var bA=bz.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)");for(var by=0;by<bA.length;by++){bA[by].rowSpan+=bB}}function B(bz){var bB=bz.find("tr:not(.k-filter-row)");var bC=bB.filter(function(){return !bc(this).children().length}).remove().length;var bA=bB.find("th:not(.k-group-cell,.k-hierarchy-cell)");for(var by=0;by<bA.length;by++){if(bA[by].rowSpan>1){bA[by].rowSpan-=bC}}return bB.length-bC}function ag(bA,bE,bG,bC,bB){var bD,bF,bz,by=[];for(bD=0,bz=bA.length;bD<bz;bD++){bF=bG[bC]||[];bF.push(bE.eq(bB+bD));bG[bC]=bF;if(bA[bD].columns){by=by.concat(bA[bD].columns)}}if(by.length){ag(by,bE,bG,bC+1,bB+bA.length)}}function k(by){return n(by,function(bz){return bz.locked})}function bd(by){return n(by,function(bz){return !bz.locked})}function bk(by){return n(by,function(bz){return !bz.locked&&bo(bz)})}function a6(by){return n(by,function(bz){return bz.locked&&bo(bz)})}function Q(bA){var bz=[];for(var by=0;by<bA.length;by++){if(bA[by].hidden){continue}if(bA[by].columns){bz=bz.concat(Q(bA[by].columns))}else{bz.push(bA[by])}}return bz}function ad(bA){var bz=[];for(var by=0;by<bA.length;by++){if(!bA[by].columns){bz.push(bA[by]);continue}bz=bz.concat(ad(bA[by].columns))}return bz}function r(by){var bC=by.find(">tr:not(.k-filter-row)");var bA=function(){var bD=bc(this);return !bD.hasClass("k-group-cell")&&!bD.hasClass("k-hierarchy-cell")};var bz=bc();if(bC.length>1){bz=bC.find("th").filter(bA).filter(function(){return this.rowSpan>1})}bz=bz.add(bC.last().find("th").filter(bA));var bB=C.attr("index");bz.sort(function(bE,bD){bE=bc(bE);bD=bc(bD);var bG=bE.attr(bB);var bF=bD.attr(bB);if(bG===H){bG=bc(bE).index()}if(bF===H){bF=bc(bD).index()}bG=parseInt(bG,10);bF=parseInt(bF,10);return bG>bF?1:(bG<bF?-1:0)});return bz}function aI(bI){var bA=bI.closest("table");var bK=bc().add(bI);var bJ=bI.closest("tr");var bD=bA.find("tr:not(.k-filter-row)");var bz=bD.index(bJ);if(bz>0){var bH=bD.eq(bz-1);var bF=bH.find("th:not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return !bc(this).attr("rowspan")});var bB=0;var bC=bJ.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(bI);var bE=bI.prevAll(":not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return this.colSpan>1});for(bG=0;bG<bE.length;bG++){bB+=bE[bG].colSpan||1}bC+=Math.max(bB-1,0);bB=0;for(var bG=0;bG<bF.length;bG++){var by=bF.eq(bG);if(by.attr("colSpan")){bB+=by[0].colSpan}else{bB+=1}if(bC>=bG&&bC<bB){bK=aI(by).add(bK);break}}}return bK}function aJ(bJ){var bz=bJ.closest("table");var bM=bc().add(bJ);var bL=bJ.closest("tr");var bF=bz.find("tr:not(.k-filter-row)");var by=bF.index(bL)+bJ[0].rowSpan;var bC=C.attr("colspan");if(by<=bF.length-1){var bA=bL.next();var bE=bL.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(bJ);var bG=bJ.prevAll(":not(.k-group-cell,.k-hierarchy-cell)");var bI;bG=bG.filter(function(){return !this.rowSpan||this.rowSpan===1});var bB=0;for(bI=0;bI<bG.length;bI++){bB+=parseInt(bG.eq(bI).attr(bC),10)||1}var bK=bA.find("th:not(.k-group-cell,.k-hierarchy-cell)");var bD=parseInt(bJ.attr(bC),10)||1;bI=0;while(bI<bD){bA=bK.eq(bI+bB);bM=bM.add(aJ(bA));var bH=parseInt(bA.attr(bC),10);if(bH>1){bD-=bH-1}bI++}}return bM}function a4(by,bB,bA){var bC,bz=by;if(L){by[0].innerHTML=bA}else{bC=document.createElement("div");bC.innerHTML="<table><tbody>"+bA+"</tbody></table>";by=bC.firstChild.firstChild;bB[0].replaceChild(by,bz[0]);by=bc(by)}return by}function Y(by){by=by||{};var bz=by.style;if(!bz){bz="display:none"}else{bz=bz.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none");if(bz===by.style){bz=bz.replace(/(.*)?/i,"display:none;$1")}}return aP({},by,{style:bz})}function aD(by){by=by||{};var bz=by.style;if(bz){by.style=bz.replace(/(display\s*:\s*none\s*;?)*/ig,"")}return by}function bt(bC,bA,bE,by){var bz=bC.find(">colgroup"),bB,bD=I(bA,function(bF){bB=bF.width;if(bB&&parseInt(bB,10)!==0){return C.format('<col style="width:{0}"/>',typeof bB===bq?bB:bB+"px")}return"<col />"});if(bE||bz.find(".k-hierarchy-col").length){bD.splice(0,0,'<col class="k-hierarchy-col" />')}if(bz.length){bz.remove()}bz=bc(new Array(by+1).join('<col class="k-group-col">')+bD.join(""));if(!bz.is("colgroup")){bz=bc("<colgroup/>").append(bz)}bC.prepend(bz);if(be.msie&&be.version==8){bC.css("display","inline-table");window.setTimeout(function(){bC.css("display","")},1)}}function bx(bB,bA){var bC=0;var bz,by;for(bz=0,by=bA.length;bz<by;bz++){if(bA[bz].locked){bB.eq(bz).insertBefore(bB.eq(bC));bC++}}}function al(bC){var bz={},bB,by,bA;for(by=0,bA=bC.length;by<bA;by++){bB=bC[by];bz[bB.value]=bB.text}return bz}function ai(bA,bB,bC){var bz=bC&&bC.length&&W(bC[0])&&"value" in bC[0],by=bz?al(bC)[bA]:bA;by=by!=null?by:"";return bB?C.format(bB,by):by}function c(bA,bz,bD){var bC=0,bB,by=bA[bC];while(by){bB=bD?true:by.style.display!=="none";if(bB&&!aF.test(by.className)&&--bz<0){by.style.display=bD?"":"none";break}by=bA[++bC]}}function aM(bC,bA){var bz=0,bB=bC.length,by,bD;for(;bz<bB;bz+=1){bD=bC.eq(bz);if(bD.is(".k-grouping-row,.k-detail-row")){by=bD.children(":not(.k-group-cell):first,.k-detail-cell").last();by.attr("colspan",parseInt(by.attr("colspan"),10)-1)}else{if(bD.hasClass("k-grid-edit-row")&&(by=bD.children(".k-edit-container")[0])){by=bc(by);by.attr("colspan",parseInt(by.attr("colspan"),10)-1);by.find("col").eq(bA).remove();bD=by.find("tr:first")}c(bD[0].cells,bA,false)}}}function aC(bB){var bz=[];var bA;for(var by=0;by<bB.length;by++){bA=bB[by];if(!("field" in bA&&"value" in bA&&"items" in bA)){break}bz.push(bA);if(bA.hasSubgroups){bz=bz.concat(aC(bA.items))}}return bz}function U(bD,bB){var bz=0,bC=bD.length,by,bE,bA;for(;bz<bC;bz+=1){bE=bD.eq(bz);if(bE.is(".k-grouping-row,.k-detail-row")){by=bE.children(":not(.k-group-cell):first,.k-detail-cell").last();by.attr("colspan",parseInt(by.attr("colspan"),10)+1)}else{if(bE.hasClass("k-grid-edit-row")&&(by=bE.children(".k-edit-container")[0])){by=bc(by);by.attr("colspan",parseInt(by.attr("colspan"),10)+1);bt(by.find(">form>table"),E(bA),false,0);bE=by.find("tr:first")}c(bE[0].cells,bB,true)}}}function aT(bA,bB,bz){bz=bz||1;var bD,by,bC;for(by=0,bC=bA.length;by<bC;by++){bD=bA.eq(by).children().last();bD.attr("colspan",parseInt(bD.attr("colspan"),10)+bz);bD=bB.eq(by).children().last();bD.attr("colspan",parseInt(bD.attr("colspan"),10)-bz)}}function bi(bB){var by,bA,bz=0;var bC=bB.find(">colgroup>col");for(by=0,bA=bC.length;by<bA;by+=1){bz+=parseInt(bC[by].style.width,10)}return bz}var aZ=C.ui.DataBoundWidget.extend({init:function(bA,by,bz){var bB=this;by=d(by)?{dataSource:by}:by;q.fn.init.call(bB,bA,by);if(bz){bB._events=bz}J=C.support.isRtl(bA);bB._element();bB._aria();bB._columns(bB.options.columns);bB._dataSource();bB._tbody();bB._pageable();bB._thead();bB._groupable();bB._toolbar();bB._setContentHeight();bB._templates();bB._navigatable();bB._selectable();bB._clipboard();bB._details();bB._editable();bB._attachCustomCommandsEvent();bB._minScreenSupport();if(bB.options.autoBind){bB.dataSource.fetch()}else{bB._footer()}if(bB.lockedContent){bB.wrapper.addClass("k-grid-lockedcolumns");bB._resizeHandler=function(){bB.resize()};bc(window).on("resize"+bp,bB._resizeHandler)}C.notify(bB)},events:[aa,"dataBinding","cancel",O,p,aL,A,f,a3,ah,bb,bw,br,bu,aY,aX,K,V,i],setDataSource:function(bA){var by=this;var bz=by.options.scrollable;by.options.dataSource=bA;by._dataSource();by._pageable();by._thead();if(bz){if(bz.virtual){by.content.find(">.k-virtual-scrollable-wrap").scrollLeft(0)}else{by.content.scrollLeft(0)}}if(by.options.groupable){by._groupable()}if(by.virtualScrollable){by.virtualScrollable.setDataSource(by.options.dataSource)}if(by.options.navigatable){by._navigatable()}if(by.options.selectable){by._selectable()}if(by.options.autoBind){bA.fetch()}},options:{name:"Grid",columns:[],toolbar:null,autoBind:true,filterable:false,scrollable:true,sortable:false,selectable:false,allowCopy:false,navigatable:false,pageable:false,editable:false,groupable:false,rowTemplate:"",altRowTemplate:"",dataSource:{},height:null,resizable:false,reorderable:false,columnMenu:false,detailTemplate:null,columnResizeHandleWidth:3,mobile:"",messages:{editable:{cancelDelete:an,confirmation:t,confirmDelete:aR},commands:{create:av.create.text,cancel:av.cancel.text,save:av.save.text,destroy:av.destroy.text,edit:av.edit.text,update:av.update.text,canceledit:av.canceledit.text,excel:av.excel.text,pdf:av.pdf.text}}},destroy:function(){var bz=this,by;bz._destroyColumnAttachments();q.fn.destroy.call(bz);if(bz._resizeHandler){bc(window).off("resize"+bp,bz._resizeHandler)}if(bz.pager&&bz.pager.element){bz.pager.destroy()}bz.pager=null;if(bz.groupable&&bz.groupable.element){bz.groupable.element.kendoGroupable("destroy")}bz.groupable=null;if(bz.options.reorderable){bz.wrapper.data("kendoReorderable").destroy()}if(bz.selectable&&bz.selectable.element){bz.selectable.destroy();bz.clearArea();if(bz.copyHandler){bz.wrapper.off("keydown",bz.copyHandler);bz.unbind(bz.copyHandler)}if(bz.updateClipBoardState){bz.unbind(bz.updateClipBoardState);bz.updateClipBoardState=null}if(bz.clearAreaHandler){bz.wrapper.off("keyup",bz.clearAreaHandler)}}bz.selectable=null;if(bz.resizable){bz.resizable.destroy();if(bz._resizeUserEvents){if(bz._resizeHandleDocumentClickHandler){bc(document).off("click",bz._resizeHandleDocumentClickHandler)}bz._resizeUserEvents.destroy();bz._resizeUserEvents=null}bz.resizable=null}if(bz.virtualScrollable&&bz.virtualScrollable.element){bz.virtualScrollable.destroy()}bz.virtualScrollable=null;bz._destroyEditable();if(bz.dataSource){bz.dataSource.unbind(aa,bz._refreshHandler).unbind(a5,bz._progressHandler).unbind(Z,bz._errorHandler);bz._refreshHandler=bz._progressHandler=bz._errorHandler=null}by=bz.element.add(bz.wrapper).add(bz.table).add(bz.thead).add(bz.wrapper.find(">.k-grid-toolbar"));if(bz.content){by=by.add(bz.content).add(bz.content.find(">.k-virtual-scrollable-wrap"))}if(bz.lockedHeader){bz._removeLockedContainers()}if(bz.pane){bz.pane.destroy()}if(bz.minScreenResizeHandler){bc(window).off("resize",bz.minScreenResizeHandler)}if(bz._draggableInstance&&bz._draggableInstance.element){bz._draggableInstance.destroy()}bz._draggableInstance=null;by.off(bp);C.destroy(bz.wrapper);bz.rowTemplate=bz.altRowTemplate=bz.lockedRowTemplate=bz.lockedAltRowTemplate=bz.detailTemplate=bz.footerTemplate=bz.groupFooterTemplate=bz.lockedGroupFooterTemplate=null;bz.scrollables=bz.thead=bz.tbody=bz.element=bz.table=bz.content=bz.footer=bz.wrapper=bz._groupableClickHandler=bz._setContentWidthHandler=null},getOptions:function(){var bA=this.options;bA.dataSource=null;var bz=aP(true,{},this.options);bz.columns=C.deepExtend([],this.columns);var bB=this.dataSource;var by=bB.options.data&&bB._data;bB.options.data=null;bz.dataSource=bc.extend(true,{},bB.options);bz.dataSource.data=by;bz.dataSource.page=bB.page();bz.dataSource.filter=bB.filter();bz.dataSource.pageSize=bB.pageSize();bz.dataSource.sort=bB.sort();bz.dataSource.group=bB.group();bz.dataSource.aggregate=bB.aggregate();bz.$angular=H;return bz},setOptions:function(bA){var bz=this.getOptions();C.deepExtend(bz,bA);if(!bA.dataSource){bz.dataSource=this.dataSource}var bD=this.wrapper;var bC=this._events;var bB=this.element;this.destroy();this.options=null;if(this._isMobile){var by=bD.closest(C.roleSelector("pane")).parent();by.after(bD);by.remove();bD.removeClass("k-grid-mobile")}if(bD[0]!==bB[0]){bD.before(bB);bD.remove()}bB.empty();this.init(bB,bz,bC);this._setEvents(bz)},items:function(){if(this.lockedContent){return this._items(this.tbody).add(this._items(this.lockedTable.children("tbody")))}else{return this._items(this.tbody)}},_items:function(by){return by.children().filter(function(){var bz=bc(this);return !bz.hasClass("k-grouping-row")&&!bz.hasClass("k-detail-row")&&!bz.hasClass("k-group-footer")})},dataItems:function(){var by=C.ui.DataBoundWidget.fn.dataItems.call(this);if(this.lockedContent){var bB=by.length,bA=new Array(2*bB);for(var bz=bB;--bz>=0;){bA[bz]=bA[bz+bB]=by[bz]}by=bA}return by},_destroyColumnAttachments:function(){var by=this;by.resizeHandle=null;if(!by.thead){return}this.angular("cleanup",function(){return{elements:by.thead.get()}});by.thead.find("th").each(function(){var bz=bc(this),bC=bz.data("kendoFilterMenu"),bB=bz.data("kendoColumnSorter"),bA=bz.data("kendoColumnMenu");if(bC){bC.destroy()}if(bB){bB.destroy()}if(bA){bA.destroy()}})},_attachCustomCommandsEvent:function(){var bB=this,bz=ad(bB.columns||[]),bC,by,bA;for(by=0,bA=bz.length;by<bA;by++){bC=bz[by].command;if(bC){ar(bB,bB.wrapper,bC)}}},_aria:function(){var by=this.element.attr("id")||"aria";if(by){this._cellId=by+"_active_cell"}},_element:function(){var bz=this,by=bz.element;if(!by.is("table")){if(bz.options.scrollable){by=bz.element.find("> .k-grid-content > table")}else{by=bz.element.children("table")}if(!by.length){by=bc("<table />").appendTo(bz.element)}}if(at){by.attr("cellspacing",0)}bz.table=by.attr("role",bz._hasDetails()?"treegrid":"grid");bz._wrapper()},_createResizeHandle:function(bz,bA){var bG=this;var bE=bG.options.columnResizeHandleWidth;var bI=bG.options.scrollable;var bK=bG.resizeHandle;var bB=this._groups();var bD;if(bK&&bG.lockedContent&&bK.data("th")[0]!==bA[0]){bK.off(bp).remove();bK=null}if(!bK){bK=bG.resizeHandle=bc('<div class="k-resize-handle"><div class="k-resize-handle-inner"></div></div>');bz.append(bK)}if(!J){bD=bA[0].offsetWidth;var bL=r(bA.closest("thead"));for(var bJ=0;bJ<bL.length;bJ++){if(bL[bJ]==bA[0]){break}bD+=bL[bJ].offsetWidth}if(bB>0){bD+=bz.find(".k-group-cell:first").outerWidth()*bB}if(bG._hasDetails()){bD+=bz.find(".k-hierarchy-cell:first").outerWidth()}}else{bD=bA.position().left;if(bI){var bH=bA.closest(".k-grid-header-wrap, .k-grid-header-locked"),by=be.msie?bH.scrollLeft():0,bC=be.webkit?(bH[0].scrollWidth-bH[0].offsetWidth-bH.scrollLeft()):0,bF=be.mozilla?(bH[0].scrollWidth-bH[0].offsetWidth-(bH[0].scrollWidth-bH[0].offsetWidth-bH.scrollLeft())):0;bD-=bC-bF+by}}bK.css({top:bA.position().top,left:bD-bE,height:bA.outerHeight(),width:bE*3}).data("th",bA).show();bK.off("dblclick"+bp).on("dblclick"+bp,function(){bG._autoFitLeafColumn(bA.data("index"))})},_positionColumnResizeHandle:function(by){var bz=this,bA=bz.options.columnResizeHandleWidth,bB=bz.lockedHeader?bz.lockedHeader.find("thead:first"):bc();bz.thead.add(bB).on("mousemove"+bp,"th",function(bG){var bE=bc(this);if(bE.hasClass("k-group-cell")||bE.hasClass("k-hierarchy-cell")){return}var bD=bG.clientX,bF=bc(window).scrollLeft(),bC=bE.offset().left+(!J?this.offsetWidth:0);if(bD+bF>bC-bA&&bD+bF<bC+bA){bz._createResizeHandle(bE.closest("div"),bE)}else{if(bz.resizeHandle){bz.resizeHandle.hide()}else{o(bz.wrapper,"")}}})},_resizeHandleDocumentClick:function(by){if(bc(by.target).closest(".k-column-active").length){return}bc(document).off(by);this._hideResizeHandle()},_hideResizeHandle:function(){if(this.resizeHandle){this.resizeHandle.data("th").removeClass("k-column-active");if(this.lockedContent&&!this._isMobile){this.resizeHandle.off(bp).remove();this.resizeHandle=null}else{this.resizeHandle.hide()}}},_positionColumnResizeHandleTouch:function(by){var bz=this,bA=bz.lockedHeader?bz.lockedHeader.find("thead:first"):bc();bz._resizeUserEvents=new C.UserEvents(bA.add(bz.thead),{filter:"th:not(.k-group-cell):not(.k-hierarchy-cell)",threshold:10,hold:function(bC){var bB=bc(bC.target);bC.preventDefault();bB.addClass("k-column-active");bz._createResizeHandle(bB.closest("div"),bB);if(!bz._resizeHandleDocumentClickHandler){bz._resizeHandleDocumentClickHandler=N(bz._resizeHandleDocumentClick,bz)}bc(document).on("click",bz._resizeHandleDocumentClickHandler)}})},_resizable:function(){var bE=this,bI=bE.options,bz,bC,bB,bF,bG=this._isMobile,bH=!C.support.mobileOS?C.support.scrollbar():0,by,bD,bA;if(bI.resizable){bz=bI.scrollable?bE.wrapper.find(".k-grid-header-wrap:first"):bE.wrapper;if(bG){bE._positionColumnResizeHandleTouch(bz)}else{bE._positionColumnResizeHandle(bz)}if(bE.resizable){bE.resizable.destroy()}bE.resizable=new aw.Resizable(bz.add(bE.lockedHeader),{handle:(!!bI.scrollable?"":">")+".k-resize-handle",hint:function(bJ){return bc('<div class="k-grid-resize-indicator" />').css({height:bJ.data("th").outerHeight()+bE.tbody.attr("clientHeight")})},start:function(bL){bA=bc(bL.currentTarget).data("th");if(bG){bE._hideResizeHandle()}var bN=bA.closest("table"),bK=bc.inArray(bA[0],r(bA.closest("thead")).filter(":visible"));by=bN.parent().hasClass("k-grid-header-locked");var bJ=by?bE.lockedTable:bE.table,bM=bE.footer||bc();if(bE.footer&&bE.lockedContent){bM=by?bE.footer.children(".k-grid-footer-locked"):bE.footer.children(".k-grid-footer-wrap")}o(bE.wrapper,"col-resize");if(bI.scrollable){bD=bN.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+bK+")").add(bJ.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+bK+")")).add(bM.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+bK+")"))}else{bD=bJ.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+bK+")")}bC=bL.x.location;bB=bA.outerWidth();bF=by?bJ.children("tbody").outerWidth():bE.tbody.outerWidth();if(be.webkit){bE.wrapper.addClass("k-grid-column-resizing")}},resize:function(bN){var bO=J?-1:1,bK=bB+(bN.x.location*bO)-(bC*bO);if(bI.scrollable){var bQ;if(by&&bE.lockedFooter){bQ=bE.lockedFooter.children("table")}else{if(bE.footer){bQ=bE.footer.find(">.k-grid-footer-wrap>table")}}if(!bQ||!bQ[0]){bQ=bc()}var bL=bA.closest("table");var bR=by?bE.lockedTable:bE.table;var bP=false;var bM=bE.wrapper.width()-bH;var bJ=bK;if(by&&bF-bB+bJ>bM){bJ=bB+(bM-bF-bH*2);if(bJ<0){bJ=bK}bP=true}if(bJ>10){bD.css("width",bJ);if(bF){if(bP){bJ=bM-bH*2}else{bJ=bF+(bN.x.location*bO)-(bC*bO)}bR.add(bL).add(bQ).css("width",bJ);if(!by){bE._footerWidth=bJ}}}}else{if(bK>10){bD.css("width",bK)}}},resizeend:function(){var bL=bA.outerWidth(),bK,bM;o(bE.wrapper,"");if(be.webkit){bE.wrapper.removeClass("k-grid-column-resizing")}if(bB!=bL){bM=bE.lockedHeader?bE.lockedHeader.find("thead:first tr:first").add(bE.thead.find("tr:first")):bA.parent();var bJ=bA.attr(C.attr("index"));if(!bJ){bJ=bM.find("th:not(.k-group-cell):not(.k-hierarchy-cell)").index(bA)}bK=ad(bE.columns)[bJ];bK.width=bL;bE.trigger(bu,{column:bK,oldWidth:bB,newWidth:bL});bE._applyLockedContainersWidth();bE._syncLockedContentHeight();bE._syncLockedHeaderHeight()}bE._hideResizeHandle();bA=null}})}},_draggable:function(){var by=this;if(by.options.reorderable){if(by._draggableInstance){by._draggableInstance.destroy()}by._draggableInstance=by.wrapper.kendoDraggable({group:C.guid(),filter:by.content?".k-grid-header:first "+aQ:"table:first>.k-grid-header "+aQ,drag:function(){by._hideResizeHandle()},hint:function(bz){return bc('<div class="k-header k-drag-clue" />').css({width:bz.width(),paddingLeft:bz.css("paddingLeft"),paddingRight:bz.css("paddingRight"),lineHeight:bz.height()+"px",paddingTop:bz.css("paddingTop"),paddingBottom:bz.css("paddingBottom")}).html(bz.attr(C.attr("title"))||bz.attr(C.attr("field"))||bz.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}}).data("kendoDraggable")}},_reorderable:function(){var bz=this;if(bz.options.reorderable){if(bz.wrapper.data("kendoReorderable")){bz.wrapper.data("kendoReorderable").destroy()}var by=function(bC,bA,bB){var bE=bC[bA];var bF=bC[bB];var bD=R(bE,bz.columns);bC=bD?bD.columns:bz.columns;return G(bF,bC)};bz.wrapper.kendoReorderable({draggable:bz._draggableInstance,dragOverContainers:function(bA,bB){var bC=b(bz.columns);return bC[bA].lockable!==false&&by(bC,bA,bB)>-1},inSameContainer:function(bA){return bc(bA.source).parent()[0]===bc(bA.target).parent()[0]&&by(b(bz.columns),bA.sourceIndex,bA.targetIndex)>-1},change:function(bD){var bB=b(bz.columns);var bC=bB[bD.oldIndex];var bA=by(bB,bD.oldIndex,bD.newIndex);bz.trigger(aY,{newIndex:bA,oldIndex:G(bC,bB),column:bC});bz.reorderColumn(bA,bC,bD.position==="before")}})}},_reorderHeader:function(bz,bD,bF){var bC=this;var bB=ay(bz[0],bC.columns);var bE=ay(bD,bC.columns);var bH=[];for(var bG=0;bG<bz.length;bG++){if(bz[bG].columns){bH=bH.concat(bz[bG].columns)}}var by=bl(bC.lockedHeader,bC.thead,"tr:eq("+bB.row+")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)");var bI=k(bz).length;var bA=k([bD]).length;if(bH.length){if(bI>0&&bA===0){bs(bz,bD,bH,bC.columns,bC.lockedHeader.find("thead"),bC.thead,this._groups())}else{if(bI===0&&bA>0){bs(bz,bD,bH,bC.columns,bC.thead,bC.lockedHeader.find("thead"),this._groups())}}if(bD.columns||bB.cell-bE.cell>1||bE.cell-bB.cell>1){bD=aA(bC.columns,bD,bz[0],bF);if(bD){bC._reorderHeader(bH,bD,bF)}}}else{if(bI!==bA){aO(by[bB.cell],bC.columns,bI)}}ae(by,bB.cell,bE.cell,bF,bz.length)},_reorderContent:function(bz,bM,bI){var bE=this;var bD=bc();var bL=bz[0];var bF=E(bz);var bB=G(bL,ad(bE.columns));var bQ=G(bM,ad(bE.columns));var bC=G(bL,Q(bE.columns));var by=G(bM,Q(bE.columns));var bP=k(bE.columns).length;var bG=!!bM.locked;var bK=bE.footer||bE.wrapper.find(".k-grid-footer");var bN,bO;bN=bO=by;if(bM.hidden){if(bG){by=bE.lockedTable.find("colgroup");bN=bE.lockedHeader.find("colgroup");bO=bc(bE.lockedFooter).find(">table>colgroup")}else{by=bE.tbody.prev();bN=bE.thead.prev();bO=bK.find(".k-grid-footer-wrap").find(">table>colgroup")}}if(bE._hasFilterRow()){ae(bE.wrapper.find(".k-filter-row th:not(.k-group-cell,.k-hierarchy-cell)"),bB,bQ,bI,bz.length)}ae(bl(bE.lockedHeader,bE.thead.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),bC,bN,bI,bF.length);if(bE.options.scrollable){ae(bl(bE.lockedTable,bE.tbody.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),bC,by,bI,bF.length)}if(bK&&bK.length){ae(bl(bE.lockedFooter,bK.find(".k-grid-footer-wrap"),">table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),bC,bO,bI,bF.length);ae(bK.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),bB,bQ,bI,bz.length)}var bH=bE.tbody.children(":not(.k-grouping-row,.k-detail-row)");if(bE.lockedTable){if(bP>bQ){if(bP<=bB){aT(bE.lockedTable.find(">tbody>tr.k-grouping-row"),bE.table.find(">tbody>tr.k-grouping-row"),bz.length)}}else{if(bP>bB){aT(bE.table.find(">tbody>tr.k-grouping-row"),bE.lockedTable.find(">tbody>tr.k-grouping-row"),bz.length)}}bD=bE.lockedTable.find(">tbody>tr:not(.k-grouping-row,.k-detail-row)")}for(var bJ=0,bA=bH.length;bJ<bA;bJ+=1){ae(bl(bD[bJ],bH[bJ],">td:not(.k-group-cell,.k-hierarchy-cell)"),bB,bQ,bI,bz.length)}},_autoFitLeafColumn:function(by){this.autoFitColumn(ad(this.columns)[by])},autoFitColumn:function(bz){var bG=this,bC=bG.options,by=bG.columns,bF,bE,bQ,bM,bI,bS=bG.lockedHeader?r(bG.lockedHeader.find(">table>thead")).filter(a1).length:0,bD;if(typeof bz=="number"){bz=by[bz]}else{if(W(bz)){bz=n(x(by),function(bW){return bW===bz})[0]}else{bz=n(x(by),function(bW){return bW.field===bz})[0]}}if(!bz||!bo(bz)){return}bF=G(bz,ad(by));bI=bz.locked;if(bI){bM=bG.lockedHeader.children("table")}else{bM=bG.thead.parent()}bE=bM.find("[data-index='"+bF+"']");var bR=bI?bG.lockedTable:bG.table,bO=bG.footer||bc();if(bG.footer&&bG.lockedContent){bO=bI?bG.footer.children(".k-grid-footer-locked"):bG.footer.children(".k-grid-footer-wrap")}var bU=bO.find("table").first();if(bG.lockedHeader&&bS>=bF&&!bI){bF-=bS}for(var bP=0;bP<by.length;bP++){if(by[bP]===bz){break}else{if(by[bP].hidden){bF--}}}if(bC.scrollable){bD=bM.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+bF+")").add(bR.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+bF+")")).add(bU.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+bF+")"))}else{bD=bR.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+bF+")")}var bH=bM.add(bR).add(bU);var bV=bE.outerWidth();bD.width("");bH.css("table-layout","fixed");bD.width("auto");bH.addClass("k-autofitting");bH.css("table-layout","");var bJ=Math.max(bM.width(),bR.width(),bU.width());var bK=Math.ceil(Math.max(bE.outerWidth(),bR.find("tr").eq(0).children("td:visible").eq(bF).outerWidth(),bU.find("tr").eq(0).children("td:visible").eq(bF).outerWidth()));bD.width(bK);bz.width=bK;if(bC.scrollable){var bL=bM.find("col"),bT,bA=0;for(var bN=0,bB=bL.length;bN<bB;bN+=1){bT=bL[bN].style.width;if(bT&&bT.indexOf("%")==-1){bA+=parseInt(bT,10)}else{bA=0;break}}if(bA){bH.each(function(){this.style.width=bA+"px"})}}if(be.msie&&be.version==8){bH.css("display","inline-table");setTimeout(function(){bH.css("display","table")},1)}bH.removeClass("k-autofitting");bG.trigger(bu,{column:bz,oldWidth:bV,newWidth:bK});bG._applyLockedContainersWidth();bG._syncLockedContentHeight();bG._syncLockedHeaderHeight()},reorderColumn:function(bC,bA,bG){var bD=this,bH=R(bA,bD.columns),bB=bH?bH.columns:bD.columns,bE=G(bA,bB),bF=bB[bC],bz,by=!!bF.locked,bI=k(bD.columns).length;if(bE===bC){return}if(!bA.locked&&by&&bd(bD.columns).length==1){return}if(bA.locked&&!by&&bI==1){return}bD._hideResizeHandle();if(bG===H){bG=bC<bE}var bJ=[bA];bD._reorderHeader(bJ,bF,bG);if(bD.lockedHeader){B(bD.thead);B(bD.lockedHeader)}if(bF.columns){bF=ad(bF.columns);bF=bF[bG?0:bF.length-1]}if(bA.columns){bJ=ad(bA.columns)}bD._reorderContent(bJ,bF,bG);bz=!!bA.locked;bz=bz!=by;bA.locked=by;bB.splice(bG?bC:bC+1,0,bA);bB.splice(bE<bC?bE:bE+1,1);bD._templates();bD._updateColumnCellIndex();bD._updateTablesWidth();bD._applyLockedContainersWidth();bD._syncLockedHeaderHeight();bD._syncLockedContentHeight();bD._updateFirstColumnClass();if(!bz){return}if(by){bD.trigger(V,{column:bA})}else{bD.trigger(i,{column:bA})}},_updateColumnCellIndex:function(){var bz;var by=0;if(this.lockedHeader){bz=this.lockedHeader.find("thead");by=a2(bz,k(this.columns))}a2(this.thead,bd(this.columns),by)},lockColumn:function(bA){var bz=this.columns;if(typeof bA=="number"){bA=bz[bA]}else{bA=n(bz,function(bB){return bB.field===bA})[0]}if(!bA||bA.locked||bA.hidden){return}var by=k(bz).length-1;this.reorderColumn(by,bA,false)},unlockColumn:function(bA){var bz=this.columns;if(typeof bA=="number"){bA=bz[bA]}else{bA=n(bz,function(bB){return bB.field===bA})[0]}if(!bA||!bA.locked||bA.hidden){return}var by=k(bz).length;this.reorderColumn(by,bA,true)},cellIndex:function(bz){var by=0;if(this.lockedTable&&!bc.contains(this.lockedTable[0],bz[0])){by=ad(k(this.columns)).length}return bc(bz).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(bz)+by},_modelForContainer:function(by){by=bc(by);if(!by.is("tr")&&this._editMode()!=="popup"){by=by.closest("tr")}var bz=by.attr(C.attr("uid"));return this.dataSource.getByUid(bz)},_editable:function(){var bB=this,by=bB.selectable&&bB.selectable.options.multiple,bz=bB.options.editable,bA=function(){var bE=X(),bD=bB._editContainer;if(bD&&!bc.contains(bD[0],bE)&&bD[0]!==bE&&!bc(bE).closest(".k-animation-container").length){if(bB.editable.end()){bB.closeCell()}}};if(bz){var bC=bB._editMode();if(bC==="incell"){if(bz.update!==false){bB.wrapper.on(ba+bp,"tr:not(.k-grouping-row) > td",function(bE){var bF=bc(this),bD=bB.lockedTable&&bF.closest("table")[0]===bB.lockedTable[0];if(bF.hasClass("k-hierarchy-cell")||bF.hasClass("k-detail-cell")||bF.hasClass("k-group-cell")||bF.hasClass("k-edit-cell")||bF.has("a.k-grid-delete").length||bF.has("button.k-grid-delete").length||(bF.closest("tbody")[0]!==bB.tbody[0]&&!bD)||bc(bE.target).is(":input")){return}if(bB.editable){if(bB.editable.end()){if(by){bc(X()).blur()}bB.closeCell();bB.editCell(bF)}}else{bB.editCell(bF)}}).on("focusin"+bp,function(){clearTimeout(bB.timer);bB.timer=null}).on("focusout"+bp,function(){bB.timer=setTimeout(bA,1)})}}else{if(bz.update!==false){bB.wrapper.on(ba+bp,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(bD){bD.preventDefault();bB.editRow(bc(this).closest("tr"))})}}if(bz.destroy!==false){bB.wrapper.on(ba+bp,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(bD){bD.preventDefault();bD.stopPropagation();bB.removeRow(bc(this).closest("tr"))})}else{bB.wrapper.on(ba+bp,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(bD){bD.stopPropagation();if(!bB._confirmation()){bD.preventDefault()}})}}},editCell:function(by){by=bc(by);var bB=this,bA=ad(bB.columns)[bB.cellIndex(by)],bz=bB._modelForContainer(by);bB.closeCell();if(bz&&(!bz.editable||bz.editable(bA.field))&&!bA.command&&bA.field){bB._attachModelChange(bz);bB._editContainer=by;bB.editable=by.addClass("k-edit-cell").kendoEditable({fields:{field:bA.field,format:bA.format,editor:bA.editor,values:bA.values},model:bz,target:bB,change:function(bD){if(bB.trigger(bb,{values:bD.values,container:by,model:bz})){bD.preventDefault()}}}).data("kendoEditable");var bC=by.parent().addClass("k-grid-edit-row");if(bB.lockedContent){aS(bC[0],bB._relatedRow(bC).addClass("k-grid-edit-row")[0])}bB.trigger(ah,{container:by,model:bz})}},_adjustLockedHorizontalScrollBar:function(){var bz=this.table,by=bz.parent();var bA=bz[0].offsetWidth>by[0].clientWidth?C.support.scrollbar():0;this.lockedContent.height(by.height()-bA)},_syncLockedContentHeight:function(){if(this.lockedTable){if(!this.touchScroller){this._adjustLockedHorizontalScrollBar()}this._adjustRowsHeight(this.table,this.lockedTable)}},_syncLockedHeaderHeight:function(){if(this.lockedHeader){var by=this.lockedHeader.children("table");var bz=this.thead.parent();this._adjustRowsHeight(by,bz);aH(by,bz)}},_syncLockedFooterHeight:function(){if(this.lockedFooter&&this.footer&&this.footer.length){this._adjustRowsHeight(this.lockedFooter.children("table"),this.footer.find(".k-grid-footer-wrap > table"))}},_destroyEditable:function(){var bz=this;var by=function(){if(bz.editable){var bA=bz.editView?bz.editView.element:bz._editContainer;if(bA){bA.off(ba+bp,"a.k-grid-cancel",bz._editCancelClickHandler);bA.off(ba+bp,"a.k-grid-update",bz._editUpdateClickHandler)}bz._detachModelChange();bz.editable.destroy();bz.editable=null;bz._editContainer=null;bz._destroyEditView()}};if(bz.editable){if(bz._editMode()==="popup"&&!bz._isMobile){bz._editContainer.data("kendoWindow").bind("deactivate",by).close()}else{by()}}if(bz._actionSheet){bz._actionSheet.destroy();bz._actionSheet=null}},_destroyEditView:function(){if(this.editView){this.editView.purge();this.editView=null;this.pane.navigate("")}},_attachModelChange:function(by){var bz=this;bz._modelChangeHandler=function(bA){bz._modelChange({field:bA.field,model:this})};by.bind("change",bz._modelChangeHandler)},_detachModelChange:function(){var bA=this,by=bA._editContainer,bz=bA._modelForContainer(by);if(bz){bz.unbind(aa,bA._modelChangeHandler)}},closeCell:function(bA){var bC=this,by=bC._editContainer,bE,bB,bD,bz;if(!by){return}bE=by.closest("tr").attr(C.attr("uid"));bz=bC.dataSource.getByUid(bE);if(bA&&bC.trigger("cancel",{container:by,model:bz})){return}by.removeClass("k-edit-cell");bB=ad(bC.columns)[bC.cellIndex(by)];bD=by.parent().removeClass("k-grid-edit-row");bC._destroyEditable();bC._displayCell(by,bB,bz);if(by.hasClass("k-dirty-cell")){bc('<span class="k-dirty"/>').prependTo(by)}if(bC.lockedContent){aS(bD.css("height","")[0],bC._relatedRow(bD).css("height","")[0])}},_displayCell:function(by,bC,bA){var bD=this,bE={storage:{},count:0},bB=aP({},C.Template,bD.options.templateSettings),bz=C.template(bD._cellTmpl(bC,bE),bB);if(bE.count>0){bz=N(bz,bE.storage)}by.empty().html(bz(bA));bD.angular("compile",function(){return{elements:by,data:[{dataItem:bA}]}})},removeRow:function(by){if(!this._confirmation(by)){return}this._removeRow(by)},_removeRow:function(bB){var bz=this,by,bA=bz._editMode();if(bA!=="incell"){bz.cancelRow()}bB=bc(bB).hide();by=bz._modelForContainer(bB);if(by&&!bz.trigger(bw,{row:bB,model:by})){bz.dataSource.remove(by);if(bA==="inline"||bA==="popup"){bz.dataSource.sync()}}else{if(bA==="incell"){bz._destroyEditable()}}},_editMode:function(){var bz="incell",by=this.options.editable;if(by!==true){if(typeof by=="string"){bz=by}else{bz=by.mode||bz}}return bz},editRow:function(bC){var bz;var bA=this;if(bC instanceof C.data.ObservableObject){bz=bC}else{bC=bc(bC);bz=bA._modelForContainer(bC)}var bB=bA._editMode();var by;bA.cancelRow();if(bz){bA._attachModelChange(bz);if(bB==="popup"){bA._createPopupEditor(bz)}else{if(bB==="inline"){bA._createInlineEditor(bC,bz)}else{if(bB==="incell"){bc(bC).children(S).each(function(){var bD=bc(this);var bE=ad(bA.columns)[bD.index()];bz=bA._modelForContainer(bD);if(bz&&(!bz.editable||bz.editable(bE.field))&&bE.field){bA.editCell(bD);return false}})}}}by=bA.editView?bA.editView.element:bA._editContainer;if(by){if(!this._editCancelClickHandler){this._editCancelClickHandler=N(this._editCancelClick,this)}by.on(ba+bp,"a.k-grid-cancel",this._editCancelClickHandler);if(!this._editUpdateClickHandler){this._editUpdateClickHandler=N(this._editUpdateClick,this)}by.on(ba+bp,"a.k-grid-update",this._editUpdateClickHandler)}}},_editUpdateClick:function(by){by.preventDefault();by.stopPropagation();this.saveRow()},_editCancelClick:function(bC){var bB=this;var bD=bB.options.navigatable;var bA=bB.editable.options.model;var bz=bB.editView?bB.editView.element:bB._editContainer;bC.preventDefault();bC.stopPropagation();if(bB.trigger("cancel",{container:bz,model:bA})){return}var by=bB.items().index(bc(bB.current()).parent());bB.cancelRow();if(bD){bB.current(bB.items().eq(by).children().filter(bh).first());a8(bB.table,true)}},_createPopupEditor:function(bB){var bF=this,bH="<div "+C.attr("uid")+'="'+bB.uid+'" class="k-popup-edit-form'+(bF._isMobile?" k-mobile-list":"")+'"><div class="k-edit-form-container">',bz,bC,bM=[],bK,bD,bG,bP,bI,bL,by=ad(bF.columns),bN,bO=bF.options.editable,bR=bO.template,bA=W(bO)?bO.window:{},bQ=aP({},C.Template,bF.options.templateSettings);bA=bA||{};if(bR){if(typeof bR===bq){bR=window.unescape(bR)}bH+=(C.template(bR,bQ))(bB);for(bK=0,bD=by.length;bK<bD;bK++){bz=by[bK];if(bz.command){bL=F(bz.command,"edit");if(bL){bC=bL}}}}else{for(bK=0,bD=by.length;bK<bD;bK++){bz=by[bK];if(!bz.command){bH+='<div class="k-edit-label"><label for="'+bz.field+'">'+(bz.title||bz.field||"")+"</label></div>";if((!bB.editable||bB.editable(bz.field))&&bz.field){bM.push({field:bz.field,format:bz.format,editor:bz.editor,values:bz.values});bH+="<div "+C.attr("container-for")+'="'+bz.field+'" class="k-edit-field"></div>'}else{var bE={storage:{},count:0};bG=C.template(bF._cellTmpl(bz,bE),bQ);if(bE.count>0){bG=N(bG,bE.storage)}bH+='<div class="k-edit-field">'+bG(bB)+"</div>"}}else{if(bz.command){bL=F(bz.command,"edit");if(bL){bC=bL}}}}}if(bC){if(W(bC)){if(bC.text&&W(bC.text)){bP=bC.text.update;bI=bC.text.cancel}if(bC.attr){bN=bC.attr}}}var bJ;if(!bF._isMobile){bH+='<div class="k-edit-buttons k-state-default">';bH+=bF._createButton({name:"update",text:bP,attr:bN})+bF._createButton({name:"canceledit",text:bI,attr:bN});bH+="</div></div></div>";bJ=bF._editContainer=bc(bH).appendTo(bF.wrapper).eq(0).kendoWindow(aP({modal:true,resizable:false,draggable:true,title:"Edit",visible:false,close:function(bT){if(bT.userTriggered){bT.sender.element.focus();if(bF.trigger("cancel",{container:bJ,model:bB})){bT.preventDefault();return}var bS=bF.items().index(bc(bF.current()).parent());bF.cancelRow();if(bF.options.navigatable){bF.current(bF.items().eq(bS).children().filter(bh).first());a8(bF.table,true)}}}},bA))}else{bH+="</div></div>";bF.editView=bF.pane.append("<div data-"+C.ns+'role="view" data-'+C.ns+'init-widgets="false" class="k-grid-edit-form"><div data-'+C.ns+'role="header" class="k-header">'+bF._createButton({name:"update",text:bP,attr:bN})+(bA.title||"Edit")+bF._createButton({name:"canceledit",text:bI,attr:bN})+"</div>"+bH+"</div>");bJ=bF._editContainer=bF.editView.element.find(".k-popup-edit-form")}bF.editable=bF._editContainer.kendoEditable({fields:bM,model:bB,clearContainer:false,target:bF}).data("kendoEditable");if(bF._isMobile){bJ.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){bc(this).next().children("input").click()})}bF._openPopUpEditor();bF.trigger(ah,{container:bJ,model:bB})},_openPopUpEditor:function(){if(!this._isMobile){this._editContainer.data("kendoWindow").center().open()}else{this.pane.navigate(this.editView,this._editAnimation)}},_createInlineEditor:function(bE,bA){var bC=this,bB,bz,bD,by=[];if(bC.lockedContent){bE=bE.add(bC._relatedRow(bE))}bE.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){bz=bc(this);bB=ad(bC.columns)[bC.cellIndex(bz)];if(!bB.command&&bB.field&&(!bA.editable||bA.editable(bB.field))){by.push({field:bB.field,format:bB.format,editor:bB.editor,values:bB.values});bz.attr(C.attr("container-for"),bB.field);bz.empty()}else{if(bB.command){bD=F(bB.command,"edit");if(bD){bz.empty();var bH,bG,bF;if(W(bD)){if(bD.text&&W(bD.text)){bH=bD.text.update;bG=bD.text.cancel}if(bD.attr){bF=bD.attr}}bc(bC._createButton({name:"update",text:bH,attr:bF})+bC._createButton({name:"canceledit",text:bG,attr:bF})).appendTo(bz)}}}});bC._editContainer=bE;bC.editable=new C.ui.Editable(bE.addClass("k-grid-edit-row"),{target:bC,fields:by,model:bA,clearContainer:false});if(bE.length>1){aS(bE[0],bE[1]);bC._applyLockedContainersWidth()}bC.trigger(ah,{container:bE,model:bA})},cancelRow:function(){var bA=this,by=bA._editContainer,bz,bB;if(by){bz=bA._modelForContainer(by);bA._destroyEditable();bA.dataSource.cancelChanges(bz);if(bA._editMode()!=="popup"){bA._displayRow(by)}else{bA._displayRow(bA.tbody.find("["+C.attr("uid")+"="+bz.uid+"]"))}}},saveRow:function(){var bB=this,by=bB._editContainer,bz=bB._modelForContainer(by),bA=bB.editable;if(by&&bA&&bA.end()&&!bB.trigger(bb,{container:by,model:bz})){bB.dataSource.sync()}},_displayRow:function(bF){var bD=this,bB=bD._modelForContainer(bF),bE,bA,bC,bz=bF.hasClass("k-state-selected"),by=bF.hasClass("k-alt");if(bB){if(bD.lockedContent){bE=bc((by?bD.lockedAltRowTemplate:bD.lockedRowTemplate)(bB));bD._relatedRow(bF.last()).replaceWith(bE)}bD.angular("cleanup",function(){return{elements:bF.get()}});bA=bc((by?bD.altRowTemplate:bD.rowTemplate)(bB));bF.replaceWith(bA);bD.angular("compile",function(){return{elements:bA.get(),data:[{dataItem:bB}]}});if(bz&&bD.options.selectable){bD.select(bA.add(bE))}if(bE){aS(bA[0],bE[0])}bC=bA.next();if(bC.hasClass("k-detail-row")&&bC.is(":visible")){bA.find(".k-hierarchy-cell .k-icon").removeClass("k-plus").addClass("k-minus")}}},_showMessage:function(bC,bD){var bB=this;if(!bB._isMobile){return window.confirm(bC.title)}var bA=C.template('<ul><li class="km-actionsheet-title">#:title#</li><li><a href="\\#" class="k-button k-grid-delete">#:confirmDelete#</a></li></ul>');var by=bc(bA(bC)).appendTo(bB.view.element);var bz=bB._actionSheet=new C.mobile.ui.ActionSheet(by,{cancel:bC.cancelDelete,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(bF){var bE=bc(bF.currentTarget).parent();if(!bE.hasClass("km-actionsheet-cancel")){bB._removeRow(bD)}},popup:bB._actionSheetPopupOptions});bz.open(bD);return false},_confirmation:function(bB){var bA=this,by=bA.options.editable,bz=by===true||typeof by===bq?bA.options.messages.editable.confirmation:by.confirmation;if(bz!==false&&bz!=null){if(typeof bz===aU){bz=bz(bA._modelForContainer(bB))}return bA._showMessage({confirmDelete:by.confirmDelete||bA.options.messages.editable.confirmDelete,cancelDelete:by.cancelDelete||bA.options.messages.editable.cancelDelete,title:bz===true?bA.options.messages.editable.confirmation:bz},bB)}return true},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){var by=this;if(((by.editable&&by.editable.end())||!by.editable)&&!by.trigger(br)){by.dataSource.sync()}},addRow:function(){var bC=this,bE,by=bC.dataSource,bB=bC._editMode(),bD=bC.options.editable.createAt||"",bF=by.pageSize(),bG=by.view()||[];if((bC.editable&&bC.editable.end())||!bC.editable){if(bB!="incell"){bC.cancelRow()}bE=by.indexOf(bG[0]);if(bD.toLowerCase()=="bottom"){bE+=bG.length;if(bF&&!by.options.serverPaging&&bF<=bG.length){bE-=1}}if(bE<0){if(by.page()>by.totalPages()){bE=(by.page()-1)*bF}else{bE=0}}var bA=by.insert(bE,{}),bz=bA.uid,bI=bC.lockedContent?bC.lockedTable:bC.table,bJ=bI.find("tr["+C.attr("uid")+"="+bz+"]"),bH=bJ.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(bC._firstEditableColumnIndex(bJ));if(bB==="inline"&&bJ.length){bC.editRow(bJ)}else{if(bB==="popup"){bC.editRow(bA)}else{if(bH.length){bC.editCell(bH)}}}if(bD.toLowerCase()=="bottom"&&bC.lockedContent){bC.lockedContent[0].scrollTop=bC.content[0].scrollTop=bC.content[0].offsetHeight}}},_firstEditableColumnIndex:function(bz){var bE=this,bC,bB=ad(bE.columns),by,bD,bA=bE._modelForContainer(bz);for(by=0,bD=bB.length;by<bD;by++){bC=bB[by];if(bA&&(!bA.editable||bA.editable(bC.field))&&!bC.command&&bC.field&&bC.hidden!==true){return by}}return -1},_toolbar:function(){var bB=this,bC=bB.wrapper,bA=bB.options.toolbar,bz=bB.options.editable,by;if(bA){by=bB.wrapper.find(".k-grid-toolbar");if(!by.length){if(!bf(bA)){bA=(typeof bA===bq?bA:bB._toolbarTmpl(bA).replace(aE,"\\#"));bA=N(C.template(bA),bB)}by=bc('<div class="k-header k-grid-toolbar" />').html(bA({})).prependTo(bC);bB.angular("compile",function(){return{elements:by.get()}})}if(bz&&bz.create!==false){by.on(ba+bp,".k-grid-add",function(bD){bD.preventDefault();bB.addRow()}).on(ba+bp,".k-grid-cancel-changes",function(bD){bD.preventDefault();bB.cancelChanges()}).on(ba+bp,".k-grid-save-changes",function(bD){bD.preventDefault();bB.saveChanges()})}by.on(ba+bp,".k-grid-excel",function(bD){bD.preventDefault();bB.saveAsExcel()});by.on(ba+bp,".k-grid-pdf",function(bD){bD.preventDefault();bB.saveAsPDF()})}},_toolbarTmpl:function(bz){var bC=this,by,bB,bA="";if(d(bz)){for(by=0,bB=bz.length;by<bB;by++){bA+=bC._createButton(bz[by])}}return bA},_createButton:function(bE){var bB=bE.template||az,bz=typeof bE===bq?bE:bE.name||bE.text,bA=av[bz]?av[bz].className:"k-grid-"+(bz||"").replace(/\s/g,""),by={className:bA,text:bz,imageClass:"",attr:"",iconClass:""},bD=this.options.messages.commands,bC;if(!bz&&!(W(bE)&&bE.template)){throw new Error("Custom commands should have name specified")}if(W(bE)){if(bE.className&&G(by.className,bE.className.split(" "))<0){bE.className+=" "+by.className}else{if(bE.className===H){bE.className=by.className}}if(bz==="edit"&&W(bE.text)){bE=aP(true,{},bE);bE.text=bE.text.edit}if(bE.attr){if(W(bE.attr)){bE.attr=s(bE.attr)}if(typeof bE.attr===bq){bC=bE.attr.match(/class="(.+?)"/);if(bC&&G(bC[1],bE.className.split(" "))<0){bE.className+=" "+bC[1]}}}by=aP(true,by,av[bz],{text:bD[bz]},bE)}else{by=aP(true,by,av[bz],{text:bD[bz]})}return C.template(bB)(by)},_hasFooters:function(){return !!this.footerTemplate||!!this.groupFooterTemplate||(this.footer&&this.footer.length>0)||this.wrapper.find(".k-grid-footer").length>0},_groupable:function(){var by=this;if(by._groupableClickHandler){by.table.add(by.lockedTable).off(ba+bp,by._groupableClickHandler)}else{by._groupableClickHandler=function(bB){var bz=bc(this),bA=bz.closest("tr");if(bz.hasClass("k-i-collapse")){by.collapseGroup(bA)}else{by.expandGroup(bA)}bB.preventDefault();bB.stopPropagation()}}if(by._isLocked()){by.lockedTable.on(ba+bp,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",by._groupableClickHandler)}else{by.table.on(ba+bp,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",by._groupableClickHandler)}by._attachGroupable()},_attachGroupable:function(){var bB=this,bC=bB.wrapper,bz=bB.options.groupable,by=aQ+"["+C.attr("field")+"]",bA=bB.content?".k-grid-header:first "+by:"table:first>.k-grid-header "+by;if(bz&&bz.enabled!==false){if(!bC.has("div.k-grouping-header")[0]){bc("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(bC)}if(bB.groupable){bB.groupable.destroy()}bB.groupable=new z(bC,aP({},bz,{draggable:bB._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:bB.dataSource,draggableElements:bA,filter:bA,allowDrag:bB.options.reorderable}))}},_continuousItems:function(bA,bE){if(!this.lockedContent){return}var bC=this;var by=bC.table.add(bC.lockedTable);var bF=bc(bA,by[0]);var bz=bc(bA,by[1]);var bB=bE?k(bC.columns).length:1;var bH=bE?bC.columns.length-bB:1;var bG=[];for(var bD=0;bD<bF.length;bD+=bB){h.apply(bG,bF.slice(bD,bD+bB));h.apply(bG,bz.splice(0,bH))}return bG},_selectable:function(){var bC=this,bE,by,bA=[],bF=bC._isLocked(),bz=bC.options.selectable;if(bz){if(bC.selectable){bC.selectable.destroy()}bz=C.ui.Selectable.parseOptions(bz);bE=bz.multiple;by=bz.cell;if(bC._hasDetails()){bA[bA.length]=".k-detail-row"}if(bC.options.groupable||bC._hasFooters()){bA[bA.length]=".k-grouping-row,.k-group-footer"}bA=bA.join(",");if(bA!==""){bA=":not("+bA+")"}var bD=bC.table;if(bF){bD=bD.add(bC.lockedTable)}var bB=">"+(by?l:"tbody>tr"+bA);bC.selectable=new C.ui.Selectable(bD,{filter:bB,aria:true,multiple:bE,change:function(){bC.trigger(aa)},useAllItems:bF&&bE&&by,relatedTarget:function(bI){if(by||!bF){return}var bK;var bH=bc();for(var bG=0,bJ=bI.length;bG<bJ;bG++){bK=bC._relatedRow(bI[bG]);if(G(bK[0],bI)<0){bH=bH.add(bK)}}return bH},continuousItems:function(){return bC._continuousItems(bB,by)}});if(bC.options.navigatable){bD.on("keydown"+bp,function(bI){var bH=bC.current();var bG=bI.target;if(bI.keyCode===aj.SPACEBAR&&bc.inArray(bG,bD)>-1&&!bH.is(".k-edit-cell,.k-header")&&bH.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){bI.preventDefault();bI.stopPropagation();bH=by?bH:bH.parent();if(bF&&!by){bH=bH.add(bC._relatedRow(bH))}if(bE){if(!bI.ctrlKey){bC.selectable.clear()}else{if(bH.hasClass(bm)){bH.removeClass(bm);bC.trigger(aa);return}}}else{bC.selectable.clear()}bC.selectable.value(bH)}})}}},_clipboard:function(){var bz=this.options;var by=bz.selectable;if(by&&bz.allowCopy){var bA=this;if(!bz.navigatable){bA.table.add(bA.lockedTable).attr("tabindex",0).on("mousedown"+bp+" keydown"+bp,".k-detail-cell",function(bB){if(bB.target!==bB.currentTarget){bB.stopImmediatePropagation()}}).on("mousedown"+bp,T+">"+bh,N(P,bA))}bA.copyHandler=N(bA.copySelection,bA);bA.updateClipBoardState=function(){if(bA.areaClipBoard){bA.areaClipBoard.val(bA.getTSV()).focus().select()}};bA.bind("change",bA.updateClipBoardState);bA.wrapper.on("keydown",bA.copyHandler);bA.clearAreaHandler=N(bA.clearArea,bA);bA.wrapper.on("keyup",bA.clearAreaHandler)}},copySelection:function(by){if((by instanceof jQuery.Event&&!(by.ctrlKey||by.metaKey))||bc(by.target).is("input:visible,textarea:visible")||(window.getSelection&&window.getSelection().toString())||(document.selection&&document.selection.createRange().text)){return}if(!this.areaClipBoard){this.areaClipBoard=bc("<textarea />").css({position:"fixed",top:"50%",left:"50%",opacity:0,width:0,height:0}).appendTo(this.wrapper)}this.areaClipBoard.val(this.getTSV()).focus().select()},getTSV:function(){var by=this;var bC=by.select();var bz="\t";var bB=by.options.allowCopy;if(bc.isPlainObject(bB)&&bB.delimeter){bz=bB.delimeter}var bE="";if(bC.length){if(bC.eq(0).is("tr")){bC=bC.find("td:not(.k-group-cell)")}var bH=[];var bF=this.columns.length;var bG=by._isLocked()&&k(by.columns).length;var bA=true;bc.each(bC,function(bJ,bI){bI=bc(bI);var bM=bI.closest("tr");var bN=bM.index();var bK=bI.index();if(bG&&bA){bA=bc.contains(by.lockedTable[0],bI[0])}if(by._groups()&&bA){bK-=by._groups()}bK=bA?bK:(bK+bG);if(bF>bK){bF=bK}var bL=bI.text();if(!bH[bN]){bH[bN]=[]}bH[bN][bK]=bL});var bD=bH.length;bH=bc.each(bH,function(bI,bJ){if(bJ){bH[bI]=bJ.slice(bF);if(bD>bI){bD=bI}}});bc.each(bH.slice(bD),function(bI,bJ){if(bJ){bE+=bJ.join(bz)+"\r\n"}else{bE+="\r\n"}})}return bE},clearArea:function(by){if(this.areaClipBoard&&by&&by.target===this.areaClipBoard[0]){if(this.options.navigatable){bc(this.current()).closest("table").focus()}else{this.table.focus()}}if(this.areaClipBoard){this.areaClipBoard.remove();this.areaClipBoard=null}},_minScreenSupport:function(){var by=this.hideMinScreenCols();if(by){this.minScreenResizeHandler=N(this.hideMinScreenCols,this);bc(window).on("resize",this.minScreenResizeHandler)}},hideMinScreenCols:function(){var bD=this.columns,bC=false,bB=(window.innerWidth>0)?window.innerWidth:screen.width;for(var bz=0;bz<bD.length;bz++){var by=bD[bz];var bA=by.minScreenWidth;if(bA!==H&&bA!==null){bC=true;if(bA>bB){this.hideColumn(by)}else{this.showColumn(by)}}}return bC},_relatedRow:function(bB){var bz=this.lockedTable;bB=bc(bB);if(!bz){return bB}var bA=bB.closest(this.table.add(this.lockedTable));var by=bA.find(">tbody>tr").index(bB);bA=bA[0]===this.table[0]?bz:this.table;return bA.find(">tbody>tr").eq(by)},clearSelection:function(){var by=this;by.selectable.clear();by.trigger(aa)},select:function(by){var bA=this,bz=bA.selectable;by=bc(by);if(by.length){if(!bz.options.multiple){bz.clear();by=by.first()}if(bA._isLocked()){by=by.add(by.map(function(){return bA._relatedRow(this)}))}bz.value(by);return}return bz.value()},current:function(by){var bB=this,bC=bB.options.scrollable,bD=bB._current,bA=bB.table.add(bB.thead.parent());if(by!==H&&by.length){if(!bD||bD[0]!==by[0]){if(bD){bD.removeClass(D).removeAttr("id");bA.removeAttr("aria-activedescendant")}by.attr("id",bB._cellId);bB._current=by.addClass(D);bA.attr("aria-activedescendant",bB._cellId);if(by.length&&bC){var bz=by.closest("table").parent();if(bz.is(".k-grid-content")){bB._scrollTo(by.parent()[0],bB.content[0])}else{if(bz.is(".k-grid-content-locked")){bB._scrollTo(bB._relatedRow(by.parent())[0],bB.content[0]);if(!bC.virtual){bB.lockedContent[0].scrollTop=bB.content[0].scrollTop}}}if(!bz.is(".k-grid-content-locked,.k-grid-header-locked")){if(bC.virtual){bB._scrollTo(by[0],bB.content.find(">.k-virtual-scrollable-wrap")[0])}else{bB._scrollTo(by[0],bB.content[0])}}}}}return bB._current},_removeCurrent:function(){if(this._current){this._current.removeClass(D);this._current=null}},_scrollTo:function(bB,bz){var bG=bB.tagName.toLowerCase(),bE=bG==="td"||bG==="th",by=bB[bE?"offsetLeft":"offsetTop"],bD=bB[bE?"offsetWidth":"offsetHeight"],bF=bz[bE?"scrollLeft":"scrollTop"],bA=bz[bE?"clientWidth":"clientHeight"],bC=by+bD,bH=0;if(bF>by){bH=by}else{if(bC>(bF+bA)){if(bD<=bA){bH=(bC-bA)}else{bH=by}}else{bH=bF}}bz[bE?"scrollLeft":"scrollTop"]=bH},_navigatable:function(){var bC=this,by=N(bC.current,bC),bB=bC.table.add(bC.lockedTable),bA=bC.thead.parent().add(bc(">table",bC.lockedHeader)),bE=bC._isLocked(),bD=bB,bz=C.support.isRtl(bC.element);if(!bC.options.navigatable){return}if(bC.options.scrollable){bD=bB.add(bA);bA.attr(ax,-1)}bD.off("mousedown"+bp+" focus"+bp+" focusout"+bp+" keydown"+bp);bA.on("keydown"+bp,function(bF){if(bF.altKey&&bF.keyCode==aj.DOWN){by().find(".k-grid-filter, .k-header-column-menu").click();bF.stopImmediatePropagation()}}).find("a.k-link").attr("tabIndex",-1);bB.attr(ax,aq.max(bB.attr(ax)||0,0)).on("mousedown"+bp+" keydown"+bp,".k-detail-cell",function(bF){if(bF.target!==bF.currentTarget){bF.stopImmediatePropagation()}});bD.on((C.support.touch?"touchstart"+bp:"mousedown"+bp),T+">"+bh,N(P,bC)).on("focus"+bp,function(){if(C.support.touch){return}var bF=by();if(bF&&bF.is(":visible")){bF.addClass(D)}else{by(bc(this).find(aV))}bB.attr(ax,-1);bA.attr(ax,-1);bc(this).attr(ax,0)}).on("focusout"+bp,function(){var bF=by();if(bF){bF.removeClass(D)}}).on("keydown"+bp,function(bV){var bW=bV.keyCode,bM=false,bT=!bV.isDefaultPrevented()&&!bc(bV.target).is(":button,a,:input,a>.k-icon"),bL=bC.options.pageable,bU=bC.dataSource,bO=bC._editMode()=="incell",bI,bF,bJ,bK,bH,bQ=bV.shiftKey,bN=N(bC._relatedRow,bC),bR=by();if(bR&&bR.is("th")){bT=true}if(bT&&bW==aj.UP){by(g(bR,bV.currentTarget,bB,bA,true,k(bC.columns).length));bM=true}else{if(bT&&bW==aj.DOWN){by(g(bR,bV.currentTarget,bB,bA,false,k(bC.columns).length));bM=true}else{if(bT&&bW==(bz?aj.RIGHT:aj.LEFT)){by(m(bR,bV.currentTarget,bB,bA,bN));bM=true}else{if(bT&&bW==(bz?aj.LEFT:aj.RIGHT)){by(v(bR,bV.currentTarget,bB,bA,bN));bM=true}else{if(bT&&bL&&aj.PAGEDOWN==bW){bU.page(bU.page()+1);bM=true}else{if(bT&&bL&&aj.PAGEUP==bW){bU.page(bU.page()-1);bM=true}else{if(bW==aj.ENTER||aj.F2==bW){bR=bR?bR:bB.find(aV);if(!bR.length){return}if(!bc(bV.target).is("table")&&!bc.contains(bR[0],bV.target)){bR=bc(bV.target).closest("[role=gridcell]")}if(bR.is("th")){bR.find(".k-link").click();bM=true}else{if(bR.parent().is(".k-master-row,.k-grouping-row")){bR.parent().find(".k-icon:first").click();bM=true}else{var bS=bR.find(":kendoFocusable:first");if(!bR.hasClass("k-edit-cell")&&bS[0]&&bR.hasClass("k-state-focused")){bS.focus();bM=true}else{if(bC.options.editable&&!bc(bV.target).is(":button,.k-button,textarea")){var bP=bc(bV.target).closest("[role=gridcell]");if(!bP[0]){bP=bR}bC._handleEditing(bP,false,bO?bV.currentTarget:bB[0]);bM=true}}}}}else{if(aj.ESC==bW){bI=X();if(bR&&bc.contains(bR[0],bI)&&!bR.hasClass("k-edit-cell")&&!bR.parent().hasClass("k-grid-edit-row")){a8(bV.currentTarget,true);bM=true}else{if(bC._editContainer&&(!bR||bC._editContainer.has(bR[0])||bR[0]===bC._editContainer[0])){if(bO){bC.closeCell(true)}else{bF=bc(bR).parent().index();if(bI){bI.blur()}bC.cancelRow();if(bF>=0){bC.current(bB.find(">tbody>tr").eq(bF).children().filter(bh).first())}}if(be.msie&&be.version<9){document.body.focus()}a8(bO?bV.currentTarget:bB[0],true);bM=true}}}else{if(aj.TAB==bW){var bG;bR=bc(bR);if(bC.options.editable&&bO){bG=bc(X()).closest(".k-edit-cell");if(bG[0]&&bG[0]!==bR[0]){bR=bG}}bG=a0(bR,bV.currentTarget,bB,bN,bQ);if(!bR.is("th")&&bG.length&&bC.options.editable&&bO){bC._handleEditing(bR,bG,bG.closest(bB));bM=true}}}}}}}}}}if(bM){bV.preventDefault();bV.stopPropagation()}})},_handleEditing:function(bF,bB,bI){var bE=this,bA=bc(X()),bC=bE._editMode(),by=be.msie,bD=by&&be.version<9,bG=bE._editContainer,bH,bz;bI=bc(bI);if(bC=="incell"){bz=bF.hasClass("k-edit-cell")}else{bz=bF.parent().hasClass("k-grid-edit-row")}if(bE.editable){if(bc.contains(bG[0],bA[0])){if(be.opera||bD){bA.change().triggerHandler("blur")}else{bA.blur();if(by){bA.blur()}}}if(!bE.editable){a8(bI);return}if(bE.editable.end()){if(bC=="incell"){bE.closeCell()}else{bE.saveRow();bz=true}}else{if(bC=="incell"){bE.current(bG)}else{bE.current(bG.children().filter(S).first())}bH=bG.find(":kendoFocusable:first")[0];if(bH){bH.focus()}return}}if(bB){bE.current(bB)}if(bD){document.body.focus()}a8(bI,true);if((!bz&&!bB)||bB){if(bC=="incell"){bE.editCell(bE.current())}else{bE.editRow(bE.current().parent())}}},_wrapper:function(){var bA=this,bz=bA.table,by=bA.options.height,bB=bA.element;if(!bB.is("div")){bB=bB.wrap("<div/>").parent()}bA.wrapper=bB.addClass("k-grid k-widget");if(by){bA.wrapper.css(bj,by);bz.css(bj,"auto")}bA._initMobile()},_initMobile:function(){var by=this.options;var bA=this;this._isMobile=(by.mobile===true&&C.support.mobileOS)||by.mobile==="phone"||by.mobile==="tablet";if(this._isMobile){var bz=this.wrapper.addClass("k-grid-mobile").wrap("<div data-"+C.ns+'role="view" data-'+C.ns+'init-widgets="false"></div>').parent();this.pane=C.mobile.ui.Pane.wrap(bz);this.view=this.pane.view();this._actionSheetPopupOptions=bc(document.documentElement).hasClass("km-root")?{modal:false}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"};if(by.height){this.pane.element.parent().css(bj,by.height)}this._editAnimation="slide";this.view.bind("show",function(){if(bA._isLocked()){bA._updateTablesWidth();bA._applyLockedContainersWidth();bA._syncLockedContentHeight();bA._syncLockedHeaderHeight();bA._syncLockedFooterHeight()}})}},_tbody:function(){var bA=this,bz=bA.table,by;by=bz.find(">tbody");if(!by.length){by=bc("<tbody/>").appendTo(bz)}bA.tbody=by.attr("role","rowgroup")},_scrollable:function(){var bB=this,bA,bE,bG=bB.options,bC=bG.scrollable,bz=bC!==true&&bC.virtual&&!bB.virtualScrollable,bF=!C.support.kineticScrollNeeded||bz?C.support.scrollbar():0;if(bC){bA=bB.wrapper.children(".k-grid-header");if(!bA[0]){bA=bc('<div class="k-grid-header" />').insertBefore(bB.table)}bA.css((J?"padding-left":"padding-right"),bC.virtual?bF+1:bF);bE=bc('<table role="grid" />');if(at){bE.attr("cellspacing",0)}bE.width(bB.table[0].style.width);bE.append(bB.thead);bA.empty().append(bc('<div class="k-grid-header-wrap" />').append(bE));bB.content=bB.table.parent();if(bB.content.is(".k-virtual-scrollable-wrap, .km-scroll-container")){bB.content=bB.content.parent()}if(!bB.content.is(".k-grid-content, .k-virtual-scrollable-wrap")){bB.content=bB.table.wrap('<div class="k-grid-content" />').parent()}if(bz){bB.virtualScrollable=new aN(bB.content,{dataSource:bB.dataSource,itemHeight:function(){return bB._averageRowHeight()}})}bB.scrollables=bA.children(".k-grid-header-wrap");var bD=bB.wrapper.find(".k-grid-footer");if(bD.length){bB.scrollables=bB.scrollables.add(bD.children(".k-grid-footer-wrap"))}if(bC.virtual){bB.content.find(">.k-virtual-scrollable-wrap").unbind("scroll"+bp).bind("scroll"+bp,function(){bB.scrollables.scrollLeft(this.scrollLeft);if(bB.lockedContent){bB.lockedContent[0].scrollTop=this.scrollTop}})}else{bB.content.unbind("scroll"+bp).bind("scroll"+bp,function(){bB.scrollables.scrollLeft(this.scrollLeft);if(bB.lockedContent){bB.lockedContent[0].scrollTop=this.scrollTop}});var by=bB.content.data("kendoTouchScroller");if(by){by.destroy()}by=C.touchScroller(bB.content);if(by&&by.movable){bB.touchScroller=by;by.movable.bind("change",function(bH){bB.scrollables.scrollLeft(-bH.sender.x);if(bB.lockedContent){bB.lockedContent.scrollTop(-bH.sender.y)}});bB.one(O,function(bH){bH.sender.wrapper.addClass("k-grid-backface")})}}}},_setContentWidth:function(bC){var bB=this,bA="k-grid-content-expander",bz='<div class="'+bA+'"></div>',by=bB.resizable,bD;if(bB.options.scrollable&&bB.wrapper.is(":visible")){bD=bB.table.parent().children("."+bA);bB._setContentWidthHandler=N(bB._setContentWidth,bB);if(!bB.dataSource||!bB.dataSource.view().length){if(!bD[0]){bD=bc(bz).appendTo(bB.table.parent());if(by){by.bind("resize",bB._setContentWidthHandler)}}if(bB.thead){bD.width(bB.thead.width());if(bC){bB.content.scrollLeft(bC)}}}else{if(bD[0]){bD.remove();if(by){by.unbind("resize",bB._setContentWidthHandler)}}}bB._applyLockedContainersWidth()}},_applyLockedContainersWidth:function(){if(this.options.scrollable&&this.lockedHeader){var bG=this.thead.parent(),bE=bG.parent(),by=this.wrapper[0].clientWidth,bB=this._groups(),bH=C.support.scrollbar(),bF=this.lockedHeader.find(">table>colgroup>col:not(.k-group-col, .k-hierarchy-col)"),bA=bG.find(">colgroup>col:not(.k-group-col, .k-hierarchy-col)"),bz=ao(bF),bD=ao(bA),bC;if(bB>0){bz+=this.lockedHeader.find(".k-group-cell:first").outerWidth()*bB}if(bz>=by){bz=by-3*bH}this.lockedHeader.add(this.lockedContent).width(bz);bE[0].style.width=bE.parent().width()-bz-2+"px";bG.add(this.table).width(bD);if(this.virtualScrollable){by-=bH}this.content[0].style.width=by-bz-2+"px";if(this.lockedFooter&&this.lockedFooter.length){this.lockedFooter.width(bz);bC=this.footer.find(".k-grid-footer-wrap");bC[0].style.width=bE[0].clientWidth+"px";bC.children().first().width(bD)}}},_setContentHeight:function(){var bB=this,bz=bB.options,by=bB.wrapper.innerHeight(),bD=bB.wrapper.children(".k-grid-header"),bC=C.support.scrollbar();if(bz.scrollable&&bB.wrapper.is(":visible")){by-=bD.outerHeight();if(bB.pager){by-=bB.pager.element.outerHeight()}if(bz.groupable){by-=bB.wrapper.children(".k-grouping-header").outerHeight()}if(bz.toolbar){by-=bB.wrapper.children(".k-grid-toolbar").outerHeight()}if(bB.footerTemplate){by-=bB.wrapper.children(".k-grid-footer").outerHeight()}var bA=function(bG){var bF,bE;if(bG[0].style.height){return true}else{bF=bG.height()}bG.height("auto");bE=bG.height();if(bF!=bE){bG.height("");return true}bG.height("");return false};if(bA(bB.wrapper)){if(by>bC*2){if(bB.lockedContent){bC=bB.table[0].offsetWidth>bB.table.parent()[0].clientWidth?bC:0;bB.lockedContent.height(by-bC)}bB.content.height(by)}else{bB.content.height(bC*2+1)}}}},_averageRowHeight:function(){var bB=this,by=bB._items(bB.tbody).length,bA=bB._rowHeight;if(by===0){return bA}if(!bB._rowHeight){bB._rowHeight=bA=bB.table.outerHeight()/by;bB._sum=bA;bB._measures=1}var bz=bB.table.outerHeight()/by;if(bA!==bz){bB._measures++;bB._sum+=bz;bB._rowHeight=bB._sum/bB._measures}return bA},_dataSource:function(){var bA=this,bz=bA.options,by,bB=bz.dataSource;bB=d(bB)?{data:bB}:bB;if(W(bB)){aP(bB,{table:bA.table,fields:bA.columns});by=bz.pageable;if(W(by)&&by.pageSize!==H){bB.pageSize=by.pageSize}}if(bA.dataSource&&bA._refreshHandler){bA.dataSource.unbind(aa,bA._refreshHandler).unbind(a5,bA._progressHandler).unbind(Z,bA._errorHandler)}else{bA._refreshHandler=N(bA.refresh,bA);bA._progressHandler=N(bA._requestStart,bA);bA._errorHandler=N(bA._error,bA)}bA.dataSource=y.create(bB).bind(aa,bA._refreshHandler).bind(a5,bA._progressHandler).bind(Z,bA._errorHandler)},_error:function(){this._progress(false)},_requestStart:function(){this._progress(true)},_modelChange:function(bO){var bG=this,by=bG.tbody,bC=bO.model,bE=bG.tbody.find("tr["+C.attr("uid")+"="+bC.uid+"]"),bK,bz,bA,bB=bE.hasClass("k-alt"),bP,bL=bG._items(by).index(bE),bH=bG.lockedContent,bJ,bF,bN,bI,bD;if(bH){bK=bG._relatedRow(bE)}if(bE.add(bK).children(".k-edit-cell").length&&!bG.options.rowTemplate){bE.add(bK).children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){bz=bc(this);bA=ad(bG.columns)[bG.cellIndex(bz)];if(bA.field===bO.field){if(!bz.hasClass("k-edit-cell")){bG._displayCell(bz,bA,bC);bc('<span class="k-dirty"/>').prependTo(bz)}else{bz.addClass("k-dirty-cell")}}})}else{if(!bE.hasClass("k-grid-edit-row")){bF=bc().add(bE);if(bH){bP=(bB?bG.lockedAltRowTemplate:bG.lockedRowTemplate)(bC);bF=bF.add(bK);bK.replaceWith(bP)}bG.angular("cleanup",function(){return{elements:bF.get()}});bP=(bB?bG.altRowTemplate:bG.rowTemplate)(bC);bE.replaceWith(bP);bP=bG._items(by).eq(bL);var bM=[{dataItem:bC}];if(bH){bE=bE.add(bK);bK=bG._relatedRow(bP)[0];aS(bP[0],bK);bP=bP.add(bK);bM.push({dataItem:bC})}bG.angular("compile",function(){return{elements:bP.get(),data:bM}});bJ=bG.options.selectable;if(bJ&&bE.hasClass("k-state-selected")){bG.select(bP)}bI=bF.children(":not(.k-group-cell,.k-hierarchy-cell)");bN=bP.children(":not(.k-group-cell,.k-hierarchy-cell)");for(bL=0,bD=bG.columns.length;bL<bD;bL++){bA=bG.columns[bL];bz=bN.eq(bL);if(bJ&&bI.eq(bL).hasClass("k-state-selected")){bz.addClass("k-state-selected")}if(bA.field===bO.field){bc('<span class="k-dirty"/>').prependTo(bz)}}bG.trigger("itemChange",{item:bP,data:bC,ns:aw})}}},_pageable:function(){var bz=this,bA,by=bz.options.pageable;if(by){bA=bz.wrapper.children("div.k-grid-pager");if(!bA.length){bA=bc('<div class="k-pager-wrap k-grid-pager"/>').appendTo(bz.wrapper)}if(bz.pager){bz.pager.destroy()}if(typeof by==="object"&&by instanceof C.ui.Pager){bz.pager=by}else{bz.pager=new C.ui.Pager(bA,aP({},by,{dataSource:bz.dataSource}))}}},_footer:function(){var bE=this,bD=bE.dataSource.aggregates(),bC="",bG=bE.footerTemplate,bH=bE.options,bB,bF=bE.footer||bE.wrapper.find(".k-grid-footer");if(bG){bC=bc(bE._wrapFooter(bG(bD)));if(bF.length){var bA=bC;bE.angular("cleanup",function(){return{elements:bF.get()}});bF.replaceWith(bA);bF=bE.footer=bA}else{if(bH.scrollable){bF=bE.footer=bH.pageable?bC.insertBefore(bE.wrapper.children("div.k-grid-pager")):bC.appendTo(bE.wrapper)}else{bF=bE.footer=bC.insertBefore(bE.tbody)}}bE.angular("compile",function(){return{elements:bF.find("td:not(.k-group-cell, .k-hierarchy-cell)").get(),data:I(bE.columns,function(bI,bJ){return{column:bI,aggregate:bD[bI.field]}})}})}else{if(bF&&!bE.footer){bE.footer=bF}}if(bF.length){if(bH.scrollable){bB=bF.attr("tabindex",-1).children(".k-grid-footer-wrap");bE.scrollables=bE.scrollables.filter(function(){return !bc(this).is(".k-grid-footer-wrap")}).add(bB)}if(bE._footerWidth){bF.find("table").css("width",bE._footerWidth)}if(bB){var bz=bE.content.scrollLeft();var by=bH.scrollable!==true&&bH.scrollable.virtual&&!bE.virtualScrollable;if(by){bz=bE.wrapper.find(".k-virtual-scrollable-wrap").scrollLeft()}bB.scrollLeft(bz)}}if(bE.lockedContent){bE._appendLockedColumnFooter();bE._applyLockedContainersWidth();bE._syncLockedFooterHeight()}},_wrapFooter:function(bz){var bA=this,by="",bB=!C.support.mobileOS?C.support.scrollbar():0;if(bA.options.scrollable){by=bc('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(at?' cellspacing="0"':"")+"><tbody>"+bz+"</tbody></table></div></div>");bA._appendCols(by.find("table"));by.css((J?"padding-left":"padding-right"),bB);return by}return'<tfoot class="k-grid-footer">'+bz+"</tfoot>"},_columnMenu:function(){var bM=this,bz,bB=ad(bM.columns),bE,bG=bM.options,bJ=bG.columnMenu,bL,bC,bD,bH,bN=n(bM.columns,function(bQ){return bQ.columns!==H}).length>0,bP=this._isMobile,bF=function(bQ){bM.trigger(a3,{field:bQ.field,container:bQ.container})},bK=function(bQ){a8(bQ.closest("table"),true)},by=bG.$angular;if(bJ){if(typeof bJ=="boolean"){bJ={}}bH=r(bM.thead);for(var bO=0,bI=bH.length;bO<bI;bO++){bE=bB[bO];var bA=bH.eq(bO);if(!bE.command&&(bE.field||bA.attr("data-"+C.ns+"field"))){bz=bA.data("kendoColumnMenu");if(bz){bz.destroy()}bC=bE.sortable!==false&&bJ.sortable!==false&&bG.sortable!==false?aP({},bG.sortable,{compare:(bE.sortable||{}).compare}):false;bD=bG.filterable&&bE.filterable!==false&&bJ.filterable!==false?aP({pane:bM.pane},bG.filterable,bE.filterable):false;if(bE.filterable&&bE.filterable.dataSource){bD.forceUnique=false;bD.checkSource=bE.filterable.dataSource}if(bD){bD.format=bE.format}bL={dataSource:bM.dataSource,values:bE.values,columns:bJ.columns,sortable:bC,filterable:bD,messages:bJ.messages,owner:bM,closeCallback:bK,init:bF,pane:bM.pane,filter:bP?":not(.k-column-active)":"",lockedColumns:!bN&&bE.lockable!==false&&k(bB).length>0};if(by){bL.$angular=by}bA.kendoColumnMenu(bL)}}}},_headerCells:function(){return this.thead.find("th").filter(function(){var by=bc(this);return !by.hasClass("k-group-cell")&&!by.hasClass("k-hierarchy-cell")})},_filterable:function(){var bF=this,bC=ad(bF.columns),bD,bI,bH,bB=function(bK){bF.trigger(f,{field:bK.field,container:bK.container})},bz=function(bK){a8(bK.closest("table"),true)},by=bF.options.filterable;if(by&&typeof by.mode==bq&&by.mode.indexOf("menu")==-1){by=false}if(by&&!bF.options.columnMenu){bI=r(bF.thead);for(var bG=0,bA=bI.length;bG<bA;bG++){bH=bI.eq(bG);if(bC[bG].filterable!==false&&!bC[bG].command&&(bC[bG].field||bH.attr("data-"+C.ns+"field"))){bD=bH.data("kendoFilterMenu");if(bD){bD.destroy()}var bE=bC[bG].filterable;var bJ=aP({},by,bE,{dataSource:bF.dataSource,values:bC[bG].values,format:bC[bG].format,closeCallback:bz,init:bB,pane:bF.pane});if(bE&&bE.messages){bJ.messages=aP(true,{},by.messages,bE.messages)}if(bE&&bE.dataSource){bJ.forceUnique=false;bJ.checkSource=bE.dataSource}if(bE&&bE.multi){bH.kendoFilterMultiCheck(bJ)}else{bH.kendoFilterMenu(bJ)}}}}},_filterRow:function(){var bJ=this;if(!bJ._hasFilterRow()){return}var bC=ad(bJ.columns),by=bJ.options.filterable,bD=bJ.thead.find(".k-filter-row");this._updateHeader(this.dataSource.group().length);for(var bI=0;bI<bC.length;bI++){var bz,bB=bC[bI],bF=bJ.options.filterable.operators,bH=false,bA=bc("<th/>"),bK=bB.field;if(bB.hidden){bA.hide()}bD.append(bA);if(bK&&bB.filterable!==false){var bG=bB.filterable&&bB.filterable.cell||{};bz=bJ.options.dataSource;if(bz instanceof y){bz=bJ.options.dataSource.options}var bE=aP(true,{},by.messages);if(bB.filterable){aP(true,bE,bB.filterable.messages)}if(bG.enabled===false){bA.html("&nbsp;");continue}if(bG.dataSource){bz=bG.dataSource;bH=true}if(bB.filterable&&bB.filterable.operators){bF=bB.filterable.operators}bc("<span/>").attr(C.attr("field"),bK).kendoFilterCell({dataSource:bJ.dataSource,suggestDataSource:bz,customDataSource:bH,field:bK,messages:bE,values:bB.values,template:bG.template,delay:bG.delay,inputWidth:bG.inputWidth,suggestionOperator:bG.suggestionOperator,minLength:bG.minLength,dataTextField:bG.dataTextField,operator:bG.operator,operators:bF,showOperators:bG.showOperators}).appendTo(bA)}else{bA.html("&nbsp;")}}},_sortable:function(){var bC=this,bA=ad(bC.columns),bz,bG,bE,bB=bC.options.sortable;if(bB){var bF=r(bC.thead);for(var bD=0,by=bF.length;bD<by;bD++){bz=bA[bD];if(bz.sortable!==false&&!bz.command&&bz.field){bE=bF.eq(bD);bG=bE.data("kendoColumnSorter");if(bG){bG.destroy()}bE.attr("data-"+C.ns+"field",bz.field).kendoColumnSorter(aP({},bB,bz.sortable,{dataSource:bC.dataSource,aria:true,filter:":not(.k-column-active)"}))}}bF=null}},_columns:function(bz){var bC=this,bB=bC.table,bE,bD=bB.find("col"),by,bF=bC.options.dataSource;bz=bz.length?bz:I(bB.find("th"),function(bH,bO){bH=bc(bH);var bJ=bH.attr(C.attr("sortable")),bG=bH.attr(C.attr("filterable")),bL=bH.attr(C.attr("type")),bK=bH.attr(C.attr("groupable")),bN=bH.attr(C.attr("field")),bM=bH.attr(C.attr("title")),bI=bH.attr(C.attr("menu"));if(!bN){bN=bH.text().replace(/\s|[^A-z0-9]/g,"")}return{field:bN,type:bL,title:bM,sortable:bJ!=="false",filterable:bG!=="false",groupable:bK!=="false",menu:bI,template:bH.attr(C.attr("template")),width:bD.eq(bO).css("width")}});bE=!(bC.table.find("tbody tr").length>0&&(!bF||!bF.transport));if(bC.options.scrollable){var bA=bz;by=k(bz);bz=bd(bz);if(by.length>0&&bz.length===0){throw new Error("There should be at least one non locked column")}bx(bC.element.find("tr:has(th):first").find("th:not(.k-group-cell)"),bA);bz=by.concat(bz)}bC.columns=u(bz,bE)},_groups:function(){var by=this.dataSource.group();return by?by.length:0},_tmpl:function(bK,bE,bF,bz){var bG=this,bD=aP({},C.Template,bG.options.templateSettings),bL,bA=bE.length,bM,by={storage:{},count:0},bC,bI,bJ=bG._hasDetails(),bH=[],bB=bG._groups();if(!bK){bK="<tr";if(bF){bH.push("k-alt")}if(bJ){bH.push("k-master-row")}if(bH.length){bK+=' class="'+bH.join(" ")+'"'}if(bA){bK+=" "+C.attr("uid")+'="#='+C.expr("uid",bD.paramName)+'#"'}bK+=" role='row'>";if(bB>0&&!bz){bK+=a9(bB)}if(bJ){bK+='<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#" tabindex="-1"></a></td>'}for(bL=0;bL<bA;bL++){bC=bE[bL];bM=bC.template;bI=typeof bM;bK+="<td"+s(bC.attributes)+" role='gridcell'>";bK+=bG._cellTmpl(bC,by);bK+="</td>"}bK+="</tr>"}bK=C.template(bK,bD);if(by.count>0){return N(bK,by.storage)}return bK},_headerCellText:function(bB){var bC=this,bA=aP({},C.Template,bC.options.templateSettings),bz=bB.headerTemplate,by=typeof(bz),bD=bB.title||bB.field||"";if(by===aU){bD=C.template(bz,bA)({})}else{if(by===bq){bD=bz}}return bD},_cellTmpl:function(bA,by){var bE=this,bB=aP({},C.Template,bE.options.templateSettings),bK=bA.template,bC=bB.paramName,bH=bA.field,bD="",bJ,bz,bI=bA.format,bG=typeof bK,bF=bA.values;if(bA.command){if(d(bA.command)){for(bJ=0,bz=bA.command.length;bJ<bz;bJ++){bD+=bE._createButton(bA.command[bJ])}return bD.replace(aE,"\\#")}return bE._createButton(bA.command).replace(aE,"\\#")}if(bG===aU){by.storage["tmpl"+by.count]=bK;bD+="#=this.tmpl"+by.count+"("+bC+")#";by.count++}else{if(bG===bq){bD+=bK}else{if(bF&&bF.length&&W(bF[0])&&"value" in bF[0]&&bH){bD+="#var v ="+C.stringify(al(bF)).replace(aE,"\\#")+"#";bD+="#var f = v[";if(!bB.useWithBlock){bD+=bC+"."}bD+=bH+"]#";bD+="${f != null ? f : ''}"}else{bD+=bA.encoded?"#:":"#=";if(bI){bD+='kendo.format("'+bI.replace(au,"\\$1")+'",'}if(bH){bH=C.expr(bH,bC);bD+=bH+"==null?'':"+bH}else{bD+="''"}if(bI){bD+=")"}bD+="#"}}}return bD},_templates:function(){var bD=this,bG=bD.options,by=bD.dataSource,bz=by.group(),bE=bD.footer||bD.wrapper.find(".k-grid-footer"),bC=by.aggregate(),bF=ad(bD.columns),bB=ad(k(bD.columns)),bA=bG.scrollable?ad(bd(bD.columns)):bF;if(bG.scrollable&&bB.length){if(bG.rowTemplate||bG.altRowTemplate){throw new Error("Having both row template and locked columns is not supported")}bD.rowTemplate=bD._tmpl(bG.rowTemplate,bA,false,true);bD.altRowTemplate=bD._tmpl(bG.altRowTemplate||bG.rowTemplate,bA,true,true);bD.lockedRowTemplate=bD._tmpl(bG.rowTemplate,bB);bD.lockedAltRowTemplate=bD._tmpl(bG.altRowTemplate||bG.rowTemplate,bB,true)}else{bD.rowTemplate=bD._tmpl(bG.rowTemplate,bA);bD.altRowTemplate=bD._tmpl(bG.altRowTemplate||bG.rowTemplate,bA,true)}if(bD._hasDetails()){bD.detailTemplate=bD._detailTmpl(bG.detailTemplate||"")}if((bD._group&&!aW(bC))||(!aW(bC)&&!bE.length)||n(bF,function(bH){return bH.footerTemplate}).length){bD.footerTemplate=bD._footerTmpl(bF,bC,"footerTemplate","k-footer-template")}if(bz&&n(bF,function(bH){return bH.groupFooterTemplate}).length){bC=bc.map(bz,function(bH){return bH.aggregates});bD.groupFooterTemplate=bD._footerTmpl(bA,bC,"groupFooterTemplate","k-group-footer",bB.length);if(bG.scrollable&&bB.length){bD.lockedGroupFooterTemplate=bD._footerTmpl(bB,bC,"groupFooterTemplate","k-group-footer")}}},_footerTmpl:function(bz,bD,bF,bL,bM){var bI=this,bO=aP({},C.Template,bI.options.templateSettings),bG=bO.paramName,bJ="",bK,bC,bQ,bB,bN={},bH=0,by={},bP=bI._groups(),bE=bI.dataSource._emptyAggregates(bD),bA;bJ+='<tr class="'+bL+'">';if(bP>0&&!bM){bJ+=a9(bP)}if(bI._hasDetails()){bJ+='<td class="k-hierarchy-cell">&nbsp;</td>'}for(bK=0,bC=bz.length;bK<bC;bK++){bA=bz[bK];bQ=bA[bF];bB=typeof bQ;bJ+="<td"+s(bA.footerAttributes)+">";if(bQ){if(bB!==aU){by=bE[bA.field]?aP({},bO,{paramName:bG+"['"+bA.field+"']"}):{};bQ=C.template(bQ,by)}bN["tmpl"+bH]=bQ;bJ+="#=this.tmpl"+bH+"("+bG+")#";bH++}else{bJ+="&nbsp;"}bJ+="</td>"}bJ+="</tr>";bJ=C.template(bJ,bO);if(bH>0){return N(bJ,bN)}return bJ},_detailTmpl:function(bG){var bE=this,bD="",bA=aP({},C.Template,bE.options.templateSettings),bB=bA.paramName,bH={},bC=0,bz=bE._groups(),by=E(ad(bE.columns)).length,bF=typeof bG;bD+='<tr class="k-detail-row">';if(bz>0){bD+=a9(bz)}bD+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(by?' colspan="'+by+'"':"")+">";if(bF===aU){bH["tmpl"+bC]=bG;bD+="#=this.tmpl"+bC+"("+bB+")#";bC++}else{bD+=bG}bD+="</td></tr>";bD=C.template(bD,bA);if(bC>0){return N(bD,bH)}return bD},_hasDetails:function(){var by=this;return by.options.detailTemplate!==null||(by._events[A]||[]).length},_hasFilterRow:function(){var bA=this.options.filterable;var bB=bA&&typeof bA.mode==bq&&bA.mode.indexOf("row")!=-1;var by=this.columns;var bz=bc.grep(by,function(bD,bC){return bD.filterable===false});if(by.length&&bz.length==by.length){bB=false}return bB},_details:function(){var by=this;if(by.options.scrollable&&by._hasDetails()&&k(by.columns).length){throw new Error("Having both detail template and locked columns is not supported")}by.table.on(ba+bp,".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(bC){var bz=bc(this),bG=bz.hasClass("k-plus"),bB=bz.closest("tr.k-master-row"),bD,bF=by.detailTemplate,bA,bE=by._hasDetails();bz.toggleClass("k-plus",!bG).toggleClass("k-minus",bG);bD=bB.next();if(bE&&!bD.hasClass("k-detail-row")){bA=by.dataItem(bB);bD=bc(bF(bA)).addClass(bB.hasClass("k-alt")?"k-alt":"").insertAfter(bB);by.angular("compile",function(){return{elements:bD.get(),data:[{dataItem:bA}]}});by.trigger(A,{masterRow:bB,detailRow:bD,data:bA,detailCell:bD.find(".k-detail-cell")})}by.trigger(bG?p:aL,{masterRow:bB,detailRow:bD});bD.toggle(bG);if(by._current){by._current.attr("aria-expanded",bG)}bC.preventDefault();return false})},dataItem:function(bB){bB=bc(bB)[0];if(!bB){return null}var bA=this.tbody.children(),bD=/k-grouping-row|k-detail-row|k-group-footer/,by=bB.sectionRowIndex,bz,bC;bC=by;for(bz=0;bz<by;bz++){if(bD.test(bA[bz].className)){bC--}}return this._data[bC]},expandRow:function(by){bc(by).find("> td .k-plus, > td .k-i-expand").click()},collapseRow:function(by){bc(by).find("> td .k-minus, > td .k-i-collapse").click()},_createHeaderCells:function(bA,bE){var bD=this,bG,by,bI,bB="",bz,bH=ad(bD.columns),bF;for(bG=0,bz=bA.length;bG<bz;bG++){by=bA[bG].column||bA[bG];bI=bD._headerCellText(by);bF="";var bC=G(by,bH);if(!by.command){if(by.field){bF=C.attr("field")+"='"+by.field+"' "}bB+="<th role='columnheader' "+bF;if(bE&&!bA[bG].colSpan){bB+=" rowspan='"+bE+"'"}if(bA[bG].colSpan>1){bB+='colspan="'+(bA[bG].colSpan-aK(by.columns))+'" ';bB+=C.attr("colspan")+"='"+bA[bG].colSpan+"'"}if(by.title){bB+=C.attr("title")+'="'+by.title.replace(/'/g,"'")+'" '}if(by.groupable!==H){bB+=C.attr("groupable")+"='"+by.groupable+"' "}if(by.aggregates&&by.aggregates.length){bB+=C.attr("aggregates")+"='"+by.aggregates+"'"}if(bC>-1){bB+=C.attr("index")+"='"+bC+"'"}bB+=s(by.headerAttributes);bB+=">"+bI+"</th>"}else{bB+="<th"+s(by.headerAttributes);if(bE&&!bA[bG].colSpan){bB+=" rowspan='"+bE+"'"}if(bC>-1){bB+=C.attr("index")+"='"+bC+"'"}bB+=">"+bI+"</th>"}}return bB},_appendLockedColumnContent:function(){var bB=this.columns,bH,bC=this.table.find("colgroup"),bG=bC.find("col:not(.k-group-col,.k-hierarchy-col)"),bA,bI=bc(),bD=0,bz,bE,bF,by=0;for(bH=0,bA=bB.length;bH<bA;bH++){if(bB[bH].locked){if(bo(bB[bH])){bE=1;if(bB[bH].columns){bE=ad(bB[bH].columns).length-aK(bB[bH].columns)}bE=bE||1;for(bF=0;bF<bE;bF++){bI=bI.add(bG.eq(bH+by+bF-bD))}by+=bE-1}else{bD++}}}bz=bc('<div class="k-grid-content-locked"><table'+(at?' cellspacing="0"':"")+"><colgroup/><tbody></tbody></table></div>");bC.detach();bz.find("colgroup").append(bI);bC.insertBefore(this.table.find("tbody"));this.lockedContent=bz.insertBefore(this.content);this.lockedTable=bz.children("table")},_appendLockedColumnFooter:function(){var bC=this;var bE=bC.footer;var bG=bE.find(".k-footer-template>td");var bD=bE.find(".k-grid-footer-wrap>table>colgroup>col");var bB=bc('<div class="k-grid-footer-locked"><table><colgroup /><tbody><tr class="k-footer-template"></tr></tbody></table></div>');var bF,by;var bz=bC._groups();var bA=bc(),bH=bc();bA=bA.add(bG.filter(".k-group-cell"));for(bF=0,by=ad(k(bC.columns)).length;bF<by;bF++){bA=bA.add(bG.eq(bF+bz))}bH=bH.add(bD.filter(".k-group-col"));for(bF=0,by=ad(a6(bC.columns)).length;bF<by;bF++){bH=bH.add(bD.eq(bF+bz))}bA.appendTo(bB.find("tr"));bH.appendTo(bB.find("colgroup"));bC.lockedFooter=bB.prependTo(bE)},_appendLockedColumnHeader:function(bR){var bG=this,bA=this.columns,bS,bP,bD,bJ,by,bQ,bX,bV,bB,bL=[],bM=0,bO=bc(),bK=bG._hasFilterRow(),bN=0,bI=bc(),bz,bT=0,bC=bc();bJ=bG.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)");bV=bG.thead.find("tr:first .k-header:not(.k-group-cell,.k-hierarchy-cell)");bB=bG.thead.find(".k-filter-row").find("th:not(.k-group-cell,.k-hierarchy-cell)");var bW=0;for(bS=0,bD=bA.length;bS<bD;bS++){if(bA[bS].locked){bz=bV.eq(bS);bT=ad(bA[bS].columns||[]).length;if(bo(bA[bS])){var bF;if(bA[bS].columns){bF=bT-aK(bA[bS].columns)}bF=bF||1;for(var bH=0;bH<bF;bH++){bO=bO.add(bJ.eq(bS+bW+bH-bM))}bW+=bF-1}ag([bA[bS]],aJ(bz),bL,0,0);bT=bT||1;for(var bU=0;bU<bT;bU++){bI=bI.add(bB.eq(bN+bU))}bN+=bT}if(bA[bS].columns){bM+=aK(bA[bS].columns)}if(!bo(bA[bS])){bM++}}if(bL.length){bP='<div class="k-grid-header-locked" style="width:1px"><table'+(at?' cellspacing="0"':"")+"><colgroup/><thead>";bP+=new Array(bL.length+1).join("<tr></tr>");bP+=(bK?'<tr class="k-filter-row" />':"")+"</thead></table></div>";bX=bc(bP);bJ=bX.find("colgroup");bJ.append(bG.thead.prev().find("col.k-group-col").add(bO));by=bX.find("thead tr:not(.k-filter-row)");for(bS=0,bD=bL.length;bS<bD;bS++){bC=ab(bL[bS]);by.eq(bS).append(bG.thead.find("tr:eq("+bS+") .k-group-cell").add(bC))}var bE=B(this.thead);if(bL.length<bE){bv(bX,bE-bL.length)}bQ=bX.find(".k-filter-row");bQ.append(bG.thead.find(".k-filter-row .k-group-cell").add(bI));this.lockedHeader=bX.prependTo(bR);this.thead.find(".k-group-cell").remove();this._syncLockedHeaderHeight()}},_removeLockedContainers:function(){var by=this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);C.destroy(by);by.off(bp).remove();this.lockedHeader=this.lockedContent=this.lockedFooter=null;this.selectable=null},_thead:function(){var bE=this,bC=bE.columns,bH=bE._hasDetails()&&bC.length,bA=bE._hasFilterRow(),bI,bB,bD="",bF=bE.table.find(">thead"),bz=bE.element.find("thead:first").length>0,bG,bK,by;if(!bF.length){bF=bc("<thead/>").insertBefore(bE.tbody)}if(bE.lockedHeader&&bE.thead){bG=bE.thead.find("tr:has(th):not(.k-filter-row)").html("");bG.remove();bG=bc();bE._removeLockedContainers()}else{if(bz){bG=bE.element.find("thead:first tr:has(th):not(.k-filter-row)")}else{bG=bE.element.find("tr:has(th):first")}}if(!bG.length){bG=bF.children().first();if(!bG.length){var bM=[{rowSpan:1,cells:[],index:0}];bE._prepareColumns(bM,bC);for(bI=0;bI<bM.length;bI++){bD+="<tr>";if(bH){bD+='<th class="k-hierarchy-cell">&nbsp;</th>'}bD+=bE._createHeaderCells(bM[bI].cells,bM[bI].rowSpan);bD+="</tr>"}bG=bc(bD)}}if(bA){var bL=bc("<tr/>");bL.addClass("k-filter-row");if(bH){bL.prepend('<th class="k-hierarchy-cell">&nbsp;</th>')}var bJ=bF.find(".k-filter-row");if(bJ.length){C.destroy(bJ);bJ.remove()}bF.append(bL)}if(!bG.children().length){bD="";if(bH){bD+='<th class="k-hierarchy-cell">&nbsp;</th>'}bD+=bE._createHeaderCells(bC);bG.html(bD)}else{if(bH&&!bG.find(".k-hierarchy-cell")[0]){bG.prepend('<th class="k-hierarchy-cell">&nbsp;</th>')}}bG.attr("role","row").find("th").addClass("k-header");if(!bE.options.scrollable){bF.addClass("k-grid-header")}bG.find("script").remove().end().prependTo(bF);if(bE.thead){bE._destroyColumnAttachments()}this.angular("cleanup",function(){return{elements:bF.find("th").get()}});this.angular("compile",function(){return{elements:bF.find("th").get(),data:I(bC,function(bN){return{column:bN}})}});bE.thead=bF.attr("role","rowgroup");bE._sortable();bE._filterable();bE._filterRow();bE._scrollable();bE._updateCols();bE._columnMenu();if(this.options.scrollable&&k(this.columns).length){bE._appendLockedColumnHeader(bE.thead.closest(".k-grid-header"));bE._appendLockedColumnContent();bE.lockedContent.bind("DOMMouseScroll"+bp+" mousewheel"+bp,N(bE._wheelScroll,bE));bE._applyLockedContainersWidth()}bE._updateColumnCellIndex();bE._updateFirstColumnClass();bE._resizable();bE._draggable();bE._reorderable();if(bE.groupable){bE._attachGroupable()}},_updateFirstColumnClass:function(){var bz=this,by=bz.columns||[],bC=bz._hasDetails()&&by.length;if(!bC&&!bz._groups()){var bB=bc();var bA=bz.thead.find(">tr:not(.k-filter-row):not(:first)");by=bd(by);if(bA.length&&by[0]&&!by[0].columns){bB=bB.add(bA)}if(bz._isLocked()){bA=bz.lockedHeader.find("thead>tr:not(.k-filter-row):not(:first)");by=k(bz.columns);if(bA.length&&by[0]&&!by[0].columns){bB=bB.add(bA)}}bB.each(function(){var bD=bc(this).find("th");bD.removeClass("k-first");bD.eq(0).addClass("k-first")})}},_prepareColumns:function(bF,bz,by,bD){var bE=bD||bF[bF.length-1];var bA=bF[bE.index+1];var bG=0;for(var bB=0;bB<bz.length;bB++){var bC={column:bz[bB],colSpan:0};bE.cells.push(bC);if(bz[bB].columns&&bz[bB].columns.length){if(!bA){bA={rowSpan:0,cells:[],index:bF.length};bF.push(bA)}bC.colSpan=bz[bB].columns.length;this._prepareColumns(bF,bz[bB].columns,bC,bA);bG+=bC.colSpan-1;bE.rowSpan=bF.length-bE.index}}if(by){by.colSpan+=bG}},_wheelScroll:function(bA){if(bA.ctrlKey){return}var by=this.content;if(this.options.scrollable.virtual){by=this.virtualScrollable.verticalScrollbar}var bz=by.scrollTop(),bB=C.wheelDeltaY(bA);if(bB){bA.preventDefault();bc(bA.currentTarget).one("wheel"+bp,false);by.scrollTop(bz+(-bB))}},_isLocked:function(){return this.lockedHeader!=null},_updateCols:function(by){by=by||this.thead.parent().add(this.table);this._appendCols(by,this._isLocked())},_updateLockedCols:function(by){if(this._isLocked()){by=by||this.lockedHeader.find("table").add(this.lockedTable);bt(by,Q(a6(this.columns)),this._hasDetails(),this._groups())}},_appendCols:function(bz,by){if(by){bt(bz,Q(bk(this.columns)),this._hasDetails(),0)}else{bt(bz,Q(E(this.columns)),this._hasDetails(),this._groups())}},_autoColumns:function(bz){if(bz&&bz.toJSON){var by=this,bA;bz=bz.toJSON();for(bA in bz){by.columns.push({field:bA})}by._thead();by._templates()}},_rowsHtml:function(bE,bA){var bD=this,bz="",by,bF=bA.rowTemplate,bB=bA.altRowTemplate,bC;for(by=0,bC=bE.length;by<bC;by++){if(by%2){bz+=bB(bE[by])}else{bz+=bF(bE[by])}bD._data.push(bE[by])}return bz},_groupRowHtml:function(bI,bA,by,bK,bB,bP){var bH=this,bL="",bN,bD,bz=bI.field,bC=n(ad(bH.columns),function(bT){return bT.field==bz})[0]||{},bQ=bC.groupHeaderTemplate,bM=(bC.title||bz)+": "+ai(bI.value,bC.format,bC.values),bO=bH._groupAggregatesDefaultObject||{},bF=aP({},bO,bI.aggregates),bS=aP({},{field:bI.field,value:bI.value,aggregates:bF},bI.aggregates[bI.field]),bR=bB.rowTemplate,bG=bB.altRowTemplate,bE=bB.groupFooterTemplate,bJ=bI.items;if(bQ){bM=typeof bQ===aU?bQ(bS):C.template(bQ)(bS)}bL+=bK(bA,by,bM);if(bI.hasSubgroups){for(bN=0,bD=bJ.length;bN<bD;bN++){bL+=bH._groupRowHtml(bJ[bN],bP?bA:bA-1,by+1,bK,bB,bP)}}else{bL+=bH._rowsHtml(bJ,bB)}if(bE){bL+=bE(bF)}return bL},collapseGroup:function(bG){bG=bc(bG);var by,bD=this.options.groupable,bH=bD.showFooter,bB=bH?0:1,bC,bA=bc(),bF,bz,bE;if(this._isLocked()){if(!bG.closest("div").hasClass("k-grid-content-locked")){bA=bG.nextAll("tr");bG=this.lockedTable.find(">tbody>tr:eq("+bG.index()+")")}else{bA=this.tbody.children("tr:eq("+bG.index()+")").nextAll("tr")}}by=bG.find(".k-group-cell").length;bG.find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse");bG.find("td:first").attr("aria-expanded",false);bG=bG.nextAll("tr");for(bF=0,bz=bG.length;bF<bz;bF++){bE=bG.eq(bF);bC=bE.find(".k-group-cell").length;if(bE.hasClass("k-grouping-row")){bB++}else{if(bE.hasClass("k-group-footer")){bB--}}if(bC<=by||(bE.hasClass("k-group-footer")&&bB<0)){break}bE.hide();bA.eq(bF).hide()}},expandGroup:function(bH){bH=bc(bH);var bD=this,bI=bD.options.groupable.showFooter,by,bE,bC,bB=bc(),bF,bz,bG=[],bA=1;if(this._isLocked()){if(!bH.closest("div").hasClass("k-grid-content-locked")){bB=bH.nextAll("tr");bH=this.lockedTable.find(">tbody>tr:eq("+bH.index()+")")}else{bB=this.tbody.children("tr:eq("+bH.index()+")").nextAll("tr")}}by=bH.find(".k-group-cell").length;bH.find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand");bH.find("td:first").attr("aria-expanded",true);bH=bH.nextAll("tr");for(bF=0,bz=bH.length;bF<bz;bF++){bE=bH.eq(bF);bC=bE.find(".k-group-cell").length;if(bC<=by){break}if(bC==by+1&&!bE.hasClass("k-detail-row")){bE.show();bB.eq(bF).show();if(bE.hasClass("k-grouping-row")&&bE.find(".k-icon").hasClass("k-i-collapse")){bD.expandGroup(bE)}if(bE.hasClass("k-master-row")&&bE.find(".k-icon").hasClass("k-minus")){bE.next().show();bB.eq(bF+1).show()}}if(bE.hasClass("k-grouping-row")){if(bI){bG.push(bE.is(":visible"))}bA++}if(bE.hasClass("k-group-footer")){if(bI){bE.toggle(bG.pop())}if(bA==1){bE.show();bB.eq(bF).show()}else{bA--}}}},_updateHeader:function(by){var bC=this,bz=bC._isLocked()?bC.lockedHeader.find("thead"):bC.thead,bB=bz.find("tr.k-filter-row").find("th.k-group-cell").length,bA=bz.find("tr:first").find("th.k-group-cell").length,bD=bz.children("tr:not(:first)").filter(function(){return !bc(this).children(":visible").length});if(by>bA){bc(new Array(by-bA+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(bz.children("tr:not(.k-filter-row)"));if(bC.element.is(":visible")){bD.find("th.k-group-cell").hide()}}else{if(by<bA){bz.find("tr").each(function(){bc(this).find("th.k-group-cell").filter(":eq("+by+"),:gt("+by+")").remove()})}}if(by>bB){bc(new Array(by-bB+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(bz.find(".k-filter-row"))}},_firstDataItem:function(bz,by){if(bz&&by){if(bz.hasSubgroups){bz=this._firstDataItem(bz.items[0],by)}else{bz=bz.items[0]}}return bz},_updateTablesWidth:function(){var bz=this,by;if(!bz._isLocked()){return}by=bc(">.k-grid-footer>.k-grid-footer-wrap>table",bz.wrapper).add(bz.thead.parent()).add(bz.table);bz._footerWidth=bi(by.eq(0));by.width(bz._footerWidth);by=bc(">.k-grid-footer>.k-grid-footer-locked>table",bz.wrapper).add(bz.lockedHeader.find(">table")).add(bz.lockedTable);by.width(bi(by.eq(0)))},hideColumn:function(bA){var bE=this,by,bF,bI,bG,bO,bP,bD,bK=0,bM=[],bC,bB,bJ=bE.footer||bE.wrapper.find(".k-grid-footer"),bz=bE.columns,bL=bE.lockedHeader?r(bE.lockedHeader.find(">table>thead")).filter(a1).length:0,bN;if(typeof bA=="number"){bA=bz[bA]}else{if(W(bA)){bA=n(x(bz),function(bQ){return bQ===bA})[0]}else{bA=n(x(bz),function(bQ){return bQ.field===bA})[0]}}if(!bA||!bo(bA)){return}if(bA.columns&&bA.columns.length){bP=am(bA,bz);w(bA,false);c(bl(bc(">table>thead",bE.lockedHeader),bE.thead,">tr:eq("+bP.row+")>th"),bP.cell,false);for(bI=0;bI<bA.columns.length;bI++){this.hideColumn(bA.columns[bI])}bE.trigger(K,{column:bA});return}bN=G(bA,E(ad(bz)));w(bA,false);bE._setParentsVisibility(bA,false);bE._templates();bE._updateCols();bE._updateLockedCols();var bH=bE.thead;bC=bN;if(bE.lockedHeader&&bL>bN){bH=bE.lockedHeader.find(">table>thead")}else{bC-=bL}by=r(bH).filter(a1).eq(bC);by[0].style.display="none";c(bl(bc(">table>thead",bE.lockedHeader),bE.thead,">tr.k-filter-row>th"),bN,false);if(bJ[0]){bE._updateCols(bJ.find(">.k-grid-footer-wrap>table"));bE._updateLockedCols(bJ.find(">.k-grid-footer-locked>table"));c(bJ.find(".k-footer-template>td"),bN,false)}if(bE.lockedTable&&bL>bN){aM(bE.lockedTable.find(">tbody>tr"),bN)}else{aM(bE.tbody.children(),bN-bL)}if(bE.lockedTable){bE._updateTablesWidth();bE._applyLockedContainersWidth();bE._syncLockedContentHeight();bE._syncLockedHeaderHeight();bE._syncLockedFooterHeight()}else{bG=bE.thead.prev().find("col");for(bI=0,bB=bG.length;bI<bB;bI+=1){bO=bG[bI].style.width;if(bO&&bO.indexOf("%")==-1){bK+=parseInt(bO,10)}else{bK=0;break}}bF=bc(">.k-grid-header table:first,>.k-grid-footer table:first",bE.wrapper).add(bE.table);bE._footerWidth=null;if(bK){bF.each(function(){this.style.width=bK+"px"});bE._footerWidth=bK}if(be.msie&&be.version==8){bF.css("display","inline-table");setTimeout(function(){bF.css("display","table")},1)}}bE._updateFirstColumnClass();bE.trigger(K,{column:bA})},_setParentsVisibility:function(bz,by){var bA=this.columns;var bF;var bD=[];var bE;var bB;var bH;var bC;var bG=by?function(bI){return E(bI.columns).length&&bI.hidden}:function(bI){return !E(bI.columns).length&&!bI.hidden};if(aB(bz,bA,bD)&&bD.length){for(bF=bD.length-1;bF>=0;bF--){bE=bD[bF];bB=ay(bE,bA);bH=bl(bc(">table>thead",this.lockedHeader),this.thead,">tr:eq("+bB.row+")>th:not(.k-group-cell):not(.k-hierarchy-cell)").eq(bB.cell);if(bG(bE)){w(bE,by);bH[0].style.display=by?"":"none"}if(bH.filter("["+C.attr("colspan")+"]").length){bC=parseInt(bH.attr(C.attr("colspan")),10);bH[0].colSpan=(bC-aK(bE.columns))||1}}}},showColumn:function(bC){var bG=this,bL,bA,bM,bN,bz,bO,bI,bF,bE,bJ,bB=bG.columns,bK=bG.footer||bG.wrapper.find(".k-grid-footer"),bD=bG.lockedHeader?r(bG.lockedHeader.find(">table>thead")).length:0,bH;if(typeof bC=="number"){bC=bB[bC]}else{if(W(bC)){bC=n(x(bB),function(bP){return bP===bC})[0]}else{bC=n(x(bB),function(bP){return bP.field===bC})[0]}}if(!bC||bo(bC)){return}if(bC.columns&&bC.columns.length){bF=am(bC,bB);w(bC,true);c(bl(bc(">table>thead",bG.lockedHeader),bG.thead,">tr:eq("+bF.row+")>th"),bF.cell,true);for(bL=0;bL<bC.columns.length;bL++){this.showColumn(bC.columns[bL])}bG.trigger(aX,{column:bC});return}bH=G(bC,ad(bB));w(bC,true);bG._setParentsVisibility(bC,true);bG._templates();bG._updateCols();bG._updateLockedCols();var by=bG.thead;bI=bH;if(bG.lockedHeader&&bD>bH){by=bG.lockedHeader.find(">table>thead")}else{bI-=bD}bM=r(by).eq(bI);bM[0].style.display="";c(bl(bc(">table>thead",bG.lockedHeader),bG.thead,">tr.k-filter-row>th"),bH,true);if(bK[0]){bG._updateCols(bK.find(">.k-grid-footer-wrap>table"));bG._updateLockedCols(bK.find(">.k-grid-footer-locked>table"));c(bK.find(".k-footer-template>td"),bH,true)}if(bG.lockedTable&&bD>bH){U(bG.lockedTable.find(">tbody>tr"),bH)}else{U(bG.tbody.children(),bH-bD)}if(bG.lockedTable){bG._updateTablesWidth();bG._applyLockedContainersWidth();bG._syncLockedContentHeight();bG._syncLockedHeaderHeight()}else{bN=bc(">.k-grid-header table:first,>.k-grid-footer table:first",bG.wrapper).add(bG.table);if(!bC.width){bN.width("")}else{bz=0;bJ=bG.thead.prev().find("col");for(bL=0,bA=bJ.length;bL<bA;bL+=1){bE=bJ[bL].style.width;if(bE.indexOf("%")>-1){bz=0;break}bz+=parseInt(bE,10)}bG._footerWidth=null;if(bz){bN.each(function(){this.style.width=bz+"px"});bG._footerWidth=bz}}}bG._updateFirstColumnClass();bG.trigger(aX,{column:bC})},_progress:function(by){var bz=this.element;if(this.lockedContent){bz=this.wrapper}else{if(this.element.is("table")){bz=this.element.parent()}else{if(this.content&&this.content.length){bz=this.content}}}C.ui.progress(bz,by)},_resize:function(by,bz){if(this.content){this._setContentWidth();this._setContentHeight()}if(this.virtualScrollable&&(bz||this._rowHeight)){if(bz){this._rowHeight=null}this.virtualScrollable.repaintScrollbar()}},_isActiveInTable:function(){var by=X();return this.table[0]===by||bc.contains(this.table[0],by)||(this._isLocked()&&(this.lockedTable[0]===by||bc.contains(this.lockedTable[0],by)))},refresh:function(bH){var bF=this,by,bK,bE="",bC=bF.dataSource.view(),bJ=bF.options.navigatable,bI,bG=bc(bF.current()),bD=false,bA=(bF.dataSource.group()||[]).length,bB=bF.content&&bF.content.scrollLeft(),bz=bA+Q(E(bF.columns)).length;if(bH&&bH.action==="itemchange"&&bF.editable){return}bH=bH||{};if(bF.trigger("dataBinding",{action:bH.action||"rebind",index:bH.index,items:bH.items})){return}bF._angularItems("cleanup");if(bJ&&(bF._isActiveInTable()||(bF._editContainer&&bF._editContainer.data("kendoWindow")))){bD=bG.is("th");bI=0;if(bD){bI=bF.thead.find("th:not(.k-group-cell)").index(bG)}}bF._destroyEditable();bF._progress(false);bF._hideResizeHandle();bF._data=[];if(!bF.columns.length){bF._autoColumns(bF._firstDataItem(bC[0],bA));bz=bA+bF.columns.length}bF._group=bA>0||bF._group;if(bF._group){bF._templates();bF._updateCols();bF._updateLockedCols();bF._updateHeader(bA);bF._group=bA>0}bF._renderContent(bC,bz,bA);bF._renderLockedContent(bC,bz,bA);bF._footer();bF._setContentHeight();bF._setContentWidth(bB);if(bF.lockedTable){if(bF.options.scrollable.virtual){bF.content.find(">.k-virtual-scrollable-wrap").trigger("scroll")}else{if(bF.touchScroller){bF.touchScroller.movable.trigger("change")}else{bF.content.trigger("scroll")}}}if(bI>=0){bF._removeCurrent();if(!bD){bF.current(bF.table.add(bF.lockedTable).find(aV).first())}else{bF.current(bF.thead.find("th:not(.k-group-cell)").eq(bI))}if(bF._current){a8(bF._current.closest("table")[0],true)}}if(bF.touchScroller){bF.touchScroller.contentResized()}if(bF.selectable){bF.selectable.resetTouchEvents()}bF._angularItems("compile");bF.trigger(O)},_angularItems:function(by){C.ui.DataBoundWidget.fn._angularItems.call(this,by);this._angularGroupItems(by)},_angularGroupItems:function(bz){var by=this;if(by._group){by.angular(bz,function(){return{elements:by.tbody.children(".k-grouping-row"),data:bc.map(aC(by.dataSource.view()),function(bA){return{dataItem:bA}})}})}},_renderContent:function(bC,bA,bB){var bE=this,bG,bz,bD="",by=bE.lockedContent!=null,bF={rowTemplate:bE.rowTemplate,altRowTemplate:bE.altRowTemplate,groupFooterTemplate:bE.groupFooterTemplate};bA=by?bA-Q(a6(bE.columns)).length:bA;if(bB>0){bA=by?bA-bB:bA;if(bE.detailTemplate){bA++}if(bE.groupFooterTemplate){bE._groupAggregatesDefaultObject=bE.dataSource.aggregates()}for(bG=0,bz=bC.length;bG<bz;bG++){bD+=bE._groupRowHtml(bC[bG],bA,0,by?aG:a7,bF,by)}}else{bD+=bE._rowsHtml(bC,bF)}bE.tbody=a4(bE.tbody,bE.table,bD)},_renderLockedContent:function(bE,bF,bz){var bB="",by,bD,bA={rowTemplate:this.lockedRowTemplate,altRowTemplate:this.lockedAltRowTemplate,groupFooterTemplate:this.lockedGroupFooterTemplate};if(this.lockedContent){var bC=this.lockedTable;if(bz>0){bF=bF-E(ad(bd(this.columns))).length;for(by=0,bD=bE.length;by<bD;by++){bB+=this._groupRowHtml(bE[by],bF,0,a7,bA)}}else{bB=this._rowsHtml(bE,bA)}a4(bC.children("tbody"),bC,bB);this._syncLockedContentHeight()}},_adjustRowsHeight:function(bE,bD){var bJ=bE[0].rows,bz=bJ.length,bG,bF=bD[0].rows,bA=bE.add(bD),bB=bA.length,bC=[];for(bG=0;bG<bz;bG++){if(!bF[bG]){break}if(bJ[bG].style.height){bJ[bG].style.height=bF[bG].style.height=""}var by=bJ[bG].offsetHeight;var bI=bF[bG].offsetHeight;var bH=0;if(by>bI){bH=by}else{if(by<bI){bH=bI}}bC.push(bH)}for(bG=0;bG<bB;bG++){bA[bG].style.display="none"}for(bG=0;bG<bz;bG++){if(bC[bG]){bJ[bG].style.height=bF[bG].style.height=(bC[bG]+1)+"px"}}for(bG=0;bG<bB;bG++){bA[bG].style.display=""}}});if(C.ExcelMixin){C.ExcelMixin.extend(aZ.prototype)}if(C.PDFMixin){C.PDFMixin.extend(aZ.prototype);aZ.prototype._drawPDF=function(bA){var bG=new bc.Deferred();var bz=this;var by=bz.dataSource;var bB=bz.options.pdf.allPages;this._initPDFProgress(bA);var bE=new C.drawing.Group();var bD=by.page();function bF(){if(bB&&bD!==H){by.unbind("change",bC);by.one("change",function(){bG.resolve(bE)});by.page(bD)}else{bG.resolve(bE)}}function bC(){bz._drawPDFShadow().done(function(bK){var bJ=by.page();var bI=bB?by.totalPages():1;var bH={page:bK,pageNumber:bJ,progress:bJ/bI,totalPages:bI};bA.notify(bH);bE.append(bH.page);if(bJ<bI){by.page(bJ+1)}else{bF()}}).fail(function(bH){bG.reject(bH)})}if(bB){by.bind("change",bC);by.page(1)}else{bC()}return bG.promise()};aZ.prototype._initPDFProgress=function(by){var bA=bc("<div class='k-loading-pdf-mask'><div class='k-loading-color'/></div>");bA.prepend(this.wrapper.clone().css({position:"absolute",top:0,left:0}));this.wrapper.append(bA);var bz=bc("<div class='k-loading-pdf-progress'>").appendTo(bA).kendoProgressBar({type:"chunk",chunkCount:10,min:0,max:1,value:0}).data("kendoProgressBar");by.progress(function(bB){bz.value(bB.progress)}).always(function(){C.destroy(bA);bA.remove()})}}function aH(bA,bz){bA=bA[0];bz=bz[0];if(bA.rows.length!==bz.rows.length){var by=bA.offsetHeight;var bB=bz.offsetHeight;var bD;var bC;if(by>bB){bD=bz.rows[bz.rows.length-1];if(ac.test(bD.className)){bD=bz.rows[bz.rows.length-2]}bC=by-bB}else{bD=bA.rows[bA.rows.length-1];if(ac.test(bD.className)){bD=bA.rows[bA.rows.length-2]}bC=bB-by}bD.style.height=bD.offsetHeight+bC+"px"}}function aS(bC,bA){var by;var bB=bC.offsetHeight;var bz=bA.offsetHeight;if(bB>bz){by=bB+"px"}else{if(bB<bz){by=bz+"px"}}if(by){bC.style.height=bA.style.height=by}}function F(bz,bA){var by,bB,bC;if(typeof bz===bq&&bz===bA){return bz}if(W(bz)&&bz.name===bA){return bz}if(d(bz)){for(by=0,bB=bz.length;by<bB;by++){bC=bz[by];if((typeof bC===bq&&bC===bA)||(bC.name===bA)){return bC}}}return null}function a8(bz,bE){var by=be.msie;if(bE===true){bz=bc(bz);var bD=true||by&&bz.parent().is(".k-grid-content,.k-grid-header-wrap"),bB,bC;if(bD){bB=bz.parent().scrollTop();bC=bz.parent().scrollLeft()}if(by){try{bz[0].setActive()}catch(bA){bz[0].focus()}}else{bz[0].focus()}if(bD){bz.parent().scrollTop(bB);bz.parent().scrollLeft(bC)}}else{bc(bz).one("focusin",function(bF){bF.preventDefault()}).focus()}}function P(bE){var bD=bc(bE.currentTarget),bC=bD.is("th"),bB=this.table.add(this.lockedTable),bA=this.thead.parent().add(bc(">table",this.lockedHeader)),bz=bc(bE.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap"),by=bD.closest("table")[0];if(C.support.touch){return}if(bz&&bD.find(C.roleSelector("filtercell")).length){this.current(bD);return}if(by!==bB[0]&&by!==bB[1]&&by!==bA[0]&&by!==bA[1]){return}if(bc(bE.target).is("a.k-i-collapse, a.k-i-expand")){return}if(this.options.navigatable){this.current(bD)}if(bC||!bz){setTimeout(function(){if(!(ap&&bc(C._activeElement()).hasClass("k-widget"))){a8(by,true)}})}if(bC){bE.preventDefault()}}function bg(bB,bC,bz,by){bB=bc(bB);if(by){var bA=bC;bC=bz;bz=bA}if(bC.not(bB).length!=bC.length){return bB}return bB[0]==bz[0]?bC.eq(0):bC.eq(1)}function g(bB,bH,by,bF,bz,bD){var bG,bA;var bC=bz?"prevAll":"nextAll";if(bB){bG=bB.parent()[bC](T).first();if(!bG[0]&&(bz||bB.is("th"))||(!bz&&bB[0].rowSpan>1)){bH=bg(bH,by,bF,bz);a8(bH,true);if(bz&&!bB.is(".k-header")){return r(bH.find("thead:first")).eq(bB.index())}bG=bH.find((bz?">thead>":">tbody>")+T).first()}if(!bz&&bB[0].colSpan>1&&bB.is(".k-header")){bB=aJ(bB).eq(1)}else{if(bB.is(".k-header")&&bz){var bE=aI(bB);bB=bE.eq(bE.length-2)}else{bA=bB.attr(C.attr("index"));if(bA===H||bz){bA=bB.index()}else{if(bH.parent().prev().hasClass("k-grid-content-locked")){bA-=bD}}bB=bG.children().eq(bA)}}if(!bB[0]||!bB.is(bh)){bB=bG.children(bh).first()}}else{bB=by.find(aV)}return bB}function m(bC,bA,bB,bz,by){var bD=bB.length>1;if(bC){if(bC.prevAll(":visible")[0]){bC=bC.prevAll(S).first()}else{if(bD){if(bA==bB[1]){a8(bB[0]);bC=by(bC.parent()).children(S).last()}else{if(bA==bz[1]){a8(bz[0]);bC=bz.eq(0).find("tr>"+S).last()}}}}}else{bC=bB.find(aV)}return bC}function v(bC,bA,bB,bz,by){var bD=bB.length>1;if(bC){if(bC.nextAll(":visible")[0]){bC=bC.nextAll(S).first()}else{if(bD){if(bA==bB[0]){a8(bB[1]);bC=by(bC.parent()).children(S).first()}else{if(bA==bz[0]){a8(bz[1]);bC=bz.eq(1).find("tr>"+S).first()}}}}}else{bC=bB.find(aV)}return bC}function a0(bE,bA,bD,bz,by){var bF=bD.length==2;var bC=true;var bB=by?bE.prevAll(S+":first"):bE.nextAll(":visible:first");if(!bB.length){bB=bE.parent();if(bF){bC=(by&&bA==bD[0])||(!by&&bA==bD[1]);bB=bz(bB)}if(bC){bB=bB[by?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first")}bB=bB.children(S+(by?":last":":first"))}return bB}function a7(bA,bz,by){return'<tr class="k-grouping-row">'+a9(bz)+'<td colspan="'+bA+'" aria-expanded="true"><p class="k-reset"><a class="k-icon k-i-collapse" href="#" tabindex="-1"></a>'+by+"</p></td></tr>"}function aG(bA,bz,by){return'<tr class="k-grouping-row"><td colspan="'+bA+'" aria-expanded="true"><p class="k-reset">&nbsp;</p></td></tr>'}aw.plugin(aZ);aw.plugin(aN)})(window.kendo.jQuery);(function(g,j){var t=window.kendo,q="change",e="cancel",u="dataBound",s="dataBinding",d=t.ui.Widget,r=t.keys,x=">*",y="progress",m="error",o="k-state-focused",i="k-state-selected",A="k-edit-item",p="string",z="edit",n="remove",c="save",h="click",w=".kendoListView",v=g.proxy,l=t._activeElement,k=t.ui.progress,f=t.data.DataSource;var b=t.ui.DataBoundWidget.extend({init:function(C,B){var D=this;B=g.isArray(B)?{dataSource:B}:B;d.fn.init.call(D,C,B);B=D.options;D.wrapper=C=D.element;if(C[0].id){D._itemId=C[0].id+"_lv_active"}D._element();D._dataSource();D._templates();D._navigatable();D._selectable();D._pageable();D._crudHandlers();if(D.options.autoBind){D.dataSource.fetch()}t.notify(D)},events:[q,e,s,u,z,n,c],options:{name:"ListView",autoBind:true,selectable:false,navigatable:false,template:"",altTemplate:"",editTemplate:""},setOptions:function(B){d.fn.setOptions.call(this,B);this._templates();if(this.selectable){this.selectable.destroy();this.selectable=null}this._selectable()},_templates:function(){var B=this.options;this.template=t.template(B.template||"");this.altTemplate=t.template(B.altTemplate||B.template);this.editTemplate=t.template(B.editTemplate||"")},_item:function(B){return this.element.children()[B]()},items:function(){return this.element.children()},dataItem:function(D){var B=t.attr("uid");var C=g(D).closest("["+B+"]").attr(B);return this.dataSource.getByUid(C)},setDataSource:function(B){this.options.dataSource=B;this._dataSource();if(this.options.autoBind){B.fetch()}},_unbindDataSource:function(){var B=this;B.dataSource.unbind(q,B._refreshHandler).unbind(y,B._progressHandler).unbind(m,B._errorHandler)},_dataSource:function(){var B=this;if(B.dataSource&&B._refreshHandler){B._unbindDataSource()}else{B._refreshHandler=v(B.refresh,B);B._progressHandler=v(B._progress,B);B._errorHandler=v(B._error,B)}B.dataSource=f.create(B.options.dataSource).bind(q,B._refreshHandler).bind(y,B._progressHandler).bind(m,B._errorHandler)},_progress:function(){k(this.element,true)},_error:function(){k(this.element,false)},_element:function(){this.element.addClass("k-widget k-listview").attr("role","listbox")},refresh:function(G){var F=this,J=F.dataSource.view(),D,H,M,E="",K,B,L=F.template,I=F.altTemplate,C=l();G=G||{};if(G.action==="itemchange"){if(!F._hasBindingTarget()&&!F.editable){D=G.items[0];M=F.items().filter("["+t.attr("uid")+"="+D.uid+"]");if(M.length>0){K=M.index();F.angular("cleanup",function(){return{elements:[M]}});M.replaceWith(L(D));M=F.items().eq(K);M.attr(t.attr("uid"),D.uid);F.angular("compile",function(){return{elements:[M],data:[{dataItem:D}]}});F.trigger("itemChange",{item:M,data:D})}}return}if(F.trigger(s,{action:G.action||"rebind",items:G.items,index:G.index})){return}F._angularItems("cleanup");F._destroyEditable();for(K=0,B=J.length;K<B;K++){if(K%2){E+=I(J[K])}else{E+=L(J[K])}}F.element.html(E);H=F.items();for(K=0,B=J.length;K<B;K++){H.eq(K).attr(t.attr("uid"),J[K].uid).attr("role","option").attr("aria-selected","false")}if(F.element[0]===C&&F.options.navigatable){F.current(H.eq(0))}F._angularItems("compile");F.trigger(u)},_pageable:function(){var E=this,B=E.options.pageable,D,C;if(g.isPlainObject(B)){C=B.pagerId;D=g.extend({},B,{dataSource:E.dataSource,pagerId:null});E.pager=new t.ui.Pager(g("#"+C),D)}},_selectable:function(){var C=this,E,D,B=C.options.selectable,F=C.options.navigatable;if(B){E=t.ui.Selectable.parseOptions(B).multiple;C.selectable=new t.ui.Selectable(C.element,{aria:true,multiple:E,filter:x,change:function(){C.trigger(q)}});if(F){C.element.on("keydown"+w,function(G){if(G.keyCode===r.SPACEBAR){D=C.current();if(G.target==G.currentTarget){G.preventDefault()}if(E){if(!G.ctrlKey){C.selectable.clear()}else{if(D&&D.hasClass(i)){D.removeClass(i);return}}}else{C.selectable.clear()}C.selectable.value(D)}})}}},current:function(C){var D=this,B=D.element,E=D._current,F=D._itemId;if(C===j){return E}if(E&&E[0]){if(E[0].id===F){E.removeAttr("id")}E.removeClass(o);B.removeAttr("aria-activedescendant")}if(C&&C[0]){F=C[0].id||F;D._scrollTo(C[0]);B.attr("aria-activedescendant",F);C.addClass(o).attr("id",F)}D._current=C},_scrollTo:function(D){var E=this,C,F=false,G="scroll";if(E.wrapper.css("overflow")=="auto"||E.wrapper.css("overflow")==G){C=E.wrapper[0]}else{C=window;F=true}var B=function(K,J){var H=F?g(D).offset()[K.toLowerCase()]:D["offset"+K],L=D["client"+J],M=g(C)[G+K](),I=g(C)[J.toLowerCase()]();if(H+L>M+I){g(C)[G+K](H+L-I)}else{if(H<M){g(C)[G+K](H)}}};B("Top","Height");B("Left","Width")},_navigatable:function(){var D=this,E=D.options.navigatable,B=D.element,C=function(F){D.current(g(F.currentTarget));if(!g(F.target).is(":button,a,:input,a>.k-icon,textarea")){B.focus()}};if(E){D._tabindex();B.on("focus"+w,function(){var F=D._current;if(!F||!F.is(":visible")){F=D._item("first")}D.current(F)}).on("focusout"+w,function(){if(D._current){D._current.removeClass(o)}}).on("keydown"+w,function(J){var P=J.keyCode,K=D.current(),L=g(J.target),N=!L.is(":button,textarea,a,a>.t-icon,input"),G=L.is(":text"),M=t.preventDefault,I=B.find("."+A),H=l(),O;if((!N&&!G&&r.ESC!=P)||(G&&r.ESC!=P&&r.ENTER!=P)){return}if(r.UP===P||r.LEFT===P){if(K){K=K.prev()}D.current(!K||!K[0]?D._item("last"):K);M(J)}else{if(r.DOWN===P||r.RIGHT===P){if(K){K=K.next()}D.current(!K||!K[0]?D._item("first"):K);M(J)}else{if(r.PAGEUP===P){D.current(null);D.dataSource.page(D.dataSource.page()-1);M(J)}else{if(r.PAGEDOWN===P){D.current(null);D.dataSource.page(D.dataSource.page()+1);M(J)}else{if(r.HOME===P){D.current(D._item("first"));M(J)}else{if(r.END===P){D.current(D._item("last"));M(J)}else{if(r.ENTER===P){if(I.length!==0&&(N||G)){O=D.items().index(I);if(H){H.blur()}D.save();var F=function(){D.element.trigger("focus");D.current(D.items().eq(O))};D.one("dataBound",F)}else{if(D.options.editTemplate!==""){D.edit(K)}}}else{if(r.ESC===P){I=B.find("."+A);if(I.length===0){return}O=D.items().index(I);D.cancel();D.element.trigger("focus");D.current(D.items().eq(O))}}}}}}}}});B.on("mousedown"+w+" touchstart"+w,x,v(C,D))}},clearSelection:function(){var B=this;B.selectable.clear();B.trigger(q)},select:function(B){var D=this,C=D.selectable;B=g(B);if(B.length){if(!C.options.multiple){C.clear();B=B.first()}C.value(B);return}return C.value()},_destroyEditable:function(){var B=this;if(B.editable){B.editable.destroy();delete B.editable}},_modelFromElement:function(C){var B=C.attr(t.attr("uid"));return this.dataSource.getByUid(B)},_closeEditable:function(I){var G=this,C=G.editable,H,F,B,D=G.template,E=true;if(C){if(I){E=C.end()}if(E){if(C.element.index()%2){D=G.altTemplate}G.angular("cleanup",function(){return{elements:[C.element]}});H=G._modelFromElement(C.element);G._destroyEditable();B=C.element.index();C.element.replaceWith(D(H));F=G.items().eq(B);F.attr(t.attr("uid"),H.uid);if(G._hasBindingTarget()){t.bind(F,H)}G.angular("compile",function(){return{elements:[F],data:[{dataItem:H}]}})}}return E},edit:function(F){var E=this,G=E._modelFromElement(F),B,D=G.uid,C;E.cancel();F=E.items().filter("["+t.attr("uid")+"="+D+"]");C=F.index();F.replaceWith(E.editTemplate(G));B=E.items().eq(C).addClass(A).attr(t.attr("uid"),G.uid);E.editable=B.kendoEditable({model:G,clearContainer:false,errorTemplate:false,target:E}).data("kendoEditable");E.trigger(z,{model:G,item:B})},save:function(){var D=this,C=D.editable,B;if(!C){return}C=C.element;B=D._modelFromElement(C);if(!D.trigger(c,{model:B,item:C})&&D._closeEditable(true)){D.dataSource.sync()}},remove:function(C){var B=this,E=B.dataSource,D=B._modelFromElement(C);if(B.editable){E.cancelChanges(B._modelFromElement(B.editable.element));B._closeEditable(false)}if(!B.trigger(n,{model:D,item:C})){C.hide();E.remove(D);E.sync()}},add:function(){var C=this,D=C.dataSource,B=D.indexOf((D.view()||[])[0]);if(B<0){B=0}C.cancel();D.insert(B,{});C.edit(C.element.children().first())},cancel:function(){var D=this,E=D.dataSource;if(D.editable){var B=D.editable.element;var C=D._modelFromElement(B);if(!D.trigger(e,{model:C,container:B})){E.cancelChanges(C);D._closeEditable(false)}}},_crudHandlers:function(){var B=this,C=h+w;B.element.on(C,".k-edit-button",function(E){var D=g(this).closest("["+t.attr("uid")+"]");B.edit(D);E.preventDefault()});B.element.on(C,".k-delete-button",function(E){var D=g(this).closest("["+t.attr("uid")+"]");B.remove(D);E.preventDefault()});B.element.on(C,".k-update-button",function(D){B.save();D.preventDefault()});B.element.on(C,".k-cancel-button",function(D){B.cancel();D.preventDefault()})},destroy:function(){var B=this;d.fn.destroy.call(B);B._unbindDataSource();B._destroyEditable();B.element.off(w);if(B.pager){B.pager.destroy()}t.destroy(B.element)}});t.ui.plugin(b)})(window.kendo.jQuery);(function(i,j){var u=window.kendo,b=u.ui.Widget,q=u.antiForgeryTokens,d=u.logToConsole,z=/\.([^\.]+)$/,A=".kendoUpload",c="select",o="upload",G="success",m="error",v="complete",g="cancel",F="progress",p="remove";var B=b.extend({init:function(L,K){var N=this;b.fn.init.call(N,L,K);N.name=L.name;N.multiple=N.options.multiple;N.localization=N.options.localization;var P=N.element;N.wrapper=P.closest(".k-upload");if(N.wrapper.length===0){N.wrapper=N._wrapInput(P)}N._activeInput(P);N.toggle(N.options.enabled);var M=N._ns=A+"-"+u.guid();P.closest("form").on("submit"+M,i.proxy(N._onParentFormSubmit,N)).on("reset"+M,i.proxy(N._onParentFormReset,N));if(N.options.async.saveUrl){N._module=N._supportsFormData()?new x(N):new t(N);N._async=true;var O=N.options.files;if(O.length>0){N._renderInitialFiles(O)}}else{N._module=new l(N)}if(N._supportsDrop()){N._setupDropZone()}N.wrapper.on("click",".k-upload-action",i.proxy(N._onFileAction,N)).on("click",".k-upload-selected",i.proxy(N._onUploadSelected,N));if(N.element.val()){N._onInputChange({target:N.element})}},events:[c,o,G,m,v,g,F,p],options:{name:"Upload",enabled:true,multiple:true,showFileList:true,template:"",files:[],async:{removeVerb:"POST",autoUpload:true,withCredentials:true},localization:{select:"Select files...",cancel:"Cancel",retry:"Retry",remove:"Remove",uploadSelectedFiles:"Upload files",dropFilesHere:"drop files here to upload",statusUploading:"uploading",statusUploaded:"uploaded",statusWarning:"warning",statusFailed:"failed",headerStatusUploading:"Uploading...",headerStatusUploaded:"Done"}},setOptions:function(K){var L=this,M=L.element;b.fn.setOptions.call(L,K);L.multiple=L.options.multiple;M.attr("multiple",L._supportsMultiple()?L.multiple:false);L.toggle(L.options.enabled)},enable:function(K){K=typeof(K)==="undefined"?true:K;this.toggle(K)},disable:function(){this.toggle(false)},toggle:function(K){K=typeof(K)==="undefined"?K:!K;this.wrapper.toggleClass("k-state-disabled",K);this.element.prop("disabled",K)},destroy:function(){var K=this;i(document).add(i(".k-dropzone",K.wrapper)).add(K.wrapper.closest("form")).off(K._ns);i(K.element).off(A);b.fn.destroy.call(K)},_addInput:function(M){if(!M[0].nodeType){return}var L=this,K=M.clone().val("");K.insertAfter(L.element).data("kendoUpload",L);i(L.element).hide().attr("tabindex","-1").removeAttr("id").off(A);L._activeInput(K);L.element.focus()},_activeInput:function(K){var L=this,M=L.wrapper;L.element=K;K.attr("multiple",L._supportsMultiple()?L.multiple:false).attr("autocomplete","off").on("click"+A,function(N){if(M.hasClass("k-state-disabled")){N.preventDefault()}}).on("focus"+A,function(){i(this).parent().addClass("k-state-focused")}).on("blur"+A,function(){i(this).parent().removeClass("k-state-focused")}).on("change"+A,i.proxy(L._onInputChange,L)).on("keydown"+A,i.proxy(L._onInputKeyDown,L))},_onInputKeyDown:function(M){var K=this;var L=K.wrapper.find(".k-upload-action:first");if(M.keyCode===u.keys.TAB&&L.length>0){M.preventDefault();L.focus()}},_onInputChange:function(O){var M=this;var K=i(O.target);var L=J(M._inputFiles(K),M._isAsyncNonBatch());var N=M.trigger(c,{files:L});if(N){M._addInput(K);K.remove()}else{M._module.onSelect({target:K},L)}},_onDrop:function(P){var N=P.originalEvent.dataTransfer;var M=this;var L=N.files;var K=J(n(L),M._isAsyncNonBatch());C(P);if(L.length>0){if(!M.multiple&&K.length>1){K.splice(1,K.length-1)}var O=M.trigger(c,{files:K});if(!O){M._module.onSelect({target:i(".k-dropzone",M.wrapper)},K)}}},_isAsyncNonBatch:function(){return(this._async&&!this.options.async.batch)||false},_renderInitialFiles:function(N){var M=this;var K=0;N=J(N,true);for(K=0;K<N.length;K++){var L=N[K];var O=M._enqueueFile(L.name,{fileNames:[L]});O.addClass("k-file-success").data("files",[N[K]]);i(".k-progress",O).width("100%");if(!M.options.template){i(".k-upload-status",O).prepend("<span class='k-upload-pct'>100%</span>")}if(M._supportsRemove()){M._fileAction(O,p)}}},_prepareTemplateData:function(M,O){var P=O.fileNames,N={},L=0,K=0;for(K=0;K<P.length;K++){L+=P[K].size}N.name=M;N.size=L;N.files=O.fileNames;return N},_prepareDefaultFileEntryTemplate:function(K,M){var N="";var L=i("<li class='k-file'><span class='k-progress'></span><span class='k-icon'></span><span class='k-filename' title='"+K+"'>"+K+"</span><strong class='k-upload-status'></strong></li>");if(M.fileNames.length==1&&!!M.fileNames[0].extension){N=M.fileNames[0].extension.substring(1);i(".k-icon",L).addClass("k-i-"+N)}return L},_enqueueFile:function(K,O){var Q=this;var M;var P;var N=O.fileNames[0].uid;var T=i(".k-upload-files",Q.wrapper);var U=Q.options;var S=U.template;var L;var R;if(T.length===0){T=i("<ul class='k-upload-files k-reset'></ul>").appendTo(Q.wrapper);if(!Q.options.showFileList){T.hide()}Q.wrapper.removeClass("k-upload-empty")}M=i(".k-file",T);if(!S){P=Q._prepareDefaultFileEntryTemplate(K,O)}else{L=Q._prepareTemplateData(K,O);S=u.template(S);P=i("<li class='k-file'>"+S(L)+"</li>");P.find(".k-upload-action").addClass("k-button k-button-bare");Q.angular("compile",function(){return{elements:P,data:[L]}})}P.attr(u.attr("uid"),N).appendTo(T).data(O);if(!Q._async){i(".k-progress",P).width("100%")}if(!Q.multiple&&M.length>0){R={files:M.data("fileNames")};if(!Q.trigger(p,R)){Q._module.onRemove({target:i(M,Q.wrapper)},R.data)}}return P},_removeFileEntry:function(O){var M=this;var K=O.closest(".k-upload-files");var N;var L;O.remove();N=i(".k-file",K);L=i(".k-file-success, .k-file-error",K);if(L.length===N.length){this._hideUploadButton()}if(N.length===0){K.remove();M.wrapper.addClass("k-upload-empty");M._hideHeaderUploadstatus()}},_fileAction:function(N,M){var L={remove:"k-delete",cancel:"k-cancel",retry:"k-retry"};var K={remove:"k-i-close",cancel:"k-i-close",retry:"k-i-refresh"};if(!L.hasOwnProperty(M)){return}this._clearFileAction(N);if(!this.options.template){N.find(".k-upload-status .k-upload-action").remove();N.find(".k-upload-status").append(this._renderAction(L[M],this.localization[M],K[M]))}else{N.find(".k-upload-action").addClass("k-button k-button-bare").append("<span class='k-icon "+K[M]+" "+L[M]+"' title='"+this.localization[M]+"'></span>").show()}},_fileState:function(O,N){var M=this.localization,K={uploading:{text:M.statusUploading},uploaded:{text:M.statusUploaded},failed:{text:M.statusFailed}},L=K[N];if(L){i(".k-icon:not(.k-delete, .k-cancel, .k-retry)",O).text(L.text)}},_renderAction:function(M,L,K){if(M!==""){return i("<button type='button' class='k-button k-button-bare k-upload-action'><span class='k-icon "+K+" "+M+"' title='"+L+"'></span></button>")}else{return i("<button type='button' class='k-button'>"+L+"</button>")}},_clearFileAction:function(K){i(".k-upload-action",K).empty().hide()},_onFileAction:function(O){var N=this;if(!N.wrapper.hasClass("k-state-disabled")){var L=i(O.target).closest(".k-upload-action"),M=L.find(".k-icon"),P=L.closest(".k-file"),K={files:P.data("fileNames")};if(M.hasClass("k-delete")){if(!N.trigger(p,K)){N._module.onRemove({target:i(P,N.wrapper)},K.data)}}else{if(M.hasClass("k-cancel")){N.trigger(g,K);N._module.onCancel({target:i(P,N.wrapper)});this._checkAllComplete();N._updateHeaderUploadStatus()}else{if(M.hasClass("k-retry")){i(".k-warning",P).remove();N._module.onRetry({target:i(P,N.wrapper)})}}}}return false},_onUploadSelected:function(){var K=this;var L=K.wrapper;if(!L.hasClass("k-state-disabled")){this._module.onSaveSelected()}return false},_onFileProgress:function(L,K){var M;if(!this.options.template){M=i(".k-upload-pct",L.target);if(M.length===0){i(".k-upload-status",L.target).prepend("<span class='k-upload-pct'></span>")}i(".k-upload-pct",L.target).text(K+"%");i(".k-progress",L.target).width(K+"%")}else{i(".k-progress",L.target).width(K+"%")}this.trigger(F,{files:H(L).data("fileNames"),percentComplete:K})},_onUploadSuccess:function(L,K,M){var N=H(L);this._fileState(N,"uploaded");N.removeClass("k-file-progress").addClass("k-file-success");this._updateHeaderUploadStatus();this.trigger(G,{files:N.data("fileNames"),response:K,operation:"upload",XMLHttpRequest:M});if(this._supportsRemove()){this._fileAction(N,p)}else{this._clearFileAction(N)}this._checkAllComplete()},_onUploadError:function(L,M){var N=H(L);var K=i(".k-upload-pct",N);this._fileState(N,"failed");N.removeClass("k-file-progress").addClass("k-file-error");i(".k-progress",N).width("100%");if(K.length>0){K.empty().removeClass("k-upload-pct").addClass("k-icon k-warning")}else{i(".k-upload-status",N).prepend("<span class='k-icon k-warning'></span>")}this._updateHeaderUploadStatus();this._fileAction(N,"retry");this.trigger(m,{operation:"upload",files:N.data("fileNames"),XMLHttpRequest:M});d("Server response: "+M.responseText);this._checkAllComplete()},_showUploadButton:function(){var K=i(".k-upload-selected",this.wrapper);if(K.length===0){K=this._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected")}this.wrapper.append(K)},_hideUploadButton:function(){i(".k-upload-selected",this.wrapper).remove()},_showHeaderUploadStatus:function(){var M=this.localization;var L=i(".k-dropzone",this.wrapper);var K=i(".k-upload-status-total",this.wrapper);if(K.length!==0){K.remove()}K='<strong class="k-upload-status k-upload-status-total">'+M.headerStatusUploading+'<span class="k-icon k-loading">'+M.statusUploading+"</span></strong>";if(L.length>0){L.append(K)}else{i(".k-upload-button",this.wrapper).after(K)}},_updateHeaderUploadStatus:function(){var O=this;var P=O.localization;var M=i(".k-file",O.wrapper).not(".k-file-success, .k-file-error");var N;var K;var L;if(M.length===0){N=i(".k-file.k-file-error",O.wrapper);K=i(".k-upload-status-total",O.wrapper);L=i(".k-icon",K).removeClass("k-loading").addClass((N.length!==0)?"k-warning":"k-i-tick").text((N.length!==0)?P.statusWarning:P.statusUploaded);K.text(O.localization.headerStatusUploaded).append(L)}},_hideHeaderUploadstatus:function(){i(".k-upload-status-total",this.wrapper).remove()},_onParentFormSubmit:function(){var L=this,M=L.element;if(typeof this._module.onAbort!=="undefined"){this._module.onAbort()}if(!M.value){var K=i(M);K.attr("disabled","disabled");window.setTimeout(function(){K.removeAttr("disabled")},0)}},_onParentFormReset:function(){i(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return typeof(FormData)!="undefined"},_supportsMultiple:function(){var K=this._userAgent().indexOf("Windows")>-1;return !u.support.browser.opera&&!(u.support.browser.safari&&K)},_supportsDrop:function(){var M=this._userAgent().toLowerCase(),N=/chrome/.test(M),L=!N&&/safari/.test(M),K=L&&/windows/.test(M);return !K&&this._supportsFormData()&&(this.options.async.saveUrl)},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){var L=this;i(".k-upload-button",this.wrapper).wrap("<div class='k-dropzone'></div>");var K=L._ns;var M=i(".k-dropzone",L.wrapper).append(i("<em>"+L.localization.dropFilesHere+"</em>")).on("dragenter"+K,C).on("dragover"+K,function(N){N.preventDefault()}).on("drop"+K,i.proxy(this._onDrop,this));w(M,K,function(){M.addClass("k-dropzone-hovered")},function(){M.removeClass("k-dropzone-hovered")});w(i(document),K,function(){M.addClass("k-dropzone-active");M.closest(".k-upload").removeClass("k-upload-empty")},function(){M.removeClass("k-dropzone-active");if(i("li.k-file",M.closest(".k-upload")).length===0){M.closest(".k-upload").addClass("k-upload-empty")}})},_supportsRemove:function(){return !!this.options.async.removeUrl},_submitRemove:function(K,N,P,M){var L=this,Q=L.options.async.removeField||"fileNames",O=i.extend(N,q());O[Q]=K;jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",dataFilter:k,url:this.options.async.removeUrl,traditional:true,data:O,success:P,error:M,xhrFields:{withCredentials:this.options.async.withCredentials}})},_wrapInput:function(K){var M=this;var L=M.options;K.wrap("<div class='k-widget k-upload k-header'><div class='k-button k-upload-button'></div></div>");if(!L.async.saveUrl){K.closest(".k-upload").addClass("k-upload-sync")}K.closest(".k-upload").addClass("k-upload-empty");K.closest(".k-button").append("<span>"+this.localization.select+"</span>");return K.closest(".k-upload")},_checkAllComplete:function(){if(i(".k-file.k-file-progress",this.wrapper).length===0){this.trigger(v)}},_inputFiles:function(K){return r(K)}});var l=function(K){this.name="syncUploadModule";this.element=K.wrapper;this.upload=K;this.element.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")};l.prototype={onSelect:function(N,M){var K=this.upload;var O=i(N.target);K._addInput(O);var L=K._enqueueFile(E(O),{relatedInput:O,fileNames:M});K._fileAction(L,p)},onRemove:function(K){var L=H(K);L.data("relatedInput").remove();this.upload._removeFileEntry(L)}};var t=function(K){this.name="iframeUploadModule";this.element=K.wrapper;this.upload=K;this.iframes=[]};B._frameId=0;t.prototype={onSelect:function(M,L){var K=this.upload,O=i(M.target);var N=this.prepareUpload(O,L);if(K.options.async.autoUpload){this.performUpload(N)}else{if(K._supportsRemove()){this.upload._fileAction(N,p)}K._showUploadButton()}},prepareUpload:function(R,O){var L=this.upload;var Q=i(L.element);var K=L.options.async.saveField||R.attr("name");L._addInput(R);R.attr("name",K);var M=this.createFrame(L.name+"_"+B._frameId++);this.registerFrame(M);var N=this.createForm(L.options.async.saveUrl,M.attr("name")).append(Q);var P=L._enqueueFile(E(R),{frame:M,relatedInput:Q,fileNames:O});M.data({form:N,file:P});return P},performUpload:function(Q){var P={files:Q.data("fileNames")},N=Q.data("frame"),L=this.upload;if(!L.trigger(o,P)){L._hideUploadButton();L._showHeaderUploadStatus();N.appendTo(document.body);var O=N.data("form").attr("action",L.options.async.saveUrl).appendTo(document.body);P.data=i.extend({},P.data,q());for(var M in P.data){var K=O.find("input[name='"+M+"']");if(K.length===0){K=i("<input>",{type:"hidden",name:M}).prependTo(O)}K.val(P.data[M])}L._fileAction(Q,g);L._fileState(Q,"uploading");i(Q).removeClass("k-file-error").addClass("k-file-progress");N.one("load",i.proxy(this.onIframeLoad,this));O[0].submit()}else{L._removeFileEntry(N.data("file"));this.cleanupFrame(N);this.unregisterFrame(N)}},onSaveSelected:function(){var K=this;i(".k-file",this.element).each(function(){var M=i(this),L=I(M);if(!L){K.performUpload(M)}})},onIframeLoad:function(N){var L=i(N.target),M;try{M=L.contents().text()}catch(K){M="Error trying to get server response: "+K}this.processResponse(L,M)},processResponse:function(L,M){var O=L.data("file"),K=this,N={responseText:M};D(M,function(P){i.extend(N,{statusText:"OK",status:"200"});K.upload._onFileProgress({target:i(O,K.upload.wrapper)},100);K.upload._onUploadSuccess({target:i(O,K.upload.wrapper)},P,N);K.cleanupFrame(L);K.unregisterFrame(L)},function(){i.extend(N,{statusText:"error",status:"500"});K.upload._onUploadError({target:i(O,K.upload.wrapper)},N)})},onCancel:function(L){var K=i(L.target).data("frame");this.stopFrameSubmit(K);this.cleanupFrame(K);this.unregisterFrame(K);this.upload._removeFileEntry(K.data("file"))},onRetry:function(K){var L=H(K);this.performUpload(L)},onRemove:function(M,L){var N=H(M);var K=N.data("frame");if(K){this.unregisterFrame(K);this.upload._removeFileEntry(N);this.cleanupFrame(K)}else{s(N,this.upload,L)}},onAbort:function(){var L=this.element,K=this;i.each(this.iframes,function(){i("input",this.data("form")).appendTo(L);K.stopFrameSubmit(this[0]);this.data("form").remove();this.remove()});this.iframes=[]},createFrame:function(K){return i("<iframe name='"+K+"' id='"+K+"' style='display:none;' />")},createForm:function(K,L){return i("<form enctype='multipart/form-data' method='POST' action='"+K+"' target='"+L+"'/>")},stopFrameSubmit:function(K){if(typeof(K.stop)!="undefined"){K.stop()}else{if(K.document){K.document.execCommand("Stop")}}},registerFrame:function(K){this.iframes.push(K)},unregisterFrame:function(K){this.iframes=i.grep(this.iframes,function(L){return L.attr("name")!=K.attr("name")})},cleanupFrame:function(L){var K=L.data("form");L.data("file").data("frame",null);setTimeout(function(){K.remove();L.remove()},1)}};var x=function(K){this.name="formDataUploadModule";this.element=K.wrapper;this.upload=K};x.prototype={onSelect:function(P,O){var M=this.upload,N=this,L=i(P.target),K=this.prepareUpload(L,O);i.each(K,function(){if(M.options.async.autoUpload){N.performUpload(this)}else{if(M._supportsRemove()){M._fileAction(this,p)}M._showUploadButton()}})},prepareUpload:function(L,M){var K=this.enqueueFiles(M);if(L.is("input")){i.each(K,function(){i(this).data("relatedInput",L)});L.data("relatedFileEntries",K);this.upload._addInput(L)}return K},enqueueFiles:function(Q){var N=this.upload,M,P,O=Q.length,K,R,L=[];if(N.options.async.batch===true){M=i.map(Q,function(S){return S.name}).join(", ");R=N._enqueueFile(M,{fileNames:Q});R.data("files",Q);L.push(R)}else{for(P=0;P<O;P++){K=Q[P];M=K.name;R=N._enqueueFile(M,{fileNames:[K]});R.data("files",[K]);L.push(R)}}return L},performUpload:function(P){var K=this.upload,N=this.createFormData(),O=this.createXHR(),M={files:P.data("fileNames"),XMLHttpRequest:O};if(!K.trigger(o,M)){K._fileAction(P,g);K._hideUploadButton();K._showHeaderUploadStatus();if(M.formData){N=M.formData}else{M.data=i.extend({},M.data,q());for(var L in M.data){N.append(L,M.data[L])}this.populateFormData(N,P.data("files"))}K._fileState(P,"uploading");i(P).removeClass("k-file-error").addClass("k-file-progress");this.postFormData(K.options.async.saveUrl,N,P,O)}else{this.removeFileEntry(P)}},onSaveSelected:function(){var K=this;i(".k-file",this.element).each(function(){var M=i(this),L=I(M);if(!L){K.performUpload(M)}})},onCancel:function(K){var L=H(K);this.stopUploadRequest(L);this.removeFileEntry(L)},onRetry:function(K){var L=H(K);this.performUpload(L)},onRemove:function(L,K){var M=H(L);if(M.hasClass("k-file-success")){s(M,this.upload,K)}else{this.removeFileEntry(M)}},createXHR:function(){return new XMLHttpRequest()},postFormData:function(K,M,O,N){var L=this;O.data("request",N);N.addEventListener("load",function(P){L.onRequestSuccess.call(L,P,O)},false);N.addEventListener(m,function(P){L.onRequestError.call(L,P,O)},false);N.upload.addEventListener("progress",function(P){L.onRequestProgress.call(L,P,O)},false);N.open("POST",K,true);N.withCredentials=this.upload.options.async.withCredentials;N.send(M)},createFormData:function(){return new FormData()},populateFormData:function(O,N){var K=this.upload,L,M=N.length;for(L=0;L<M;L++){O.append(K.options.async.saveField||K.name,N[L].rawFile)}return O},onRequestSuccess:function(M,O){var N=M.target,L=this;function K(){L.upload._onUploadError({target:i(O,L.upload.wrapper)},N)}if(N.status>=200&&N.status<=299){D(N.responseText,function(P){L.upload._onFileProgress({target:i(O,L.upload.wrapper)},100);L.upload._onUploadSuccess({target:i(O,L.upload.wrapper)},P,N);L.cleanupFileEntry(O)},K)}else{K()}},onRequestError:function(K,M){var L=K.target;this.upload._onUploadError({target:i(M,this.upload.wrapper)},L)},cleanupFileEntry:function(M){var K=M.data("relatedInput"),L=true;if(K){i.each(K.data("relatedFileEntries")||[],function(){if(this.parent().length>0&&this[0]!=M[0]){L=L&&this.hasClass("k-file-success")}});if(L){K.remove()}}},removeFileEntry:function(K){this.cleanupFileEntry(K);this.upload._removeFileEntry(K)},onRequestProgress:function(L,M){var K=Math.round(L.loaded*100/L.total);this.upload._onFileProgress({target:i(M,this.upload.wrapper)},K)},stopUploadRequest:function(K){K.data("request").abort()}};function E(K){return i.map(r(K),function(L){return L.name}).join(", ")}function r(L){var K=L[0];if(K.files){return n(K.files)}else{return[{name:f(K.value),extension:e(K.value),size:null}]}}function n(K){return i.map(K,function(L){return y(L)})}function y(K){var L=K.name||K.fileName;return{name:u.htmlEncode(L),extension:e(L),size:K.size||K.fileSize,rawFile:K}}function e(L){var K=L.match(z);return K?K[0]:""}function f(K){var L=K.lastIndexOf("\\");return(L!=-1)?K.substr(L+1):K}function J(L,M){var K=u.guid();return i.map(L,function(N){N.uid=M?u.guid():K;return N})}function h(K){return !K.multiple&&i(".k-file",K.wrapper).length>1}function s(Q,L,O){if(!L._supportsRemove()){if(h(L)){L._removeFileEntry(Q)}return}var N=Q.data("fileNames");var K=i.map(N,function(R){return R.name});L._submitRemove(K,O,function P(R,T,S){L._removeFileEntry(Q);L.trigger(G,{operation:"remove",files:N,response:R,XMLHttpRequest:S})},function M(R){if(h(L)){L._removeFileEntry(Q)}L.trigger(m,{operation:"remove",files:N,XMLHttpRequest:R});d("Server response: "+R.responseText)})}function D(K,P,M){var O=false,L="";try{L=i.parseJSON(k(K));O=true}catch(N){M()}if(O){P(L)}}function k(K){if(typeof K==="undefined"||K===""){K="{}"}return K}function C(K){K.stopPropagation();K.preventDefault()}function w(M,O,P,L){var K,N;M.on("dragenter"+O,function(){P();N=new Date();if(!K){K=setInterval(function(){var Q=new Date()-N;if(Q>100){L();clearInterval(K);K=null}},100)}}).on("dragover"+O,function(){N=new Date()})}function I(K){return K.is(".k-file-progress, .k-file-success, .k-file-error")}function H(K){return i(K.target).closest(".k-file")}u.ui.plugin(B)})(window.kendo.jQuery);(function(h,l){var v=window.kendo,d=v.ui.Widget,u=h.isPlainObject,z=h.proxy,E=h.extend,y=v.support.placeholder,F=v.support.browser,b=v.isFunction,x=/(^\/|\/$)/g,t="change",j="apply",m="error",i="click",A=".kendoFileBrowser",g=".kendoBreadcrumbs",q=".kendoSearchBox",r="name",s="size",c="type",C={field:c,dir:"asc"},n=v.template('<li class="k-tile-empty"><strong>${text}</strong></li>'),G='<div class="k-widget k-filebrowser-toolbar k-header k-floatwrap"><div class="k-toolbar-wrap"># if (showUpload) { # <div class="k-widget k-upload"><div class="k-button k-button-icontext k-upload-button"><span class="k-icon k-add"></span>#=messages.uploadFile#<input type="file" name="file" /></div></div># } ## if (showCreate) { #<button type="button" class="k-button k-button-icon"><span class="k-icon k-addfolder" /></button># } ## if (showDelete) { #<button type="button" class="k-button k-button-icon k-state-disabled"><span class="k-icon k-delete" /></button>&nbsp;# } #</div><div class="k-tiles-arrange"><label>#=messages.orderBy#: <select /></label></a></div></div>';E(true,v.data,{schemas:{filebrowser:{data:function(H){return H.items||H||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}});E(true,v.data,{transports:{filebrowser:v.data.RemoteTransport.extend({init:function(H){v.data.RemoteTransport.fn.init.call(this,h.extend(true,{},this.options,H))},_call:function(I,H){H.data=h.extend({},H.data,{path:this.options.path()});if(b(this.options[I])){this.options[I].call(this,H)}else{v.data.RemoteTransport.fn[I].call(this,H)}},read:function(H){this._call("read",H)},create:function(H){this._call("create",H)},destroy:function(H){this._call("destroy",H)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}});function w(J,L,I){var H,K;J.on("dragenter"+A,function(){L();K=new Date();if(!H){H=setInterval(function(){var M=new Date()-K;if(M>100){I();clearInterval(H);H=null}},100)}}).on("dragover"+A,function(){K=new Date()})}var B;if(F.msie&&F.version<8){B=function(H){return H.offsetTop}}else{B=function(H){return H.offsetTop-h(H).height()}}function k(I,H){if(I===l||!I.match(/\/$/)){I=(I||"")+"/"}return I+H}function o(H){if(!H){return""}var I=" bytes";if(H>=1073741824){I=" GB";H/=1073741824}else{if(H>=1048576){I=" MB";H/=1048576}else{if(H>=1024){I=" KB";H/=1024}}}return Math.round(H*100)/100+I}function e(H,I){var J=H[I];if(u(J)){return J.from||J.field||I}return J}var f=d.extend({init:function(I,H){var J=this;H=H||{};d.fn.init.call(J,I,H);J.element.addClass("k-filebrowser");J.element.on(i+A,".k-filebrowser-toolbar button:not(.k-state-disabled):has(.k-delete)",z(J._deleteClick,J)).on(i+A,".k-filebrowser-toolbar button:not(.k-state-disabled):has(.k-addfolder)",z(J._addClick,J)).on("keydown"+A,"li.k-state-selected input",z(J._directoryKeyDown,J)).on("blur"+A,"li.k-state-selected input",z(J._directoryBlur,J));J._dataSource();J.refresh();J.path(J.options.path)},options:{name:"FileBrowser",messages:{uploadFile:"Upload",orderBy:"Arrange by",orderByName:"Name",orderBySize:"Size",directoryNotFound:"A directory with this name was not found.",emptyFolder:"Empty Folder",deleteFile:'Are you sure you want to delete "{0}"?',invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',dropFilesHere:"drop file here to upload",search:"Search"},transport:{},path:"/",fileTypes:"*.*"},events:[m,t,j],destroy:function(){var H=this;d.fn.destroy.call(H);H.dataSource.unbind(m,H._errorHandler);H.element.add(H.list).add(H.toolbar).off(A);v.destroy(H.element)},value:function(){var J=this,I=J._selectedItem(),K,H=J.options.transport.fileUrl;if(I&&I.get(c)==="f"){K=k(J.path(),I.get(r)).replace(x,"");if(H){K=b(H)?H(K):v.format(H,encodeURIComponent(K))}return K}},_selectedItem:function(){var H=this.listView,I=H.select();if(I.length){return this.dataSource.getByUid(I.attr(v.attr("uid")))}},_toolbar:function(){var J=this,H=v.template(G),I=J.options.messages,K=[{text:I.orderByName,value:"name"},{text:I.orderBySize,value:"size"}];J.toolbar=h(H({messages:I,showUpload:J.options.transport.uploadUrl,showCreate:J.options.transport.create,showDelete:J.options.transport.destroy})).appendTo(J.element).find(".k-upload input").kendoUpload({multiple:false,localization:{dropFilesHere:I.dropFilesHere},async:{saveUrl:J.options.transport.uploadUrl,autoUpload:true},upload:z(J._fileUpload,J),error:function(L){J._error({xhr:L.XMLHttpRequest,status:"error"})}}).end();J.upload=J.toolbar.find(".k-upload input").data("kendoUpload");J.arrangeBy=J.toolbar.find(".k-tiles-arrange select").kendoDropDownList({dataSource:K,dataTextField:"text",dataValueField:"value",change:function(){J.orderBy(this.value())}}).data("kendoDropDownList");J._attachDropzoneEvents()},_attachDropzoneEvents:function(){var H=this;if(H.options.transport.uploadUrl){w(h(document.documentElement),h.proxy(H._dropEnter,H),h.proxy(H._dropLeave,H));H._scrollHandler=z(H._positionDropzone,H)}},_dropEnter:function(){this._positionDropzone();h(document).on("scroll"+A,this._scrollHandler)},_dropLeave:function(){this._removeDropzone();h(document).off("scroll"+A,this._scrollHandler)},_positionDropzone:function(){var I=this,H=I.element,J=H.offset();I.toolbar.find(".k-dropzone").addClass("k-filebrowser-dropzone").offset(J).css({width:H[0].clientWidth,height:H[0].clientHeight,lineHeight:H[0].clientHeight+"px"})},_removeDropzone:function(){this.toolbar.find(".k-dropzone").removeClass("k-filebrowser-dropzone").css({width:"",height:"",lineHeight:"",top:"",left:""})},_deleteClick:function(){var J=this,I=J.listView.select(),H=v.format(J.options.messages.deleteFile,I.find("strong").text());if(I.length&&J._showMessage(H,"confirm")){J.listView.remove(I)}},_addClick:function(){this.createDirectory()},_getFieldName:function(H){return e(this.dataSource.reader.model.fields,H)},_fileUpload:function(M){var L=this,P=L.options,H=P.fileTypes,O=new RegExp(("("+H.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),I=M.files[0].name,J=r,N=s,K;if(O.test(I)){M.data={path:L.path()};K=L._createFile(I);if(!K){M.preventDefault()}else{L.upload.one("success",function(Q){K.set(J,Q.response[L._getFieldName(J)]);K.set(N,Q.response[L._getFieldName(N)]);L._tiles=L.listView.items().filter("["+v.attr("type")+"=f]")})}}else{M.preventDefault();L._showMessage(v.format(P.messages.invalidFileType,I,H))}},_findFile:function(K){var M=this.dataSource.data(),I,H,N=c,J=r,L;K=K.toLowerCase();for(I=0,L=M.length;I<L;I++){if(M[I].get(N)==="f"&&M[I].get(J).toLowerCase()===K){H=M[I];break}}return H},_createFile:function(J){var L=this,P,H,M=0,K={},O=c,N=L.dataSource.view(),I=L._findFile(J);if(I&&!L._showMessage(v.format(L.options.messages.overwriteFile,J),"confirm")){return null}if(I){return I}for(P=0,H=N.length;P<H;P++){if(N[P].get(O)==="f"){M=P;break}}K[O]="f";K[r]=J;K[s]=0;return L.dataSource.insert(++M,K)},createDirectory:function(){var L=this,P,I,J=0,N=c,O=r,M=L.dataSource.data(),H=L._nameDirectory(),K=new L.dataSource.reader.model();for(P=0,I=M.length;P<I;P++){if(M[P].get(N)==="d"){J=P}}K.set(N,"d");K.set(O,H);L.listView.one("dataBound",function(){var R=L.listView.items().filter("["+v.attr("uid")+"="+K.uid+"]"),Q=R.find("input");if(R.length){this.edit(R)}this.element.scrollTop(R.attr("offsetTop")-this.element[0].offsetHeight);setTimeout(function(){Q.select()})}).one("save",function(R){var Q=R.model.get(O);if(!Q){R.model.set(O,H)}else{R.model.set(O,L._nameExists(Q,K.uid)?L._nameDirectory():Q)}});L.dataSource.insert(++J,K)},_directoryKeyDown:function(H){if(H.keyCode==13){H.currentTarget.blur()}},_directoryBlur:function(){this.listView.save()},_nameExists:function(J,K){var M=this.dataSource.data(),N=c,I=r,H,L;for(H=0,L=M.length;H<L;H++){if(M[H].get(N)==="d"&&M[H].get(I).toLowerCase()===J.toLowerCase()&&M[H].uid!==K){return true}}return false},_nameDirectory:function(){var K="New folder",N=this.dataSource.data(),J=[],O=c,I=r,L,H,M;for(H=0,M=N.length;H<M;H++){if(N[H].get(O)==="d"&&N[H].get(I).toLowerCase().indexOf(K.toLowerCase())>-1){J.push(N[H].get(I))}}if(h.inArray(K,J)>-1){H=2;do{L=K+" ("+H+")";H++}while(h.inArray(L,J)>-1);K=L}return K},orderBy:function(H){this.dataSource.sort([{field:c,dir:"asc"},{field:H,dir:"asc"}])},search:function(H){this.dataSource.filter({field:r,operator:"contains",value:H})},_content:function(){var H=this;H.list=h('<ul class="k-reset k-floats k-tiles" />').appendTo(H.element).on("dblclick"+A,"li",z(H._dblClick,H));H.listView=new v.ui.ListView(H.list,{dataSource:H.dataSource,template:H._itemTmpl(),editTemplate:H._editTmpl(),selectable:true,autoBind:false,dataBinding:function(I){H.toolbar.find(".k-delete").parent().addClass("k-state-disabled");if(I.action==="remove"||I.action==="sync"){I.preventDefault()}},dataBound:function(){if(H.dataSource.view().length){H._tiles=this.items().filter("["+v.attr("type")+"=f]")}else{this.wrapper.append(n({text:H.options.messages.emptyFolder}))}},change:z(H._listViewChange,H)})},_dblClick:function(K){var J=this,H=h(K.currentTarget);if(H.hasClass("k-edit-item")){J._directoryBlur()}if(H.filter("["+v.attr("type")+"=d]").length){var I=J.dataSource.getByUid(H.attr(v.attr("uid")));if(I){J.path(k(J.path(),I.get(r)));J.breadcrumbs.value(J.path())}}else{if(H.filter("["+v.attr("type")+"=f]").length){J.trigger(j)}}},_listViewChange:function(){var H=this._selectedItem();if(H){this.toolbar.find(".k-delete").parent().removeClass("k-state-disabled");if(H.get(c)==="f"){this.trigger(t)}}},_dataSource:function(){var K=this,I=K.options,N=I.transport,H=E({},C),L={field:r,dir:"asc"},J,M={type:N.type||"filebrowser",sort:[H,L]};if(u(N)){N.path=z(K.path,K);M.transport=N}if(u(I.schema)){M.schema=I.schema}else{if(N.type&&u(v.data.schemas[N.type])){J=v.data.schemas[N.type]}}if(K.dataSource&&K._errorHandler){K.dataSource.unbind(m,K._errorHandler)}else{K._errorHandler=z(K._error,K)}K.dataSource=v.data.DataSource.create(M).bind(m,K._errorHandler)},_navigation:function(){var I=this,H=h('<div class="k-floatwrap"><input/><input/></div>').appendTo(this.element);I.breadcrumbs=H.find("input:first").kendoBreadcrumbs({value:I.options.path,change:function(){I.path(this.value())}}).data("kendoBreadcrumbs");I.searchBox=H.parent().find("input:last").kendoSearchBox({label:I.options.messages.search,change:function(){I.search(this.value())}}).data("kendoSearchBox")},_error:function(J){var I=this,H;if(!I.trigger(m,J)){H=J.xhr.status;if(J.status=="error"){if(H=="404"){I._showMessage(I.options.messages.directoryNotFound)}else{if(H!="0"){I._showMessage("Error! The requested URL returned "+H+" - "+J.xhr.statusText)}}}else{if(H=="timeout"){I._showMessage("Error! Server timeout.")}}}},_showMessage:function(I,H){return window[H||"alert"](I)},refresh:function(){var H=this;H._navigation();H._toolbar();H._content()},_editTmpl:function(){var H='<li class="k-tile k-state-selected" '+v.attr("uid")+'="#=uid#" ';H+=v.attr("type")+'="${'+c+'}">';H+="#if("+c+' == "d") { #';H+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>';H+="#}else{#";H+='<div class="k-thumb"><span class="k-icon k-loading"></span></div>';H+="#}#";H+="#if("+c+' == "d") { #';H+='<input class="k-input" '+v.attr("bind")+'="value:'+r+'"/>';H+="#}#";H+="</li>";return z(v.template(H),{sizeFormatter:o})},_itemTmpl:function(){var I=this,H='<li class="k-tile" '+v.attr("uid")+'="#=uid#" ';H+=v.attr("type")+'="${'+c+'}">';H+="#if("+c+' == "d") { #';H+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>';H+="#}else{#";H+='<div class="k-thumb"><span class="k-icon k-file"></span></div>';H+="#}#";H+="<strong>${"+r+"}</strong>";H+="#if("+c+' == "f") { # <span class="k-filesize">${this.sizeFormatter('+s+")}</span> #}#";H+="</li>";return z(v.template(H),{sizeFormatter:o})},path:function(I){var H=this,J=H._path||"";if(I!==l){H._path=I.replace(x,"")+"/";H.dataSource.read({path:H._path});return}if(J){J=J.replace(x,"")}return J==="/"||J===""?"":(J+"/")}});var p=d.extend({init:function(I,H){var J=this;H=H||{};d.fn.init.call(J,I,H);if(y){J.element.attr("placeholder",J.options.label)}J._wrapper();J.element.on("keydown"+q,z(J._keydown,J)).on("change"+q,z(J._updateValue,J));J.wrapper.on(i+q,"a",z(J._click,J));if(!y){J.element.on("focus"+q,z(J._focus,J)).on("blur"+q,z(J._blur,J))}},options:{name:"SearchBox",label:"Search",value:""},events:[t],destroy:function(){var H=this;H.wrapper.add(H.element).add(H.label).off(q);d.fn.destroy.call(H)},_keydown:function(H){if(H.keyCode===13){this._updateValue()}},_click:function(H){H.preventDefault();this._updateValue()},_updateValue:function(){var H=this,I=H.element.val();if(I!==H.value()){H.value(I);H.trigger(t)}},_blur:function(){this._updateValue();this._toggleLabel()},_toggleLabel:function(){if(!y){this.label.toggle(!this.element.val())}},_focus:function(){this.label.hide()},_wrapper:function(){var H=this.element,I=H.parents(".k-search-wrap");H[0].style.width="";H.addClass("k-input");if(!I.length){I=H.wrap(h('<div class="k-widget k-search-wrap k-textbox"/>')).parent();if(!y){h('<label style="display:block">'+this.options.label+"</label>").insertBefore(H)}h('<a href="#" class="k-icon k-i-search k-search"/>').appendTo(I)}this.wrapper=I;this.label=I.find(">label")},value:function(I){var H=this;if(I!==l){H.options.value=I;H.element.val(I);H._toggleLabel();return}return H.options.value}});var D=d.extend({init:function(I,H){var J=this;H=H||{};d.fn.init.call(J,I,H);J._wrapper();J.wrapper.on("focus"+g,"input",z(J._focus,J)).on("blur"+g,"input",z(J._blur,J)).on("keydown"+g,"input",z(J._keydown,J)).on(i+g,"a.k-i-arrow-n:first",z(J._rootClick,J)).on(i+g,"a:not(.k-i-arrow-n)",z(J._click,J));J.value(J.options.value)},options:{name:"Breadcrumbs",gap:50},events:[t],destroy:function(){var H=this;d.fn.destroy.call(H);H.wrapper.add(H.wrapper.find("input")).add(H.wrapper.find("a")).off(g)},_update:function(H){H=(H||"").charAt(0)==="/"?H:("/"+(H||""));if(H!==this.value()){this.value(H);this.trigger(t)}},_click:function(H){H.preventDefault();this._update(this._path(h(H.target).prevAll("a:not(.k-i-arrow-n)").addBack()))},_rootClick:function(H){H.preventDefault();this._update("")},_focus:function(){var I=this,H=I.element;I.overlay.hide();I.element.val(I.value());setTimeout(function(){H.select()})},_blur:function(){if(this.overlay.is(":visible")){return}var I=this,H=I.element,J=H.val().replace(/\/{2,}/g,"/");I.overlay.show();H.val("");I._update(J)},_keydown:function(I){var H=this;if(I.keyCode===13){H._blur();setTimeout(function(){H.overlay.find("a:first").focus()})}},_wrapper:function(){var I=this.element,J=I.parents(".k-breadcrumbs"),H;I[0].style.width="";I.addClass("k-input");if(!J.length){J=I.wrap(h('<div class="k-widget k-breadcrumbs k-textbox"/>')).parent()}H=J.find(".k-breadcrumbs-wrap");if(!H.length){H=h('<div class="k-breadcrumbs-wrap"/>').appendTo(J)}this.wrapper=J;this.overlay=H},refresh:function(){var J="",M=this.value(),I,L,H,K;if(M===l||!M.match(/^\//)){M="/"+(M||"")}I=M.split("/");for(H=0,K=I.length;H<K;H++){L=I[H];if(L){if(!J){J+='<a href="#" class="k-icon k-i-arrow-n">root</a>'}J+='<a class="k-link" href="#">'+I[H]+"</a>";J+='<span class="k-icon k-i-arrow-e">&gt;</span>'}}this.overlay.empty().append(h(J));this._adjustSectionWidth()},_adjustSectionWidth:function(){var K=this,L=K.wrapper,J=L.width()-K.options.gap,I=K.overlay.find("a"),H;I.each(function(M){H=h(this);if(H.parent().width()>J){if(M==I.length-1){H.width(J)}else{H.prev().addBack().hide()}}})},value:function(H){if(H!==l){this._value=H.replace(/\/{2,}/g,"/");this.refresh();return}return this._value},_path:function(H){return"/"+h.map(H,function(I){return h(I).text()}).join("/")}});v.ui.plugin(f);v.ui.plugin(D);v.ui.plugin(p)})(window.kendo.jQuery);(function(g,k){var t=window.kendo,d=t.ui.Widget,f=t.ui.FileBrowser,s=g.isPlainObject,x=g.proxy,B=g.extend,w=t.support.placeholder,C=t.support.browser,b=t.isFunction,v=/(^\/|\/$)/g,r="change",i="apply",m="error",h="click",y=".kendoImageBrowser",p="name",q="size",c="type",A={field:c,dir:"asc"},n=t.template('<li class="k-tile-empty"><strong>${text}</strong></li>'),D='<div class="k-widget k-filebrowser-toolbar k-header k-floatwrap"><div class="k-toolbar-wrap"># if (showUpload) { # <div class="k-widget k-upload"><div class="k-button k-button-icontext k-upload-button"><span class="k-icon k-add"></span>#=messages.uploadFile#<input type="file" name="file" /></div></div># } ## if (showCreate) { #<button type="button" class="k-button k-button-icon"><span class="k-icon k-addfolder" /></button># } ## if (showDelete) { #<button type="button" class="k-button k-button-icon k-state-disabled"><span class="k-icon k-delete" /></button>&nbsp;# } #</div><div class="k-tiles-arrange"><label>#=messages.orderBy#: <select /></label></a></div></div>';B(true,t.data,{schemas:{imagebrowser:{data:function(E){return E.items||E||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}});B(true,t.data,{transports:{imagebrowser:t.data.RemoteTransport.extend({init:function(E){t.data.RemoteTransport.fn.init.call(this,g.extend(true,{},this.options,E))},_call:function(F,E){E.data=g.extend({},E.data,{path:this.options.path()});if(b(this.options[F])){this.options[F].call(this,E)}else{t.data.RemoteTransport.fn[F].call(this,E)}},read:function(E){this._call("read",E)},create:function(E){this._call("create",E)},destroy:function(E){this._call("destroy",E)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}});function u(G,I,F){var E,H;G.on("dragenter"+y,function(){I();H=new Date();if(!E){E=setInterval(function(){var J=new Date()-H;if(J>100){F();clearInterval(E);E=null}},100)}}).on("dragover"+y,function(){H=new Date()})}var z;if(C.msie&&C.version<8){z=function(E){return E.offsetTop}}else{z=function(E){return E.offsetTop-g(E).height()}}function j(F,E){if(F===k||!F.match(/\/$/)){F=(F||"")+"/"}return F+E}function o(E){if(!E){return""}var F=" bytes";if(E>=1073741824){F=" GB";E/=1073741824}else{if(E>=1048576){F=" MB";E/=1048576}else{if(E>=1024){F=" KB";E/=1024}}}return Math.round(E*100)/100+F}function e(E,F){var G=E[F];if(s(G)){return G.from||G.field||F}return G}var l=f.extend({init:function(F,E){var G=this;E=E||{};f.fn.init.call(G,F,E);G.element.addClass("k-imagebrowser")},options:{name:"ImageBrowser",fileTypes:"*.png,*.gif,*.jpg,*.jpeg"},value:function(){var G=this,F=G._selectedItem(),H,E=G.options.transport.imageUrl;if(F&&F.get(c)==="f"){H=j(G.path(),F.get(p)).replace(v,"");if(E){H=b(E)?E(H):t.format(E,encodeURIComponent(H))}return H}},_fileUpload:function(J){var I=this,M=I.options,E=M.fileTypes,L=new RegExp(("("+E.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),F=J.files[0].name,G=p,K=q,H;if(L.test(F)){J.data={path:I.path()};H=I._createFile(F);if(!H){J.preventDefault()}else{H._uploading=true;I.upload.one("success",function(N){delete H._uploading;H.set(G,N.response[I._getFieldName(G)]);H.set(K,N.response[I._getFieldName(K)]);I._tiles=I.listView.items().filter("["+t.attr("type")+"=f]");I._scroll()})}}else{J.preventDefault();I._showMessage(t.format(M.messages.invalidFileType,F,E))}},_content:function(){var E=this;E.list=g('<ul class="k-reset k-floats k-tiles" />').appendTo(E.element).on("scroll"+y,x(E._scroll,E)).on("dblclick"+y,"li",x(E._dblClick,E));E.listView=new t.ui.ListView(E.list,{dataSource:E.dataSource,template:E._itemTmpl(),editTemplate:E._editTmpl(),selectable:true,autoBind:false,dataBinding:function(F){E.toolbar.find(".k-delete").parent().addClass("k-state-disabled");if(F.action==="remove"||F.action==="sync"){F.preventDefault()}},dataBound:function(){if(E.dataSource.view().length){E._tiles=this.items().filter("["+t.attr("type")+"=f]");E._scroll()}else{this.wrapper.append(n({text:E.options.messages.emptyFolder}))}},change:x(E._listViewChange,E)})},_dataSource:function(){var H=this,F=H.options,K=F.transport,E=B({},A),I={field:p,dir:"asc"},G,J={type:K.type||"imagebrowser",sort:[E,I]};if(s(K)){K.path=x(H.path,H);J.transport=K}if(s(F.schema)){J.schema=F.schema}else{if(K.type&&s(t.data.schemas[K.type])){G=t.data.schemas[K.type]}}if(H.dataSource&&H._errorHandler){H.dataSource.unbind(m,H._errorHandler)}else{H._errorHandler=x(H._error,H)}H.dataSource=t.data.DataSource.create(J).bind(m,H._errorHandler)},_loadImage:function(E){var K=this,J=g(E),I=K.dataSource.getByUid(J.attr(t.attr("uid"))),H=I.get(p),L=K.options.transport.thumbnailUrl,G=g("<img />",{alt:H}),F="?";if(I._uploading){return}G.hide().on("load"+y,function(){g(this).prev().remove().end().addClass("k-image").fadeIn()});J.find(".k-loading").after(G);if(b(L)){L=L(K.path(),encodeURIComponent(H))}else{if(L.indexOf("?")>=0){F="&"}L=L+F+"path="+K.path()+encodeURIComponent(H)}G.attr("src",L);E.loaded=true},_scroll:function(){var E=this;if(E.options.transport&&E.options.transport.thumbnailUrl){clearTimeout(E._timeout);E._timeout=setTimeout(function(){var G=E.list.outerHeight(),F=E.list.scrollTop(),H=F+G;E._tiles.each(function(){var J=z(this),I=J+this.offsetHeight;if((J>=F&&J<H)||(I>=F&&I<H)){E._loadImage(this)}if(J>H){return false}});E._tiles=E._tiles.filter(function(){return !this.loaded})},250)}},_itemTmpl:function(){var F=this,E='<li class="k-tile" '+t.attr("uid")+'="#=uid#" ';E+=t.attr("type")+'="${'+c+'}">';E+="#if("+c+' == "d") { #';E+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>';E+="#}else{#";if(F.options.transport&&F.options.transport.thumbnailUrl){E+='<div class="k-thumb"><span class="k-icon k-loading"></span></div>'}else{E+='<div class="k-thumb"><span class="k-icon k-file"></span></div>'}E+="#}#";E+="<strong>${"+p+"}</strong>";E+="#if("+c+' == "f") { # <span class="k-filesize">${this.sizeFormatter('+q+")}</span> #}#";E+="</li>";return x(t.template(E),{sizeFormatter:o})}});t.ui.plugin(l)})(window.kendo.jQuery);(function(g,h){var n=window.kendo,s=n.Class,d=n.ui.Widget,i=n.support.mobileOS,v=n.support.browser,t=g.extend,q=g.proxy,l=n.deepExtend,r=".kendoEditor",m=n.keys;var o=s.extend({init:function(x){this.options=x},getHtml:function(){var x=this.options;return n.template(x.template,{useWithBlock:false})(x)}});var k={editorWrapperTemplate:'<table cellspacing="4" cellpadding="0" class="k-widget k-editor k-header" role="presentation"><tbody><tr role="presentation"><td class="k-editor-toolbar-wrap" role="presentation"><ul class="k-editor-toolbar" role="toolbar" /></td></tr><tr><td class="k-editable-area" /></tr></tbody></table>',buttonTemplate:'<a href="" role="button" class="k-tool"#= data.popup ? " data-popup" : "" # unselectable="on" title="#= data.title #"><span unselectable="on" class="k-tool-icon #= data.cssClass #">#= data.title #</span></a>',colorPickerTemplate:'<div class="k-colorpicker #= data.cssClass #" />',comboBoxTemplate:'<select title="#= data.title #" class="#= data.cssClass #" />',dropDownListTemplate:'<span class="k-editor-dropdown"><select title="#= data.title #" class="#= data.cssClass #" /></span>',separatorTemplate:'<span class="k-separator" />',formatByName:function(x,z){for(var y=0;y<z.length;y++){if(g.inArray(x,z[y].tags)>=0){return z[y]}}},registerTool:function(y,x){var z=x.options;if(z&&z.template){z.template.options.cssClass="k-"+y}if(!x.name){x.options.name=y;x.name=y.toLowerCase()}p.defaultTools[y]=x},registerFormat:function(x,y){p.fn.options.formats[x]=y}};var u={bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertFile:"Insert file",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",formatting:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",editAreaTitle:"Editable area. Press F10 for toolbar.",uploadFile:"Upload",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",imageWidth:"Width (px)",imageHeight:"Height (px)",fileWebAddress:"Web address",fileTitle:"Title",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogCancel:"Cancel",createTable:"Create table",createTableHint:"Create a {0} x {1} table",addColumnLeft:"Add column on the left",addColumnRight:"Add column on the right",addRowAbove:"Add row above",addRowBelow:"Add row below",deleteRow:"Delete row",deleteColumn:"Delete column"};var b=!i||(i.ios&&i.flatVersion>=500)||(!i.ios&&typeof(document.documentElement.contentEditable)!="undefined");var e={basic:["bold","italic","underline"],alignment:["justifyLeft","justifyCenter","justifyRight"],lists:["insertUnorderedList","insertOrderedList"],indenting:["indent","outdent"],links:["createLink","unlink"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"]};var p=d.extend({init:function(B,G){var C=this,E,y=n.ui.editor,F,x,D;var A;var z=y.Dom;if(!b){return}d.fn.init.call(C,B,G);C.options=l({},C.options,G);B=C.element;A=B[0];D=z.name(A);B.closest("form").on("submit"+r,function(){C.update()});x=t({},C.options);x.editor=C;if(D=="textarea"){C._wrapTextarea();F=C.wrapper.find(".k-editor-toolbar");if(A.id){F.attr("aria-controls",A.id)}}else{C.element.attr("contenteditable",true).addClass("k-widget k-editor k-editor-inline");x.popup=true;F=g('<ul class="k-editor-toolbar" role="toolbar" />').insertBefore(B)}C.toolbar=new y.Toolbar(F[0],x);C.toolbar.bindTo(C);if(D=="textarea"){setTimeout(function(){var H=C.wrapper[0].style.height;var I=parseInt(H,10);var J=C.wrapper.height();if(H.indexOf("px")>0&&!isNaN(I)&&J>I){C.wrapper.height(I-(J-I))}})}C._resizable();C._initializeContentElement(C);C.keyboard=new y.Keyboard([new y.BackspaceHandler(C),new y.TypingHandler(C),new y.SystemHandler(C)]);C.clipboard=new y.Clipboard(this);C.undoRedoStack=new y.UndoRedoStack();if(G&&G.value){E=G.value}else{if(C.textarea){E=A.value;if(C.options.encoded&&g.trim(A.defaultValue).length){E=A.defaultValue}E=E.replace(/[\r\n\v\f\t ]+/ig," ")}else{E=A.innerHTML}}C.value(E);g(document).on("mousedown",q(C._endTyping,C)).on("mouseup",q(C._mouseup,C));n.notify(C)},_endTyping:function(){var x=this.keyboard;try{if(x.isTypingInProgress()){x.endTyping(true);this.saveSelection()}}catch(y){}},_selectionChange:function(){if(!v.msie){n.ui.editor.Dom.ensureTrailingBreaks(this.body)}this._selectionStarted=false;this.saveSelection();this.trigger("select",{})},_resizable:function(){if(this.options.resizable&&this.textarea){g("<div class='k-resize-handle'><span class='k-icon k-resize-se' /></div>").insertAfter(this.textarea);this.wrapper.kendoResizable(t({},this.options.resizable,{start:function(y){var x=this.editor=g(y.currentTarget).closest(".k-editor");this.initialSize=x.height();x.find("td:last").append("<div class='k-overlay' />")},resize:function(A){var B=A.y.initialDelta;var y=this.initialSize+B;var z=this.options.min||0;var x=this.options.max||Infinity;y=Math.min(x,Math.max(z,y));this.editor.height(y)},resizeend:function(x){this.editor.find(".k-overlay").remove();this.editor=null}}))}},_wrapTextarea:function(){var D=this,z=D.element,y=z[0].style.width,C=z[0].style.height,B=k.editorWrapperTemplate,x=g(B).insertBefore(z).width(y).height(C),A=x.find(".k-editable-area");z.attr("autocomplete","off").appendTo(A).addClass("k-content k-raw-content").css("display","none");D.textarea=z;D.wrapper=x},_createContentElement:function(F){var B=this;var A,y,D;var E=B.textarea;var C=B.options.domain;var z=C||document.domain;var G="";var x='javascript:""';if(C||z!=location.hostname){G='<script>document.domain="'+z+'"<\/script>';x="javascript:document.write('"+G+"')"}E.hide();A=g("<iframe />",{title:B.options.messages.editAreaTitle,frameBorder:"0"})[0];g(A).css("display","").addClass("k-content").insertBefore(E);A.src=x;y=A.contentWindow||A;D=y.document||A.contentDocument;g(A).one("load",function(){B.toolbar.decorateFrom(D.body)});D.open();D.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0;margin:0;height:100%;min-height:100%;}body{font-size:12px;font-family:Verdana,Geneva,sans-serif;padding-top:1px;margin-top:-1px;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+(n.support.isRtl(E)?"direction:rtl;":"")+"}h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}p{margin:0 0 1em;padding:0 .2em}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}ul,ol{padding-left:2.5em}span{-ms-high-contrast-adjust:none;}a{color:#00a}code{font-size:1.23em}telerik\\3Ascript{display: none;}.k-table{table-layout:fixed;width:100%;border-spacing:0;margin: 0 0 1em;}.k-table td{min-width:1px;padding:.2em .3em;}.k-table,.k-table td{outline:0;border: 1px dotted #ccc;}.k-table p{margin:0;padding:0;}</style>"+G+"<script>(function(d,c){d[c]('header'),d[c]('article'),d[c]('nav'),d[c]('section'),d[c]('footer');})(document, 'createElement');<\/script>"+g.map(F,function(H){return"<link rel='stylesheet' href='"+H+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>");D.close();return y},_blur:function(){var y=this.textarea;var x=y?y.val():this._oldValue;var z=this.options.encoded?this.encodedValue():this.value();this.update();if(y){y.trigger("blur")}if(z!=x){this.trigger("change")}},_spellCorrect:function(z){var y;var x=false;g(z.body).on("contextmenu"+r,function(A){z.one("select",function(){y=null});z._spellCorrectTimeout=setTimeout(function(){y=new n.ui.editor.RestorePoint(z.getRange());x=false},10)}).on("input"+r,function(A){if(!y){return}if(n.support.browser.mozilla&&!x){x=true;return}n.ui.editor._finishUpdate(z,y)})},_initializeContentElement:function(){var x=this;var A;var y;if(x.textarea){x.window=x._createContentElement(x.options.stylesheets);A=x.document=x.window.contentDocument||x.window.document;x.body=A.body;y=x.window;g(A).on("mouseup"+r,q(x._mouseup,x))}else{x.window=window;A=x.document=document;x.body=x.element[0];y=x.body;x.toolbar.decorateFrom(x.body)}g(y).on("blur"+r,q(this._blur,this));try{A.execCommand("enableInlineTableEditing",null,false)}catch(z){}if(n.support.touch){g(A).on("selectionchange"+r,q(this._selectionChange,this)).on("keydown"+r,function(){if(n._activeElement()!=A.body){x.window.focus()}})}this._spellCorrect(x);g(x.body).on("dragstart"+r,false).on("keydown"+r,function(G){var C;if(G.keyCode===m.F10){setTimeout(q(x.toolbar.focus,x.toolbar),100);G.preventDefault();return}else{if(G.keyCode==m.LEFT||G.keyCode==m.RIGHT){C=x.getRange();var F=G.keyCode==m.LEFT;var B=C[F?"startContainer":"endContainer"];var H=C[F?"startOffset":"endOffset"];var E=F?-1:1;if(F){H-=1}if(H+E>0&&B.nodeType==3&&B.nodeValue[H]=="\ufeff"){C.setStart(B,H+E);C.collapse(true);x.selectRange(C)}}}var D=x.keyboard.toolFromShortcut(x.toolbar.tools,G);if(D){G.preventDefault();if(!/^(undo|redo)$/.test(D)){x.keyboard.endTyping(true)}x.trigger("keydown",G);x.exec(D);return false}x.keyboard.clearTimeout();x.keyboard.keydown(G)}).on("keyup"+r,function(C){var B=[8,9,33,34,35,36,37,38,39,40,40,45,46];if(g.inArray(C.keyCode,B)>-1||(C.keyCode==65&&C.ctrlKey&&!C.altKey&&!C.shiftKey)){x._selectionChange()}x.keyboard.keyup(C)}).on("mousedown"+r,function(C){x._selectionStarted=true;if(v.gecko){return}var B=g(C.target);if((C.which==2||(C.which==1&&C.ctrlKey))&&B.is("a[href]")){window.open(B.attr("href"),"_new")}}).on("click"+r,function(C){var D=n.ui.editor.Dom,B;if(D.name(C.target)==="img"){B=x.createRange();B.selectNode(C.target);x.selectRange(B)}}).on("cut"+r+" paste"+r,function(B){x.clipboard["on"+B.type](B)}).on("focusin"+r,function(){g(this).addClass("k-state-active");x.toolbar.show()}).on("focusout"+r,function(){setTimeout(function(){var D=n._activeElement();var B=x.body;var C=x.toolbar;if(D!=B&&!g.contains(B,D)&&!g(D).is(".k-editortoolbar-dragHandle")&&!C.focused()){g(B).removeClass("k-state-active");C.hide()}},10)})},_mouseup:function(){var x=this;if(x._selectionStarted){setTimeout(function(){x._selectionChange()},1)}},refresh:function(){var x=this;if(x.textarea){x.textarea.val(x.value());x.wrapper.find("iframe").remove();x._initializeContentElement(x);x.value(x.textarea.val())}},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:u,formats:{},encoded:true,domain:null,serialization:{entities:true,semantic:true,scripts:false},stylesheets:[],dialogOptions:{modal:true,resizable:false,draggable:true,animation:false},fontName:[{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"'Courier New',Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:"'Times New Roman',Times,serif"},{text:"Trebuchet MS",value:"'Trebuchet MS',Helvetica,sans-serif"},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:[].concat.call(["formatting"],e.basic,e.alignment,e.lists,e.indenting,e.links,["insertImage"],e.tables)},destroy:function(){var x=this;d.fn.destroy.call(x);g(x.window).add(x.document).add(x.body).add(x.wrapper).add(x.element.closest("form")).off(r);g(document).off("mousedown",q(x._endTyping,x)).off("mouseup",q(x._mouseup,x));clearTimeout(this._spellCorrectTimeout);x._focusOutside();x.toolbar.destroy();n.destroy(x.wrapper)},_focusOutside:function(){if(n.support.browser.msie&&this.textarea){var x=g("<input style='position:absolute;left:-10px;top:-10px;width:1px;height:1px;font-size:0;border:0;' />").appendTo(document.body).focus();x.blur().remove()}},state:function(B){var y=p.defaultTools[B];var C=y&&(y.options.finder||y.finder);var z=n.ui.editor.RangeUtils;var x,A;if(C){x=this.getRange();A=z.textNodes(x);if(!A.length&&x.collapsed){A=[x.startContainer]}return C.getFormat?C.getFormat(A):C.isFormatted(A)}return false},value:function(z){var x=this.body,B=n.ui.editor,A=B.Dom,y=B.Serializer.domToXhtml(x,this.options.serialization);if(z===h){return y}if(z==y){return}B.Serializer.htmlToDom(z,x);if(!v.msie){n.ui.editor.Dom.ensureTrailingBreaks(this.body)}this.selectionRestorePoint=null;this.update();this.toolbar.refreshTools()},saveSelection:function(z){z=z||this.getRange();var y=z.commonAncestorContainer,x=this.body;if(y==x||g.contains(x,y)){this.selectionRestorePoint=new n.ui.editor.RestorePoint(z)}},_focusBody:function(){var x=this.body;var y=this.wrapper&&this.wrapper.find("iframe")[0];var A=this.document.documentElement;var z=n._activeElement();if(z!=x&&z!=y){var B=A.scrollTop;x.focus();A.scrollTop=B}},restoreSelection:function(){this._focusBody();if(this.selectionRestorePoint){this.selectRange(this.selectionRestorePoint.toRange())}},focus:function(){this.restoreSelection()},update:function(x){x=x||this.options.encoded?this.encodedValue():this.value();if(this.textarea){this.textarea.val(x)}else{this._oldValue=x}},encodedValue:function(){return n.ui.editor.Dom.encode(this.value())},createRange:function(x){return n.ui.editor.RangeUtils.createRange(x||this.document)},getSelection:function(){return n.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRange:function(x){this._focusBody();var y=this.getSelection();y.removeAllRanges();y.addRange(x);this.saveSelection(x)},getRange:function(){var y=this.getSelection(),x=y&&y.rangeCount>0?y.getRangeAt(0):this.createRange(),z=this.document;if(x.startContainer==z&&x.endContainer==z&&!x.startOffset&&!x.endOffset){x.setStart(this.body,0);x.collapse(true)}return x},selectedHtml:function(){return n.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(y,x){var z=new n.ui.editor.InsertHtmlCommand(g.extend({range:this.getRange(),html:y},x));z.editor=this;z.exec()},exec:function(z,C){var A=this,x,y,B=null;if(!z){throw new Error("kendoEditor.exec(): `name` parameter cannot be empty")}if(A.body.getAttribute("contenteditable")!=="true"){return false}z=z.toLowerCase();if(!A.keyboard.isTypingInProgress()){A.restoreSelection()}y=A.toolbar.toolById(z);if(!y){for(var D in p.defaultTools){if(D.toLowerCase()==z){y=p.defaultTools[D];break}}}if(y){x=A.getRange();if(y.command){B=y.command(t({range:x},C))}A.trigger("execute",{name:z,command:B});if(/^(undo|redo)$/i.test(z)){A.undoRedoStack[z]()}else{if(B){if(!B.managesUndoRedo){A.undoRedoStack.push(B)}B.editor=A;B.exec();if(B.async){B.change=q(A._selectionChange,A);return}}}A._selectionChange()}}});p.defaultTools={undo:{options:{key:"Z",ctrl:true}},redo:{options:{key:"Y",ctrl:true}}};n.ui.plugin(p);var j=s.extend({init:function(x){this.options=x},initialize:function(y,x){y.attr({unselectable:"on",title:x.title})},command:function(x){return new this.options.command(x)},update:g.noop});j.exec=function(y,x,z){y.exec(x,{value:z})};var f=j.extend({init:function(x){j.fn.init.call(this,x)},command:function(x){var y=this;return new n.ui.editor.FormatCommand(t(x,{formatter:y.options.formatter}))},update:function(z,y){var x=this.options.finder.isFormatted(y);z.toggleClass("k-state-selected",x);z.attr("aria-pressed",x)}});k.registerTool("separator",new j({template:new o({template:k.separatorTemplate})}));var w=v.msie&&v.version<9?"\ufeff":"";var c='<br class="k-br" />';if(v.msie){if(v.version<10){c="\ufeff"}else{if(v.version<11){c=" "}}}t(n.ui,{editor:{ToolTemplate:o,EditorUtils:k,Tool:j,FormatTool:f,_bomFill:w,emptyElementContent:c}});if(n.PDFMixin){n.PDFMixin.extend(p.prototype);p.prototype._drawPDF=function(){return n.drawing.drawDOM(this.body,this.options.pdf)};p.prototype.saveAsPDF=function(){var z=new g.Deferred();var B=z.promise();var y={promise:B};if(this.trigger("pdfExport",y)){return}var x=this.options.pdf;var A=x.paperSize;this._drawPDF(z).then(function(C){x.paperSize="auto";return n.drawing.exportPDF(C,x)}).done(function(C){n.saveAs({dataURI:C,fileName:x.fileName,proxyURL:x.proxyURL,forceProxy:x.forceProxy});x.paperSize=A;z.resolve()}).fail(function(C){z.reject(C)});return B}}})(window.jQuery);(function(k){var t=window.kendo,E=k.map,C=k.extend,D=t.support.browser,m="style",q="float",l="cssFloat",z="styleFloat",f="class",p="k-marker";function u(G){var I={},H,F;for(H=0,F=G.length;H<F;H++){I[G[H]]=true}return I}var o=u("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),v="div,p,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,map,menu,noframes,noscript,object,pre,script,table,tbody,td,tfoot,th,thead,tr,header,article,nav,footer,section,aside,main,figure,figcaption".split(","),j=v.concat(["ul","ol","li"]),n=u(j),r="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby".split(","),i=u(r),h=u("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(","));var y=function(F){if(F.nodeType==1){F.normalize()}};if(D.msie&&D.version>=8){y=function(F){if(F.nodeType==1&&F.firstChild){var H=F.firstChild,G=H;while(true){G=G.nextSibling;if(!G){break}if(G.nodeType==3&&H.nodeType==3){G.nodeValue=H.nodeValue+G.nodeValue;e.remove(H)}H=G}}}}var B=/^\s+$/,c=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,w=/\ufeff/g,g=/^(\s+|\ufeff)$/,d,s=("color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height").split(","),b=/[<>\&]/g,A=/[\u00A0-\u2666<>\&]/g,x={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"};var e={block:n,inline:i,findNodeIndex:function(G,H){var F=0;if(!G){return -1}while(true){G=G.previousSibling;if(!G){break}if(!(H&&G.nodeType==3)){F++}}return F},isDataNode:function(F){return F&&F.nodeValue!==null&&F.data!==null},isAncestorOf:function(F,G){try{return !e.isDataNode(F)&&(k.contains(F,e.isDataNode(G)?G.parentNode:G)||G.parentNode==F)}catch(H){return false}},isAncestorOrSelf:function(F,G){return e.isAncestorOf(F,G)||F==G},findClosestAncestor:function(F,G){if(e.isAncestorOf(F,G)){while(G&&G.parentNode!=F){G=G.parentNode}}return G},getNodeLength:function(F){return e.isDataNode(F)?F.length:F.childNodes.length},splitDataNode:function(I,K){var G=I.cloneNode(false);var J="";var H=I.nextSibling;var F;while(H&&H.nodeType==3&&H.nodeValue){J+=H.nodeValue;F=H;H=H.nextSibling;e.remove(F)}I.deleteData(K,I.length);G.deleteData(0,K);G.nodeValue+=J;e.insertAfter(G,I)},attrEquals:function(H,F){for(var G in F){var I=H[G];if(G==q){I=H[t.support.cssFloat?l:z]}if(typeof I=="object"){if(!e.attrEquals(I,F[G])){return false}}else{if(I!=F[G]){return false}}}return true},blockParentOrBody:function(F){return e.parentOfType(F,j)||F.ownerDocument.body},blockParents:function(G){var J=[],H,F;for(H=0,F=G.length;H<F;H++){var I=e.parentOfType(G[H],e.blockElements);if(I&&k.inArray(I,J)<0){J.push(I)}}return J},windowFromDocument:function(F){return F.defaultView||F.parentWindow},normalize:y,blockElements:j,nonListBlockElements:v,inlineElements:r,empty:o,fillAttrs:h,toHex:function(F){var G=c.exec(F);if(!G){return F}return"#"+E(G.slice(1),function(H){H=parseInt(H,10).toString(16);return H.length>1?H:"0"+H}).join("")},encode:function(H,F){var G=(!F||F.entities)?A:b;return H.replace(G,function(K){var I=K.charCodeAt(0);var J=x[I];return J?"&"+J+";":K})},stripBom:function(F){return(F||"").replace(w,"")},insignificant:function(G){var F=G.attributes;return G.className=="k-marker"||(e.is(G,"br")&&(G.className=="k-br"||F._moz_dirty||F._moz_editor_bogus_node))},significantNodes:function(F){return k.grep(F,function(H){var G=e.name(H);if(G=="br"){return false}else{if(e.insignificant(H)){return false}else{if(H.nodeType==3&&g.test(H.nodeValue)){return false}else{if(H.nodeType==1&&!o[G]&&e.emptyNode(H)){return false}}}}return true})},emptyNode:function(F){return !e.significantNodes(F.childNodes).length},name:function(F){return F.nodeName.toLowerCase()},significantChildNodes:function(F){return k.grep(F.childNodes,function(G){return G.nodeType!=3||!e.isWhitespace(G)})},lastTextNode:function(G){var F=null;if(G.nodeType==3){return G}for(var H=G.lastChild;H;H=H.previousSibling){F=e.lastTextNode(H);if(F){return F}}return F},is:function(F,G){return e.name(F)==G},isMarker:function(F){return F.className==p},isWhitespace:function(F){return B.test(F.nodeValue)},isBlock:function(F){return n[e.name(F)]},isEmpty:function(F){return o[e.name(F)]},isInline:function(F){return i[e.name(F)]},scrollContainer:function(H){var G=e.windowFromDocument(H),F=(G.contentWindow||G).document||G.ownerDocument||G;if(t.support.browser.webkit||F.compatMode=="BackCompat"){F=F.body}else{F=F.documentElement}return F},scrollTo:function(K){var H=k(e.isDataNode(K)?K.parentNode:K),J=e.windowFromDocument(K.ownerDocument),L=J.innerHeight,F,I,G=e.scrollContainer(K.ownerDocument);if(e.name(H[0])=="br"){H=H.parent()}F=H.offset().top;I=H[0].offsetHeight;if(e.is(H[0],"p")){I=parseInt(H.css("line-height"),10)||Math.ceil(1.2*parseInt(H.css("font-size"),10))||15}if(I+F>G.scrollTop+L){G.scrollTop=I+F-L}},persistScrollTop:function(F){d=e.scrollContainer(F).scrollTop},restoreScrollTop:function(F){e.scrollContainer(F).scrollTop=d},insertAt:function(G,H,F){G.insertBefore(H,G.childNodes[F]||null)},insertBefore:function(G,F){if(F.parentNode){return F.parentNode.insertBefore(G,F)}else{return F}},insertAfter:function(G,F){return F.parentNode.insertBefore(G,F.nextSibling)},remove:function(F){F.parentNode.removeChild(F)},removeTextSiblings:function(G){var F=G.parentNode;while(G.nextSibling&&G.nextSibling.nodeType==3){F.removeChild(G.nextSibling)}while(G.previousSibling&&G.previousSibling.nodeType==3){F.removeChild(G.previousSibling)}},trim:function(G){for(var F=G.childNodes.length-1;F>=0;F--){var H=G.childNodes[F];if(e.isDataNode(H)){if(!e.stripBom(H.nodeValue).length){e.remove(H)}if(e.isWhitespace(H)){e.insertBefore(H,G)}}else{if(H.className!=p){e.trim(H);if(!H.childNodes.length&&!e.isEmpty(H)){e.remove(H)}}}}return G},closest:function(G,F){while(G&&e.name(G)!=F){G=G.parentNode}return G},sibling:function(F,G){do{F=F[G]}while(F&&F.nodeType!=1);return F},next:function(F){return e.sibling(F,"nextSibling")},prev:function(F){return e.sibling(F,"previousSibling")},parentOfType:function(G,F){do{G=G.parentNode}while(G&&!(e.ofType(G,F)));return G},ofType:function(G,F){return k.inArray(e.name(G),F)>=0},changeTag:function(J,I,H){var M=e.create(J.ownerDocument,I),K=J.attributes,L,N,F,O,G;if(!H){for(L=0,N=K.length;L<N;L++){G=K[L];if(G.specified){F=G.nodeName;O=G.nodeValue;if(F==f){M.className=O}else{if(F==m){M.style.cssText=J.style.cssText}else{M.setAttribute(F,O)}}}}}while(J.firstChild){M.appendChild(J.firstChild)}e.insertBefore(M,J);e.remove(J);return M},editableParent:function(F){while(F&&(F.nodeType==3||F.contentEditable!=="true")){F=F.parentNode}return F},wrap:function(F,G){e.insertBefore(G,F);G.appendChild(F);return G},unwrap:function(G){var F=G.parentNode;while(G.firstChild){F.insertBefore(G.firstChild,G)}F.removeChild(G)},create:function(F,H,G){return e.attr(F.createElement(H),G)},attr:function(H,G){G=C({},G);if(G&&m in G){e.style(H,G.style);delete G.style}for(var F in G){if(G[F]===null){H.removeAttribute(F);delete G[F]}else{if(F=="className"){H[F]=G[F]}}}return C(H,G)},style:function(F,G){k(F).css(G||{})},unstyle:function(G,H){for(var F in H){if(F==q){F=t.support.cssFloat?l:z}G.style[F]=""}if(G.style.cssText===""){G.removeAttribute(m)}},inlineStyle:function(F,H,G){var J=k(e.create(F.ownerDocument,H,G)),I;F.appendChild(J[0]);I=E(s,function(K){if(D.msie&&K=="line-height"&&J.css(K)=="1px"){return"line-height:1.5"}else{return K+":"+J.css(K)}}).join(";");J.remove();return I},getEffectiveBackground:function(F){var G=F.css("background-color");if(G.indexOf("rgba(0, 0, 0, 0")<0&&G!=="transparent"){return G}else{if(F[0].tagName.toLowerCase()==="html"){return"Window"}else{return e.getEffectiveBackground(F.parent())}}},removeClass:function(J,K){var I=" "+J.className+" ",H=K.split(" "),G,F;for(G=0,F=H.length;G<F;G++){I=I.replace(" "+H[G]+" "," ")}I=k.trim(I);if(I.length){J.className=I}else{J.removeAttribute(f)}},commonAncestor:function(){var L=arguments.length,M=[],F=Infinity,G=null,J,N,H,K,I;if(!L){return null}if(L==1){return arguments[0]}for(J=0;J<L;J++){N=[];H=arguments[J];while(H){N.push(H);H=H.parentNode}M.push(N.reverse());F=Math.min(F,N.length)}if(L==1){return M[0][0]}for(J=0;J<F;J++){K=M[0][J];for(I=1;I<L;I++){if(K!=M[I][J]){return G}}G=K}return G},closestSplittableParent:function(G){var F;if(G.length==1){F=e.parentOfType(G[0],["ul","ol"])}else{F=e.commonAncestor.apply(null,G)}if(!F){F=e.parentOfType(G[0],["p","td"])||G[0].ownerDocument.body}if(e.isInline(F)){F=e.blockParentOrBody(F)}var I=E(G,e.editableParent);var H=e.commonAncestor(I)[0];if(k.contains(F,H)){F=H}return F},closestEditable:function(I,G){var H=e.parentOfType(I,G);var F=e.editableParent(I);if(H&&F&&k.contains(H,F)){H=F}else{if(!H&&F){H=F}}return H},closestEditableOfType:function(H,G){var F=e.closestEditable(H,G);if(F&&e.ofType(F,G)){return F}},filter:function(K,H,L){var J=0;var G=H.length;var F=[];var I;for(;J<G;J++){I=e.name(H[J]);if((!L&&I==K)||(L&&I!=K)){F.push(H[J])}}return F},ensureTrailingBreaks:function(H){var I=k(H).find("p,td,th");var G=I.length;var F=0;if(G){for(;F<G;F++){e.ensureTrailingBreak(I[F])}}else{e.ensureTrailingBreak(H)}},ensureTrailingBreak:function(I){k(I).find("br[type=_moz],.k-br").remove();var H=I.lastChild;var F=H&&e.name(H);var G;if(!F||(F!="br"&&F!="img")||(F=="br"&&H.className!="k-br")){G=I.ownerDocument.createElement("br");G.className="k-br";I.appendChild(G)}}};t.ui.editor.Dom=e})(window.kendo.jQuery);(function(d,f){var l=window.kendo;var n=l.ui.editor;var p=n.Dom;var q=d.extend;var m="xx-small,x-small,small,medium,large,x-large,xx-large".split(",");var r=/"/g;var g=/<br[^>]*>/i;var c=/^\d+(\.\d*)?(px)?$/i;var o=/<p><\/p>/i;var h=/([\w|\-]+)\s*:\s*([^;]+);?/i;var b=/^sizzle-\d+/i;var j=/^k-script-/i;var s=/\s*onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i;var k=document.createElement("div");k.innerHTML=" <hr>";var i=k.firstChild.nodeType===3;k=null;var e={toEditableHtml:function(u){var t='<br class="k-br">';u=u||"";return u.replace(/<!\[CDATA\[(.*)?\]\]>/g,"<!--[CDATA[$1]]-->").replace(/<script([^>]*)>(.*)?<\/script>/ig,"<k:script$1>$2</k:script>").replace(/<img([^>]*)>/ig,function(v){return v.replace(s,"")}).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/ig,"$1").replace(/^<(table|blockquote)/i,t+"<$1").replace(/<\/(table|blockquote)>$/i,"</$1>"+t)},_fillEmptyElements:function(t){d(t).find("p").each(function(){var v=d(this);if(/^\s*$/g.test(v.text())&&!v.find("img,input").length){var u=this;while(u.firstChild&&u.firstChild.nodeType!=3){u=u.firstChild}if(u.nodeType==1&&!p.empty[p.name(u)]){u.innerHTML=l.ui.editor.emptyElementContent}}})},_removeSystemElements:function(t){d(".k-paste-container",t).remove()},_resetOrderedLists:function(t){var x=t.getElementsByTagName("ol"),w,u,v;for(w=0;w<x.length;w++){u=x[w];v=u.getAttribute("start");u.setAttribute("start",1);if(v){u.setAttribute("start",v)}else{u.removeAttribute(v)}}},_preventScriptExecution:function(t){d(t).find("*").each(function(){var v=this.attributes;var y,x,u,w;for(x=0,u=v.length;x<u;x++){y=v[x];w=y.nodeName;if(y.specified&&/^on/i.test(w)){this.setAttribute("k-script-"+w,y.value);this.removeAttribute(w)}}})},htmlToDom:function(y,u){var x=l.support.browser;var w=x.msie;var z=w&&x.version<9;y=e.toEditableHtml(y);if(z){y="<br/>"+y;var t="originalsrc",v="originalhref";y=y.replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,v+'="$1"');y=y.replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,t+'="$1"')}u.innerHTML=y;if(z){p.remove(u.firstChild);d(u).find("k\\:script,script,link,img,a").each(function(){var A=this;if(A[v]){A.setAttribute("href",A[v]);A.removeAttribute(v)}if(A[t]){A.setAttribute("src",A[t]);A.removeAttribute(t)}})}else{if(w){p.normalize(u);e._resetOrderedLists(u)}}e._preventScriptExecution(u);e._fillEmptyElements(u);e._removeSystemElements(u);d("table",u).addClass("k-table");return u},domToXhtml:function(z,E){var F=[];function t(G){return d.grep(G,function(H){return H.name!="style"})}var x={iframe:{start:function(G){F.push("<iframe");y(G);F.push(">")},end:function(){F.push("</iframe>")}},"k:script":{start:function(G){F.push("<script");y(G);F.push(">")},end:function(){F.push("<\/script>")},skipEncoding:true},span:{semantic:true,start:function(L){var K=L.style;var I=B(L);var H=t(I);if(H.length){F.push("<span");y(L,H);F.push(">")}if(K.textDecoration=="underline"){F.push("<u>")}var G=[];if(K.color){G.push('color="'+p.toHex(K.color)+'"')}if(K.fontFamily){G.push('face="'+K.fontFamily+'"')}if(K.fontSize){var J=d.inArray(K.fontSize,m);G.push('size="'+J+'"')}if(G.length){F.push("<font "+G.join(" ")+">")}},end:function(H){var G=H.style;if(G.color||G.fontFamily||G.fontSize){F.push("</font>")}if(G.textDecoration=="underline"){F.push("</u>")}if(t(B(H)).length){F.push("</span>")}}},strong:{semantic:true,start:function(){F.push("<b>")},end:function(){F.push("</b>")}},em:{semantic:true,start:function(){F.push("<i>")},end:function(){F.push("</i>")}},b:{semantic:false,start:function(){F.push("<strong>")},end:function(){F.push("</strong>")}},i:{semantic:false,start:function(){F.push("<em>")},end:function(){F.push("</em>")}},u:{semantic:false,start:function(){F.push('<span style="text-decoration:underline;">')},end:function(){F.push("</span>")}},font:{semantic:false,start:function(I){F.push('<span style="');var G=I.getAttribute("color");var H=m[I.getAttribute("size")];var J=I.getAttribute("face");if(G){F.push("color:");F.push(p.toHex(G));F.push(";")}if(J){F.push("font-family:");F.push(J);F.push(";")}if(H){F.push("font-size:");F.push(H);F.push(";")}F.push('">')},end:function(){F.push("</span>")}}};x.script=x["k:script"];E=E||{};if(typeof E.semantic=="undefined"){E.semantic=true}function D(H){var I=d.trim;var L=I(H).split(";");var K;var O,N;var M=[];var J,G;for(J=0,G=L.length;J<G;J++){if(!L[J].length){continue}K=h.exec(L[J]);if(!K){continue}O=I(K[1].toLowerCase());N=I(K[2]);if(O=="font-size-adjust"||O=="font-stretch"){continue}if(O.indexOf("color")>=0){N=p.toHex(N)}else{if(O.indexOf("font")>=0){N=N.replace(r,"'")}else{if(/\burl\(/g.test(N)){N=N.replace(r,"")}}}M.push({property:O,value:N})}return M}function A(I){var H=D(I);var G,J=H.length;for(G=0;G<H.length;G++){F.push(H[G].property);F.push(":");F.push(H[G].value);F.push(";")}}function B(I){var O=[];var K=I.attributes;var H,L,J;var G,N,M;for(L=0,J=K.length;L<J;L++){H=K[L];G=H.nodeName;N=H.value;M=H.specified;if(G=="value"&&"value" in I&&I.value){M=true}else{if(G=="type"&&N=="text"){M=true}else{if(G=="class"&&!N){M=false}else{if(b.test(G)){M=false}else{if(G=="complete"){M=false}else{if(G=="altHtml"){M=false}else{if(G=="start"&&(p.is(I,"ul")||p.is(I,"ol"))){M=false}else{if(G.indexOf("_moz")>=0){M=false}else{if(j.test(G)){M=!!E.scripts}}}}}}}}}if(M){O.push(H)}}return O}function y(K,M){var N,L,J,G,O;M=M||B(K);if(p.is(K,"img")){var I=K.style.width,P=K.style.height,H=d(K);if(I&&c.test(I)){H.attr("width",parseInt(I,10));p.unstyle(K,{width:f})}if(P&&c.test(P)){H.attr("height",parseInt(P,10));p.unstyle(K,{height:f})}}if(!M.length){return}M.sort(function(R,Q){return R.nodeName>Q.nodeName?1:R.nodeName<Q.nodeName?-1:0});for(N=0,L=M.length;N<L;N++){J=M[N];G=J.nodeName;O=J.value;if(G=="class"&&O=="k-table"){continue}G=G.replace(j,"");F.push(" ");F.push(G);F.push('="');if(G=="style"){A(O||K.style.cssText)}else{if(G=="src"||G=="href"){F.push(l.htmlEncode(K.getAttribute(G,2)))}else{F.push(p.fillAttrs[G]?G:O)}}F.push('"')}}function w(J,I,G){for(var H=J.firstChild;H;H=H.nextSibling){v(H,I,G)}}function C(G){return G.nodeValue.replace(/\ufeff/g,"")}function v(I,O,K){var J=I.nodeType,H,G,N,M,L;if(J==1){H=p.name(I);if(!H||p.insignificant(I)){return}if(p.isInline(I)&&I.childNodes.length==1&&I.firstChild.nodeType==3&&!C(I.firstChild)){return}if(!E.scripts&&(H=="script"||H=="k:script")){return}G=x[H];if(G){if(typeof G.semantic=="undefined"||(E.semantic^G.semantic)){G.start(I);w(I,false,G.skipEncoding);G.end(I);return}}F.push("<");F.push(H);y(I);if(p.empty[H]){F.push(" />")}else{F.push(">");w(I,O||p.is(I,"pre"));F.push("</");F.push(H);F.push(">")}}else{if(J==3){M=C(I);if(!O&&i){N=I.parentNode;L=I.previousSibling;if(!L){L=(p.isInline(N)?N:I).previousSibling}if(!L||L.innerHTML===""||p.isBlock(L)){M=M.replace(/^[\r\n\v\f\t ]+/,"")}M=M.replace(/ +/," ")}F.push(K?M:p.encode(M,E))}else{if(J==4){F.push("<![CDATA[");F.push(I.data);F.push("]]>")}else{if(J==8){if(I.data.indexOf("[CDATA[")<0){F.push("<!--");F.push(I.data);F.push("-->")}else{F.push("<!");F.push(I.data);F.push(">")}}}}}}function u(G){var I=G.childNodes.length;var H=I&&G.firstChild.nodeType==3;return H&&(I==1||(I==2&&p.insignificant(G.lastChild)))}if(u(z)){return p.encode(C(z.firstChild).replace(/[\r\n\v\f\t ]+/," "),E)}w(z);F=F.join("");if(F.replace(g,"").replace(o,"")===""){return""}return F}};q(n,{Serializer:e})})(window.kendo.jQuery);(function(e){var l=window.kendo,s=l.Class,t=e.extend,m=l.ui.editor,z=l.support.browser,r=m.Dom,c=r.findNodeIndex,A=r.isDataNode,k=r.findClosestAncestor,d=r.getNodeLength,o=r.normalize;var p={selectionFromWindow:function(C){if(!("getSelection" in C)){return new x(C.document)}return C.getSelection()},selectionFromRange:function(C){var D=y.documentFromRange(C);return p.selectionFromDocument(D)},selectionFromDocument:function(C){return p.selectionFromWindow(r.windowFromDocument(C))}};var B=s.extend({init:function(C){e.extend(this,{ownerDocument:C,startContainer:C,endContainer:C,commonAncestorContainer:C,startOffset:0,endOffset:0,collapsed:true})},setStart:function(C,D){this.startContainer=C;this.startOffset=D;b(this);g(this,true)},setEnd:function(C,D){this.endContainer=C;this.endOffset=D;b(this);g(this,false)},setStartBefore:function(C){this.setStart(C.parentNode,c(C))},setStartAfter:function(C){this.setStart(C.parentNode,c(C)+1)},setEndBefore:function(C){this.setEnd(C.parentNode,c(C))},setEndAfter:function(C){this.setEnd(C.parentNode,c(C)+1)},selectNode:function(C){this.setStartBefore(C);this.setEndAfter(C)},selectNodeContents:function(C){this.setStart(C,0);this.setEnd(C,C[C.nodeType===1?"childNodes":"nodeValue"].length)},collapse:function(C){var D=this;if(C){D.setEnd(D.startContainer,D.startOffset)}else{D.setStart(D.endContainer,D.endOffset)}},deleteContents:function(){var D=this,C=D.cloneRange();if(D.startContainer!=D.commonAncestorContainer){D.setStartAfter(k(D.commonAncestorContainer,D.startContainer))}D.collapse(true);(function E(F){while(F.next()){if(F.hasPartialSubtree()){E(F.getSubtreeIterator())}else{F.remove()}}})(new n(C))},cloneContents:function(){var D=y.documentFromRange(this);return(function C(E){var F,G=D.createDocumentFragment();while(F=E.next()){F=F.cloneNode(!E.hasPartialSubtree());if(E.hasPartialSubtree()){F.appendChild(C(E.getSubtreeIterator()))}G.appendChild(F)}return G})(new n(this))},extractContents:function(){var F=this,D=F.cloneRange();if(F.startContainer!=F.commonAncestorContainer){F.setStartAfter(k(F.commonAncestorContainer,F.startContainer))}F.collapse(true);var C=y.documentFromRange(F);return(function E(G){var H,I=C.createDocumentFragment();while(H=G.next()){if(G.hasPartialSubtree()){H=H.cloneNode(false);H.appendChild(E(G.getSubtreeIterator()))}else{G.remove(F.originalRange)}I.appendChild(H)}return I})(new n(D))},insertNode:function(D){var C=this;if(A(C.startContainer)){if(C.startOffset!=C.startContainer.nodeValue.length){r.splitDataNode(C.startContainer,C.startOffset)}r.insertAfter(D,C.startContainer)}else{r.insertAt(C.startContainer,D,C.startOffset)}C.setStart(C.startContainer,C.startOffset)},cloneRange:function(){return e.extend(new B(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var C=this.startContainer.nodeName,D=this.endContainer.nodeName;return[C=="#text"?this.startContainer.nodeValue:C,"(",this.startOffset,") : ",D=="#text"?this.endContainer.nodeValue:D,"(",this.endOffset,")"].join("")}});function j(J,F,C,G){if(J==F){return G-C}var E=F;while(E&&E.parentNode!=J){E=E.parentNode}if(E){return c(E)-C}E=J;while(E&&E.parentNode!=F){E=E.parentNode}if(E){return G-c(E)-1}var D=r.commonAncestor(J,F);var H=J;while(H&&H.parentNode!=D){H=H.parentNode}if(!H){H=D}var I=F;while(I&&I.parentNode!=D){I=I.parentNode}if(!I){I=D}if(H==I){return 0}return c(I)-c(H)}function g(D,E){function C(F){try{return j(F.startContainer,F.endContainer,F.startOffset,F.endOffset)<0}catch(G){return true}}if(C(D)){if(E){D.commonAncestorContainer=D.endContainer=D.startContainer;D.endOffset=D.startOffset}else{D.commonAncestorContainer=D.startContainer=D.endContainer;D.startOffset=D.endOffset}D.collapsed=true}}function b(C){C.collapsed=C.startContainer==C.endContainer&&C.startOffset==C.endOffset;var D=C.startContainer;while(D&&D!=C.endContainer&&!r.isAncestorOf(D,C.endContainer)){D=D.parentNode}C.commonAncestorContainer=D}var n=s.extend({init:function(D){e.extend(this,{range:D,_current:null,_next:null,_end:null});if(D.collapsed){return}var C=D.commonAncestorContainer;this._next=D.startContainer==C&&!A(D.startContainer)?D.startContainer.childNodes[D.startOffset]:k(C,D.startContainer);this._end=D.endContainer==C&&!A(D.endContainer)?D.endContainer.childNodes[D.endOffset]:k(C,D.endContainer).nextSibling},hasNext:function(){return !!this._next},next:function(){var C=this,D=C._current=C._next;C._next=C._current&&C._current.nextSibling!=C._end?C._current.nextSibling:null;if(A(C._current)){if(C.range.endContainer==C._current){D=D.cloneNode(true);D.deleteData(C.range.endOffset,D.length-C.range.endOffset)}if(C.range.startContainer==C._current){D=D.cloneNode(true);D.deleteData(0,C.range.startOffset)}}return D},traverse:function(F){var D=this,E;function C(){D._current=D._next;D._next=D._current&&D._current.nextSibling!=D._end?D._current.nextSibling:null;return D._current}while(E=C()){if(D.hasPartialSubtree()){D.getSubtreeIterator().traverse(F)}else{F(E)}}return E},remove:function(F){var G=this,H=G.range.startContainer==G._current,K=G.range.endContainer==G._current,C,E,J;if(A(G._current)&&(H||K)){C=H?G.range.startOffset:0;E=K?G.range.endOffset:G._current.length;J=E-C;if(F&&(H||K)){if(G._current==F.startContainer&&C<=F.startOffset){F.startOffset-=J}if(G._current==F.endContainer&&E<=F.endOffset){F.endOffset-=J}}G._current.deleteData(C,J)}else{var I=G._current.parentNode;if(F&&(G.range.startContainer==I||G.range.endContainer==I)){var D=c(G._current);if(I==F.startContainer&&D<=F.startOffset){F.startOffset-=1}if(I==F.endContainer&&D<F.endOffset){F.endOffset-=1}}r.remove(G._current)}},hasPartialSubtree:function(){return !A(this._current)&&(r.isAncestorOrSelf(this._current,this.range.startContainer)||r.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){var D=this,C=D.range.cloneRange();C.selectNodeContents(D._current);if(r.isAncestorOrSelf(D._current,D.range.startContainer)){C.setStart(D.range.startContainer,D.range.startOffset)}if(r.isAncestorOrSelf(D._current,D.range.endContainer)){C.setEnd(D.range.endContainer,D.range.endOffset)}return new n(C)}});var x=s.extend({init:function(C){this.ownerDocument=C;this.rangeCount=1},addRange:function(C){var D=this.ownerDocument.body.createTextRange();h(D,C,false);h(D,C,true);D.select()},removeAllRanges:function(){var C=this.ownerDocument.selection;if(C.type!="None"){C.empty()}},getRangeAt:function(){var M,F=new B(this.ownerDocument),I=this.ownerDocument.selection,E,J;try{M=I.createRange();E=M.item?M.item(0):M.parentElement();if(E.ownerDocument!=this.ownerDocument){return F}}catch(H){return F}if(I.type=="Control"){F.selectNode(M.item(0))}else{J=i(M);v(M,F,J,true);v(M,F,J,false);if(F.startContainer.nodeType==9){F.setStart(F.endContainer,F.startOffset)}if(F.endContainer.nodeType==9){F.setEnd(F.startContainer,F.endOffset)}if(M.compareEndPoints("StartToEnd",M)===0){F.collapse(false)}var D=F.startContainer,L=F.endContainer,G=this.ownerDocument.body;if(!F.collapsed&&F.startOffset===0&&F.endOffset==d(F.endContainer)&&!(D==L&&A(D)&&D.parentNode==G)){var K=false,C=false;while(c(D)===0&&D==D.parentNode.firstChild&&D!=G){D=D.parentNode;K=true}while(c(L)==d(L.parentNode)-1&&L==L.parentNode.lastChild&&L!=G){L=L.parentNode;C=true}if(D==G&&L==G&&K&&C){F.setStart(D,0);F.setEnd(L,d(G))}}}return F}});function i(D){var E=D.duplicate(),C=D.duplicate();E.collapse(true);C.collapse(false);return r.commonAncestor(D.parentElement(),E.parentElement(),C.parentElement())}function h(N,H,E){var D=H[E?"startContainer":"endContainer"],G=H[E?"startOffset":"endOffset"],F=0,M=A(D),K=M?D:D.childNodes[G]||null,I=M?D.parentNode:D,J=H.ownerDocument,L=J.body.createTextRange(),C;if(D.nodeType==3||D.nodeType==4){F=G}if(!I){I=J.body}if(I.nodeName.toLowerCase()=="img"){L.moveToElementText(I);L.collapse(false);N.setEndPoint(E?"StartToStart":"EndToStart",L)}else{C=I.insertBefore(r.create(J,"a"),K);L.moveToElementText(C);r.remove(C);L[E?"moveStart":"moveEnd"]("character",F);L.collapse(false);N.setEndPoint(E?"StartToStart":"EndToStart",L)}}function v(P,G,M,D){var C=r.create(G.ownerDocument,"a"),N=P.duplicate(),O=D?"StartToStart":"StartToEnd",Q,L,J,H,F,K,I,E=false;C.innerHTML="\ufeff";N.collapse(D);L=N.parentElement();if(!r.isAncestorOrSelf(M,L)){L=M}do{if(E){L.insertBefore(C,C.previousSibling)}else{L.appendChild(C);E=true}N.moveToElementText(C)}while((Q=N.compareEndPoints(O,P))>0&&C.previousSibling);J=C.nextSibling;if(Q==-1&&A(J)){N.setEndPoint(D?"EndToStart":"EndToEnd",P);r.remove(C);K=[J,N.text.length]}else{H=!D&&C.previousSibling;F=D&&C.nextSibling;if(A(F)){K=[F,0]}else{if(A(H)){K=[H,H.length]}else{I=c(C);if(L.nextSibling&&I==L.childNodes.length-1){K=[L.nextSibling,0]}else{K=[L,I]}}}r.remove(C)}G[D?"setStart":"setEnd"].apply(G,K)}var u=s.extend({init:function(C){this.enumerate=function(){var D=[];function E(F){if(r.is(F,"img")||(F.nodeType==3&&(!r.isWhitespace(F)||F.nodeValue=="\ufeff"))){D.push(F)}else{F=F.firstChild;while(F){E(F);F=F.nextSibling}}}new n(C).traverse(E);return D}}});var w=s.extend({init:function(D,C){var E=this;E.range=D;E.rootNode=y.documentFromRange(D);E.body=C||E.getEditable(D);if(r.name(E.body)!="body"){E.rootNode=E.body}E.html=E.body.innerHTML;E.startContainer=E.nodeToPath(D.startContainer);E.endContainer=E.nodeToPath(D.endContainer);E.startOffset=E.offset(D.startContainer,D.startOffset);E.endOffset=E.offset(D.endContainer,D.endOffset)},index:function(F){var C=0,E=F.nodeType;while(F=F.previousSibling){var D=F.nodeType;if(D!=3||E!=D){C++}E=D}return C},getEditable:function(D){var C=D.commonAncestorContainer;while(C&&(C.nodeType==3||C.attributes&&!C.attributes.contentEditable)){C=C.parentNode}return C},restoreHtml:function(){this.body.innerHTML=this.html},offset:function(C,D){if(C.nodeType==3){while((C=C.previousSibling)&&C.nodeType==3){D+=C.nodeValue.length}}return D},nodeToPath:function(C){var D=[];while(C!=this.rootNode){D.push(this.index(C));C=C.parentNode}return D},toRangePoint:function(C,I,G,F){var E=this.rootNode,D=G.length,H=F;while(D--){E=E.childNodes[G[D]]}while(E&&E.nodeType==3&&E.nodeValue.length<H){H-=E.nodeValue.length;E=E.nextSibling}if(E&&H>=0){C[I?"setStart":"setEnd"](E,H)}},toRange:function(){var D=this,C=D.range.cloneRange();D.toRangePoint(C,true,D.startContainer,D.startOffset);D.toRangePoint(C,false,D.endContainer,D.endOffset);return C}});var f=s.extend({init:function(){this.caret=null},addCaret:function(C){var D=this;D.caret=r.create(y.documentFromRange(C),"span",{className:"k-marker"});C.insertNode(D.caret);C.selectNode(D.caret);return D.caret},removeCaret:function(E){var I=this,H=I.caret.previousSibling,C=0;if(H){C=A(H)?H.nodeValue.length:c(H)}var D=I.caret.parentNode;var F=H?c(H):0;r.remove(I.caret);o(D);var G=D.childNodes[F];if(A(G)){E.setStart(G,C)}else{if(G){var J=r.lastTextNode(G);if(J){E.setStart(J,J.nodeValue.length)}else{E[H?"setStartAfter":"setStartBefore"](G)}}else{if(!z.msie&&!D.innerHTML){D.innerHTML='<br _moz_dirty="" />'}E.selectNodeContents(D)}}E.collapse(true)},add:function(C,D){var G=this;var I=C.collapsed&&!y.isExpandable(C);var H=y.documentFromRange(C);if(D&&C.collapsed){G.addCaret(C);C=y.expand(C)}var F=C.cloneRange();F.collapse(false);G.end=r.create(H,"span",{className:"k-marker"});F.insertNode(G.end);F=C.cloneRange();F.collapse(true);G.start=G.end.cloneNode(true);F.insertNode(G.start);G._removeDeadMarkers(G.start,G.end);if(I){var E=H.createTextNode("\ufeff");r.insertAfter(E.cloneNode(),G.start);r.insertBefore(E,G.end)}o(C.commonAncestorContainer);C.setStartBefore(G.start);C.setEndAfter(G.end);return C},_removeDeadMarkers:function(D,C){if(D.previousSibling&&D.previousSibling.nodeValue=="\ufeff"){r.remove(D.previousSibling)}if(C.nextSibling&&C.nextSibling.nodeValue=="\ufeff"){r.remove(C.nextSibling)}},remove:function(N){var O=this,G=O.start,J=O.end,H,D,C;o(N.commonAncestorContainer);while(!G.nextSibling&&G.parentNode){G=G.parentNode}while(!J.previousSibling&&J.parentNode){J=J.parentNode}H=(G.previousSibling&&G.previousSibling.nodeType==3)&&(G.nextSibling&&G.nextSibling.nodeType==3);D=(J.previousSibling&&J.previousSibling.nodeType==3)&&(J.nextSibling&&J.nextSibling.nodeType==3);C=H&&D;G=G.nextSibling;J=J.previousSibling;var K=false;var I=false;if(G==O.end){I=!!O.start.previousSibling;G=J=O.start.previousSibling||O.end.nextSibling;K=true}r.remove(O.start);r.remove(O.end);if(!G||!J){N.selectNodeContents(N.commonAncestorContainer);N.collapse(true);return}var P=K?A(G)?G.nodeValue.length:G.childNodes.length:0;var Q=A(J)?J.nodeValue.length:J.childNodes.length;if(G.nodeType==3){while(G.previousSibling&&G.previousSibling.nodeType==3){G=G.previousSibling;P+=G.nodeValue.length}}if(J.nodeType==3){while(J.previousSibling&&J.previousSibling.nodeType==3){J=J.previousSibling;Q+=J.nodeValue.length}}var S=c(G),E=G.parentNode;var M=c(J),F=J.parentNode;for(var L=G;L.previousSibling;L=L.previousSibling){if(L.nodeType==3&&L.previousSibling.nodeType==3){S--}}for(var R=J;R.previousSibling;R=R.previousSibling){if(R.nodeType==3&&R.previousSibling.nodeType==3){M--}}o(E);if(G.nodeType==3){G=E.childNodes[S]}o(F);if(J.nodeType==3){J=F.childNodes[M]}if(K){if(G.nodeType==3){N.setStart(G,P)}else{N[I?"setStartAfter":"setStartBefore"](G)}N.collapse(true)}else{if(G.nodeType==3){N.setStart(G,P)}else{N.setStartBefore(G)}if(J.nodeType==3){N.setEnd(J,Q)}else{N.setEndAfter(J)}}if(O.caret){O.removeCaret(N)}}});var q=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/;var y={nodes:function(D){var C=y.textNodes(D);if(!C.length){D.selectNodeContents(D.commonAncestorContainer);C=y.textNodes(D);if(!C.length){C=r.significantChildNodes(D.commonAncestorContainer)}}return C},textNodes:function(C){return new u(C).enumerate()},documentFromRange:function(C){var D=C.startContainer;return D.nodeType==9?D:D.ownerDocument},createRange:function(C){if(z.msie&&z.version<9){return new B(C)}return C.createRange()},selectRange:function(C){var E=y.image(C);if(E){C.setStartAfter(E);C.setEndAfter(E)}var D=p.selectionFromRange(C);D.removeAllRanges();D.addRange(C)},stringify:function(C){return l.format("{0}:{1} - {2}:{3}",r.name(C.startContainer),C.startOffset,r.name(C.endContainer),C.endOffset)},split:function(D,F,C){function E(I){var H=D.cloneRange();H.collapse(I);H[I?"setStartBefore":"setEndAfter"](F);var G=H.extractContents();if(C){G=r.trim(G)}r[I?"insertBefore":"insertAfter"](G,F)}E(true);E(false)},mapAll:function(D,E){var C=[];new n(D).traverse(function(G){var F=E(G);if(F&&e.inArray(F,C)<0){C.push(F)}});return C},getAll:function(E,D){var C=D;if(typeof D=="string"){D=function(F){return r.is(F,C)}}return y.mapAll(E,function(F){if(D(F)){return F}})},getMarkers:function(C){return y.getAll(C,function(D){return D.className=="k-marker"})},image:function(D){var C=y.getAll(D,"img");if(C.length==1){return C[0]}},isStartOf:function(C,F){C=C.cloneRange();while(C.startOffset===0&&C.startContainer!=F){var D=r.findNodeIndex(C.startContainer);var E=C.startContainer.parentNode;while(D>0&&r.insignificant(E[D-1])){D--}C.setStart(E,D)}return C.startOffset===0&&C.startContainer==F},wrapSelectedElements:function(D){var F=r.editableParent(D.startContainer);var C=r.editableParent(D.endContainer);while(D.startOffset===0&&D.startContainer!=F){D.setStart(D.startContainer.parentNode,r.findNodeIndex(D.startContainer))}function E(J,G){var I=r.getNodeLength(G);if(J==I){return true}for(var H=J;H<I;H++){if(!r.insignificant(G.childNodes[H])){return false}}return true}while(E(D.endOffset,D.endContainer)&&D.endContainer!=C){D.setEnd(D.endContainer.parentNode,r.findNodeIndex(D.endContainer)+1)}return D},expand:function(F){var E=F.cloneRange();var H=E.startContainer.childNodes[E.startOffset===0?0:E.startOffset-1];var J=E.endContainer.childNodes[E.endOffset];if(!A(H)||!A(J)){return E}var I=H.nodeValue;var D=J.nodeValue;if(!I||!D){return E}var C=I.split("").reverse().join("").search(q);var G=D.search(q);if(!C||!G){return E}G=G==-1?D.length:G;C=C==-1?0:I.length-C;E.setStart(H,C);E.setEnd(J,G);return E},isExpandable:function(G){var D=G.startContainer;var C=y.documentFromRange(G);if(D==C||D==C.body){return false}var K=G.cloneRange();var J=D.nodeValue;if(!J){return false}var E=J.substring(0,K.startOffset);var F=J.substring(K.startOffset);var H=0,I=0;if(E){H=E.split("").reverse().join("").search(q)}if(F){I=F.search(q)}return H&&I}};t(m,{SelectionUtils:p,W3CRange:B,RangeIterator:n,W3CSelection:x,RangeEnumerator:u,RestorePoint:w,Marker:f,RangeUtils:y})})(window.kendo.jQuery);(function(e){var o=window.kendo,y=o.Class,z=o.ui.editor,j=z.EditorUtils,q=j.registerTool,x=z.Dom,i=z.Tool,s=z.ToolTemplate,C=z.RestorePoint,h=z.Marker,B=e.extend;function g(G,F){var E=G.selectionRestorePoint=new C(G.getRange());var H=new u(F,E);H.editor=G;G.undoRedoStack.push(H);return E}var v=y.extend({init:function(E){this.options=E;this.restorePoint=new C(E.range);this.marker=new h();this.formatter=E.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(E){return this.marker.add(this.getRange(),E)},releaseRange:function(E){this.marker.remove(E);this.editor.selectRange(E)},undo:function(){var E=this.restorePoint;E.restoreHtml();this.editor.selectRange(E.toRange())},redo:function(){this.exec()},createDialog:function(G,E){var F=this.editor;return e(G).appendTo(document.body).kendoWindow(B({},F.options.dialogOptions,E)).closest(".k-window").toggleClass("k-rtl",o.support.isRtl(F.wrapper)).end()},exec:function(){var E=this.lockRange(true);this.formatter.editor=this.editor;this.formatter.toggle(E);this.releaseRange(E)}});var u=y.extend({init:function(F,E){this.body=F.body;this.startRestorePoint=F;this.endRestorePoint=E},redo:function(){this.body.innerHTML=this.endRestorePoint.html;this.editor.selectRange(this.endRestorePoint.toRange())},undo:function(){this.body.innerHTML=this.startRestorePoint.html;this.editor.selectRange(this.startRestorePoint.toRange())}});var c=v.extend({init:function(E){v.fn.init.call(this,E);this.managesUndoRedo=true},exec:function(){var K=this.editor;var I=this.options;var G=I.range;var E=K.body;var H=new C(G,E);var J=I.html||I.value||"";K.selectRange(G);K.clipboard.paste(J,I);if(I.postProcess){I.postProcess(K,K.getRange())}var F=new u(H,new C(K.getRange(),E));F.editor=K;K.undoRedoStack.push(F);K.focus()}});var r=i.extend({initialize:function(H,G){var F=G.editor,E=this.options,I=E.items?E.items:F.options.insertHtml;new z.SelectBox(H,{dataSource:I,dataTextField:"text",dataValueField:"value",change:function(){i.exec(F,"insertHtml",this.value())},title:F.options.messages.insertHtml,highlightFirst:false})},command:function(E){return new c(E)},update:function(F){var E=F.data("kendoSelectBox")||F.find("select").data("kendoSelectBox");E.close();E.value(E.options.title)}});var w=y.extend({init:function(){this.stack=[];this.currentCommandIndex=-1},push:function(E){this.stack=this.stack.slice(0,this.currentCommandIndex+1);this.currentCommandIndex=this.stack.push(E)-1},undo:function(){if(this.canUndo()){this.stack[this.currentCommandIndex--].undo()}},redo:function(){if(this.canRedo()){this.stack[++this.currentCommandIndex].redo()}},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}});var m=y.extend({init:function(E){this.editor=E},keydown:function(K){var J=this,I=J.editor,E=I.keyboard,H=E.isTypingKey(K),F=B(e.Event(),K);J.editor.trigger("keydown",F);if(F.isDefaultPrevented()){K.preventDefault();return true}if(!F.isDefaultPrevented()&&H&&!E.isTypingInProgress()){var G=I.getRange();J.startRestorePoint=new C(G);E.startTyping(function(){J.endRestorePoint=g(I,J.startRestorePoint)});return true}return false},keyup:function(F){var E=this.editor.keyboard;this.editor.trigger("keyup",F);if(E.isTypingInProgress()){E.endTyping();return true}return false}});var D=y.extend({init:function(E){this.editor=E},_handleCaret:function(J){var F=J.startContainer;var H=J.startOffset;var M=x.closestEditableOfType(F,["li"]);var I=x.closestEditableOfType(F,"h1,h2,h3,h4,h5,h6".split(","));if(x.isDataNode(F)){while(H>=0&&F.nodeValue[H-1]=="\ufeff"){F.deleteData(H-1,1);H--}J.setStart(F,Math.max(0,H));J.collapse(true);this.editor.selectRange(J)}if(I&&I.previousSibling&&z.RangeUtils.isStartOf(J,I)){var G=I.previousSibling;var K=x.create(this.editor.document,"a");G.appendChild(K);while(I.firstChild){G.appendChild(I.firstChild)}x.remove(I);J.setStartAfter(K);J.collapse(true);this.editor.selectRange(J);x.remove(K);return true}if(M&&z.RangeUtils.isStartOf(J,M)){var L=new z.GreedyBlockFormatter([{tags:["p"]}]);var E=M.firstChild;L.editor=this.editor;L.apply(M.childNodes);J.setStart(E,0);this.editor.selectRange(J);return true}return false},_handleSelection:function(F){var G=F.commonAncestorContainer;var H=x.closest(G,"table");var E=z.emptyElementContent;if(/t(able|body)/i.test(x.name(G))){F.selectNode(H)}F.deleteContents();if(H&&e(H).text()===""){F.selectNode(H);F.deleteContents()}G=F.commonAncestorContainer;if(x.name(G)==="p"&&G.innerHTML===""){G.innerHTML=E;F.setStart(G,0);F.collapse(true);this.editor.selectRange(F)}return true},keydown:function(I){var J,F;var E=this.editor.getRange();var H=I.keyCode;var G=o.keys;if(H===G.BACKSPACE){J=E.collapsed?"_handleCaret":"_handleSelection"}else{if(H==G.DELETE){J=E.collapsed?"":"_handleSelection"}}if(!J){return}F=new C(E);if(this[J](E)){I.preventDefault();g(this.editor,F)}},keyup:e.noop});var n=y.extend({init:function(E){this.editor=E;this.systemCommandIsInProgress=false},createUndoCommand:function(){this.startRestorePoint=this.endRestorePoint=g(this.editor,this.startRestorePoint)},changed:function(){if(this.startRestorePoint){return this.startRestorePoint.html!=this.editor.body.innerHTML}return false},keydown:function(H){var G=this,F=G.editor,E=F.keyboard;if(E.isModifierKey(H)){if(E.isTypingInProgress()){E.endTyping(true)}G.startRestorePoint=new C(F.getRange());return true}if(E.isSystem(H)){G.systemCommandIsInProgress=true;if(G.changed()){G.systemCommandIsInProgress=false;G.createUndoCommand()}return true}return false},keyup:function(F){var E=this;if(E.systemCommandIsInProgress&&E.changed()){E.systemCommandIsInProgress=false;E.createUndoCommand();return true}return false}});var d=y.extend({init:function(E){this.handlers=E;this.typingInProgress=false},isCharacter:function(E){return(E>=48&&E<=90)||(E>=96&&E<=111)||(E>=186&&E<=192)||(E>=219&&E<=222)||E==229},toolFromShortcut:function(H,G){var E=String.fromCharCode(G.keyCode),F,I;for(F in H){I=e.extend({ctrl:false,alt:false,shift:false},H[F].options);if((I.key==E||I.key==G.keyCode)&&I.ctrl==G.ctrlKey&&I.alt==G.altKey&&I.shift==G.shiftKey){return F}}},isTypingKey:function(F){var E=F.keyCode;return(this.isCharacter(E)&&!F.ctrlKey&&!F.altKey)||E==32||E==13||E==8||(E==46&&!F.shiftKey&&!F.ctrlKey&&!F.altKey)},isModifierKey:function(F){var E=F.keyCode;return(E==17&&!F.shiftKey&&!F.altKey)||(E==16&&!F.ctrlKey&&!F.altKey)||(E==18&&!F.ctrlKey&&!F.shiftKey)},isSystem:function(E){return E.keyCode==46&&E.ctrlKey&&!E.altKey&&!E.shiftKey},startTyping:function(E){this.onEndTyping=E;this.typingInProgress=true},stopTyping:function(){if(this.typingInProgress&&this.onEndTyping){this.onEndTyping()}this.typingInProgress=false},endTyping:function(F){var E=this;E.clearTimeout();if(F){E.stopTyping()}else{E.timeout=window.setTimeout(e.proxy(E.stopTyping,E),1000)}},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(H,G){var F,E=this.handlers;for(F=0;F<E.length;F++){if(E[F][G](H)){break}}},keydown:function(E){this.notify(E,"keydown")},keyup:function(E){this.notify(E,"keyup")}});var k=y.extend({init:function(E){this.editor=E;this.cleaners=[new A(),new t(),new b()]},htmlToFragment:function(G){var H=this.editor,I=H.document,E=x.create(I,"div"),F=I.createDocumentFragment();E.innerHTML=G;while(E.firstChild){F.appendChild(E.firstChild)}return F},isBlock:function(E){return(/<(div|p|ul|ol|table|h[1-6])/i).test(E)},_startModification:function(){var E;var G;var F=this.editor;if(this._inProgress){return}this._inProgress=true;E=F.getRange();G=new C(E);x.persistScrollTop(F.document);return{range:E,restorePoint:G}},_endModification:function(E){g(this.editor,E.restorePoint);this.editor._selectionChange();this._inProgress=false},_contentModification:function(G,I){var F=this;var E=F.editor;var H=F._startModification();if(!H){return}G.call(F,E,H.range);setTimeout(function(){I.call(F,E,H.range);F._endModification(H)})},oncut:function(){this._contentModification(e.noop,e.noop)},_fileToDataURL:function(H,F){var G=H.getAsFile();var E=new FileReader();E.onload=F||e.noop;E.readAsDataURL(G)},_triggerPaste:function(G,F){var E={html:G||""};E.html=E.html.replace(/\ufeff/g,"");this.editor.trigger("paste",E);this.paste(E.html,F||{})},_handleImagePaste:function(G){if(!("FileReader" in window)){return}var F=this;var I=G.clipboardData||G.originalEvent.clipboardData;var E=I&&(I.items||I.files);if(!E||!E.length){return}if(!/^image\//i.test(E[0].type)){return}var H=F._startModification();if(!H){return}this._fileToDataURL(E[0],function(J){F._triggerPaste('<img src="'+J.target.result+'" />');F._endModification(H)});return true},onpaste:function(F){if(this._handleImagePaste(F)){return}this._contentModification(function E(K,I){var N=x.create(K.document,"div",{className:"k-paste-container",innerHTML:"\ufeff"});var J=o.support.browser;K.body.appendChild(N);if(J.msie&&J.version<11){F.preventDefault();var M=K.createRange();M.selectNodeContents(N);K.selectRange(M);var L=K.document.body.createTextRange();L.moveToElementText(N);e(K.body).unbind("paste");L.execCommand("Paste");e(K.body).bind("paste",e.proxy(this.onpaste,this))}else{var H=K.createRange();H.selectNodeContents(N);K.selectRange(H)}I.deleteContents()},function G(L,H){var K="",J={html:""},M;var I=o.support.browser;L.selectRange(H);M=e(L.body).children(".k-paste-container");M.each(function(){var N=this.lastChild;if(N&&x.is(N,"br")){x.remove(N)}K+=this.innerHTML});M.remove();this._triggerPaste(K,{clean:true})})},splittableParent:function(H,G){var F,E;if(H){return x.closestEditableOfType(G,["p","ul","ol"])||G.parentNode}F=G.parentNode;E=G.ownerDocument.body;if(x.isInline(F)){while(F.parentNode!=E&&!x.isBlock(F.parentNode)){F=F.parentNode}}return F},paste:function(L,S){var N=this.editor,J,G;S=B({clean:false,split:true},S);for(J=0,G=this.cleaners.length;J<G;J++){if(this.cleaners[J].applicable(L)){L=this.cleaners[J].clean(L)}}if(S.clean){L=L.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/ig,"$3");L=L.replace(/<(a|span)[^>]*><\/\1>/ig,"")}L=L.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>");var H=this.isBlock(L);N.focus();var M=N.getRange();M.deleteContents();if(M.startContainer==N.document){M.selectNodeContents(N.body)}var K=new h();var P=K.addCaret(M);var R=this.splittableParent(H,P);var I=false;var Q=R!=N.body&&!x.is(R,"td");if(S.split&&Q&&(H||x.isInline(R))){M.selectNode(P);z.RangeUtils.split(M,R,true);I=true}var O=this.htmlToFragment(L);if(O.firstChild&&O.firstChild.className==="k-paste-container"){var F=[];for(J=0,G=O.childNodes.length;J<G;J++){F.push(O.childNodes[J].innerHTML)}O=this.htmlToFragment(F.join("<br />"))}e(O.childNodes).filter("table").addClass("k-table").end().find("table").addClass("k-table");M.insertNode(O);R=this.splittableParent(H,P);if(I){while(P.parentNode!=R){x.unwrap(P.parentNode)}x.unwrap(P.parentNode)}x.normalize(M.commonAncestorContainer);P.style.display="inline";x.restoreScrollTop(N.document);x.scrollTo(P);K.removeCaret(M);var E=M.commonAncestorContainer.parentNode;if(M.collapsed&&x.name(E)=="tbody"){M.setStartAfter(e(E).closest("table")[0]);M.collapse(true)}N.selectRange(M)}});var l=y.extend({clean:function(G){var I=this,H=I.replacements,F,E;for(F=0,E=H.length;F<E;F+=2){G=G.replace(H[F],H[F+1])}return G}});var A=l.extend({init:function(){this.replacements=[/<(\/?)script([^>]*)>/i,"<$1telerik:script$2>"]},applicable:function(E){return(/<script[^>]*>/i).test(E)}});var t=l.extend({init:function(){this.replacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>(?!\n)/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/ig,"",/<(\/?)b(\s[^>]*)?>/ig,"<$1strong$2>",/<(\/?)i(\s[^>]*)?>/ig,"<$1em$2>",/<o:p>&nbsp;<\/o:p>/ig,"&nbsp;",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/ig,"",/<\/o>/g,"",/style=(["|'])\s*\1/g,"",/(<br[^>]*>)?\n/g,function(F,E){return E?F:" "}]},applicable:function(E){return(/class="?Mso|style="[^"]*mso-/i).test(E)||(/urn:schemas-microsoft-com:office/).test(E)},stripEmptyAnchors:function(E){return E.replace(/<a([^>]*)>\s*<\/a>/ig,function(F,G){if(!G||G.indexOf("href")<0){return""}return F})},listType:function(F){var E;if(/^(<span [^>]*texhtml[^>]*>)?<span [^>]*(Symbol|Wingdings)[^>]*>/i.test(F)){E=true}F=F.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,"\u00a0");if((!E&&/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(F))||(E&&/^.\u00a0+/.test(F))){return"ul"}if(/^\s*\w+[\.\)]\u00a0{2,}/.test(F)){return"ol"}},_convertToLi:function(F){var E;if(F.childNodes.length==1){E=F.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,"")}else{x.remove(F.firstChild);if(F.firstChild.nodeType==3){if(/^[ivx]+\.$/i.test(F.firstChild.nodeValue)){x.remove(F.firstChild)}}if(/^(&nbsp;|\s)+$/i.test(F.firstChild.innerHTML)){x.remove(F.firstChild)}E=F.innerHTML}x.remove(F);return x.create(document,"li",{innerHTML:E})},lists:function(O){var N=e(x.blockElements.join(","),O),E=-1,K,F,R={ul:{},ol:{}},Q=O,J,G,M,I,L,P,H;for(J=0;J<N.length;J++){G=N[J];M=this.listType(G.innerHTML);F=x.name(G);if(F=="td"){continue}if(!M||F!="p"){if(!G.innerHTML){x.remove(G)}else{R={ul:{},ol:{}};Q=O;E=-1}continue}I=parseFloat(G.style.marginLeft||0);L=R[M][I];if(I>E||!L){L=x.create(document,M);if(Q==O){x.insertBefore(L,G)}else{Q.appendChild(L)}R[M][I]=L}if(K!=M){for(P in R){for(H in R[P]){if(e.contains(L,R[P][H])){delete R[P][H]}}}}Q=this._convertToLi(G);L.appendChild(Q);E=I;K=M}},removeAttributes:function(G){var E=G.attributes,F=E.length;while(F--){if(x.name(E[F])!="colspan"){G.removeAttributeNode(E[F])}}},createColGroup:function(H){var F=H.cells;var G=e(H).closest("table");var E=G.children("colgroup");if(F.length<2){return}else{if(E.length){F=E.children();E[0].parentNode.removeChild(E[0])}}E=e(e.map(F,function(I){var J=I.width;if(J&&parseInt(J,10)!==0){return o.format('<col style="width:{0}px;"/>',J)}return"<col />"}).join(""));if(!E.is("colgroup")){E=e("<colgroup/>").append(E)}E.prependTo(G)},convertHeaders:function(H){var E=H.cells,F,G=e.map(E,function(I){var J=e(I).children("p").children("strong")[0];if(J&&x.name(J)=="strong"){return J}});if(G.length==E.length){for(F=0;F<G.length;F++){x.unwrap(G[F])}e(H).closest("table").find("colgroup").after("<thead></thead>").end().find("thead").append(H);for(F=0;F<E.length;F++){x.changeTag(E[F],"th")}}},removeParagraphs:function(H){var I,G,F,E,J;for(I=0;I<H.length;I++){this.removeAttributes(H[I]);E=e(H[I]);J=E.children("p");for(G=0,F=J.length;G<F;G++){if(G<F-1){x.insertAfter(x.create(document,"br"),J[G])}x.unwrap(J[G])}}},removeDefaultColors:function(F){for(var E=0;E<F.length;E++){if(/^\s*color:\s*[^;]*;?$/i.test(F[E].style.cssText)){x.unwrap(F[E])}}},tables:function(L){var H=e(L).find("table"),I=this,J,K,F,G,E;for(G=0;G<H.length;G++){J=H[G].rows;F=K=J[0];for(E=1;E<J.length;E++){if(J[E].cells.length>F.cells.length){F=J[E]}}I.createColGroup(F);I.convertHeaders(K);I.removeAttributes(H[G]);I.removeParagraphs(H.eq(G).find("td,th"));I.removeDefaultColors(H.eq(G).find("span"))}},headers:function(G){var F=e(G).find("p.MsoTitle");for(var E=0;E<F.length;E++){x.changeTag(F[E],"h1")}},clean:function(E){var F=this,G;E=l.fn.clean.call(F,E);E=F.stripEmptyAnchors(E);G=x.create(document,"div",{innerHTML:E});F.headers(G);F.lists(G);F.tables(G);E=G.innerHTML.replace(/(<[^>]*)\s+class="?[^"\s>]*"?/ig,"$1");return E}});var b=l.extend({init:function(){this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"]},applicable:function(E){return(/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i).test(E)}});var f=v.extend({init:function(E){v.fn.init.call(this,E);this.managesUndoRedo=true},exec:function(){var E=this.editor;if(o.support.browser.msie){E.document.execCommand("print",false,null)}else{if(E.window.print){E.window.print()}}}});var p=v.extend({init:function(E){this.async=true;v.fn.init.call(this,E)},exec:function(){var F=this;var E=this.lockRange(true);this.editor.saveAsPDF().then(function(){F.releaseRange(E)})}});B(z,{_finishUpdate:g,Command:v,GenericCommand:u,InsertHtmlCommand:c,InsertHtmlTool:r,UndoRedoStack:w,TypingHandler:m,SystemHandler:n,BackspaceHandler:D,Keyboard:d,Clipboard:k,Cleaner:l,MSWordFormatCleaner:t,WebkitFormatCleaner:b,PrintCommand:f,ExportPdfCommand:p});q("insertHtml",new r({template:new s({template:j.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})}));q("print",new i({command:f,template:new s({template:j.buttonTemplate,title:"Print"})}));q("pdf",new i({command:p,template:new s({template:j.buttonTemplate,title:"Export PDF"})}))})(window.kendo.jQuery);(function(f){var l=window.kendo,t=l.Class,o=l.ui.editor,g=l.ui.Editor.fn.options.formats,i=o.EditorUtils,h=o.Tool,n=o.ToolTemplate,e=o.FormatTool,s=o.Dom,w=o.RangeUtils,u=f.extend,m=o.EditorUtils.registerTool,d=o.EditorUtils.registerFormat,k="k-marker";var r=t.extend({init:function(y){this.format=y},numberOfSiblings:function(B){var z=0,A=0,C=0,y=B.parentNode,D;for(D=y.firstChild;D;D=D.nextSibling){if(D!=B){if(D.className==k){C++}else{if(D.nodeType==3){z++}else{A++}}}}if(C>1&&y.firstChild.className==k&&y.lastChild.className==k){return 0}else{return A+z}},findSuitable:function(z,B){if(!B&&this.numberOfSiblings(z)>0){return null}var A=z.parentNode;var y=this.format[0].tags;while(!s.ofType(A,y)){if(this.numberOfSiblings(A)>0){return null}A=A.parentNode}return A},findFormat:function(C){var F=this.format,E=s.attrEquals,B,y,D,A,z;for(B=0,y=F.length;B<y;B++){D=C;A=F[B].tags;z=F[B].attr;if(D&&s.ofType(D,A)&&E(D,z)){return D}while(D){D=s.parentOfType(D,A);if(D&&E(D,z)){return D}}}return null},isFormatted:function(z){var A,y;for(A=0,y=z.length;A<y;A++){if(this.findFormat(z[A])){return true}}return false}});var x=t.extend({init:function(z,y){this.finder=new r(z);this.attributes=u({},z[0].attr,y);this.tag=z[0].tags[0]},wrap:function(y){return s.wrap(y,s.create(y.ownerDocument,this.tag,this.attributes))},activate:function(z,y){if(this.finder.isFormatted(y)){this.split(z);this.remove(y)}else{this.apply(y)}},toggle:function(z){var y=w.textNodes(z);if(y.length>0){this.activate(z,y)}},apply:function(z){var C=[];var A,y,B,D;for(A=0,y=z.length;A<y;A++){B=z[A];D=this.finder.findSuitable(B);if(D){s.attr(D,this.attributes)}else{while(!s.isBlock(B.parentNode)&&B.parentNode.childNodes.length==1){B=B.parentNode}D=this.wrap(B)}C.push(D)}this.consolidate(C)},remove:function(z){var A,y,B;for(A=0,y=z.length;A<y;A++){B=this.finder.findFormat(z[A]);if(B){if(this.attributes&&this.attributes.style){s.unstyle(B,this.attributes.style);if(!B.style.cssText&&!B.attributes["class"]){s.unwrap(B)}}else{s.unwrap(B)}}}},split:function(A){var z=w.textNodes(A);var y=z.length;var B,C;if(y>0){for(B=0;B<y;B++){C=this.finder.findFormat(z[B]);if(C){w.split(A,C,true)}}}},consolidate:function(y){var A,z;while(y.length>1){A=y.pop();z=y[y.length-1];if(A.previousSibling&&A.previousSibling.className==k){z.appendChild(A.previousSibling)}if(A.tagName==z.tagName&&A.previousSibling==z&&A.style.cssText==z.style.cssText){while(A.firstChild){z.appendChild(A.firstChild)}s.remove(A)}}}});var c=r.extend({init:function(z,y){this.format=z;this.greedyProperty=y;r.fn.init.call(this,z)},getInlineCssValue:function(B){var G=B.attributes;var C=f.trim;var H,E,z,y,D,I,F,A,J;var K,M,L;if(!G){return}for(H=0,E=G.length;H<E;H++){z=G[H];y=z.nodeName;D=z.nodeValue;if(z.specified&&y=="style"){I=C(D||B.style.cssText).split(";");for(A=0,J=I.length;A<J;A++){F=I[A];if(F.length){K=F.split(":");M=C(K[0].toLowerCase());L=C(K[1]);if(M!=this.greedyProperty){continue}return M.indexOf("color")>=0?s.toHex(L):L}}}}},getFormatInner:function(C){var z=f(s.isDataNode(C)?C.parentNode:C);var A=z.parentsUntil("[contentEditable]").addBack().toArray().reverse();var B,y,D;for(B=0,y=A.length;B<y;B++){D=this.greedyProperty=="className"?A[B].className:this.getInlineCssValue(A[B]);if(D){return D}}return"inherit"},getFormat:function(A){var z=this.getFormatInner(A[0]),B,y;for(B=1,y=A.length;B<y;B++){if(z!=this.getFormatInner(A[B])){return""}}return z},isFormatted:function(y){return this.getFormat(y)!==""}});var v=x.extend({init:function(A,y,z){x.fn.init.call(this,A,y);this.values=y;this.finder=new c(A,z);if(z){this.greedyProperty=l.toCamelCase(z)}},activate:function(z,y){var A=this.greedyProperty;var B="apply";this.split(z);if(A&&this.values.style[A]=="inherit"){B="remove"}this[B](y)}});var j=e.extend({init:function(y){e.fn.init.call(this,u(y,{finder:new r(y.format),formatter:function(){return new x(y.format)}}))}});var p=h.extend({update:function(A,y){var z=A.data(this.type);z.close();z.value(this.finder.getFormat(y))}});var q=p.extend({init:function(y){h.fn.init.call(this,y);this.type=(l.support.browser.msie||l.support.touch)?"kendoDropDownList":"kendoComboBox";this.format=[{tags:["span"]}];this.finder=new c(this.format,y.cssAttr)},command:function(y){var z=this.options,B=this.format,A={};return new o.FormatCommand(u(y,{formatter:function(){A[z.domAttr]=y.value;return new v(B,{style:A},z.cssAttr)}}))},initialize:function(D,C){var A=C.editor,z=this.options,B=z.name,E,y=[];if(z.defaultValue){y=[{text:A.options.messages[z.defaultValue[0].text],value:z.defaultValue[0].value}]}E=y.concat(z.items?z.items:(A.options[B]||[]));D[this.type]({dataTextField:"text",dataValueField:"value",dataSource:E,change:function(){h.exec(A,B,this.value())},highlightFirst:false});D.closest(".k-widget").removeClass("k-"+B).find("*").addBack().attr("unselectable","on");D.data(this.type).value("inherit")}});var b=h.extend({init:function(y){h.fn.init.call(this,y);this.format=[{tags:["span"]}];this.finder=new c(this.format,y.cssAttr)},options:{palette:"websafe"},update:function(){this._widget.close()},command:function(y){var z=this.options,B=this.format,A={};return new o.FormatCommand(u(y,{formatter:function(){A[z.domAttr]=y.value;return new v(B,{style:A},z.cssAttr)}}))},initialize:function(D,C){var A=C.editor,B=this.name,z=u({},b.fn.options,this.options),y=z.palette;D=this._widget=new l.ui.ColorPicker(D,{value:f.isArray(y)?y[0]:"#000",toolIcon:"k-"+z.name,palette:y,change:function(){var E=D.value();if(E){h.exec(A,B,E)}A.focus()},activate:function(E){E.preventDefault();D.trigger("change")}});D.wrapper.attr({title:C.title,unselectable:"on"}).find("*").attr("unselectable","on")}});u(o,{InlineFormatFinder:r,InlineFormatter:x,DelayedExecutionTool:p,GreedyInlineFormatFinder:c,GreedyInlineFormatter:v,InlineFormatTool:j,FontTool:q,ColorTool:b});d("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]);m("bold",new j({key:"B",ctrl:true,format:g.bold,template:new n({template:i.buttonTemplate,title:"Bold"})}));d("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]);m("italic",new j({key:"I",ctrl:true,format:g.italic,template:new n({template:i.buttonTemplate,title:"Italic"})}));d("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]);m("underline",new j({key:"U",ctrl:true,format:g.underline,template:new n({template:i.buttonTemplate,title:"Underline"})}));d("strikethrough",[{tags:["del","strike"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]);m("strikethrough",new j({format:g.strikethrough,template:new n({template:i.buttonTemplate,title:"Strikethrough"})}));d("superscript",[{tags:["sup"]}]);m("superscript",new j({format:g.superscript,template:new n({template:i.buttonTemplate,title:"Superscript"})}));d("subscript",[{tags:["sub"]}]);m("subscript",new j({format:g.subscript,template:new n({template:i.buttonTemplate,title:"Subscript"})}));m("foreColor",new b({cssAttr:"color",domAttr:"color",name:"foreColor",template:new n({template:i.colorPickerTemplate,title:"Color"})}));m("backColor",new b({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new n({template:i.colorPickerTemplate,title:"Background Color"})}));m("fontName",new q({cssAttr:"font-family",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new n({template:i.comboBoxTemplate,title:"Font Name"})}));m("fontSize",new q({cssAttr:"font-size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new n({template:i.comboBoxTemplate,title:"Font Size"})}))})(window.kendo.jQuery);(function(f){var l=window.kendo,r=l.Class,s=f.extend,o=l.ui.editor,g=l.ui.Editor.fn.options.formats,q=o.Dom,p=o.Command,n=o.ToolTemplate,d=o.FormatTool,i=o.EditorUtils,m=i.registerTool,c=i.registerFormat,u=o.RangeUtils;var h=r.extend({init:function(v){this.format=v},contains:function(y,x){var w,v,z;for(w=0,v=x.length;w<v;w++){z=x[w];if(!z||!q.isAncestorOrSelf(y,z)){return false}}return true},findSuitable:function(w){var B=this.format,y=[],x,v,z;for(x=0,v=w.length;x<v;x++){for(var A=B.length-1;A>=0;A--){z=q.ofType(w[x],B[A].tags)?w[x]:q.parentOfType(w[x],B[A].tags);if(z){break}}if(!z||z.contentEditable==="true"){return[]}if(f.inArray(z,y)<0){y.push(z)}}for(x=0,v=y.length;x<v;x++){if(this.contains(y[x],y)){return[y[x]]}}return y},findFormat:function(z){var B=this.format,y,v,A,x,w;var C=q.editableParent(z);for(y=0,v=B.length;y<v;y++){A=z;x=B[y].tags;w=B[y].attr;while(A&&q.isAncestorOf(C,A)){if(q.ofType(A,x)&&q.attrEquals(A,w)){return A}A=A.parentNode}}return null},getFormat:function(x){var A=this,z=function(B){return A.findFormat(q.isDataNode(B)?B.parentNode:B)},w=z(x[0]),y,v;if(!w){return""}for(y=1,v=x.length;y<v;y++){if(w!=z(x[y])){return""}}return w.nodeName.toLowerCase()},isFormatted:function(w){for(var x=0,v=w.length;x<v;x++){if(!this.findFormat(w[x])){return false}}return true}});var b=r.extend({init:function(w,v){this.format=w;this.values=v;this.finder=new h(w)},wrap:function(D,x,w){var B=w.length==1?q.blockParentOrBody(w[0]):q.commonAncestor.apply(null,w);if(q.isInline(B)){B=q.blockParentOrBody(B)}var C=q.significantChildNodes(B),A=q.findNodeIndex(C[0]),v=q.create(B.ownerDocument,D,x),y,z;for(y=0;y<C.length;y++){z=C[y];if(q.isBlock(z)){q.attr(z,x);if(v.childNodes.length){q.insertBefore(v,z);v=v.cloneNode(false)}A=q.findNodeIndex(z)+1;continue}v.appendChild(z)}if(v.firstChild){q.insertAt(B,v,A)}},apply:function(w){var D,E=this.values;function x(G){return s({},G&&G.attr,E)}var C=q.filter("img",w);var z=i.formatByName("img",this.format);var F=x(z);f.each(C,function(){q.attr(this,F)});if(C.length==w.length){return}var v=q.filter("img",w,true);var B=this.finder.findSuitable(v);if(B.length){for(var y=0,A=B.length;y<A;y++){D=i.formatByName(q.name(B[y]),this.format);q.attr(B[y],x(D))}}else{D=this.format[0];this.wrap(D.tags[0],x(D),v)}},remove:function(w){var y,v,A,z,x;for(y=0,v=w.length;y<v;y++){A=this.finder.findFormat(w[y]);if(A){x=q.name(A);if(x=="div"&&!A.getAttribute("class")){q.unwrap(A)}else{z=i.formatByName(x,this.format);if(z.attr.style){q.unstyle(A,z.attr.style)}if(z.attr.className){q.removeClass(A,z.attr.className)}}}}},toggle:function(w){var x=this,v=u.nodes(w);if(x.finder.isFormatted(v)){x.remove(v)}else{x.apply(v)}}});var t=r.extend({init:function(x,v){var w=this;w.format=x;w.values=v;w.finder=new h(x)},apply:function(w){var E=this.format;var v=q.blockParents(w);var D=E[0].tags[0];var z,B,C,F,A;var y;var x;if(v.length){for(z=0,B=v.length;z<B;z++){x=q.name(v[z]);if(x=="li"){C=v[z].parentNode;F=new o.ListFormatter(C.nodeName.toLowerCase(),D);A=this.editor.createRange();A.selectNode(v[z]);F.toggle(A)}else{if(D&&(x=="td"||v[z].attributes.contentEditable)){new b(E,this.values).apply(v[z].childNodes)}else{y=q.changeTag(v[z],D);q.attr(y,E[0].attr)}}}}else{new b(E,this.values).apply(w)}},toggle:function(w){var v=u.textNodes(w);if(!v.length){w.selectNodeContents(w.commonAncestorContainer);v=u.textNodes(w);if(!v.length){v=q.significantChildNodes(w.commonAncestorContainer)}}this.apply(v)}});var e=p.extend({init:function(v){v.formatter=v.formatter();p.fn.init.call(this,v)}});var j=d.extend({init:function(v){d.fn.init.call(this,s(v,{finder:new h(v.format),formatter:function(){return new b(v.format)}}))}});s(o,{BlockFormatFinder:h,BlockFormatter:b,GreedyBlockFormatter:t,FormatCommand:e,BlockFormatTool:j});var k=["ul","ol","li"];c("justifyLeft",[{tags:q.nonListBlockElements,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{"float":"left",display:"",marginLeft:"",marginRight:""}}},{tags:k,attr:{style:{textAlign:"left",listStylePosition:""}}}]);m("justifyLeft",new j({format:g.justifyLeft,template:new n({template:i.buttonTemplate,title:"Justify Left"})}));c("justifyCenter",[{tags:q.nonListBlockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto","float":""}}},{tags:k,attr:{style:{textAlign:"center",listStylePosition:"inside"}}}]);m("justifyCenter",new j({format:g.justifyCenter,template:new n({template:i.buttonTemplate,title:"Justify Center"})}));c("justifyRight",[{tags:q.nonListBlockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{"float":"right",display:"",marginLeft:"",marginRight:""}}},{tags:k,attr:{style:{textAlign:"right",listStylePosition:"inside"}}}]);m("justifyRight",new j({format:g.justifyRight,template:new n({template:i.buttonTemplate,title:"Justify Right"})}));c("justifyFull",[{tags:q.nonListBlockElements,attr:{style:{textAlign:"justify"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto","float":""}}},{tags:k,attr:{style:{textAlign:"justify",listStylePosition:""}}}]);m("justifyFull",new j({format:g.justifyFull,template:new n({template:i.buttonTemplate,title:"Justify Full"})}))})(window.kendo.jQuery);(function(g){var k=window.kendo,j=g.extend,d=k.ui.editor,e=d.Dom,b=d.Command,m=d.Tool,l=d.BlockFormatter,f=e.normalize,h=d.RangeUtils,i=d.EditorUtils.registerTool;var c=b.extend({init:function(o){this.options=o;b.fn.init.call(this,o)},_insertMarker:function(r,q){var p=e.create(r,"a"),o;p.className="k-marker";q.insertNode(p);if(!p.parentNode){o=q.commonAncestorContainer;o.innerHTML="";o.appendChild(p)}f(p.parentNode);return p},_moveFocus:function(o,p){if(e.isEmpty(p)){o.setStartBefore(p)}else{o.selectNodeContents(p);var q=h.textNodes(o)[0];if(!q){while(p.childNodes.length&&!e.is(p.firstChild,"br")){p=p.firstChild}q=p}if(e.isEmpty(q)){o.setStartBefore(q)}else{o.selectNodeContents(q)}}},shouldTrim:function(o){var r="p,h1,h2,h3,h4,h5,h6".split(","),q=e.parentOfType(o.startContainer,r),p=e.parentOfType(o.endContainer,r);return(q&&!p)||(!q&&p)},_blankAfter:function(o){while(o&&(e.isMarker(o)||e.stripBom(o.nodeValue)==="")){o=o.nextSibling}return !o},exec:function(){var s=this.getRange(),w=h.documentFromRange(s),x,t,r,u=d.emptyElementContent,p,q,y,z,o,v=this.shouldTrim(s);s.deleteContents();q=this._insertMarker(w,s);y=e.closestEditableOfType(q,["li"]);z=e.closestEditableOfType(q,"h1,h2,h3,h4,h5,h6".split(","));if(y){if(e.emptyNode(y)){p=e.create(w,"p");if(y.nextSibling){o=s.cloneRange();o.selectNode(y);h.split(o,y.parentNode)}e.insertAfter(p,y.parentNode);e.remove(y.parentNode.childNodes.length==1?y.parentNode:y);p.innerHTML=u;r=p}}else{if(z&&this._blankAfter(q)){p=e.create(w,"p");e.insertAfter(p,z);p.innerHTML=u;e.remove(q);r=p}}if(!r){if(!(y||z)){new l([{tags:["p"]}]).apply([q])}s.selectNode(q);x=e.parentOfType(q,[y?"li":z?e.name(z):"p"]);h.split(s,x,v);t=x.previousSibling;if(e.is(t,"li")&&t.firstChild&&!e.is(t.firstChild,"br")){t=t.firstChild}r=x.nextSibling;this.clean(t);this.clean(r,{links:true});if(e.is(r,"li")&&r.firstChild&&!e.is(r.firstChild,"br")){r=r.firstChild}e.remove(x);f(t)}f(r);this._moveFocus(s,r);s.collapse(true);e.scrollTo(r);h.selectRange(s)},clean:function(q,p){var o=q;if(q.firstChild&&e.is(q.firstChild,"br")){e.remove(q.firstChild)}if(e.isDataNode(q)&&!q.nodeValue){q=q.parentNode}if(q){var r=false;while(q.firstChild&&q.firstChild.nodeType==1){r=r||(e.significantNodes(q.childNodes).length>1);q=q.firstChild}if(!e.isEmpty(q)&&/^\s*$/.test(q.innerHTML)&&!r){g(o).find(".k-br").remove();q.innerHTML=d.emptyElementContent}if(p&&p.links){while(q!=o){if(e.is(q,"a")&&e.emptyNode(q)){e.unwrap(q);break}q=q.parentNode}}}}});var n=b.extend({init:function(o){this.options=o;b.fn.init.call(this,o)},exec:function(){var o=this.getRange();var r=e.create(h.documentFromRange(o),"br");var q;var p=k.support.browser;var s=p.msie&&p.version<11;o.deleteContents();o.insertNode(r);f(r.parentNode);if(!s&&(!r.nextSibling||e.isWhitespace(r.nextSibling))){q=r.cloneNode(true);q.className="k-br";e.insertAfter(q,r)}o.setStartAfter(r);o.collapse(true);e.scrollTo(r.nextSibling||r);h.selectRange(o)}});j(d,{ParagraphCommand:c,NewLineCommand:n});i("insertLineBreak",new m({key:13,shift:true,command:n}));i("insertParagraph",new m({key:13,command:c}))})(window.kendo.jQuery);(function(d){var i=window.kendo,p=i.Class,q=d.extend,l=i.ui.editor,o=l.Dom,s=l.RangeUtils,h=l.EditorUtils,m=l.Command,k=l.ToolTemplate,c=l.FormatTool,f=l.BlockFormatFinder,b=s.textNodes,j=l.EditorUtils.registerTool;var r=f.extend({init:function(t){this.tag=t;var u=this.tags=[t=="ul"?"ol":"ul",t];f.fn.init.call(this,[{tags:u}])},isFormatted:function(t){var v=[];var w,u;for(u=0;u<t.length;u++){w=this.findFormat(t[u]);if(w&&o.name(w)==this.tag){v.push(w)}}if(v.length<1){return false}if(v.length!=t.length){return false}for(u=0;u<v.length;u++){if(v[u].parentNode!=w.parentNode){break}if(v[u]!=w){return false}}return true},findSuitable:function(t){var u=this.findFormat(t[0]);if(u&&o.name(u)==this.tag){return u}return null}});var g=p.extend({init:function(t,u){var v=this;v.finder=new r(t);v.tag=t;v.unwrapTag=u},isList:function(u){var t=o.name(u);return t=="ul"||t=="ol"||t=="dl"},wrap:function(x,u){var t=o.create(x.ownerDocument,"li"),v,w;for(v=0;v<u.length;v++){w=u[v];if(o.is(w,"li")){x.appendChild(w);continue}if(this.isList(w)){while(w.firstChild){x.appendChild(w.firstChild)}continue}if(o.is(w,"td")){while(w.firstChild){t.appendChild(w.firstChild)}x.appendChild(t);w.appendChild(x);x=x.cloneNode(false);t=t.cloneNode(false);continue}t.appendChild(w);if(o.isBlock(w)){x.appendChild(t);o.unwrap(w);t=t.cloneNode(false)}}if(t.firstChild){x.appendChild(t)}},containsAny:function(v,t){for(var u=0;u<t.length;u++){if(o.isAncestorOrSelf(v,t[u])){return true}}return false},suitable:function(v,t){if(v.className=="k-marker"){var u=v.nextSibling;if(u&&o.isBlock(u)){return false}u=v.previousSibling;if(u&&o.isBlock(u)){return false}}return this.containsAny(v,t)||o.isInline(v)||v.nodeType==3},_parentLists:function(u){var t=o.closestEditable(u);return d(u).parentsUntil(t,"ul,ol")},split:function(w){var v=b(w);var A,u,x;if(v.length){A=o.parentOfType(v[0],["li"]);u=o.parentOfType(v[v.length-1],["li"]);w.setStartBefore(A);w.setEndAfter(u);for(var y=0,t=v.length;y<t;y++){var z=this.finder.findFormat(v[y]);if(z){x=this._parentLists(z);if(x.length){s.split(w,x.last()[0],true)}else{s.split(w,z,true)}}}}},merge:function(t,w){var v=w.previousSibling,u;while(v&&(v.className=="k-marker"||(v.nodeType==3&&o.isWhitespace(v)))){v=v.previousSibling}if(v&&o.name(v)==t){while(w.firstChild){v.appendChild(w.firstChild)}o.remove(w);w=v}u=w.nextSibling;while(u&&(u.className=="k-marker"||(u.nodeType==3&&o.isWhitespace(u)))){u=u.nextSibling}if(u&&o.name(u)==t){while(w.lastChild){u.insertBefore(w.lastChild,u.firstChild)}o.remove(w)}},breakable:function(t){return(t!=t.ownerDocument.body&&!/table|tbody|tr|td/.test(o.name(t))&&!t.attributes.contentEditable)},applyOnSection:function(y,v){var D=this.tag;var z=o.closestSplittableParent(v);var C=[];var B=this.finder.findSuitable(v);if(!B){B=new r(D=="ul"?"ol":"ul").findSuitable(v)}var A;if(/table|tbody/.test(o.name(z))){A=d.map(v,function(E){return o.parentOfType(E,["td"])})}else{A=o.significantChildNodes(z);if(d.grep(A,o.isBlock).length){A=d.grep(A,d.proxy(function(E){return this.containsAny(E,v)},this))}if(!A.length){A=v}}function t(){C.push(this)}for(var x=0;x<A.length;x++){var w=A[x];var u=(!B||!o.isAncestorOrSelf(B,w))&&this.suitable(w,v);if(!u){continue}if(B&&this.isList(w)){d.each(w.childNodes,t);o.remove(w)}else{C.push(w)}}if(C.length==A.length&&this.breakable(z)){C=[z]}if(!B){B=o.create(z.ownerDocument,D);o.insertBefore(B,C[0])}this.wrap(B,C);if(!o.is(B,D)){o.changeTag(B,D)}this.merge(D,B)},apply:function(t){var v=0,y=[],u,x,w;do{w=o.closestEditable(t[v],["td","body"]);if(!u||w!=u){if(u){y.push({section:u,nodes:x})}x=[t[v]];u=w}else{x.push(t[v])}v++}while(v<t.length);y.push({section:u,nodes:x});for(v=0;v<y.length;v++){this.applyOnSection(y[v].section,y[v].nodes)}},unwrap:function(x){var v=x.ownerDocument.createDocumentFragment(),w=this.unwrapTag,u,t,y,z;for(t=x.firstChild;t;t=t.nextSibling){y=o.create(x.ownerDocument,w||"p");while(t.firstChild){z=t.firstChild;if(o.isBlock(z)){if(y.firstChild){v.appendChild(y);y=o.create(x.ownerDocument,w||"p")}v.appendChild(z)}else{y.appendChild(z)}}if(y.firstChild){v.appendChild(y)}}u=this._parentLists(x);if(u[0]){o.insertAfter(v,u.last()[0]);u.last().remove()}else{o.insertAfter(v,x)}o.remove(x)},remove:function(u){var w;for(var v=0,t=u.length;v<t;v++){w=this.finder.findFormat(u[v]);if(w){this.unwrap(w)}}},toggle:function(u){var w=this,t=b(u),v=u.commonAncestorContainer;if(!t.length){u.selectNodeContents(v);t=b(u);if(!t.length){var x=v.ownerDocument.createTextNode("");u.startContainer.appendChild(x);t=[x];u.selectNode(x.parentNode)}}if(w.finder.isFormatted(t)){w.split(u);w.remove(t)}else{w.apply(t)}}});var e=m.extend({init:function(t){t.formatter=new g(t.tag);m.fn.init.call(this,t)}});var n=c.extend({init:function(t){this.options=t;c.fn.init.call(this,q(t,{finder:new r(t.tag)}))},command:function(t){return new e(q(t,{tag:this.options.tag}))}});q(l,{ListFormatFinder:r,ListFormatter:g,ListCommand:e,ListTool:n});j("insertUnorderedList",new n({tag:"ul",template:new k({template:h.buttonTemplate,title:"Insert unordered list"})}));j("insertOrderedList",new n({tag:"ol",template:new k({template:h.buttonTemplate,title:"Insert ordered list"})}))})(window.kendo.jQuery);(function(d,f){var i=window.kendo,r=i.Class,t=d.extend,n=d.proxy,l=i.ui.editor,q=l.Dom,v=l.RangeUtils,h=l.EditorUtils,m=l.Command,g=l.Tool,k=l.ToolTemplate,w=l.InlineFormatter,p=l.InlineFormatFinder,b=v.textNodes,j=l.EditorUtils.registerTool;var s=r.extend({findSuitable:function(x){return q.parentOfType(x,["a"])}});var o=r.extend({init:function(){this.finder=new s()},apply:function(C,A){var x=b(C);var z,E,G,D,F;if(A.innerHTML){E=v.documentFromRange(C);z=v.getMarkers(C);C.deleteContents();D=q.create(E,"a",A);C.insertNode(D);F=D.parentNode;if(q.name(F)=="a"){q.insertAfter(D,F)}if(q.emptyNode(F)){q.remove(F)}var y=D;for(var B=0;B<z.length;B++){q.insertAfter(z[B],y);y=z[B]}if(z.length){q.insertBefore(E.createTextNode("\ufeff"),z[1]);q.insertAfter(E.createTextNode("\ufeff"),z[1]);C.setStartBefore(z[0]);C.setEndAfter(z[z.length-1])}}else{G=new w([{tags:["a"]}],A);G.finder=this.finder;G.apply(x)}}});var e=m.extend({init:function(x){x.formatter={toggle:function(y){new w([{tags:["a"]}]).remove(b(y))}};this.options=x;m.fn.init.call(this,x)}});var u=m.extend({init:function(x){this.options=x;m.fn.init.call(this,x);this.formatter=new o();if(!x.url){this.attributes=null;this.async=true}else{this.exec=function(){this.formatter.apply(x.range,{href:x.url,innerHTML:x.text||x.url,target:x.target})}}},_dialogTemplate:function(){return i.template("<div class=\"k-editor-dialog k-popup-edit-form k-edit-form-container\"><div class='k-edit-label'><label for='k-editor-link-url'>#: messages.linkWebAddress #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-url'></div><div class='k-edit-label k-editor-link-text-row'><label for='k-editor-link-text'>#: messages.linkText #</label></div><div class='k-edit-field k-editor-link-text-row'><input type='text' class='k-input k-textbox' id='k-editor-link-text'></div><div class='k-edit-label'><label for='k-editor-link-title'>#: messages.linkToolTip #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-title'></div><div class='k-edit-label'></div><div class='k-edit-field'><input type='checkbox' class='k-checkbox' id='k-editor-link-target'><label for='k-editor-link-target' class='k-checkbox-label'>#: messages.linkOpenInNewWindow #</label></div><div class='k-edit-buttons k-state-default'><button class=\"k-dialog-insert k-button k-primary\">#: messages.dialogInsert #</button><button class=\"k-dialog-close k-button\">#: messages.dialogCancel #</button></div></div>")({messages:this.editor.options.messages})},exec:function(){var C=this.getRange().collapsed;var B=this.editor.options.messages;this._initialText="";this._range=this.lockRange(true);var z=b(this._range);var x=z.length?this.formatter.finder.findSuitable(z[0]):null;var y=z.length&&q.name(z[0])=="img";var A=this.createDialog(this._dialogTemplate(),{title:B.createLink,close:n(this._close,this),visible:false});if(x){this._range.selectNodeContents(x);z=b(this._range)}this._initialText=this.linkText(z);A.find(".k-dialog-insert").click(n(this._apply,this)).end().find(".k-dialog-close").click(n(this._close,this)).end().find(".k-edit-field input").keydown(n(this._keydown,this)).end().find("#k-editor-link-url").val(this.linkUrl(x)).end().find("#k-editor-link-text").val(this._initialText).end().find("#k-editor-link-title").val(x?x.title:"").end().find("#k-editor-link-target").attr("checked",x?x.target=="_blank":false).end().find(".k-editor-link-text-row").toggle(!y);this._dialog=A.data("kendoWindow").center().open();d("#k-editor-link-url",A).focus().select()},_keydown:function(y){var x=i.keys;if(y.keyCode==x.ENTER){this._apply(y)}else{if(y.keyCode==x.ESC){this._close(y)}}},_apply:function(B){var y=this._dialog.element;var x=d("#k-editor-link-url",y).val();var D,C,A;var z=d("#k-editor-link-text",y);if(x&&x!="http://"){if(x.indexOf("@")>0&&!/^(\w+:)|(\/\/)/i.test(x)){x="mailto:"+x}this.attributes={href:x};D=d("#k-editor-link-title",y).val();if(D){this.attributes.title=D}if(z.is(":visible")){C=z.val();if(!C&&!this._initialText){this.attributes.innerHTML=x}else{if(C&&(C!==this._initialText)){this.attributes.innerHTML=q.stripBom(C)}}}A=d("#k-editor-link-target",y).is(":checked");this.attributes.target=A?"_blank":null;this.formatter.apply(this._range,this.attributes)}this._close(B);if(this.change){this.change()}},_close:function(x){x.preventDefault();this._dialog.destroy();q.windowFromDocument(v.documentFromRange(this._range)).focus();this.releaseRange(this._range)},linkUrl:function(x){if(x){return x.getAttribute("href",2)}return"http://"},linkText:function(x){var z="";var y;for(y=0;y<x.length;y++){z+=x[y].nodeValue}return q.stripBom(z||"")},redo:function(){var x=this.lockRange(true);this.formatter.apply(x,this.attributes);this.releaseRange(x)}});var c=g.extend({init:function(x){this.options=x;this.finder=new p([{tags:["a"]}]);g.fn.init.call(this,d.extend(x,{command:e}))},initialize:function(y,x){g.fn.initialize.call(this,y,x);y.addClass("k-state-disabled")},update:function(y,x){y.toggleClass("k-state-disabled",!this.finder.isFormatted(x)).removeClass("k-state-hover")}});t(i.ui.editor,{LinkFormatFinder:s,LinkFormatter:o,UnlinkCommand:e,LinkCommand:u,UnlinkTool:c});j("createLink",new g({key:"K",ctrl:true,command:u,template:new k({template:h.buttonTemplate,title:"Create Link"})}));j("unlink",new c({key:"K",ctrl:true,shift:true,template:new k({template:h.buttonTemplate,title:"Remove Link"})}))})(window.kendo.jQuery);(function(h,e){var p=window.kendo,o=h.extend,m=p.ui.editor,k=m.EditorUtils,f=m.Dom,l=k.registerTool,d=m.ToolTemplate,j=m.RangeUtils,b=m.Command,q=m.LinkFormatter,n=j.textNodes,r=p.keys,c="#k-editor-file-url",g="#k-editor-file-title";var i=b.extend({init:function(s){var t=this;b.fn.init.call(t,s);t.formatter=new q();t.async=true;t.attributes={}},insertFile:function(u,t){var s=this.attributes;var v=j.documentFromRange(t);if(s.href&&s.href!="http://"){if(!u){u=f.create(v,"a",{href:s.href});u.innerHTML=s.innerHTML;t.deleteContents();t.insertNode(u);if(!u.nextSibling){f.insertAfter(v.createTextNode("\ufeff"),u)}t.setStartAfter(u);t.setEndAfter(u);j.selectRange(t);return true}else{f.attr(u,s)}}return false},_dialogTemplate:function(s){return p.template('<div class="k-editor-dialog k-popup-edit-form k-edit-form-container"># if (showBrowser) { #<div class="k-filebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-file-url">#: messages.fileWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-file-url"></div><div class=\'k-edit-label\'><label for="k-editor-file-title">#: messages.fileTitle #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-file-title"></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button k-primary">#: messages.dialogInsert #</button><button class="k-dialog-close k-button">#: messages.dialogCancel #</button></div></div>')({messages:this.editor.options.messages,showBrowser:s})},redo:function(){var t=this,s=t.lockRange();this.formatter.apply(s,this.attributes);t.releaseRange(s)},exec:function(){var z=this,y=z.lockRange(),s=n(y),w=false,u=s.length?this.formatter.finder.findSuitable(s[0]):null,A,F=z.editor.options,x=F.messages,D=F.fileBrowser,v=!!(p.ui.FileBrowser&&D&&D.transport&&D.transport.read!==e),t={title:x.insertFile,visible:false,resizable:v};function C(I){var H=A.element,G=H.find(c).val().replace(/ /g,"%20"),J=H.find(g).val();z.attributes={href:G,innerHTML:J!==""?J:G};w=z.insertFile(u,y);E(I);if(z.change){z.change()}}function E(G){G.preventDefault();A.destroy();f.windowFromDocument(j.documentFromRange(y)).focus();if(!w){z.releaseRange(y)}}function B(G){if(G.keyCode==r.ENTER){C(G)}else{if(G.keyCode==r.ESC){E(G)}}}t.close=E;if(v){t.width=750}A=this.createDialog(z._dialogTemplate(v),t).toggleClass("k-filebrowser-dialog",v).find(".k-dialog-insert").click(C).end().find(".k-dialog-close").click(E).end().find(".k-edit-field input").keydown(B).end().find(c).val(u?u.getAttribute("href",2):"http://").end().find(g).val(u?u.title:"").end().data("kendoWindow");if(v){new p.ui.FileBrowser(A.element.find(".k-filebrowser"),o({},D,{change:function(){A.element.find(c).val(this.value())},apply:C}))}A.center().open();A.element.find(c).focus().select()}});p.ui.editor.FileCommand=i;l("insertFile",new m.Tool({command:i,template:new d({template:k.buttonTemplate,title:"Insert File"})}))})(window.kendo.jQuery);(function(k,g){var q=window.kendo,p=k.extend,o=q.ui.editor,m=o.EditorUtils,h=o.Dom,n=m.registerTool,e=o.ToolTemplate,l=o.RangeUtils,b=o.Command,r=q.keys,d="#k-editor-image-url",c="#k-editor-image-title",j="#k-editor-image-width",i="#k-editor-image-height";var f=b.extend({init:function(s){var t=this;b.fn.init.call(t,s);t.async=true;t.attributes={}},insertImage:function(u,t){var s=this.attributes;var v=l.documentFromRange(t);if(s.src&&s.src!="http://"){var w=function(){setTimeout(function(){if(!s.width){u.removeAttribute("width")}if(!s.height){u.removeAttribute("height")}u.removeAttribute("complete")})};if(!u){u=h.create(v,"img",s);u.onload=u.onerror=w;t.deleteContents();t.insertNode(u);if(!u.nextSibling){h.insertAfter(v.createTextNode("\ufeff"),u)}w();t.setStartAfter(u);t.setEndAfter(u);l.selectRange(t);return true}else{u.onload=u.onerror=w;h.attr(u,s);w()}}return false},_dialogTemplate:function(s){return q.template('<div class="k-editor-dialog k-popup-edit-form k-edit-form-container"># if (showBrowser) { #<div class="k-filebrowser k-imagebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-image-url">#: messages.imageWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-url"></div><div class=\'k-edit-label\'><label for="k-editor-image-title">#: messages.imageAltText #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-title"></div><div class=\'k-edit-label\'><label for="k-editor-image-width">#: messages.imageWidth #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-width"></div><div class=\'k-edit-label\'><label for="k-editor-image-height">#: messages.imageHeight #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-height"></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button k-primary">#: messages.dialogInsert #</button><button class="k-dialog-close k-button">#: messages.dialogCancel #</button></div></div>')({messages:this.editor.options.messages,showBrowser:s})},redo:function(){var t=this,s=t.lockRange();if(!t.insertImage(l.image(s),s)){t.releaseRange(s)}},exec:function(){var z=this,x=z.lockRange(),v=false,w=l.image(x),C=w&&w.getAttribute("width")||"",y=w&&w.getAttribute("height")||"",A,G=z.editor.options,u=G.messages,D=G.imageBrowser,t=!!(q.ui.ImageBrowser&&D&&D.transport&&D.transport.read!==g),s={title:u.insertImage,visible:false,resizable:t};function E(K){var I=A.element,H=parseInt(I.find(j).val(),10),J=parseInt(I.find(i).val(),10);z.attributes={src:I.find(d).val().replace(/ /g,"%20"),alt:I.find(c).val()};z.attributes.width=null;z.attributes.height=null;if(!isNaN(H)&&H>0){z.attributes.width=H}if(!isNaN(J)&&J>0){z.attributes.height=J}v=z.insertImage(w,x);F(K);if(z.change){z.change()}}function F(H){H.preventDefault();A.destroy();h.windowFromDocument(l.documentFromRange(x)).focus();if(!v){z.releaseRange(x)}}function B(H){if(H.keyCode==r.ENTER){E(H)}else{if(H.keyCode==r.ESC){F(H)}}}s.close=F;if(t){s.width=750}A=this.createDialog(z._dialogTemplate(t),s).toggleClass("k-filebrowser-dialog",t).find(".k-dialog-insert").click(E).end().find(".k-dialog-close").click(F).end().find(".k-edit-field input").keydown(B).end().find(d).val(w?w.getAttribute("src",2):"http://").end().find(c).val(w?w.alt:"").end().find(j).val(C).end().find(i).val(y).end().data("kendoWindow");if(t){new q.ui.ImageBrowser(A.element.find(".k-imagebrowser"),p({},D,{change:function(){A.element.find(d).val(this.value())},apply:E}))}A.center().open();A.element.find(d).focus().select()}});q.ui.editor.ImageCommand=f;n("insertImage",new o.Tool({command:f,template:new e({template:m.buttonTemplate,title:"Insert Image"})}))})(window.kendo.jQuery);(function(c,g){var f=window.kendo,b=f.ui.DropDownList,e=f.ui.editor.Dom;var d=b.extend({init:function(i,h){var j=this;b.fn.init.call(j,i,h);if(f.support.mobileOS.ios){this._initSelectOverlay();this.bind("dataBound",c.proxy(this._initSelectOverlay,this))}j.text(j.options.title);j.bind("open",function(){if(j.options.autoSize){var k=j.list,l;k.css({whiteSpace:"nowrap",width:"auto"});l=k.width();if(l){l+=20}else{l=j._listWidth}k.css("width",l+f.support.scrollbar());j._listWidth=l}})},options:{name:"SelectBox",index:-1},_initSelectOverlay:function(){var p=this;var o=p.value();var m=this.dataSource.view();var q;var k="";var l=f.htmlEncode;for(var j=0;j<m.length;j++){q=m[j];k+="<option value='"+l(q.value)+"'";if(q.value==o){k+=" selected"}k+=">"+l(q.text)+"</option>"}var n=c("<select class='k-select-overlay'>"+k+"</select>");var h=c(this.element).closest(".k-widget");h.next(".k-select-overlay").remove();n.insertAfter(h);n.on("change",function(){p.value(this.value);p.trigger("change")})},value:function(j){var i=this,h=b.fn.value.call(i,j);if(j===g){return h}if(!b.fn.value.call(i)){i.text(i.options.title)}},decorate:function(j){var o=this,p=o.dataSource,k=p.data(),l,h,n,m;if(j){o.list.css("background-color",e.getEffectiveBackground(c(j)))}for(l=0;l<k.length;l++){h=k[l].tag||"span";n=k[l].className;m=e.inlineStyle(j,h,{className:n});m=m.replace(/"/g,"'");k[l].style=m+";display:inline-block"}p.trigger("change")}});f.ui.plugin(d);f.ui.editor.SelectBox=d})(window.kendo.jQuery);(function(e,f){var n=window.kendo,t=n.Class,u=e.extend,q=n.ui.editor,s=q.Dom,i=q.EditorUtils,o=i.registerTool,r=q.Command,h=q.Tool,p=q.ToolTemplate,v=q.RangeUtils,d=s.blockElements,g=q.BlockFormatFinder,c=q.BlockFormatter;function k(x,A){var w=e(x).css("direction")=="rtl",z=w?"Right":"Left",y=s.name(x)!="td"?"margin"+z:"padding"+z;if(A===f){return x.style[y]||0}else{if(A>0){x.style[y]=A+"px"}else{x.style[y]="";if(!x.style.cssText){x.removeAttribute("style")}}}}var m=t.extend({init:function(){this.finder=new g([{tags:s.blockElements}])},apply:function(w){var D=this.finder.findSuitable(w),B=[],A,C,I,G,H;if(D.length){for(A=0,C=D.length;A<C;A++){if(s.is(D[A],"li")){if(!e(D[A]).index()){B.push(D[A].parentNode)}else{if(e.inArray(D[A].parentNode,B)<0){B.push(D[A])}}}else{B.push(D[A])}}while(B.length){I=B.shift();if(s.is(I,"li")){G=I.parentNode;H=e(I).prev("li");var F=H.find("ul,ol").last();var z=e(I).children("ul,ol")[0];if(z&&H[0]){if(F[0]){F.append(I);F.append(e(z).children());s.remove(z)}else{H.append(z);z.insertBefore(I,z.firstChild)}}else{z=H.children("ul,ol")[0];if(!z){z=s.create(I.ownerDocument,s.name(G));H.append(z)}while(I&&I.parentNode==G){z.appendChild(I);I=B.shift()}}}else{var y=parseInt(k(I),10)+30;k(I,y);for(var x=0;x<B.length;x++){if(e.contains(I,B[x])){B.splice(x,1)}}}}}else{var E=new c([{tags:["p"]}],{style:{marginLeft:30}});E.apply(w)}},remove:function(w){var D=this.finder.findSuitable(w),B,z,A,C,x,E,F,y;for(z=0,A=D.length;z<A;z++){F=e(D[z]);if(F.is("li")){C=F.parent();x=C.parent();if(x.is("li,ul,ol")&&!k(C[0])){if(B&&e.contains(B,x[0])){continue}E=F.nextAll("li");if(E.length){e(C[0].cloneNode(false)).appendTo(F).append(E)}if(x.is("li")){F.insertAfter(x)}else{F.appendTo(x)}if(!C.children("li").length){C.remove()}continue}else{if(B==C[0]){continue}B=C[0]}}else{B=D[z]}y=parseInt(k(B),10)-30;k(B,y)}}});var b=r.extend({init:function(w){w.formatter={toggle:function(x){new m().apply(v.nodes(x))}};r.fn.init.call(this,w)}});var j=r.extend({init:function(w){w.formatter={toggle:function(x){new m().remove(v.nodes(x))}};r.fn.init.call(this,w)}});var l=h.extend({init:function(w){h.fn.init.call(this,w);this.finder=new g([{tags:d}])},initialize:function(x,w){h.fn.initialize.call(this,x,w);x.addClass("k-state-disabled")},update:function(B,x){var z=this.finder.findSuitable(x),C,A,y,w;for(y=0,w=z.length;y<w;y++){C=k(z[y]);if(!C){A=e(z[y]).parents("ul,ol").length;C=(s.is(z[y],"li")&&(A>1||k(z[y].parentNode)))||(s.ofType(z[y],["ul","ol"])&&A>0)}if(C){B.removeClass("k-state-disabled");return}}B.addClass("k-state-disabled").removeClass("k-state-hover")}});u(q,{IndentFormatter:m,IndentCommand:b,OutdentCommand:j,OutdentTool:l});o("indent",new h({command:b,template:new p({template:i.buttonTemplate,title:"Indent"})}));o("outdent",new l({command:j,template:new p({template:i.buttonTemplate,title:"Outdent"})}))})(window.kendo.jQuery);(function(f,e){var j=window.kendo,i=f.extend,h=j.ui.editor,g=h.EditorUtils,b=h.Command,k=h.Tool,d=h.ToolTemplate;var c=b.extend({init:function(l){var m=this;m.options=l;b.fn.init.call(m,l);m.attributes=null;m.async=true},exec:function(){var r=this,o=r.editor,q=o.options.messages,n=f(j.template(c.template)(q)).appendTo(document.body),p=c.indent(o.value()),l=".k-editor-textarea";function m(t){o.value(n.find(l).val());s(t);if(r.change){r.change()}o.trigger("change")}function s(t){t.preventDefault();n.data("kendoWindow").destroy();o.focus()}this.createDialog(n,{title:q.viewHtml,close:s,visible:false}).find(l).val(p).end().find(".k-dialog-update").click(m).end().find(".k-dialog-close").click(s).end().data("kendoWindow").center().open();n.find(l).focus()}});i(c,{template:"<div class='k-editor-dialog k-popup-edit-form k-edit-form-container k-viewhtml-dialog'><textarea class='k-editor-textarea k-input'></textarea><div class='k-edit-buttons k-state-default'><button class='k-dialog-update k-button k-primary'>#: dialogUpdate #</button><button class='k-dialog-close k-button'>#: dialogCancel #</button></div></div>",indent:function(l){return l.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/ig,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/ig,"<$1$2>\n<li").replace(/<br \/>/ig,"<br />\n").replace(/\n$/,"")}});j.ui.editor.ViewHtmlCommand=c;h.EditorUtils.registerTool("viewHtml",new k({command:c,template:new d({template:g.buttonTemplate,title:"View HTML"})}))})(window.kendo.jQuery);(function(f){var k=window.kendo,j=k.ui.editor,n=j.Tool,c=j.ToolTemplate,l=j.DelayedExecutionTool,b=j.Command,e=j.Dom,h=j.EditorUtils,g=j.RangeUtils,i=h.registerTool;var m=l.extend({init:function(o){var p=this;n.fn.init.call(p,k.deepExtend({},p.options,o));p.type="kendoSelectBox";p.finder={getFormat:function(){return""}}},options:{items:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],width:110},toFormattingItem:function(p){var q=p.value;if(!q){return p}if(p.tag||p.className){return p}var o=q.indexOf(".");if(o===0){p.className=q.substring(1)}else{if(o==-1){p.tag=q}else{p.tag=q.substring(0,o);p.className=q.substring(o+1)}}return p},command:function(o){var p=o.value;p=this.toFormattingItem(p);return new j.FormatCommand({range:o.range,formatter:function(){var r,q=(p.tag||p.context||"span").split(","),s=[{tags:q,attr:{className:p.className||""}}];if(f.inArray(q[0],e.inlineElements)>=0){r=new j.GreedyInlineFormatter(s)}else{r=new j.GreedyBlockFormatter(s)}return r}})},initialize:function(t,s){var p=s.editor;var o=this.options;var r=o.name;var q=this;t.width(o.width);t.kendoSelectBox({dataTextField:"text",dataValueField:"value",dataSource:o.items||p.options[r],title:p.options.messages[r],autoSize:true,change:function(){var u=this.dataItem();if(u){n.exec(p,r,u.toJSON())}},dataBound:function(){var v,u=this.dataSource.data();for(v=0;v<u.length;v++){u[v]=q.toFormattingItem(u[v])}},highlightFirst:false,template:k.template('<span unselectable="on" style="display:block;#=(data.style||"")#">#:data.text#</span>')});t.addClass("k-decorated").closest(".k-widget").removeClass("k-"+r).find("*").addBack().attr("unselectable","on")},getFormattingValue:function(u,o){for(var r=0;r<u.length;r++){var v=u[r];var w=v.tag||v.context||"";var t=v.className?"."+v.className:"";var q=w+t;var s=f(o[0]).closest(q)[0];if(!s){continue}if(o.length==1){return v.value}for(var p=1;p<o.length;p++){if(!f(o[p]).closest(q)[0]){break}else{if(p==o.length-1){return v.value}}}}return""},update:function(t,p){var u=f(t).data(this.type);if(!u){return}var v=u.dataSource,o=v.data(),s,r,q=e.commonAncestor.apply(null,p);if(this._ancestor==q){return}else{this._ancestor=q}for(s=0;s<o.length;s++){r=o[s].context;o[s].visible=!r||!!f(q).closest(r).length}v.filter([{field:"visible",operator:"eq",value:true}]);l.fn.update.call(this,t,p);u.value(this.getFormattingValue(v.view(),p));u.wrapper.toggleClass("k-state-disabled",!v.view().length)},destroy:function(){this._ancestor=null}});var d=b.extend({exec:function(){var q=new j.ListFormatter("ul");var p=this.lockRange(true);var o=this.options.remove||"strong,em,span,sup,sub,del,b,i,u,font".split(",");g.wrapSelectedElements(p);var s=new j.RangeIterator(p);s.traverse(function r(x){if(!x||e.isMarker(x)){return}var t=e.name(x);if(t=="ul"||t=="ol"){var w=x.previousSibling;var v=x.nextSibling;q.unwrap(x);for(;w&&w!=v;w=w.nextSibling){r(w)}}else{if(t=="blockquote"){e.changeTag(x,"p")}else{if(x.nodeType==1&&!e.insignificant(x)){for(var u=x.childNodes.length-1;u>=0;u--){r(x.childNodes[u])}x.removeAttribute("style");x.removeAttribute("class")}}}if(f.inArray(t,o)>-1){e.unwrap(x)}});this.releaseRange(p)}});f.extend(j,{FormattingTool:m,CleanFormatCommand:d});i("formatting",new m({template:new c({template:h.dropDownListTemplate,title:"Format"})}));i("cleanFormatting",new n({command:d,template:new c({template:h.buttonTemplate,title:"Clean formatting"})}))})(window.kendo.jQuery);(function(e,d){var h=window.kendo;var j=h.ui;var c=j.editor;var k=j.Widget;var g=e.extend;var i=e.proxy;var m=h.keys;var b=".kendoEditor";var l="a.k-tool:not(.k-state-disabled),.k-widget.k-colorpicker,.k-selectbox,.k-dropdown,.k-combobox .k-input";var f=k.extend({init:function(o,n){var p=this;n=g({},n,{name:"EditorToolbar"});k.fn.init.call(p,o,n);if(n.popup){p._initPopup()}},events:["execute"],groups:{basic:["bold","italic","underline","strikethrough"],scripts:["subscript","superscript"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],links:["insertImage","insertFile","createLink","unlink"],lists:["insertUnorderedList","insertOrderedList","indent","outdent"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"],advanced:["viewHtml","cleanFormatting","print","pdf"]},_initPopup:function(){this.window=e(this.element).wrap("<div class='editorToolbarWindow k-header' />").parent().prepend("<button class='k-button k-button-bare k-editortoolbar-dragHandle'><span class='k-icon k-i-move' /></button>").kendoWindow({title:false,resizable:false,draggable:{dragHandle:".k-editortoolbar-dragHandle"},animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}},minHeight:42,visible:false,autoFocus:false,actions:[],dragend:function(){this._moved=true}}).on("mousedown",function(n){if(!e(n.target).is(".k-icon")){n.preventDefault()}}).data("kendoWindow")},items:function(){return this.element.children().find("> *, select")},focused:function(){return this.element.find(".k-state-focused").length>0},toolById:function(n){var p,o=this.tools;for(p in o){if(p.toLowerCase()==n){return o[p]}}},toolGroupFor:function(p){var o,n=this.groups;if(this.isCustomTool(p)){return"custom"}for(o in n){if(e.inArray(p,n[o])>=0){return o}}},bindTo:function(o){var q=this,p=q.window;if(q._editor){q._editor.unbind("select",i(q.refreshTools,q))}q._editor=o;q.tools=q.expandTools(o.options.tools);q.render();q.element.find(".k-combobox .k-input").keydown(function(t){var r=e(this).closest(".k-combobox").data("kendoComboBox"),s=t.keyCode;if(s==m.RIGHT||s==m.LEFT){r.close()}else{if(s==m.DOWN){if(!r.dropDown.isOpened()){t.stopImmediatePropagation();r.open()}}}});q._attachEvents();q.items().each(function n(){var v=q._toolName(this),s=q.tools[v],r=s&&s.options,u=o.options.messages,t=r&&r.tooltip||u[v],w=e(this);if(!s||!s.initialize){return}if(v=="fontSize"||v=="fontName"){var x=u[v+"Inherit"];w.find("input").val(x).end().find("span.k-input").text(x).end()}s.initialize(w,{title:q._appendShortcutSequence(t,s),editor:q._editor});w.closest(".k-widget",q.element).addClass("k-editor-widget");w.closest(".k-colorpicker",q.element).next(".k-colorpicker").addClass("k-editor-widget")});o.bind("select",i(q.refreshTools,q));q.update();if(p){p.wrapper.css({top:"",left:"",width:""})}},show:function(){var o=this,n=o.window,s=o.options.editor,r,q,p;if(n){r=n.wrapper;q=s.element;if(!r.is(":visible")||!o.window.options.visible){if(!r[0].style.width){r.width(q.outerWidth()-parseInt(r.css("border-left-width"),10)-parseInt(r.css("border-right-width"),10))}if(!n._moved){p=q.offset();r.css({top:Math.max(0,parseInt(p.top,10)-r.outerHeight()-parseInt(o.window.element.css("padding-bottom"),10)),left:Math.max(0,parseInt(p.left,10))})}n.open()}}},hide:function(){if(this.window){this.window.close()}},focus:function(){var o="tabIndex";var p=this.element;var n=this._editor.element.attr(o);p.attr(o,n||0).focus().find(l).first().focus();if(!n&&n!==0){p.removeAttr(o)}},_appendShortcutSequence:function(p,n){if(!n.key){return p}var o=p+" (";if(n.ctrl){o+="Ctrl + "}if(n.shift){o+="Shift + "}if(n.alt){o+="Alt + "}o+=n.key+")";return o},_nativeTools:["insertLineBreak","insertParagraph","redo","undo"],tools:{},isCustomTool:function(n){return !(n in h.ui.Editor.defaultTools)},expandTools:function(u){var o,t,q=this._nativeTools,s,p=h.deepExtend({},h.ui.Editor.defaultTools),n={},r;for(t=0;t<u.length;t++){o=u[t];r=o.name;if(e.isPlainObject(o)){if(r&&p[r]){n[r]=g({},p[r]);g(n[r].options,o)}else{s=g({cssClass:"k-i-custom",type:"button",title:""},o);if(!s.name){s.name="custom"}s.cssClass="k-"+(s.name=="custom"?"i-custom":s.name);if(!s.template&&s.type=="button"){s.template=c.EditorUtils.buttonTemplate;s.title=s.title||s.tooltip}n[r]={options:s}}}else{if(p[o]){n[o]=p[o]}}}for(t=0;t<q.length;t++){if(!n[q[t]]){n[q[t]]=p[q[t]]}}return n},render:function(){var u=this,t=u.tools,D,z,C,r,y=u._editor.element,p=u.element.empty(),B,A,v=u._editor.options.tools,q=h.support.browser,x,o;function s(F){var E;if(F.getHtml){E=F.getHtml()}else{if(!e.isFunction(F)){F=h.template(F)}E=F(D)}return e.trim(E)}function w(){if(x.children().length){x.appendTo(p)}}function n(){x=e("<li class='k-tool-group' role='presentation' />")}p.empty();n();for(o=0;o<v.length;o++){r=v[o].name||v[o];D=t[r]&&t[r].options;if(!D&&e.isPlainObject(r)){D=r}z=D&&D.template;if(r=="break"){w();e("<li class='k-row-break' />").appendTo(u.element);n()}if(!z){continue}A=u.toolGroupFor(r);if(B!=A){w();n();B=A}z=s(z);C=e(z).appendTo(x);if(A=="custom"){w();n()}if(D.exec&&C.hasClass("k-tool")){C.click(i(D.exec,y[0]))}}w();e(u.element).children(":has(> .k-tool)").addClass("k-button-group");if(u.options.popup&&q.msie&&q.version<9){u.window.wrapper.find("*").attr("unselectable","on")}u.updateGroups();u.angular("compile",function(){return{elements:u.element}})},updateGroups:function(){e(this.element).children().each(function(){e(this).children().filter(function(){return this.style.display!=="none"}).removeClass("k-group-end").first().addClass("k-group-start").end().last().addClass("k-group-end").end()})},decorateFrom:function(n){this.items().filter(".k-decorated").each(function(){var o=e(this).data("kendoSelectBox");if(o){o.decorate(n)}})},destroy:function(){k.fn.destroy.call(this);var o,n=this.tools;for(o in n){if(n[o].destroy){n[o].destroy()}}if(this.window){this.window.destroy()}},_attachEvents:function(){var p=this,o="[role=button].k-tool",n=o+":not(.k-state-disabled)",q=o+".k-state-disabled";p.element.off(b).on("mouseenter"+b,n,function(){e(this).addClass("k-state-hover")}).on("mouseleave"+b,n,function(){e(this).removeClass("k-state-hover")}).on("mousedown"+b,o,function(r){r.preventDefault()}).on("keydown"+b,l,function(v){var u=this;var s,t=v.keyCode;function r(y,z){var x=p.element.find(l);var w=x.index(u)+y;if(z){w=Math.max(0,Math.min(x.length-1,w))}return x[w]}if(t==m.RIGHT||t==m.LEFT){if(!e(u).hasClass(".k-dropdown")){s=r(t==m.RIGHT?1:-1,true)}}else{if(t==m.ESC){s=p._editor}else{if(t==m.TAB&&!(v.ctrlKey||v.altKey)){if(v.shiftKey){s=r(-1)}else{s=r(1);if(!s){s=p._editor}}}}}if(s){v.preventDefault();s.focus()}}).on("click"+b,n,function(s){var r=e(this);s.preventDefault();s.stopPropagation();r.removeClass("k-state-hover");if(!r.is("[data-popup]")){p._editor.exec(p._toolName(this))}}).on("click"+b,q,function(r){r.preventDefault()})},_toolName:function(o){if(!o){return}var p=o.className;if(/k-tool\b/i.test(p)){p=o.firstChild.className}var n=e.grep(p.split(" "),function(q){return !/^k-(widget|tool|tool-icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(q)});return n[0]?n[0].substring(n[0].lastIndexOf("-")+1):"custom"},refreshTools:function(){var q=this,p=q._editor,o=p.getRange(),n=h.ui.editor.RangeUtils.textNodes(o);if(!n.length){n=[o.startContainer]}q.items().each(function(){var r=q.tools[q._toolName(this)];if(r&&r.update){r.update(e(this),n)}});this.update()},update:function(){this.element.children().children().each(function(){var n=e(this);n.css("display",n.hasClass("k-state-disabled")?"none":"")});this.updateGroups()}});e.extend(c,{Toolbar:f})})(window.jQuery);(function(g,h){var p=window.kendo,A=g.extend,w=g.proxy,u=p.ui.editor,x=u.Dom,l=u.EditorUtils,B=u.RangeUtils,v=u.Command,y=".kendoEditor",f="k-state-active",b="k-state-selected",k=u.Tool,t=u.ToolTemplate,e=u.InsertHtmlCommand,i=u.BlockFormatFinder,s=u.EditorUtils.registerTool;var j="<td>"+u.emptyElementContent+"</td>";var m=new i([{tags:["table"]}]);var C=e.extend({_tableHtml:function(E,D){E=E||1;D=D||1;return"<table class='k-table' data-last>"+new Array(E+1).join("<tr>"+new Array(D+1).join(j)+"</tr>")+"</table>"},postProcess:function(E,D){var F=g("table[data-last]",E.document).removeAttr("data-last");D.setStart(F.find("td")[0],0);D.collapse(true);E.selectRange(D)},exec:function(){var D=this.options;D.html=this._tableHtml(D.rows,D.columns);D.postProcess=this.postProcess;e.fn.exec.call(this)}});var o=k.extend({initialize:function(F,E){k.fn.initialize.call(this,F,E);var D=g(this.options.popupTemplate).appendTo("body").kendoPopup({anchor:F,copyAnchorStyles:false,open:w(this._open,this),activate:w(this._activate,this),close:w(this._close,this)}).data("kendoPopup");F.click(w(this._toggle,this)).keydown(w(this._keydown,this));this._editor=E.editor;this._popup=D},popup:function(){return this._popup},_activate:g.noop,_open:function(){this._popup.options.anchor.addClass(f)},_close:function(){this._popup.options.anchor.removeClass(f)},_keydown:function(F){var E=p.keys;var D=F.keyCode;if(D==E.DOWN&&F.altKey){this._popup.open()}else{if(D==E.ESC){this._popup.close()}}},_toggle:function(E){var D=g(E.target).closest(".k-tool");if(!D.hasClass("k-state-disabled")){this.popup().toggle()}},update:function(E){var D=this.popup();if(D.wrapper&&D.wrapper.css("display")=="block"){D.close()}E.removeClass("k-state-hover")},destroy:function(){this._popup.destroy()}});var n=o.extend({init:function(D){this.cols=8;this.rows=6;o.fn.init.call(this,g.extend(D,{command:C,popupTemplate:"<div class='k-ct-popup'>"+new Array(this.cols*this.rows+1).join("<span class='k-ct-cell k-state-disabled' />")+"<div class='k-status'></div></div>"}))},_activate:function(){var H=this,G=H._popup.element,N=G.find(".k-ct-cell"),I=N.eq(0),K=N.eq(N.length-1),D=p.getOffset(I),F=p.getOffset(K),L=H.cols,O=H.rows,E,J;G.find("*").addBack().attr("unselectable","on");F.left+=K[0].offsetWidth;F.top+=K[0].offsetHeight;E=(F.left-D.left)/L;J=(F.top-D.top)/O;function M(Q){var P=g(window);return{row:Math.floor((Q.clientY+P.scrollTop()-D.top)/J)+1,col:Math.floor((Q.clientX+P.scrollLeft()-D.left)/E)+1}}G.on("mousemove"+y,function(P){H._setTableSize(M(P))}).on("mouseleave"+y,function(){H._setTableSize()}).on("mouseup"+y,function(P){H._exec(M(P))})},_valid:function(D){return D&&D.row>0&&D.col>0&&D.row<=this.rows&&D.col<=this.cols},_exec:function(D){if(this._valid(D)){this._editor.exec("createTable",{rows:D.row,columns:D.col});this._popup.close()}},_setTableSize:function(G){var F=this._popup.element;var D=F.find(".k-status");var E=F.find(".k-ct-cell");var I=this.rows;var J=this.cols;var H=this._editor.options.messages;if(this._valid(G)){D.text(p.format(H.createTableHint,G.row,G.col));E.each(function(K){g(this).toggleClass(b,K%J<G.col&&K/J<G.row)})}else{D.text(H.dialogCancel);E.removeClass(b)}},_keydown:function(F){o.fn._keydown.call(this,F);var J=p.keys;var I=F.keyCode;var K=this._popup.element.find(".k-ct-cell");var L=Math.max(K.filter(".k-state-selected").last().index(),0);var D=Math.floor(L/this.cols);var G=L%this.cols;var E=false;if(I==J.DOWN&&!F.altKey){E=true;D++}else{if(I==J.UP){E=true;D--}else{if(I==J.RIGHT){E=true;G++}else{if(I==J.LEFT){E=true;G--}}}}var H={row:Math.max(1,Math.min(this.rows,D+1)),col:Math.max(1,Math.min(this.cols,G+1))};if(I==J.ENTER){this._exec(H)}else{this._setTableSize(H)}if(E){F.preventDefault();F.stopImmediatePropagation()}},_open:function(){var D=this._editor.options.messages;o.fn._open.call(this);this.popup().element.find(".k-status").text(D.dialogCancel).end().find(".k-ct-cell").removeClass(b)},_close:function(){o.fn._close.call(this);this.popup().element.off(y)},update:function(F,E){var D;o.fn.update.call(this,F);D=m.isFormatted(E);F.toggleClass("k-state-disabled",D)}});var d=v.extend({exec:function(){var D=this.lockRange(true),I=D.endContainer,G,H,E;while(x.name(I)!="td"){I=I.parentNode}H=I.parentNode;G=H.children.length;E=H.cloneNode(true);for(var F=0;F<H.cells.length;F++){E.cells[F].innerHTML=u.emptyElementContent}if(this.options.position=="before"){x.insertBefore(E,H)}else{x.insertAfter(E,H)}this.releaseRange(D)}});var z=v.extend({exec:function(){var H=this.lockRange(true),D=x.closest(H.endContainer,"td"),K=x.closest(D,"table"),I,F,L=K.rows,J,E,G=this.options.position;I=x.findNodeIndex(D,true);for(F=0;F<L.length;F++){J=L[F].cells[I];E=J.cloneNode();E.innerHTML=u.emptyElementContent;if(G=="before"){x.insertBefore(E,J)}else{x.insertAfter(E,J)}}this.releaseRange(H)}});var q=v.extend({exec:function(){var E=this.lockRange();var H=B.mapAll(E,function(J){return g(J).closest("tr")[0]});var G=x.closest(H[0],"table");var D;if(G.rows.length<=H.length){D=x.next(G);if(!D||x.insignificant(D)){D=x.prev(G)}x.remove(G)}else{for(var F=0;F<H.length;F++){var I=H[F];x.removeTextSiblings(I);D=x.next(I)||x.prev(I);D=D.cells[0];x.remove(I)}}if(D){E.setStart(D,0);E.collapse(true);this.editor.selectRange(E)}}});var r=v.extend({exec:function(){var E=this.lockRange(),K=x.closest(E.endContainer,"td"),H=x.closest(K,"table"),I=H.rows,G=x.findNodeIndex(K,true),J=I[0].cells.length,D,F;if(J==1){D=x.next(H);if(!D||x.insignificant(D)){D=x.prev(H)}x.remove(H)}else{x.removeTextSiblings(K);D=x.next(K)||x.prev(K);for(F=0;F<I.length;F++){x.remove(I[F].cells[G])}}if(D){E.setStart(D,0);E.collapse(true);this.editor.selectRange(E)}}});var c=k.extend({command:function(D){D=A(D,this.options);if(D.action=="delete"){if(D.type=="row"){return new q(D)}else{return new r(D)}}else{if(D.type=="row"){return new d(D)}else{return new z(D)}}},initialize:function(E,D){k.fn.initialize.call(this,E,D);E.addClass("k-state-disabled")},update:function(F,E){var D=!m.isFormatted(E);F.toggleClass("k-state-disabled",D)}});A(p.ui.editor,{PopupTool:o,TableCommand:C,InsertTableTool:n,TableModificationTool:c,InsertRowCommand:d,InsertColumnCommand:z,DeleteRowCommand:q,DeleteColumnCommand:r});s("createTable",new n({template:new t({template:l.buttonTemplate,popup:true,title:"Create table"})}));s("addColumnLeft",new c({type:"column",position:"before",template:new t({template:l.buttonTemplate,title:"Add column on the left"})}));s("addColumnRight",new c({type:"column",template:new t({template:l.buttonTemplate,title:"Add column on the right"})}));s("addRowAbove",new c({type:"row",position:"before",template:new t({template:l.buttonTemplate,title:"Add row above"})}));s("addRowBelow",new c({type:"row",template:new t({template:l.buttonTemplate,title:"Add row below"})}));s("deleteRow",new c({type:"row",action:"delete",template:new t({template:l.buttonTemplate,title:"Delete row"})}));s("deleteColumn",new c({type:"column",action:"delete",template:new t({template:l.buttonTemplate,title:"Delete column"})}))})(window.kendo.jQuery);(function(e,c){var i=window.kendo;var k=i.caret;var p=i.keys;var l=i.ui;var m=l.Widget;var n=".kendoMaskedTextBox";var h=e.proxy;var j=(i.support.propertyChangeEvent?"propertychange":"input")+n;var b="k-state-disabled";var f="disabled";var g="readonly";var d="change";var o=m.extend({init:function(r,q){var u=this;var t;m.fn.init.call(u,r,q);u._rules=e.extend({},u.rules,u.options.rules);r=u.element;t=r[0];u.wrapper=r;u._tokenize();u._form();u.element.addClass("k-textbox").attr("autocomplete","off").on("focus"+n,function(){var v=t.value;if(!v){t.value=u._old=u._emptyMask}else{u._togglePrompt(true)}u._oldValue=v;u._timeoutId=setTimeout(function(){k(r,0,v?u._maskLength:0)})}).on("focusout"+n,function(){var v=r.val();clearTimeout(u._timeoutId);t.value=u._old="";if(v!==u._emptyMask){t.value=u._old=v}u._change();u._togglePrompt()});var s=r.is("[disabled]");if(s){u.enable(false)}else{u.readonly(r.is("[readonly]"))}u.value(u.options.value||r.val());i.notify(u)},options:{name:"MaskedTextBox",clearPromptChar:false,unmaskOnPost:false,promptChar:"_",culture:"",rules:{},value:"",mask:""},events:[d],rules:{"0":/\d/,"9":/\d|\s/,"#":/\d|\s|\+|\-/,L:/[a-zA-Z]/,"?":/[a-zA-Z]|\s/,"&":/\S/,C:/./,A:/[a-zA-Z0-9]/,a:/[a-zA-Z0-9]|\s/},setOptions:function(q){var r=this;m.fn.setOptions.call(r,q);r._rules=e.extend({},r.rules,r.options.rules);r._tokenize();this._unbindInput();this._bindInput();r.value(r.element.val())},destroy:function(){var q=this;q.element.off(n);if(q._formElement){q._formElement.off("reset",q._resetHandler);q._formElement.off("submit",q._submitHandler)}m.fn.destroy.call(q)},raw:function(){var q=this._unmask(this.element.val(),0);return q.replace(new RegExp(this.options.promptChar,"g"),"")},value:function(t){var s=this.element;var r=this._emptyMask;var q=this.options;if(t===c){return this.element.val()}if(t===null){t=""}if(!r){s.val(t);return}t=this._unmask(t+"");s.val(t?r:"");this._mask(0,this._maskLength,t);t=s.val();this._oldValue=t;if(i._activeElement()!==s){if(t===r){s.val("")}else{this._togglePrompt()}}},_togglePrompt:function(q){var r=this.element[0];var s=r.value;if(this.options.clearPromptChar){if(!q){s=s.replace(new RegExp(this.options.promptChar,"g")," ")}else{s=this._oldValue}r.value=this._old=s}},readonly:function(q){this._editable({readonly:q===c?true:q,disable:false})},enable:function(q){this._editable({readonly:false,disable:!(q=q===c?true:q)})},_bindInput:function(){var q=this;if(q._maskLength){q.element.on("keydown"+n,h(q._keydown,q)).on("keypress"+n,h(q._keypress,q)).on("paste"+n,h(q._paste,q)).on(j,h(q._propertyChange,q))}},_unbindInput:function(){this.element.off("keydown"+n).off("keypress"+n).off("paste"+n).off(j)},_editable:function(s){var u=this;var t=u.element;var r=s.disable;var q=s.readonly;u._unbindInput();if(!q&&!r){t.removeAttr(f).removeAttr(g).removeClass(b);u._bindInput()}else{t.attr(f,r).attr(g,q).toggleClass(b,r)}},_change:function(){var q=this;var r=q.value();if(r!==q._oldValue){q._oldValue=r;q.trigger(d);q.element.trigger(d)}},_propertyChange:function(){var s=this;var r=s.element[0];var t=r.value;var q;var u;if(i._activeElement()!==r){return}if(t!==s._old&&!s._pasting){u=k(r)[0];q=s._unmask(t.substring(u),u);r.value=s._old=t.substring(0,u)+s._emptyMask.substring(u);s._mask(u,u,q);k(r,u)}},_paste:function(v){var u=this;var t=v.target;var q=k(t);var w=q[0];var r=q[1];var s=u._unmask(t.value.substring(r),r);u._pasting=true;setTimeout(function(){var y=t.value;var x=y.substring(w,k(t)[0]);t.value=u._old=y.substring(0,w)+u._emptyMask.substring(w);u._mask(w,w,x);w=k(t)[0];u._mask(w,w,s);k(t,w);u._pasting=false})},_form:function(){var s=this;var q=s.element;var t=q.attr("form");var r=t?e("#"+t):q.closest("form");if(r[0]){s._resetHandler=function(){setTimeout(function(){s.value(q[0].value)})};s._submitHandler=function(){s.element[0].value=s._old=s.raw()};if(s.options.unmaskOnPost){r.on("submit",s._submitHandler)}s._formElement=r.on("reset",s._resetHandler)}},_keydown:function(u){var s=u.keyCode;var r=this.element[0];var t=k(r);var x=t[0];var q=t[1];var w;var v=s===p.BACKSPACE;if(v||s===p.DELETE){if(x===q){if(v){x-=1}else{q+=1}w=this._find(x,v)}if(w!==c&&w!==x){if(v){w+=1}k(r,w)}else{if(x>-1){this._mask(x,q,"",v)}}u.preventDefault()}else{if(s===p.ENTER){this._change()}}},_keypress:function(s){if(s.which===0||s.metaKey||s.ctrlKey||s.keyCode===p.ENTER){return}var r=String.fromCharCode(s.which);var q=k(this.element);this._mask(q[0],q[1],r);if(s.keyCode===p.BACKSPACE||r){s.preventDefault()}},_find:function(q,t){var s=this.element.val()||this._emptyMask;var r=1;if(t===true){r=-1}while(q>-1||q<=this._maskLength){if(s.charAt(q)!==this.tokens[q]){return q}q+=r}return -1},_mask:function(q,s,z,B){var u=this.element[0];var x=u.value||this._emptyMask;var w=this.options.promptChar;var A;var v=0;var r;var t;var y;q=this._find(q,B);if(q>s){s=q}r=this._unmask(x.substring(s),s);z=this._unmask(z,q);A=z.length;if(z){r=r.replace(new RegExp("^_{0,"+A+"}"),"")}z+=r;x=x.split("");t=z.charAt(v);while(q<this._maskLength){x[q]=t||w;t=z.charAt(++v);if(y===c&&v>A){y=q}q=this._find(q+1)}u.value=this._old=x.join("");if(i._activeElement()===u){if(y===c){y=this._maskLength}k(u,y)}},_unmask:function(w,x){if(!w){return""}w=(w+"").split("");var s;var q;var t=0;var v=x||0;var u=this.options.promptChar;var y=w.length;var r=this.tokens.length;var z="";while(v<r){s=w[t];q=this.tokens[v];if(s===q||s===u){z+=s===u?u:"";t+=1;v+=1}else{if(typeof q!=="string"){if((q.test&&q.test(s))||(e.isFunction(q)&&q(s))){z+=s;v+=1}t+=1}else{v+=1}}if(t>=y){break}}return z},_tokenize:function(){var z=[];var x=0;var D=this.options.mask||"";var t=D.split("");var q=t.length;var B=0;var v;var A;var u="";var r=this.options.promptChar;var y=i.getCulture(this.options.culture).numberFormat;var C=this._rules;for(;B<q;B++){v=t[B];A=C[v];if(A){z[x]=A;u+=r;x+=1}else{if(v==="."||v===","){v=y[v]}else{if(v==="$"){v=y.currency.symbol}else{if(v==="\\"){B+=1;v=t[B]}}}v=v.split("");for(var w=0,s=v.length;w<s;w++){z[x]=v[w];u+=v[w];x+=1}}}this.tokens=z;this._emptyMask=u;this._maskLength=u.length}});l.plugin(o)})(window.kendo.jQuery);(function(aH,z){var v=window.kendo,U=v.ui,aM=v.Class,o=U.Widget,s=v.data.DataSource,av={}.toString,Y=function(a1){return a1},A=aH.map,ap=aH.extend,aI=v.isFunction,J="change",G="error",aE="progress",T="stateReset",aY="auto",ah="<div/>",aP=".kendoPivotGrid",aQ="__row_total__",F="dataBinding",C="dataBound",au="expandMember",ai="collapseMember",aN="k-i-arrow-s",x="k-i-arrow-e",ak="#: data.member.caption || data.member.name #",n='<span class="k-icon k-i-kpi-#=data.dataItem.value > 0 ? "open" : data.dataItem.value < 0 ? "denied" : "hold"#">#:data.dataItem.value#</span>',aT='<span class="k-icon k-i-kpi-#=data.dataItem.value > 0 ? "increase" : data.dataItem.value < 0 ? "decrease" : "equal"#">#:data.dataItem.value#</span>',aq='#= data.dataItem ? kendo.htmlEncode(data.dataItem.fmtValue || data.dataItem.value) || "&nbsp;" : "&nbsp;" #',ad='<table class="k-pivot-layout"><tr><td><div class="k-pivot-rowheaders"></div></td><td><div class="k-pivot-table k-state-default"></div></td></tr></table>';function L(a2){var a3=typeof a2==="string"?[{name:a2}]:a2;var a1=av.call(a3)==="[object Array]"?a3:(a3!==z?[a3]:[]);return A(a1,function(a4){if(typeof a4==="string"){return{name:a4}}return{name:a4.name,type:a4.type}})}function aA(a3){var a2=typeof a3==="string"?[{name:[a3],expand:false}]:a3;var a1=av.call(a2)==="[object Array]"?a2:(a2!==z?[a2]:[]);return A(a1,function(a4){if(typeof a4==="string"){return{name:[a4],expand:false}}return{name:(av.call(a4.name)==="[object Array]"?a4.name.slice():[a4.name]),expand:a4.expand}})}function aZ(a1,a4){var a3=a1.members[a4];var a2=S(a1,a4-1);if(a3.parentName){a2.push(a3.parentName)}if(!a2.length){a2=""}return v.stringify(a2)}function ae(a3,a6,a2,a8){var a1,a5;var a4;var a7;if(!a2){a2=a6}if(!a8){a8=0}a7=a2.members[a8];if(!a7||a7.measure){return}a4=a7.children;a5=a4.length;if(a2===a6){a3[v.stringify([a7.name])]=!!a5}else{if(a5){a3[v.stringify(S(a2,a8))]=true}}if(a5){for(a1=0;a1<a5;a1++){ae(a3,a6,a4[a1],a8)}}ae(a3,a6,a2,a8+1)}function aK(a4){var a1={};if(a4.length){ae(a1,a4[0])}var a3=[];for(var a2 in a1){a3.push({name:aH.parseJSON(a2),expand:a1[a2]})}return a3}function aC(a3,a6){var a5=a6.tuples||[];var a8=a5[0];if(a8&&a3.length<a8.members.length){var a2=a8.members;for(var a1=0;a1<a2.length;a1++){if(a2[a1].measure){continue}var a7=false;for(var a4=0;a4<a3.length;a4++){if(K(a3[a4]).indexOf(a2[a1].hierarchy)===0){a7=true;break}}if(!a7){a3.push({name:[a2[a1].name],expand:false})}}}}function l(a3){var a2=[];var a4=a3.members;for(var a1=0;a1<a4.length;a1++){if(a4[a1].measure){continue}a2.push({name:[a4[a1].name],expand:a4[a1].children.length>0})}return a2}function j(a4,a3,a5){a4=a4||{};aC(a3,a4);if(a5.length>1){a3.push({name:"Measures",measure:true,children:aA(a5)})}var a2={members:a3};if(a4.tuples){var a1=i(a4.tuples,a2);if(a1.tuple){a3=l(a1.tuple)}}return a3}function P(bg,a9,a1,bd,a5,ba,a6){var bc,a3,a4,be,bb,bf=0;var a2=a9;for(a3 in a1[bd].aggregates){bc=a1[bd].aggregates[a3];be=a5[a3];bb=ba[a3];bc=be?be(bc):bc.accumulator;bg[a2]={ordinal:a2,value:bc,fmtValue:bb?v.format(bb,bc):bc};++bf;a2+=a6}var a8=a1[bd].items;for(a4 in a8){var a7=a8[a4].index*bf;a7=a2+a7*a6;for(a3 in a8[a4].aggregates){bc=a8[a4].aggregates[a3];be=a5[a3];bb=ba[a3];bc=be?be(bc):bc.accumulator;bg[a7]={ordinal:a7,value:bc,fmtValue:bb?v.format(bb,bc):bc};a7+=a6}}}function aB(be,a7,a1,bb,a4,a8){var ba,a2,a3,bc,a9,bd=0;for(a2 in a1[bb].aggregates){ba=a1[bb].aggregates[a2];bc=a4[a2];a9=a8[a2];ba=bc?bc(ba):ba.accumulator;be[be.length]={ordinal:a7++,value:ba,fmtValue:a9?v.format(a9,ba):ba};++bd}var a6=a1[bb].items;for(a3 in a6){var a5=a6[a3].index*bd;for(a2 in a6[a3].aggregates){ba=a6[a3].aggregates[a2];bc=a4[a2];a9=a8[a2];ba=bc?bc(ba):ba.accumulator;be[be.length]={ordinal:a7+a5++,value:ba,fmtValue:a9?v.format(a9,ba):ba}}}}function aL(a2){var a1=v.getter(a2.field,true);return function(a3,a4){return a2.aggregate(a1(a3.dataItem),a4,a3)}}function Q(a1){return typeof a1==="number"&&!isNaN(a1)}function h(a1){return a1&&a1.getTime}var w={sum:function(a3,a2){var a1=a2.accumulator;if(!Q(a1)){a1=a3}else{if(Q(a3)){a1+=a3}}return a1},count:function(a2,a1){return(a1.accumulator||0)+1},average:{aggregate:function(a3,a2){var a1=a2.accumulator;if(a2.count===z){a2.count=0}if(!Q(a1)){a1=a3}else{if(Q(a3)){a1+=a3}}if(Q(a3)){a2.count++}return a1},result:function(a2){var a1=a2.accumulator;if(Q(a1)){a1=a1/a2.count}return a1}},max:function(a3,a2){var a1=a2.accumulator;if(!Q(a1)&&!h(a1)){a1=a3}if(a1<a3&&(Q(a3)||h(a3))){a1=a3}return a1},min:function(a3,a2){var a1=a2.accumulator;if(!Q(a1)&&!h(a1)){a1=a3}if(a1>a3&&(Q(a3)||h(a3))){a1=a3}return a1}};var aJ=aM.extend({init:function(a1){this.options=ap({},this.options,a1);this.dimensions=this._normalizeDescriptors("field",this.options.dimensions);this.measures=this._normalizeDescriptors("name",this.options.measures)},_normalizeDescriptors:function(a6,a3){a3=a3||{};var a2={};var a5;if(av.call(a3)==="[object Array]"){for(var a1=0,a4=a3.length;a1<a4;a1++){a5=a3[a1];if(typeof a5==="string"){a2[a5]={}}else{if(a5[a6]){a2[a5[a6]]=a5}}}a3=a2}return a3},_asTuples:function(a2,bc,a6){a6=a6||[];var a4=this.dimensions||[];var bd=[];var a7;var a9;var a3;var bb;var a8;var a1;var a5=a6.length||1;if(bc.length||a6.length){for(bb=0;bb<a5;bb++){a7={members:[]};for(a9=0,a3=bc.length;a9<a3;a9++){a1=K(bc[a9].name);a7.members[a7.members.length]={children:[],caption:(a4[a1]||{}).caption||"All",name:a1,levelName:a1,levelNum:"0",hasChildren:true,parentName:z,hierarchy:a1}}if(a5>1){a7.members[a7.members.length]={children:[],caption:(a6[bb]).caption,name:a6[bb].descriptor.name,levelName:"MEASURES",levelNum:"0",hasChildren:false,parentName:z,hierarchy:"MEASURES"}}bd[bd.length]=a7}}for(var ba in a2){for(bb=0;bb<a5;bb++){a8={members:[]};for(a9=0,a3=bc.length;a9<a3;a9++){a1=K(bc[a9].name);if(a2[ba].parentName.indexOf(a1)===0){a8.members[a8.members.length]={children:[],caption:a2[ba].value,name:a2[ba].name,levelName:a2[ba].name,levelNum:1,hasChildren:false,parentName:a1,hierarchy:a1}}else{a8.members[a8.members.length]={children:[],caption:(a4[a1]||{}).caption||"All",name:a1,levelName:a1,levelNum:"0",hasChildren:true,parentName:z,hierarchy:a1}}}if(a5>1){a8.members[a8.members.length]={children:[],caption:a6[bb].caption,name:a6[bb].descriptor.name,levelName:"MEASURES",levelNum:"0",hasChildren:true,parentName:z,hierarchy:"MEASURES"}}bd[bd.length]=a8}}return bd},_toDataArray:function(a3,a9,a4,a8,a6){var bc={};var a7={};var bf,a2,a1;var bd=0;var a5=a4&&a4.length;if(a5){bf=(this.measures||{});for(;bd<a5;bd++){a1=a4[bd].name;a2=bf[a1];if(a2.result){a7[a1]=a2.result}if(a2.format){bc[a1]=a2.format}}}var bg=[];var ba;var bb=0;a6(bg,bb,a3,aQ,a7,bc,a9);for(var be in a3){if(be===aQ){continue}bb+=a8;a6(bg,bb,a3,be,a7,bc,a9)}return bg},_matchDescriptors:function(a1,a9,a7,a8){var a2;var a5;var a6;var a3;var a4;while(a8>0){a2=a9[--a8];a5=K(a2).split("&");if(a5.length>1){a6=a5[0];a3=a5[1];a4=a7[a6];if(a4(a1)!=a3){return false}}}return true},_isExpanded:function(a2){for(var a1=0,a3=a2.length;a1<a3;a1++){if(a2[a1].expand){return true}}return false},_calculateAggregate:function(a5,a2,a4){var a1={};var a6;var a3;for(var a7=0;a7<a5.length;a7++){a3=a5[a7].descriptor.name;a6=a4.aggregates[a3]||{};a6.accumulator=a5[a7].aggregator(a2,a6);a1[a3]=a6}return a1},_processColumns:function(a5,be,a9,a7,a8,bf,a4,ba){var bd;var a3;var a2;var a6;var bb;var a1=a8.dataItem;for(var bc=0;bc<be.length;bc++){a3=be[bc];if(a3.expand){if(!this._matchDescriptors(a1,be,a9,bc)){continue}a2=K(a3);bd=a9[a2](a1);bd=bd!==z?bd.toString():bd;a2=a2+"&"+bd;a6=a7[a2]||{index:a4.columnIndex,name:a2,parentName:a2,value:bd};bb=bf.items[a2]||{aggregates:{}};bf.items[a2]={index:a6.index,aggregates:this._calculateAggregate(a5,a8,bb)};if(ba){if(!a7[a2]){a4.columnIndex++}a7[a2]=a6}}}},_measureAggregators:function(ba){var a9=ba.measures||[];var a1=this.measures||{};var a6=[];var a2,a3,a8,a5;var a7,a4;if(a9.length){for(a8=0,a5=a9.length;a8<a5;a8++){a2=a9[a8];a3=a1[a2.name];a7=null;if(a3){a4=a3.aggregate;if(typeof a4==="string"){a7=w[a4.toLowerCase()];if(!a7){throw new Error("There is no such aggregate function")}a3.aggregate=a7.aggregate||a7;a3.result=a7.result}a6.push({descriptor:a2,caption:a3.caption,result:a3.result,aggregator:aL(a3)})}}}else{a6.push({descriptor:{name:"default"},caption:"default",aggregator:function(){return 1}})}return a6},_buildGetters:function(a4){var a2={};var a7;var a6;var a3;for(var a1=0,a5=a4.length;a1<a5;a1++){a7=a4[a1];a3=K(a7);a6=a3.split("&");if(a6.length>1){a2[a6[0]]=v.getter(a6[0],true)}else{a2[a3]=v.getter(a3,true)}}return a2},process:function(bs,a6){bs=bs||[];a6=a6||{};var bi=a6.measures||[];var bh=a6.measuresAxis==="rows";var bb=(bh?a6.rows:a6.columns)||[];var bp=(!bh?a6.rows:a6.columns)||[];if(!bb.length&&bp.length&&(!bi.length||(bi.length&&bh))){bb=bp;bp=[];bh=false}if(!bb.length&&!bp.length){bh=false}if(!bb.length&&bi.length){bb=aA(a6.measures)}var bf={};var a3={};var be={};var bm;var a7={columnIndex:0};var bn=this._measureAggregators(a6);var bq=this._buildGetters(bb);var ba=this._buildGetters(bp);var a1=false;if(bb.length||bp.length){var bc;var bl;var a9=this._isExpanded(bp);a1=true;for(var bg=0,a5=bs.length;bg<a5;bg++){bc=bs[bg];bl={dataItem:bc,index:bg};var a4=bf[aQ]||{items:{},aggregates:{}};this._processColumns(bn,bb,bq,a3,bl,a4,a7,!a9);a4.aggregates=this._calculateAggregate(bn,bl,a4);bf[aQ]=a4;for(var a2=0,bk=bp.length;a2<bk;a2++){var br=bp[a2];if(br.expand){if(!this._matchDescriptors(bc,bp,ba,a2)){continue}var bd=K(br);bm=ba[bd](bc);bm=bm!==z?bm.toString():bm;be[bm]={name:bd+"&"+bm,parentName:bd,value:bm};var bj=bf[bm]||{items:{},aggregates:{}};this._processColumns(bn,bb,bq,a3,bl,bj,a7,true);bj.aggregates=this._calculateAggregate(bn,bl,bj);bf[bm]=bj}}}}if(a1&&bs.length){if(bn.length>1&&(!a6.columns||!a6.columns.length)){bb=[]}a3=this._asTuples(a3,bb,bn);be=this._asTuples(be,bp,[]);var a8=a3.length;if(bh){a8=1;var bo=a3;a3=be;be=bo}bf=this._toDataArray(bf,a3.length,a6.measures,a8,bh?P:aB);bf=this._normalizeData(bf,a3.length,be.length)}else{bf=a3=be=[]}return{axes:{columns:{tuples:a3},rows:{tuples:be}},data:bf}},_normalizeData:function(a8,a5,a7){var a4=(a5||1)*(a7||1);var a3=new Array(a4);var a6=a8.length;var a2,a1;if(a6===a4){return a8}for(a1=0;a1<a4;a1++){a3[a1]={value:"",fmtValue:"",ordinal:a1}}for(a1=0;a1<a6;a1++){a2=a8[a1];if(a2){a3[a2.ordinal]=a2}}return a3}});var aF=aM.extend({init:function(a1,a2){this.transport=a2;this.options=a2.options||{};if(!this.transport.discover){if(aI(a1.discover)){this.discover=a1.discover}}},read:function(a1){return this.transport.read(a1)},update:function(a1){return this.transport.update(a1)},create:function(a1){return this.transport.create(a1)},destroy:function(a1){return this.transport.destroy(a1)},discover:function(a1){if(this.transport.discover){return this.transport.discover(a1)}a1.success({})},catalog:function(a3){var a2=this.options||{};if(a3===z){return(a2.connection||{}).catalog}var a1=a2.connection||{};a1.catalog=a3;this.options.connection=a1;aH.extend(this.transport.options,{connection:a1})},cube:function(a3){var a2=this.options||{};if(a3===z){return(a2.connection||{}).cube}var a1=a2.connection||{};a1.cube=a3;this.options.connection=a1;ap(true,this.transport.options,{connection:a1})}});var am=s.extend({init:function(a2){var a1=((a2||{}).schema||{}).cube;var a4="columns";var a5;var a3={axes:Y,cubes:Y,catalogs:Y,measures:Y,dimensions:Y,hierarchies:Y,levels:Y,members:Y};if(a1){a3=aH.extend(a3,this._cubeSchema(a1));this.cubeBuilder=new aJ(a1)}s.fn.init.call(this,ap(true,{},{schema:a3},a2));this.transport=new aF(this.options.transport||{},this.transport);this._columns=aA(this.options.columns);this._rows=aA(this.options.rows);a5=this.options.measures||[];if(av.call(a5)==="[object Object]"){a4=a5.axis||"columns";a5=a5.values||[]}this._measures=L(a5);this._measuresAxis=a4;this._axes={}},_cubeSchema:function(a1){return{dimensions:function(){var a2=[];var a4=a1.dimensions;for(var a3 in a4){a2.push({name:a3,caption:a4[a3].caption||a3,uniqueName:a3,defaultHierarchy:a3,type:1})}if(a1.measures){a2.push({name:"Measures",caption:"Measures",uniqueName:"Measures",type:2})}return a2},hierarchies:function(){return[]},measures:function(){var a2=[];var a4=a1.measures;for(var a3 in a4){a2.push({name:a3,caption:a3,uniqueName:a3,aggregator:a3})}return a2}}},options:{serverSorting:true,serverPaging:true,serverFiltering:true,serverGrouping:true,serverAggregates:true},catalog:function(a1){if(a1===z){return this.transport.catalog()}this.transport.catalog(a1);this._mergeState({});this._axes={};this.data([])},cube:function(a1){if(a1===z){return this.transport.cube()}this.transport.cube(a1);this._axes={};this._mergeState({});this.data([])},axes:function(){return this._axes},columns:function(a1){if(a1===z){return this._columns}this._clearAxesData=true;this._columns=aA(a1);this.query({columns:a1,rows:this.rowsAxisDescriptors(),measures:this.measures()})},rows:function(a1){if(a1===z){return this._rows}this._clearAxesData=true;this._rows=aA(a1);this.query({columns:this.columnsAxisDescriptors(),rows:a1,measures:this.measures()})},measures:function(a1){if(a1===z){return this._measures}this._clearAxesData=true;this.query({columns:this.columnsAxisDescriptors(),rows:this.rowsAxisDescriptors(),measures:L(a1)})},measuresAxis:function(){return this._measuresAxis||"columns"},_expandPath:function(a9,a1){var a5=a1==="columns"?"columns":"rows";var a4=a1==="columns"?"rows":"columns";var a2=aA(a9);var a8=K(a2[a2.length-1]);this._lastExpanded=a5;a2=j(this.axes()[a5],a2,this.measures());for(var a6=0;a6<a2.length;a6++){var a3=K(a2[a6]);if(a3===a8){if(a2[a6].expand){return}a2[a6].expand=true}else{a2[a6].expand=false}}var a7={};a7[a5]=a2;a7[a4]=this._descriptorsForAxis(a4);this._query(a7)},_descriptorsForAxis:function(a2){var a3=this.axes();var a1=this[a2]()||[];if(a3&&a3[a2]&&a3[a2].tuples&&a3[a2].tuples[0]){a1=aK(a3[a2].tuples||[])}return a1},columnsAxisDescriptors:function(){return this._descriptorsForAxis("columns")},rowsAxisDescriptors:function(){return this._descriptorsForAxis("rows")},_process:function(a1,a2){this._view=a1;a2=a2||{};a2.items=a2.items||this._view;this.trigger(J,a2)},_query:function(a1){var a2=this;if(!a1){this._clearAxesData=true}return a2.query(ap({},{page:a2.page(),pageSize:a2.pageSize(),sort:a2.sort(),filter:a2.filter(),group:a2.group(),aggregate:a2.aggregate(),columns:this.columnsAxisDescriptors(),rows:this.rowsAxisDescriptors(),measures:this.measures()},a1))},query:function(a1){var a2=this._mergeState(a1);if(this._data.length&&this.cubeBuilder){this._params(a2);this._updateLocalData(this._pristineData);return aH.Deferred().resolve().promise()}return this.read(a2)},_mergeState:function(a1){a1=s.fn._mergeState.call(this,a1);if(a1!==z){this._measures=L(a1.measures);if(a1.columns){a1.columns=aA(a1.columns)}else{if(!a1.columns){this._columns=[]}}if(a1.rows){a1.rows=aA(a1.rows)}else{if(!a1.rows){this._rows=[]}}}return a1},filter:function(a1){if(a1===z){return this._filter}this._clearAxesData=true;this._query({filter:a1,page:1})},expandColumn:function(a1){this._expandPath(a1,"columns")},expandRow:function(a1){this._expandPath(a1,"rows")},success:function(a2){var a1;if(this.cubeBuilder){a1=(this.reader.data(a2)||[]).slice(0)}s.fn.success.call(this,a2);if(a1){this._pristineData=a1}},_processResult:function(a4,a8){if(this.cubeBuilder){var a6=this.cubeBuilder.process(a4,this._requestData);a4=a6.data;a8=a6.axes}var a7,ba;var a5,bb,a2,a9;var a3=this.columns();var bd=this.rows();var a1=a8.columns&&a8.columns.tuples;if(!a3.length&&bd.length&&a1&&(this._rowMeasures().length||!this.measures().length)){a8={columns:{},rows:a8.columns}}if(!a3.length&&!bd.length&&this.measuresAxis()==="rows"&&a1){a8={columns:{},rows:a8.columns}}this._axes={columns:k(this._axes.columns),rows:k(this._axes.rows)};a8={columns:k(a8.columns),rows:k(a8.rows)};a7=this._normalizeTuples(a8.columns.tuples,this._axes.columns.tuples,a3,this._columnMeasures());ba=this._normalizeTuples(a8.rows.tuples,this._axes.rows.tuples,bd,this._rowMeasures());if(!this.cubeBuilder){a4=this._normalizeData({columnsLength:a8.columns.tuples.length,rowsLength:a8.rows.tuples.length,columnIndexes:a7,rowIndexes:ba,data:a4})}if(this._lastExpanded=="rows"){a5=a8.columns.tuples;a2=this._columnMeasures();bb=af(a8.columns,this._axes.columns,a2);if(bb){a9="columns";a8.columns=bb;aS(a5,bb.tuples,a8.rows.tuples.length,a2,a4);a4=this._normalizeData({columnsLength:M(a8.columns.tuples,a2),rowsLength:a8.rows.tuples.length,data:a4})}}else{if(this._lastExpanded=="columns"){a5=a8.rows.tuples;a2=this._rowMeasures();bb=af(a8.rows,this._axes.rows,a2);if(bb){a9="rows";a8.rows=bb;R(a5,bb.tuples,a8.columns.tuples.length,a2,a4);a4=this._normalizeData({columnsLength:M(a8.rows.tuples,a2),rowsLength:a8.columns.tuples.length,data:a4})}}}this._lastExpanded=null;var bc=this._mergeAxes(a8,a4,a9);this._axes=bc.axes;return bc.data},_readData:function(a2){var a3=this.reader.axes(a2);var a1=this.reader.data(a2);return this._processResult(a1,a3)},_createTuple:function(a9,a1,bb){var a2;var a7;var a5;var a6=a9.members;var a3=a6.length;var a8={members:[]};var a4;var bc;var ba=0;if(a1){a3-=1}for(;ba<a3;ba++){a7=a6[ba];a4=Number(a7.levelNum);a2=a7.name;a5=a7.parentName;bc=a7.caption||a2;if(bb){bc="All";if(a4===0){a5=a7.name}else{a4-=1}a2=a5}a8.members.push({name:a2,children:[],caption:bc,levelName:a5,levelNum:a4.toString(),hasChildren:bb,hierarchy:a5,parentName:!bb?a5:""})}if(a1){a8.members.push({name:a1.name,children:[]})}return a8},_hasRoot:function(a8,a1,ba){if(a1.length){return i(a1,a8).tuple}var a6=a8.members;var a7;var a2;var a5=true;var a4;for(var a9=0,a3=a6.length;a9<a3;a9++){a7=a6[a9];a4=Number(a7.levelNum)||0;a2=ba[a9];if(!(a4===0||(a2&&a7.name===K(a2)))){a5=false;break}}return a5},_mergeAxes:function(a8,a4,ba){var bb=this._columnMeasures();var be=this._rowMeasures();var a7=this.axes();var bc,a6;var bd=a8.rows.tuples.length;var a1=M(a7.columns.tuples,bb);var a2=a8.columns.tuples.length;if(ba=="columns"){a2=a1;a6=a8.columns.tuples}else{a6=aa(a8.columns.tuples,bb);a4=aj(a6,a4)}var a9=V(a7.columns.tuples,a6,bb);if(ba=="rows"){bd=M(a8.rows.tuples,be);a6=a8.rows.tuples}else{a6=aa(a8.rows.tuples,be);a4=q(a6,a4)}var a5=V(a7.rows.tuples,a6,be);a7.columns.tuples=a9.tuples;a7.rows.tuples=a5.tuples;if(a1!==M(a7.columns.tuples,bb)){bc=a9.index+u(a9.parsedRoot,a9.memberIndex,bb);var a3=a1+a2;a4=this._mergeColumnData(a4,bc,bd,a2,a3)}else{bc=a5.index+u(a5.parsedRoot,a5.memberIndex,be);a4=this._mergeRowData(a4,bc,bd,a2)}return{axes:a7,data:a4}},_mergeColumnData:function(bb,a7,a3,a1,a4){var a5=this.data().toJSON();var a8,a6,a2=0,ba;var a9=Math.max(this._columnMeasures().length,1);a3=Math.max(a3,1);if(a5.length>0){a2=a9;a4-=a9}for(a8=0;a8<a3;a8++){a6=a7+(a8*a4);ba=bb.splice(0,a1);ba.splice(0,a2);[].splice.apply(a5,[a6,0].concat(ba))}return a5},_mergeRowData:function(a9,a4,a2,a1){var a3=this.data().toJSON();var a6,a5,a7;var a8=Math.max(this._rowMeasures().length,1);a1=Math.max(a1,1);if(a3.length>0){a2-=a8;a9.splice(0,a1*a8)}for(a6=0;a6<a2;a6++){a7=a9.splice(0,a1);a5=(a4*a1)+(a6*a1);[].splice.apply(a3,[a5,0].concat(a7))}return a3},_columnMeasures:function(){var a2=this.measures();var a1=[];if(this.measuresAxis()==="columns"){if(this.columns().length===0){a1=a2}else{if(a2.length>1){a1=a2}}}return a1},_rowMeasures:function(){var a2=this.measures();var a1=[];if(this.measuresAxis()==="rows"){if(this.rows().length===0){a1=a2}else{if(a2.length>1){a1=a2}}}return a1},_updateLocalData:function(a2,a1){if(this.cubeBuilder){if(a1){this._requestData=a1}a2=this._processResult(a2)}this._data=this._observe(a2);this._ranges=[];this._addRange(this._data);this._total=this._data.length;this._pristineTotal=this._total;this._process(this._data)},data:function(a2){var a1=this;if(a2!==z){this._pristineData=a2.slice(0);this._updateLocalData(a2,{columns:this.columns(),rows:this.rows(),measures:this.measures()})}else{return a1._data}},_normalizeTuples:function(a5,a1,bb,a2){var a3=a2.length||1;var a8=0;var bc=[];var a6={};var ba=0;var a7,a4,a9;if(!a5.length){return}if(!this._hasRoot(a5[0],a1,bb)){for(;a8<a3;a8++){bc.push(this._createTuple(a5[0],a2[a8],true));a6[a8]=a8}a5.splice.apply(a5,[0,a5.length].concat(bc).concat(a5));a8=a3}if(a2.length){a9=a7=a5[a8];a4=a7.members.length-1;while(a7){if(ba>=a3){ba=0}if(a7.members[a4].name!==a2[ba].name){a5.splice(a8,0,this._createTuple(a7,a2[ba]));a6[a8]=a8}a8+=1;ba+=1;a7=a5[a8];if(a3>ba&&(!a7||Z(a9,a4-1)!==Z(a7,a4-1))){for(;ba<a3;ba++){a5.splice(a8,0,this._createTuple(a9,a2[ba]));a6[a8]=a8;a8+=1}a7=a5[a8]}a9=a7}}return a6},_normalizeData:function(bc){var a5=bc.data;var a7=bc.columnIndexes||{};var a9=bc.rowIndexes||{};var a2=bc.columnsLength||1;var a3=a2*(bc.rowsLength||1);var ba=0;var a6=0;var a8=0;var a1,a4;var bb=new Array(a3);if(a5.length===a3){return a5}for(;ba<a3;ba++){while(a9[parseInt(ba/a2,10)]!==z){for(a4=0;a4<a2;a4++){bb[ba]={value:"",fmtValue:"",ordinal:ba};ba+=1}}if(a7[ba%a2]!==z){bb[ba]={value:"",fmtValue:"",ordinal:ba};ba+=1}a1=a5[a6];if(a1){if(a1.ordinal-a8>1){a8+=1;for(;a8<a1.ordinal;a8++){bb[ba]={value:"",fmtValue:"",ordinal:ba};ba+=1}}a8=a1.ordinal;a1.ordinal=ba;bb[ba]=a1;a6+=1}else{bb[ba]={value:"",fmtValue:"",ordinal:ba}}}return bb},discover:function(a1,a2){var a3=this,a4=a3.transport;return aH.Deferred(function(a5){a4.discover(ap({success:function(a6){a6=a3.reader.parse(a6);if(a3._handleCustomErrors(a6)){return}if(a2){a6=a2(a6)}a5.resolve(a6)},error:function(a7,a6,a8){a5.reject(a7);a3.error(a7,a6,a8)}},a1))}).promise().done(function(){a3.trigger("schemaChange")})},schemaMeasures:function(){var a1=this;return a1.discover({data:{command:"schemaMeasures",restrictions:{catalogName:a1.transport.catalog(),cubeName:a1.transport.cube()}}},function(a2){return a1.reader.measures(a2)})},schemaKPIs:function(){var a1=this;return a1.discover({data:{command:"schemaKPIs",restrictions:{catalogName:a1.transport.catalog(),cubeName:a1.transport.cube()}}},function(a2){return a1.reader.kpis(a2)})},schemaDimensions:function(){var a1=this;return a1.discover({data:{command:"schemaDimensions",restrictions:{catalogName:a1.transport.catalog(),cubeName:a1.transport.cube()}}},function(a2){return a1.reader.dimensions(a2)})},schemaHierarchies:function(a1){var a2=this;return a2.discover({data:{command:"schemaHierarchies",restrictions:{catalogName:a2.transport.catalog(),cubeName:a2.transport.cube(),dimensionUniqueName:a1}}},function(a3){return a2.reader.hierarchies(a3)})},schemaLevels:function(a1){var a2=this;return a2.discover({data:{command:"schemaLevels",restrictions:{catalogName:a2.transport.catalog(),cubeName:a2.transport.cube(),hierarchyUniqueName:a1}}},function(a3){return a2.reader.levels(a3)})},schemaCubes:function(){var a1=this;return a1.discover({data:{command:"schemaCubes",restrictions:{catalogName:a1.transport.catalog()}}},function(a2){return a1.reader.cubes(a2)})},schemaCatalogs:function(){var a1=this;return a1.discover({data:{command:"schemaCatalogs"}},function(a2){return a1.reader.catalogs(a2)})},schemaMembers:function(a2){var a1=this;return a1.discover({data:{command:"schemaMembers",restrictions:ap({catalogName:a1.transport.catalog(),cubeName:a1.transport.cube()},a2)}},function(a3){return a1.reader.members(a3)})},_params:function(a2){if(this._clearAxesData){this._axes={};this._data=this._observe([]);this._clearAxesData=false;this.trigger(T)}var a1=s.fn._params.call(this,a2);a1=ap({measures:this.measures(),measuresAxis:this.measuresAxis(),columns:this.columns(),rows:this.rows()},a1);if(this.cubeBuilder){this._requestData=a1}return a1}});function af(a1,a2,a3){if(a1.tuples.length<M(a2.tuples,a3)){return a2}return}function aS(bb,a4,a7,a2,a9){var a6,a3,ba;var a1=bb.length;var a8=M(a4,a2);var a5=a2.length||1;for(a3=0;a3<a7;a3++){for(a6=0;a6<a1;a6++){ba=aV(bb[a6],a4)*a5;ba+=a6%a5;a9[a3*a1+a6].ordinal=a3*a8+ba}}}function R(bb,a4,a1,a2,a9){var a6,a3,ba;var a7=bb.length;var a8=M(a4,a2);var a5=a2.length||1;for(a3=0;a3<a7;a3++){ba=aV(bb[a3],a4);ba*=a5;ba+=a3%a5;for(a6=0;a6<a1;a6++){a9[a3*a1+a6].ordinal=ba*a1+a6}}}function aV(a1,a2){return i(a2,a1).index}function M(a4,a7){if(!a4.length){return 0}var a3=a4.slice();var a6=a3.shift();var a2,a5,a1=1;while(a6){if(a6.members){[].push.apply(a3,a6.members)}else{if(a6.children){if(!a6.measure){a1+=a6.children.length}[].push.apply(a3,a6.children)}}a6=a3.shift()}if(a7.length){a1=a1*a7.length}return a1}function k(a1){if(!a1){a1={tuples:[]}}if(!a1.tuples){a1.tuples=[]}return a1}function u(a1,a6,a5){if(!a1){return 0}var a2=Math.max(a5.length,1);var a3=a1.members.slice(0,a6);var a4=a3.shift();while(a4){if(a4.children){[].push.apply(a3,a4.children)}else{a2++;[].push.apply(a3,a4.members)}a4=a3.shift()}return a2}function V(a7,a1,a2){if(!a1[0]){return{parsedRoot:null,tuples:a7,memberIndex:0,index:0}}var a9=i(a7,a1[0]);if(!a9.tuple){return{parsedRoot:null,tuples:a1,memberIndex:0,index:0}}var a5=a9.tuple.members;var a3=a1[0].members;var a6=-1;if(a5.length!==a3.length){return{parsedRoot:null,tuples:a1,memberIndex:0,index:0}}for(var a8=0,a4=a5.length;a8<a4;a8++){if(!a5[a8].measure&&a3[a8].children[0]){if(a6==-1&&a3[a8].children.length){a6=a8}a5[a8].children=a3[a8].children}}a2=Math.max(a2.length,1);return{parsedRoot:a9.tuple,index:a9.index*a2,memberIndex:a6,tuples:a7}}function e(a6,a3){var a4=true;var a1,a5;var a2;a6=a6.members;a3=a3.members;for(a1=0,a5=a6.length;a1<a5;a1++){if(a6[a1].measure||a3[a1].measure){continue}a4=a4&&(K(a6[a1])===K(a3[a1]))}return a4}function i(a5,a9){var a8,a2,a7,ba,a1=0;var a6,a4,a3;for(a8=0,a2=a5.length;a8<a2;a8++){a7=a5[a8];if(e(a7,a9)){return{tuple:a7,index:a1}}a1++;for(a6=0,a4=a7.members.length;a6<a4;a6++){a3=a7.members[a6];if(a3.measure){continue}ba=i(a3.children,a9);a1+=ba.index;if(ba.tuple){return{tuple:ba.tuple,index:a1}}}}return{index:a1}}function al(a2,a5){var a6,a3,a1,a4="";for(a3=0,a1=a2.length;a3<a1;a3++){a6=a2[a3];a4+=a6.name;if(!a5[a4]){a5[a4]=a6}}}function b(a8,a2){var a4=a8.members;var a6,a7,a5,a9="";var a3="";var a1;for(a6=0,a7=a4.length;a6<a7;a6++){a5=a4[a6];if(a1){if(a2[a9+a5.name]){a9+=a5.name;a1=a2[a9];continue}else{if(a2[a9+a5.parentName]){return a2[a9+a5.parentName]}else{if(a5.parentName){a3+=a5.parentName}return a2[a3]}}}a9+=a5.name;a1=a2[a5.parentName];if(!a1){a1=a2[a9];if(!a1){return null}}if(a1){a3+=a1.name}}return a1}function f(a3,a6){if(a6.length===0){return -1}var a5=a6[0];var a4=a3.members;for(var a2=0,a1=a4.length;a2<a1;a2++){if(a4[a2].name==a5.name){return a2}}}function ab(a1,a2){if(a2<0){return}var a3={name:"Measures",measure:true,children:[aH.extend({members:[],dataIndex:a1.dataIndex},a1.members[a2])]};a1.members.splice(a2,1,a3);a1.dataIndex=z}function aa(a6,a8){if(a6.length<1){return[]}var a2=[];var a7={};var a5=f(a6[0],a8);for(var a4=0;a4<a6.length;a4++){var a1=a6[a4];a1.dataIndex=a4;ab(a1,a5);var a3=b(a1,a7);if(a3){if(a5<0||!a3.measure){a3.children.push(a1)}else{a3.children.push(a1.members[a5].children[0])}}else{a2.push(a1)}al(a1.members,a7)}return a2}function q(a5,a4){if(!a5||!a5.length){return a4}var bb=[];var ba=p(a5);var a3=ba.length;var a1=Math.max(a4.length/a3,1);var a9,a7,a2,a6;var a8;for(a9=0;a9<a3;a9++){a2=a1*a9;a6=a1*ba[a9];for(a7=0;a7<a1;a7++){a8=parseInt(a6+a7,10);bb[parseInt(a2+a7,10)]=a4[a8]||{value:"",fmtValue:"",ordinal:a8}}}return bb}function aj(a4,a3,a6){if(!a4||!a4.length){return a3}var bb=[];var ba=p(a4);var a1=ba.length;var a2=Math.max(a3.length/a1,1);var a5,a8,a9,a7;for(a8=0;a8<a2;a8++){a9=a1*a8;for(a5=0;a5<a1;a5++){a7=ba[a5]+a9;bb[a9+a5]=a3[a7]||{value:"",fmtValue:"",ordinal:a7}}}return bb}function p(a6){a6=a6.slice();var a3=[];var a2=a6.shift();var a1,a7,a4,a5,a8;while(a2){if(a2.dataIndex!==z){a3.push(a2.dataIndex)}a4=0;for(a1=0,a7=a2.members.length;a1<a7;a1++){a8=a2.members[a1];a5=a8.children;if(a8.measure){[].splice.apply(a6,[0,0].concat(a5))}else{[].splice.apply(a6,[a4,0].concat(a5))}a4+=a5.length}a2=a6.shift()}return a3}am.create=function(a1){a1=a1&&a1.push?{data:a1}:a1;var a3=a1||{},a2=a3.data;a3.data=a2;if(!(a3 instanceof am)&&a3 instanceof v.data.DataSource){throw new Error("Incorrect DataSource type. Only PivotDataSource instances are supported")}return a3 instanceof am?a3:new am(a3)};function ac(a1){var a2=a1.split(".");if(a2.length>2){return a2[0]+"."+a2[1]}return a1}function t(a5,a4){var a1=a5.length-1;var a3=a5[a1];var a2;a2=aW(a4,a3);if(a2&&a2.dir){a3="ORDER("+a3+".Children,"+a2.field+".CurrentMember.MEMBER_CAPTION,"+a2.dir+")"}else{a3+=".Children"}a5[a1]=a3;return a5}function aW(a2,a4){for(var a1=0,a3=a2.length;a1<a3;a1++){if(a4.indexOf(a2[a1].field)===0){return a2[a1]}}return null}function aR(a3){var a1="CROSSJOIN({";var a2;if(a3.length>2){a2=a3.pop();a1+=aR(a3)}else{a1+=a3.shift();a2=a3.pop()}a1+="},{";a1+=a2;a1+="})";return a1}function aO(a1,a4){var a2=a1.slice(0);var a3;if(a4.length>1){a2.push("{"+ao(a4).join(",")+"}")}return aR(a2)}function aU(a3){var a2=[];for(var a1=0;a1<a3.length;a1++){if(a3[a1].expand){a2.push(a3[a1])}}return a2}function ao(a5){var a2=0;var a4=a5.length;var a1=[];var a3;for(;a2<a4;a2++){a3=a5[a2];a1.push(a3.name!==z?a3.name:a3)}return a1}function K(a1){a1=a1.name||a1;if(av.call(a1)==="[object Array]"){a1=a1[a1.length-1]}return a1}function aG(a2){var a3=a2.length;var a4=[];var a1=0;for(;a1<a3;a1++){a4.push(a2[a1].name[0])}return a4}function N(a7,a6){var a4;var a8;var a3;var a2=0;var a5=a7.length;var a1=a6.length;a6=a6.slice(0);for(;a2<a5;a2++){a4=a7[a2];for(a3=0;a3<a1;a3++){a8=ac(a6[a3]);if(a4.indexOf(a8)!==-1){a6[a3]=a4;break}}}return a6}function y(a6){var a9=[];var a3=[];var ba=[];var a8;var a5,a4;var bb=0;var a2=a6.length;var a1;var a7;var bc;for(;bb<a2;bb++){a8=a6[bb];a1=a8.name;bc=false;if(av.call(a1)!=="[object Array]"){a8.name=a1=[a1]}if(a1.length>1){a3.push(a8)}else{a7=ac(a1[0]);for(a5=0,a4=ba.length;a5<a4;a5++){if(ba[a5].name[0].indexOf(a7)===0){bc=true;break}}if(!bc){ba.push(a8)}if(a8.expand){a9.push(a8)}}}a9=a9.concat(a3);return{root:ba,expanded:a9}}function r(a5,a1,a6){var a3="";a5=a5||[];var a7=y(a5);var bb=a7.root;var a9=aG(bb);var a4=[];a7=a7.expanded;var a2=a7.length;var bc=0;var a8;var ba=[];if(a9.length>1||a1.length>1){a4.push(aO(a9,a1));for(;bc<a2;bc++){a8=t(a7[bc].name,a6);ba=N(a8,a9);a4.push(aO(ba,a1))}a3+=a4.join(",")}else{for(;bc<a2;bc++){a8=t(a7[bc].name,a6);ba.push(a8[0])}a3+=a9.concat(ba).join(",")}return a3}var ax={contains:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}") > 0',doesnotcontain:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}") = 0',startswith:', Left({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"',endswith:', Right({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"',eq:', {0}.CurrentMember.MEMBER_CAPTION = "{1}"',neq:', NOT {0}.CurrentMember.MEMBER_CAPTION = "{1}"'};function B(a5){var a4="";var a2=a5.value;var a3=a5.field;var a1=a5.operator;if(a1=="in"){a4+="{";a4+=a2;a4+="}"}else{a4+="Filter(";a4+=a3+".MEMBERS";a4+=v.format(ax[a1],a3,a2);a4+=")"}return a4}function az(a3,a2){var a7="",a6;var a5=a3.filters;var a4=a5.length;var a1;for(a1=a4-1;a1>=0;a1--){a6="SELECT (";a6+=B(a5[a1]);a6+=") ON 0";if(a1==a4-1){a6+=" FROM ["+a2+"]";a7=a6}else{a7=a6+" FROM ( "+a7+" )"}}return a7}function ay(a2,a3,a5){var a1="";if(a3){a1+="<"+a2+">";var a6;for(var a4 in a3){a6=a3[a4];if(a5){a4=a4.replace(/([A-Z]+(?=$|[A-Z][a-z])|[A-Z]?[a-z]+)/g,"$1_").toUpperCase().replace(/_$/,"")}a1+="<"+a4+">"+a6+"</"+a4+">"}a1+="</"+a2+">"}else{a1+="<"+a2+"/>"}return a1}var m={schemaCubes:"MDSCHEMA_CUBES",schemaCatalogs:"DBSCHEMA_CATALOGS",schemaMeasures:"MDSCHEMA_MEASURES",schemaDimensions:"MDSCHEMA_DIMENSIONS",schemaHierarchies:"MDSCHEMA_HIERARCHIES",schemaLevels:"MDSCHEMA_LEVELS",schemaMembers:"MDSCHEMA_MEMBERS",schemaKPIs:"MDSCHEMA_KPIS"};var ar={read:function(a2,a5){var a8='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Execute xmlns="urn:schemas-microsoft-com:xml-analysis"><Command><Statement>';a8+="SELECT NON EMPTY {";var a4=a2.columns||[];var a6=a2.rows||[];var a7=a2.measures||[];var a1=a2.measuresAxis==="rows";var a3=a2.sort||[];if(!a4.length&&a6.length&&(!a7.length||(a7.length&&a1))){a4=a6;a6=[];a1=false}if(!a4.length&&!a6.length){a1=false}if(a4.length){a8+=r(a4,!a1?a7:[],a3)}else{if(a7.length&&!a1){a8+=ao(a7).join(",")}}a8+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON COLUMNS";if(a6.length||(a1&&a7.length>1)){a8+=", NON EMPTY {";if(a6.length){a8+=r(a6,a1?a7:[],a3)}else{a8+=ao(a7).join(",")}a8+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON ROWS"}if(a2.filter){a8+=" FROM ";a8+="(";a8+=az(a2.filter,a2.connection.cube);a8+=")"}else{a8+=" FROM ["+a2.connection.cube+"]"}if(a7.length==1&&a4.length){a8+=" WHERE ("+ao(a7).join(",")+")"}a8+="</Statement></Command><Properties><PropertyList><Catalog>"+a2.connection.catalog+"</Catalog><Format>Multidimensional</Format></PropertyList></Properties></Execute></Body></Envelope>";return a8.replace(/\&/g,"&amp;")},discover:function(a1,a2){a1=a1||{};var a3='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Discover xmlns="urn:schemas-microsoft-com:xml-analysis">';a3+="<RequestType>"+(m[a1.command]||a1.command)+"</RequestType>";a3+="<Restrictions>"+ay("RestrictionList",a1.restrictions,true)+"</Restrictions>";if(a1.connection&&a1.connection.catalog){a1.properties=aH.extend({},{Catalog:a1.connection.catalog},a1.properties)}a3+="<Properties>"+ay("PropertyList",a1.properties)+"</Properties>";a3+="</Discover></Body></Envelope>";return a3}};var X=v.data.RemoteTransport.extend({init:function(a1){var a2=a1;a1=this.options=ap(true,{},this.options,a1);v.data.RemoteTransport.call(this,a1);if(aI(a2.discover)){this.discover=a2.discover}else{if(typeof a2.discover==="string"){this.options.discover={url:a2.discover}}else{if(!a2.discover){this.options.discover=this.options.read}}}},setup:function(a1,a2){a1.data=a1.data||{};aH.extend(true,a1.data,{connection:this.options.connection});return v.data.RemoteTransport.fn.setup.call(this,a1,a2)},options:{read:{dataType:"text",contentType:"text/xml",type:"POST"},discover:{dataType:"text",contentType:"text/xml",type:"POST"},parameterMap:function(a1,a2){return ar[a2](a1,a2)}},discover:function(a1){return aH.ajax(this.setup(a1,"discover"))}});function O(a1){if(a1==null){return[]}var a2=av.call(a1);if(a2!=="[object Array]"){return[a1]}return a1}function d(a3){var be={tuples:[]};var a8=O(v.getter("Tuples.Tuple",true)(a3));var a1=v.getter("Caption['#text']");var a9=v.getter("UName['#text']");var bd=v.getter("LName['#text']");var ba=v.getter("LNum['#text']");var bc=v.getter("CHILDREN_CARDINALITY['#text']",true);var a6=v.getter("['@Hierarchy']");var a2=v.getter("PARENT_UNIQUE_NAME['#text']",true);for(var bb=0;bb<a8.length;bb++){var a4=[];var a5=O(a8[bb].Member);for(var a7=0;a7<a5.length;a7++){a4.push({children:[],caption:a1(a5[a7]),name:a9(a5[a7]),levelName:bd(a5[a7]),levelNum:ba(a5[a7]),hasChildren:parseInt(bc(a5[a7]),10)>0,parentName:a2(a5[a7]),hierarchy:a6(a5[a7])})}be.tuples.push({members:a4})}return be}var D={cubes:{name:v.getter("CUBE_NAME['#text']",true),caption:v.getter("CUBE_CAPTION['#text']",true),description:v.getter("DESCRIPTION['#text']",true),type:v.getter("CUBE_TYPE['#text']",true)},catalogs:{name:v.getter("CATALOG_NAME['#text']",true),description:v.getter("DESCRIPTION['#text']",true)},measures:{name:v.getter("MEASURE_NAME['#text']",true),caption:v.getter("MEASURE_CAPTION['#text']",true),uniqueName:v.getter("MEASURE_UNIQUE_NAME['#text']",true),description:v.getter("DESCRIPTION['#text']",true),aggregator:v.getter("MEASURE_AGGREGATOR['#text']",true),groupName:v.getter("MEASUREGROUP_NAME['#text']",true),displayFolder:v.getter("MEASURE_DISPLAY_FOLDER['#text']",true),defaultFormat:v.getter("DEFAULT_FORMAT_STRING['#text']",true)},kpis:{name:v.getter("KPI_NAME['#text']",true),caption:v.getter("KPI_CAPTION['#text']",true),value:v.getter("KPI_VALUE['#text']",true),goal:v.getter("KPI_GOAL['#text']",true),status:v.getter("KPI_STATUS['#text']",true),trend:v.getter("KPI_TREND['#text']",true),statusGraphic:v.getter("KPI_STATUS_GRAPHIC['#text']",true),trendGraphic:v.getter("KPI_TREND_GRAPHIC['#text']",true),description:v.getter("KPI_DESCRIPTION['#text']",true),groupName:v.getter("MEASUREGROUP_NAME['#text']",true)},dimensions:{name:v.getter("DIMENSION_NAME['#text']",true),caption:v.getter("DIMENSION_CAPTION['#text']",true),description:v.getter("DESCRIPTION['#text']",true),uniqueName:v.getter("DIMENSION_UNIQUE_NAME['#text']",true),defaultHierarchy:v.getter("DEFAULT_HIERARCHY['#text']",true),type:v.getter("DIMENSION_TYPE['#text']",true)},hierarchies:{name:v.getter("HIERARCHY_NAME['#text']",true),caption:v.getter("HIERARCHY_CAPTION['#text']",true),description:v.getter("DESCRIPTION['#text']",true),uniqueName:v.getter("HIERARCHY_UNIQUE_NAME['#text']",true),dimensionUniqueName:v.getter("DIMENSION_UNIQUE_NAME['#text']",true),displayFolder:v.getter("HIERARCHY_DISPLAY_FOLDER['#text']",true),origin:v.getter("HIERARCHY_ORIGIN['#text']",true),defaultMember:v.getter("DEFAULT_MEMBER['#text']",true)},levels:{name:v.getter("LEVEL_NAME['#text']",true),caption:v.getter("LEVEL_CAPTION['#text']",true),description:v.getter("DESCRIPTION['#text']",true),uniqueName:v.getter("LEVEL_UNIQUE_NAME['#text']",true),dimensionUniqueName:v.getter("DIMENSION_UNIQUE_NAME['#text']",true),displayFolder:v.getter("LEVEL_DISPLAY_FOLDER['#text']",true),orderingProperty:v.getter("LEVEL_ORDERING_PROPERTY['#text']",true),origin:v.getter("LEVEL_ORIGIN['#text']",true),hierarchyUniqueName:v.getter("HIERARCHY_UNIQUE_NAME['#text']",true)},members:{name:v.getter("MEMBER_NAME['#text']",true),caption:v.getter("MEMBER_CAPTION['#text']",true),uniqueName:v.getter("MEMBER_UNIQUE_NAME['#text']",true),dimensionUniqueName:v.getter("DIMENSION_UNIQUE_NAME['#text']",true),hierarchyUniqueName:v.getter("HIERARCHY_UNIQUE_NAME['#text']",true),levelUniqueName:v.getter("LEVEL_UNIQUE_NAME['#text']",true),childrenCardinality:v.getter("CHILDREN_CARDINALITY['#text']",true)}};var W=["axes","catalogs","cubes","dimensions","hierarchies","levels","measures"];var c=v.data.XmlDataReader.extend({init:function(a1){v.data.XmlDataReader.call(this,a1);this._extend(a1)},_extend:function(a3){var a1=0;var a5=W.length;var a2;var a4;for(;a1<a5;a1++){a2=W[a1];a4=a3[a2];if(a4&&a4!==Y){this[a2]=a4}}},parse:function(a2){var a1=v.data.XmlDataReader.fn.parse(a2.replace(/<(\/?)(\w|-)+:/g,"<$1"));return v.getter("['Envelope']['Body']",true)(a1)},errors:function(a1){var a2=v.getter("['Fault']",true)(a1);if(a2){return[{faultstring:v.getter("faultstring['#text']",true)(a2),faultcode:v.getter("faultcode['#text']",true)(a2)}]}return null},axes:function(a1){a1=v.getter('ExecuteResponse["return"].root',true)(a1);var a4=O(v.getter("Axes.Axis",true)(a1));var a2=d(a4[0]);var a3={};if(a4.length>2){a3=d(a4[1])}return{columns:a2,rows:a3}},data:function(a6){a6=v.getter('ExecuteResponse["return"].root',true)(a6);var a7=O(v.getter("CellData.Cell",true)(a6));var a3=[];var a5=v.getter("['@CellOrdinal']");var a2=v.getter("Value['#text']");var a4=v.getter("FmtValue['#text']");for(var a1=0;a1<a7.length;a1++){a3.push({value:a2(a7[a1]),fmtValue:a4(a7[a1]),ordinal:parseInt(a5(a7[a1]),10)})}return a3},_mapSchema:function(a3,a5){a3=v.getter('DiscoverResponse["return"].root',true)(a3);var a6=O(v.getter("row",true)(a3));var a2=[];for(var a1=0;a1<a6.length;a1++){var a7={};for(var a4 in a5){a7[a4]=a5[a4](a6[a1])}a2.push(a7)}return a2},measures:function(a1){return this._mapSchema(a1,D.measures)},kpis:function(a1){return this._mapSchema(a1,D.kpis)},hierarchies:function(a1){return this._mapSchema(a1,D.hierarchies)},levels:function(a1){return this._mapSchema(a1,D.levels)},dimensions:function(a1){return this._mapSchema(a1,D.dimensions)},cubes:function(a1){return this._mapSchema(a1,D.cubes)},catalogs:function(a1){return this._mapSchema(a1,D.catalogs)},members:function(a1){return this._mapSchema(a1,D.members)}});ap(true,v.data,{PivotDataSource:am,XmlaTransport:X,XmlaDataReader:c,PivotCubeBuilder:aJ,transports:{xmla:X},readers:{xmla:c}});var g=function(a4,a2){if(!a4){return null}for(var a1=0,a3=a4.length;a1<a3;a1++){if(a4[a1].field===a2){return a4[a1]}}return null};var I=function(a5,a3){var a2=[];for(var a1=0,a4=a5.length;a1<a4;a1++){if(a5[a1].field!==a3){a2.push(a5[a1])}}return a2};v.ui.PivotSettingTarget=o.extend({init:function(a2,a1){var a3=this;o.fn.init.call(a3,a2,a1);a3.element.addClass("k-pivot-setting");a3.dataSource=v.data.PivotDataSource.create(a1.dataSource);a3._refreshHandler=aH.proxy(a3.refresh,a3);a3.dataSource.first(J,a3._refreshHandler);if(!a1.template){a3.options.template="<div data-"+v.ns+'name="${data.name || data}">${data.name || data}'+(a3.options.enabled?'<a class="k-button k-button-icon k-button-bare"><span class="k-icon k-setting-delete"></span></a>':"")+"</div>"}a3.template=v.template(a3.options.template);a3.emptyTemplate=v.template(a3.options.emptyTemplate);a3._sortable();a3.element.on("click"+aP,".k-button,.k-item",function(a6){var a5=aH(a6.target);var a4=a5.closest("["+v.attr("name")+"]").attr(v.attr("name"));if(!a4){return}if(a5.hasClass("k-setting-delete")){a3.remove(a4)}else{if(a3.options.sortable&&a5[0]===a6.currentTarget){a3.sort({field:a4,dir:a5.find(".k-i-sort-asc")[0]?"desc":"asc"})}}});if(a1.filterable||a1.sortable){a3.fieldMenu=new U.PivotFieldMenu(a3.element,{messages:a3.options.messages.fieldMenu,filter:".k-setting-fieldmenu",filterable:a1.filterable,sortable:a1.sortable,dataSource:a3.dataSource})}a3.refresh()},options:{name:"PivotSettingTarget",template:null,filterable:false,sortable:false,emptyTemplate:"<div class='k-empty'>${data}</div>",setting:"columns",enabled:true,messages:{empty:"Drop Fields Here"}},setDataSource:function(a1){this.dataSource.unbind(J,this._refreshHandler);this.dataSource=this.options.dataSource=a1;if(this.fieldMenu){this.fieldMenu.setDataSource(a1)}a1.first(J,this._refreshHandler);this.refresh()},_sortable:function(){var a1=this;if(a1.options.enabled){this.sortable=this.element.kendoSortable({connectWith:this.options.connectWith,filter:">:not(.k-empty)",hint:a1.options.hint,cursor:"move",start:function(a2){a2.item.focus().blur()},change:function(a3){var a2=a3.item.attr(v.attr("name"));if(a3.action=="receive"){a1.add(a2)}else{if(a3.action=="remove"){a1.remove(a2)}else{if(a3.action=="sort"){a1.move(a2,a3.newIndex)}}}}}).data("kendoSortable")}},_indexOf:function(a4,a2){var a1,a5,a3=-1;for(a1=0,a5=a2.length;a1<a5;a1++){if(K(a2[a1])===a4){a3=a1;break}}return a3},_isKPI:function(a1){return a1.type==="kpi"||a1.measure},validate:function(a3){var a4=(a3.type==2||"aggregator" in a3||this._isKPI(a3));if(a4){return this.options.setting==="measures"}if(this.options.setting==="measures"){return a4}var a1=this.dataSource[this.options.setting]();var a2=a3.defaultHierarchy||a3.uniqueName;if(this._indexOf(a2,a1)>-1){return false}a1=this.dataSource[this.options.setting==="columns"?"rows":"columns"]();if(this._indexOf(a2,a1)>-1){return false}return true},add:function(a4){var a3=this.dataSource[this.options.setting]();var a5,a2;var a1;a4=aH.isArray(a4)?a4.slice(0):[a4];for(a5=0,a2=a4.length;a5<a2;a5++){if(this._indexOf(a4[a5],a3)!==-1){a4.splice(a5,1);a5-=1;a2-=1}}if(a4.length){a3=a3.concat(a4);this.dataSource[this.options.setting](a3)}},move:function(a4,a3){var a2=this.dataSource[this.options.setting]();var a1=this._indexOf(a4,a2);if(a1>-1){a4=a2.splice(a1,1)[0];a2.splice(a3,0,a4);this.dataSource[this.options.setting](a2)}},remove:function(a3){var a2=this.dataSource[this.options.setting]();var a1=this._indexOf(a3,a2);if(a1>-1){a2.splice(a1,1);this.dataSource[this.options.setting](a2)}},sort:function(a5){var a6=this.options.sortable;var a2=a6===true||a6.allowUnsort;var a4=a2&&a5.dir==="asc";var a3=(this.dataSource.sort()||[]);var a1=I(a3,a5.field);if(a4&&a3.length!==a1.length){a5=null}if(a5){a1.push(a5)}this.dataSource.sort(a1)},refresh:function(){var a3="";var a2=this.dataSource[this.options.setting]();var a5=a2.length;var a1=0;var a4;if(a5){for(;a1<a5;a1++){a4=a2[a1];a4=a4.name===z?{name:a4}:a4;a3+=this.template(ap({sortIcon:this._sortIcon(a4.name)},a4))}}else{a3=this.emptyTemplate(this.options.messages.empty)}this.element.html(a3)},destroy:function(){o.fn.destroy.call(this);this.dataSource.unbind(J,this._refreshHandler);this.element.off(aP);if(this.sortable){this.sortable.destroy()}if(this.fieldMenu){this.fieldMenu.destroy()}this.element=null;this._refreshHandler=null},_sortIcon:function(a1){var a3=this.dataSource.sort();var a4=g(a3,K(a1));var a2="";if(a4){a2="k-i-sort-"+a4.dir}return a2}});var ag=o.extend({init:function(a3,a1){var a4=this;var a5;var a2;o.fn.init.call(a4,a3,a1);a4._dataSource();a4._bindConfigurator();a4._wrapper();a4._createLayout();a4._columnBuilder=a5=new an();a4._rowBuilder=a2=new E();a4._contentBuilder=new at();a4._templates();a4.columnsHeader.add(a4.rowsHeader).on("click","span.k-icon",function(){var a9=aH(this);var ba=a5;var a7="expandColumn";var bb;var be=a9.attr(v.attr("path"));var a6={axis:"columns",path:aH.parseJSON(be)};if(a9.parent().is("td")){ba=a2;a7="expandRow";a6.axis="rows"}var bc=a9.hasClass(aN);var bd=ba.metadata[be];var a8=bd.expanded===z;bb=bc?ai:au;if(a4.trigger(bb,a6)){return}ba.metadata[be].expanded=!bc;a9.toggleClass(aN,!bc).toggleClass(x,bc);if(!bc&&a8){a4.dataSource[a7](a6.path)}else{a4.refresh()}});a4._scrollable();if(a4.options.autoBind){a4.dataSource.fetch()}v.notify(a4)},events:[F,C,au,ai],options:{name:"PivotGrid",autoBind:true,reorderable:true,filterable:false,sortable:false,height:null,columnWidth:100,configurator:"",columnHeaderTemplate:null,rowHeaderTemplate:null,dataCellTemplate:null,kpiStatusTemplate:null,kpiTrendTemplate:null,messages:{measureFields:"Drop Data Fields Here",columnFields:"Drop Column Fields Here",rowFields:"Drop Rows Fields Here"}},_templates:function(){var a2=this.options.columnHeaderTemplate;var a5=this.options.rowHeaderTemplate;var a1=this.options.dataCellTemplate;var a3=this.options.kpiStatusTemplate;var a4=this.options.kpiTrendTemplate;this._columnBuilder.template=v.template(a2||ak,{useWithBlock:!!a2});this._contentBuilder.dataTemplate=v.template(a1||aq,{useWithBlock:!!a1});this._contentBuilder.kpiStatusTemplate=v.template(a3||n,{useWithBlock:!!a3});this._contentBuilder.kpiTrendTemplate=v.template(a4||aT,{useWithBlock:!!a4});this._rowBuilder.template=v.template(a5||ak,{useWithBlock:!!a5})},_bindConfigurator:function(){var a1=this.options.configurator;if(a1){aH(a1).kendoPivotConfigurator("setDataSource",this.dataSource)}},cellInfoByElement:function(a1){a1=aH(a1);return this.cellInfo(a1.index(),a1.parent("tr").index())},cellInfo:function(a2,a6){var a3=this._contentBuilder;var a4=a3.columnIndexes[a2||0];var a5=a3.rowIndexes[a6||0];var a1;if(!a4||!a5){return null}a1=(a5.index*a3.rowLength)+a4.index;return{columnTuple:a4.tuple,rowTuple:a5.tuple,measure:a4.measure||a5.measure,dataItem:this.dataSource.view()[a1]}},setDataSource:function(a1){this.options.dataSource=a1;this._dataSource();if(this.measuresTarget){this.measuresTarget.setDataSource(a1)}if(this.rowsTarget){this.rowsTarget.setDataSource(a1)}if(this.columnsTarget){this.columnsTarget.setDataSource(a1)}this._bindConfigurator();if(this.options.autoBind){a1.fetch()}},setOptions:function(a1){o.fn.setOptions.call(this,a1);this._templates()},_dataSource:function(){var a1=this;var a2=a1.options.dataSource;a2=aH.isArray(a2)?{data:a2}:a2;if(a1.dataSource&&this._refreshHandler){a1.dataSource.unbind(J,a1._refreshHandler).unbind(T,a1._stateResetHandler).unbind(aE,a1._progressHandler).unbind(G,a1._errorHandler)}else{a1._refreshHandler=aH.proxy(a1.refresh,a1);a1._progressHandler=aH.proxy(a1._requestStart,a1);a1._stateResetHandler=aH.proxy(a1._stateReset,a1);a1._errorHandler=aH.proxy(a1._error,a1)}a1.dataSource=v.data.PivotDataSource.create(a2).bind(J,a1._refreshHandler).bind(aE,a1._progressHandler).bind(T,a1._stateResetHandler).bind(G,a1._errorHandler)},_error:function(){this._progress(false)},_requestStart:function(){this._progress(true)},_stateReset:function(){this._columnBuilder.reset();this._rowBuilder.reset()},_wrapper:function(){var a1=this.options.height;this.wrapper=this.element.addClass("k-widget k-pivot");if(a1){this.wrapper.css("height",a1)}},_measureFields:function(){this.measureFields=aH(ah).addClass("k-pivot-toolbar k-header k-settings-measures");this.measuresTarget=this._createSettingTarget(this.measureFields,{setting:"measures",messages:{empty:this.options.messages.measureFields}})},_createSettingTarget:function(a3,a1){var a4='<span tabindex="0" class="k-button" data-'+v.ns+'name="${data.name}">${data.name}';var a5=a1.sortable;var a2="";if(a5){a2+="#if (data.sortIcon) {#";a2+='<span class="k-icon ${data.sortIcon} k-setting-sort"></span>';a2+="#}#"}if(a1.filterable||a5){a2+='<span class="k-icon k-i-arrowhead-s k-setting-fieldmenu"></span>'}if(this.options.reorderable){a2+='<span class="k-icon k-si-close k-setting-delete"></span>'}if(a2){a4+='<span class="k-field-actions">'+a2+"</span>"}a4+="</span>";return new v.ui.PivotSettingTarget(a3,aH.extend({template:a4,emptyTemplate:'<span class="k-empty">${data}</span>',enabled:this.options.reorderable,dataSource:this.dataSource},a1))},_initSettingTargets:function(){this.columnsTarget=this._createSettingTarget(this.columnFields,{connectWith:this.rowFields,setting:"columns",filterable:this.options.filterable,sortable:this.options.sortable,messages:{empty:this.options.messages.columnFields,fieldMenu:this.options.messages.fieldMenu}});this.rowsTarget=this._createSettingTarget(this.rowFields,{connectWith:this.columnFields,setting:"rows",filterable:this.options.filterable,sortable:this.options.sortable,messages:{empty:this.options.messages.rowFields,fieldMenu:this.options.messages.fieldMenu}})},_createLayout:function(){var a5=this;var a2=aH(ad);var a4=a2.find(".k-pivot-rowheaders");var a1=a2.find(".k-pivot-table");var a3=aH(ah).addClass("k-grid k-widget");a5._measureFields();a5.columnFields=aH(ah).addClass("k-pivot-toolbar k-header k-settings-columns");a5.rowFields=aH(ah).addClass("k-pivot-toolbar k-header k-settings-rows");a5.columnsHeader=aH('<div class="k-grid-header-wrap" />').wrap('<div class="k-grid-header" />');a5.columnsHeader.parent().css("padding-right",v.support.scrollbar());a5.rowsHeader=aH('<div class="k-grid k-widget k-alt"/>');a5.content=aH('<div class="k-grid-content" />');a4.append(a5.measureFields);a4.append(a5.rowFields);a4.append(a5.rowsHeader);a3.append(a5.columnsHeader.parent());a3.append(a5.content);a1.append(a5.columnFields);a1.append(a3);a5.wrapper.append(a2);a5.columnsHeaderTree=new v.dom.Tree(a5.columnsHeader[0]);a5.rowsHeaderTree=new v.dom.Tree(a5.rowsHeader[0]);a5.contentTree=new v.dom.Tree(a5.content[0]);a5._initSettingTargets()},_progress:function(a1){v.ui.progress(this.wrapper,a1)},_resize:function(){var a2=this.columnsHeader.children("table");var a1=this.content.children("table");if(this.content[0].firstChild){this._setSectionsWidth();this._setSectionsHeight();this._setContentWidth();this._setContentHeight();a2.css("table-layout",aY);a1.css("table-layout",aY);clearTimeout(this._layoutTimeout);this._layoutTimeout=setTimeout(function(){a2.css("table-layout","fixed");a1.css("table-layout","fixed")})}},_setSectionsWidth:function(){var a3=this.rowsHeader;var a1=a3.parent(".k-pivot-rowheaders").width(aY);var a2;a2=Math.max(this.measureFields.outerWidth(),this.rowFields.outerWidth());a2=Math.max(a3.children("table").width(),a2);a1.width(a2)},_setSectionsHeight:function(){var a5=this.measureFields.height(aY).height();var a6=this.columnFields.height(aY).height();var a4=this.rowFields.height(aY).innerHeight();var a2=this.columnsHeader.height(aY).innerHeight();var a7=a4-this.rowFields.height();var a1=a6>a5?a6:a5;var a3=a2>a4?a2:a4;this.measureFields.height(a1);this.columnFields.height(a1);this.rowFields.height(a3-a7);this.columnsHeader.height(a3)},_setContentWidth:function(){var a4=this.content.find("table");var a3=this.content.width();var a2=a4.children("colgroup").children().length;var a5=100;var a1=a2*this.options.columnWidth;if(a3<a1){a5=Math.ceil((a1/a3)*100)}a4.add(this.columnsHeader.children("table")).css("width",a5+"%")},_setContentHeight:function(){var a4=this;var a3=a4.content;var a5=a4.rowsHeader;var a1=a4.wrapper.innerHeight();var a6=v.support.scrollbar();var a2=a3[0].offsetHeight===a3[0].clientHeight;if(a4.wrapper.is(":visible")){if(!a1){if(a2){a6=0}a5.height(a3.height()-a6);return}a1-=a4.columnFields.outerHeight();a1-=a4.columnsHeader.outerHeight();if(a1<=a6*2){a1=a6*2+1;if(!a2){a1+=a6}}a3.height(a1);if(a2){a6=0}a5.height(a1-a6)}},_axisMeasures:function(a3){var a2=[];var a5=this.dataSource;var a4=a5.measures();var a1=a4.length>1||(a4[0]&&a4[0].type);if(a5.measuresAxis()===a3){if(a5[a3]().length===0||a1){a2=a4}}return a2},refresh:function(){var a8=this;var a1=a8.dataSource;var a9=a1.axes();var a4=(a9.columns||{}).tuples||[];var ba=(a9.rows||{}).tuples||[];var a5=a8._columnBuilder;var a7=a8._rowBuilder;var a6={};var a3={};if(a8.trigger(F,{action:"rebind"})){return}a5.measures=this._axisMeasures("columns");a8.columnsHeaderTree.render(a5.build(a4));a8.rowsHeaderTree.render(a7.build(ba));a6={indexes:a5._indexes,measures:a5.measures,metadata:a5.metadata};a3={indexes:a7._indexes,measures:this._axisMeasures("rows"),metadata:a7.metadata};a8.contentTree.render(a8._contentBuilder.build(a1.view(),a6,a3));a8._resize();if(a8.touchScroller){a8.touchScroller.contentResized()}else{var a2=v.touchScroller(a8.content);if(a2&&a2.movable){a8.touchScroller=a2;a2.movable.bind("change",function(bb){a8.columnsHeader.scrollLeft(-bb.sender.x);a8.rowsHeader.scrollTop(-bb.sender.y)})}}a8._progress(false);a8.trigger(C)},_scrollable:function(){var a2=this;var a1=a2.columnsHeader;var a3=a2.rowsHeader;a2.content.scroll(function(){a1.scrollLeft(this.scrollLeft);a3.scrollTop(this.scrollTop)});a3.bind("DOMMouseScroll"+aP+" mousewheel"+aP,aH.proxy(a2._wheelScroll,a2))},_wheelScroll:function(a2){if(a2.ctrlKey){return}var a3=v.wheelDeltaY(a2);var a1=this.content.scrollTop();if(a3){a2.preventDefault();aH(a2.currentTarget).one("wheel"+aP,false);this.rowsHeader.scrollTop(a1+(-a3));this.content.scrollTop(a1+(-a3))}}});var aX=v.dom.element;var H=v.dom.html;var aD=v.dom.text;var aw=function(a1,a2){return{maxChildren:0,children:0,maxMembers:0,members:0,measures:1,levelNum:a1,parentMember:a2!==0}};var S=function(a2,a3){var a4=[];var a1=0;for(;a1<=a3;a1++){a4.push(a2.members[a1].name)}return a4};var Z=function(a2,a4){var a3="";var a1=0;for(;a1<=a4;a1++){a3+=a2.members[a1].name}return a3};var an=aM.extend({init:function(a1){this.measures=1;this.metadata={}},build:function(a3){var a2=this._tbody(a3);var a1=this._colGroup();return[aX("table",null,[a1,a2])]},reset:function(){this.metadata={}},_colGroup:function(){var a3=this._rowLength();var a2=[];var a1=0;for(;a1<a3;a1++){a2.push(aX("col",null))}return aX("colgroup",null,a2)},_tbody:function(a2){var a1=a2[0];this.map={};this.rows=[];this.rootTuple=a1;this._indexes=[];if(a1){this._buildRows(a1,0);this._normalize()}else{this.rows.push(aX("tr",null,[aX("th",null,[H("&nbsp;")])]))}return aX("tbody",null,this.rows)},_normalize:function(){var a7=this.rows;var a4=a7.length;var a6=0;var a8;var a2;var a5;var a3;var a1;for(;a6<a4;a6++){a8=a7[a6];if(a8.rowSpan===1){continue}a3=a8.children;a5=0;a2=a3.length;for(;a5<a2;a5++){a1=a3[a5];if(a1.tupleAll){a1.attr.rowSpan=a8.rowSpan}}}},_rowIndex:function(a4){var a3=this.rows;var a2=a3.length;var a1=0;for(;a1<a2;a1++){if(a3[a1]===a4){break}}return a1},_rowLength:function(){var a3=this.rows[0]?this.rows[0].children:[];var a4=a3.length;var a2=0;var a1=0;if(a4){for(;a1<a4;a1++){a2+=a3[a1].attr.colSpan||1}}if(!a2){a2=this.measures}return a2},_row:function(a8,a7,a3){var a1=this.rootTuple.members[a7].name;var a6=a8.members[a7].levelNum;var a5=a1+a6;var a2=this.map;var a9;var a4;var ba=a2[a5];if(!ba){ba=aX("tr",null,[]);ba.parentMember=a3;ba.colSpan=0;ba.rowSpan=1;a2[a5]=ba;a9=a2[a1+(Number(a6)-1)];if(a9){a4=a9.children;if(a4[1]&&a4[1].attr.className.indexOf("k-alt")===-1){ba.notFirst=true}else{ba.notFirst=a9.notFirst}}this.rows.splice(this._rowIndex(a9)+1,0,ba)}else{ba.notFirst=false;if(!ba.parentMember||ba.parentMember!==a3){ba.parentMember=a3;ba.colSpan=0}}return ba},_measures:function(a7,a2,a4){var a6=this.map;var a8=a6.measureRow;var a3;if(!a8){a8=aX("tr",null,[]);a6.measureRow=a8;this.rows.push(a8)}for(var a1=0,a5=a7.length;a1<a5;a1++){a3=a7[a1];a8.children.push(this._cell((a4||""),[this._content(a3,a2)],a3))}return a5},_content:function(a2,a1){return H(this.template({member:a2,tuple:a1}))},_cell:function(a3,a2,a4){var a1=aX("th",{className:"k-header"+a3},a2);a1.value=a4.caption||a4.name;return a1},_buildRows:function(bd,a9,bf){var bh=bd.members;var a2=bh[a9];var bb=bh[a9+1];var a6,bg,a5,a3;var a1,bi,a4;var a8=[];var be;var bc=0;var a7;var ba;if(a2.measure){this._measures(a2.children,bd);return}be=v.stringify(S(bd,a9));a6=this._row(bd,a9,bf);a5=a2.children;a3=a5.length;ba=this.metadata[be];if(!ba){this.metadata[be]=ba=aw(Number(a2.levelNum),a9)}this._indexes.push({path:be,tuple:bd});if(a2.hasChildren){if(ba.expanded===false){a3=0;ba.children=0}a4={className:"k-icon "+(a3?aN:x)};a4[v.attr("path")]=be;a8.push(aX("span",a4))}a8.push(this._content(a2,bd));a1=this._cell((a6.notFirst?" k-first":""),a8,a2);a6.children.push(a1);a6.colSpan+=1;if(a3){bi=this._cell(" k-alt",[this._content(a2,bd)],a2);a6.children.push(bi);for(;bc<a3;bc++){bg=this._buildRows(a5[bc],a9,a2)}a7=bg.colSpan;a1.attr.colSpan=a7;ba.children=a7;ba.members=1;a6.colSpan+=a7;a6.rowSpan=bg.rowSpan+1;if(bb){if(bb.measure){a7=this._measures(bb.children,bd," k-alt")}else{a7=this._buildRows(bd,a9+1).colSpan}bi.attr.colSpan=a7;a7-=1;ba.members+=a7;a6.colSpan+=a7}}else{if(bb){if(bb.measure){a7=this._measures(bb.children,bd)}else{a7=this._buildRows(bd,a9+1).colSpan}ba.members=a7;if(a7>1){a1.attr.colSpan=a7;a6.colSpan+=a7-1}}}if(ba.maxChildren<ba.children){ba.maxChildren=ba.children}if(ba.maxMembers<ba.members){ba.maxMembers=ba.members}(bi||a1).tupleAll=true;return a6}});var E=aM.extend({init:function(a1){this.metadata={}},build:function(a3){var a2=this._tbody(a3);var a1=this._colGroup();return[aX("table",null,[a1,a2])]},reset:function(){this.metadata={}},_rowLength:function(){var a3=this.rows[0].children;var a4=0;var a2=0;var a1=a3[a2];while(a1){a4+=(a1.attr.colSpan||1);a1=a3[++a2]}return a4},_colGroup:function(){var a3=this._rowLength();var a2=[];var a1=0;for(;a1<a3;a1++){a2.push(aX("col",null))}return aX("colgroup",null,a2)},_tbody:function(a2){var a1=a2[0];this.rootTuple=a1;this.rows=[];this.map={};this._indexes=[];if(a1){this._buildRows(a1,0);this._normalize()}else{this.rows.push(aX("tr",null,[aX("td",null,[H("&nbsp;")])]))}return aX("tbody",null,this.rows)},_normalize:function(){var bc=this.rows;var a4=bc.length;var a2=0;var a5=this.rootTuple.members;var a7=a5[0].name;var a6=a5.length;var a8=0;var bb;var ba;var a9;var a1=this.map;var a3;for(;a2<a4;a2++){bb=bc[a2];for(a8=0;a8<a6;a8++){a9=this[a5[a8].name];ba=bb.colSpan["dim"+a8];if(ba&&ba.levelNum<a9){ba.attr.colSpan=(a9-ba.levelNum)+1}}}bb=a1[a7];a3=a1[a7+"all"];if(bb){bb.children[0].attr.className="k-first"}if(a3){a3.children[0].attr.className+=" k-first"}},_row:function(a1){var a2=aX("tr",null,a1);a2.rowSpan=1;a2.colSpan={};this.rows.push(a2);return a2},_content:function(a2,a1){return H(this.template({member:a2,tuple:a1}))},_cell:function(a3,a2,a4){var a1=aX("td",{className:a3},a2);a1.value=a4.caption||a4.name;return a1},_buildRows:function(bf,ba){var bm=this.map;var bg;var bk=bf.members;var a2=bk[ba];var bd=bk[ba+1];var a7=a2.children;var a4=a7.length;var bn=Number(a2.levelNum)+1;var a6=this.rootTuple.members[ba].name;var bj=S(bf,ba-1).join("");var bh=bj+(a2.parentName||"");var a8=bm[bh+"all"]||bm[bh];var bi;var a5;var bc;var a3;var bb;var a9=[];var bl;var a1;var be;if(!a8||a8.hasChild){a8=this._row()}else{a8.hasChild=true}if(a2.measure){a3=a8.allCell?"k-grid-footer":"";a8.children.push(this._cell(a3,[this._content(a7[0],bf)],a7[0]));a8.rowSpan=a4;for(be=1;be<a4;be++){this._row([this._cell(a3,[this._content(a7[be],bf)],a7[be])])}return a8}bm[bj+a2.name]=a8;bg=v.stringify(S(bf,ba));bc=this.metadata[bg];if(!bc){this.metadata[bg]=bc=aw(bn-1,ba)}this._indexes.push({path:bg,tuple:bf});if(a2.hasChildren){if(bc.expanded===false){a4=0;bc.children=0}bb={className:"k-icon "+(a4?aN:x)};bb[v.attr("path")]=bg;a9.push(aX("span",bb))}a9.push(this._content(a2,bf));a3=a8.allCell&&!a4?"k-grid-footer":"";a1=this._cell(a3,a9,a2);a1.levelNum=bn;a8.children.push(a1);a8.colSpan["dim"+ba]=a1;if(!this[a6]||this[a6]<bn){this[a6]=bn}if(a4){a8.allCell=false;a8.hasChild=false;for(be=0;be<a4;be++){bi=this._buildRows(a7[be],ba);if(a8!==bi){a8.rowSpan+=bi.rowSpan}}if(a8.rowSpan>1){a1.attr.rowSpan=a8.rowSpan}bc.children=a8.rowSpan;bl=this._cell("k-grid-footer",[this._content(a2,bf)],a2);bl.levelNum=bn;a5=this._row([bl]);a5.colSpan["dim"+ba]=bl;a5.allCell=true;bm[bj+a2.name+"all"]=a5;if(bd){bi=this._buildRows(bf,ba+1);bl.attr.rowSpan=bi.rowSpan}a8.rowSpan+=a5.rowSpan;bc.members=a5.rowSpan}else{if(bd){a8.hasChild=false;this._buildRows(bf,ba+1);(bl||a1).attr.rowSpan=a8.rowSpan;bc.members=a8.rowSpan}}if(bc.maxChildren<bc.children){bc.maxChildren=bc.children}if(bc.maxMembers<bc.members){bc.maxMembers=bc.members}return a8}});var at=aM.extend({init:function(){this.columnAxis={};this.rowAxis={}},build:function(a7,a5,a6){var a3=a5.indexes[0];var a4=a5.metadata[a3?a3.path:z];this.columnAxis=a5;this.rowAxis=a6;this.data=a7;this.rowLength=a4?a4.maxChildren+a4.maxMembers:a5.measures.length||1;if(!this.rowLength){this.rowLength=1}var a2=this._tbody();var a1=this._colGroup();return[aX("table",null,[a1,a2])]},_colGroup:function(){var a3=this.columnAxis.measures.length||1;var a2=[];var a1=0;if(this.rows[0]){a3=this.rows[0].children.length}for(;a1<a3;a1++){a2.push(aX("col",null))}return aX("colgroup",null,a2)},_tbody:function(){this.rows=[];if(this.data[0]){this.columnIndexes=this._indexes(this.columnAxis);this.rowIndexes=this._indexes(this.rowAxis);this._buildRows()}else{this.rows.push(aX("tr",null,[aX("td",null,[H("&nbsp;")])]))}return aX("tbody",null,this.rows)},_indexes:function(a7){var bf=[];var a2;var ba=a7.indexes;var bc=a7.metadata;var a3=a7.measures;var a6=a3.length||1;var bb;var a9=0;var a1=0;var bd=0;var a5=ba.length;var be;var a4;var a8;if(!a5){for(be=0;be<a6;be++){bf[be]={index:be,measure:a3[be],tuple:null}}return bf}for(;bd<a5;bd++){a2=ba[bd];bb=bc[a2.path];a4=bb.children+bb.members;a8=0;if(a4){a4-=a6}if(bb.expanded===false&&bb.children!==bb.maxChildren){a8=bb.maxChildren}if(bb.parentMember&&bb.levelNum===0){a4=-1}if(a4>-1){for(be=0;be<a6;be++){bf[a4+a1+be]={children:a4,index:a9,measure:a3[be],tuple:a2.tuple};a9+=1}while(bf[a1]!==z){a1+=1}}a9+=a8}return bf},_buildRows:function(){var a3=this.rowIndexes;var a2=a3.length;var a1=0;for(;a1<a2;a1++){this.rows.push(this._buildRow(a3[a1]))}},_buildRow:function(a4){var ba=a4.index*this.rowLength;var a9=this.columnIndexes;var a6=a9.length;var a7;var bd=[];var bb=0;var a5;var bc,a2;var a8,a1,a3;for(;bb<a6;bb++){a7=a9[bb];a8={};if(a7.children){a8.className="k-alt"}a2="";a1=this.data[ba+a7.index];a3=a7.measure||a4.measure;a5={columnTuple:a7.tuple,rowTuple:a4.tuple,measure:a3,dataItem:a1};if(a1.value!==""&&a3&&a3.type){if(a3.type==="status"){a2=this.kpiStatusTemplate(a5)}else{if(a3.type==="trend"){a2=this.kpiTrendTemplate(a5)}}}if(!a2){a2=this.dataTemplate(a5)}bc=aX("td",a8,[H(a2)]);bc.value=a1.value;bd.push(bc)}a8={};if(a4.children){a8.className="k-grid-footer"}return aX("tr",a8,bd)}});U.plugin(ag);v.PivotExcelExporter=v.Class.extend({init:function(a1){this.options=a1;this.widget=a1.widget;this.dataSource=this.widget.dataSource},_columns:function(){var a7=this.widget.columnsHeaderTree.children[0];var a3=this.widget.rowsHeaderTree.children[0];var a6=a7.children[0].children.length;var a5=a3.children[0].children.length;var a4=this.widget.options.columnWidth;var a2=[];var a1;if(a5&&this.dataSource.data()[0]){for(a1=0;a1<a5;a1++){a2.push({autoWidth:true})}}for(a1=0;a1<a6;a1++){a2.push({autoWidth:false,width:a4})}return a2},_cells:function(ba,a4,a7){var bb=[];var a3=0;var a1=ba.length;var a5;var a9,a8;var a2,a6;for(;a3<a1;a3++){a9=[];a8=ba[a3].children;a5=a8.length;for(a2=0;a2<a5;a2++){a6=a8[a2];a9.push({background:"#7a7a7a",color:"#fff",value:a6.value,colSpan:a6.attr.colSpan||1,rowSpan:a6.attr.rowSpan||1})}if(a7){a7(a9,a3)}bb.push({cells:a9,type:a4})}return bb},_rows:function(){var a4=this.widget.columnsHeaderTree.children[0];var ba=this.widget.rowsHeaderTree.children[0];var a6=a4.children[0].children.length;var a9=ba.children[0].children.length;var a5=a4.children[1].children;var a2=ba.children[1].children;var a3=this.widget.contentTree.children[0].children[1].children;var a1=this._cells(a5,"header");if(a9){a1[0].cells.splice(0,0,{background:"#7a7a7a",color:"#fff",value:"",colSpan:a9,rowSpan:a5.length})}var a7=function(bg,be){var bd=0;var bb,bf;var bc=a3[be].children;for(;bd<a6;bd++){bb=bc[bd];bf=Number(bb.value);if(isNaN(bf)){bf=""}bg.push({background:"#dfdfdf",color:"#333",value:bf,colSpan:1,rowSpan:1})}};var a8=this._cells(a2,"data",a7);return a1.concat(a8)},_freezePane:function(){var a4=this.widget.columnsHeaderTree.children[0];var a1=this.widget.rowsHeaderTree.children[0];var a3=a1.children[0].children.length;var a2=a4.children[1].children;return{colSplit:a3,rowSplit:a2.length}},workbook:function(){var a1;if(this.dataSource.view()[0]){a1=aH.Deferred();a1.resolve()}else{a1=this.dataSource.fetch()}return a1.then(aH.proxy(function(){return{sheets:[{columns:this._columns(),rows:this._rows(),freezePane:this._freezePane(),filter:null}]}},this))}});var a0={extend:function(a1){a1.events.push("excelExport");a1.options.excel=aH.extend(a1.options.excel,this.options);a1.saveAsExcel=this.saveAsExcel},options:{proxyURL:"",filterable:false,fileName:"Export.xlsx"},saveAsExcel:function(){var a2=this.options.excel||{};var a1=new v.PivotExcelExporter({widget:this});a1.workbook().then(aH.proxy(function(a4){if(!this.trigger("excelExport",{workbook:a4})){var a3=new v.ooxml.Workbook(a4);v.saveAs({dataURI:a3.toDataURL(),fileName:a4.fileName||a2.fileName,proxyURL:a2.proxyURL,forceProxy:a2.forceProxy})}},this))}};v.PivotExcelMixin=a0;if(v.ooxml&&v.ooxml.Workbook){a0.extend(ag.prototype)}if(v.PDFMixin){v.PDFMixin.extend(ag.prototype);ag.fn._drawPDF=function(){return this._drawPDFShadow()}}})(window.kendo.jQuery);(function(A,p){var C=window.kendo,I=C.ui,V=C.data,m=A.extend,g=C.template,t=A.isArray,f=I.Widget,j=V.HierarchicalDataSource,P=A.proxy,w=C.keys,F=".kendoTreeView",r="select",x="check",i="navigate",E="expand",y="change",D="error",b="checked",H="indeterminate",u="collapse",M="dragstart",s="drag",N="drop",G="dragend",k="dataBound",K="click",h="visibility",B="undefined",e="k-state-hover",O="k-treeview",Y=":visible",X=".k-item",Q="string",l="aria-selected",q="aria-disabled",o,d,J,Z,v,R={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},T=function(aa){return(typeof HTMLElement==="object"?aa instanceof HTMLElement:aa&&typeof aa==="object"&&aa.nodeType===1&&typeof aa.nodeName===Q)};function c(aa){return function(ac){var ab=ac.children(".k-animation-container");if(!ab.length){ab=ac}return ab.children(aa)}}function z(aa){return C.template(aa,{useWithBlock:false})}d=c(".k-group");J=c(".k-group,.k-content");Z=function(aa){return aa.children("div").children(".k-icon")};function S(aa){return aa.find("> div .k-checkbox [type=checkbox]")}function n(aa){return function(ad,ac){ac=ac.closest(X);var ae=ac.parent(),ab;if(ae.parent().is("li")){ab=ae.parent()}return this._dataSourceMove(ad,ae,ab,function(ag,af){return this._insert(ag.data(),af,ac.index()+aa)})}}v=/k-sprite/;function U(ac,aa){var ab;while(ac&&ac.nodeName.toLowerCase()!="ul"){ab=ac;ac=ac.nextSibling;if(ab.nodeType==3){ab.nodeValue=A.trim(ab.nodeValue)}if(v.test(ab.className)){aa.insertBefore(ab,aa.firstChild)}else{aa.appendChild(ab)}}}function W(ab){var af=ab.children("div"),ae=ab.children("ul"),ad=af.children(".k-icon"),ac=ab.children(":checkbox"),aa=af.children(".k-in");if(ab.hasClass("k-treeview")){return}if(!af.length){af=A("<div />").prependTo(ab)}if(!ad.length&&ae.length){ad=A("<span class='k-icon' />").prependTo(af)}else{if(!ae.length||!ae.children().length){ad.remove();ae.remove()}}if(ac.length){A("<span class='k-checkbox' />").appendTo(af).append(ac)}if(!aa.length){aa=ab.children("a").eq(0).addClass("k-in");if(!aa.length){aa=A("<span class='k-in' />")}aa.appendTo(af);if(af.length){U(af[0].nextSibling,aa[0])}}}o=C.ui.DataBoundWidget.extend({init:function(ad,ab){var af=this,ae,ac=false,aa=ab&&!!ab.dataSource,ag;if(t(ab)){ae=true;ab={dataSource:ab}}if(ab&&typeof ab.loadOnDemand==B&&t(ab.dataSource)){ab.loadOnDemand=false}f.prototype.init.call(af,ad,ab);ad=af.element;ab=af.options;ag=(ad.is("ul")&&ad)||(ad.hasClass(O)&&ad.children("ul"));ac=!aa&&ag.length;if(ac){ab.dataSource.list=ag}af._animation();af._accessors();af._templates();if(!ad.hasClass(O)){af._wrapper();if(ag){af.root=ad;af._group(af.wrapper)}}else{af.wrapper=ad;af.root=ad.children("ul").eq(0)}af._tabindex();af.root.attr("role","tree");af._dataSource(ac);af._attachEvents();af._dragging();if(!ac){if(ab.autoBind){af._progress(true);af.dataSource.fetch()}}else{af._syncHtmlAndDataSource()}if(ab.checkboxes&&ab.checkboxes.checkChildren){af.updateIndeterminate()}if(af.element[0].id){af._ariaId=C.format("{0}_tv_active",af.element[0].id)}C.notify(af)},_attachEvents:function(){var ab=this,aa=".k-in:not(.k-state-selected,.k-state-disabled)",ac="mouseenter";ab.wrapper.on(ac+F,".k-in.k-state-selected",function(ad){ad.preventDefault()}).on(ac+F,aa,function(){A(this).addClass(e)}).on("mouseleave"+F,aa,function(){A(this).removeClass(e)}).on(K+F,aa,P(ab._click,ab)).on("dblclick"+F,".k-in:not(.k-state-disabled)",P(ab._toggleButtonClick,ab)).on(K+F,".k-plus,.k-minus",P(ab._toggleButtonClick,ab)).on("keydown"+F,P(ab._keydown,ab)).on("focus"+F,P(ab._focus,ab)).on("blur"+F,P(ab._blur,ab)).on("mousedown"+F,".k-in,.k-checkbox :checkbox,.k-plus,.k-minus",P(ab._mousedown,ab)).on("change"+F,".k-checkbox :checkbox",P(ab._checkboxChange,ab)).on("click"+F,".k-checkbox :checkbox",P(ab._checkboxClick,ab)).on("click"+F,".k-request-retry",P(ab._retryRequest,ab)).on("click"+F,function(ad){if(!A(ad.target).is(":kendoFocusable")){ab.focus()}})},_checkboxClick:function(ab){var aa=A(ab.target);if(aa.data(H)){aa.data(H,false).prop(H,false).prop(b,true);this._checkboxChange(ab)}},_syncHtmlAndDataSource:function(ah,ab){ah=ah||this.root;ab=ab||this.dataSource;var ac=ab.view();var ai=C.attr("uid");var af=C.attr("expanded");var ae=this.options.checkboxes;var ag=ah.children("li");var ad,aj,aa;for(ad=0;ad<ag.length;ad++){aa=ac[ad];aj=ag.eq(ad);aj.attr("role","treeitem").attr(ai,aa.uid);aa.expanded=aj.attr(af)==="true";if(ae){aa.checked=S(aj).prop(b)}this._syncHtmlAndDataSource(aj.children("ul"),aa.children)}},_animation:function(){var aa=this.options,ab=aa.animation;if(ab===false){ab={expand:{effects:{}},collapse:{hide:true,effects:{}}}}else{if(!ab.collapse||!("effects" in ab.collapse)){ab.collapse=m({reverse:true},ab.expand)}}m(ab.collapse,{hide:true});aa.animation=ab},_dragging:function(){var aa=this.options.dragAndDrop;var ab=this.dragging;if(aa&&!ab){this.dragging=new L(this)}else{if(!aa&&ab){ab.destroy();this.dragging=null}}},_templates:function(){var ac=this,ab=ac.options,aa=P(ac._fieldAccessor,ac);if(ab.template&&typeof ab.template==Q){ab.template=g(ab.template)}else{if(!ab.template){ab.template=z("# var text = "+aa("text")+"(data.item); ## if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {##= text ## } else { ##: text ## } #")}}ac._checkboxes();ac.templates={wrapperCssClass:function(ag,af){var ad="k-item",ae=af.index;if(ag.firstLevel&&ae===0){ad+=" k-first"}if(ae==ag.length-1){ad+=" k-last"}return ad},cssClass:function(ag,af){var ad="",ae=af.index,ah=ag.length-1;if(ag.firstLevel&&ae===0){ad+="k-top "}if(ae===0&&ae!=ah){ad+="k-top"}else{if(ae==ah){ad+="k-bot"}else{ad+="k-mid"}}return ad},textClass:function(ae){var ad="k-in";if(ae.enabled===false){ad+=" k-state-disabled"}if(ae.selected===true){ad+=" k-state-selected"}return ad},toggleButtonClass:function(ae){var ad="k-icon";if(ae.expanded!==true){ad+=" k-plus"}else{ad+=" k-minus"}if(ae.enabled===false){ad+="-disabled"}return ad},groupAttributes:function(ae){var ad="";if(!ae.firstLevel){ad="role='group'"}return ad+(ae.expanded!==true?" style='display:none'":"")},groupCssClass:function(ae){var ad="k-group";if(ae.firstLevel){ad+=" k-treeview-lines"}return ad},dragClue:z("<div class='k-header k-drag-clue'><span class='k-icon k-drag-status' />#= data.treeview.template(data) #</div>"),group:z("<ul class='#= data.r.groupCssClass(data.group) #'#= data.r.groupAttributes(data.group) #>#= data.renderItems(data) #</ul>"),itemContent:z("# var imageUrl = "+aa("imageUrl")+"(data.item); ## var spriteCssClass = "+aa("spriteCssClass")+"(data.item); ## if (imageUrl) { #<img class='k-image' alt='' src='#= imageUrl #'># } ## if (spriteCssClass) { #<span class='k-sprite #= spriteCssClass #' /># } ##= data.treeview.template(data) #"),itemElement:z("# var item = data.item, r = data.r; ## var url = "+aa("url")+"(item); #<div class='#= r.cssClass(data.group, item) #'># if (item.hasChildren) { #<span class='#= r.toggleButtonClass(item) #' role='presentation' /># } ## if (data.treeview.checkboxes) { #<span class='k-checkbox' role='presentation'>#= data.treeview.checkboxes.template(data) #</span># } ## var tag = url ? 'a' : 'span'; ## var textAttr = url ? ' href=\\'' + url + '\\'' : ''; #<#=tag#  class='#= r.textClass(item) #'#= textAttr #>#= r.itemContent(data) #</#=tag#></div>"),item:z("# var item = data.item, r = data.r; #<li role='treeitem' class='#= r.wrapperCssClass(data.group, item) #' "+C.attr("uid")+"='#= item.uid #' aria-selected='#= item.selected ? \"true\" : \"false \" #' #=item.enabled === false ? \"aria-disabled='true'\" : ''## if (item.expanded) { #data-expanded='true' aria-expanded='true'# } #>#= r.itemElement(data) #</li>"),loading:z("<div class='k-icon k-loading' /> #: data.messages.loading #"),retry:z("#: data.messages.requestFailed # <button class='k-button k-request-retry'>#: data.messages.retry #</button>")}},items:function(){return this.element.find(".k-item > div:first-child")},setDataSource:function(ab){var aa=this.options;aa.dataSource=ab;this._dataSource();this.dataSource.fetch();if(aa.checkboxes&&aa.checkboxes.checkChildren){this.updateIndeterminate()}},_bindDataSource:function(){this._refreshHandler=P(this.refresh,this);this._errorHandler=P(this._error,this);this.dataSource.bind(y,this._refreshHandler);this.dataSource.bind(D,this._errorHandler)},_unbindDataSource:function(){var aa=this.dataSource;if(aa){aa.unbind(y,this._refreshHandler);aa.unbind(D,this._errorHandler)}},_dataSource:function(ab){var ad=this,ac=ad.options,ae=ac.dataSource;function aa(ag){for(var af=0;af<ag.length;af++){ag[af]._initChildren();ag[af].children.fetch();aa(ag[af].children.view())}}ae=t(ae)?{data:ae}:ae;ad._unbindDataSource();if(!ae.fields){ae.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]}ad.dataSource=ae=j.create(ae);if(ab){ae.fetch();aa(ae.view())}ad._bindDataSource()},events:[M,s,N,G,k,E,u,r,y,i,x],options:{name:"TreeView",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:100}},messages:{loading:"Loading...",requestFailed:"Request failed.",retry:"Retry"},dragAndDrop:false,checkboxes:false,autoBind:true,loadOnDemand:true,template:"",dataTextField:null},_accessors:function(){var ae=this,ab=ae.options,ad,af,aa,ac=ae.element;for(ad in R){af=ab[R[ad]];aa=ac.attr(C.attr(ad+"-field"));if(!af&&aa){af=aa}if(!af){af=ad}if(!t(af)){af=[af]}ab[R[ad]]=af}},_fieldAccessor:function(ad){var ab=this.options[R[ad]],ac=ab.length,aa="(function(item) {";if(ac===0){aa+="return item['"+ad+"'];"}else{aa+="var levels = ["+A.map(ab,function(ae){return"function(d){ return "+C.expr(ae)+"}"}).join(",")+"];";aa+="return levels[Math.min(item.level(), "+ac+"-1)](item)"}aa+="})";return aa},setOptions:function(aa){f.fn.setOptions.call(this,aa);this._animation();this._dragging();this._templates()},_trigger:function(aa,ab){return this.trigger(aa,{node:ab.closest(X)[0]})},_setChecked:function(aa,ad){if(!aa||!A.isFunction(aa.view)){return}for(var ac=0,ab=aa.view();ac<ab.length;ac++){ab[ac][b]=ad;if(ab[ac].children){this._setChecked(ab[ac].children,ad)}}},_setIndeterminate:function(ad){var ae=d(ad),af,ac,ab=true,aa;if(!ae.length){return}af=S(ae.children());ac=af.length;if(!ac){return}else{if(ac>1){for(aa=1;aa<ac;aa++){if(af[aa].checked!=af[aa-1].checked||af[aa].indeterminate||af[aa-1].indeterminate){ab=false;break}}}else{ab=!af[0].indeterminate}}return S(ad).data(H,!ab).prop(H,!ab).prop(b,ab&&af[0].checked)},updateIndeterminate:function(ab){ab=ab||this.wrapper;var ad=d(ab).children();var aa;var ac;if(ad.length){for(aa=0;aa<ad.length;aa++){this.updateIndeterminate(ad.eq(aa))}ac=this._setIndeterminate(ab);if(ac&&ac.prop(b)){this.dataItem(ab).checked=true}}},_bubbleIndeterminate:function(ab){if(!ab.length){return}var aa=this.parent(ab),ac;if(aa.length){this._setIndeterminate(aa);ac=aa.children("div").find(".k-checkbox :checkbox");if(ac.prop(H)===false){this.dataItem(aa).set(b,ac.prop(b))}else{this.dataItem(aa).checked=false}this._bubbleIndeterminate(aa)}},_checkboxChange:function(ac){var ab=A(ac.target);var ad=ab.prop(b);var aa=ab.closest(X);this.dataItem(aa).set(b,ad);this._trigger(x,aa)},_toggleButtonClick:function(aa){this.toggle(A(aa.target).closest(X))},_mousedown:function(ab){var aa=A(ab.currentTarget).closest(X);this._clickTarget=aa;this.current(aa)},_focusable:function(aa){return aa&&aa.length&&aa.is(":visible")&&!aa.find(".k-in:first").hasClass("k-state-disabled")},_focus:function(){var ab=this.select(),aa=this._clickTarget;if(C.support.touch){return}if(aa&&aa.length){ab=aa}if(!this._focusable(ab)){ab=this.current()}if(!this._focusable(ab)){ab=this._nextVisible(A())}this.current(ab)},focus:function(){var af=this.wrapper,ab=af[0],ae=[],ac=[],ad=document.documentElement,aa;do{ab=ab.parentNode;if(ab.scrollHeight>ab.clientHeight){ae.push(ab);ac.push(ab.scrollTop)}}while(ab!=ad);af.focus();for(aa=0;aa<ae.length;aa++){ae[aa].scrollTop=ac[aa]}},_blur:function(){this.current().find(".k-in:first").removeClass("k-state-focused")},_enabled:function(aa){return !aa.children("div").children(".k-in").hasClass("k-state-disabled")},parent:function(ae){var ac=/\bk-treeview\b/,ad=/\bk-item\b/,aa,ab;if(typeof ae==Q){ae=this.element.find(ae)}if(!T(ae)){ae=ae[0]}ab=ad.test(ae.className);do{ae=ae.parentNode;if(ad.test(ae.className)){if(ab){aa=ae}else{ab=true}}}while(!ac.test(ae.className)&&!aa);return A(aa)},_nextVisible:function(ad){var ac=this,ab=ac._expanded(ad),aa;function ae(af){while(af.length&&!af.next().length){af=ac.parent(af)}if(af.next().length){return af.next()}else{return af}}if(!ad.length||!ad.is(":visible")){aa=ac.root.children().eq(0)}else{if(ab){aa=d(ad).children().first();if(!aa.length){aa=ae(ad)}}else{aa=ae(ad)}}if(!ac._enabled(aa)){aa=ac._nextVisible(aa)}return aa},_previousVisible:function(ad){var ac=this,ab,aa;if(!ad.length||ad.prev().length){if(ad.length){aa=ad.prev()}else{aa=ac.root.children().last()}while(ac._expanded(aa)){ab=d(aa).children().last();if(!ab.length){break}aa=ab}}else{aa=ac.parent(ad)||ad}if(!ac._enabled(aa)){aa=ac._previousVisible(aa)}return aa},_keydown:function(ah){var ac=this,ab=ah.keyCode,ag,af=ac.current(),aa=ac._expanded(af),ad=af.find(".k-checkbox:first :checkbox"),ae=C.support.isRtl(ac.element);if(ah.target!=ah.currentTarget){return}if((!ae&&ab==w.RIGHT)||(ae&&ab==w.LEFT)){if(aa){ag=ac._nextVisible(af)}else{ac.expand(af)}}else{if((!ae&&ab==w.LEFT)||(ae&&ab==w.RIGHT)){if(aa){ac.collapse(af)}else{ag=ac.parent(af);if(!ac._enabled(ag)){ag=p}}}else{if(ab==w.DOWN){ag=ac._nextVisible(af)}else{if(ab==w.UP){ag=ac._previousVisible(af)}else{if(ab==w.HOME){ag=ac._nextVisible(A())}else{if(ab==w.END){ag=ac._previousVisible(A())}else{if(ab==w.ENTER){if(!af.find(".k-in:first").hasClass("k-state-selected")){if(!ac._trigger(r,af)){ac.select(af)}}}else{if(ab==w.SPACEBAR&&ad.length){ad.prop(b,!ad.prop(b)).data(H,false).prop(H,false);ac._checkboxChange({target:ad});ag=af}}}}}}}}if(ag){ah.preventDefault();if(af[0]!=ag[0]){ac._trigger(i,ag);ac.current(ag)}}},_click:function(ae){var ad=this,ac=A(ae.currentTarget),ab=J(ac.closest(X)),aa=ac.attr("href"),af;if(aa){af=aa=="#"||aa.indexOf("#"+this.element.id+"-")>=0}else{af=ab.length&&!ab.children().length}if(af){ae.preventDefault()}if(!ac.hasClass(".k-state-selected")&&!ad._trigger(r,ac)){ad.select(ac)}},_wrapper:function(){var ad=this,ac=ad.element,ae,ab,aa="k-widget k-treeview";if(ac.is("ul")){ae=ac.wrap("<div />").parent();ab=ac}else{ae=ac;ab=ae.children("ul").eq(0)}ad.wrapper=ae.addClass(aa);ad.root=ab},_group:function(ac){var ab=this,ae=ac.hasClass(O),ad={firstLevel:ae,expanded:ae||ab._expanded(ac)},aa=ac.children("ul");aa.addClass(ab.templates.groupCssClass(ad)).css("display",ad.expanded?"":"none");ab._nodes(aa,ad)},_nodes:function(ad,ac){var ae=this,aa=ad.children("li"),ab;ac=m({length:aa.length},ac);aa.each(function(af,ag){ag=A(ag);ab={index:af,expanded:ae._expanded(ag)};W(ag);ae._updateNodeClasses(ag,ac,ab);ae._group(ag)})},_checkboxes:function(){var aa=this.options;var ac=aa.checkboxes;var ab;if(ac){ab="<input type='checkbox' #= (item.enabled === false) ? 'disabled' : '' # #= item.checked ? 'checked' : '' #";if(ac.name){ab+=" name='"+ac.name+"'"}ab+=" />";ac=m({template:ab},aa.checkboxes);if(typeof ac.template==Q){ac.template=g(ac.template)}aa.checkboxes=ac}},_updateNodeClasses:function(ad,ab,aa){var af=ad.children("div"),ae=ad.children("ul"),ac=this.templates;if(ad.hasClass("k-treeview")){return}aa=aa||{};aa.expanded=typeof aa.expanded!=B?aa.expanded:this._expanded(ad);aa.index=typeof aa.index!=B?aa.index:ad.index();aa.enabled=typeof aa.enabled!=B?aa.enabled:!af.children(".k-in").hasClass("k-state-disabled");ab=ab||{};ab.firstLevel=typeof ab.firstLevel!=B?ab.firstLevel:ad.parent().parent().hasClass(O);ab.length=typeof ab.length!=B?ab.length:ad.parent().children().length;ad.removeClass("k-first k-last").addClass(ac.wrapperCssClass(ab,aa));af.removeClass("k-top k-mid k-bot").addClass(ac.cssClass(ab,aa));af.children(".k-in").removeClass("k-in k-state-default k-state-disabled").addClass(ac.textClass(aa));if(ae.length||ad.attr("data-hasChildren")=="true"){af.children(".k-icon").removeClass("k-plus k-minus k-plus-disabled k-minus-disabled").addClass(ac.toggleButtonClass(aa));ae.addClass("k-group")}},_processNodes:function(aa,ac){var ab=this;ab.element.find(aa).each(function(ad,ae){ac.call(ab,ad,A(ae).closest(X))})},dataItem:function(ab){var aa=A(ab).closest(X).attr(C.attr("uid")),ac=this.dataSource;return ac&&ac.getByUid(aa)},_insertNode:function(aa,al,ai,aj,af){var ak=this,an=d(ai),am=an.children().length+1,ah,ae={firstLevel:ai.hasClass(O),expanded:!af,length:am},ad,ag,ao,ac="",ab=function(ap,aq){ap.appendTo(aq)};for(ag=0;ag<aa.length;ag++){ao=aa[ag];ao.index=al+ag;ac+=ak._renderItem({group:ae,item:ao})}ad=A(ac);if(!ad.length){return}ak.angular("compile",function(){return{elements:ad.get(),data:aa.map(function(ap){return{dataItem:ap}})}});if(!an.length){an=A(ak._renderGroup({group:ae})).appendTo(ai)}aj(ad,an);if(ai.hasClass("k-item")){W(ai);ak._updateNodeClasses(ai)}ak._updateNodeClasses(ad.prev().first());ak._updateNodeClasses(ad.next().last());for(ag=0;ag<aa.length;ag++){ao=aa[ag];if(ao.hasChildren){ah=ao.children.data();if(ah.length){ak._insertNode(ah,ao.index,ad.eq(ag),ab,!ak._expanded(ad.eq(ag)))}}}return ad},_updateNodes:function(ah,aj){var ag=this;var af,ac,ak,al,ad,ae;var ab={treeview:ag.options,item:al};function ai(am,an){am.find(".k-checkbox :checkbox").prop(b,an).data(H,false).prop(H,false)}if(aj=="selected"){al=ah[0];ac=ag.findByUid(al.uid).find(".k-in:first").removeClass("k-state-hover").toggleClass("k-state-selected",al[aj]).end();if(al[aj]){ag.current(ac)}ac.attr(l,!!al[aj])}else{var aa=A.map(ah,function(am){return ag.findByUid(am.uid).children("div")});ag.angular("cleanup",function(){return{elements:aa}});for(af=0;af<ah.length;af++){ab.item=al=ah[af];ak=aa[af];ac=ak.parent();if(aj!="expanded"&&aj!="checked"){ak.children(".k-in").html(ag.templates.itemContent(ab))}if(aj==b){ad=al[aj];ai(ak,ad);if(ag.options.checkboxes.checkChildren){ai(ac.children(".k-group"),ad);ag._setChecked(al.children,ad);ag._bubbleIndeterminate(ac)}}else{if(aj=="expanded"){ag._toggle(ac,al,al[aj])}else{if(aj=="enabled"){ac.find(".k-checkbox :checkbox").prop("disabled",!al[aj]);ae=!J(ac).is(Y);ac.removeAttr(q);if(!al[aj]){if(al.selected){al.set("selected",false)}if(al.expanded){al.set("expanded",false)}ae=true;ac.attr(l,false).attr(q,true)}ag._updateNodeClasses(ac,{},{enabled:al[aj],expanded:!ae})}}}if(ak.length){this.trigger("itemChange",{item:ak,data:al,ns:I})}}ag.angular("compile",function(){return{elements:aa,data:A.map(ah,function(am){return[{dataItem:am}]})}})}},_appendItems:function(ac,ab,aa){var ae=d(aa);var ad=ae.children();var af=!this._expanded(aa);if(typeof ac==B){ac=ad.length}this._insertNode(ab,ac,aa,function(ag,ah){if(ac>=ad.length){ag.appendTo(ah)}else{ag.insertBefore(ad.eq(ac))}},af);if(this._expanded(aa)){this._updateNodeClasses(aa);d(aa).css("display","block")}},_refreshChildren:function(af,ah,ag){var ae,ab,aa;var ai=this.options;var ad=ai.loadOnDemand;var ac=ai.checkboxes&&ai.checkboxes.checkChildren;d(af).empty();if(!ah.length){W(af)}else{this._appendItems(ag,ah,af);ab=d(af).children();if(ad&&ac){this._bubbleIndeterminate(ab.last())}for(ae=0;ae<ab.length;ae++){aa=ab.eq(ae);this.trigger("itemChange",{item:aa.children("div"),data:this.dataItem(aa),ns:I})}}},_refreshRoot:function(ab){var aa=this._renderGroup({items:ab,group:{firstLevel:true,expanded:true}});if(this.root.length){this._angularItems("cleanup");var ae=A(aa);this.root.attr("class",ae.attr("class")).html(ae.html())}else{this.root=this.wrapper.html(aa).children("ul")}this.root.attr("role","tree");for(var ac=0;ac<ab.length;ac++){var ad=this.root.children(".k-item");this.trigger("itemChange",{item:ad.eq(ac),data:ab[ac],ns:I})}this._angularItems("compile")},refresh:function(ag){var aa=ag.node;var ac=ag.action;var ah=ag.items;var af=this.wrapper;var aj=this.options;var ad=aj.loadOnDemand;var ab=aj.checkboxes&&aj.checkboxes.checkChildren;var ae;if(ag.field){if(!ah[0]||!ah[0].level){return}return this._updateNodes(ah,ag.field)}if(aa){af=this.findByUid(aa.uid);this._progress(af,false)}if(ab&&ac!="remove"){var ai=false;for(ae=0;ae<ah.length;ae++){if("checked" in ah[ae]){ai=true;break}}if(!ai&&aa&&aa.checked){for(ae=0;ae<ah.length;ae++){ah[ae].checked=true}}}if(ac=="add"){this._appendItems(ag.index,ah,af)}else{if(ac=="remove"){this._remove(this.findByUid(ah[0].uid),false)}else{if(ac=="itemchange"){this._updateNodes(ah)}else{if(ac=="itemloaded"){this._refreshChildren(af,ah,ag.index)}else{this._refreshRoot(ah)}}}}if(ac!="remove"){for(ae=0;ae<ah.length;ae++){if(!ad||ah[ae].expanded){ah[ae].load()}}}this.trigger(k,{node:aa?af:p})},_error:function(ac){var ab=ac.node&&this.findByUid(ac.node.uid);var aa=this.templates.retry({messages:this.options.messages});if(ab){this._progress(ab,false);this._expanded(ab,false);Z(ab).addClass("k-i-refresh");ac.node.loaded(false)}else{this._progress(false);this.element.html(aa)}},_retryRequest:function(aa){aa.preventDefault();this.dataSource.fetch()},expand:function(aa){this._processNodes(aa,function(ab,ac){this.toggle(ac,true)})},collapse:function(aa){this._processNodes(aa,function(ab,ac){this.toggle(ac,false)})},enable:function(aa,ab){ab=arguments.length==2?!!ab:true;this._processNodes(aa,function(ac,ad){this.dataItem(ad).set("enabled",ab)})},current:function(ac){var ab=this,ad=ab._current,aa=ab.element,ae=ab._ariaId;if(arguments.length>0&&ac&&ac.length){if(ad){if(ad[0].id===ae){ad.removeAttr("id")}ad.find(".k-in:first").removeClass("k-state-focused")}ad=ab._current=A(ac,aa).closest(X);ad.find(".k-in:first").addClass("k-state-focused");ae=ad[0].id||ae;if(ae){ab.wrapper.removeAttr("aria-activedescendant");ad.attr("id",ae);ab.wrapper.attr("aria-activedescendant",ae)}return}if(!ad){ad=ab._nextVisible(A())}return ad},select:function(ac){var ab=this,aa=ab.element;if(!arguments.length){return aa.find(".k-state-selected").closest(X)}ac=A(ac,aa).closest(X);aa.find(".k-state-selected").each(function(){var ad=ab.dataItem(this);if(ad){ad.set("selected",false);delete ad.selected}else{A(this).removeClass("k-state-selected")}});if(ac.length){ab.dataItem(ac).set("selected",true)}ab.trigger(y)},_toggle:function(af,ac,ad){var ab=this.options;var ae=J(af);var ah=ad?"expand":"collapse";var aa,ag;if(ae.data("animating")){return}if(!this._trigger(ah,af)){this._expanded(af,ad);aa=ac&&ac.loaded();ag=!ae.children().length;if(ad&&(!aa||ag)){if(ab.loadOnDemand){this._progress(af,true)}ae.remove();ac.load()}else{this._updateNodeClasses(af,{},{expanded:ad});if(!ad){ae.css("height",ae.height()).css("height")}ae.kendoStop(true,true).kendoAnimate(m({reset:true},ab.animation[ah],{complete:function(){if(ad){ae.css("height","")}}}))}}},toggle:function(ab,aa){ab=A(ab);if(!Z(ab).is(".k-minus,.k-plus,.k-minus-disabled,.k-plus-disabled")){return}if(arguments.length==1){aa=!this._expanded(ab)}this._expanded(ab,aa)},destroy:function(){var aa=this;f.fn.destroy.call(aa);aa.wrapper.off(F);aa._unbindDataSource();if(aa.dragging){aa.dragging.destroy()}C.destroy(aa.element);aa.root=aa.wrapper=aa.element=null},_expanded:function(ac,ad){var ab=C.attr("expanded"),aa=this.dataItem(ac);if(arguments.length==1){return ac.attr(ab)==="true"||(aa&&aa.expanded)}if(J(ac).data("animating")){return}if(aa){aa.set("expanded",ad);ad=aa.expanded}if(ad){ac.attr(ab,"true");ac.attr("aria-expanded","true")}else{ac.removeAttr(ab);ac.attr("aria-expanded","false")}},_progress:function(ac,ad){var ab=this.element;var aa=this.templates.loading({messages:this.options.messages});if(arguments.length==1){ad=ac;if(ad){ab.html(aa)}else{ab.empty()}}else{Z(ac).toggleClass("k-loading",ad).removeClass("k-i-refresh")}},text:function(ad,af){var ab=this.dataItem(ad),aa=this.options[R.text],ag=ab.level(),ac=aa.length,ae=aa[Math.min(ag,ac-1)];if(af){ab.set(ae,af)}else{return ab[ae]}},_objectOrSelf:function(aa){return A(aa).closest("[data-role=treeview]").data("kendoTreeView")||this},_dataSourceMove:function(af,ag,ac,ah){var ab,aa=this._objectOrSelf(ac||ag),ae=aa.dataSource;var ad=A.Deferred().resolve().promise();if(ac&&ac[0]!=aa.element[0]){ab=aa.dataItem(ac);if(!ab.loaded()){aa._progress(ac,true);ad=ab.load()}if(ac!=this.root){ae=ab.children;if(!ae||!(ae instanceof j)){ab._initChildren();ab.loaded(true);ae=ab.children}}}af=this._toObservableData(af);return ah.call(this,ae,af,ad)},_toObservableData:function(ac){var aa=ac,ad,ab;if(ac instanceof window.jQuery||T(ac)){ad=this._objectOrSelf(ac).dataSource;ab=A(ac).attr(C.attr("uid"));aa=ad.getByUid(ab);if(aa){aa=ad.remove(aa)}}return aa},_insert:function(ad,ac,ab){if(!(ac instanceof C.data.ObservableArray)){if(!t(ac)){ac=[ac]}}else{ac=ac.toJSON()}var aa=ad.parent();if(aa&&aa._initChildren){aa.hasChildren=true;aa._initChildren()}ad.splice.apply(ad,[ab,0].concat(ac));return this.findByUid(ad[ab].uid)},insertAfter:n(1),insertBefore:n(0),append:function(ab,aa,ae){var ac=this,ad=ac.root;if(aa){ad=d(aa)}return ac._dataSourceMove(ab,ad,aa,function(aj,ag,af){var ah;function ai(){if(aa){ac._expanded(aa,true)}var al=aj.data(),ak=Math.max(al.length,0);return ac._insert(al,ag,ak)}af.then(function(){ah=ai();ae=ae||A.noop;ae(ah)});return ah||null})},_remove:function(ad,af){var ac=this,aa,ab,ae;ad=A(ad,ac.element);this.angular("cleanup",function(){return{elements:ad.get()}});aa=ad.parent().parent();ab=ad.prev();ae=ad.next();ad[af?"detach":"remove"]();if(aa.hasClass("k-item")){W(aa);ac._updateNodeClasses(aa)}ac._updateNodeClasses(ab);ac._updateNodeClasses(ae);return ad},remove:function(ab){var aa=this.dataItem(ab);if(aa){this.dataSource.remove(aa)}},detach:function(aa){return this._remove(aa,true)},findByText:function(aa){return A(this.element).find(".k-in").filter(function(ac,ab){return A(ab).text()==aa}).closest(X)},findByUid:function(ad){var ab=this.element.find(".k-item");var ae=C.attr("uid");var aa;for(var ac=0;ac<ab.length;ac++){if(ab[ac].getAttribute(ae)==ad){aa=ab[ac];break}}return A(aa)},expandPath:function(ae,aa){ae=ae.slice(0);var ac=this;var af=this.dataSource;var ad=af.get(ae[0]);aa=aa||A.noop;function ab(aj,ah,ai){if(aj&&!aj.loaded()){aj.set("expanded",true)}else{ah.call(ai)}}while(ae.length>0&&ad&&(ad.expanded||ad.loaded())){ad.set("expanded",true);ae.shift();ad=af.get(ae[0])}if(!ae.length){return aa.call(ac)}af.bind("change",function ag(ai){var aj=ai.node&&ai.node.id;var ah;if(aj&&aj===ae[0]){ae.shift();if(ae.length){ah=af.get(ae[0]);ab(ah,aa,ac)}else{aa.call(ac)}}});ab(ad,aa,ac)},_parents:function(ac){var ab=ac&&ac.parentNode();var aa=[];while(ab&&ab.parentNode){aa.push(ab);ab=ab.parentNode()}return aa},expandTo:function(ac){if(!(ac instanceof C.data.Node)){ac=this.dataSource.get(ac)}var aa=this._parents(ac);for(var ab=0;ab<aa.length;ab++){aa[ab].set("expanded",true)}},_renderItem:function(aa){if(!aa.group){aa.group={}}aa.treeview=this.options;aa.r=this.templates;return this.templates.item(aa)},_renderGroup:function(aa){var ab=this;aa.renderItems=function(ae){var ag="",af=0,ad=ae.items,ac=ad?ad.length:0,ah=ae.group;ah.length=ac;for(;af<ac;af++){ae.group=ah;ae.item=ad[af];ae.item.index=af;ag+=ab._renderItem(ae)}return ag};aa.r=ab.templates;return ab.templates.group(aa)}});function L(aa){var ab=this;ab.treeview=aa;ab.hovered=aa.element;ab._draggable=new I.Draggable(aa.element,{filter:"div:not(.k-state-disabled) .k-in",hint:function(ac){return aa.templates.dragClue({item:aa.dataItem(ac),treeview:aa.options})},cursorOffset:{left:10,top:C.support.mobileOS?-40/C.support.zoomLevel():10},dragstart:P(ab.dragstart,ab),dragcancel:P(ab.dragcancel,ab),drag:P(ab.drag,ab),dragend:P(ab.dragend,ab),$angular:aa.options.$angular})}L.prototype={_removeTouchHover:function(){var aa=this;if(C.support.touch&&aa.hovered){aa.hovered.find("."+e).removeClass(e);aa.hovered=false}},_hintStatus:function(aa){var ab=this._draggable.hint.find(".k-drag-status")[0];if(aa){ab.className="k-icon k-drag-status "+aa}else{return A.trim(ab.className.replace(/k-(icon|drag-status)/g,""))}},dragstart:function(ad){var ac=this,ab=ac.treeview,aa=ac.sourceNode=ad.currentTarget.closest(X);if(ab.trigger(M,{sourceNode:aa[0]})){ad.preventDefault()}ac.dropHint=A("<div class='k-drop-hint' />").css(h,"hidden").appendTo(ab.element)},drag:function(al){var ai=this,ao=ai.treeview,ad=ai.sourceNode,aa=ai.dropTarget=A(C.eventTarget(al)),ag,ab=aa.closest(".k-treeview"),ak,af,ac,ap,aj,an,am,ah,ae;if(!ab.length){ag="k-denied";ai._removeTouchHover()}else{if(A.contains(ad[0],aa[0])){ag="k-denied"}else{ag="k-insert-middle";ak=aa.closest(".k-top,.k-mid,.k-bot");if(ak.length){ac=ak.outerHeight();ap=C.getOffset(ak).top;aj=aa.closest(".k-in");an=ac/(aj.length>0?4:2);am=al.y.location<(ap+an);ah=(ap+ac-an)<al.y.location;ai._removeTouchHover();ae=aj.length&&!am&&!ah;ai.hovered=ae?ab:false;ai.dropHint.css(h,ae?"hidden":"visible");aj.toggleClass(e,ae);if(ae){ag="k-add"}else{af=ak.position();af.top+=am?0:ac;ai.dropHint.css(af)[am?"prependTo":"appendTo"](aa.closest(X).children("div:first"));if(am&&ak.hasClass("k-top")){ag="k-insert-top"}if(ah&&ak.hasClass("k-bot")){ag="k-insert-bottom"}}}else{if(aa[0]!=ai.dropHint[0]){if(ab[0]!=ao.element[0]){ag="k-add"}else{ag="k-denied"}}}}}ao.trigger(s,{sourceNode:ad[0],dropTarget:aa[0],pageY:al.y.location,pageX:al.x.location,statusClass:ag.substring(2),setStatusClass:function(aq){ag=aq}});if(ag.indexOf("k-insert")!==0){ai.dropHint.css(h,"hidden")}ai._hintStatus(ag)},dragcancel:function(){this.dropHint.remove()},dragend:function(){var af=this,ai=af.treeview,aj="over",ac=af.sourceNode,ab,ah=af.dropHint,aa=af.dropTarget,ag,ae;if(ah.css(h)=="visible"){aj=ah.prevAll(".k-in").length>0?"after":"before";ab=ah.closest(X)}else{if(aa){ab=aa.closest(".k-treeview .k-item");if(!ab.length){ab=aa.closest(".k-treeview")}}}ag={sourceNode:ac[0],destinationNode:ab[0],valid:af._hintStatus()!="k-denied",setValid:function(ak){this.valid=ak},dropTarget:aa[0],dropPosition:aj};ae=ai.trigger(N,ag);ah.remove();af._removeTouchHover();if(!ag.valid||ae){af._draggable.dropped=ag.valid;return}af._draggable.dropped=true;function ad(ak){ai.updateIndeterminate();ai.trigger(G,{sourceNode:ak&&ak[0],destinationNode:ab[0],dropPosition:aj})}if(aj=="over"){ai.append(ac,ab,ad)}else{if(aj=="before"){ac=ai.insertBefore(ac,ab)}else{if(aj=="after"){ac=ai.insertAfter(ac,ab)}}ad(ac)}},destroy:function(){this._draggable.destroy()}};I.plugin(o)})(window.kendo.jQuery);(function(g,c){var h=window.kendo,k=h.ui,b="kendoContextMenu",i=g.proxy,d=".kendoPivotFieldMenu",l=k.Widget;var e=l.extend({init:function(s,r){l.fn.init.call(this,s,r);this._dataSource();this._layout();h.notify(this)},events:[],options:{name:"PivotFieldMenu",filter:null,filterable:true,sortable:true,messages:{info:"Show items with value that:",sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filterFields:"Fields Filter",filter:"Filter",include:"Include Fields...",title:"Fields to include",clear:"Clear",ok:"OK",cancel:"Cancel",operators:{contains:"Contains",doesnotcontain:"Does not contain",startswith:"Starts with",endswith:"Ends with",eq:"Is equal to",neq:"Is not equal to"}}},_layout:function(){var r=this.options;this.wrapper=g(h.template(o)({ns:h.ns,filterable:r.filterable,sortable:r.sortable,messages:r.messages}));this.menu=this.wrapper[b]({filter:r.filter,target:this.element,orientation:"vertical",showOn:"click",closeOnClick:false,open:i(this._menuOpen,this),select:i(this._select,this),copyAnchorStyles:false}).data(b);this._createWindow();if(r.filterable){this._initFilterForm()}},_initFilterForm:function(){var s=this.menu.element.find(".k-filter-item");var r=i(this._filter,this);this._filterOperator=new h.ui.DropDownList(s.find("select"));this._filterValue=s.find(".k-textbox");s.on("submit"+d,r).on("click"+d,".k-button-filter",r).on("click"+d,".k-button-clear",i(this._reset,this))},_setFilterForm:function(u){var r=this._filterOperator;var s="";var t="";if(u){s=u.operator;t=u.value}r.value(s);if(!r.value()){r.select(0)}this._filterValue.val(t)},_clearFilters:function(v){var s=this.dataSource.filter()||{};var u;var r=0;var t;s.filters=s.filters||[];u=m(s,v);for(t=u.length;r<t;r++){s.filters.splice(s.filters.indexOf(u[r]),1)}return s},_filter:function(u){var s=this;var t=s._filterValue.val();u.preventDefault();if(!t){s.menu.close();return}var v={field:s.currentMember,operator:s._filterOperator.value(),value:t};var r=s._clearFilters(s.currentMember);r.filters.push(v);s.dataSource.filter(r);s.menu.close()},_reset:function(t){var s=this;var r=s._clearFilters(s.currentMember);t.preventDefault();if(!r.filters[0]){r={}}s.dataSource.filter(r);s._setFilterForm(null);s.menu.close()},_sort:function(r){var t=this.currentMember;var s=(this.dataSource.sort()||[]);s=n(s,t);s.push({field:t,dir:r});this.dataSource.sort(s);this.menu.close()},setDataSource:function(r){this.options.dataSource=r;this._dataSource()},_dataSource:function(){this.dataSource=h.data.PivotDataSource.create(this.options.dataSource)},_createWindow:function(){var r=this.options.messages;this.includeWindow=g(h.template(f)({messages:r})).on("click"+d,".k-button-ok",i(this._applyIncludes,this)).on("click"+d,".k-button-cancel",i(this._closeWindow,this));this.includeWindow=new k.Window(this.includeWindow,{title:r.title,visible:false,resizable:false,open:i(this._windowOpen,this)})},_applyIncludes:function(x){var r=[];var v;var s=this.treeView.dataSource.view();var u=s[0].checked;var w=this.dataSource.filter();var t=m(w,this.currentMember,"in")[0];q(s,r);if(t){if(u){w.filters.splice(w.filters.indexOf(t),1);if(!w.filters.length){w={}}}else{t.value=r.join(",")}v=w}if(r.length){if(!v&&!u){v={field:this.currentMember,operator:"in",value:r.join(",")};if(w){w.filters.push(v);v=w}}}if(v){this.dataSource.filter(v)}this._closeWindow(x)},_closeWindow:function(r){r.preventDefault();this.includeWindow.close()},_treeViewDataSource:function(){var r=this;return h.data.HierarchicalDataSource.create({schema:{model:{id:"uniqueName",hasChildren:function(s){return parseInt(s.childrenCardinality,10)>0}}},transport:{read:function(t){var v={};var u=r.treeView.dataSource.get(t.data.uniqueName);var s=t.data.uniqueName;if(!s){v.levelUniqueName=r.currentMember+".[(ALL)]"}else{v.memberUniqueName=u.uniqueName.replace(/\&/g,"&amp;");v.treeOp=1}r.dataSource.schemaMembers(v).done(function(w){p(r.dataSource.filter(),r.currentMember,w);t.success(w)}).fail(t.error)}}})},_createTreeView:function(r){var s=this;s.treeView=new k.TreeView(r,{autoBind:false,dataSource:s._treeViewDataSource(),dataTextField:"caption",template:"#: data.item.caption || data.item.name #",checkboxes:{checkChildren:true},dataBound:function(){k.progress(s.includeWindow.element,false)}})},_menuOpen:function(s){if(!s.event){return}var r=h.attr("name");var t;this.currentMember=g(s.event.target).closest("["+r+"]").attr(r);if(this.options.filterable){this._setFilterForm(m(this.dataSource.filter(),this.currentMember)[0])}},_select:function(s){var r=g(s.item);g(".k-pivot-filter-window").not(this.includeWindow.element).kendoWindow("close");if(r.hasClass("k-include-item")){this.includeWindow.center().open()}else{if(r.hasClass("k-sort-asc")){this._sort("asc")}else{if(r.hasClass("k-sort-desc")){this._sort("desc")}}}},_windowOpen:function(){if(!this.treeView){this._createTreeView(this.includeWindow.element.find(".k-treeview"))}k.progress(this.includeWindow.element,true);this.treeView.dataSource.read()},destroy:function(){l.fn.destroy.call(this);if(this.menu){this.menu.destroy();this.menu=null}if(this.treeView){this.treeView.destroy();this.treeView=null}if(this.includeWindow){this.includeWindow.destroy();this.includeWindow=null}this.wrapper=null;this.element=null}});function n(v,t){var s=[];for(var r=0,u=v.length;r<u;r++){if(v[r].field!==t){s.push(v[r])}}return s}function m(v,x,u){if(!v){return[]}v=v.filters;var s=0;var r=[];var w=v.length;var t;for(;s<w;s++){t=v[s].operator;if(((!u&&t!=="in")||(t===u))&&v[s].field===x){r.push(v[s])}}return r}function p(u,w,t){var s,r=0,v=t.length;u=m(u,w,"in")[0];if(!u){for(;r<v;r++){t[r].checked=true}}else{s=u.value.split(",");for(;r<v;r++){t[r].checked=g.inArray(t[r].uniqueName,s)>=0}}}function q(t,s){var r,u=t.length;for(r=0;r<u;r++){if(t[r].checked&&t[r].level()!==0){s.push(t[r].uniqueName)}if(t[r].hasChildren){q(t[r].children.view(),s)}}}var j='<div class="k-filterable k-content" tabindex="-1" data-role="fieldmenu"><form class="k-filter-menu"><div><div class="k-filter-help-text">#=messages.info#</div><select>#for(var op in messages.operators){#<option value="#=op#">#=messages.operators[op]#</option>#}#</select><input class="k-textbox" type="text" /><div><a class="k-button k-primary k-button-filter" href="\\#">#=messages.filter#</a><a class="k-button k-button-clear" href="\\#">#=messages.clear#</a></div></div></form></div>';var o='<ul class="k-pivot-fieldmenu"># if (sortable) {#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-icon k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-icon k-i-sort-desc"></span>${messages.sortDescending}</span></li># if (filterable) {#<li class="k-separator"></li># } ## } ## if (filterable) {#<li class="k-item k-include-item"><span class="k-link"><span class="k-icon k-filter"></span>${messages.include}</span></li><li class="k-separator"></li><li class="k-item k-filter-item"><span class="k-link"><span class="k-icon k-filter"></span>${messages.filterFields}</span><ul><li>'+j+"</li></ul></li># } #</ul>";var f='<div class="k-popup-edit-form k-pivot-filter-window"><div class="k-edit-form-container"><div class="k-treeview"></div><div class="k-edit-buttons k-state-default"><a class="k-button k-primary k-button-ok" href="\\#">${messages.ok}</a><a class="k-button k-button-cancel" href="\\#">${messages.cancel}</a></div></div>';k.plugin(e)})(window.kendo.jQuery);(function(e,f){var k=window.kendo,j=k.ui,d=k.data.DataSource,c=j.Widget,h="change",p="boolean",l="enums",g="string",o=".kendoFilterCell",n="Is equal to",q="Is not equal to",m=e.proxy;function b(v,x){var w=[];if(e.isPlainObject(v)){if(v.hasOwnProperty("filters")){w=v.filters}else{if(v.field==x){return v}}}if((e.isArray(v))){w=v}for(var u=0;u<w.length;u++){var t=b(w[u],x);if(t){return t}}}function s(u,t){if(u.filters){u.filters=e.grep(u.filters,function(v){s(v,t);if(v.filters){return v.filters.length}else{return v.field!=t}})}}function r(u,v){var t=k.getter(v,true);return function(B){var y=u(B),w=[],z=0,x={};while(z<y.length){var A=y[z++],C=t(A);if(!x.hasOwnProperty(C)){w.push(A);x[C]=true}}return w}}var i=c.extend({init:function(x,G){x=e(x).addClass("k-filtercell");var v=this.wrapper=e("<span/>").appendTo(x);var A=this,t,F,u=G,y,C,w=A.operators=G.operators||{},E=A.input=e("<input/>").attr(k.attr("bind"),"value: value").appendTo(v);c.fn.init.call(A,x[0],G);G=A.options;t=A.dataSource=G.dataSource;A.model=t.reader.model;C=G.type=g;var z=k.getter("reader.model.fields",true)(t)||{};var B=z[G.field];if(B&&B.type){C=G.type=B.type}if(G.values){G.type=C=l}w=w[C]||G.operators[C];if(!u.operator){for(y in w){G.operator=y;break}}A._parse=function(H){return H+""};if(A.model&&A.model.fields){var D=A.model.fields[G.field];if(D){if(D.parse){A._parse=m(D.parse,D)}}}A.viewModel=F=k.observable({operator:G.operator,value:null,operatorVisible:function(){var H=this.get("value");return H!==null&&H!==f&&H!="undefined"}});F.bind(h,m(A.updateDsFilter,A));if(C==g){A.initSuggestDataSource(G)}if(G.inputWidth!==null){E.width(G.inputWidth)}A._setInputType(G,C);if(C!=p&&G.showOperators!==false){A._createOperatorDropDown(w)}else{v.addClass("k-operator-hidden")}A._createClearIcon();k.bind(this.wrapper,F);if(C==g){if(!G.template){A.setAutoCompleteSource()}}if(C==l){A.setComboBoxSource(A.options.values)}A._refreshUI();A._refreshHandler=m(A._refreshUI,A);A.dataSource.bind(h,A._refreshHandler)},_setInputType:function(B,y){var w=this,A=w.input;if(typeof(B.template)=="function"){B.template.call(w.viewModel,{element:w.input,dataSource:w.suggestDataSource})}else{if(y==g){A.attr(k.attr("role"),"autocomplete").attr(k.attr("text-field"),B.dataTextField||B.field).attr(k.attr("filter"),B.suggestionOperator).attr(k.attr("delay"),B.delay).attr(k.attr("min-length"),B.minLength).attr(k.attr("value-primitive"),true)}else{if(y=="date"){A.attr(k.attr("role"),"datepicker")}else{if(y==p){A.remove();var u=e("<input type='radio'/>");var t=w.wrapper;var x=k.guid();var z=e("<label/>").text(B.messages.isTrue).append(u);u.attr(k.attr("bind"),"checked:value").attr("name",x).val("true");var v=z.clone().text(B.messages.isFalse);u.clone().val("false").appendTo(v);t.append([z,v])}else{if(y=="number"){A.attr(k.attr("role"),"numerictextbox")}else{if(y==l){A.attr(k.attr("role"),"combobox").attr(k.attr("text-field"),"text").attr(k.attr("suggest"),true).attr(k.attr("filter"),"contains").attr(k.attr("value-field"),"value").attr(k.attr("value-primitive"),true)}}}}}}},_createOperatorDropDown:function(t){var u=[];for(var w in t){u.push({text:t[w],value:w})}var v=e('<input class="k-dropdown-operator" '+k.attr("bind")+'="value: operator"/>').appendTo(this.wrapper);this.operatorDropDown=v.kendoDropDownList({dataSource:u,dataTextField:"text",dataValueField:"value",open:function(){this.popup.element.width(150)},valuePrimitive:true}).data("kendoDropDownList");this.operatorDropDown.wrapper.find(".k-i-arrow-s").removeClass("k-i-arrow-s").addClass("k-filter")},initSuggestDataSource:function(t){var u=t.suggestDataSource;if(!(u instanceof d)){if(!t.customDataSource&&u){u.group=f}u=this.suggestDataSource=d.create(u)}if(!t.customDataSource){u._pageSize=f;u.reader.data=r(u.reader.data,this.options.field)}this.suggestDataSource=u},setAutoCompleteSource:function(){var t=this.input.data("kendoAutoComplete");if(t){t.setDataSource(this.suggestDataSource)}},setComboBoxSource:function(t){var v=d.create({data:t});var u=this.input.data("kendoComboBox");if(u){u.setDataSource(v)}},_refreshUI:function(w){var v=this,u=b(v.dataSource.filter(),this.options.field)||{},t=v.viewModel;v.manuallyUpdatingVM=true;u=e.extend(true,{},u);if(v.options.type==p){if(t.value!==u.value){v.wrapper.find(":radio").prop("checked",false)}}if(u.operator){t.set("operator",u.operator)}t.set("value",u.value);v.manuallyUpdatingVM=false},updateDsFilter:function(x){var v=this,u=v.viewModel;if(v.manuallyUpdatingVM||(x.field=="operator"&&u.value===f)){return}var t=e.extend({},v.viewModel.toJSON(),{field:v.options.field});var y={logic:"and",filters:[]};if(t.value!==f&&t.value!==null){y.filters.push(t)}var w=v._merge(y);if(w.filters.length){v.dataSource.filter(w)}else{v.dataSource.filter({})}},_merge:function(A){var z=this,v=A.logic||"and",y=A.filters,w,u=z.dataSource.filter()||{filters:[],logic:"and"},t,x;s(u,z.options.field);for(t=0,x=y.length;t<x;t++){w=y[t];w.value=z._parse(w.value)}y=e.grep(y,function(B){return B.value!==""&&B.value!==null});if(y.length){if(u.filters.length){A.filters=y;if(u.logic!=="and"){u.filters=[{logic:u.logic,filters:u.filters}];u.logic="and"}if(y.length>1){u.filters.push(A)}else{u.filters.push(y[0])}}else{u.filters=y;u.logic=v}}return u},_createClearIcon:function(){var t=this;e("<button type='button' class='k-button k-button-icon'/>").attr(k.attr("bind"),"visible:operatorVisible").html("<span class='k-icon k-i-close'/>").click(m(t.clearFilter,t)).appendTo(t.wrapper)},clearFilter:function(){this.viewModel.set("value",null)},destroy:function(){var t=this;t.filterModel=null;c.fn.destroy.call(t);k.destroy(t.element)},events:[h],options:{name:"FilterCell",delay:200,minLength:1,inputWidth:null,values:f,customDataSource:false,field:"",dataTextField:"",type:"string",suggestDataSource:null,suggestionOperator:"startswith",operator:"eq",showOperators:true,template:null,messages:{isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",operator:"Operator"},operators:{string:{eq:n,neq:q,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with"},number:{eq:n,neq:q,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},date:{eq:n,neq:q,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before"},enums:{eq:n,neq:q}}}});j.plugin(i)})(window.kendo.jQuery);(function(I,q){var K=window.kendo,R=K.ui,G=K.keys,o=I.extend,X=I.each,h=K.template,f=R.Widget,w=/^(ul|a|div)$/i,N=".kendoPanelBar",O="img",W="href",P="k-last",E="k-link",i="."+E,L="error",Y=".k-item",D=".k-group",ac=D+":visible",m="k-image",t="k-first",M="expand",x="select",U="k-content",p="activate",B="collapse",k="mouseenter",s="mouseleave",b="contentLoad",ad="k-state-active",V="> .k-panel",S="> .k-content",A="k-state-focused",y="k-state-disabled",J="k-state-selected",aa="."+J,T="k-state-highlight",c=Y+":not(.k-state-disabled)",C="> "+c+" > "+i+", .k-panel > "+c+" > "+i,n=Y+".k-state-disabled > .k-link",ab="> li > "+aa+", .k-panel > li > "+aa,F="k-state-default",l="aria-disabled",H="aria-expanded",Q="aria-hidden",g="aria-selected",Z=":visible",e=":empty",j="single",d={content:h("<div role='region' class='k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:h("<ul role='group' aria-hidden='true' class='#= groupCssClass(group) #'#= groupAttributes(group) #>#= renderItems(data) #</ul>"),itemWrapper:h("<#= tag(item) # class='#= textClass(item, group) #' #= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:h("<li role='menuitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:h("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:h("<span class='#= arrowClass(item) #'></span>"),sprite:h("<span class='k-sprite #= spriteCssClass #'></span>"),empty:h("")},u={aria:function(af){var ae="";if(af.items||af.content||af.contentUrl){ae+=H+"='"+(af.expanded?"true":"false")+"' "}if(af.enabled===false){ae+=l+"='true'"}return ae},wrapperCssClass:function(ah,ag){var ae="k-item",af=ag.index;if(ag.enabled===false){ae+=" "+y}else{if(ag.expanded===true){ae+=" "+ad}else{ae+=" k-state-default"}}if(af===0){ae+=" k-first"}if(af==ah.length-1){ae+=" k-last"}if(ag.cssClass){ae+=" "+ag.cssClass}return ae},textClass:function(af,ag){var ae=E;if(ag.firstLevel){ae+=" k-header"}return ae},textAttributes:function(ae){return ae.url?" href='"+ae.url+"'":""},arrowClass:function(af){var ae="k-icon";ae+=af.expanded?" k-i-arrow-n k-panelbar-collapse":" k-i-arrow-s k-panelbar-expand";return ae},text:function(ae){return ae.encoded===false?ae.text:K.htmlEncode(ae.text)},tag:function(ae){return ae.url||ae.contentUrl?"a":"span"},groupAttributes:function(ae){return ae.expanded!==true?" style='display:none'":""},groupCssClass:function(){return"k-group k-panel"},contentAttributes:function(ae){return ae.item.expanded!==true?" style='display:none'":""},content:function(ae){return ae.content?ae.content:ae.contentUrl?"":"&nbsp;"},contentUrl:function(ae){return ae.contentUrl?'href="'+ae.contentUrl+'"':""}};function r(ae){ae=I(ae);ae.children(i).children(".k-icon").remove();ae.filter(":has(.k-panel),:has(.k-content)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var ag=I(this),af=ag.parent();ag.append("<span class='k-icon "+(af.hasClass(ad)?"k-i-arrow-n k-panelbar-collapse":"k-i-arrow-s k-panelbar-expand")+"'/>")})}function v(ae){ae=I(ae);ae.filter(".k-first:not(:first-child)").removeClass(t);ae.filter(".k-last:not(:last-child)").removeClass(P);ae.filter(":first-child").addClass(t);ae.filter(":last-child").addClass(P)}var z=f.extend({init:function(af,ae){var ah=this,ag;f.fn.init.call(ah,af,ae);af=ah.wrapper=ah.element.addClass("k-widget k-reset k-header k-panelbar");ae=ah.options;if(af[0].id){ah._itemId=af[0].id+"_pb_active"}ah._tabindex();ah._initData(ae);ah._updateClasses();ah._animations(ae);af.on("click"+N,C,function(ai){if(ah._click(I(ai.currentTarget))){ai.preventDefault()}}).on(k+N+" "+s+N,C,ah._toggleHover).on("click"+N,n,false).on("keydown"+N,I.proxy(ah._keydown,ah)).on("focus"+N,function(){var ai=ah.select();ah._current(ai[0]?ai:ah._first())}).on("blur"+N,function(){ah._current(null)}).attr("role","menu");ag=af.find("li."+ad+" > ."+U);if(ag[0]){ah.expand(ag.parent(),false)}K.notify(ah)},events:[M,B,x,p,L,b],options:{name:"PanelBar",animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},expandMode:"multiple"},destroy:function(){f.fn.destroy.call(this);this.element.off(N);K.destroy(this.element)},_initData:function(ae){var af=this;if(ae.dataSource){af.element.empty();af.append(ae.dataSource,af.element)}},setOptions:function(ae){var af=this.options.animation;this._animations(ae);ae.animation=o(true,af,ae.animation);if("dataSource" in ae){this._initData(ae)}f.fn.setOptions.call(this,ae)},expand:function(ae,ah){var af=this,ag={};ah=ah!==false;ae=this.element.find(ae);ae.each(function(aj,ak){ak=I(ak);var ai=ak.find(V).add(ak.find(S));if(!ak.hasClass(y)&&ai.length>0){if(af.options.expandMode==j&&af._collapseAllExpanded(ak)){return af}ae.find("."+T).removeClass(T);ak.addClass(T);if(!ah){ag=af.options.animation;af.options.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}if(!af._triggerEvent(M,ak)){af._toggleItem(ak,false)}if(!ah){af.options.animation=ag}}});return af},collapse:function(ae,ah){var af=this,ag={};ah=ah!==false;ae=af.element.find(ae);ae.each(function(aj,ak){ak=I(ak);var ai=ak.find(V).add(ak.find(S));if(!ak.hasClass(y)&&ai.is(Z)){ak.removeClass(T);if(!ah){ag=af.options.animation;af.options.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}if(!af._triggerEvent(B,ak)){af._toggleItem(ak,true)}if(!ah){af.options.animation=ag}}});return af},_toggleDisabled:function(af,ae){af=this.element.find(af);af.toggleClass(F,ae).toggleClass(y,!ae).attr(l,!ae)},select:function(ae){var af=this;if(ae===q){return af.element.find(ab).parent()}ae=af.element.find(ae);if(!ae.length){this._updateSelected(ae)}else{ae.each(function(){var ah=I(this),ag=ah.children(i);if(ah.hasClass(y)){return af}if(!af._triggerEvent(x,ah)){af._updateSelected(ag)}})}return af},clearSelection:function(){this.select(I())},enable:function(ae,af){this._toggleDisabled(ae,af!==false);return this},disable:function(ae){this._toggleDisabled(ae,false);return this},append:function(ag,ae){ae=this.element.find(ae);var af=this._insert(ag,ae,ae.length?ae.find(V):null);X(af.items,function(){af.group.append(this);v(this)});r(ae);v(af.group.find(".k-first, .k-last"));af.group.height("auto");return this},insertBefore:function(ag,ae){ae=this.element.find(ae);var af=this._insert(ag,ae,ae.parent());X(af.items,function(){ae.before(this);v(this)});v(ae);af.group.height("auto");return this},insertAfter:function(ag,ae){ae=this.element.find(ae);var af=this._insert(ag,ae,ae.parent());X(af.items,function(){ae.after(this);v(this)});v(ae);af.group.height("auto");return this},remove:function(ae){ae=this.element.find(ae);var ag=this,af=ae.parentsUntil(ag.element,Y),ah=ae.parent("ul");ae.remove();if(ah&&!ah.hasClass("k-panelbar")&&!ah.children(Y).length){ah.remove()}if(af.length){af=af.eq(0);r(af);v(af)}return ag},reload:function(ae){var af=this;ae=af.element.find(ae);ae.each(function(){var ag=I(this);af._ajaxRequest(ag,ag.children("."+U),!ag.is(Z))})},_first:function(){return this.element.children(c).first()},_last:function(){var ae=this.element.children(c).last(),af=ae.children(ac);if(af[0]){return af.children(c).last()}return ae},_current:function(ae){var af=this,ag=af._focused,ah=af._itemId;if(ae===q){return ag}af.element.removeAttr("aria-activedescendant");if(ag){if(ag[0].id===ah){ag.removeAttr("id")}ag.children(i).removeClass(A)}if(I(ae).length){ah=ae[0].id||ah;ae.attr("id",ah).children(i).addClass(A);af.element.attr("aria-activedescendant",ah)}af._focused=ae},_keydown:function(ah){var af=this,ae=ah.keyCode,ag=af._current();if(ah.target!=ah.currentTarget){return}if(ae==G.DOWN||ae==G.RIGHT){af._current(af._nextItem(ag));ah.preventDefault()}else{if(ae==G.UP||ae==G.LEFT){af._current(af._prevItem(ag));ah.preventDefault()}else{if(ae==G.ENTER||ae==G.SPACEBAR){af._click(ag.children(i));ah.preventDefault()}else{if(ae==G.HOME){af._current(af._first());ah.preventDefault()}else{if(ae==G.END){af._current(af._last());ah.preventDefault()}}}}}},_nextItem:function(af){if(!af){return this._first()}var ag=af.children(ac),ae=af.nextAll(":visible").first();if(ag[0]){ae=ag.children("."+t)}if(!ae[0]){ae=af.parent(ac).parent(Y).next()}if(!ae[0]){ae=this._first()}if(ae.hasClass(y)){ae=this._nextItem(ae)}return ae},_prevItem:function(ag){if(!ag){return this._last()}var af=ag.prevAll(":visible").first(),ae;if(!af[0]){af=ag.parent(ac).parent(Y);if(!af[0]){af=this._last()}}else{ae=af;while(ae[0]){ae=ae.children(ac).children("."+P);if(ae[0]){af=ae}}}if(af.hasClass(y)){af=this._prevItem(af)}return af},_insert:function(al,ae,aj){var ak=this,af,ai=I.isPlainObject(al),ah=ae&&ae[0],ag;if(!ah){aj=ak.element}ag={firstLevel:aj.hasClass("k-panelbar"),expanded:aj.parent().hasClass(ad),length:aj.children().length};if(ah&&!aj.length){aj=I(z.renderGroup({group:ag})).appendTo(ae)}if(al instanceof K.Observable){al=al.toJSON()}if(ai||I.isArray(al)){af=I.map(ai?[al]:al,function(an,am){if(typeof an==="string"){return I(an)}else{return I(z.renderItem({group:ag,item:o(an,{index:am})}))}});if(ah){ae.attr(H,false)}}else{if(typeof al=="string"&&al.charAt(0)!="<"){af=ak.element.find(al)}else{af=I(al)}ak._updateItemsClasses(af)}return{items:af,group:aj}},_toggleHover:function(af){var ae=I(af.currentTarget);if(!ae.parents("li."+y).length){ae.toggleClass("k-state-hover",af.type==k)}},_updateClasses:function(){var ag=this,af,ae;af=ag.element.find("li > ul").not(function(){return I(this).parentsUntil(".k-panelbar","div").length}).addClass("k-group k-panel").attr("role","group");af.parent().attr(H,false).not("."+ad).children("ul").attr(Q,true).hide();ae=ag.element.add(af).children();ag._updateItemsClasses(ae);r(ae);v(ae)},_updateItemsClasses:function(af){var ag=af.length,ae=0;for(;ae<ag;ae++){this._updateItemClasses(af[ae],ae)}},_updateItemClasses:function(ak,ah){var ai=this._selected,af=this.options.contentUrls,ag=af&&af[ah],ae=this.element[0],al,aj;ak=I(ak).addClass("k-item").attr("role","menuitem");if(K.support.browser.msie){ak.css("list-style-position","inside").css("list-style-position","")}ak.children(O).addClass(m);aj=ak.children("a").addClass(E);if(aj[0]){aj.attr("href",ag);aj.children(O).addClass(m)}ak.filter(":not([disabled]):not([class*=k-state])").addClass("k-state-default");ak.filter("li[disabled]").addClass("k-state-disabled").attr(l,true).removeAttr("disabled");ak.children("div").addClass(U).attr("role","region").attr(Q,true).hide().parent().attr(H,false);aj=ak.children(aa);if(aj[0]){if(ai){ai.removeAttr(g).children(aa).removeClass(J)}aj.addClass(J);this._selected=ak.attr(g,true)}if(!ak.children(i)[0]){al="<span class='"+E+"'/>";if(af&&af[ah]&&ak[0].parentNode==ae){al='<a class="k-link k-header" href="'+af[ah]+'"/>'}ak.contents().filter(function(){return(!this.nodeName.match(w)&&!(this.nodeType==3&&!I.trim(this.nodeValue)))}).wrapAll(al)}if(ak.parent(".k-panelbar")[0]){ak.children(i).addClass("k-header")}},_click:function(ak){var aj=this,ai=aj.element,am,ah,ag,ae;if(ak.parents("li."+y).length){return}if(ak.closest(".k-widget")[0]!=ai[0]){return}var al=ak.closest(i),an=al.closest(Y);aj._updateSelected(al);ah=an.find(V).add(an.find(S));ag=al.attr(W);ae=ag&&(ag.charAt(ag.length-1)=="#"||ag.indexOf("#"+aj.element[0].id+"-")!=-1);am=!!(ae||ah.length);if(ah.data("animating")){return am}if(aj._triggerEvent(x,an)){am=true}if(am===false){return}if(aj.options.expandMode==j){if(aj._collapseAllExpanded(an)){return am}}if(ah.length){var af=ah.is(Z);if(!aj._triggerEvent(!af?M:B,an)){am=aj._toggleItem(an,af)}}return am},_toggleItem:function(ai,ae){var al=this,ah=ai.find(V),ak=ai.find(i),ag=ak.attr(W),af,aj;if(ah.length){this._toggleGroup(ah,ae);af=true}else{aj=ai.children("."+U);if(aj.length){af=true;if(!aj.is(e)||ag===q){al._toggleGroup(aj,ae)}else{al._ajaxRequest(ai,aj,ae)}}}return af},_toggleGroup:function(ag,ae){var ai=this,af=ai.options.animation,aj=af.expand,ak=o({},af.collapse),ah=ak&&"effects" in ak;if(ag.is(Z)!=ae){return}ag.parent().attr(H,!ae).attr(Q,ae).toggleClass(ad,!ae).find("> .k-link > .k-icon").toggleClass("k-i-arrow-n",!ae).toggleClass("k-panelbar-collapse",!ae).toggleClass("k-i-arrow-s",ae).toggleClass("k-panelbar-expand",ae);if(ae){aj=o(ah?ak:o({reverse:true},aj),{hide:true})}else{aj=o({complete:function(al){ai._triggerEvent(p,al.closest(Y))}},aj)}ag.kendoStop(true,true).kendoAnimate(aj)},_collapseAllExpanded:function(ah){var ag=this,af,ai=false;var ae=ah.find(V).add(ah.find(S));if(ae.is(Z)){ai=true}if(!(ae.is(Z)||ae.length===0)){af=ah.siblings();af.find(V).add(af.find(S)).filter(function(){return I(this).is(Z)}).each(function(aj,ak){ak=I(ak);ai=ag._triggerEvent(B,ak.closest(Y));if(!ai){ag._toggleGroup(ak,true)}})}return ai},_ajaxRequest:function(ai,am,aj){var ak=this,ae=ai.find(".k-panelbar-collapse, .k-panelbar-expand"),al=ai.find(i),ag=setTimeout(function(){ae.addClass("k-loading")},100),ah={},af=al.attr(W);I.ajax({type:"GET",cache:false,url:af,dataType:"html",data:ah,error:function(ao,an){ae.removeClass("k-loading");if(ak.trigger(L,{xhr:ao,status:an})){this.complete()}},complete:function(){clearTimeout(ag);ae.removeClass("k-loading")},success:function(ap){function ao(){return{elements:am.get()}}try{ak.angular("cleanup",ao);am.html(ap);ak.angular("compile",ao)}catch(aq){var an=window.console;if(an&&an.error){an.error(aq.name+": "+aq.message+" in "+af)}this.error(this.xhr,"error")}ak._toggleGroup(am,aj);ak.trigger(b,{item:ai[0],contentElement:am[0]})}})},_triggerEvent:function(ae,af){var ag=this;return ag.trigger(ae,{item:af[0]})},_updateSelected:function(ai){var ah=this,ae=ah.element,ag=ai.parent(Y),af=ah._selected;if(af){af.removeAttr(g)}ah._selected=ag.attr(g,true);ae.find(ab).removeClass(J);ae.find("> ."+T+", .k-panel > ."+T).removeClass(T);ai.addClass(J);ai.parentsUntil(ae,Y).filter(":has(.k-header)").addClass(T);ah._current(ag[0]?ag:null)},_animations:function(ae){if(ae&&("animation" in ae)&&!ae.animation){ae.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}}});o(z,{renderItem:function(ae){ae=o({panelBar:{},group:{}},ae);var ag=d.empty,af=ae.item;return d.item(o(ae,{image:af.imageUrl?d.image:ag,sprite:af.spriteCssClass?d.sprite:ag,itemWrapper:d.itemWrapper,renderContent:z.renderContent,arrow:af.items||af.content||af.contentUrl?d.arrow:ag,subGroup:z.renderGroup},u))},renderGroup:function(ae){return d.group(o({renderItems:function(ah){var aj="",ai=0,ag=ah.items,af=ag?ag.length:0,ak=o({length:af},ah.group);for(;ai<af;ai++){aj+=z.renderItem(o(ah,{group:ak,item:o({index:ai},ag[ai])}))}return aj}},ae,u))},renderContent:function(ae){return d.content(o(ae,u))}});K.ui.plugin(z)})(window.kendo.jQuery);(function(f,c){var h=f.proxy;var d=".kendoResponsivePanel";var e="open";var g="close";var j="click"+d+" touchstart"+d;var i=kendo.ui.Widget;var b=i.extend({init:function(l,k){i.fn.init.call(this,l,k);this._toggleHandler=h(this._toggleButtonClick,this);this._closeHandler=h(this._close,this);f(document.documentElement).on(j,this.options.toggleButton,this._toggleHandler);this._registerBreakpoint();this.element.addClass("k-rpanel k-rpanel-"+this.options.orientation);this._resizeHandler=h(this.resize,this,false);f(window).on("resize"+d,this._resizeHandler)},_mediaQuery:"@media (max-width: #= breakpoint-1 #px) {.k-rpanel-animate.k-rpanel-left,.k-rpanel-animate.k-rpanel-right {-webkit-transition: -webkit-transform .2s ease-out;-ms-transition: -ms-transform .2s ease-out;transition: transform .2s ease-out;} .k-rpanel-animate.k-rpanel-top {-webkit-transition: max-height .2s linear;-ms-transition: max-height .2s linear;transition: max-height .2s linear;}} @media (min-width: #= breakpoint #px) {#= toggleButton # { display: none; } .k-rpanel-left { float: left; } .k-rpanel-right { float: right; } .k-rpanel-left, .k-rpanel-right {position: relative;-webkit-transform: translateX(0) translateZ(0);-ms-transform: translateX(0) translateZ(0);transform: translateX(0) translateZ(0);} .k-rpanel-top { max-height: none; }}",_registerBreakpoint:function(){var k=this.options;this._registerStyle(kendo.template(this._mediaQuery)({breakpoint:k.breakpoint,toggleButton:k.toggleButton}))},_registerStyle:function(m){var k=f("head,body")[0];var l=document.createElement("style");if(l.styleSheet){l.styleSheet.cssText=m}else{l.appendChild(document.createTextNode(m))}k.appendChild(l)},options:{name:"ResponsivePanel",orientation:"left",toggleButton:".k-rpanel-toggle",breakpoint:640,autoClose:true},events:[e,g],_resize:function(){this.element.removeClass("k-rpanel-animate")},_toggleButtonClick:function(k){k.preventDefault();if(this.element.hasClass("k-rpanel-expanded")){this.close()}else{this.open()}},open:function(){if(!this.trigger(e)){this.element.addClass("k-rpanel-animate k-rpanel-expanded");if(this.options.autoClose){f(document.documentElement).on(j,this._closeHandler)}}},close:function(){if(!this.trigger(g)){this.element.addClass("k-rpanel-animate").removeClass("k-rpanel-expanded");f(document.documentElement).off(j,this._closeHandler)}},_close:function(m){var l=m.isDefaultPrevented();var k=f(m.target).closest(this.options.toggleButton+",.k-rpanel");if(!k.length&&!l){this.close()}},destroy:function(){i.fn.destroy.call(this);f(window).off("resize"+d,this._resizeHandler);f(document.documentElement).off(j,this._closeHandler)}});kendo.ui.plugin(b)})(window.kendo.jQuery);(function(B,p){var C=window.kendo,I=C.ui,y=C.keys,z=B.map,O=B.each,b=B.trim,n=B.extend,h=C.template,g=I.Widget,v=/^(a|div)$/i,F=".kendoTabStrip",G="img",M="href",Q="prev",d="show",x="k-link",H="k-last",L="click",D="error",f=":empty",l="k-image",s="k-first",w="select",o="activate",K="k-content",m="contentUrl",i="mouseenter",r="mouseleave",c="contentLoad",j="k-state-disabled",q="k-state-default",J="k-state-active",k="k-state-focused",R="k-state-hover",N="k-tab-on-top",P=".k-item:not(."+j+")",A=".k-tabstrip-items > "+P+":not(."+J+")",e={content:h("<div class='k-content'#= contentAttributes(data) # role='tabpanel'>#= content(item) #</div>"),itemWrapper:h("<#= tag(item) # class='k-link'#= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) #</#= tag(item) #>"),item:h("<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \"aria-selected='true'\" : ''#>#= itemWrapper(data) #</li>"),image:h("<img class='k-image' alt='' src='#= imageUrl #' />"),sprite:h("<span class='k-sprite #= spriteCssClass #'></span>"),empty:h("")},t={wrapperCssClass:function(W,V){var T="k-item",U=V.index;if(V.enabled===false){T+=" k-state-disabled"}else{T+=" k-state-default"}if(U===0){T+=" k-first"}if(U==W.length-1){T+=" k-last"}return T},textAttributes:function(T){return T.url?" href='"+T.url+"'":""},text:function(T){return T.encoded===false?T.text:C.htmlEncode(T.text)},tag:function(T){return T.url?"a":"span"},contentAttributes:function(T){return T.active!==true?" style='display:none' aria-hidden='true' aria-expanded='false'":""},content:function(T){return T.content?T.content:T.contentUrl?"":"&nbsp;"},contentUrl:function(T){return T.contentUrl?C.attr("content-url")+'="'+T.contentUrl+'"':""}};function S(T){T.children(G).addClass(l);T.children("a").addClass(x).children(G).addClass(l);T.filter(":not([disabled]):not([class*=k-state-disabled])").addClass(q);T.filter("li[disabled]").addClass(j).removeAttr("disabled");T.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(J+" "+N);T.attr("role","tab");T.filter("."+J).attr("aria-selected",true);T.each(function(){var U=B(this);if(!U.children("."+x).length){U.contents().filter(function(){return(!this.nodeName.match(v)&&!(this.nodeType==3&&!b(this.nodeValue)))}).wrapAll("<span class='"+x+"'/>")}})}function u(U){var T=U.children(".k-item");T.filter(".k-first:not(:first-child)").removeClass(s);T.filter(".k-last:not(:last-child)").removeClass(H);T.filter(":first-child").addClass(s);T.filter(":last-child").addClass(H)}var E=g.extend({init:function(U,T){var W=this;g.fn.init.call(W,U,T);W._animations(W.options);T=W.options;W._wrapper();W._isRtl=C.support.isRtl(W.wrapper);W._tabindex();W._updateClasses();W._tabPosition();W._dataSource();if(T.dataSource){W.dataSource.fetch()}if(W.options.contentUrls){W.wrapper.find(".k-tabstrip-items > .k-item").each(function(Y,Z){B(Z).find(">."+x).data(m,W.options.contentUrls[Y])})}W.wrapper.on(i+F+" "+r+F,A,W._toggleHover).on("focus"+F,B.proxy(W._active,W)).on("blur"+F,function(){W._current(null)});W._keyDownProxy=B.proxy(W._keydown,W);if(T.navigatable){W.wrapper.on("keydown"+F,W._keyDownProxy)}W.wrapper.children(".k-tabstrip-items").on(L+F,".k-state-disabled .k-link",false).on(L+F," > "+P,function(ab){var Y=W.wrapper[0];if(Y!==document.activeElement){var aa=C.support.browser.msie;if(aa){try{Y.setActive()}catch(Z){Y.focus()}}else{Y.focus()}}if(W._click(B(ab.currentTarget))){ab.preventDefault()}});var X=W.tabGroup.children("li."+J),V=W.contentHolder(X.index());if(X[0]&&V.length>0&&V[0].childNodes.length===0){W.activateTab(X.eq(0))}W.element.attr("role","tablist");if(W.element[0].id){W._ariaId=W.element[0].id+"_ts_active"}C.notify(W)},_active:function(){var T=this.tabGroup.children().filter("."+J);T=T[0]?T:this._endItem("first");if(T[0]){this._current(T)}},_endItem:function(T){return this.tabGroup.children(P)[T]()},_item:function(U,V){var T;if(V===Q){T="last"}else{T="first"}if(!U){return this._endItem(T)}U=U[V]();if(!U[0]){U=this._endItem(T)}if(U.hasClass(j)){U=this._item(U,V)}return U},_current:function(T){var U=this,V=U._focused,W=U._ariaId;if(T===p){return V}if(V){if(V[0].id===W){V.removeAttr("id")}V.removeClass(k)}if(T){if(!T.hasClass(J)){T.addClass(k)}U.element.removeAttr("aria-activedescendant");W=T[0].id||W;if(W){T.attr("id",W);U.element.attr("aria-activedescendant",W)}}U._focused=T},_keydown:function(Y){var U=this,T=Y.keyCode,X=U._current(),W=U._isRtl,V;if(Y.target!=Y.currentTarget){return}if(T==y.DOWN||T==y.RIGHT){V=W?Q:"next"}else{if(T==y.UP||T==y.LEFT){V=W?"next":Q}else{if(T==y.ENTER||T==y.SPACEBAR){U._click(X);Y.preventDefault()}else{if(T==y.HOME){U._click(U._endItem("first"));Y.preventDefault();return}else{if(T==y.END){U._click(U._endItem("last"));Y.preventDefault();return}}}}}if(V){U._click(U._item(X,V));Y.preventDefault()}},_dataSource:function(){var T=this;if(T.dataSource&&T._refreshHandler){T.dataSource.unbind("change",T._refreshHandler)}else{T._refreshHandler=B.proxy(T.refresh,T)}T.dataSource=C.data.DataSource.create(T.options.dataSource).bind("change",T._refreshHandler)},setDataSource:function(U){var T=this;T.options.dataSource=U;T._dataSource();T.dataSource.fetch()},_animations:function(T){if(T&&("animation" in T)&&!T.animation){T.animation={open:{effects:{}},close:{effects:{}}}}},refresh:function(aa){var Z=this,ah=Z.options,ag=C.getter(ah.dataTextField),ab=C.getter(ah.dataContentField),W=C.getter(ah.dataContentUrlField),X=C.getter(ah.dataImageUrlField),T=C.getter(ah.dataUrlField),af=C.getter(ah.dataSpriteCssClass),ae,ad=[],V,Y,ac=Z.dataSource.view(),U;aa=aa||{};Y=aa.action;if(Y){ac=aa.items}for(ae=0,U=ac.length;ae<U;ae++){V={text:ag(ac[ae])};if(ah.dataContentField){V.content=ab(ac[ae])}if(ah.dataContentUrlField){V.contentUrl=W(ac[ae])}if(ah.dataUrlField){V.url=T(ac[ae])}if(ah.dataImageUrlField){V.imageUrl=X(ac[ae])}if(ah.dataSpriteCssClass){V.spriteCssClass=af(ac[ae])}ad[ae]=V}if(aa.action=="add"){if(aa.index<Z.tabGroup.children().length){Z.insertBefore(ad,Z.tabGroup.children().eq(aa.index))}else{Z.append(ad)}}else{if(aa.action=="remove"){for(ae=0;ae<ac.length;ae++){Z.remove(aa.index)}}else{if(aa.action=="itemchange"){ae=Z.dataSource.view().indexOf(ac[0]);if(aa.field===ah.dataTextField){Z.tabGroup.children().eq(ae).find(".k-link").text(ac[0].get(aa.field))}}else{Z.trigger("dataBinding");Z.remove("li");Z.append(ad);Z.trigger("dataBound")}}}},value:function(U){var T=this;if(U!==p){if(U!=T.value()){T.tabGroup.children().each(function(){if(B.trim(B(this).text())==U){T.select(this)}})}}else{return T.select().text()}},items:function(){return this.tabGroup[0].children},setOptions:function(T){var U=this,V=U.options.animation;U._animations(T);T.animation=n(true,V,T.animation);if(T.navigatable){U.wrapper.on("keydown"+F,U._keyDownProxy)}else{U.wrapper.off("keydown"+F,U._keyDownProxy)}g.fn.setOptions.call(U,T)},events:[w,o,d,D,c,"change","dataBinding","dataBound"],options:{name:"TabStrip",dataTextField:"",dataContentField:"",dataImageUrlField:"",dataUrlField:"",dataSpriteCssClass:"",dataContentUrlField:"",tabPosition:"top",animation:{open:{effects:"expand:vertical fadeIn",duration:200},close:{duration:200}},collapsible:false,navigatable:true,contentUrls:false},destroy:function(){var T=this;g.fn.destroy.call(T);if(T._refreshHandler){T.dataSource.unbind("change",T._refreshHandler)}T.wrapper.off(F);T.wrapper.children(".k-tabstrip-items").off(F);T.scrollWrap.children(".k-tabstrip").unwrap();C.destroy(T.wrapper)},select:function(T){var U=this;if(arguments.length===0){return U.tabGroup.children("li."+J)}if(!isNaN(T)){T=U.tabGroup.children().get(T)}T=U.tabGroup.find(T);B(T).each(function(V,W){W=B(W);if(!W.hasClass(J)&&!U.trigger(w,{item:W[0],contentElement:U.contentHolder(W.index())[0]})){U.activateTab(W)}});return U},enable:function(T,U){this._toggleDisabled(T,U!==false);return this},disable:function(T){this._toggleDisabled(T,false);return this},reload:function(T){T=this.tabGroup.find(T);var U=this;T.each(function(){var W=B(this),X=W.find("."+x).data(m),V=U.contentHolder(W.index());if(X){U.ajaxRequest(W,V,null,X)}});return U},append:function(U){var V=this,T=V._create(U);O(T.tabs,function(W){var X=T.contents[W];V.tabGroup.append(this);V.wrapper.append(X);V.angular("compile",function(){return{elements:[X]}})});u(V.tabGroup);V._updateContentElements();V.resize(true);return V},insertBefore:function(W,U){U=this.tabGroup.find(U);var X=this,V=X._create(W),T=B(X.contentElement(U.index()));O(V.tabs,function(Y){var Z=V.contents[Y];U.before(this);T.before(Z);X.angular("compile",function(){return{elements:[Z]}})});u(X.tabGroup);X._updateContentElements();X.resize(true);return X},insertAfter:function(W,U){U=this.tabGroup.find(U);var X=this,V=X._create(W),T=B(X.contentElement(U.index()));O(V.tabs,function(Y){var Z=V.contents[Y];U.after(this);T.after(Z);X.angular("compile",function(){return{elements:[Z]}})});u(X.tabGroup);X._updateContentElements();X.resize(true);return X},remove:function(W){var V=this;var T=typeof W;var U;if(T==="string"){W=V.tabGroup.find(W)}else{if(T==="number"){W=V.tabGroup.children().eq(W)}}U=W.map(function(){var X=V.contentElement(B(this).index());C.destroy(X);return X});W.remove();U.remove();V._updateContentElements();V.resize(true);return V},_create:function(V){var U=B.isPlainObject(V),Y=this,T,X,W;if(U||B.isArray(V)){V=B.isArray(V)?V:[V];T=z(V,function(aa,Z){return B(E.renderItem({group:Y.tabGroup,item:n(aa,{index:Z})}))});X=z(V,function(aa,Z){if(typeof aa.content=="string"||aa.contentUrl){return B(E.renderContent({item:n(aa,{index:Z})}))}})}else{if(typeof V=="string"&&V[0]!="<"){T=Y.element.find(V)}else{T=B(V)}X=B();T.each(function(){W=B("<div class='"+K+"'/>");if(/k-tabstrip-items/.test(this.parentNode.className)){var Z=parseInt(this.getAttribute("aria-controls").replace(/^.*-/,""),10)-1;W=B(Y.contentElement(Z))}X=X.add(W)});S(T)}return{tabs:T,contents:X}},_toggleDisabled:function(U,T){U=this.tabGroup.find(U);U.each(function(){B(this).toggleClass(q,T).toggleClass(j,!T)})},_updateClasses:function(){var V=this,U,W,T;V.wrapper.addClass("k-widget k-header k-tabstrip");V.tabGroup=V.wrapper.children("ul").addClass("k-tabstrip-items k-reset");if(!V.tabGroup[0]){V.tabGroup=B("<ul class='k-tabstrip-items k-reset'/>").appendTo(V.wrapper)}U=V.tabGroup.find("li").addClass("k-item");if(U.length){W=U.filter("."+J).index();T=W>=0?W:p;V.tabGroup.contents().filter(function(){return(this.nodeType==3&&!b(this.nodeValue))}).remove()}if(W>=0){U.eq(W).addClass(N)}V.contentElements=V.wrapper.children("div");V.contentElements.addClass(K).eq(T).addClass(J).css({display:"block"});if(U.length){S(U);u(V.tabGroup);V._updateContentElements()}},_updateContentElements:function(){var X=this,W=X.options.contentUrls||[],V=X.tabGroup.find(".k-item"),U=(X.element.attr("id")||C.guid())+"-",T=X.wrapper.children("div");if(T.length&&(V.length>T.length)){T.each(function(Y){var Z=parseInt(this.id.replace(U,""),10),aa=V.filter("[aria-controls="+U+Z+"]"),ab=U+(Y+1);aa.data("aria",ab);this.setAttribute("id",ab)});V.each(function(){var Y=B(this);this.setAttribute("aria-controls",Y.data("aria"));Y.removeData("aria")})}else{V.each(function(Y){var Z=T.eq(Y),aa=U+(Y+1);this.setAttribute("aria-controls",aa);if(!Z.length&&W[Y]){B("<div class='"+K+"'/>").appendTo(X.wrapper).attr("id",aa)}else{Z.attr("id",aa);if(!B(this).children(".k-loading")[0]&&!W[Y]){B("<span class='k-loading k-complete'/>").prependTo(this)}}Z.attr("role","tabpanel");Z.filter(":not(."+J+")").attr("aria-hidden",true).attr("aria-expanded",false);Z.filter("."+J).attr("aria-expanded",true)})}X.contentElements=X.contentAnimators=X.wrapper.children("div");X.tabsHeight=X.tabGroup.outerHeight()+parseInt(X.wrapper.css("border-top-width"),10)+parseInt(X.wrapper.css("border-bottom-width"),10);if(C.kineticScrollNeeded&&C.mobile.ui.Scroller){C.touchScroller(X.contentElements);X.contentElements=X.contentElements.children(".km-scroll-container")}},_wrapper:function(){var T=this;if(T.element.is("ul")){T.wrapper=T.element.wrapAll("<div />").parent()}else{T.wrapper=T.element}T.scrollWrap=T.wrapper.parent(".k-tabstrip-wrapper");if(!T.scrollWrap[0]){T.scrollWrap=T.wrapper.wrapAll("<div class='k-tabstrip-wrapper' />").parent()}},_tabPosition:function(){var V=this,T=V.options.tabPosition,U=V.tabGroup;V.wrapper.addClass("k-floatwrap k-tabstrip-"+T);if(T=="bottom"){V.tabGroup.appendTo(V.wrapper)}V.resize(true)},_setContentElementsDimensions:function(){var X=this,U=X.options.tabPosition;if(U=="left"||U=="right"){var aa=X.wrapper.children(".k-content"),W=aa.filter(":visible"),T="margin-"+U,V=X.tabGroup,Z=V.outerWidth();var Y=Math.ceil(V.height())-parseInt(W.css("padding-top"),10)-parseInt(W.css("padding-bottom"),10)-parseInt(W.css("border-top-width"),10)-parseInt(W.css("border-bottom-width"),10);setTimeout(function(){aa.css(T,Z).css("min-height",Y)})}},_resize:function(){this._setContentElementsDimensions()},_sizeScrollWrap:function(U){if(U.is(":visible")){var T=this.options.tabPosition;var V=Math.floor(U.outerHeight(true))+(T==="left"||T==="right"?2:this.tabsHeight);this.scrollWrap.css("height",V).css("height")}},_toggleHover:function(T){B(T.currentTarget).toggleClass(R,T.type==i)},_click:function(Y){var X=this,W=Y.find("."+x),V=W.attr(M),Z=X.options.collapsible,aa=X.contentHolder(Y.index()),U,T;if(Y.closest(".k-widget")[0]!=X.wrapper[0]){return}if(Y.is("."+j+(!Z?",."+J:""))){return true}T=W.data(m)||(V&&(V.charAt(V.length-1)=="#"||V.indexOf("#"+X.element[0].id+"-")!=-1));U=!V||T;if(X.tabGroup.children("[data-animating]").length){return U}if(X.trigger(w,{item:Y[0],contentElement:aa[0]})){return true}if(U===false){return}if(Z&&Y.is("."+J)){X.deactivateTab(Y);return true}if(X.activateTab(Y)){U=true}return U},deactivateTab:function(V){var U=this,T=U.options.animation,X=T.open,Y=n({},T.close),W=Y&&"effects" in Y;V=U.tabGroup.find(V);Y=n(W?Y:n({reverse:true},X),{hide:true});if(C.size(X.effects)){V.kendoAddClass(q,{duration:X.duration});V.kendoRemoveClass(J,{duration:X.duration})}else{V.addClass(q);V.removeClass(J)}V.removeAttr("aria-selected");U.contentAnimators.filter("."+J).kendoStop(true,true).kendoAnimate(Y).removeClass(J).attr("aria-hidden",true)},activateTab:function(ai){if(this.tabGroup.children("[data-animating]").length){return}ai=this.tabGroup.find(ai);var aa=this,ad=aa.options.animation,W=ad.open,ah=n({},ad.close),ab=ah&&"effects" in ah,V=ai.parent().children(),af=V.filter("."+J),T=V.index(ai);ah=n(ab?ah:n({reverse:true},W),{hide:true});if(C.size(W.effects)){af.kendoRemoveClass(J,{duration:ah.duration});ai.kendoRemoveClass(R,{duration:ah.duration})}else{af.removeClass(J);ai.removeClass(R)}var ag=aa.contentAnimators;if(aa.inRequest){aa.xhr.abort();aa.inRequest=false}if(ag.length===0){aa.tabGroup.find("."+N).removeClass(N);ai.addClass(N).css("z-index");ai.addClass(J);aa._current(ai);aa.trigger("change");return false}var U=ag.filter("."+J),ac=aa.contentHolder(T),ae=ac.closest(".k-content");aa.tabsHeight=aa.tabGroup.outerHeight()+parseInt(aa.wrapper.css("border-top-width"),10)+parseInt(aa.wrapper.css("border-bottom-width"),10);aa._sizeScrollWrap(U);if(ac.length===0){U.removeClass(J).attr("aria-hidden",true).kendoStop(true,true).kendoAnimate(ah);return false}ai.attr("data-animating",true);var Y=(ai.children("."+x).data(m)||false)&&ac.is(f),Z=function(){aa.tabGroup.find("."+N).removeClass(N);ai.addClass(N).css("z-index");if(C.size(W.effects)){af.kendoAddClass(q,{duration:W.duration});ai.kendoAddClass(J,{duration:W.duration})}else{af.addClass(q);ai.addClass(J)}af.removeAttr("aria-selected");ai.attr("aria-selected",true);aa._current(ai);aa._sizeScrollWrap(ae);ae.addClass(J).removeAttr("aria-hidden").kendoStop(true,true).attr("aria-expanded",true).kendoAnimate(n({init:function(){aa.trigger(d,{item:ai[0],contentElement:ac[0]});C.resize(ac)}},W,{complete:function(){ai.removeAttr("data-animating");aa.trigger(o,{item:ai[0],contentElement:ac[0]});C.resize(ac);aa.scrollWrap.css("height","").css("height")}}))},X=function(){if(!Y){Z();aa.trigger("change")}else{ai.removeAttr("data-animating");aa.ajaxRequest(ai,ac,function(){ai.attr("data-animating",true);Z();aa.trigger("change")})}};U.removeClass(J);U.attr("aria-hidden",true);U.attr("aria-expanded",false);if(U.length){U.kendoStop(true,true).kendoAnimate(n({complete:X},ah))}else{X()}return true},contentElement:function(W){if(isNaN(W-0)){return p}var U=this.contentElements&&this.contentElements[0]&&!C.kineticScrollNeeded?this.contentElements:this.contentAnimators;W=U&&W<0?U.length+W:W;var X=new RegExp("-"+(W+1)+"$");if(U){for(var V=0,T=U.length;V<T;V++){if(X.test(U.eq(V).closest(".k-content")[0].id)){return U[V]}}}return p},contentHolder:function(U){var V=B(this.contentElement(U)),T=V.children(".km-scroll-container");return C.support.touch&&T[0]?T:V},ajaxRequest:function(Z,ab,V,U){Z=this.tabGroup.find(Z);var aa=this,ae=B.ajaxSettings.xhr,ac=Z.find("."+x),Y={},X=Z.width()/2,W=false,T=Z.find(".k-loading").removeClass("k-complete");if(!T[0]){T=B("<span class='k-loading'/>").prependTo(Z)}var af=X*2-T.width();var ad=function(){T.animate({marginLeft:(parseInt(T.css("marginLeft"),10)||0)<X?af:0},500,ad)};if(C.support.browser.msie&&C.support.browser.version<10){setTimeout(ad,40)}U=U||ac.data(m)||ac.attr(M);aa.inRequest=true;aa.xhr=B.ajax({type:"GET",cache:false,url:U,dataType:"html",data:Y,xhr:function(){var ai=this,ah=ae(),ag=ai.progressUpload?"progressUpload":ai.progress?"progress":false;if(ah){B.each([ah,ah.upload],function(){if(this.addEventListener){this.addEventListener("progress",function(aj){if(ag){ai[ag](aj)}},false)}})}ai.noProgress=!(window.XMLHttpRequest&&("upload" in new XMLHttpRequest()));return ah},progress:function(ag){if(ag.lengthComputable){var ah=parseInt((ag.loaded/ag.total*100),10)+"%";T.stop(true).addClass("k-progress").css({width:ah,marginLeft:0})}},error:function(ah,ag){if(aa.trigger("error",{xhr:ah,status:ag})){this.complete()}},stopProgress:function(){clearInterval(W);T.stop(true).addClass("k-progress")[0].style.cssText=""},complete:function(ag){aa.inRequest=false;if(this.noProgress){setTimeout(this.stopProgress,500)}else{this.stopProgress()}if(ag.statusText=="abort"){T.remove()}},success:function(ai){T.addClass("k-complete");try{var ak=this,ah=10;if(ak.noProgress){T.width(ah+"%");W=setInterval(function(){ak.progress({lengthComputable:true,loaded:Math.min(ah,100),total:100});ah+=10},40)}aa.angular("cleanup",function(){return{elements:ab.get()}});C.destroy(ab);ab.html(ai)}catch(aj){var ag=window.console;if(ag&&ag.error){ag.error(aj.name+": "+aj.message+" in "+U)}this.error(this.xhr,"error")}if(V){V.call(aa,ab)}aa.angular("compile",function(){return{elements:ab.get()}});aa.trigger(c,{item:Z[0],contentElement:ab[0]})}})}});n(E,{renderItem:function(T){T=n({tabStrip:{},group:{}},T);var V=e.empty,U=T.item;return e.item(n(T,{image:U.imageUrl?e.image:V,sprite:U.spriteCssClass?e.sprite:V,itemWrapper:e.itemWrapper},t))},renderContent:function(T){return e.content(n(T,t))}});C.ui.plugin(E)})(window.kendo.jQuery);(function(D,n){var E=window.kendo,x=E.keys,q=E.parseDate,g=E._activeElement,i=E._extractFormat,N=E.support,b=N.browser,M=E.ui,c=M.Widget,S="open",W="close",B="change",V=".kendoTimePicker",O="click"+V,R="k-state-default",A="disabled",h="readonly",u="li",P="<span/>",J="k-state-focused",r="k-state-hover",f="mouseenter"+V+" mouseleave"+V,K="mousedown"+V,F=60000,e=86400000,y="k-state-selected",o="k-state-disabled",d="aria-selected",C="aria-expanded",L="aria-hidden",j="aria-disabled",Q="aria-readonly",X="aria-activedescendant",v="id",w=D.isArray,l=D.extend,U=D.proxy,k=Date,t=new k();t=new k(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0);var s=function(Y){var Z=this,aa=Y.id;Z.options=Y;Z.ul=D('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:N.kineticScrollNeeded?"":"auto"}).on(O,u,U(Z._click,Z)).on("mouseenter"+V,u,function(){D(this).addClass(r)}).on("mouseleave"+V,u,function(){D(this).removeClass(r)});Z.list=D("<div class='k-list-container'/>").append(Z.ul).on(K,H);if(aa){Z._timeViewID=aa+"_timeview";Z._optionID=aa+"_option_selected";Z.ul.attr(v,Z._timeViewID)}Z._popup();Z._heightHandler=U(Z._height,Z);Z.template=E.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:false})};s.prototype={current:function(Y){var Z=this,aa=Z.options.active;if(Y!==n){if(Z._current){Z._current.removeClass(y).removeAttr(d).removeAttr(v)}if(Y){Y=D(Y).addClass(y).attr(v,Z._optionID).attr(d,true);Z.scroll(Y[0])}Z._current=Y;if(aa){aa(Y)}}else{return Z._current}},close:function(){this.popup.close()},destroy:function(){var Y=this;Y.ul.off(V);Y.list.off(V);if(Y._touchScroller){Y._touchScroller.destroy()}Y.popup.destroy()},open:function(){var Y=this;if(!Y.ul[0].firstChild){Y.bind()}Y.popup.open();if(Y._current){Y.scroll(Y._current[0])}},dataBind:function(Y){var ad=this,ah=ad.options,ae=ah.format,Z=E.toString,ag=ad.template,aa=Y.length,af=0,ab,ac="";for(;af<aa;af++){ab=Y[af];if(G(ab,ah.min,ah.max)){ac+=ag(Z(ab,ae,ah.culture))}}ad._html(ac)},refresh:function(){var ad=this,aa=ad.options,an=aa.format,ac=I(),af=ac<0,ak=aa.min,am=aa.max,ae=m(ak),ag=m(am),ao=aa.interval*F,al=E.toString,ap=ad.template,ab=new k(+ak),ai=ab.getDate(),Y,aq,aj=0,Z,ah="";if(af){Z=(e+(ac*F))/ao}else{Z=e/ao}if(ae!=ag){if(ae>ag){ag+=e}Z=((ag-ae)/ao)+1}aq=parseInt(Z,10);for(;aj<Z;aj++){if(aj){p(ab,ao,af)}if(ag&&aq==aj){Y=m(ab);if(ai<ab.getDate()){Y+=e}if(Y>ag){ab=new k(+am)}}ah+=ap(al(ab,an,aa.culture))}ad._html(ah)},bind:function(){var Y=this,Z=Y.options.dates;if(Z&&Z[0]){Y.dataBind(Z)}else{Y.refresh()}},_html:function(Y){var Z=this;Z.ul[0].innerHTML=Y;Z.popup.unbind(S,Z._heightHandler);Z.popup.one(S,Z._heightHandler);Z.current(null);Z.select(Z._value)},scroll:function(ag){if(!ag){return}var ad=this.ul[0],ae=ag.offsetTop,aa=ag.offsetHeight,Y=ad.scrollTop,af=ad.clientHeight,ab=ae+aa,Z=this._touchScroller,ac;if(Z){ac=this.list.height();if(ae>ac){ae=ae-ac+aa}Z.scrollTo(0,-ae)}else{ad.scrollTop=Y>ae?ae:ab>(Y+af)?ab-af:Y}},select:function(Y){var aa=this,Z=aa.options,ab=aa._current;if(Y instanceof Date){Y=E.toString(Y,Z.format,Z.culture)}if(typeof Y==="string"){if(!ab||ab.text()!==Y){Y=D.grep(aa.ul[0].childNodes,function(ac){return(ac.textContent||ac.innerText)==Y});Y=Y[0]?Y:null}else{Y=ab}}aa.current(Y)},setOptions:function(Z){var Y=this.options;Z.min=q(Z.min);Z.max=q(Z.max);this.options=l(Y,Z,{active:Y.active,change:Y.change,close:Y.close,open:Y.open});this.bind()},toggle:function(){var Y=this;if(Y.popup.visible()){Y.close()}else{Y.open()}},value:function(Z){var Y=this;Y._value=Z;if(Y.ul[0].firstChild){Y.select(Z)}},_click:function(ac){var aa=this,Y=D(ac.currentTarget),Z=Y.text(),ab=aa.options.dates;if(ab&&ab.length>0){Z=ab[Y.index()]}if(!ac.isDefaultPrevented()){aa.select(Y);aa.options.change(Z,true);aa.close()}},_height:function(){var aa=this;var ab=aa.list;var Z=ab.parent(".k-animation-container");var Y=aa.options.height;if(aa.ul[0].children.length){ab.add(Z).show().height(aa.ul[0].scrollHeight>Y?Y:"auto").hide()}},_parse:function(aa){var Z=this,Y=Z.options,ab=Z._value||t;if(aa instanceof k){return aa}aa=q(aa,Y.parseFormats,Y.culture);if(aa){aa=new k(ab.getFullYear(),ab.getMonth(),ab.getDate(),aa.getHours(),aa.getMinutes(),aa.getSeconds(),aa.getMilliseconds())}return aa},_adjustListWidth:function(){var ab=this.list,aa=ab[0].style.width,ac=this.options.anchor,Z,Y;if(!ab.data("width")&&aa){return}Z=window.getComputedStyle?window.getComputedStyle(ac[0],null):0;Y=Z?parseFloat(Z.width):ac.outerWidth();if(Z&&(b.mozilla||b.msie)){Y+=parseFloat(Z.paddingLeft)+parseFloat(Z.paddingRight)+parseFloat(Z.borderLeftWidth)+parseFloat(Z.borderRightWidth)}aa=Y-(ab.outerWidth()-ab.width());ab.css({fontFamily:ac.css("font-family"),width:aa}).data("width",aa)},_popup:function(){var aa=this,ab=aa.list,Z=aa.options,Y=Z.anchor;aa.popup=new M.Popup(ab,l(Z.popup,{anchor:Y,open:Z.open,close:Z.close,animation:Z.animation,isRtl:N.isRtl(Z.anchor)}));aa._touchScroller=E.touchScroller(aa.popup.element)},move:function(ac){var aa=this,Z=ac.keyCode,Y=aa.ul[0],ab=aa._current,ad=Z===x.DOWN;if(Z===x.UP||ad){if(ac.altKey){aa.toggle(ad);return}else{if(ad){ab=ab?ab[0].nextSibling:Y.firstChild}else{ab=ab?ab[0].previousSibling:Y.lastChild}}if(ab){aa.select(ab)}aa.options.change(aa._current.text());ac.preventDefault()}else{if(Z===x.ENTER||Z===x.TAB||Z===x.ESC){ac.preventDefault();if(ab){aa.options.change(ab.text(),true)}aa.close()}}}};function p(Y,ab,aa){var ac=Y.getTimezoneOffset(),Z;Y.setTime(Y.getTime()+ab);if(!aa){Z=Y.getTimezoneOffset()-ac;Y.setTime(Y.getTime()+Z*F)}}function I(){var Y=new k(),Z=new k(Y.getFullYear(),Y.getMonth(),Y.getDate(),0,0,0),aa=new k(Y.getFullYear(),Y.getMonth(),Y.getDate(),12,0,0);return -1*(Z.getTimezoneOffset()-aa.getTimezoneOffset())}function m(Y){return Y.getHours()*60*F+Y.getMinutes()*F+Y.getSeconds()*1000+Y.getMilliseconds()}function G(ab,aa,Y){var Z=m(aa),ac=m(Y),ad;if(!ab||Z==ac){return true}ad=m(ab);if(Z>ad){ad+=e}if(ac<Z){ac+=e}return ad>=Z&&ad<=ac}s.getMilliseconds=m;E.TimeView=s;var z=c.extend({init:function(ab,Z){var ad=this,aa,Y,ac;c.fn.init.call(ad,ab,Z);ab=ad.element;Z=ad.options;Z.min=q(ab.attr("min"))||q(Z.min);Z.max=q(ab.attr("max"))||q(Z.max);T(Z);ad._wrapper();ad.timeView=Y=new s(l({},Z,{id:ab.attr(v),anchor:ad.wrapper,format:Z.format,change:function(ag,af){if(af){ad._change(ag)}else{ab.val(ag)}},open:function(af){ad.timeView._adjustListWidth();if(ad.trigger(S)){af.preventDefault()}else{ab.attr(C,true);aa.attr(L,false)}},close:function(af){if(ad.trigger(W)){af.preventDefault()}else{ab.attr(C,false);aa.attr(L,true)}},active:function(af){ab.removeAttr(X);if(af){ab.attr(X,Y._optionID)}}}));aa=Y.ul;ad._icon();ad._reset();try{ab[0].setAttribute("type","text")}catch(ae){ab[0].type="text"}ab.addClass("k-input").attr({role:"combobox","aria-expanded":false,"aria-owns":Y._timeViewID});ac=ab.is("[disabled]");if(ac){ad.enable(false)}else{ad.readonly(ab.is("[readonly]"))}ad._old=ad._update(Z.value||ad.element.val());ad._oldText=ab.val();E.notify(ad)},options:{name:"TimePicker",min:t,max:t,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{}},events:[S,W,B],setOptions:function(Y){var Z=this;var aa=Z._value;c.fn.setOptions.call(Z,Y);Y=Z.options;T(Y);Z.timeView.setOptions(Y);if(aa){Z.element.val(E.toString(aa,Y.format,Y.culture))}},dataBind:function(Y){if(w(Y)){this.timeView.dataBind(Y)}},_editable:function(aa){var ac=this,Z=aa.disable,Y=aa.readonly,ad=ac._arrow.off(V),ab=ac.element.off(V),ae=ac._inputWrapper.off(V);if(!Y&&!Z){ae.addClass(R).removeClass(o).on(f,ac._toggleHover);ab.removeAttr(A).removeAttr(h).attr(j,false).attr(Q,false).on("keydown"+V,U(ac._keydown,ac)).on("focusout"+V,U(ac._blur,ac)).on("focus"+V,function(){ac._inputWrapper.addClass(J)});ad.on(O,U(ac._click,ac)).on(K,H)}else{ae.addClass(Z?o:R).removeClass(Z?R:o);ab.attr(A,Z).attr(h,Y).attr(j,Z).attr(Q,Y)}},readonly:function(Y){this._editable({readonly:Y===n?true:Y,disable:false})},enable:function(Y){this._editable({readonly:false,disable:!(Y=Y===n?true:Y)})},destroy:function(){var Y=this;c.fn.destroy.call(Y);Y.timeView.destroy();Y.element.off(V);Y._arrow.off(V);Y._inputWrapper.off(V);if(Y._form){Y._form.off("reset",Y._resetHandler)}},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(Y){return this._option("min",Y)},max:function(Y){return this._option("max",Y)},value:function(Z){var Y=this;if(Z===n){return Y._value}Y._old=Y._update(Z);if(Y._old===null){Y.element.val("")}Y._oldText=Y.element.val()},_blur:function(){var Y=this,Z=Y.element.val();Y.close();if(Z!==Y._oldText){Y._change(Z)}Y._inputWrapper.removeClass(J)},_click:function(){var Z=this,Y=Z.element;Z.timeView.toggle();if(!N.touch&&Y[0]!==g()){Y.focus()}},_change:function(Z){var Y=this;Z=Y._update(Z);if(+Y._old!=+Z){Y._old=Z;Y._oldText=Y.element.val();Y.element.trigger(B);Y.trigger(B)}},_icon:function(){var Z=this,Y=Z.element,aa;aa=Y.next("span.k-select");if(!aa[0]){aa=D('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(Y)}Z._arrow=aa.attr({role:"button","aria-controls":Z.timeView._timeViewID})},_keydown:function(ac){var aa=this,Z=ac.keyCode,Y=aa.timeView,ab=aa.element.val();if(Y.popup.visible()||ac.altKey){Y.move(ac)}else{if(Z===x.ENTER&&ab!==aa._oldText){aa._change(ab)}}},_option:function(Z,ab){var aa=this,Y=aa.options;if(ab===n){return Y[Z]}ab=aa.timeView._parse(ab);if(!ab){return}ab=new k(+ab);Y[Z]=ab;aa.timeView.options[Z]=ab;aa.timeView.bind()},_toggleHover:function(Y){D(Y.currentTarget).toggleClass(r,Y.type==="mouseenter")},_update:function(ac){var ab=this,aa=ab.options,Z=ab.timeView,Y=Z._parse(ac);if(!G(Y,aa.min,aa.max)){Y=null}ab._value=Y;ab.element.val(Y?E.toString(Y,aa.format,aa.culture):ac);Z.value(Y);return Y},_wrapper:function(){var Z=this,Y=Z.element,aa;aa=Y.parents(".k-timepicker");if(!aa[0]){aa=Y.wrap(P).parent().addClass("k-picker-wrap k-state-default");aa=aa.wrap(P).parent()}aa[0].style.cssText=Y[0].style.cssText;Z.wrapper=aa.addClass("k-widget k-timepicker k-header").addClass(Y[0].className);Y.css({width:"100%",height:Y[0].style.height});Z._inputWrapper=D(aa[0].firstChild)},_reset:function(){var aa=this,Y=aa.element,ab=Y.attr("form"),Z=ab?D("#"+ab):Y.closest("form");if(Z[0]){aa._resetHandler=function(){aa.value(Y[0].defaultValue)};aa._form=Z.on("reset",aa._resetHandler)}}});function T(Y){var Z=Y.parseFormats;Y.format=i(Y.format||E.getCulture(Y.culture).calendars.standard.patterns.t);Z=w(Z)?Z:[Z];Z.splice(0,0,Y.format);Y.parseFormats=Z}function H(Y){Y.preventDefault()}M.plugin(z)})(window.kendo.jQuery);(function(F,l){var G=window.kendo,b=G.Class,d=G.ui.Widget,T=F.proxy,q=G.isFunction,R="k-toolbar",Z="k-button",C="k-overflow-button",i="k-toggle-button",Q="k-button-group",n="k-split-button",s="k-separator",K="k-popup",p="k-toolbar-resizable",N="k-state-active",w="k-state-disabled",h="k-group-start",I="k-group-end",Y="k-primary",E="k-icon",c="k-i-",W="k-button-icon",D="k-button-icontext",M="k-list-container k-split-container",aa="k-split-button-arrow",r="k-overflow-anchor",u="k-overflow-container",A="k-toolbar-first-visible",V="k-toolbar-last-visible",L="click",f="toggle",P="open",X="close",y="overflowOpen",g="overflowClose",U="never",o="auto",H="always",v="k-overflow-hidden",k=G.attr("uid"),e=G.template,t={button:{base:B,toolbar:z,overflow:j},buttonGroup:{base:function(ad,ah,af){var ac=ad.buttons,ag;if(!ac){return}if(ad.attributes){af.attr(ad.attributes)}af.data({type:"buttonGroup"});af.attr(k,ad.uid);for(var ae=0;ae<ac.length;ae++){if(!ac[ae].uid){ac[ae].uid=G.guid()}ag=ah(F.extend({mobile:ad.mobile},ac[ae]));ag.appendTo(af)}af.children().first().addClass(h);af.children().last().addClass(I)},toolbar:function(ac){var ad=F("<div></div>");t.buttonGroup.base(ac,t.button.toolbar,ad);ad.addClass(Q);if(ac.align){ad.addClass("k-align-"+ac.align)}if(ac.id){ad.attr("id",ac.id)}return ad},overflow:function(ac){var ad=F("<li></li>");t.buttonGroup.base(ac,t.button.overflow,ad);ad.addClass((ac.mobile?"":Q)+" k-overflow-group");if(ac.id){ad.attr("id",ac.id+"_overflow")}return ad}},splitButton:{toolbar:function(ak){var af=F('<div class="'+n+'"></div>'),ac=t.button.toolbar(ak),ai=F('<a class="'+Z+" "+aa+'"><span class="'+(ak.mobile?"km-icon km-arrowdown":"k-icon k-i-arrow-s")+'"></span></a>'),ah=F('<ul class="'+M+'"></ul>'),ad,ag=ak.menuButtons,aj;ac.appendTo(af);ai.appendTo(af);ah.appendTo(af);for(var ae=0;ae<ag.length;ae++){aj=t.button.toolbar(F.extend({mobile:ak.mobile,click:ak.click},ag[ae]));aj.wrap("<li></li>").parent().appendTo(ah)}if(ak.align){af.addClass("k-align-"+ak.align)}if(!ak.id){ak.id=ak.uid}af.attr("id",ak.id+"_wrapper");ah.attr("id",ak.id+"_optionlist").attr(k,ak.rootUid);if(ak.mobile){ah=x(ah)}ad=ah.kendoPopup({appendTo:ak.mobile?F(ak.mobile).children(".km-pane"):null,anchor:af,copyAnchorStyles:false,animation:ak.animation,open:S}).data("kendoPopup");af.data({type:"splitButton",kendoPopup:ad});af.attr(k,ak.uid);return af},overflow:function(ad){var af=F('<li class="'+n+'"></li>'),ah=t.button.overflow(ad),ac=ad.menuButtons,ag;ah.appendTo(af);for(var ae=0;ae<ac.length;ae++){ag=t.button.overflow(F.extend({mobile:ad.mobile},ac[ae]));ag.appendTo(af)}af.data({type:"splitButton"});af.attr(k,ad.uid);return af}},separator:{base:function(ac,ae){var ad=ae?F("<li>&nbsp;</li>"):F("<div>&nbsp;</div>");ad.data({type:"separator"});ad.attr(k,ac.uid);if(ac.attributes){ad.attr(ac.attributes)}ad.addClass(s);return ad},toolbar:function(ac){var ad=t.separator.base(ac,false);if(ac.id){ad.attr("id",ac.id)}return ad},overflow:function(ac){var ad=t.separator.base(ac,true);if(ac.id){ad.attr("id",ac.id+"_overflow")}return ad}},overflowAnchor:'<div class="k-overflow-anchor"></div>',overflowContainer:'<ul class="k-overflow-container k-list-container"></ul>'};function B(ac){var ad=ac.useButtonTag?F("<button></button>"):F("<a></a>");ad.data({type:"button"});ad.attr(k,ac.uid);if(ac.attributes){ad.attr(ac.attributes)}if(ac.togglable){ad.addClass(i);if(ac.selected){ad.addClass(N)}}if(ac.enable===false){ad.addClass(w)}if(ac.url!==l&&!ac.useButtonTag){ad.attr("href",ac.url);if(ac.mobile){ad.attr(G.attr("role"),"button")}}if(ac.group){ad.attr(G.attr("group"),ac.group)}if(!ac.togglable&&ac.click&&q(ac.click)){ad.data("click",ac.click)}if(ac.togglable&&ac.toggle&&q(ac.toggle)){ad.data("toggle",ac.toggle)}return ad}function z(ad){var ae=t.button.base(ad),ac;ae.addClass(Z);if(ad.primary){ae.addClass(Y)}if(ad.align){ae.addClass("k-align-"+ad.align)}if(ad.id){ae.attr("id",ad.id)}if(ad.showText!="overflow"&&ad.text){if(ad.mobile){ae.html('<span class="km-text">'+ad.text+"</span>")}else{ae.html(ad.text)}}ac=(ad.showIcon!="overflow")&&(ad.icon||ad.spriteCssClass||ad.imageUrl);if(ac){J(ad,ae)}return ae}function j(ad){var ae=t.button.base(ad),ac;ae.addClass(C+" "+Z);if(ad.primary){ae.addClass(Y)}if(ad.id){ae.attr("id",ad.id+"_overflow")}if(ad.showText!="toolbar"&&ad.text){if(ad.mobile){ae.html('<span class="km-text">'+ad.text+"</span>")}else{ae.html(ad.text)}}ac=(ad.showIcon!="toolbar")&&(ad.icon||ad.spriteCssClass||ad.imageUrl);if(ac){J(ad,ae)}return ae}function J(ae,af){var ah=ae.icon,ai=ae.spriteCssClass,ad=ae.imageUrl,aj,ag,ac;if(ai||ad||ah){aj=true;af.contents().not("span.k-sprite,span."+E+",img.k-image").each(function(ak,al){if(al.nodeType==1||al.nodeType==3&&F.trim(al.nodeValue).length>0){aj=false}});if(aj){af.addClass(W)}else{af.addClass(D)}}if(ah){ag=af.children("span."+E).first();if(!ag[0]){ag=F('<span class="'+E+'"></span>').prependTo(af)}ag.addClass(c+ah)}else{if(ai){ag=af.children("span.k-sprite").first();if(!ag[0]){ag=F('<span class="k-sprite"></span>').prependTo(af)}ag.addClass(ai)}else{if(ad){ac=af.children("img.k-image").first();if(!ac[0]){ac=F('<img alt="icon" class="k-image" />').prependTo(af)}ac.attr("src",ad)}}}}function S(af){var ad=this.options.anchor,ac=ad.outerWidth(),ae;G.wrap(this.element).addClass("k-split-wrapper");if(this.element.css("box-sizing")!=="border-box"){ae=ac-(this.element.outerWidth()-this.element.width())}else{ae=ac}this.element.css({fontFamily:ad.css("font-family"),"min-width":ae})}function m(ac){if(!ac.target.is(".k-toggle-button")){ac.target.toggleClass(N,ac.type=="press")}}function x(ac){ac=F(ac);return ac.hasClass("km-actionsheet")?ac.closest(".km-popup-wrapper"):ac.addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"></div>').parent().wrap('<div class="km-popup-wrapper k-popup"></div>').parent()}function O(ac){ac.preventDefault()}var ab=d.extend({init:function(ae,ac){var af=this;d.fn.init.call(af,ae,ac);ac=af.options;ae=af.wrapper=af.element;ae.addClass(R+" k-widget");this.uid=G.guid();ae.attr(k,this.uid);af.isMobile=(typeof ac.mobile==="boolean")?ac.mobile:af.element.closest(".km-root")[0];af.animation=af.isMobile?{open:{effects:"fade"}}:{};if(af.isMobile){ae.addClass("km-widget");E="km-icon";c="km-";Z="km-button";Q="km-buttongroup km-widget";N="km-state-active";w="km-state-disabled"}if(ac.resizable){af._renderOverflow();ae.addClass(p);af.overflowUserEvents=new G.UserEvents(af.element,{threshold:5,allowSelection:true,filter:"."+r,tap:T(af._toggleOverflow,af)});af._resizeHandler=G.onResize(function(){af.resize()})}else{af.popup={element:F([])}}if(ac.items&&ac.items.length){for(var ad=0;ad<ac.items.length;ad++){af.add(ac.items[ad])}}af.userEvents=new G.UserEvents(document,{threshold:5,allowSelection:true,filter:"["+k+"="+this.uid+"] ."+Z+", ["+k+"="+this.uid+"] ."+C,tap:T(af._buttonClick,af),press:m,release:m});af.element.on(L,"."+w,O);if(ac.resizable){af.popup.element.on(L,+"."+w,O)}if(ac.resizable){this._toggleOverflowAnchor()}G.notify(af)},events:[L,f,P,X,y,g],options:{name:"ToolBar",items:[],resizable:true,mobile:null},destroy:function(){var ac=this;ac.element.find("."+n).each(function(ad,ae){F(ae).data("kendoPopup").destroy()});ac.userEvents.destroy();if(ac.options.resizable){G.unbindResize(ac._resizeHandler);ac.overflowUserEvents.destroy();ac.popup.destroy()}d.fn.destroy.call(ac)},add:function(af){var ae=t[af.type],ah=af.template,ag,aj=this,ai=aj.isMobile?"":"k-item k-state-default",ac=af.overflowTemplate,ad;F.extend(af,{uid:G.guid(),animation:aj.animation,mobile:aj.isMobile,rootUid:aj.uid});if(ah&&!ac){af.overflow=U}if(af.overflow!==U&&aj.options.resizable){if(ac){ad=q(ac)?F(ac(af)):F(ac);if(af.id){ad.attr("id",af.id+"_overflow")}}else{if(ae){ad=(ae.overflow||F.noop)(af)}}if(ad&&ad.length){if(ad.prop("tagName")!=="LI"){ad.removeAttr(k);ad=ad.wrap("<li></li>").parent();ad.attr(k,af.uid);if(af.type==="button"&&af.enable===false){ad.find("."+Z).removeClass(w);ad.addClass(w)}}aj._attributes(ad,af);ad.addClass(ai).appendTo(aj.popup.container);if(ad.data("overflow")===o){ad.addClass(v)}aj.angular("compile",function(){return{elements:ad.get()}})}}if(af.overflow!==H){if(ah){ag=q(ah)?ah(af):ah;if(!(ag instanceof jQuery)){ag=F("<div></div>").html(ag)}else{ag=ag.wrap("<div></div>").parent()}if(af.id){ag.attr("id",af.id)}if(af.attributes){ag.attr(af.attributes)}ag.attr(k,af.uid)}else{if(ae){ag=(ae.toolbar||F.noop)(af)}}if(ag&&ag.length){aj._attributes(ag,af);if(aj.options.resizable){ag.appendTo(aj.element).css("visibility","hidden");aj._shrink(aj.element.innerWidth());ag.css("visibility","visible")}else{ag.appendTo(aj.element)}aj.angular("compile",function(){return{elements:ag.get()}})}}},remove:function(ae){var ag,ac,ah=this.options.resizable,af,ad;ag=this.element.find(ae);if(ah){ac=this.popup.element.find(ae)}if(ag.length){af=ag.data("type");ad=ag.attr(k);if(ag.parent("."+n).data("type")==="splitButton"){af="splitButton";ag=ag.parent()}ac=ah?this.popup.element.find("li["+k+"='"+ad+"']"):F([])}else{if(ac.length){af=ac.data("type");ac=ac.parent();if(ac.data("type")==="splitButton"){af="splitButton"}ad=ac.attr(k);ag=this.element.find("div."+n+"["+k+"='"+ad+"']")}}if(af==="splitButton"&&ag.data("kendoPopup")){ag.data("kendoPopup").destroy()}ag.remove();ac.remove()},enable:function(ae,ac){var ad=this.element.find(ae).attr(k);if(!ad&&this.popup){ad=this.popup.element.find(ae).parent("li").attr(k)}if(typeof ac=="undefined"){ac=true}if(ac){F("["+k+"='"+ad+"']").removeClass(w)}else{F("["+k+"='"+ad+"']").addClass(w)}},getSelectedFromGroup:function(ac){return this.element.find("."+i+"[data-group='"+ac+"']").filter("."+N)},toggle:function(ae,af){var ad=F(ae),ac=ad.data("uid"),ah=ad.data("group"),ag;if(ad.hasClass(i)){if(ah){this.element.add(this.popup.element).find("."+i+"[data-group='"+ah+"']").filter("."+N).removeClass(N)}if(F.contains(this.element[0],ad[0])){ag=this.popup.element.find("["+k+"='"+ac+"']");if(ag.prop("tagName")==="LI"){ag=ag.find("."+i+":first")}}else{ac=ac?ac:ad.parent().data("uid");ag=this.element.find("["+k+"='"+ac+"']")}ad.add(ag).toggleClass(N,af)}},_attributes:function(ad,ac){ad.attr(G.attr("overflow"),ac.overflow||o)},_renderOverflow:function(){var ad=this,ac=t.overflowContainer;ad.overflowAnchor=F(t.overflowAnchor).addClass(Z);ad.element.append(ad.overflowAnchor);if(ad.isMobile){ad.overflowAnchor.append('<span class="km-icon km-more"></span>');ac=x(ac)}else{ad.overflowAnchor.append('<span class="k-icon k-i-more"></span>')}ad.popup=new G.ui.Popup(ac,{origin:"bottom right",position:"top right",anchor:ad.overflowAnchor,animation:ad.animation,appendTo:ad.isMobile?F(ad.isMobile).children(".km-pane"):null,copyAnchorStyles:false,open:function(ae){var af=G.wrap(ad.popup.element).addClass("k-overflow-wrapper");if(!ad.isMobile){af.css("margin-left",(af.outerWidth()-af.width())/2+1)}else{ad.popup.container.css("max-height",(parseFloat(F(".km-content:visible").innerHeight())-15)+"px")}if(ad.trigger(y)){ae.preventDefault()}},close:function(ae){if(ad.trigger(g)){ae.preventDefault()}}});if(ad.isMobile){ad.popup.container=ad.popup.element.find("."+u)}else{ad.popup.container=ad.popup.element}ad.popup.container.attr(k,this.uid);ad.popup.element.toggleClass("k-rtl",G.support.isRtl(ad.element))},_toggleOverflowAnchor:function(){if(this.popup.element.children(":not(."+v+", ."+K+")").length>0){this.overflowAnchor.css({visibility:"visible",width:""})}else{this.overflowAnchor.css({visibility:"hidden",width:"1px"})}},_buttonClick:function(ag){var af=this,ac,ah,ai,al,ae,ak,am,aj,ad;ag.preventDefault();ah=F(ag.target).closest("."+Z,af.element);if(ah.hasClass(r)){return}if(!ah.length&&af.popup){ah=F(ag.target).closest("."+C,af.popup.container)}al=ah.hasClass(C)?ah.parent("li").hasClass(w):ah.hasClass(w);if(al){return}if(ag.target.closest("."+aa).length){af._toggle(ag);return}ad=ah.attr("id")?ah.attr("id").replace(/(_overflow$)/,""):l;if(ah.hasClass(i)){ak=ah.data("group");am=q(ah.data("toggle"))?ah.data("toggle"):null;af.toggle(ah);ae=ah.hasClass(N);aj={target:ah,group:ak,checked:ae,id:ad};if(am){am.call(af,aj)}af.trigger(f,aj)}else{am=q(ah.data("click"))?ah.data("click"):null;aj={target:ah,id:ad};if(am){am.call(af,aj)}af.trigger(L,aj)}if(ah.hasClass(C)){af.popup.close()}ai=ah.closest(".k-split-container");if(ai[0]){ac=ai.data("kendoPopup");(ac?ac:ai.parents(".km-popup-wrapper").data("kendoPopup")).close()}},_toggle:function(af){var ae=F(af.target).closest("."+n),ac=ae.data("kendoPopup"),ad;af.preventDefault();if(ae.hasClass(w)){return}if(ac.element.is(":visible")){ad=this.trigger(X,{target:ae})}else{ad=this.trigger(P,{target:ae})}if(!ad){ac.toggle()}},_toggleOverflow:function(){this.popup.toggle()},_resize:function(ad){var ac=ad.width;if(!this.options.resizable){return}this.popup.close();this._shrink(ac);this._stretch(ac);this._markVisibles();this._toggleOverflowAnchor()},_childrenWidth:function(){var ac=0;this.element.children(":visible").each(function(){ac+=F(this).outerWidth(true)});return Math.ceil(ac)},_shrink:function(af){var ae,ac;if(af<this._childrenWidth()){ac=this.element.children(":visible:not([data-overflow='never'], ."+r+")");for(var ad=ac.length-1;ad>=0;ad--){ae=ac.eq(ad);if(af>this._childrenWidth()){break}else{this._hideItem(ae)}}}},_stretch:function(af){var ae,ac;if(af>this._childrenWidth()){ac=this.element.children(":hidden");for(var ad=0;ad<ac.length;ad++){ae=ac.eq(ad);if(af<this._childrenWidth()||!this._showItem(ae,af)){break}}}},_hideItem:function(ac){ac.hide();if(this.popup){this.popup.container.find(">li[data-uid='"+ac.data("uid")+"']").removeClass(v)}},_showItem:function(ac,ad){if(ac.length&&ad>this._childrenWidth()+ac.outerWidth(true)){ac.show();if(this.popup){this.popup.container.find(">li[data-uid='"+ac.data("uid")+"']").addClass(v)}return true}return false},_markVisibles:function(){var af=this.popup.container.children(),ae=this.element.children(":not(.k-overflow-anchor)"),ac=af.filter(":not(.k-overflow-hidden)"),ad=ae.filter(":visible");af.add(ae).removeClass(A+" "+V);ac.first().add(ad.first()).addClass(A);ac.last().add(ad.last()).addClass(V)}});G.ui.plugin(ab)})(window.kendo.jQuery);(function(y,m){var z=window.kendo,r=z.TimeView,p=z.parseDate,f=z._activeElement,h=z._extractFormat,L=z.calendar,A=L.isInRange,b=L.restrictValue,u=L.isEqualDatePart,l=r.getMilliseconds,F=z.ui,c=F.Widget,M="open",R="close",w="change",Q=".kendoDateTimePicker",G="click"+Q,v="disabled",g="readonly",J="k-state-default",C="k-state-focused",q="k-state-hover",n="k-state-disabled",d="mouseenter"+Q+" mouseleave"+Q,D="mousedown"+Q,e="month",H="<span/>",T="aria-activedescendant",x="aria-expanded",E="aria-hidden",O="aria-owns",i="aria-disabled",I="aria-readonly",j=Date,s=new j(1800,0,1),S=new j(2099,11,31),N={view:"date"},o={view:"time"},k=y.extend;var K=c.extend({init:function(V,U){var X=this,W;c.fn.init.call(X,V,U);V=X.element;U=X.options;U.min=p(V.attr("min"))||p(U.min);U.max=p(V.attr("max"))||p(U.max);P(U);X._wrapper();X._views();X._icons();X._reset();X._template();try{V[0].setAttribute("type","text")}catch(Y){V[0].type="text"}V.addClass("k-input").attr({role:"combobox","aria-expanded":false});X._midnight=l(U.min)+l(U.max)===0;W=V.is("[disabled]");if(W){X.enable(false)}else{X.readonly(V.is("[readonly]"))}X._old=X._update(U.value||X.element.val());X._oldText=V.val();z.notify(X)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],min:new j(s),max:new j(S),interval:30,height:200,footer:"",start:e,depth:e,animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "d")#'},events:[M,R,w],setOptions:function(V){var Z=this,ab=Z._value,X=Z.dateView.options,aa=Z.timeView.options,W,U,Y;c.fn.setOptions.call(Z,V);V=Z.options;V.min=W=p(V.min);V.max=U=p(V.max);P(V);Y=V.value||Z._value||Z.dateView._current;if(W&&!u(W,Y)){W=new j(s)}if(U&&!u(U,Y)){U=new j(S)}Z.dateView.setOptions(V);Z.timeView.setOptions(k({},V,{format:V.timeFormat,min:W,max:U}));if(ab){Z.element.val(z.toString(ab,V.format,V.culture));Z._updateARIA(ab)}},_editable:function(W){var Z=this,Y=Z.element.off(Q),X=Z._dateIcon.off(Q),aa=Z._timeIcon.off(Q),ab=Z._inputWrapper.off(Q),U=W.readonly,V=W.disable;if(!U&&!V){ab.addClass(J).removeClass(n).on(d,Z._toggleHover);Y.removeAttr(v).removeAttr(g).attr(i,false).attr(I,false).on("keydown"+Q,y.proxy(Z._keydown,Z)).on("focus"+Q,function(){Z._inputWrapper.addClass(C)}).on("focusout"+Q,function(){Z._inputWrapper.removeClass(C);if(Y.val()!==Z._oldText){Z._change(Y.val())}Z.close("date");Z.close("time")});X.on(D,B).on(G,function(){Z.toggle("date");if(!z.support.touch&&Y[0]!==f()){Y.focus()}});aa.on(D,B).on(G,function(){Z.toggle("time");if(!z.support.touch&&Y[0]!==f()){Y.focus()}})}else{ab.addClass(V?n:J).removeClass(V?J:n);Y.attr(v,V).attr(g,U).attr(i,V).attr(I,U)}},readonly:function(U){this._editable({readonly:U===m?true:U,disable:false})},enable:function(U){this._editable({readonly:false,disable:!(U=U===m?true:U)})},destroy:function(){var U=this;c.fn.destroy.call(U);U.dateView.destroy();U.timeView.destroy();U.element.off(Q);U._dateIcon.off(Q);U._timeIcon.off(Q);U._inputWrapper.off(Q);if(U._form){U._form.off("reset",U._resetHandler)}},close:function(U){if(U!=="time"){U="date"}this[U+"View"].close()},open:function(U){if(U!=="time"){U="date"}this[U+"View"].open()},min:function(U){return this._option("min",U)},max:function(U){return this._option("max",U)},toggle:function(V){var U="timeView";if(V!=="time"){V="date"}else{U="dateView"}this[V+"View"].toggle();this[U].close()},value:function(V){var U=this;if(V===m){return U._value}U._old=U._update(V);if(U._old===null){U.element.val("")}U._oldText=U.element.val()},_change:function(V){var U=this;V=U._update(V);if(+U._old!=+V){U._old=V;U._oldText=U.element.val();U.trigger(w);U.element.trigger(w)}},_option:function(V,Z){var W=this;var ab=W.options;var ac=W.timeView;var U=ac.options;var X=W._value||W._old;var Y;var aa;if(Z===m){return ab[V]}Z=p(Z,ab.parseFormats,ab.culture);if(!Z){return}if(ab.min.getTime()===ab.max.getTime()){U.dates=[]}ab[V]=new j(Z.getTime());W.dateView[V](Z);W._midnight=l(ab.min)+l(ab.max)===0;if(X){Y=u(ab.min,X);aa=u(ab.max,X)}if(Y||aa){U[V]=Z;if(Y&&!aa){U.max=t(ab.interval)}if(aa){if(W._midnight){ac.dataBind([S]);return}else{if(!Y){U.min=s}}}}else{U.max=S;U.min=s}ac.bind()},_toggleHover:function(U){y(U.currentTarget).toggleClass(q,U.type==="mouseenter")},_update:function(af){var ab=this,ah=ab.options,Y=ah.min,ad=ah.max,U=ah.dates,ai=ab.timeView,ac=ab._value,W=p(af,ah.parseFormats,ah.culture),X=(W===null&&ac===null)||(W instanceof Date&&ac instanceof Date),ae,aa,V,ag,Z;if(+W===+ac&&X){Z=z.toString(W,ah.format,ah.culture);if(Z!==af){ab.element.val(W===null?af:Z)}return W}if(W!==null&&u(W,Y)){W=b(W,Y,ad)}else{if(!A(W,Y,ad)){W=null}}ab._value=W;ai.value(W);ab.dateView.value(W);if(W){V=ab._old;aa=ai.options;if(U[0]){U=y.grep(U,function(aj){return u(W,aj)});if(U[0]){ai.dataBind(U);ag=true}}if(!ag){if(u(W,Y)){aa.min=Y;aa.max=t(ah.interval);ae=true}if(u(W,ad)){if(ab._midnight){ai.dataBind([S]);ag=true}else{aa.max=ad;if(!ae){aa.min=s}ae=true}}}if(!ag&&((!V&&ae)||(V&&!u(V,W)))){if(!ae){aa.max=S;aa.min=s}ai.bind()}}ab.element.val(W?z.toString(W,ah.format,ah.culture):af);ab._updateARIA(W);return W},_keydown:function(Z){var X=this,U=X.dateView,W=X.timeView,Y=X.element.val(),V=U.popup.visible();if(Z.altKey&&Z.keyCode===z.keys.DOWN){X.toggle(V?"time":"date")}else{if(V){U.move(Z);X._updateARIA(U._current)}else{if(W.popup.visible()){W.move(Z)}else{if(Z.keyCode===z.keys.ENTER&&Y!==X._oldText){X._change(Y)}}}}},_views:function(){var Z=this,X=Z.element,ac=Z.options,V=X.attr("id"),Y,ad,U,aa,ab,W;Z.dateView=Y=new z.DateView(k({},ac,{id:V,anchor:Z.wrapper,change:function(){var af=Y.calendar.value(),ai=+af,ae=+ac.min,ah=+ac.max,ag;if(ai===ae||ai===ah){ag=new j(+Z._value);ag.setFullYear(af.getFullYear(),af.getMonth(),af.getDate());if(A(ag,ae,ah)){af=ag}}Z._change(af);Z.close("date")},close:function(ae){if(Z.trigger(R,N)){ae.preventDefault()}else{X.attr(x,false);U.attr(E,true);if(!ad.popup.visible()){X.removeAttr(O)}}},open:function(ae){if(Z.trigger(M,N)){ae.preventDefault()}else{if(X.val()!==Z._oldText){W=p(X.val(),ac.parseFormats,ac.culture);Z.dateView[W?"current":"value"](W)}U.attr(E,false);X.attr(x,true).attr(O,Y._dateViewID);Z._updateARIA(W)}}}));U=Y.div;ab=ac.min.getTime();Z.timeView=ad=new r({id:V,value:ac.value,anchor:Z.wrapper,animation:ac.animation,format:ac.timeFormat,culture:ac.culture,height:ac.height,interval:ac.interval,min:new j(s),max:new j(S),dates:ab===ac.max.getTime()?[new Date(ab)]:[],parseFormats:ac.parseFormats,change:function(af,ae){af=ad._parse(af);if(af<ac.min){af=new j(+ac.min);ad.options.min=af}else{if(af>ac.max){af=new j(+ac.max);ad.options.max=af}}if(ae){Z._timeSelected=true;Z._change(af)}else{X.val(z.toString(af,ac.format,ac.culture));Y.value(af);Z._updateARIA(af)}},close:function(ae){if(Z.trigger(R,o)){ae.preventDefault()}else{aa.attr(E,true);X.attr(x,false);if(!Y.popup.visible()){X.removeAttr(O)}}},open:function(ae){ad._adjustListWidth();if(Z.trigger(M,o)){ae.preventDefault()}else{if(X.val()!==Z._oldText){W=p(X.val(),ac.parseFormats,ac.culture);Z.timeView.value(W)}aa.attr(E,false);X.attr(x,true).attr(O,ad._timeViewID);ad.options.active(ad.current())}},active:function(ae){X.removeAttr(T);if(ae){X.attr(T,ad._optionID)}}});aa=ad.ul},_icons:function(){var W=this,V=W.element,U;U=V.next("span.k-select");if(!U[0]){U=y('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(V)}U=U.children();W._dateIcon=U.eq(0).attr({role:"button","aria-controls":W.dateView._dateViewID});W._timeIcon=U.eq(1).attr({role:"button","aria-controls":W.timeView._timeViewID})},_wrapper:function(){var V=this,U=V.element,W;W=U.parents(".k-datetimepicker");if(!W[0]){W=U.wrap(H).parent().addClass("k-picker-wrap k-state-default");W=W.wrap(H).parent()}W[0].style.cssText=U[0].style.cssText;U.css({width:"100%",height:U[0].style.height});V.wrapper=W.addClass("k-widget k-datetimepicker k-header").addClass(U[0].className);V._inputWrapper=y(W[0].firstChild)},_reset:function(){var W=this,U=W.element,X=U.attr("form"),V=X?y("#"+X):U.closest("form");if(V[0]){W._resetHandler=function(){W.value(U[0].defaultValue)};W._form=V.on("reset",W._resetHandler)}},_template:function(){this._ariaTemplate=z.template(this.options.ARIATemplate)},_updateARIA:function(V){var U;var W=this;var X=W.dateView.calendar;W.element.removeAttr(T);if(X){U=X._cell;U.attr("aria-label",W._ariaTemplate({current:V||X.current()}));W.element.attr(T,U.attr("id"))}}});function t(U){var V=new Date(2100,0,1);V.setMinutes(-U);return V}function B(U){U.preventDefault()}function P(U){var V=z.getCulture(U.culture).calendars.standard.patterns,W;U.format=h(U.format||V.g);U.timeFormat=W=h(U.timeFormat||V.t);z.DateView.normalize(U);if(y.inArray(W,U.parseFormats)===-1){U.parseFormats.splice(1,0,W)}}F.plugin(K)})(window.kendo.jQuery);(function(i,k){var v=window.kendo,u=v.ui,s=v.keys,C=i.extend,z=i.proxy,f=u.Widget,D=/^\d+(\.\d+)?px$/i,F=/^\d+(\.\d+)?%$/i,B=".kendoSplitter",d="expand",g="collapse",t="contentLoad",m="error",o="resize",I="layoutChange",J="horizontal",x="vertical",A="mouseenter",j="click",H="pane",n="mouseleave",p="k-state-focused",h="k-"+H,l="."+h;function w(K){return F.test(K)}function y(K){return D.test(K)||/^\d+$/.test(K)}function q(K){return !w(K)&&!y(K)}function E(L,M){var K=parseInt(L,10);if(w(L)){K=Math.floor(K*M/100)}return K}function G(K,L){return function(P,O){var N=this.element.find(P).data(H);if(arguments.length==1){return N[K]}N[K]=O;if(L){var M=this.element.data("kendo"+this.options.name);M.resize(true)}}}var e=f.extend({init:function(L,K){var M=this,N;f.fn.init.call(M,L,K);M.wrapper=M.element;N=M.options.orientation.toLowerCase()!=x;M.orientation=N?J:x;M._dimension=N?"width":"height";M._keys={decrease:N?s.LEFT:s.UP,increase:N?s.RIGHT:s.DOWN};M._resizeStep=10;M._marker=v.guid().substring(0,8);M._initPanes();M.resizing=new b(M);M.element.triggerHandler("init"+B)},events:[d,g,t,m,o,I],_addOverlays:function(){this._panes().append("<div class='k-splitter-overlay k-overlay' />")},_removeOverlays:function(){this._panes().children(".k-splitter-overlay").remove()},_attachEvents:function(){var L=this,K=L.options.orientation;L.element.children(".k-splitbar-draggable-"+K).on("keydown"+B,z(L._keydown,L)).on("mousedown"+B,function(M){M.currentTarget.focus()}).on("focus"+B,function(M){i(M.currentTarget).addClass(p)}).on("blur"+B,function(M){i(M.currentTarget).removeClass(p);if(L.resizing){L.resizing.end()}}).on(A+B,function(){i(this).addClass("k-splitbar-"+L.orientation+"-hover")}).on(n+B,function(){i(this).removeClass("k-splitbar-"+L.orientation+"-hover")}).on("mousedown"+B,z(L._addOverlays,L)).end().children(".k-splitbar").on("dblclick"+B,z(L._togglePane,L)).children(".k-collapse-next, .k-collapse-prev").on(j+B,L._arrowClick(g)).end().children(".k-expand-next, .k-expand-prev").on(j+B,L._arrowClick(d)).end().end();i(window).on("resize"+B+L._marker,z(L.resize,L,false)).on("mouseup"+B+L._marker,z(L._removeOverlays,L))},_detachEvents:function(){var K=this;K.element.children(".k-splitbar-draggable-"+K.orientation).off(B).end().children(".k-splitbar").off("dblclick"+B).children(".k-collapse-next, .k-collapse-prev, .k-expand-next, .k-expand-prev").off(B);i(window).off("resize"+B+K._marker)},options:{name:"Splitter",orientation:J,panes:[]},destroy:function(){f.fn.destroy.call(this);this._detachEvents();if(this.resizing){this.resizing.destroy()}v.destroy(this.element);this.wrapper=this.element=null},_keydown:function(N){var M=this,S=N.keyCode,P=M.resizing,O=i(N.currentTarget),L=M._keys,R=S===L.increase,Q=S===L.decrease,K;if(R||Q){if(N.ctrlKey){K=O[Q?"next":"prev"]();if(P&&P.isResizing()){P.end()}if(!K[M._dimension]()){M._triggerAction(d,K)}else{M._triggerAction(g,O[Q?"prev":"next"]())}}else{if(P){P.move((Q?-1:1)*M._resizeStep,O)}}N.preventDefault()}else{if(S===s.ENTER&&P){P.end();N.preventDefault()}}},_initPanes:function(){var K=this.options.panes||[];var L=this;this.element.addClass("k-widget").addClass("k-splitter").children().each(function(M,N){if(N.nodeName.toLowerCase()!="script"){L._initPane(N,K[M])}});this.resize()},_initPane:function(L,K){L=i(L).attr("role","group").addClass(h);L.data(H,K?K:{}).toggleClass("k-scrollable",K?K.scrollable!==false:true);this.ajaxRequest(L)},ajaxRequest:function(O,K,N){var L=this,M;O=L.element.find(O);M=O.data(H);K=K||M.contentUrl;if(K){O.append("<span class='k-icon k-loading k-pane-loading' />");if(v.isLocalUrl(K)){jQuery.ajax({url:K,data:N||{},type:"GET",dataType:"html",success:function(P){L.angular("cleanup",function(){return{elements:O.get()}});O.html(P);L.angular("compile",function(){return{elements:O.get()}});L.trigger(t,{pane:O[0]})},error:function(Q,P){L.trigger(m,{pane:O[0],status:P,xhr:Q})}})}else{O.removeClass("k-scrollable").html("<iframe src='"+K+"' frameborder='0' class='k-content-frame'>This page requires frames in order to show content</iframe>")}}},_triggerAction:function(K,L){if(!this.trigger(K,{pane:L[0]})){this[K](L[0])}},_togglePane:function(N){var K=this,M=i(N.target),L;if(M.closest(".k-splitter")[0]!=K.element[0]){return}L=M.children(".k-icon:not(.k-resize-handle)");if(L.length!==1){return}if(L.is(".k-collapse-prev")){K._triggerAction(g,M.prev())}else{if(L.is(".k-collapse-next")){K._triggerAction(g,M.next())}else{if(L.is(".k-expand-prev")){K._triggerAction(d,M.prev())}else{if(L.is(".k-expand-next")){K._triggerAction(d,M.next())}}}}},_arrowClick:function(L){var K=this;return function(N){var M=i(N.target),O;if(M.closest(".k-splitter")[0]!=K.element[0]){return}if(M.is(".k-"+L+"-prev")){O=M.parent().prev()}else{O=M.parent().next()}K._triggerAction(L,O)}},_updateSplitBar:function(P,Q,N){var L=function(U,V){return V?"<div class='k-icon "+U+"' />":""},K=this.orientation,T=(Q.resizable!==false)&&(N.resizable!==false),R=Q.collapsible,M=Q.collapsed,O=N.collapsible,S=N.collapsed;P.addClass("k-splitbar k-state-default k-splitbar-"+K).attr("role","separator").attr("aria-expanded",!(M||S)).removeClass("k-splitbar-"+K+"-hover").toggleClass("k-splitbar-draggable-"+K,T&&!M&&!S).toggleClass("k-splitbar-static-"+K,!T&&!R&&!O).html(L("k-collapse-prev",R&&!M&&!S)+L("k-expand-prev",R&&M&&!S)+L("k-resize-handle",T)+L("k-collapse-next",O&&!S&&!M)+L("k-expand-next",O&&S&&!M));if(!T&&!R&&!O){P.removeAttr("tabindex")}},_updateSplitBars:function(){var K=this;this.element.children(".k-splitbar").each(function(){var N=i(this),M=N.prevAll(l).first().data(H),L=N.nextAll(l).first().data(H);if(!L){return}K._updateSplitBar(N,M,L)})},_removeSplitBars:function(){this.element.children(".k-splitbar").remove()},_panes:function(){if(!this.element){return i()}return this.element.children(l)},_resize:function(){var R=this,L=R.element,Q=L.children(l),P=R.orientation==J,U=L.children(".k-splitbar"),Z=U.length,O=P?"width":"height",V=L[O]();R.wrapper.addClass("k-splitter-resizing");if(Z===0){Z=Q.length-1;Q.slice(0,Z).after("<div tabindex='0' class='k-splitbar' data-marker='"+R._marker+"' />");R._updateSplitBars();U=L.children(".k-splitbar")}else{R._updateSplitBars()}U.each(function(){V-=this[P?"offsetWidth":"offsetHeight"]});var K=0,X=0,ab=i();Q.css({position:"absolute",top:0})[O](function(){var ae=i(this),ac=ae.data(H)||{},ad;ae.removeClass("k-state-collapsed");if(ac.collapsed){ad=ac.collapsedSize?E(ac.collapsedSize,V):0;ae.css("overflow","hidden").addClass("k-state-collapsed")}else{if(q(ac.size)){ab=ab.add(this);return}else{ad=E(ac.size,V)}}X++;K+=ad;return ad});V-=K;var T=ab.length,N=Math.floor(V/T);ab.slice(0,T-1).css(O,N).end().eq(T-1).css(O,V-(T-1)*N);var M=0,S=P?"height":"width",aa=P?"left":"top",Y=P?"offsetWidth":"offsetHeight";if(T===0){var W=Q.filter(function(){return !((i(this).data(H)||{}).collapsed)}).last();W[O](V+W[0][Y])}L.children().css(S,L[S]()).each(function(ac,ad){if(ad.tagName.toLowerCase()!="script"){ad.style[aa]=Math.floor(M)+"px";M+=ad[Y]}});R._detachEvents();R._attachEvents();R.wrapper.removeClass("k-splitter-resizing");v.resize(Q);R.trigger(I)},toggle:function(N,K){var L=this,M;N=L.element.find(N);M=N.data(H);if(!K&&!M.collapsible){return}if(arguments.length==1){K=M.collapsed===k?false:M.collapsed}M.collapsed=!K;if(M.collapsed){N.css("overflow","hidden")}else{N.css("overflow","")}L.resize(true)},collapse:function(K){this.toggle(K,false)},expand:function(K){this.toggle(K,true)},_addPane:function(L,K,N){var M=this;if(N.length){M.options.panes.splice(K,0,L);M._initPane(N,L);M._removeSplitBars();M.resize(true)}return N},append:function(K){K=K||{};var L=this,M=i("<div />").appendTo(L.element);return L._addPane(K,L.options.panes.length,M)},insertBefore:function(L,M){M=i(M);L=L||{};var N=this,K=N.wrapper.children(".k-pane").index(M),O=i("<div />").insertBefore(i(M));return N._addPane(L,K,O)},insertAfter:function(L,M){M=i(M);L=L||{};var N=this,K=N.wrapper.children(".k-pane").index(M),O=i("<div />").insertAfter(i(M));return N._addPane(L,K+1,O)},remove:function(L){L=i(L);var K=this;if(L.length){v.destroy(L);L.each(function(M,N){K.options.panes.splice(K.wrapper.children(".k-pane").index(N),1);i(N).remove()});K._removeSplitBars();if(K.options.panes.length){K.resize(true)}}return K},size:G("size",true),min:G("min"),max:G("max")});u.plugin(e);var c={sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"};var r={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"};function b(M){var L=this,K=M.orientation;L.owner=M;L._element=M.element;L.orientation=K;C(L,K===J?r:c);L._resizable=new v.ui.Resizable(M.element,{orientation:K,handle:".k-splitbar-draggable-"+K+"[data-marker="+M._marker+"]",hint:z(L._createHint,L),start:z(L._start,L),max:z(L._max,L),min:z(L._min,L),invalidClass:"k-restricted-size-"+K,resizeend:z(L._stop,L)})}b.prototype={press:function(K){this._resizable.press(K)},move:function(L,K){if(!this.pressed){this.press(K);this.pressed=true}if(!this._resizable.target){this._resizable.press(K)}this._resizable.move(L)},end:function(){this._resizable.end();this.pressed=false},destroy:function(){this._resizable.destroy();this._resizable=this._element=this.owner=null},isResizing:function(){return this._resizable.resizing},_createHint:function(L){var K=this;return i("<div class='k-ghost-splitbar k-ghost-splitbar-"+K.orientation+" k-state-default' />").css(K.alternateSizingProperty,L[K.alternateSizingProperty]())},_start:function(T){var Q=this,R=i(T.currentTarget),W=R.prev(),N=R.next(),L=W.data(H),K=N.data(H),S=parseInt(W[0].style[Q.positioningProperty],10),M=parseInt(N[0].style[Q.positioningProperty],10)+N[0][Q.sizingDomProperty]-R[0][Q.sizingDomProperty],Y=parseInt(Q._element.css(Q.sizingProperty),10),X=function(Z){var aa=parseInt(Z,10);return(y(Z)?aa:(Y*aa)/100)||0},V=X(L.min),P=X(L.max)||M-S,U=X(K.min),O=X(K.max)||M-S;Q.previousPane=W;Q.nextPane=N;Q._maxPosition=Math.min(M-U,S+P);Q._minPosition=Math.max(S+V,M-O)},_max:function(){return this._maxPosition},_min:function(){return this._minPosition},_stop:function(T){var R=this,S=i(T.currentTarget),M=R.owner;M._panes().children(".k-splitter-overlay").remove();if(T.keyCode!==v.keys.ESC){var O=T.position,V=S.prev(),P=S.next(),N=V.data(H),L=P.data(H),K=O-parseInt(V[0].style[R.positioningProperty],10),U=parseInt(P[0].style[R.positioningProperty],10)+P[0][R.sizingDomProperty]-O-S[0][R.sizingDomProperty],Q=R._element.children(l).filter(function(){return q(i(this).data(H).size)}).length;if(!q(N.size)||Q>1){if(q(N.size)){Q--}N.size=K+"px"}if(!q(L.size)||Q>1){L.size=U+"px"}M.resize(true)}return false}}})(window.kendo.jQuery);(function(v,j){var w=window.kendo,A=w.ui,e=A.Widget,s=A.DataBoundWidget,J=v.proxy,O="k-virtual-wrap",N="k-virtual-list",C="k-virtual-content",G="k-list",y="k-group-header",c="k-virtual-item",L="k-item",z="k-height-container",E="k-group",q="k-state-selected",x="k-state-focused",l="k-state-hover",u="change",F="click",Q="listBound",f="itemChange",i="activate",H="deactivate",k=".VirtualList";function p(R){return R[R.length-1]}function o(R){return R instanceof Array?R:[R]}function m(R){return typeof R==="string"||typeof R==="number"||typeof R==="boolean"}function M(T,R,S){return Math.ceil(T*R/S)}function b(U,T,S){var R=document.createElement(S||"div");if(T){R.className=T}U.appendChild(R);return R}function r(){var S=v('<div class="k-popup"><ul class="k-list"><li class="k-item"><li></ul></div>'),R;S.css({position:"absolute",left:"-200000px",visibility:"hidden"});S.appendTo(document.body);R=parseFloat(w.getComputedStyles(S.find(".k-item")[0],["line-height"])["line-height"]);S.remove();return R}function B(T,R,S){return{down:T*S,up:T*(R-1-S)}}function K(R,U){var T=(R.listScreens-1-R.threshold)*U;var S=R.threshold*U;return function(W,X,V){if(X>V){return X-W.top<T}else{return W.top===0||X-W.top>S}}}function I(R,S){return function(T){return S(R.scrollTop,T)}}function h(R){return function(T,S){R(T.items,T.index,S);return T}}function D(R,S){if(w.support.browser.msie&&w.support.browser.version<10){R.style.top=S+"px"}else{R.style.webkitTransform="translateY("+S+"px)";R.style.transform="translateY("+S+"px)"}}function n(S,R){return function(V,U){for(var W=0,T=V.length;W<T;W++){S(V[W],U[W],R);if(U[W].item){this.trigger(f,{item:v(V[W]),data:U[W].item,ns:w.ui});if(U[W].index===this._selectedIndex){this.select(this._selectedIndex)}}}}}function P(S,T){var R;if(T>0){R=S.splice(0,T);S.push.apply(S,R)}else{R=S.splice(T,-T);S.unshift.apply(S,R)}return R}function t(S,U,R){var T=R.template;S=v(S);if(!U.item){T=R.placeholderTemplate}this.angular("cleanup",function(){return{elements:[S]}});S.attr("data-uid",U.item?U.item.uid:"").attr("data-offset-index",U.index).html(T(U.item||{}));S.toggleClass(x,U.current);S.toggleClass(q,U.selected);S.toggleClass("k-first",U.newGroup);S.toggleClass("k-loading-item",!U.item);if(U.index!==0&&U.newGroup){v("<div class="+E+"></div>").appendTo(S).html(R.groupTemplate({group:U.group}))}if(U.top!==j){D(S[0],U.top)}this.angular("compile",function(){return{elements:[S],data:[{dataItem:U.item,group:U.group,newGroup:U.newGroup}]}})}function g(W,X){var U=X.length;var R=[];var T;var V,S;for(V=0;V<W.length;V++){T=W[V];for(S=0;S<U;S++){if(T===X[S]){R.push({index:V,item:T})}}}return R}var d=s.extend({init:function(S,R){var T=this;T._listCreated=false;T._fetching=false;T._filter=false;e.fn.init.call(T,S,R);if(!T.options.itemHeight){T.options.itemHeight=r()}R=T.options;T.element.addClass(G+" "+N).attr("role","listbox");T.content=T.element.wrap("<div unselectable='on' class='"+C+"'></div>").parent();T.wrapper=T.content.wrap("<div class='"+O+"'></div>").parent();T.header=T.content.before("<div class='"+y+"'></div>").prev();T.element.on("mouseenter"+k,"li:not(.k-loading-item)",function(){v(this).addClass(l)}).on("mouseleave"+k,"li",function(){v(this).removeClass(l)});T._values=o(T.options.value);T._selectedDataItems=[];T._selectedIndexes=[];T._rangesList={};T._activeDeferred=null;T._promisesList=[];T._optionID=w.guid();T.setDataSource(R.dataSource);T.content.on("scroll"+k,function(){T._renderItems()});T._selectable()},options:{name:"VirtualList",autoBind:true,height:null,listScreens:4,threshold:0.5,itemHeight:null,oppositeBuffer:1,type:"flat",selectable:false,value:[],dataValueField:null,template:"#:data#",placeholderTemplate:"loading...",groupTemplate:"#:group#",fixedGroupTemplate:"fixed header template",valueMapper:null},events:[u,F,Q,f,i,H],setOptions:function(R){e.fn.setOptions.call(this,R);if(this._selectProxy&&this.options.selectable===false){this.element.off(F,"."+c,this._selectProxy)}else{if(!this._selectProxy&&this.options.selectable){this._selectable()}}this.refresh()},items:function(){return v(this._items)},destroy:function(){this.wrapper.off(k);this.dataSource.unbind(u,this._refreshHandler);e.fn.destroy.call(this)},setDataSource:function(T){var R=this;var U=T||{};var S;U=v.isArray(U)?{data:U}:U;U=w.data.DataSource.create(U);if(R.dataSource){R.dataSource.unbind(u,R._refreshHandler);S=R.value();R.value([]);R.mute(function(){R.value(S)})}else{R._refreshHandler=v.proxy(R.refresh,R)}R.dataSource=U.bind(u,R._refreshHandler);if(R.dataSource.view().length!==0){R.refresh()}else{if(R.options.autoBind){R.dataSource.fetch()}}},refresh:function(U){var S=this;var T=U&&U.action;var R;if(S._mute){return}if(!S._fetching){if(S._filter){S.focus(0)}S._createList();if(!T&&S._values.length&&!S._filter){S.value(S._values,true).done(function(){S._listCreated=true;S.trigger(Q)})}else{S._listCreated=true;S.trigger(Q)}}else{if(S._renderItems){S._renderItems(true)}}if(T==="itemchange"){R=g(S._selectedDataItems,U.items);if(R.length){S.trigger("selectedItemChange",{items:R})}}S._fetching=false},removeAt:function(R){this._selectedIndexes.splice(R,1);this._values.splice(R,1);return{position:R,dataItem:this._selectedDataItems.splice(R,1)[0]}},setValue:function(R){if(R===""||R===null){R=[]}this._values=o(R)},value:function(T,R){var S=this;var U=S.dataSource;if(T===j){return S._values}if(!S._valueDeferred||S._valueDeferred.state()==="resolved"){S._valueDeferred=v.Deferred()}if(T===""||T===null){T=[]}T=o(T);if(!T.length||S.options.selectable==="multiple"){S.select(-1)}S._values=T;if((S.isBound()&&!S._mute)||R){S._prefetchByValue(T)}return S._valueDeferred},_prefetchByValue:function(X){var U=this,W=U._dataView,R=U._valueGetter,Z,T=false,Y=[];for(var S=0;S<X.length;S++){for(var V=0;V<W.length;V++){Z=W[V].item;if(Z){T=m(Z)?X[S]===Z:X[S]===R(Z);if(T){Y.push(V)}}}}if(Y.length===X.length){U._values=[];U.select(Y);return}if(typeof U.options.valueMapper==="function"){U.options.valueMapper({value:(this.options.selectable==="multiple")?X:X[0],success:function(aa){U._values=[];U.select(o(aa))}})}else{throw new Error("valueMapper is not provided")}},deferredRange:function(X){var R=this.dataSource;var U=this.itemCount;var S=this._rangesList;var Z=v.Deferred();var W=[];var Y=Math.floor(X/U)*U;var V=Math.ceil(X/U)*U;var T=V===Y?[V]:[Y,V];v.each(T,function(ad,ae){var ab=ae+U;var aa=S[ae];var ac;if(!aa||(aa.end!==ab)){ac=v.Deferred();S[ae]={end:ab,deferred:ac};R._multiplePrefetch(ae,U,function(){ac.resolve()})}else{ac=aa.deferred}W.push(ac)});v.when.apply(v,W).then(function(){Z.resolve()});return Z},prefetch:function(T){var U=this,S=this.itemCount,V=this.dataSource,R=!U._promisesList.length;if(!U._activeDeferred){U._activeDeferred=v.Deferred();U._promisesList=[]}v.each(T,function(X,W){var Y=Math.floor(W/S)*S;U._promisesList.push(U.deferredRange(Y))});if(R){v.when.apply(v,U._promisesList).done(function(){U._activeDeferred.resolve();U._activeDeferred=null;U._promisesList=[]})}return U._activeDeferred},_findDataItem:function(S){var R=this.dataSource.view(),U;if(this.options.type==="group"){for(var T=0;T<R.length;T++){U=R[T].items;if(U.length<S){S=S-U.length}else{return U[S]}}}return R[S]},selectedDataItems:function(){return this._selectedDataItems},scrollTo:function(R){this.content.scrollTop(R)},scrollToIndex:function(R){this.scrollTo(R*this.options.itemHeight)},focus:function(ab){var V,X,U,R=this.dataSource,Y,T=this.options.itemHeight,S=this._optionID,Z=true;if(ab===j){Y=this.element.find("."+x);return Y.length?Y:null}if(typeof ab==="function"){U=this.dataSource.flatView();for(var aa=0;aa<U.length;aa++){if(ab(U[aa])){ab=aa;break}}}if(ab instanceof Array){ab=p(ab)}if(isNaN(ab)){V=v(ab);X=parseInt(v(V).attr("data-offset-index"),10)}else{X=ab;V=this._getElementByIndex(X)}if(X===-1){this.element.find("."+x).removeClass(x);this._focusedIndex=j;return}if(V.length){if(V.hasClass(x)){Z=false}if(this._focusedIndex!==j){Y=this._getElementByIndex(this._focusedIndex);Y.removeClass(x).removeAttr("id");if(Z){this.trigger(H)}}this._focusedIndex=X;V.addClass(x).attr("id",S);var W=this._getElementLocation(X);if(W==="top"){this.scrollTo(X*T)}else{if(W==="bottom"){this.scrollTo((X*T+T)-this.screenHeight)}else{if(W==="outScreen"){this.scrollTo(X*T)}}}if(Z){this.trigger(i)}}else{this._focusedIndex=X;this.items().removeClass(x);this.scrollToIndex(X)}},first:function(){this.scrollTo(0);this.focus(0)},last:function(){var R=this.dataSource.total();this.scrollTo(this.heightContainer.offsetHeight);this.focus(R)},prev:function(){var R=this._focusedIndex;var S;if(!isNaN(R)&&R>0){R-=1;this.focus(R);S=this.focus();if(S&&S.hasClass("k-loading-item")){R+=1;this.focus(R)}return R}},next:function(){var R=this._focusedIndex;var T=this.dataSource.total()-1;var S;if(!isNaN(R)&&R<T){R+=1;this.focus(R);S=this.focus();if(S&&S.hasClass("k-loading-item")){R-=1;this.focus(R)}return R}},select:function(Y){var T=this,X,W=T.options.selectable!=="multiple",U=!!T._activeDeferred,Z,V=[],S=[];if(Y===j){return T._selectedIndexes.slice()}X=T._getIndecies(Y);if(T._filter&&!W&&T._deselectFiltered(X)){return}if(!X.length||(W&&!T._filter&&p(X)===p(this._selectedIndexes))){return}S=T._deselect(X);if(W){T._activeDeferred=null;U=false;if(X.length){X=[p(X)]}}var R=function(){var aa=T._select(X);T.focus(X);if(T._valueDeferred){T._valueDeferred.resolve()}if(aa.length||S.length){T.trigger(u,{added:aa,removed:S})}};Z=T.prefetch(X);if(!U){if(Z){Z.done(R)}else{R()}}},isBound:function(){return this._listCreated},mute:function(R){this._mute=true;J(R(),this);this._mute=false},filter:function(R){if(R===j){return this._filter}this._filter=R},skipUpdate:v.noop,_getElementByIndex:function(R){return this.items().filter(function(S,T){return R===parseInt(v(T).attr("data-offset-index"),10)})},_clean:function(){this.result=j;this._lastScrollTop=j;v(this.heightContainer).remove();this.heightContainer=j;this.element.empty()},_screenHeight:function(){var R=this.options.height,S=this.element,T=this.content;T.height(R);this.screenHeight=R},_getElementLocation:function(S){var W=this.content.scrollTop(),Y=this.screenHeight,X=this.options.itemHeight,U=S*X,T=U+X,V=W+Y,R;if(U===(W-X)||(T>W&&U<W)){R="top"}else{if(U===V||(U<V&&V<T)){R="bottom"}else{if((U>=W)&&(U<=W+(Y-X))){R="inScreen"}else{R="outScreen"}}}return R},_templates:function(){var S={template:this.options.template,placeholderTemplate:this.options.placeholderTemplate,groupTemplate:this.options.groupTemplate,fixedGroupTemplate:this.options.fixedGroupTemplate};for(var R in S){if(typeof S[R]!=="function"){S[R]=w.template(S[R])}}this.templates=S},_generateItems:function(S,U){var R=[],T;while(U-->0){T=document.createElement("li");T.tabIndex=-1;T.className=c+" "+L;T.setAttribute("role","option");S.appendChild(T);R.push(T)}return R},_saveInitialRanges:function(){var R=this.dataSource._ranges;var S=v.Deferred();S.resolve();this._rangesList={};for(var T=0;T<R.length;T++){this._rangesList[R[T].start]={end:R[T].end,deferred:S}}},_createList:function(){var U=this,T=U.content.get(0),R=U.options,V=U.dataSource,S=V.total();if(U._listCreated){U._clean()}U._saveInitialRanges();U._screenHeight();U._buildValueGetter();U.itemCount=M(U.screenHeight,R.listScreens,R.itemHeight);if(U.itemCount>V.total()){U.itemCount=V.total()}U._templates();U._items=U._generateItems(U.element[0],U.itemCount);U._setHeight(R.itemHeight*V.total());U.options.type=!!V.group().length?"group":"flat";if(U.options.type==="flat"){U.header.hide()}else{U.header.show()}U.getter=U._getter(function(){U._renderItems(true)});U._onScroll=function(Y,X){var W=U._listItems(U.getter);return U._fixedHeader(Y,W(Y,X))};U._renderItems=U._whenChanged(I(T,U._onScroll),h(U._reorderList(U._items,v.proxy(t,U))));U._renderItems();U._calculateGroupPadding(U.screenHeight)},_setHeight:function(R){var U,T=this.heightContainer;if(!T){T=this.heightContainer=b(this.content[0],z)}else{U=T.offsetHeight}if(R!==U){T.innerHTML="";while(R>0){var S=Math.min(R,250000);b(T).style.height=S+"px";R-=S}}},_getter:function(){var R=null,W=this.dataSource,T=W.skip(),V=this.options.type,S=this.itemCount,U={};return function(ac,ag){var ab=this;if(!W.inRange(ag,S)){if(R!==ag){R=ag;T=ag;this._fetching=true;this.deferredRange(ag).then(function(){var ai=ab._indexConstraint(ab.content[0].scrollTop);if(ag<=ai&&ai<=(ag+S)){ab._fetching=true;W.range(ag,S)}})}return null}else{if(T!==ag){this._mute=true;this._fetching=true;W.range(ag,S);T=ag;this._fetching=false;this._mute=false}var ah;if(V==="group"){if(!U[ag]){var ae=U[ag]=[];var Y=W.view();for(var aa=0,ad=Y.length;aa<ad;aa++){var af=Y[aa];for(var Z=0,X=af.items.length;Z<X;Z++){ae.push({item:af.items[Z],group:af.value})}}}ah=U[ag][ac-ag]}else{ah=W.view()[ac-ag]}return ah}}},_fixedHeader:function(W,U){var V=this.currentVisibleGroup,X=this.options.itemHeight,T=Math.floor((W-U.top)/X),S=U.items[T];if(S&&S.item){var R=S.group;if(R!==V){this.header[0].innerHTML=R||"";this.currentVisibleGroup=R}}return U},_itemMapper:function(ae,X){var ab=this.options.type,S=this.options.itemHeight,ac=this._values,Z=this._focusedIndex,U=false,Y=false,R=false,ad=null,aa=-1,W=false,T=this._valueGetter;if(ab==="group"){if(ae){R=X===0||(this._currentGroup&&this._currentGroup!==ae.group);this._currentGroup=ae.group}ad=ae?ae.group:null;ae=ae?ae.item:null}if(ac.length&&ae){for(var V=0;V<ac.length;V++){W=m(ae)?ac[V]===ae:ac[V]===T(ae);if(W){U=true;break}}}if(Z===X){Y=true}return{item:ae?ae:null,group:ad,newGroup:R,selected:U,current:Y,index:X,top:X*S}},_range:function(S){var W=this.itemCount,R=[],V;this._view={};this._currentGroup=null;for(var T=S,U=S+W;T<U;T++){V=this._itemMapper(this.getter(T,S),T);R.push(V);this._view[V.index]=V}this._dataView=R;return R},_getDataItemsCollection:function(T,S){var R=this._range(this._listIndex(T,S));return{index:R.length?R[0].index:0,top:R.length?R[0].top:0,items:R}},_listItems:function(R){var V=this.screenHeight,T=this.itemCount,S=this.options;var U=K(S,V);return v.proxy(function(Z,Y){var W=this.result,X=this._lastScrollTop;if(Y||!W||!U(W,Z,X)){W=this._getDataItemsCollection(Z,X)}this._lastScrollTop=Z;this.result=W;return W},this)},_whenChanged:function(R,T){var S;return function(U){var V=R(U);if(V!==S){S=V;T(V,U)}}},_reorderList:function(V,R){var T=this;var S=V.length;var U=-Infinity;R=v.proxy(n(R,this.templates),this);return function(ab,aa,Y){var Z=aa-U;var X,W;if(Y||Math.abs(Z)>=S){X=V;W=ab}else{X=P(V,Z);W=Z>0?ab.slice(-Z):ab.slice(0,-Z)}R(X,W,T._listCreated);U=aa}},_bufferSizes:function(){var R=this.options;return B(this.screenHeight,R.listScreens,R.oppositeBuffer)},_indexConstraint:function(R){var T=this.itemCount,U=this.options.itemHeight,S=this.dataSource.total();return Math.min(Math.max(S-T,0),Math.max(0,Math.floor(R/U)))},_listIndex:function(U,T){var S=this._bufferSizes(),R;R=U-((U>T)?S.down:S.up);return this._indexConstraint(R)},_selectable:function(){if(this.options.selectable){this._selectProxy=v.proxy(this,"_clickHandler");this.element.on(F+k,"."+c,this._selectProxy)}},_getIndecies:function(T){var S=[],U;if(typeof T==="function"){U=this.dataSource.flatView();for(var R=0;R<U.length;R++){if(T(U[R])){S.push(R);break}}}if(typeof T==="number"){S.push(T)}if(T instanceof jQuery){T=parseInt(T.attr("data-offset-index"),10);if(!isNaN(T)){S.push(T)}}if(T instanceof Array){S=T}return S},_deselect:function(W){var X=[],Y,T,R,ab=this._selectedIndexes,V=0,Z=this.options.selectable,S=0,ac;if(W[V]===-1){for(var aa=0;aa<ab.length;aa++){T=ab[aa];this._getElementByIndex(T).removeClass(q);X.push({index:T,position:aa,dataItem:this._selectedDataItems[aa]})}this._values=[];this._selectedDataItems=[];this._selectedIndexes=[];W.splice(0,W.length);return X}if(Z===true){Y=W[V];T=ab[V];if(T!==j&&Y!==T){this._getElementByIndex(T).removeClass(q);X.push({index:T,position:V,dataItem:this._selectedDataItems[V]});this._values=[];this._selectedDataItems=[];this._selectedIndexes=[]}}else{if(Z==="multiple"){for(var U=0;U<W.length;U++){V=v.inArray(W[U],ab);T=ab[V];if(T!==j){ac=this._getElementByIndex(T);if(!ac.hasClass("k-state-selected")){continue}ac.removeClass(q);this._values.splice(V,1);this._selectedIndexes.splice(V,1);R=this._selectedDataItems.splice(V,1);W.splice(U,1);X.push({index:T,position:V+S,dataItem:R});S++;U--}}}}return X},_deselectFiltered:function(Z){var R=this.element[0].children;var W,V,T;var Y=this._values;var U=[];var X=0;var S;for(;X<Z.length;X++){T=-1;V=Z[X];W=this._valueGetter(this._view[V].item);for(S=0;S<Y.length;S++){if(W==Y[S]){T=S;break}}if(T>-1){U.push(this.removeAt(T));v(R[V]).removeClass("k-state-selected")}}if(U.length){this.trigger("change",{added:[],removed:U});return true}return false},_select:function(W){var X=this,ac=this.options.selectable!=="multiple",R=this.dataSource,Z,S,Y,V,aa,ad,ae,T=this.itemCount,U=this._valueGetter,ab=[];if(ac){X._selectedIndexes=[];X._selectedDataItems=[];X._values=[]}ae=R.skip();v.each(W,function(ag,af){var ai=af<T?1:Math.floor(af/T)+1;var ah=(ai-1)*T;X.mute(function(){R.range(ah,T);S=X._findDataItem([af-ah]);X._selectedIndexes.push(af);X._selectedDataItems.push(S);X._values.push(m(S)?S:U(S));ab.push({index:af,dataItem:S});X._getElementByIndex(af).addClass(q);R.range(ae,T)})});return ab},_clickHandler:function(S){var R=v(S.currentTarget);if(!S.isDefaultPrevented()&&R.data("uid")){this.trigger(F,{item:R})}},_buildValueGetter:function(){this._valueGetter=w.getter(this.options.dataValueField)},_calculateGroupPadding:function(R){var U=this.items().first(),S=this.header,T=0;if(S[0]&&S[0].style.display!=="none"){if(R!=="auto"){T=w.support.scrollbar()}T+=parseFloat(U.css("border-right-width"),10)+parseFloat(U.children(".k-group").css("right"),10);S.css("padding-right",T)}}});w.ui.VirtualList=d;w.ui.plugin(d)})(window.kendo.jQuery);(function(x){var y=window.kendo,B=y.ui,f=B.Widget,r=y.keys,z=".kendoSchedulerView",t=Math;function p(N,O){var M=[];function P(S,R){R=R[O];if(R){var T=M[S]=M[S]||[];for(var Q=0;Q<R.length;Q++){T.push(R[Q]);P(S+1,R[Q])}}}P(0,N);return M}function C(){if(y.support.cssBorderSpacing){return""}return'cellspacing="0"'}function q(N,M){if(!N.length){return""}return"<table "+C()+' class="'+x.trim("k-scheduler-table "+(M||""))+'"><tr>'+N.join("</tr><tr>")+"</tr></table>"}function L(N,M){if(!N.length){return""}return"<div style='position:relative'>"+q(N,M)+"</div>"}function A(O,P,N){var Q=[];if(N>0){for(var M=0;M<O;M++){Q.push("<th>&nbsp;</th>")}}if(P){Q.push('<th class="k-scheduler-times-all-day">'+P.text+"</th>")}if(N<1){return x()}return x('<div class="k-scheduler-times">'+q(Q)+"</div>")}function b(X,V,T){var Z=[];var W;for(var Y=0;Y<X.length;Y++){var O=X[Y];var P=[];var Q=V/O.length;for(W=0;W<O.length;W++){var S=O[W];P.push('<th colspan="'+(S.colspan||Q)+'" class="'+(S.className||"")+'">'+S.text+"</th>")}Z.push(P.join(""))}var U=[];if(T){var N=X[X.length-1];var R=[];var M=T.cellContent;for(W=0;W<N.length;W++){R.push('<td class="'+(N[W].className||"")+'">'+(M?M(W):"&nbsp;")+"</th>")}U.push(R.join(""))}return x('<div class="k-scheduler-header k-state-default"><div class="k-scheduler-header-wrap">'+q(Z)+L(U,"k-scheduler-header-all-day")+"</div></div>")}function s(N,T){var U=new Array(T).join().split(",");var O=[];var S;for(var Q=0;Q<N.length;Q++){var M=N[Q];var P=T/M.length;var R;for(S=0;S<M.length;S++){R=M[S].className||"";if(M[S].allDay){R="k-scheduler-times-all-day"}U[P*S]+='<th class="'+R+'" rowspan="'+P+'">'+M[S].text+"</th>"}}for(S=0;S<T;S++){O.push(U[S])}if(T<1){return x()}return x('<div class="k-scheduler-times">'+q(O)+"</div>")}function j(){return x('<div class="k-scheduler-content"><table '+C()+' class="k-scheduler-table"/></div>')}var E='<div class="k-marquee k-scheduler-marquee"><div class="k-marquee-color"></div><div class="k-marquee-text"><div class="k-label-top"></div><div class="k-label-bottom"></div></div></div>';y.ui.scheduler={};var m=y.Class.extend({init:function(M){this._index=M;this._timeSlotCollections=[];this._daySlotCollections=[]},addTimeSlotCollection:function(M,N){return this._addCollection(M,N,this._timeSlotCollections)},addDaySlotCollection:function(M,N){return this._addCollection(M,N,this._daySlotCollections)},_addCollection:function(M,O,N){var P=new D(M,O,this._index,N.length);N.push(P);return P},timeSlotCollectionCount:function(){return this._timeSlotCollections.length},daySlotCollectionCount:function(){return this._daySlotCollections.length},daySlotByPosition:function(M,N){return this._slotByPosition(M,N,this._daySlotCollections)},timeSlotByPosition:function(M,N){return this._slotByPosition(M,N,this._timeSlotCollections)},_slotByPosition:function(N,S,P){for(var M=0;M<P.length;M++){var Q=P[M];for(var O=0;O<Q.count();O++){var R=Q.at(O);if(N>=R.offsetLeft&&N<R.offsetLeft+R.offsetWidth&&S>=R.offsetTop&&S<=R.offsetTop+R.clientHeight){return R}}}},refresh:function(){var M;for(M=0;M<this._daySlotCollections.length;M++){this._daySlotCollections[M].refresh()}for(M=0;M<this._timeSlotCollections.length;M++){this._timeSlotCollections[M].refresh()}},timeSlotRanges:function(O,N){var P=this._timeSlotCollections;var Q=this._startSlot(O,P);if(!Q.inRange&&O>=Q.slot.end){Q=null}var M=Q;if(O<N){M=this._endSlot(N,P)}if(M&&!M.inRange&&N<=M.slot.start){M=null}if(Q===null&&M===null){return[]}if(Q===null){Q={inRange:true,slot:P[M.slot.collectionIndex].first()}}if(M===null){M={inRange:true,slot:P[Q.slot.collectionIndex].last()}}return this._continuousRange(K,P,Q,M)},daySlotRanges:function(P,N,O){var Q=this._daySlotCollections;var R=this._startSlot(P,Q,O);if(!R.inRange&&P>=R.slot.end){R=null}var M=R;if(P<N){M=this._endSlot(N,Q,O)}if(M&&!M.inRange&&N<=M.slot.start){M=null}if(R===null&&M===null){return[]}if(R===null){do{P+=y.date.MS_PER_DAY;R=this._startSlot(P,Q,O)}while(!R.inRange&&P>=R.slot.end)}if(M===null){do{N-=y.date.MS_PER_DAY;M=this._endSlot(N,Q,O)}while(!M.inRange&&N<=M.slot.start)}return this._continuousRange(c,Q,R,M)},_continuousRange:function(T,S,O,P){var Y=O.slot;var N=P.slot;var aa=Y.collectionIndex;var R=N.collectionIndex;var M=[];for(var W=aa;W<=R;W++){var U=S[W];var Q=U.first();var Z=U.last();var X=false;var V=false;if(W==aa){V=!O.inRange}if(W==R){X=!P.inRange}if(Q.start<Y.start){Q=Y}if(Z.start>N.start){Z=N}if(aa<R){if(W==aa){X=true}else{if(W==R){V=true}else{X=V=true}}}M.push(new T({start:Q,end:Z,collection:U,head:X,tail:V}))}return M},slotRanges:function(O,P){var N=O._startTime||y.date.toUtcTime(O.start);var M=O._endTime||y.date.toUtcTime(O.end);if(P===undefined){P=O.isMultiDay()}if(P){return this.daySlotRanges(N,M,O.isAllDay)}return this.timeSlotRanges(N,M)},ranges:function(O,M,P,N){if(typeof O!="number"){O=y.date.toUtcTime(O)}if(typeof M!="number"){M=y.date.toUtcTime(M)}if(P){return this.daySlotRanges(O,M,N)}return this.timeSlotRanges(O,M)},_startCollection:function(N,O){for(var M=0;M<O.length;M++){var P=O[M];if(P.startInRange(N)){return P}}return null},_endCollection:function(N,P,O){for(var M=0;M<P.length;M++){var Q=P[M];if(Q.endInRange(N,O)){return Q}}return null},_getCollections:function(M){return M?this._daySlotCollections:this._timeSlotCollections},continuousSlot:function(Q,M){var O=M?-1:1;var N=this._getCollections(Q.isDaySlot);var P=N[Q.collectionIndex+O];return P?P[M?"last":"first"]():undefined},firstSlot:function(){var M=this._getCollections(this.daySlotCollectionCount());return M[0].first()},lastSlot:function(){var M=this._getCollections(this.daySlotCollectionCount());return M[M.length-1].last()},upSlot:function(P,M){var N=this;var O=function(R,Q,S){var T=S===0;if(!M&&!R&&T&&N.daySlotCollectionCount()){return N._daySlotCollections[0].at(Q)}};if(!this.timeSlotCollectionCount()){M=true}return this._verticalSlot(P,-1,O)},downSlot:function(P,M){var O=this;var N=function(R,Q,S){if(!M&&R&&O.timeSlotCollectionCount()){return O._timeSlotCollections[S].at(0)}};if(!this.timeSlotCollectionCount()){M=true}return this._verticalSlot(P,1,N)},leftSlot:function(M){return this._horizontalSlot(M,-1)},rightSlot:function(M){return this._horizontalSlot(M,1)},_horizontalSlot:function(S,Q){var O=S.index;var N=S.isDaySlot;var M=S.collectionIndex;var P=this._getCollections(N);if(N){O+=Q}else{M+=Q}var R=P[M];return R?R.at(O):undefined},_verticalSlot:function(T,R,P){var O=T.index;var N=T.isDaySlot;var M=T.collectionIndex;var Q=this._getCollections(N);T=P(N,M,O);if(T){return T}if(N){M+=R}else{O+=R}var S=Q[M];return S?S.at(O):undefined},_collection:function(M,O){var N=O?this._daySlotCollections:this._timeSlotCollections;return N[M]},_startSlot:function(O,N,M){var Q=this._startCollection(O,N);var P=true;if(!Q){Q=N[0];P=false}var R=Q.slotByStartDate(O,M);if(!R){R=Q.first();P=false}return{slot:R,inRange:P}},_endSlot:function(O,N,M){var Q=this._endCollection(O,N,M);var P=true;if(!Q){Q=N[N.length-1];P=false}var R=Q.slotByEndDate(O,M);if(!R){R=Q.last();P=false}return{slot:R,inRange:P}},getSlotCollection:function(M,N){return this[N?"getDaySlotCollection":"getTimeSlotCollection"](M)},getTimeSlotCollection:function(M){return this._timeSlotCollections[M]},getDaySlotCollection:function(M){return this._daySlotCollections[M]}});var J=y.Class.extend({init:function(M){x.extend(this,M)},innerHeight:function(){var Q=this.collection;var P=this.start.index;var O=this.end.index;var M=0;for(var N=P;N<=O;N++){M+=Q.at(N).offsetHeight}return M},events:function(){return this.collection.events()},addEvent:function(M){this.events().push(M)},startSlot:function(){if(this.start.offsetLeft>this.end.offsetLeft){return this.end}return this.start},endSlot:function(){if(this.start.offsetLeft>this.end.offsetLeft){return this.start}return this.end}});var K=J.extend({innerHeight:function(){var Q=this.collection;var P=this.start.index;var O=this.end.index;var M=0;for(var N=P;N<=O;N++){M+=Q.at(N).offsetHeight}return M},outerRect:function(O,N,M){return this._rect("offset",O,N,M)},_rect:function(Z,P,S,R){var Y;var M;var Q;var aa;var X=this.start;var O=this.end;var U=y.support.isRtl(X.element);if(typeof P!="number"){P=y.date.toUtcTime(P)}if(typeof S!="number"){S=y.date.toUtcTime(S)}if(R){Y=X.offsetTop;M=O.offsetTop+O[Z+"Height"];if(U){Q=O.offsetLeft;aa=X.offsetLeft+X[Z+"Width"]}else{Q=X.offsetLeft;aa=O.offsetLeft+O[Z+"Width"]}}else{var T=P-X.start;if(T<0){T=0}var N=X.end-X.start;Y=X.offsetTop+X[Z+"Height"]*T/N;var W=O.end-S;if(W<0){W=0}var V=O.end-O.start;M=O.offsetTop+O[Z+"Height"]-O[Z+"Height"]*W/V;if(U){Q=Math.round(O.offsetLeft+O[Z+"Width"]*W/V);aa=Math.round(X.offsetLeft+X[Z+"Width"]-X[Z+"Width"]*T/N)}else{Q=Math.round(X.offsetLeft+X[Z+"Width"]*T/N);aa=Math.round(O.offsetLeft+O[Z+"Width"]-O[Z+"Width"]*W/V)}}return{top:Y,bottom:M,left:Q===0?Q:Q+1,right:aa}},innerRect:function(O,N,M){return this._rect("client",O,N,M)}});var c=J.extend({innerWidth:function(){var R=this.collection;var Q=this.start.index;var P=this.end.index;var M=0;var O=Q!==P?"offsetWidth":"clientWidth";for(var N=Q;N<=P;N++){M+=R.at(N)[O]}return M}});var D=y.Class.extend({init:function(N,P,O,M){this._slots=[];this._events=[];this._start=y.date.toUtcTime(N);this._end=y.date.toUtcTime(P);this._groupIndex=O;this._collectionIndex=M},refresh:function(){for(var M=0;M<this._slots.length;M++){this._slots[M].refresh()}},startInRange:function(M){return this._start<=M&&M<this._end},endInRange:function(N,O){var M=O?N<this._end:N<=this._end;return this._start<=N&&M},slotByStartDate:function(N){var O=N;if(typeof O!="number"){O=y.date.toUtcTime(N)}for(var M=0;M<this._slots.length;M++){var P=this._slots[M];if(P.startInRange(O)){return P}}return null},slotByEndDate:function(O,M){var P=O;if(typeof P!="number"){P=y.date.toUtcTime(O)}if(M){return this.slotByStartDate(O,false)}for(var N=0;N<this._slots.length;N++){var Q=this._slots[N];if(Q.endInRange(P)){return Q}}return null},count:function(){return this._slots.length},events:function(){return this._events},addTimeSlot:function(N,Q,M,O){var P=new v(N,Q,M,this._groupIndex,this._collectionIndex,this._slots.length,O);this._slots.push(P)},addDaySlot:function(N,Q,M,O){var P=new k(N,Q,M,this._groupIndex,this._collectionIndex,this._slots.length,O);this._slots.push(P)},first:function(){return this._slots[0]},last:function(){return this._slots[this._slots.length-1]},at:function(M){return this._slots[M]}});var g=y.Class.extend({init:function(P,R,N,Q,M,O){this.element=P;this.clientWidth=P.clientWidth;this.clientHeight=P.clientHeight;this.offsetWidth=P.offsetWidth;this.offsetHeight=P.offsetHeight;this.offsetTop=P.offsetTop;this.offsetLeft=P.offsetLeft;this.start=R;this.end=N;this.element=P;this.groupIndex=Q;this.collectionIndex=M;this.index=O;this.isDaySlot=false},startDate:function(){return y.timezone.toLocalDate(this.start)},endDate:function(){return y.timezone.toLocalDate(this.end)},startInRange:function(M){return this.start<=M&&M<this.end},endInRange:function(M){return this.start<M&&M<=this.end},startOffset:function(){return this.start},endOffset:function(){return this.end}});var v=g.extend({init:function(P,S,N,Q,M,O,R){g.fn.init.apply(this,arguments);this.isHorizontal=R?true:false},refresh:function(){var M=this.element;this.clientWidth=M.clientWidth;this.clientHeight=M.clientHeight;this.offsetWidth=M.offsetWidth;this.offsetHeight=M.offsetHeight;this.offsetTop=M.offsetTop;this.offsetLeft=M.offsetLeft},offsetX:function(M,N){if(M){return this.offsetLeft+N}else{return this.offsetLeft+N}},startInRange:function(M){return this.start<=M&&M<this.end},endInRange:function(M){return this.start<M&&M<=this.end},startOffset:function(N,T,M){if(M){return this.start}var R=x(this.element).offset();var Q=this.end-this.start;var S;var P;if(this.isHorizontal){var O=y.support.isRtl(this.element);S=N-R.left;P=Math.floor(Q*(S/this.offsetWidth));if(O){return this.start+Q-P}}else{S=T-R.top;P=Math.floor(Q*(S/this.offsetHeight))}return this.start+P},endOffset:function(N,T,M){if(M){return this.end}var R=x(this.element).offset();var Q=this.end-this.start;var S;var P;if(this.isHorizontal){var O=y.support.isRtl(this.element);S=N-R.left;P=Math.floor(Q*(S/this.offsetWidth));if(O){return this.start+Q-P}}else{S=T-R.top;P=Math.floor(Q*(S/this.offsetHeight))}return this.start+P}});var k=g.extend({init:function(P,S,N,Q,M,O,R){g.fn.init.apply(this,arguments);this.eventCount=R;this.isDaySlot=true;if(this.element.children.length){this.firstChildHeight=this.element.children[0].offsetHeight+3;this.firstChildTop=this.element.children[0].offsetTop}else{this.firstChildHeight=3;this.firstChildTop=0}},refresh:function(){this.clientHeight=this.element.clientHeight;this.offsetTop=this.element.offsetTop},startDate:function(){var M=new Date(this.start);return y.timezone.apply(M,"Etc/UTC")},endDate:function(){var M=new Date(this.end);return y.timezone.apply(M,"Etc/UTC")},startInRange:function(M){return this.start<=M&&M<this.end},endInRange:function(M){return this.start<M&&M<=this.end}});var d;function G(){d=d?d:y.support.scrollbar();return d}y.ui.SchedulerView=f.extend({init:function(N,M){f.fn.init.call(this,N,M);this._scrollbar=G();this._isRtl=y.support.isRtl(N);this._resizeHint=x();this._moveHint=x();this._cellId=y.guid();this._resourcesForGroups();this._selectedSlots=[]},_isMobile:function(){var M=this.options;return(M.mobile===true&&y.support.mobileOS)||M.mobile==="phone"||M.mobile==="tablet"},_isMobilePhoneView:function(){var M=this.options;return(M.mobile===true&&y.support.mobileOS&&!y.support.mobileOS.tablet)||M.mobile==="phone"},_addResourceView:function(){var M=new m(this.groups.length);this.groups.push(M);return M},dateForTitle:function(){return y.format(this.options.selectedDateFormat,this.startDate(),this.endDate())},shortDateForTitle:function(){return y.format(this.options.selectedShortDateFormat,this.startDate(),this.endDate())},_changeGroup:function(M,N){var P=N?"prevGroupSlot":"nextGroupSlot";var O=this[P](M.start,M.groupIndex,M.isAllDay);if(O){M.groupIndex+=N?-1:1}return O},_changeGroupContinuously:function(){return null},_changeViewPeriod:function(){return false},_horizontalSlots:function(T,O,V,Q){var M=Q?"leftSlot":"rightSlot";var R=O[0].start;var N=O[O.length-1].end;var U=this.groups[T.groupIndex];if(!V){var S=this._normalizeHorizontalSelection(T,O,Q);if(S){R=N=S}}R=U[M](R);N=U[M](N);if(!V&&!this._isVerticallyGrouped()&&(!R||!N)){R=N=this._changeGroup(T,Q)}var P;if(!R||!N){P=this._continuousSlot(T,O,Q);P=this._changeGroupContinuously(T,P,V,Q);if(P){R=N=P}}return{startSlot:R,endSlot:N}},_verticalSlots:function(S,O,U,P){var Q=O[0].start;var N=O[O.length-1].end;var T=this.groups[S.groupIndex];if(!U){var R=this._normalizeVerticalSelection(S,O,P);if(R){Q=N=R}}var M=P?"upSlot":"downSlot";Q=T[M](Q,U);N=T[M](N,U);if(!U&&this._isVerticallyGrouped()&&(!Q||!N)){Q=N=this._changeGroup(S,P)}return{startSlot:Q,endSlot:N}},_normalizeHorizontalSelection:function(){return null},_normalizeVerticalSelection:function(O,M,N){var P;if(N){P=M[0].start}else{P=M[M.length-1].end}return P},_continuousSlot:function(){return null},constrainSelection:function(M){var N=this.groups[0];var O;if(!this.inRange(M)){O=N.firstSlot();M.isAllDay=O.isDaySlot;M.start=O.startDate();M.end=O.endDate()}else{if(!N.daySlotCollectionCount()){M.isAllDay=false}}if(!this.groups[M.groupIndex]){M.groupIndex=0}},move:function(T,V,O){var P=false;var U=this.groups[T.groupIndex];if(!U.timeSlotCollectionCount()){T.isAllDay=true}var N=U.ranges(T.start,T.end,T.isAllDay,false);var S,M,R,Q;if(V===r.DOWN||V===r.UP){P=true;R=V===r.UP;this._updateDirection(T,N,O,R,true);Q=this._verticalSlots(T,N,O,R);if(!Q.startSlot&&!O&&this._changeViewPeriod(T,R,true)){return P}}else{if(V===r.LEFT||V===r.RIGHT){P=true;R=V===r.LEFT;this._updateDirection(T,N,O,R,false);Q=this._horizontalSlots(T,N,O,R);if(!Q.startSlot&&!O&&this._changeViewPeriod(T,R,false)){return P}}}if(P){S=Q.startSlot;M=Q.endSlot;if(O){var W=T.backward;if(W&&S){T.start=S.startDate()}else{if(!W&&M){T.end=M.endDate()}}}else{if(S&&M){T.isAllDay=S.isDaySlot;T.start=S.startDate();T.end=M.endDate()}}T.events=[]}return P},moveToEventInGroup:function(T,R,S,P){var U=T._continuousEvents||[];var V,M;var O=P?-1:1;var N=U.length;var Q=P?N-1:0;while(Q<N&&Q>-1){M=U[Q];if((!P&&M.start.startDate()>=R.startDate())||(P&&M.start.startDate()<=R.startDate())){if(S.length){M=U[Q+O]}if(M&&x.inArray(M.uid,S)===-1){V=!!M;break}}Q+=O}return M},moveToEvent:function(R,P){var T=R.groupIndex;var S=this.groups[T];var Q=S.ranges(R.start,R.end,R.isAllDay,false)[0].start;var N=this.groups.length;var O=P?-1:1;var U=R.events;var M;while(T<N&&T>-1){M=this.moveToEventInGroup(S,Q,U,P);T+=O;S=this.groups[T];if(!S||M){break}U=[];if(P){Q=S.lastSlot()}else{Q=S.firstSlot(true)}}if(M){R.events=[M.uid];R.start=M.start.startDate();R.end=M.end.endDate();R.isAllDay=M.start.isDaySlot;R.groupIndex=M.start.groupIndex}return !!M},current:function(M){if(M!==undefined){this._current=M;this._scrollTo(M,this.content[0])}else{return this._current}},select:function(M){this.clearSelection();if(!this._selectEvents(M)){this._selectSlots(M)}},_selectSlots:function(U){var S=U.isAllDay;var V=this.groups[U.groupIndex];if(!V.timeSlotCollectionCount()){S=true}this._selectedSlots=[];var M=V.ranges(U.start,U.end,S,false);var O;var T;for(var N=0;N<M.length;N++){var P=M[N];var Q=P.collection;for(var R=P.start.index;R<=P.end.index;R++){T=Q.at(R);O=T.element;O.setAttribute("aria-selected",true);H(O);this._selectedSlots.push({start:T.startDate(),end:T.endDate(),element:O})}}if(U.backward){O=M[0].start.element}this.current(O)},_selectEvents:function(P){var R=false;var O=P.events;var S=this.groups[P.groupIndex]._continuousEvents||[];var N,Q=S.length;if(!O[0]||!S[0]){return R}var M=x();P.events=[];for(N=0;N<Q;N++){if(x.inArray(S[N].uid,O)>-1){M=M.add(S[N].element);P.events.push(S[N].uid)}}if(M[0]){M.addClass("k-state-selected").attr("aria-selected",true);this.current(M.last()[0]);this._selectedSlots=[];R=true}return R},inRange:function(O){var M=this.startDate();var P=y.date.addDays(this.endDate(),1);var Q=O.start;var N=O.end;return M<=Q&&Q<P&&M<N&&N<=P},_resourceValue:function(N,M){if(N.valuePrimitive){M=y.getter(N.dataValueField)(M)}return M},_resourceBySlot:function(T){var R=this.groupedResources;var N={};if(R.length){var Q=T.groupIndex;for(var M=R.length-1;M>=0;M--){var P=R[M];var O=this._resourceValue(P,P.dataSource.view()[Q%P.dataSource.total()]);if(P.multiple){O=[O]}var S=y.setter(P.field);S(N,O);Q=Math.floor(Q/P.dataSource.total())}}return N},_createResizeHint:function(P,O,N,M){return x(E).css({left:P,top:O,width:N,height:M})},_removeResizeHint:function(){this._resizeHint.remove();this._resizeHint=x()},_removeMoveHint:function(){this._moveHint.remove();this._moveHint=x()},_scrollTo:function(Q,O){var P=Q.offsetTop,N=Q.offsetHeight,T=O.scrollTop,S=O.clientHeight,R=P+N,M=0;if(T>P){M=P}else{if(R>(T+S)){if(N<=S){M=(R-S)}else{M=P}}else{M=T}}O.scrollTop=M},_shouldInverseResourceColor:function(O){var P=new n(O.color).isDark();var M=this.element.css("color");var N=new n(M).isDark();return(P==N)},_eventTmpl:function(T,M){var U=this.options,O=x.extend({},y.Template,U.templateSettings),P=O.paramName,Q="",R=typeof T,N={storage:{},count:0};if(R==="function"){N.storage["tmpl"+N.count]=T;Q+="#=this.tmpl"+N.count+"("+P+")#";N.count++}else{if(R==="string"){Q+=T}}var S=y.template(y.format(M,Q),O);if(N.count>0){S=x.proxy(S,N.storage)}return S},eventResources:function(M){var O=[],Y=this.options;if(!Y.resources){return O}for(var X=0;X<Y.resources.length;X++){var P=Y.resources[X];var V=P.field;var T=y.getter(V)(M);if(!T){continue}if(!P.multiple){T=[T]}var R=P.dataSource.view();for(var S=0;S<T.length;S++){var N=null;var W=T[S];if(!P.valuePrimitive){W=y.getter(P.dataValueField)(W)}for(var U=0;U<R.length;U++){if(R[U].get(P.dataValueField)==W){N=R[U];break}}if(N!==null){var Q=y.getter(P.dataColorField)(N);O.push({field:P.field,title:P.title,name:P.name,text:y.getter(P.dataTextField)(N),value:W,color:Q})}}}return O},createLayout:function(S){var P=-1;if(!S.rows){S.rows=[]}for(var M=0;M<S.rows.length;M++){if(S.rows[M].allDay){P=M;break}}var Q=S.rows[P];if(P>=0){S.rows.splice(P,1)}var R=this.columnLevels=p(S,"columns");var O=this.rowLevels=p(S,"rows");this.table=x("<table "+C()+' class="k-scheduler-layout k-scheduler-'+this.name+'view"/>');var N=O[O.length-1].length;this.table.append(this._topSection(R,Q,N));this.table.append(this._bottomSection(R,O,N));this.element.append(this.table);this._scroller()},refreshLayout:function(){var S=this,T=S.element.find(">.k-scheduler-toolbar"),W=S.element.innerHeight(),X=this._scrollbar,Q=0,M=this._isRtl?"left":"right";for(var U=0;U<T.length;U++){W-=T.eq(U).outerHeight()}if(S.datesHeader){Q=S.datesHeader.outerHeight()}if(S.timesHeader&&S.timesHeader.outerHeight()>Q){Q=S.timesHeader.outerHeight()}if(S.datesHeader&&S.timesHeader){var V=S.datesHeader.find("table:first tr");S.timesHeader.find("tr").height(function(Y){x(this).height(V.eq(Y).height())})}if(Q){W-=Q}if(S.footer){W-=S.footer.outerHeight()}var P=function(aa){var Z,Y;if(aa[0].style.height){return true}else{Z=aa.height()}aa.height("auto");Y=aa.height();if(Z!=Y){aa.height("");return true}aa.height("");return false};var O=S.content[0],R=!y.support.kineticScrollNeeded?X:0;if(P(S.element)){if(W>X*2){S.content.height(W)}else{S.content.height(X*2+1)}S.times.height(O.clientHeight);var N=S.times.find("table");if(N.length){N.height(S.content.find("table")[0].clientHeight)}}if(O.offsetWidth-O.clientWidth>0){S.table.addClass("k-scrollbar-v");S.datesHeader.css("padding-"+M,R-parseInt(S.datesHeader.children().css("border-"+M+"-width"),10))}else{S.datesHeader.css("padding-"+M,"")}if(O.offsetHeight-O.clientHeight>0||O.clientHeight>S.content.children(".k-scheduler-table").height()){S.table.addClass("k-scrollbar-h")}else{S.table.removeClass("k-scrollbar-h")}},_topSection:function(O,N,M){this.timesHeader=A(O.length,N,M);var P=O[O.length-1].length;this.datesHeader=b(O,P,N);return x("<tr>").append(this.timesHeader.add(this.datesHeader).wrap("<td>").parent())},_bottomSection:function(O,N,M){this.times=s(N,M);this.content=j(O[O.length-1],N[N.length-1]);return x("<tr>").append(this.times.add(this.content).wrap("<td>").parent())},_scroller:function(){var N=this;this.content.bind("scroll"+z,function(){N.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(this.scrollLeft);N.times.scrollTop(this.scrollTop)});var M=y.touchScroller(this.content,{avoidScrolling:function(O){return x(O.event.target).closest(".k-event.k-event-active").length>0}});if(M&&M.movable){this._touchScroller=M;this.content=M.scrollElement;M.movable.bind("change",function(O){N.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(-O.sender.x);N.times.scrollTop(-O.sender.y)})}},_resourcesForGroups:function(){var O=[];var N=this.options.group;var Q=this.options.resources;N=N&&N.resources?N.resources:[];if(Q&&N.length){for(var M=0,P=Q.length;M<P;M++){for(var R=0,S=N.length;R<S;R++){if(Q[M].name===N[R]){O.push(Q[M])}}}}this.groupedResources=O},_createColumnsLayout:function(O,M,N){return h("columns",O,M,N)},_groupOrientation:function(){var M=this.options.group;return M&&M.resources?M.orientation:"horizontal"},_isVerticallyGrouped:function(){return this.groupedResources.length&&this._groupOrientation()==="vertical"},_createRowsLayout:function(O,M,N){return h("rows",O,M,N)},selectionByElement:function(){return null},clearSelection:function(){this.content.find(".k-state-selected").removeAttr("id").attr("aria-selected",false).removeClass("k-state-selected")},destroy:function(){var M=this;f.fn.destroy.call(this);if(M.table){y.destroy(M.table);M.table.remove()}M.groups=null;M.table=null;M.content=null;M.times=null;M.datesHeader=null;M.timesHeader=null;M.footer=null;M._resizeHint=null;M._moveHint=null},calendarInfo:function(){return y.getCulture().calendars.standard},prevGroupSlot:function(M,N,P){var Q;var O=this.groups[N];var R=O.ranges(M,M,P,false)[0].start;if(N<=0){return}if(this._isVerticallyGrouped()){if(!O.timeSlotCollectionCount()){Q=O._collection(O.daySlotCollectionCount()-1,true);return Q.at(R.index)}else{Q=O._collection(P?R.index:R.collectionIndex,false);return Q.last()}}else{if(!O.timeSlotCollectionCount()){Q=O._collection(R.collectionIndex,true);return Q.last()}else{Q=O._collection(P?0:O.timeSlotCollectionCount()-1,P);return P?Q.last():Q.at(R.index)}}},nextGroupSlot:function(N,O,Q){var R;var P=this.groups[O];var S=P.ranges(N,N,Q,false)[0].start;var M;if(O>=this.groups.length-1){return}if(this._isVerticallyGrouped()){if(!P.timeSlotCollectionCount()){R=P._collection(0,true);return R.at(S.index)}else{M=P.daySlotCollectionCount();R=P._collection(M?0:S.collectionIndex,M);return Q?R.first():R.at(S.collectionIndex)}}else{if(!P.timeSlotCollectionCount()){R=P._collection(S.collectionIndex,true);return R.first()}else{R=P._collection(0,Q);return Q?R.first():R.at(S.index)}}},_updateEventForMove:function(M){return},_updateEventForResize:function(M){return},_updateEventForSelection:function(M){return M}});function w(Q,T,N){var M,O,S,R,P;for(M=Q.length-1;M>=0;M--){O=o(Q[M]);S=O.start;P=O.end;R=S<=T&&P>=T;if(R||(S>=T&&P<=N)||(T<=S&&N>=S)){if(S<T){T=S}if(P>N){N=P}}}return e(Q,T,N)}function o(M){return{start:M.start,end:M.end}}function e(Q,R,P){var N=[];for(var M=0;M<Q.length;M++){var O=o(Q[M]);if((O.start<R&&O.end>R)||(O.start>=R&&O.end<=P)){N.push(Q[M])}}return N}function u(M){return F(M)}function l(M){return F(M)}var n=function(S){var O=this,N=n.formats,R,Q,T,P,M;if(arguments.length===1){S=O.resolveColor(S);for(P=0;P<N.length;P++){R=N[P].re;Q=N[P].process;T=R.exec(S);if(T){M=Q(T);O.r=M[0];O.g=M[1];O.b=M[2]}}}else{O.r=arguments[0];O.g=arguments[1];O.b=arguments[2]}O.r=O.normalizeByte(O.r);O.g=O.normalizeByte(O.g);O.b=O.normalizeByte(O.b)};n.prototype={resolveColor:function(M){M=M||"#000";if(M.charAt(0)=="#"){M=M.substr(1,6)}M=M.replace(/ /g,"");M=M.toLowerCase();M=n.namedColors[M]||M;return M},normalizeByte:function(M){return(M<0||isNaN(M))?0:((M>255)?255:M)},percBrightness:function(){var M=this;return t.sqrt(0.241*M.r*M.r+0.691*M.g*M.g+0.068*M.b*M.b)},isDark:function(){var N=this;var M=N.percBrightness();return M<180}};n.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(M){return[parseInt(M[1],10),parseInt(M[2],10),parseInt(M[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(M){return[parseInt(M[1],16),parseInt(M[2],16),parseInt(M[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(M){return[parseInt(M[1]+M[1],16),parseInt(M[2]+M[2],16),parseInt(M[3]+M[3],16)]}}];n.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};function F(N){var P=[];for(var R=0;R<N.length;R++){var M=N[R];var T=o(M);var O=null;for(var Q=0,U=P.length;Q<U;Q++){var S=T.start>P[Q].end;if(T.start<P[Q].start||S){O=P[Q];if(O.end<T.end){O.end=T.end}break}}if(!O){O={start:T.start,end:T.end,events:[]};P.push(O)}O.events.push(M)}return P}function h(M,O,U,T){var P=O[0];if(P){var N=[];var R=P.dataSource.view();for(var S=0;S<R.length;S++){var Q={text:T({text:y.htmlEncode(y.getter(P.dataTextField)(R[S])),color:y.getter(P.dataColorField)(R[S]),field:P.field,title:P.title,name:P.name,value:y.getter(P.dataValueField)(R[S])}),className:"k-slot-cell"};Q[M]=h(M,O.slice(1),U,T);N.push(Q)}return N}return U}function I(M){return function(O){if(x.isArray(O)||O instanceof y.data.ObservableArray){for(var N=0;N<O.length;N++){if(O[N]==M){return true}}return false}return O==M}}var i=/\s*k-state-selected/;function H(M){M.className=M.className.replace(i,"")+" k-state-selected"}x.extend(B.SchedulerView,{createColumns:u,createRows:l,rangeIndex:o,collidingEvents:w,groupEqFilter:I})})(window.kendo.jQuery);(function(e,g){var p=window.kendo,o=p.ui,n=p.date.setTime,b=o.SchedulerView,w=e.extend,t=e.proxy,k=p.date.getDate,f=p.date.MS_PER_MINUTE,c=p.date.MS_PER_DAY,x=p.date.getMilliseconds,v=".kendoMultiDayView";var s=p.template('<div title="(#=kendo.format("{0:t} - {1:t}", start, end)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template k-event-time">#:kendo.format("{0:t} - {1:t}", start, end)#</div><div class="k-event-template">${title}</div></div>'),i=p.template('<div title="(#=kendo.format("{0:t}", start)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">${title}</div></div>'),j=p.template("<span class='k-link k-nav-day'>#=kendo.toString(date, 'ddd M/dd')#</span>"),u='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color#; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#" #} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span>#if(resizable && !singleDay && !data.tail && !data.middle){#<span class="k-resize-handle k-resize-w"></span>#}##if(resizable && !singleDay && !data.head && !data.middle){#<span class="k-resize-handle k-resize-e"></span>#}#</div>',y='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#" #if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</span><span class="k-event-top-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-n"></span># } #</span><span class="k-event-bottom-actions"># if(data.head || data.middle) {#<span class="k-icon k-i-arrow-s"></span># } #</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-n"></span># } ## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-s"></span># } #</div>';function d(z){var A=new Date(1980,1,1,0,0,0);n(A,x(z));return A}function l(B,A,z){return B>=A&&B<=z}function q(B,A,z,C){C=C?B<=z:B<z;return B>A&&C}function r(G,C,F,E){var D=G._continuousEvents;var B=D[D.length-1];var A=k(C.start.startDate()).getTime();if(E&&B&&k(B.start.startDate()).getTime()==A){var z=D.length-1;for(;z>-1;z--){if(D[z].isAllDay||k(D[z].start.startDate()).getTime()<A){break}}D.splice(z+1,0,{element:F,isAllDay:true,uid:F.attr(p.attr("uid")),start:C.start,end:C.end})}else{D.push({element:F,isAllDay:E,uid:F.attr(p.attr("uid")),start:C.start,end:C.end})}}function h(z){var A=[];var B=z.workWeekStart;A.push(B);while(z.workWeekEnd!=B){if(B>6){B-=7}else{B++}A.push(B)}return A}var m=b.extend({init:function(A,z){var B=this;b.fn.init.call(B,A,z);B.title=B.options.title||B.options.name;B._workDays=h(B.options);B._templates();B._editable();B.calculateDateRange();B._groups();B._currentTime()},_currentTimeMarkerUpdater:function(){var A=new Date();var K=this.options;if(K.currentTimeMarker.useLocalTimezone===false){var F=K.dataSource.options.schema.timezone;if(K.dataSource&&F){var H=p.timezone.offset(A,F);A=p.timezone.convert(A,A.getTimezoneOffset(),H)}}this.times.find(".k-current-time").remove();var B=!K.group||K.group.orientation=="horizontal"?1:this.groups.length;for(var I=0;I<B;I++){var J=this.groups[I];var G=p.date.toUtcTime(A);var z=J.timeSlotRanges(G,G+1);if(z.length===0){return}var E=z[0].collection;var D=E.slotByStartDate(A);if(D){var C=e("<div class='k-current-time'></div>");C.appendTo(this.times).css({top:Math.round(z[0].innerRect(A,new Date(A.getTime()+1),false).top),height:"1px",right:"1px",left:0})}}},_currentTime:function(){var A=this;var z=A.options.currentTimeMarker;if(z!==false&&z.updateInterval!==g){var B=z.updateInterval;A._currentTimeMarkerUpdater();A._currentTimeUpdateTimer=setInterval(t(this._currentTimeMarkerUpdater,A),B)}},_updateResizeHint:function(A,O,E,J){var F=A.isMultiDay();var N=this.groups[O];var B=N.ranges(E,J,F,A.isAllDay);this._removeResizeHint();for(var G=0;G<B.length;G++){var I=B[G];var D=I.startSlot();var C=D.offsetWidth;var P=D.clientHeight;var L=D.offsetTop;if(F){C=I.innerWidth()}else{var K=I.outerRect(E,J,this.options.snap);L=K.top;P=K.bottom-K.top}var H=b.fn._createResizeHint.call(this,D.offsetLeft,L,C,P);this._resizeHint=this._resizeHint.add(H)}var M="t";var z=this.content;if(F){M="M/dd";z=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div");if(!z.length){z=this.content}}this._resizeHint.appendTo(z);this._resizeHint.find(".k-label-top,.k-label-bottom").text("");this._resizeHint.first().addClass("k-first").find(".k-label-top").text(p.toString(p.timezone.toLocalDate(E),M));this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(p.toString(p.timezone.toLocalDate(J),M))},_updateMoveHint:function(A,N,z){var E=A.isMultiDay();var M=this.groups[N];var C=p.date.toUtcTime(A.start)+z;var F=C+A.duration();var B=M.ranges(C,F,E,A.isAllDay);C=p.timezone.toLocalDate(C);F=p.timezone.toLocalDate(F);this._removeMoveHint();if(!E&&(x(F)===0||x(F)<x(this.startTime()))){if(B.length>1){B.pop()}}for(var D=0;D<B.length;D++){var H=B[D];var L=H.start;var G=this._createEventElement(A.clone({start:C,end:F}),!E);G.addClass("k-event-drag-hint");var I={left:L.offsetLeft+2,top:L.offsetTop};if(this._isRtl){I.left=L.clientWidth*0.1+L.offsetLeft+2}if(E){I.width=H.innerWidth()-4}else{var K=H.outerRect(C,F,this.options.snap);I.top=K.top;I.height=K.bottom-K.top;I.width=L.clientWidth*0.9-4}G.css(I);this._moveHint=this._moveHint.add(G)}var J=this.content;if(E){J=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div");if(!J.length){J=this.content}}this._moveHint.appendTo(J)},_slotByPosition:function(z,E){var D;var C;if(this._isVerticallyGrouped()){C=this.content.offset();E+=this.content[0].scrollTop;z+=this.content[0].scrollLeft}else{C=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day)").find(">div").offset()}if(C){z-=C.left;E-=C.top}z=Math.ceil(z);E=Math.ceil(E);var B;var A;for(A=0;A<this.groups.length;A++){B=this.groups[A];D=B.daySlotByPosition(z,E);if(D){return D}}if(C){z+=C.left;E+=C.top}C=this.content.offset();z-=C.left;E-=C.top;if(!this._isVerticallyGrouped()){E+=this.content[0].scrollTop;z+=this.content[0].scrollLeft}z=Math.ceil(z);E=Math.ceil(E);for(A=0;A<this.groups.length;A++){B=this.groups[A];D=B.timeSlotByPosition(z,E);if(D){return D}}return null},_groupCount:function(){var z=this.groupedResources;if(z.length){if(this._groupOrientation()==="vertical"){return this._rowCountForLevel(z.length-1)}else{return this._columnCountForLevel(z.length)/this._columnOffsetForResource(z.length)}}return 1},_columnCountInResourceView:function(){var z=this.groupedResources;if(!z.length||this._isVerticallyGrouped()){return this._columnCountForLevel(0)}return this._columnOffsetForResource(z.length)},_timeSlotGroups:function(B,S){var R=this._timeSlotInterval();var M=this.content.find("tr:not(.k-scheduler-header-all-day)");M.attr("role","row");var J=M.length;if(this._isVerticallyGrouped()){J=Math.floor(J/B)}for(var A=0;A<B;A++){var Q=0;if(this._isVerticallyGrouped()){Q=A}var K=Q*J;var F;var N=0;if(!this._isVerticallyGrouped()){N=A}while(K<(Q+1)*J){var D=M[K].children;var G=this.groups[A];if(K%J===0){F=x(new Date(+this.startTime()))}for(var I=N*S;I<(N+1)*S;I++){var z=D[I];var O=I%S;var L=G.getTimeSlotCollection(O);var H=this._dates[O];var P=Date.UTC(H.getFullYear(),H.getMonth(),H.getDate());var E=P+F;var C=E+R;z.setAttribute("role","gridcell");z.setAttribute("aria-selected",false);L.addTimeSlot(z,E,C)}F+=R;K++}}},_daySlotGroups:function(J,E){var H;if(this._isVerticallyGrouped()){H=this.element.find(".k-scheduler-header-all-day")}else{H=this.element.find(".k-scheduler-header-all-day tr")}H.attr("role","row");for(var L=0;L<J;L++){var C=0;if(this._isVerticallyGrouped()){C=L}var K=this.groups[L];var D=K.getDaySlotCollection(0);var M=H[C].children;var B=0;if(!this._isVerticallyGrouped()){B=L}var G=0;for(var F=B*E;F<(B+1)*E;F++){var I=M[F];if(F%E===0){G=0}var A=this._dates[G];var z=Date.UTC(A.getFullYear(),A.getMonth(),A.getDate());G++;I.setAttribute("role","gridcell");I.setAttribute("aria-selected",false);D.addDaySlot(I,z,z+p.date.MS_PER_DAY)}}},_groups:function(){var D=this._groupCount();var C=this._columnCountInResourceView();this.groups=[];for(var z=0;z<D;z++){var A=this._addResourceView(z);for(var B=0;B<C;B++){A.addTimeSlotCollection(this._dates[B],p.date.addDays(this._dates[B],1))}if(this.options.allDaySlot){A.addDaySlotCollection(this._dates[0],p.date.addDays(this._dates[this._dates.length-1],1))}}this._timeSlotGroups(D,C);if(this.options.allDaySlot){this._daySlotGroups(D,C)}},options:{name:"MultiDayView",selectedDateFormat:"{0:D}",selectedShortDateFormat:"{0:d}",allDaySlot:true,showWorkHours:false,title:"",startTime:p.date.today(),endTime:p.date.today(),minorTickCount:2,majorTick:60,majorTimeHeaderTemplate:"#=kendo.toString(date, 't')#",minorTimeHeaderTemplate:"&nbsp;",groupHeaderTemplate:"#=text#",slotTemplate:"&nbsp;",allDaySlotTemplate:"&nbsp;",eventTemplate:s,allDayEventTemplate:i,dateHeaderTemplate:j,editable:true,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,footer:{command:"workDay"},messages:{allDay:"all day",showFullDay:"Show full day",showWorkDay:"Show business hours"},currentTimeMarker:{updateInterval:10000,useLocalTimezone:true}},events:["remove","add","edit"],_templates:function(){var z=this.options,A=w({},p.Template,z.templateSettings);this.eventTemplate=this._eventTmpl(z.eventTemplate,y);this.allDayEventTemplate=this._eventTmpl(z.allDayEventTemplate,u);this.majorTimeHeaderTemplate=p.template(z.majorTimeHeaderTemplate,A);this.minorTimeHeaderTemplate=p.template(z.minorTimeHeaderTemplate,A);this.dateHeaderTemplate=p.template(z.dateHeaderTemplate,A);this.slotTemplate=p.template(z.slotTemplate,A);this.allDaySlotTemplate=p.template(z.allDaySlotTemplate,A);this.groupHeaderTemplate=p.template(z.groupHeaderTemplate,A)},_editable:function(){if(this.options.editable){if(this._isMobile()){this._touchEditable()}else{this._mouseEditable()}}},_mouseEditable:function(){var z=this;z.element.on("click"+v,".k-event a:has(.k-si-close)",function(A){z.trigger("remove",{uid:e(this).closest(".k-event").attr(p.attr("uid"))});A.preventDefault()});if(z.options.editable.create!==false){z.element.on("dblclick"+v,".k-scheduler-content td",function(A){if(!e(this).parent().hasClass("k-scheduler-header-all-day")){var C=z._slotByPosition(A.pageX,A.pageY);if(C){var B=z._resourceBySlot(C);z.trigger("add",{eventInfo:w({start:C.startDate(),end:C.endDate()},B)})}A.preventDefault()}}).on("dblclick"+v,".k-scheduler-header-all-day td",function(A){var C=z._slotByPosition(A.pageX,A.pageY);if(C){var B=z._resourceBySlot(C);z.trigger("add",{eventInfo:w({},{isAllDay:true,start:p.date.getDate(C.startDate()),end:p.date.getDate(C.startDate())},B)})}A.preventDefault()})}if(z.options.editable.update!==false){z.element.on("dblclick"+v,".k-event",function(A){z.trigger("edit",{uid:e(this).closest(".k-event").attr(p.attr("uid"))});A.preventDefault()})}},_touchEditable:function(){var z=this;if(z.options.editable.create!==false){z._addUserEvents=new p.UserEvents(z.element,{filter:".k-scheduler-content td",tap:function(A){if(!e(A.target).parent().hasClass("k-scheduler-header-all-day")){var C=z._slotByPosition(A.x.location,A.y.location);if(C){var B=z._resourceBySlot(C);z.trigger("add",{eventInfo:w({start:C.startDate(),end:C.endDate()},B)})}A.preventDefault()}}});z._allDayUserEvents=new p.UserEvents(z.element,{filter:".k-scheduler-header-all-day td",tap:function(A){var C=z._slotByPosition(A.x.location,A.y.location);if(C){var B=z._resourceBySlot(C);z.trigger("add",{eventInfo:w({},{isAllDay:true,start:p.date.getDate(C.startDate()),end:p.date.getDate(C.startDate())},B)})}A.preventDefault()}})}if(z.options.editable.update!==false){z._editUserEvents=new p.UserEvents(z.element,{filter:".k-event",tap:function(B){var A=e(B.target).closest(".k-event");if(!A.hasClass("k-event-active")){z.trigger("edit",{uid:A.attr(p.attr("uid"))})}B.preventDefault()}})}},_layout:function(G){var B=[];var E=[];var A=this.options;var D=this;for(var z=0;z<G.length;z++){var C={};C.text=D.dateHeaderTemplate({date:G[z]});if(p.date.isToday(G[z])){C.className="k-today"}B.push(C)}var F=this.groupedResources;if(A.allDaySlot){E.push({text:A.messages.allDay,allDay:true,cellContent:function(H){var I=H;H=F.length&&D._groupOrientation()!=="vertical"?H%G.length:H;return D.allDaySlotTemplate({date:G[H],resources:function(){return D._resourceBySlot({groupIndex:I})}})}})}this._forTimeRange(this.startTime(),this.endTime(),function(I,K,H,L){var J=K?D.majorTimeHeaderTemplate:D.minorTimeHeaderTemplate;var M={text:J({date:I}),className:L?"k-slot-cell":""};E.push(M)});if(F.length){if(this._groupOrientation()==="vertical"){E=this._createRowsLayout(F,E,this.groupHeaderTemplate)}else{B=this._createColumnsLayout(F,B,this.groupHeaderTemplate)}}return{columns:B,rows:E}},_footer:function(){var z=this.options;if(z.footer!==false){var A='<div class="k-header k-scheduler-footer">';var C=z.footer.command;if(C&&C==="workDay"){A+='<ul class="k-reset k-header">';A+='<li class="k-state-default k-scheduler-fullday"><a href="#" class="k-link"><span class="k-icon k-i-clock"></span>';A+=(z.showWorkHours?z.messages.showFullDay:z.messages.showWorkDay)+"</a></li>";A+="</ul>"}else{A+="&nbsp;"}A+="</div>";this.footer=e(A).appendTo(this.element);var B=this;this.footer.on("click"+v,".k-scheduler-fullday",function(D){D.preventDefault();B.trigger("navigate",{view:B.name||z.name,date:B.startDate(),isWorkDay:!z.showWorkHours})})}},_forTimeRange:function(L,N,M,A){L=d(L);N=d(N);var E=this,F=x(L),H=x(N),D=E.options.minorTickCount,R=E.options.majorTick*f,P=R/D||1,C=new Date(+L),I=C.getDate(),z,K=0,B,J="";B=c/P;if(F!=H){if(F>H){H+=c}B=((H-F)/P)}B=Math.round(B);for(;K<B;K++){var S=K%(R/P),Q=S===0,O=S<D-1,G=S===D-1;J+=M(C,Q,O,G);n(C,P,false)}if(H){z=x(C);if(I<C.getDate()){z+=c}if(z>H){C=new Date(+N)}}if(A){J+=A(C)}return J},_content:function(z){var J=this;var O=J.options;var C=J.startTime();var H=this.endTime();var E=1;var L=1;var K=z.length;var I="";var D=this.groupedResources;var N=this.slotTemplate;var G=this.allDaySlotTemplate;var F=false;var B;if(D.length){F=J._groupOrientation()==="vertical";if(F){L=this._rowCountForLevel(this.rowLevels.length-2);if(O.allDaySlot){B=function(S){var Q='<tr class="k-scheduler-header-all-day">';var T=function(){return J._resourceBySlot({groupIndex:S})};for(var P=0,R=z.length;P<R;P++){Q+="<td>"+G({date:z[P],resources:T})+"</td>"}return Q+"</tr>"}}}else{E=this._columnCountForLevel(this.columnLevels.length-2)}}I+="<tbody>";var M=function(S,R){var U="";var W;var P;var T="";var V;var X=0;U="<tr"+(R?' class="k-middle-row"':"")+">";var Q=function(Y){return function(){return J._resourceBySlot({groupIndex:Y})}};for(;X<E;X++){for(W=0,P=K;W<P;W++){T="";if(p.date.isToday(z[W])){T+="k-today"}if(p.date.getMilliseconds(S)<p.date.getMilliseconds(J.options.workDayStart)||p.date.getMilliseconds(S)>=p.date.getMilliseconds(J.options.workDayEnd)||!J._isWorkDay(z[W])){T+=" k-nonwork-hour"}U+="<td"+(T!==""?' class="'+T+'"':"")+">";V=p.date.getDate(z[W]);p.date.setTime(V,p.date.getMilliseconds(S));U+=N({date:V,resources:Q(F?A:X)});U+="</td>"}}U+="</tr>";return U};for(var A=0;A<L;A++){I+=B?B(A):"";I+=this._forTimeRange(C,H,M)}I+="</tbody>";this.content.find("table").append(I)},_isWorkDay:function(A){var z=A.getDay();var C=this._workDays;for(var B=0;B<C.length;B++){if(C[B]===z){return true}}return false},_render:function(B){var A=this;B=B||[];this._dates=B;this._startDate=B[0];this._endDate=B[(B.length-1)||0];this.createLayout(this._layout(B));this._content(B);this._footer();this.refreshLayout();var z=this.element.find(".k-scheduler-header-all-day td");if(z.length){this._allDayHeaderHeight=z.first()[0].clientHeight}A.datesHeader.on("click"+v,".k-nav-day",function(D){var C=e(D.currentTarget).closest("th");var E=C.offset();var F=A._slotByPosition(E.left,E.top+C.outerHeight());A.trigger("navigate",{view:"day",date:F.startDate()})})},startTime:function(){var z=this.options;return z.showWorkHours?z.workDayStart:z.startTime},endTime:function(){var z=this.options;return z.showWorkHours?z.workDayEnd:z.endTime},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_end:function(z){var A=x(this.endTime())||c;if(z){A=0}return new Date(this._endDate.getTime()+A)},nextDate:function(){return p.date.nextDay(this.endDate())},previousDate:function(){return p.date.previousDay(this.startDate())},calculateDateRange:function(){this._render([this.options.date])},destroy:function(){var z=this;if(z._currentTimeUpdateTimer){clearInterval(z._currentTimeUpdateTimer)}if(z.datesHeader){z.datesHeader.off(v)}if(z.element){z.element.off(v)}if(z.footer){z.footer.remove()}b.fn.destroy.call(this);if(this._isMobile()&&z.options.editable){if(z.options.editable.create!==false){z._addUserEvents.destroy();z._allDayUserEvents.destroy()}if(z.options.editable.update!==false){z._editUserEvents.destroy()}}},inRange:function(B){var D=b.fn.inRange.call(this,B);var C=x(this.startTime());var A=x(this.endTime())||p.date.MS_PER_DAY;var E=x(B.start);var z=x(B.end)||p.date.MS_PER_DAY;return D&&C<=E&&z<=A},selectionByElement:function(z){var A=z.offset();return this._slotByPosition(A.left,A.top)},_timeSlotInterval:function(){var z=this.options;return(z.majorTick/z.minorTickCount)*f},_timeSlotIndex:function(B){var A=this.options;var D=x(B);var C=x(this.startTime());var z=((A.majorTick/A.minorTickCount)*f);return(D-C)/(z)},_slotIndex:function(z,A){if(A){return this._dateSlotIndex(z)}return this._timeSlotIndex(z)},_dateSlotIndex:function(A,G){var z;var C;var B=this._dates||[];var F;var D;var E=1;for(z=0,C=B.length;z<C;z++){F=p.date.getDate(B[z]);D=new Date(p.date.getDate(B[z]).getTime()+c-(G?0:1));if(l(A,F,D)){return z*E}}return -1},_positionAllDayEvent:function(z,A){var E=A.innerWidth();var D=A.start.index;var B=A.end.index;var K=b.collidingEvents(A.events(),D,B);var G=this._headerColumnCount||0;var J=2;var L=D!==B?5:4;var H=this._allDayHeaderHeight;var F=A.startSlot();z.css({left:F.offsetLeft+J,width:E-L});A.addEvent({slotIndex:D,start:D,end:B,element:z});K.push({slotIndex:D,start:D,end:B,element:z});var I=b.createRows(K);if(I.length&&I.length>G){this._headerColumnCount=I.length}var N=A.start.offsetTop;for(var M=0,C=I.length;M<C;M++){var O=I[M].events;for(var P=0,Q=O.length;P<Q;P++){e(O[P].element).css({top:N+M*H})}}},_arrangeColumns:function(I,L,O,J){var M=J.start;I={element:I,slotIndex:M.index,start:L,end:L+O};var F,C=M.clientWidth,G=C*0.1,K,B=J.events(),z=b.collidingEvents(B,I.start,I.end);J.addEvent(I);z.push(I);F=b.createColumns(z);var E=(C-G)/F.length;for(var N=0,D=F.length;N<D;N++){K=F[N].events;for(var H=0,A=K.length;H<A;H++){K[H].element[0].style.width=E-4+"px";K[H].element[0].style.left=(this._isRtl?G:0)+M.offsetLeft+N*E+2+"px"}}},_positionEvent:function(E,C,B){var F=E._startTime||E.start;var A=E._endTime||E.end;var D=B.innerRect(F,A,false);var z=D.bottom-D.top-2;if(z<0){z=0}C.css({top:D.top,height:z});this._arrangeColumns(C,D.top,C[0].clientHeight,B)},_createEventElement:function(M,R,D,G){var S=R?this.eventTemplate:this.allDayEventTemplate;var B=this.options;var L=B.editable;var K=this._isMobile();var J=L&&L.destroy!==false&&!K;var F=L&&L.resize!==false;var A=k(this.startDate());var N=k(this.endDate());var I=x(this.startTime());var C=x(this.endTime());var E=M._time("start");var Q=M._time("end");var U;if(I>=C){C=x(new Date(this.endTime().getTime()+c-1))}if(!R&&!M.isAllDay){N=new Date(N.getTime()+c)}var P=M.start;var H=M.end;if(M.isAllDay){H=k(M.end)}if((!l(k(P),A,N)&&!l(H,A,N))||(R&&E<I&&Q>C)){U=true}else{if(k(P)<A||(R&&E<I)){G=true}else{if((H>N&&!R)||(R&&Q>C)){D=true}}}var O=this.eventResources(M);if(M._startTime){P=new Date(E);P=p.timezone.apply(P,"Etc/UTC")}if(M.endTime){H=new Date(Q);H=p.timezone.apply(H,"Etc/UTC")}var T=w({},{ns:p.ns,resizable:F,showDelete:J,middle:U,head:D,tail:G,singleDay:this._dates.length==1,resources:O,inverseColor:O&&O[0]?this._shouldInverseResourceColor(O[0]):false},M,{start:P,end:H});var z=e(S(T));this.angular("compile",function(){return{elements:z,data:[{dataItem:T}]}});return z},_isInTimeSlot:function(C){var A=this.startTime(),E=this.endTime(),B=C._startTime||C.start,z=C._endTime||C.end;if(x(E)===x(p.date.getDate(E))){E=p.date.getDate(E);n(E,c-1)}if(C._date("end")>C._date("start")){z=+C._date("end")+(c-1)}z=z-C._date("end");B=B-C._date("start");E=x(E);A=x(A);if(A===B&&B===z){return true}var D=B!==E;return q(B,A,E,D)||q(z,A,E,D)||q(A,B,z)||q(E,B,z)},_isInDateSlot:function(C){var z=this.groups[0];var E=z.firstSlot().start;var D=z.lastSlot().end-1;var B=p.date.toUtcTime(C.start);var A=p.date.toUtcTime(C.end);return(l(B,E,D)||l(A,E,D)||l(E,B,A)||l(D,B,A))&&(!l(A,E,E)||l(A,B,B)||C.isAllDay)},_updateAllDayHeaderHeight:function(z){if(this._height!==z){this._height=z;var A=this.element.find(".k-scheduler-header-all-day td");if(A.length){A.parent().add(this.element.find(".k-scheduler-times-all-day").parent()).height(z);for(var B=0;B<this.groups.length;B++){this.groups[B].refresh()}}}},_renderEvents:function(z,C){var L=this.datesHeader.find(".k-scheduler-header-wrap > div");var N;var M;var E;for(M=0,E=z.length;M<E;M++){N=z[M];if(this._isInDateSlot(N)){var O=N.isAllDay||N.end.getTime()-N.start.getTime()>=c;var J=O&&!this._isVerticallyGrouped()?L:this.content;var A;var B;var I;if(!O){if(this._isInTimeSlot(N)){I=this.groups[C];if(!I._continuousEvents){I._continuousEvents=[]}B=I.slotRanges(N);var P=B.length;for(var Q=0;Q<P;Q++){var K=B[Q];var G=N.start;var D=N.end;if(P>1){if(Q===0){D=K.end.endDate()}else{if(Q==P-1){G=K.start.startDate()}else{G=K.start.startDate();D=K.end.endDate()}}}var F=N.clone({start:G,end:D,_startTime:N._startTime,_endTime:N.endTime});if(this._isInTimeSlot(F)){var H=K.head;A=this._createEventElement(N,!O,H,K.tail);A.appendTo(J);this._positionEvent(F,A,K);r(I,K,A,false)}}}}else{if(this.options.allDaySlot){I=this.groups[C];if(!I._continuousEvents){I._continuousEvents=[]}B=I.slotRanges(N);if(B.length){A=this._createEventElement(N,!O);this._positionAllDayEvent(A,B[0]);r(I,B[0],A,true);A.appendTo(J)}}}}}},render:function(C){this._headerColumnCount=0;this._groups();this.element.find(".k-event").remove();C=new p.data.Query(C).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var B=[];this._eventsByResource(C,this.groupedResources,B);var D=this;var A=e.map(this._dates,function(F){return Math.max.apply(null,e.map(B,function(G){return e.grep(G,function(H){return H.isMultiDay()&&l(F,k(H.start),k(H.end))}).length}))});var z=Math.max.apply(null,A);this._updateAllDayHeaderHeight((z+1)*this._allDayHeaderHeight);for(var E=0;E<B.length;E++){this._renderEvents(B[E],E)}this.refreshLayout();this.trigger("activate")},_eventsByResource:function(B,F,z){var E=F[0];if(E){var A=E.dataSource.view();for(var C=0;C<A.length;C++){var D=this._resourceValue(E,A[C]);var G=new p.data.Query(B).filter({field:E.field,operator:b.groupEqFilter(D)}).toArray();if(F.length>1){this._eventsByResource(G,F.slice(1),z)}else{z.push(G)}}}else{z.push(B)}},_columnOffsetForResource:function(z){return this._columnCountForLevel(z)/this._columnCountForLevel(z-1)},_columnCountForLevel:function(A){var z=this.columnLevels[A];return z?z.length:0},_rowCountForLevel:function(A){var z=this.rowLevels[A];return z?z.length:0},clearSelection:function(){this.content.add(this.datesHeader).find(".k-state-selected").removeAttr("id").attr("aria-selected",false).removeClass("k-state-selected")},_updateDirection:function(F,B,A,D,C){var z=F.isAllDay;var G=B[0].start;var E=B[B.length-1].end;if(A){if(C){if(!z&&G.index===E.index&&G.collectionIndex===E.collectionIndex){F.backward=D}}else{if((z&&G.index===E.index)||(!z&&G.collectionIndex===E.collectionIndex)){F.backward=D}}}},_changeViewPeriod:function(D,C,A){if(!A){var B=C?this.previousDate():this.nextDate();var F=D.start;var z=D.end;D.start=new Date(B);D.end=new Date(B);var E=D.isAllDay?c:x(z);n(D.start,x(F));n(D.end,E);if(!this._isVerticallyGrouped()){D.groupIndex=C?this.groups.length-1:0}D.events=[];return true}}});w(true,o,{MultiDayView:m,DayView:m.extend({options:{name:"DayView",title:"Day"},name:"day"}),WeekView:m.extend({options:{name:"WeekView",title:"Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}"},name:"week",calculateDateRange:function(){var A=this.options.date,D=p.date.dayOfWeek(A,this.calendarInfo().firstDay,-1),z,B,C=[];for(z=0,B=7;z<B;z++){C.push(D);D=p.date.nextDay(D)}this._render(C)}}),WorkWeekView:m.extend({options:{name:"WorkWeekView",title:"Work Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}"},name:"workWeek",nextDate:function(){return p.date.dayOfWeek(p.date.nextDay(this.endDate()),this.options.workWeekStart,1)},previousDate:function(){return p.date.previousDay(this.startDate())},calculateDateRange:function(){var A=this.options.date,C=p.date.dayOfWeek(A,this.options.workWeekStart,-1),z=p.date.dayOfWeek(C,this.options.workWeekEnd,1),B=[];while(C<=z){B.push(C);C=p.date.nextDay(C)}this._render(B)}})})})(window.kendo.jQuery);(function(e){var g=window.kendo,i=g.ui,c=".kendoAgendaView";var f='<div class="k-task" title="#:title.replace(/"/g,"\'")#" data-#=kendo.ns#uid="#=uid#"># if (resources[0]) {#<span class="k-scheduler-mark" style="background-color:#=resources[0].color#"></span># } ## if (data.isException()) { #<span class="k-icon k-i-exception"></span># } else if (data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #{0}#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</div>';i.AgendaView=i.SchedulerView.extend({init:function(l,k){i.SchedulerView.fn.init.call(this,l,k);k=this.options;if(k.editable){k.editable=e.extend({"delete":true},k.editable,{create:false,update:false})}this.title=k.title;this.name="agenda";this._eventTemplate=this._eventTmpl(k.eventTemplate,f);this._dateTemplate=g.template(k.eventDateTemplate);this._groupTemplate=g.template(k.eventGroupTemplate);this._timeTemplate=g.template(k.eventTimeTemplate);this.element.on("mouseenter"+c,".k-scheduler-agenda .k-scheduler-content tr","_mouseenter").on("mouseleave"+c,".k-scheduler-agenda .k-scheduler-content tr","_mouseleave").on("click"+c,".k-scheduler-agenda .k-scheduler-content .k-link:has(.k-si-close)","_remove");this._renderLayout(k.date)},_mouseenter:function(k){e(k.currentTarget).addClass("k-state-hover")},_mouseleave:function(k){e(k.currentTarget).removeClass("k-state-hover")},_remove:function(k){k.preventDefault();this.trigger("remove",{uid:e(k.currentTarget).closest(".k-task").attr(g.attr("uid"))})},nextDate:function(){return g.date.nextDay(this.startDate())},startDate:function(){return this._startDate},endDate:function(){return this._endDate},previousDate:function(){return g.date.previousDay(this.startDate())},_renderLayout:function(k){this._startDate=k;this._endDate=g.date.addDays(k,7);this.createLayout(this._layout());this.table.addClass("k-scheduler-agenda")},_layout:function(){var l=[{text:this.options.messages.time,className:"k-scheduler-timecolumn"},{text:this.options.messages.event}];if(!this._isMobilePhoneView()){l.splice(0,0,{text:this.options.messages.date,className:"k-scheduler-datecolumn"})}var m=this.groupedResources;if(m.length){var n=[];for(var k=0;k<m.length;k++){n.push({text:"",className:"k-scheduler-groupcolumn"})}l=n.concat(l)}return{columns:l}},_tasks:function(s){var p=[];for(var r=0;r<s.length;r++){var l=s[r];var m=l.start;var o=l.end;var k=(g.date.getDate(o)-g.date.getDate(m))/g.date.MS_PER_DAY+1;var n=l.clone();n.startDate=g.date.getDate(m);if(n.startDate>=this.startDate()){p.push(n)}if(k>1){n.end=g.date.nextDay(m);n.head=true;for(var q=1;q<k;q++){m=n.end;n=l.clone();n.start=m;n.startDate=g.date.getDate(m);n.end=g.date.nextDay(m);if(q==k-1){n.end=new Date(n.start.getFullYear(),n.start.getMonth(),n.start.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds());n.tail=true}else{n.isAllDay=true;n.middle=true}if(n.end<=this.endDate()&&n.start>=this.startDate()){p.push(n)}}}}return new g.data.Query(p).sort([{field:"start",dir:"asc"},{field:"end",dir:"asc"}]).groupBy({field:"startDate"}).toArray()},_renderTaskGroups:function(v,q){var w=[];var p=this.options.editable;var k=p&&p.destroy!==false&&!this._isMobile();var l=this._isMobilePhoneView();for(var o=0;o<v.length;o++){var r=v[o].value;var s=v[o].items;var u=g.date.isToday(r);for(var t=0;t<s.length;t++){var n=s[t];var m=[];var x=!l?m:[];if(o===0&&t===0&&q.length){for(var y=0;y<q.length;y++){x.push(g.format('<td class="k-scheduler-groupcolumn{2}" rowspan="{0}">{1}</td>',q[y].rowSpan,this._groupTemplate({value:q[y].text}),q[y].className))}}if(t===0){if(l){x.push(g.format('<td class="k-scheduler-datecolumn" colspan="2">{0}</td>',this._dateTemplate({date:r})));w.push('<tr role="row" aria-selected="false"'+(u?' class="k-today">':">")+x.join("")+"</tr>")}else{m.push(g.format('<td class="k-scheduler-datecolumn{3}{2}" rowspan="{0}">{1}</td>',s.length,this._dateTemplate({date:r}),o==v.length-1&&!q.length?" k-last":"",!q.length?" k-first":""))}}if(n.head){n.format="{0:t}"}else{if(n.tail){n.format="{1:t}"}else{n.format="{0:t}-{1:t}"}}n.resources=this.eventResources(n);m.push(g.format('<td class="k-scheduler-timecolumn"><div>{0}{1}{2}</div></td><td>{3}</td>',n.tail||n.middle?'<span class="k-icon k-i-arrow-w"></span>':"",this._timeTemplate(n.clone({start:n._startTime||n.start,end:n.endTime||n.end})),n.head||n.middle?'<span class="k-icon k-i-arrow-e"></span>':"",this._eventTemplate(n.clone({showDelete:k}))));w.push('<tr role="row" aria-selected="false"'+(u?' class="k-today">':">")+m.join("")+"</tr>")}}return w.join("")},render:function(m){var n=this.content.find("table").empty();var k=[];if(m.length>0){var o=this.groupedResources;if(o.length){k=this._createGroupConfiguration(m,o,null);this._renderGroups(k,n,[])}else{k=this._tasks(m);n.append(this._renderTaskGroups(k,[]))}}var l=this._eventsList=b(k);this._angularItems(n,l);this.refreshLayout();this.trigger("activate")},_angularItems:function(l,k){this.angular("compile",function(){var n=[],m=k.map(function(o){n.push({dataItem:o});return l.find(".k-task["+g.attr("uid")+"="+o.uid+"]")});return{elements:m,data:n}})},_renderGroups:function(l,p,n){for(var k=0,o=l.length;k<o;k++){var m=n.splice(0);m.push(l[k]);if(l[k].groups){this._renderGroups(l[k].groups,p,m)}else{p.append(this._renderTaskGroups(l[k].items,m))}}},_createGroupConfiguration:function(x,m,w){var n=m[0];var l=[];var r=n.dataSource.view();var k=this._isMobilePhoneView();for(var t=0;t<r.length;t++){var v=j(n,r[t]);var q=new g.data.Query(x).filter({field:n.field,operator:i.SchedulerView.groupEqFilter(v)}).toArray();if(q.length){var o=this._tasks(q);var s=w?"":" k-first";if(t===r.length-1&&(!w||w.className.indexOf("k-last")>-1)){s+=" k-last"}var p={text:g.getter(n.dataTextField)(r[t]),value:v,rowSpan:0,className:s};if(m.length>1){p.groups=this._createGroupConfiguration(q,m.slice(1),p);if(w){w.rowSpan+=p.rowSpan}}else{p.items=o;var u=h(p.items);if(k){u+=p.items.length}p.rowSpan=u;if(w){w.rowSpan+=u}}l.push(p)}}return l},selectionByElement:function(k){var l,n;k=e(k);if(k.hasClass("k-scheduler-datecolumn")||!this._eventsList.length){return}if(k.is(".k-task")){k=k.closest("td")}if(this._isMobile()){var m=k.parent();l=m.parent().children().filter(function(){return e(this).children(":not(.k-scheduler-datecolumn)").length}).index(m)}else{l=k.parent().index()}n=this._eventsList[l];return{index:l,start:n.start,end:n.end,isAllDay:n.isAllDay,uid:n.uid}},select:function(k){this.clearSelection();var l=this.table.find(".k-task").eq(k.index).closest("tr").addClass("k-state-selected").attr("aria-selected",true)[0];this.current(l)},move:function(m,l){var o=false;var k=m.index;if(l==g.keys.UP){k--;o=true}else{if(l==g.keys.DOWN){k++;o=true}}if(o){var n=this._eventsList[k];if(n){m.start=n.start;m.end=n.end;m.isAllDay=n.isAllDay;m.events=[n.uid];m.index=k}}return o},moveToEvent:function(){return false},constrainSelection:function(k){var l=this._eventsList[0];if(l){k.start=l.start;k.end=l.end;k.isAllDay=l.isAllDay;k.events=[l.uid];k.index=0}},isInRange:function(){return true},destroy:function(){if(this.element){this.element.off(c)}i.SchedulerView.fn.destroy.call(this)},options:{title:"Agenda",name:"agenda",editable:true,selectedDateFormat:"{0:D}-{1:D}",selectedShortDateFormat:"{0:d} - {1:d}",eventTemplate:"#:title#",eventTimeTemplate:"#if(data.isAllDay) {##=this.options.messages.allDay##} else { ##=kendo.format(format, start, end)## } #",eventDateTemplate:'<strong class="k-scheduler-agendaday">#=kendo.toString(date, "dd")#</strong><em class="k-scheduler-agendaweek">#=kendo.toString(date,"dddd")#</em><span class="k-scheduler-agendadate">#=kendo.toString(date, "y")#</span>',eventGroupTemplate:'<strong class="k-scheduler-adgendagroup">#=value#</strong>',messages:{event:"Event",date:"Date",time:"Time",allDay:"all day"}}});function h(n){var l=0;for(var k=0,m=n.length;k<m;k++){l+=n[k].items.length}return l}function j(l,k){if(l.valuePrimitive){k=g.getter(l.dataValueField)(k)}return k}function b(m){var l=0,o=m.length,n,k=[];for(;l<o;l++){n=m[l];if(n.groups){n=d(n.groups);k=k.concat(n)}else{k=k.concat(d(n.items))}}return k}function d(l){var m=[].concat(l),o=m.shift(),k=[],n=[].push;while(o){if(o.groups){n.apply(m,o.groups)}else{if(o.items){n.apply(m,o.items)}else{n.call(k,o)}}o=m.shift()}return k}})(window.kendo.jQuery);(function(d){var l=window.kendo,k=l.ui,b=k.SchedulerView,o=".kendoMonthView",p=d.extend,m=d.proxy,i=l.date.getDate,c=l.date.MS_PER_DAY,r=6,e=7,q=l.template('<span class="k-link k-nav-day">#:kendo.toString(date, "dd")#</span>'),s='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span>#}#</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-w"></span>#}## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-e"></span>#}#</div>',f=l.template('<div title="#=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">#:title#</div></div>');var g=l.template('<div style="width:#=width#px;left:#=left#px;top:#=top#px" class="k-more-events k-button"><span>...</span></div>');k.MonthView=b.extend({init:function(u,t){var v=this;b.fn.init.call(v,u,t);v.title=v.options.title;v.name="month";v._templates();v._editable();v._renderLayout(v.options.date);v._groups()},_updateDirection:function(A,u,C,y,v){if(C){var z=u[0].start;var t=u[u.length-1].end;var w=z.index===t.index;var x=z.collectionIndex===t.collectionIndex;var B;if(v){B=(w&&x)||x}else{B=w&&x}if(B){A.backward=y}}},_changeViewPeriod:function(v,u,t){var w=t?7:1;if(u){w*=-1}v.start=l.date.addDays(v.start,w);v.end=l.date.addDays(v.end,w);if(!t||(t&&this._isVerticallyGrouped())){v.groupIndex=u?this.groups.length-1:0}v.events=[];return true},_continuousSlot:function(w,t,v){var u=w.backward?0:t.length-1;var x=this.groups[w.groupIndex];return x.continuousSlot(t[u].start,v)},_changeGroupContinuously:function(y,x,t,w){if(!t){var z=y.groupIndex;var u=this.groups.length-1;var v=this._isVerticallyGrouped();var A=this.groups[z];if(!x&&v){x=A[w?"lastSlot":"firstSlot"]();z+=(w?-1:1)}else{if(x&&!v){z=w?u:0}}if(z<0||z>u){z=w?u:0;x=null}y.groupIndex=z}return x},_normalizeHorizontalSelection:function(v,t,u){var w;if(u){w=t[0].start}else{w=t[t.length-1].end}return w},_normalizeVerticalSelection:function(u,t){var v;if(u.backward){v=t[0].start}else{v=t[t.length-1].end}return v},_templates:function(){var t=this.options,u=p({},l.Template,t.templateSettings);this.eventTemplate=this._eventTmpl(t.eventTemplate,s);this.dayTemplate=l.template(t.dayTemplate,u);this.groupHeaderTemplate=l.template(t.groupHeaderTemplate,u)},dateForTitle:function(){return l.format(this.options.selectedDateFormat,this._firstDayOfMonth,this._lastDayOfMonth)},shortDateForTitle:function(){return l.format(this.options.selectedShortDateFormat,this._firstDayOfMonth,this._lastDayOfMonth)},nextDate:function(){return l.date.nextDay(this._lastDayOfMonth)},previousDate:function(){return l.date.previousDay(this._firstDayOfMonth)},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_renderLayout:function(t){var u=this;this._firstDayOfMonth=l.date.firstDayOfMonth(t);this._lastDayOfMonth=l.date.lastDayOfMonth(t);this._startDate=h(t,this.calendarInfo());this.createLayout(this._layout());this._content();this.refreshLayout();this.content.on("click"+o,".k-nav-day,.k-more-events",function(v){var w=d(v.currentTarget).offset();var x=u._slotByPosition(w.left,w.top);v.preventDefault();u.trigger("navigate",{view:"day",date:x.startDate()})})},_editable:function(){if(this.options.editable&&!this._isMobilePhoneView()){if(this._isMobile()){this._touchEditable()}else{this._mouseEditable()}}},_mouseEditable:function(){var t=this;t.element.on("click"+o,".k-scheduler-monthview .k-event a:has(.k-si-close)",function(u){t.trigger("remove",{uid:d(this).closest(".k-event").attr(l.attr("uid"))});u.preventDefault()});if(t.options.editable.create!==false){t.element.on("dblclick"+o,".k-scheduler-monthview .k-scheduler-content td",function(u){var w=d(u.currentTarget).offset();var x=t._slotByPosition(w.left,w.top);if(x){var v=t._resourceBySlot(x);t.trigger("add",{eventInfo:p({isAllDay:true,start:x.startDate(),end:x.startDate()},v)})}u.preventDefault()})}if(t.options.editable.update!==false){t.element.on("dblclick"+o,".k-scheduler-monthview .k-event",function(u){t.trigger("edit",{uid:d(this).closest(".k-event").attr(l.attr("uid"))});u.preventDefault()})}},_touchEditable:function(){var t=this;if(t.options.editable.create!==false){t._addUserEvents=new l.UserEvents(t.element,{filter:".k-scheduler-monthview .k-scheduler-content td",tap:function(u){var w=d(u.target).offset();var x=t._slotByPosition(w.left,w.top);if(x){var v=t._resourceBySlot(x);t.trigger("add",{eventInfo:p({isAllDay:true,start:x.startDate(),end:x.startDate()},v)})}u.preventDefault()}})}if(t.options.editable.update!==false){t._editUserEvents=new l.UserEvents(t.element,{filter:".k-scheduler-monthview .k-event",tap:function(u){if(d(u.event.target).closest("a:has(.k-si-close)").length===0){t.trigger("edit",{uid:d(u.target).closest(".k-event").attr(l.attr("uid"))});u.preventDefault()}}})}},selectionByElement:function(t){var u=d(t).offset();return this._slotByPosition(u.left,u.top)},_columnCountForLevel:function(u){var t=this.columnLevels[u];return t?t.length:0},_rowCountForLevel:function(u){var t=this.rowLevels[u];return t?t.length:0},_content:function(){var t="<tbody>";var v=1;var u=this.groupedResources;if(u.length){if(this._isVerticallyGrouped()){v=this._rowCountForLevel(u.length-1)}}for(var w=0;w<v;w++){t+=this._createCalendar(w)}t+="</tbody>";this.content.find("table").html(t)},_createCalendar:function(A){var v=this.startDate();var C=e*r;var y=e;var F=[v];var z="";var D=1;var t=this._isVerticallyGrouped();var x=this.groupedResources;if(x.length){if(!t){D=this._columnCountForLevel(x.length-1)}}this._slotIndices={};for(var u=0,w=C/y;u<w;u++){z+="<tr>";F.push(v);var B=u*y;for(var E=0;E<D;E++){z+=this._createRow(v,B,y,t?A:E)}v=l.date.addDays(v,y);z+="</tr>"}this._weekStartDates=F;this._endDate=l.date.previousDay(v);return z},_createRow:function(u,C,x,E){var A=this;var y=A._firstDayOfMonth;var D=A._lastDayOfMonth;var B=A.dayTemplate;var w="";var z="";var v=function(){return A._resourceBySlot({groupIndex:E})};for(var t=0;t<x;t++){w="";if(l.date.isToday(u)){w+="k-today"}if(!l.date.isInDateRange(u,y,D)){w+=" k-other-month"}z+="<td ";if(w!==""){z+='class="'+w+'"'}z+=">";z+=B({date:u,resources:v});z+="</td>";A._slotIndices[i(u).getTime()]=C+t;u=l.date.nextDay(u)}return z},_layout:function(){var u=this.calendarInfo();var v=this._isMobile()?u.days.namesShort:u.days.names;var A=n(v,u.firstDay);var x=d.map(A,function(B){return{text:B}});var z=this.groupedResources;var y;if(z.length){if(this._isVerticallyGrouped()){var w=[];for(var t=0;t<6;t++){w.push({text:"<div>&nbsp;</div>",className:"k-hidden k-slot-cell"})}y=this._createRowsLayout(z,w,this.groupHeaderTemplate)}else{x=this._createColumnsLayout(z,x,this.groupHeaderTemplate)}}return{columns:x,rows:y}},_createEventElement:function(x){var u=this.options;var w=u.editable;var t=this._isMobile();x.showDelete=w&&w.destroy!==false&&!t;x.resizable=w&&w.resize!==false&&!t;x.ns=l.ns;x.resources=this.eventResources(x);x.inverseColor=x.resources&&x.resources[0]?this._shouldInverseResourceColor(x.resources[0]):false;var v=d(this.eventTemplate(x));this.angular("compile",function(){return{elements:v,data:[{dataItem:x}]}});return v},_isInDateSlot:function(w){var t=this.groups[0];var y=t.firstSlot().start;var x=t.lastSlot().end-1;var v=l.date.toUtcTime(w.start);var u=l.date.toUtcTime(w.end);return(j(v,y,x)||j(u,y,x)||j(y,v,u)||j(x,v,u))&&(!j(u,y,y)||j(u,v,v)||w.isAllDay)},_slotIndex:function(t){return this._slotIndices[i(t).getTime()]},_positionMobileEvent:function(x,v,B){var y=x.start;if(x.start.offsetLeft>x.end.offsetLeft){y=x.end}var A=x.start.index;var w=A;var t=3;var C=b.collidingEvents(x.events(),A,w);C.push({element:v,start:A,end:w});var D=b.createRows(C);var z=x.collection.at(A);var u=z.container;if(!u){u=d(l.format('<div class="k-events-container" style="top:{0};left:{1};width:{2}"/>',y.offsetTop+y.firstChildTop+y.firstChildHeight-3+"px",y.offsetLeft+"px",y.offsetWidth+"px"));z.container=u;this.content[0].appendChild(u[0])}if(D.length<=t){x.addEvent({element:v,start:A,end:w,groupIndex:y.groupIndex});B._continuousEvents.push({element:v,uid:v.attr(l.attr("uid")),start:x.start,end:x.end});u[0].appendChild(v[0])}},_positionEvent:function(v,u,D){var C=this.options.eventHeight;var F=v.start;if(v.start.offsetLeft>v.end.offsetLeft){F=v.end}var A=v.start.index;var w=v.end.index;var B=F.eventCount;var t=b.collidingEvents(v.events(),A,w);var G=A!==w?5:4;t.push({element:u,start:A,end:w});var E=b.createRows(t);for(var I=0,z=Math.min(E.length,B);I<z;I++){var J=E[I].events;var x=F.offsetTop+F.firstChildHeight+I*C+3*I+"px";for(var K=0,M=J.length;K<M;K++){J[K].element[0].style.top=x}}if(E.length>B){for(var L=A;L<=w;L++){var H=v.collection;var y=H.at(L);if(y.more){return}y.more=d(g({ns:l.ns,start:L,end:L,width:y.clientWidth-2,left:y.offsetLeft+2,top:y.offsetTop+y.firstChildHeight+B*C+3*B}));this.content[0].appendChild(y.more[0])}}else{v.addEvent({element:u,start:A,end:w,groupIndex:F.groupIndex});u[0].style.width=v.innerWidth()-G+"px";u[0].style.left=F.offsetLeft+2+"px";u[0].style.height=C+"px";D._continuousEvents.push({element:u,uid:u.attr(l.attr("uid")),start:v.start,end:v.end});u.appendTo(this.content)}},_slotByPosition:function(t,z){var v=this.content.offset();t-=v.left;z-=v.top;z+=this.content[0].scrollTop;t+=this.content[0].scrollLeft;t=Math.ceil(t);z=Math.ceil(z);for(var u=0;u<this.groups.length;u++){var w=this.groups[u].daySlotByPosition(t,z);if(w){return w}}return null},_createResizeHint:function(u){var x=u.startSlot().offsetLeft;var w=u.start.offsetTop;var v=u.innerWidth();var t=u.start.clientHeight-2;var y=b.fn._createResizeHint.call(this,x,w,v,t);y.appendTo(this.content);this._resizeHint=this._resizeHint.add(y)},_updateResizeHint:function(x,y,w,v){this._removeResizeHint();var z=this.groups[y];var u=z.ranges(w,v,true,x.isAllDay);for(var t=0;t<u.length;t++){this._createResizeHint(u[t])}this._resizeHint.find(".k-label-top,.k-label-bottom").text("");this._resizeHint.first().addClass("k-first").find(".k-label-top").text(l.toString(l.timezone.toLocalDate(w),"M/dd"));this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(l.toString(l.timezone.toLocalDate(v),"M/dd"))},_updateMoveHint:function(v,E,u){var x=l.date.toUtcTime(v.start)+u;var y=x+v.duration();var D=this.groups[E];var w=D.ranges(x,y,true,v.isAllDay);this._removeMoveHint();for(var z=0;z<w.length;z++){var B=w[z];var C=B.startSlot();var t=B.endSlot();var A=this._createEventElement(v.clone({head:B.head,tail:B.tail}));A.css({left:C.offsetLeft+2,top:C.offsetTop+C.firstChildHeight,height:this.options.eventHeight,width:B.innerWidth()-(C.index!==t.index?5:4)});A.addClass("k-event-drag-hint");A.appendTo(this.content);this._moveHint=this._moveHint.add(A)}},_groups:function(){var v=this._groupCount();var L=e;var D=r;this.groups=[];for(var F=0;F<v;F++){this._addResourceView(F)}var H=this.content[0].getElementsByTagName("tr");for(var u=0;u<v;u++){var B=0;var K=0;if(this._isVerticallyGrouped()){K=u}for(var E=K*D;E<(K+1)*D;E++){var A=this.groups[u];var G=A.addDaySlotCollection(l.date.addDays(this.startDate(),B),l.date.addDays(this.startDate(),B+L));var M=H[E];var w=M.children;var J=0;M.setAttribute("role","row");if(!this._isVerticallyGrouped()){J=u}for(var C=J*L;C<(J+1)*L;C++){var t=w[C];var z=t.clientHeight;var I=t.children.length?t.children[0].offsetHeight+3:0;var y=l.date.toUtcTime(l.date.addDays(this.startDate(),B));B++;var x=Math.floor((z-I-this.options.moreButtonHeight)/(this.options.eventHeight+3));t.setAttribute("role","gridcell");t.setAttribute("aria-selected",false);G.addDaySlot(t,y,y+l.date.MS_PER_DAY,x)}}}},render:function(t){this.content.children(".k-event,.k-more-events,.k-events-container").remove();this._groups();t=new l.data.Query(t).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var u=this.groupedResources;if(u.length){this._renderGroups(t,u,0,1)}else{this._renderEvents(t,0)}this.refreshLayout();this.trigger("activate")},_renderEvents:function(G,E){var t;var B;var w;var F=this._isMobilePhoneView();for(B=0,w=G.length;B<w;B++){t=G[B];if(this._isInDateSlot(t)){var D=this.groups[E];if(!D._continuousEvents){D._continuousEvents=[]}var u=D.slotRanges(t,true);var z=u.length;for(var y=0;y<z;y++){var A=u[y];var v=t.start;var x=t.end;if(z>1){if(y===0){x=A.end.endDate()}else{if(y==z-1){v=A.start.startDate()}else{v=A.start.startDate();x=A.end.endDate()}}}var C=t.clone({start:v,end:x,head:A.head,tail:A.tail});if(F){this._positionMobileEvent(A,this._createEventElement(C),D)}else{this._positionEvent(A,this._createEventElement(C),D)}}}}},_renderGroups:function(B,v,x,u){var w=v[0];if(w){var z=w.dataSource.view();for(var t=0;t<z.length;t++){var A=this._resourceValue(w,z[t]);var y=new l.data.Query(B).filter({field:w.field,operator:b.groupEqFilter(A)}).toArray();if(v.length>1){x=this._renderGroups(y,v.slice(1),x++,u+1)}else{this._renderEvents(y,x++)}}}return x},_groupCount:function(){var t=this.groupedResources;if(t.length){if(this._isVerticallyGrouped()){return this._rowCountForLevel(t.length-1)}else{return this._columnCountForLevel(t.length)/this._columnOffsetForResource(t.length)}}return 1},_columnOffsetForResource:function(t){return this._columnCountForLevel(t)/this._columnCountForLevel(t-1)},destroy:function(){if(this.table){this.table.removeClass("k-scheduler-monthview")}if(this.content){this.content.off(o)}if(this.element){this.element.off(o)}b.fn.destroy.call(this);if(this._isMobile()&&!this._isMobilePhoneView()&&this.options.editable){if(this.options.editable.create!==false){this._addUserEvents.destroy()}if(this.options.editable.update!==false){this._editUserEvents.destroy()}}},events:["remove","add","edit","navigate"],options:{title:"Month",name:"month",eventHeight:25,moreButtonHeight:13,editable:true,selectedDateFormat:"{0:y}",selectedShortDateFormat:"{0:y}",groupHeaderTemplate:"#=text#",dayTemplate:q,eventTemplate:f}});function n(u,t){return u.slice(t).concat(u.slice(0,t))}function h(w,t){var u=t.firstDay,v=new Date(w.getFullYear(),w.getMonth(),0,w.getHours(),w.getMinutes(),w.getSeconds(),w.getMilliseconds());while(v.getDay()!=u){l.date.setTime(v,-1*c)}return v}function j(w,v,t){var u=v,x=t,y;y=w;return y>=u&&y<=x}})(window.kendo.jQuery);(function(ak,p){var n=window.kendo,R=n.timezone,aq=n.Class,E=n.ui,k=E.Widget,X=E.DropDownList,ac=n.date,h=ac.setTime,I=ac.setDayOfWeek,am=ac.adjustDST,q=ac.firstDayOfMonth,J=ac.getMilliseconds,o=[0,31,60,91,121,152,182,213,244,274,305,335,366],P=[0,31,59,90,120,151,181,212,243,273,304,334,365],x=[31,28,30,31,30,31,30,31,30,31,30,31],u={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},e={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},t=["yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-ddTHH","yyyy-MM-dd","yyyyMMddTHHmmssfffzzz","yyyyMMddTHHmmsszzz","yyyyMMddTHHmmss","yyyyMMddTHHmm","yyyyMMddTHH","yyyyMMdd"],j=["months","weeks","yearDays","monthDays","weekDays","hours","minutes","seconds"],ae=j.length,af="yyyyMMddTHHmmssZ",y={months:function(ay,ax,aA){var az=aA.months,aw=al(az,ay.getMonth()+1),aB=false;if(aw!==null){if(aw.length){ay.setMonth(aw[0]-1,1)}else{ay.setFullYear(ay.getFullYear()+1,az[0]-1,1)}aB=true}return aB},monthDays:function(aw,ax,aC){var aB,aA,aE,az=false,aD=aw.getHours(),ay=function(aF){if(aF<0){aF=aB+aF}return aF};while(aw<=ax){aA=aw.getMonth();aB=U(aw);aE=al(aC.monthDays,aw.getDate(),ay);if(aE===null){return az}az=true;if(aE.length){aw.setMonth(aA,aE.sort(D)[0]);am(aw,aD);if(aA===aw.getMonth()){break}}else{aw.setMonth(aA+1,1)}}return az},yearDays:function(aA,ay,aC){var aB,aw,aD=false,ax=aA.getHours(),az=function(aE){if(aE<0){aE=aB+aE}return aE};while(aA<ay){aB=r(aA)?366:365;aw=al(aC.yearDays,c(aA),az);if(aw===null){return aD}aD=true;aB=aA.getFullYear();if(aw.length){aA.setFullYear(aB,0,aw.sort(D)[0]);am(aA,ax);break}else{aA.setFullYear(aB+1,0,1)}}return aD},weeks:function(ax,ay,aC){var aF=aC.weekStart,aB,aw,aD,aA=false,aE=ax.getHours(),az=function(aG){if(aG<0){aG=53+aG}return aG};while(ax<ay){aw=al(aC.weeks,ah(ax,aF),az);if(aw===null){return aA}aA=true;aB=ax.getFullYear();if(aw.length){aD=(aw.sort(D)[0]*7)-1;ax.setFullYear(aB,0,aD);I(ax,aF,-1);am(ax,aE);break}else{ax.setFullYear(aB+1,0,1)}}return aA},weekDays:function(ax,az,aB){var ay=aB.weekDays;var aE=aB.weekStart;var aD=Q(ay,ax,aE);var aC=ax.getHours();var aw,aA;if(aD===null){return false}aw=aD[0];if(!aw){aw=ay[0];I(ax,aE)}aA=aw.day;if(aw.offset){while(ax<=az&&!v(ax,aw,aE)){if(A(ax,aE)===ai(ax,aE)){ax.setMonth(ax.getMonth()+1,1);am(ax,aC)}else{ax.setDate(ax.getDate()+7);am(ax,aC);I(ax,aE,-1)}}}if(ax.getDay()!==aA){I(ax,aA)}return true},hours:function(az,ay,aC){var aw=aC.hours,aA=aC._startTime,aB=aA.getHours(),ax=al(aw,aB),aD=false;if(ax!==null){aD=true;az.setHours(aB);am(az,aB);if(ax.length){ax=ax[0];az.setHours(ax)}else{ax=az.getHours();az.setDate(az.getDate()+1);am(az,ax);ax=aw[0];az.setHours(ax);am(az,ax)}if(aC.minutes){az.setMinutes(0)}aA.setHours(ax,az.getMinutes())}return aD},minutes:function(aA,ay,aC){var aw=aC.minutes,az=aA.getMinutes(),aB=al(aw,az),ax=aC._startTime.getHours(),aD=false;if(aB!==null){aD=true;if(aB.length){aB=aB[0]}else{ax+=1;aB=aw[0]}if(aC.seconds){aA.setSeconds(0)}aA.setHours(ax,aB);ax=ax%24;am(aA,ax);aC._startTime.setHours(ax,aB,aA.getSeconds())}return aD},seconds:function(az,ay,aB){var ax=aB.seconds,aw=aB._startTime.getHours(),aD=al(ax,az.getSeconds()),aA=az.getMinutes(),aC=false;if(aD!==null){aC=true;if(aD.length){az.setSeconds(aD[0])}else{aA+=1;az.setMinutes(aA,ax[0]);if(aA>59){aA=aA%60;aw=(aw+1)%24}}aB._startTime.setHours(aw,aA,az.getSeconds())}return aC}},w=aq.extend({next:function(ax,aA){var az=aA._startTime,aw=az.getDate(),ay,aB;if(aA.seconds){aB=ax.getSeconds()+1;ax.setSeconds(aB);az.setSeconds(aB);az.setDate(aw)}else{if(aA.minutes){ay=ax.getMinutes()+1;ax.setMinutes(ay);az.setMinutes(ay);az.setDate(aw)}else{return false}}return true},normalize:function(aw){var ax=aw.rule;if(aw.idx===4&&ax.hours){ax._startTime.setHours(0);this._hour(aw.date,ax)}},limit:function(ax,ay,aB){var aw=aB.interval,aC,az,aE,aD,aA;while(ax<=ay){aE=az=p;aA=ax.getDate();for(aD=0;aD<ae;aD++){aC=j[aD];if(aB[aC]){aE=y[aC](ax,ay,aB);if(az!==p&&aE){break}else{az=aE}}if(aE){this.normalize({date:ax,rule:aB,day:aA,idx:aD})}}if((aw===1||!this.interval(aB,ax))&&aD===ae){break}}},interval:function(aF,aB){var ax=new Date(aF._startPeriod);var az=new Date(aB);var aG=aB.getHours();var aJ=aF.weekStart;var ay=aF.interval;var aD=aF.freq;var aI=false;var aC=0;var aA=0;var aE=1;var aH;var aw;if(aD==="hourly"){aH=az.getTimezoneOffset()-ax.getTimezoneOffset();aw=aF._startTime.getHours();az=az.getTime();if(aG!==aw){az+=(aw-aG)*ac.MS_PER_HOUR}az-=ax;if(aH){az-=aH*ac.MS_PER_MINUTE}aH=Math.floor(az/ac.MS_PER_HOUR);aC=B(aH,ay);if(aC!==0){this._hour(aB,aF,aC);aI=true}}else{if(aD==="daily"){ac.setTime(az,-ax);aH=Math.floor(az/ac.MS_PER_DAY);aC=B(aH,ay);if(aC!==0){this._date(aB,aF,aC);aI=true}}else{if(aD==="weekly"){aH=(aB.getFullYear()-ax.getFullYear())*52;aC=ah(aB,aJ)-ah(ax,aJ)+aH;aC=B(aC,ay);if(aC!==0){ac.setDayOfWeek(aB,aF.weekStart,-1);aB.setDate(aB.getDate()+(aC*7));am(aB,aG);aI=true}}else{if(aD==="monthly"){aH=aB.getFullYear()-ax.getFullYear();aH=aB.getMonth()-ax.getMonth()+(aH*12);aC=B(aH,ay);if(aC!==0){aE=aF._hasRuleValue?1:aB.getDate();aB.setFullYear(aB.getFullYear(),aB.getMonth()+aC,aE);am(aB,aG);aI=true}}else{if(aD==="yearly"){aH=aB.getFullYear()-ax.getFullYear();aC=B(aH,ay);if(!aF.months){aA=aB.getMonth()}if(!aF.yearDays&&!aF.monthDays&&!aF.weekDays){aE=aB.getDate()}if(aC!==0){aB.setFullYear(aB.getFullYear()+aC,aA,aE);am(aB,aG);aI=true}}}}}}return aI},_hour:function(ay,aA,ax){var az=aA._startTime,aw=az.getHours();if(ax){aw+=ax}ay.setHours(aw);aw=aw%24;az.setHours(aw);am(ay,aw)},_date:function(ay,az,ax){var aw=ay.getHours();ay.setDate(ay.getDate()+ax);if(!am(ay,aw)){this._hour(ay,az)}}}),G=w.extend({next:function(aw,ax){if(!w.fn.next(aw,ax)){this._hour(aw,ax,1)}},normalize:function(aw){var ax=aw.rule;if(aw.idx===4){ax._startTime.setHours(0);this._hour(aw.date,ax)}}}),ao=w.extend({next:function(aw,ax){if(!w.fn.next(aw,ax)){this[ax.hours?"_hour":"_date"](aw,ax,1)}}}),N=ao.extend({setup:function(ax,aw){if(!ax.weekDays){ax.weekDays=[{day:aw.getDay(),offset:0}]}}}),au=w.extend({next:function(ay,az){var ax,aw;if(!w.fn.next(ay,az)){if(az.hours){this._hour(ay,az,1)}else{if(az.monthDays||az.weekDays||az.yearDays||az.weeks){this._date(ay,az,1)}else{ax=ay.getDate();aw=ay.getHours();ay.setMonth(ay.getMonth()+1);am(ay,aw);while(ay.getDate()!==ax){ay.setDate(ax);am(ay,aw)}this._hour(ay,az)}}}},normalize:function(ay){var az=ay.rule,ax=ay.date,aw=ax.getHours();if(ay.idx===0&&!az.monthDays&&!az.weekDays){ax.setDate(ay.day);am(ax,aw)}else{w.fn.normalize(ay)}},setup:function(ay,ax,aw){if(!ay.monthDays&&!ay.weekDays){aw.setDate(ax.getDate())}}}),T=au.extend({next:function(ay,az){var ax,aw=ay.getHours();if(!w.fn.next(ay,az)){if(az.hours){this._hour(ay,az,1)}else{if(az.monthDays||az.weekDays||az.yearDays||az.weeks){this._date(ay,az,1)}else{if(az.months){ax=ay.getDate();ay.setMonth(ay.getMonth()+1);am(ay,aw);while(ay.getDate()!==ax){ay.setDate(ax);am(ay,aw)}this._hour(ay,az)}else{ay.setFullYear(ay.getFullYear()+1);am(ay,aw);this._hour(ay,az)}}}}},setup:function(){}}),g={hourly:new G(),daily:new ao(),weekly:new N(),monthly:new au(),yearly:new T()},aj="click";function B(ay,ax){var aw;if(ay!==0&&ay<ax){aw=ax-ay}else{aw=ay%ax;if(aw){aw=ax-aw}}return aw}function c(aw){var ax=aw.getMonth();var ay=r(aw)?o[ax]:P[ax];return ay+aw.getDate()}function ah(ax,aw){var ay,az;ax=new Date(ax.getFullYear(),ax.getMonth(),ax.getDate());am(ax,0);ay=ax.getFullYear();if(aw!==p){I(ax,aw,-1);ax.setDate(ax.getDate()+4)}else{ax.setDate(ax.getDate()+(4-(ax.getDay()||7)))}am(ax,0);az=Math.floor((ax.getTime()-new Date(ay,0,1,-6))/86400000);return 1+Math.floor(az/7)}function A(ax,aw){var ay=q(ax).getDay();var az=7-(ay+7-(aw||7))||7;if(az<0){az+=7}return Math.ceil((ax.getDate()-az)/7)+1}function ag(ax,aw){return ax+(ax<aw?7:0)}function F(ax,az,aE){var ay=az.offset;if(!ay){return A(ax,aE)}var aw=new Date(ax.getFullYear(),ax.getMonth()+1,0);var aB=A(aw,aE);var aA=ag(az.day,aE);var aD=aA<ag(new Date(ax.getFullYear(),ax.getMonth(),1).getDay(),aE);var aC=aA>ag(aw.getDay(),aE);if(ay<0){ay=aB+(ay+1-(aC?1:0))}else{if(aD){ay+=1}}aB-=(aC?1:0);if(ay<(aD?1:0)||ay>aB){return null}return ay}function ai(ax,aw){return A(new Date(ax.getFullYear(),ax.getMonth()+1,0),aw)}function v(ax,ay,aw){return A(ax,aw)===F(ax,ay,aw)}function Q(aA,az,aG){var aB=ag(az.getDay(),aG);var ay=aA.length;var ax;var aC,aD;var aw;var aF=[];var aE=0;for(;aE<ay;aE++){aC=aA[aE];aw=A(az,aG);ax=F(az,aC,aG);if(ax===null){continue}if(aw<ax){aF.push(aC)}else{if(aw===ax){aD=ag(aC.day,aG);if(aB<aD){aF.push(aC)}else{if(aB===aD){return null}}}}}return aF}function al(aA,az,ax){var aw=0,ay=aA.length,aC=[],aB;for(;aw<ay;aw++){aB=aA[aw];if(ax){aB=ax(aB)}if(az===aB){return null}else{if(az<aB){aC.push(aB)}}}return aC}function ar(aA,ax){var aw=0,ay=aA.length,az;for(;aw<ay;aw++){az=parseInt(aA[aw],10);if(isNaN(az)||az<ax.start||az>ax.end||(az===0&&ax.start<0)){return null}aA[aw]=az}return aA.sort(D)}function f(aB){var aw=0,az=aB.length,aA,ay,ax;for(;aw<az;aw++){aA=aB[aw];ay=aA.length;ax=aA.substring(ay-2).toUpperCase();ax=e[ax];if(ax===p){return null}aB[aw]={offset:parseInt(aA.substring(0,ay-2),10)||0,day:ax}}return aB}function H(aB){var ax=0,az=aB.length,aA,ay,aw=[];for(;ax<az;ax++){aA=aB[ax];if(typeof aA==="string"){ay=aA}else{ay=""+u[aA.day];if(aA.offset){ay=aA.offset+ay}}aw.push(ay)}return aw.toString()}function U(aw){var ax=aw.getMonth();if(ax===1){if(new Date(aw.getFullYear(),1,29).getMonth()===1){return 29}return 28}return x[ax]}function r(aw){aw=aw.getFullYear();return((aw%4===0)&&(aw%100!==0))||(aw%400===0)}function D(ax,aw){return ax-aw}function at(az,ax){var aw=0,aA,ay,aB=[];if(az){az=az.split(";");aA=az.length;for(;aw<aA;aw++){ay=i(az[aw],ax);if(ay){aB.push(ay)}}}return aB}function aa(az,ay,ax){var aC=ak.isArray(az)?az:at(az,ax),aB=ay.getTime()-ay.getMilliseconds(),aw=0,aA=aC.length;for(;aw<aA;aw++){if(aC[aw].getTime()===aB){return true}}return false}function an(aB,ay){var ax=0;var aA;var az;var aw=[].concat(aB);for(aA=aw.length;ax<aA;ax++){az=aw[ax];az=n.timezone.convert(az,ay||az.getTimezoneOffset(),"Etc/UTC");aw[ax]=n.toString(az,af)}return aw.join(";")+";"}function s(ay,ax){var aw=new Date(ay);switch(ax.freq){case"yearly":aw.setFullYear(aw.getFullYear(),0,1);break;case"monthly":aw.setFullYear(aw.getFullYear(),aw.getMonth(),1);break;case"weekly":I(aw,ax.weekStart,-1);break;default:break}if(ax.hours){aw.setHours(0)}if(ax.minutes){aw.setMinutes(0)}if(ax.seconds){aw.setSeconds(0)}return aw}function V(ay,ax){var aw=new Date(ay);switch(ax.freq){case"yearly":aw.setFullYear(aw.getFullYear(),11,31);break;case"monthly":aw.setFullYear(aw.getFullYear(),aw.getMonth()+1,0);break;case"weekly":I(aw,ax.weekStart,-1);aw.setDate(aw.getDate()+6);break;default:break}if(ax.hours){aw.setHours(23)}if(ax.minutes){aw.setMinutes(59)}if(ax.seconds){aw.setSeconds(59)}return aw}function W(aG,ax,aE){var az=aG.slice(aE._startIdx);var aD=az.length;var aA=aE.positions;var aC=[];var aB;var aw;for(var aF=0,ay=aA.length;aF<ay;aF++){aB=aA[aF];if(aB<0){aB=aD+aB}else{aB-=1}aw=az[aB];if(aw&&aw.start>=ax){aC.push(aw)}}aG=aG.slice(0,aE._startIdx).concat(aC);aE._startIdx=aG.length;return aG}function S(aR,aB,ay,aV){var aF=Y(aR.recurrenceRule,aV),aL,az,aT,aS,aQ,aH,aP,aD,aK,aM,aO,aI,aU,aW,aC,aX,ax,aE,aA,aG,aN,aw=[];if(!aF){return[aR]}aG=aF.positions;aN=aG?0:1;aM=aF.start;aO=aF.end;if(aM||aO){aR=aR.clone({start:aM?new Date(aM.value[0]):p,end:aO?new Date(aO.value[0]):p})}ax=aR.start;aX=ax.getTime();aC=J(ax);aW=at(aR.recurrenceException,aV);if(!aW[0]&&aF.exdates){aW=aF.exdates.value;aR.set("recurrenceException",an(aW,aV))}aD=aB=new Date(aB);ay=new Date(ay);aU=aF.freq;aA=g[aU];aE=aF.count;if(aF.until&&aF.until<ay){ay=new Date(aF.until)}aI=aU==="yearly"||aU==="monthly"||aU==="weekly";if(aB<aX||aE||aF.interval>1||aI){aB=new Date(aX)}else{aS=aB.getHours();aQ=aB.getMinutes();aH=aB.getSeconds();if(!aF.hours){aS=ax.getHours()}if(!aF.minutes){aQ=ax.getMinutes()}if(!aF.seconds){aH=ax.getSeconds()}aB.setHours(aS,aQ,aH,ax.getMilliseconds())}aF._startPeriod=new Date(aB);if(aG){aB=s(aB,aF);ay=V(ay,aF);var aJ=J(ay)-J(aB);if(aJ<0){aS=aB.getHours();ay.setHours(aS,aB.getMinutes(),aB.getSeconds(),aB.getMilliseconds());ac.adjustDST(ay,aS)}aF._startPeriod=new Date(aB);aF._endPeriod=V(aB,aF);aF._startIdx=0}aP=aR.duration();aF._startTime=aL=ac.toInvariantTime(aB);if(aA.setup){aA.setup(aF,ax,aB)}aA.limit(aB,ay,aF);while(aB<=ay){aT=new Date(aB);h(aT,aP);aK=aB>=aD||aT>aD;if(aK&&!aa(aW,aB,aV)||aG){aL=ac.toUtcTime(ac.getDate(aB))+J(aF._startTime);az=aL+aP;if(aX!==aB.getTime()||aC!==J(aF._startTime)){aw.push(aR.toOccurrence({start:new Date(aB),end:aT,_startTime:aL,_endTime:az}))}else{aR._startTime=aL;aR._endTime=az;aw.push(aR)}}if(aG){aA.next(aB,aF);aA.limit(aB,ay,aF);if(aB>aF._endPeriod){aw=W(aw,ax,aF);aF._endPeriod=V(aB,aF);aN=aw.length}if(aE&&aE===aN){break}}else{if(aE&&aE===aN){break}aN++;aA.next(aB,aF);aA.limit(aB,ay,aF)}}return aw}function i(ax,aw){ax=n.parseDate(ax,t);if(ax&&aw){ax=R.convert(ax,ax.getTimezoneOffset(),aw)}return ax}function M(aA,aB){var aw=aA.split(";");var az;var aF;var aD;var ay;var aG,aE;for(var aC=0,ax=aw.length;aC<ax;aC++){az=aw[aC].split(":");aF=az[0];aD=az[1];if(aF.indexOf("TZID")!==-1){ay=aF.substring(aF.indexOf("TZID")).split("=")[1]}if(aD){aD=aD.split(",");for(aG=0,aE=aD.length;aG<aE;aG++){aD[aG]=i(aD[aG],ay||aB)}}}if(aD){return{value:aD,tzid:ay}}}function Y(aB,aC){var aJ={};var aE,aF;var aG=0,ax;var aA=false;var aD,aw,az;var aI,aK,ay;var aH=function(aM,aL){var aO=aM.day,aN=aL.day;if(aO<aK){aO+=7}if(aN<aK){aN+=7}return aO-aN};if(!aB){return null}az=aB.split("\n");if(!az[1]&&(aB.indexOf("DTSTART")!==-1||aB.indexOf("DTEND")!==-1||aB.indexOf("EXDATE")!==-1)){az=aB.split(" ")}for(aG=0,ax=az.length;aG<ax;aG++){aw=ak.trim(az[aG]);if(aw.indexOf("DTSTART")!==-1){aJ.start=M(aw,aC)}else{if(aw.indexOf("DTEND")!==-1){aJ.end=M(aw,aC)}else{if(aw.indexOf("EXDATE")!==-1){aJ.exdates=M(aw,aC)}else{if(aw.indexOf("RRULE")!==-1){aD=aw.substring(6)}else{if(ak.trim(aw)){aD=aw}}}}}}aD=aD.split(";");for(aG=0,ax=aD.length;aG<ax;aG++){aI=aD[aG];aE=aI.split("=");aF=ak.trim(aE[1]).split(",");switch(ak.trim(aE[0]).toUpperCase()){case"FREQ":aJ.freq=aF[0].toLowerCase();break;case"UNTIL":aJ.until=i(aF[0],aC);break;case"COUNT":aJ.count=parseInt(aF[0],10);break;case"INTERVAL":aJ.interval=parseInt(aF[0],10);break;case"BYSECOND":aJ.seconds=ar(aF,{start:0,end:60});aA=true;break;case"BYMINUTE":aJ.minutes=ar(aF,{start:0,end:59});aA=true;break;case"BYHOUR":aJ.hours=ar(aF,{start:0,end:23});aA=true;break;case"BYMONTHDAY":aJ.monthDays=ar(aF,{start:-31,end:31});aA=true;break;case"BYYEARDAY":aJ.yearDays=ar(aF,{start:-366,end:366});aA=true;break;case"BYMONTH":aJ.months=ar(aF,{start:1,end:12});aA=true;break;case"BYDAY":aJ.weekDays=ay=f(aF);aA=true;break;case"BYWEEKNO":aJ.weeks=ar(aF,{start:-53,end:53});aA=true;break;case"BYSETPOS":aJ.positions=ar(aF,{start:-366,end:366});break;case"WKST":aJ.weekStart=aK=e[aF[0]];break}}if(aJ.freq===p||(aJ.count!==p&&aJ.until)){return null}if(!aJ.interval){aJ.interval=1}if(aK===p){aJ.weekStart=aK=n.culture().calendar.firstDay}if(ay){aJ.weekDays=ay.sort(aH)}if(aJ.positions&&!aA){aJ.positions=null}aJ._hasRuleValue=aA;return aJ}function d(aA,ax){var az=aA.value;var aC=aA.tzid||"";var ay=az.length;var aw=0;var aB;for(;aw<ay;aw++){aB=az[aw];aB=R.convert(aB,aC||ax||aB.getTimezoneOffset(),"Etc/UTC");az[aw]=n.toString(aB,"yyyyMMddTHHmmssZ")}if(aC){aC=";TZID="+aC}return aC+":"+az.join(",")+" "}function b(aB,az){var ay=aB.weekStart;var aA="FREQ="+aB.freq.toUpperCase();var aw=aB.exdates||"";var aD=aB.start||"";var ax=aB.end||"";var aC=aB.until;if(aB.interval>1){aA+=";INTERVAL="+aB.interval}if(aB.count){aA+=";COUNT="+aB.count}if(aC){aC=R.convert(aC,az||aC.getTimezoneOffset(),"Etc/UTC");aA+=";UNTIL="+n.toString(aC,"yyyyMMddTHHmmssZ")}if(aB.months){aA+=";BYMONTH="+aB.months}if(aB.weeks){aA+=";BYWEEKNO="+aB.weeks}if(aB.yearDays){aA+=";BYYEARDAY="+aB.yearDays}if(aB.monthDays){aA+=";BYMONTHDAY="+aB.monthDays}if(aB.weekDays){aA+=";BYDAY="+H(aB.weekDays)}if(aB.hours){aA+=";BYHOUR="+aB.hours}if(aB.minutes){aA+=";BYMINUTE="+aB.minutes}if(aB.seconds){aA+=";BYSECOND="+aB.seconds}if(aB.positions){aA+=";BYSETPOS="+aB.positions}if(ay!==p){aA+=";WKST="+u[ay]}if(aD){aD="DTSTART"+d(aD,az)}if(ax){ax="DTEND"+d(ax,az)}if(aw){aw="EXDATE"+d(aw,az)}if(aD||ax||aw){aA=aD+ax+aw+"RRULE:"+aA}return aA}n.recurrence={rule:{parse:Y,serialize:b},expand:S,dayInYear:c,weekInYear:ah,weekInMonth:A,numberOfWeeks:ai,isException:aa,toExceptionString:an};var z=function(az){var aA=n.culture().calendar.days.namesShort,aB=aA.length,ax="",aw=0,ay=[];for(;aw<aB;aw++){ay.push(aw)}aA=aA.slice(az).concat(aA.slice(0,az));ay=ay.slice(az).concat(ay.slice(0,az));for(aw=0;aw<aB;aw++){ax+='<label class="k-check"><input class="k-recur-weekday-checkbox" type="checkbox" value="'+ay[aw]+'" /> '+aA[aw]+"</label>"}return ax};var l=n.template('# if (frequency !== "never") { #<div class="k-edit-label"><label>#:messages.repeatEvery#</label></div><div class="k-edit-field"><input class="k-recur-interval"/>#:messages.interval#</div># } ## if (frequency === "weekly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field">#=weekDayCheckBoxes(firstWeekDay)#</div># } else if (frequency === "monthly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-month-radio" type="radio" name="month" value="monthday" />#:messages.day#</label><input class="k-recur-monthday" /></li><li><input class="k-recur-month-radio" type="radio" name="month" value="weekday" /><input class="k-recur-weekday-offset" /><input class="k-recur-weekday" /></li></ul></div># } else if (frequency === "yearly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field"><ul class="k-reset"><li><input class="k-recur-year-radio" type="radio" name="year" value="monthday" /><input class="k-recur-month" /><input class="k-recur-monthday" /></li><li><input class="k-recur-year-radio" type="radio" name="year" value="weekday" /><input class="k-recur-weekday-offset" /><input class="k-recur-weekday" />#:messages.of#<input class="k-recur-month" /></li></ul></div># } ## if (frequency !== "never") { #<div class="k-edit-label"><label>#:end.label#</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-end-never" type="radio" name="end" value="never" />#:end.never#</label></li><li><label><input class="k-recur-end-count" type="radio" name="end" value="count" />#:end.after#</label><input class="k-recur-count" />#:end.occurrence#</li><li><label><input class="k-recur-end-until" type="radio" name="end" value="until" />#:end.on#</label><input class="k-recur-until" /></li></ul></div># } #');var ap=[{day:0,offset:0},{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0},{day:6,offset:0}];var K=[{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0}];var C=[{day:0,offset:0},{day:6,offset:0}];var ad=k.extend({init:function(ax,aw){var aA;var ay=this;var az=aw&&aw.frequencies;k.fn.init.call(ay,ax,aw);ay.wrapper=ay.element;aw=ay.options;aw.start=aA=aw.start||ac.today();if(az){aw.frequencies=az}if(typeof aA==="string"){aw.start=n.parseDate(aA,"yyyyMMddTHHmmss")}if(aw.firstWeekDay===null){aw.firstWeekDay=n.culture().calendar.firstDay}ay._namespace="."+aw.name},options:{value:"",start:"",timezone:"",spinners:true,firstWeekDay:null,frequencies:["never","daily","weekly","monthly","yearly"],mobile:false,messages:{frequencies:{never:"Never",hourly:"Hourly",daily:"Daily",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly"},hourly:{repeatEvery:"Repeat every: ",interval:" hour(s)"},daily:{repeatEvery:"Repeat every: ",interval:" day(s)"},weekly:{interval:" week(s)",repeatEvery:"Repeat every: ",repeatOn:"Repeat on: "},monthly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" month(s)",day:"Day "},yearly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" year(s)",of:" of "},end:{label:"End:",mobileLabel:"Ends",never:"Never",after:"After ",occurrence:" occurrence(s)",on:"On "},offsetPositions:{first:"first",second:"second",third:"third",fourth:"fourth",last:"last"},weekdays:{day:"day",weekday:"weekday",weekend:"weekend day"}}},events:["change"],_initInterval:function(){var aw=this;var ax=aw._value;aw._container.find(".k-recur-interval").kendoNumericTextBox({spinners:aw.options.spinners,value:ax.interval||1,decimals:0,format:"#",min:1,change:function(){ax.interval=this.value();aw._trigger()}})},_weekDayRule:function(aw){var ay=this;var az=(ay._weekDay.element||ay._weekDay).val();var aB=Number((ay._weekDayOffset.element||ay._weekDayOffset).val());var aA=null;var ax=null;if(!aw){if(az==="day"){aA=ap;ax=aB}else{if(az==="weekday"){aA=K;ax=aB}else{if(az==="weekend"){aA=C;ax=aB}else{aA=[{offset:aB,day:Number(az)}]}}}}ay._value.weekDays=aA;ay._value.positions=ax},_weekDayView:function(){var aB=this;var aC=aB._value.weekDays;var ax=aB._value.positions;var ay=aB._weekDayOffset;var az;var aw;var aA;var aD;if(aC){aA=aC.length;if(ax){if(aA===7){aw="day";az=ax}else{if(aA===5){aw="weekday";az=ax}else{if(aA===2){aw="weekend";az=ax}}}}if(!aw){aC=aC[0];aw=aC.day;az=aC.offset||""}aD=ay.value?"value":"val";ay[aD](az);aB._weekDay[aD](aw)}},_initWeekDay:function(){var az=this,aA;var aw=az.options.messages.weekdays;var ay=az.options.messages.offsetPositions;var ax=az._container.find(".k-recur-weekday");var aB=function(){az._weekDayRule();az._trigger()};if(ax[0]){az._weekDayOffset=new X(az._container.find(".k-recur-weekday-offset"),{change:aB,dataTextField:"text",dataValueField:"value",dataSource:[{text:ay.first,value:"1"},{text:ay.second,value:"2"},{text:ay.third,value:"3"},{text:ay.fourth,value:"4"},{text:ay.last,value:"-1"}]});aA=[{text:aw.day,value:"day"},{text:aw.weekday,value:"weekday"},{text:aw.weekend,value:"weekend"}];az._weekDay=new X(ax,{value:az.options.start.getDay(),change:aB,dataTextField:"text",dataValueField:"value",dataSource:aA.concat(ak.map(n.culture().calendar.days.names,function(aD,aC){return{text:aD,value:aC}}))});az._weekDayView()}},_initWeekDays:function(){var aB=this;var aC=aB._value;var aD=aB._container.find(".k-recur-weekday-checkbox");if(aD[0]){aD.on(aj+aB._namespace,function(){aC.weekDays=ak.map(aD.filter(":checked"),function(aE){return{day:Number(aE.value),offset:0}});if(!aB.options.mobile){aB._trigger()}});if(aC.weekDays){var aw,ay;var az=0,ax=aD.length;var aA=aC.weekDays.length;for(;az<ax;az++){ay=aD[az];for(aw=0;aw<aA;aw++){if(ay.value==aC.weekDays[aw].day){ay.checked=true}}}}}},_initMonthDay:function(){var ax=this;var ay=ax._value;var aw=ax._container.find(".k-recur-monthday");if(aw[0]){ax._monthDay=new n.ui.NumericTextBox(aw,{spinners:ax.options.spinners,min:1,max:31,decimals:0,format:"#",value:ay.monthDays?ay.monthDays[0]:ax.options.start.getDate(),change:function(){var az=this.value();ay.monthDays=az?[az]:az;ax._trigger()}})}},_initCount:function(){var ax=this,aw=ax._container.find(".k-recur-count"),ay=ax._value;ax._count=aw.kendoNumericTextBox({spinners:ax.options.spinners,value:ay.count||1,decimals:0,format:"#",min:1,change:function(){ay.count=this.value();ax._trigger()}}).data("kendoNumericTextBox")},_initUntil:function(){var ax=this,aw=ax._container.find(".k-recur-until"),aA=ax.options.start,ay=ax._value,az=ay.until;ax._until=aw.kendoDatePicker({min:az&&az<aA?az:aA,value:az||aA,change:function(){ay.until=this.value();ax._trigger()}}).data("kendoDatePicker")},_trigger:function(){if(!this.options.mobile){this.trigger("change")}}});var Z=ad.extend({init:function(ax,aw){var ay=this;ad.fn.init.call(ay,ax,aw);ay._initFrequency();ay._initContainer();ay.value(ay.options.value)},options:{name:"RecurrenceEditor"},events:["change"],destroy:function(){var aw=this;aw._frequency.destroy();aw._container.find("input[type=radio],input[type=checkbox]").off(aj+aw._namespace);n.destroy(aw._container);ad.fn.destroy.call(aw)},value:function(ay){var ax=this;var aw=ax.options.timezone;var az;if(ay===p){if(!ax._value.freq){return""}return b(ax._value,aw)}ax._value=Y(ay,aw)||{};az=ax._value.freq;if(az){ax._frequency.value(az)}else{ax._frequency.select(0)}ax._initView(ax._frequency.value())},_initContainer:function(){var ax=this.element,aw=ak('<div class="k-recur-view" />'),ay=ax.parent(".k-edit-field");if(ay[0]){aw.insertAfter(ay)}else{ax.append(aw)}this._container=aw},_initFrequency:function(){var ay=this,aw=ay.options,aA=aw.frequencies,ax=aw.messages.frequencies,aB=ak("<input />"),az;aA=ak.map(aA,function(aC){return{text:ax[aC],value:aC}});az=aA[0];if(az&&az.value==="never"){az.value=""}ay.element.append(aB);ay._frequency=new X(aB,{dataTextField:"text",dataValueField:"value",dataSource:aA,change:function(){ay._value={};ay._initView(ay._frequency.value());ay.trigger("change")}})},_initView:function(aA){var ax=this;var az=ax._value;var aw=ax.options;var ay={frequency:aA||"never",weekDayCheckBoxes:z,firstWeekDay:aw.firstWeekDay,messages:aw.messages[aA],end:aw.messages.end};n.destroy(ax._container);ax._container.html(l(ay));if(!aA){ax._value={};return}az.freq=aA;if(aA==="weekly"&&!az.weekDays){az.weekDays=[{day:aw.start.getDay(),offset:0}]}ax._initInterval();ax._initWeekDays();ax._initMonthDay();ax._initWeekDay();ax._initMonth();ax._initCount();ax._initUntil();ax._period();ax._end()},_initMonth:function(){var ay=this;var aA=ay._value;var az=aA.months||[ay.options.start.getMonth()+1];var aw=ay._container.find(".k-recur-month");var ax;if(aw[0]){ax={change:function(){aA.months=[Number(this.value())];ay.trigger("change")},dataTextField:"text",dataValueField:"value",dataSource:ak.map(n.culture().calendar.months.names,function(aC,aB){return{text:aC,value:aB+1}})};ay._month1=new X(aw[0],ax);ay._month2=new X(aw[1],ax);if(az){az=az[0];ay._month1.value(az);ay._month2.value(az)}}},_end:function(){var aA=this;var aB=aA._value;var aw=aA._container;var ay=aA._namespace;var az=function(aC){aA._toggleEnd(aC.currentTarget.value);aA.trigger("change")};var ax;aA._buttonNever=aw.find(".k-recur-end-never").on(aj+ay,az);aA._buttonCount=aw.find(".k-recur-end-count").on(aj+ay,az);aA._buttonUntil=aw.find(".k-recur-end-until").on(aj+ay,az);if(aB.count){ax="count"}else{if(aB.until){ax="until"}}aA._toggleEnd(ax)},_period:function(){var aA=this;var aB=aA._value;var ax=aB.freq==="monthly";var az=ax?aA._toggleMonthDay:aA._toggleYear;var aw=".k-recur-"+(ax?"month":"year")+"-radio";var ay=aA._container.find(aw);if(!ax&&aB.freq!=="yearly"){return}ay.on(aj+aA._namespace,function(aC){az.call(aA,aC.currentTarget.value);aA.trigger("change")});aA._buttonMonthDay=ay.eq(0);aA._buttonWeekDay=ay.eq(1);az.call(aA,aB.weekDays?"weekday":"monthday")},_toggleEnd:function(ax){var aA=this;var az,aB;var aw,ay;if(ax==="count"){aA._buttonCount.prop("checked",true);aw=true;ay=false;az=aA._count.value();aB=null}else{if(ax==="until"){aA._buttonUntil.prop("checked",true);aw=false;ay=true;az=null;aB=aA._until.value()}else{aA._buttonNever.prop("checked",true);aw=ay=false;az=aB=null}}aA._count.enable(aw);aA._until.enable(ay);aA._value.count=az;aA._value.until=aB},_toggleMonthDay:function(aA){var az=this;var ay=false;var ax=true;var aw=false;var aB;if(aA==="monthday"){az._buttonMonthDay.prop("checked",true);aB=[az._monthDay.value()];ay=true;ax=false;aw=true}else{az._buttonWeekDay.prop("checked",true);aB=null}az._weekDay.enable(ax);az._weekDayOffset.enable(ax);az._monthDay.enable(ay);az._value.monthDays=aB;az._weekDayRule(aw)},_toggleYear:function(aA){var ay=this;var ax=false;var aw=true;var az;if(aA==="monthday"){ax=true;aw=false;az=ay._month1.value()}else{az=ay._month2.value()}ay._month1.enable(ax);ay._month2.enable(aw);ay._value.months=[az];ay._toggleMonthDay(aA)}});E.plugin(Z);var O=n.template('<div class="k-edit-label"><label>#:headerTitle#</label></div><div class="k-edit-field k-recur-pattern k-scheduler-toolbar"></div><div class="k-recur-view"></div>');var av=n.template('# if (frequency !== "never") { #<div class="k-edit-label"><label>#:messages.repeatEvery#</label></div><div class="k-edit-field"><input class="k-recur-interval" pattern="\\\\d*"/>#:messages.interval#</div># } ## if (frequency === "weekly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field">#=weekDayCheckBoxes(firstWeekDay)#</div># } else if (frequency === "monthly") { #<div class="k-edit-label"><label>#:messages.repeatBy#</label></div><div class="k-edit-field k-scheduler-toolbar k-repeat-rule"></div><div class="k-monthday-view" style="display:none"><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><input class="k-recur-monthday" pattern="\\\\d*"/></div></div><div class="k-weekday-view" style="display:none"><div class="k-edit-label"><label>#:messages.every#</label></div><div class="k-edit-field"><select class="k-recur-weekday-offset"></select></div><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><select class="k-recur-weekday"></select></div></div># } else if (frequency === "yearly") { #<div class="k-edit-label"><label>#:messages.repeatBy#</label></div><div class="k-edit-field k-scheduler-toolbar k-repeat-rule"></div><div class="k-monthday-view" style="display:none"><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><input class="k-recur-monthday" pattern="\\\\d*"/></div></div><div class="k-weekday-view" style="display:none"><div class="k-edit-label"><label>#:messages.every#</label></div><div class="k-edit-field"><select class="k-recur-weekday-offset"></select></div><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><select class="k-recur-weekday"></select></div></div><div class="k-edit-label"><label>#:messages.month#</label></div><div class="k-edit-field"><select class="k-recur-month"></select></div># } #');var m=n.template('# if (endPattern === "count") { #<div class="k-edit-label"><label>#:messages.after#</label></div><div class="k-edit-field"><input class="k-recur-count" pattern="\\\\d*" /></div># } else if (endPattern === "until") { #<div class="k-edit-label"><label>#:messages.on#</label></div><div class="k-edit-field"><input type="date" class="k-recur-until" /></div># } #');var L=n.template('<ul class="k-reset k-header k-scheduler-navigation">#for (var i = 0, length = dataSource.length; i < length; i++) {#<li class="k-state-default #= value === dataSource[i].value ? "k-state-selected" : "" #"><a role="button" href="\\#" class="k-link" data-#=ns#value="#=dataSource[i].value#">#:dataSource[i].text#</a></li>#}#</ul>');var ab=ad.extend({init:function(ax,aw){var ay=this;ad.fn.init.call(ay,ax,aw);aw=ay.options;ay._optionTemplate=n.template('<option value="#:value#">#:text#</option>');ay.value(aw.value);ay._pane=aw.pane;ay._initRepeatButton();ay._initRepeatEnd();ay._defaultValue=ay._value},options:{name:"MobileRecurrenceEditor",animations:{left:"slide",right:"slide:right"},mobile:true,messages:{cancel:"Cancel",update:"Save",endTitle:"Repeat ends",repeatTitle:"Repeat pattern",headerTitle:"Repeat event",end:{patterns:{never:"Never",after:"After...",on:"On..."},never:"Never",after:"End repeat after",on:"End repeat on"},daily:{interval:""},hourly:{interval:""},weekly:{interval:""},monthly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every",every:"Every",day:"Day "},yearly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every: ",every:"Every",month:"Month",day:"Day"}}},events:["change"],value:function(ay){var ax=this;var aw=ax.options.timezone;if(ay===p){if(!ax._value.freq){return""}return b(ax._value,aw)}ax._value=Y(ay,aw)||{}},destroy:function(){this._destroyView();n.destroy(this._endFields);this._repeatButton.off(aj+this._namespace);ad.fn.destroy.call(this)},_initRepeatButton:function(){var aw=this;var ax=aw.options.messages.frequencies[this._value.freq||"never"];aw._repeatButton=ak('<a href="#" class="k-button k-scheduler-recur">'+ax+"</a>").on(aj+aw._namespace,function(ay){ay.preventDefault();aw._createView("repeat");aw._pane.navigate("recurrence",aw.options.animations.left)});aw.element.append(aw._repeatButton)},_initRepeatEnd:function(){var ax=this;var aw=ak('<div class="k-edit-label"><label>'+ax.options.messages.end.mobileLabel+"</label></div>").insertAfter(ax.element.parent(".k-edit-field"));var ay=ak('<div class="k-edit-field"><a href="#" class="k-button k-scheduler-recur-end"></a></div>').on(aj+ax._namespace,function(az){az.preventDefault();if(!ax._value.freq){return}ax._createView("end");ax._pane.navigate("recurrence",ax.options.animations.left)}).insertAfter(aw);ax._endFields=aw.add(ay).toggleClass("k-state-disabled",!ax._value.freq);ax._endButton=ay.find(".k-scheduler-recur-end").text(ax._endText())},_endText:function(){var ax=this._value;var aw=this.options.messages.end;var ay=aw.never;if(ax.count){ay=n.format("{0} {1}",aw.after,ax.count)}else{if(ax.until){ay=n.format("{0} {1:d}",aw.on,ax.until)}}return ay},_initFrequency:function(){var ax=this;var ay=ax.options.messages.frequencies;var aw=L({dataSource:ak.map(this.options.frequencies,function(az){return{text:ay[az],value:az!=="never"?az:""}}),value:ax._value.freq||"",ns:n.ns});ax._view.element.find(".k-recur-pattern").append(aw).on(aj+ax._namespace,".k-scheduler-navigation li",function(aA){var az=ak(this);aA.preventDefault();az.addClass("k-state-selected").siblings().removeClass("k-state-selected");ax._value={freq:az.children("a").attr(n.attr("value"))};ax._initRepeatView()})},_initEndNavigation:function(){var ay=this;var aw=ay.options.messages.end.patterns;var aA=ay._value;var az="";if(aA.count){az="count"}else{if(aA.until){az="until"}}var ax=L({dataSource:[{text:aw.never,value:""},{text:aw.after,value:"count"},{text:aw.on,value:"until"}],value:az,ns:n.ns});ay._view.element.find(".k-recur-pattern").append(ax).on(aj+ay._namespace,".k-scheduler-navigation li",function(aD){var aB=ak(this);var aC=null;var aE=null;aD.preventDefault();aB.addClass("k-state-selected").siblings().removeClass("k-state-selected");ay._initEndView(aB.children("a").attr(n.attr("value")));if(ay._count){aC=ay._count.value();aE=null}else{if(ay._until){aC=null;aE=ay._until.val?n.parseDate(ay._until.val(),"yyyy-MM-dd"):ay._until.value()}}aA.count=aC;aA.until=aE})},_createView:function(aw){var aA=this;var ax=aA.options;var az=ax.messages;var aB=az[aw==="repeat"?"repeatTitle":"endTitle"];var ay='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="recurrence"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+az.cancel+"</a>"+az.headerTitle+'<a href="#" class="k-button k-scheduler-update">'+az.update+"</a></div>";var aC=aA._pane.view().id;aA._view=aA._pane.append(ay+O({headerTitle:aB}));aA._view.element.on(aj+aA._namespace,"a.k-scheduler-cancel, a.k-scheduler-update",function(aE){aE.preventDefault();aE.stopPropagation();if(ak(this).hasClass("k-scheduler-update")){aA.trigger("change");aA._defaultValue=ak.extend({},aA._value)}else{aA._value=aA._defaultValue}var aD=aA._value.freq;aA._endButton.text(aA._endText());aA._endFields.toggleClass("k-state-disabled",!aD);aA._repeatButton.text(az.frequencies[aD||"never"]);aA._pane.one("viewShow",function(){aA._destroyView()});aA._pane.navigate(aC,aA.options.animations.right)});aA._container=aA._view.element.find(".k-recur-view");if(aw==="repeat"){aA._initFrequency();aA._initRepeatView()}else{aA._initEndNavigation();aA._initEndView()}},_destroyView:function(){if(this._view){this._view.destroy();this._view.element.remove()}this._view=null},_initRepeatView:function(){var ay=this;var aB=ay._value.freq||"never";var az={frequency:aB,weekDayCheckBoxes:z,firstWeekDay:ay.options.firstWeekDay,messages:ay.options.messages[aB]};var ax=av(az);var aw=ay._container;var aA=ay._value;n.destroy(aw);aw.html(ax);if(!ax){ay._value={};return}if(aB==="weekly"&&!aA.weekDays){aA.weekDays=[{day:ay.options.start.getDay(),offset:0}]}ay._initInterval();ay._initMonthDay();ay._initWeekDays();ay._initWeekDay();ay._initMonth();ay._period()},_initEndView:function(ay){var aw=this;var az=aw._value;if(ay===p){if(az.count){ay="count"}else{if(az.until){ay="until"}}}var ax={endPattern:ay,messages:aw.options.messages.end};n.destroy(aw._container);aw._container.html(m(ax));aw._initCount();aw._initUntil()},_initWeekDay:function(){var az=this,aA;var aw=az.options.messages.weekdays;var ay=az.options.messages.offsetPositions;var ax=az._container.find(".k-recur-weekday");var aB=function(){az._weekDayRule();az.trigger("change")};if(ax[0]){az._weekDayOffset=az._container.find(".k-recur-weekday-offset").html(az._options([{text:ay.first,value:"1"},{text:ay.second,value:"2"},{text:ay.third,value:"3"},{text:ay.fourth,value:"4"},{text:ay.last,value:"-1"}])).change(aB);aA=[{text:aw.day,value:"day"},{text:aw.weekday,value:"weekday"},{text:aw.weekend,value:"weekend"}];aA=aA.concat(ak.map(n.culture().calendar.days.names,function(aD,aC){return{text:aD,value:aC}}));az._weekDay=ax.html(az._options(aA)).change(aB).val(az.options.start.getDay());az._weekDayView()}},_initMonth:function(){var ay=this;var aB=ay._value;var aC=ay.options.start;var aA=aB.months||[aC.getMonth()+1];var aw=ay._container.find(".k-recur-month");var ax=n.culture().calendar.months.names;if(aw[0]){var az=ak.map(ax,function(aE,aD){return{text:aE,value:aD+1}});aw.html(ay._options(az)).change(function(){aB.months=[Number(this.value)]});ay._monthSelect=aw;if(aA){aw.val(aA[0])}}},_period:function(){var aC=this;var aD=aC._value;var ay=aC._container;var aA=aC.options.messages[aD.freq];var aw=ay.find(".k-repeat-rule");var ax=ay.find(".k-weekday-view");var az=ay.find(".k-monthday-view");if(aw[0]){var aE=aD.weekDays?"weekday":"monthday";var aB=L({value:aE,dataSource:[{text:aA.dayOfMonth,value:"monthday"},{text:aA.dayOfWeek,value:"weekday"}],ns:n.ns});var aF=function(aK){var aH=aC._weekDay.val();var aG=aC._weekDayOffset.val();var aI=aC._monthDay.value();var aJ=aC._monthSelect?aC._monthSelect.val():null;if(aK==="monthday"){aD.weekDays=null;aD.monthDays=aI?[aI]:aI;aD.months=aJ?[Number(aJ)]:aJ;ax.hide();az.show()}else{aD.monthDays=null;aD.months=aJ?[Number(aJ)]:aJ;aD.weekDays=[{offset:Number(aG),day:Number(aH)}];ax.show();az.hide()}};aw.append(aB).on(aj+aC._namespace,".k-scheduler-navigation li",function(aI){var aG=ak(this).addClass("k-state-selected");aI.preventDefault();aG.siblings().removeClass("k-state-selected");var aH=aG.children("a").attr(n.attr("value"));aF(aH)});aF(aE)}},_initUntil:function(){var ay=this;var aw=ay._container.find(".k-recur-until");var aB=ay.options.start;var az=ay._value;var aA=az.until;var ax=aA&&aA<aB?aA:aB;if(n.support.input.date){ay._until=aw.attr("min",n.toString(ax,"yyyy-MM-dd")).val(n.toString(aA||aB,"yyyy-MM-dd")).on("change",function(){az.until=n.parseDate(this.value,"yyyy-MM-dd")})}else{ay._until=aw.kendoDatePicker({min:ax,value:aA||aB,change:function(){az.until=this.value()}}).data("kendoDatePicker")}},_options:function(aB,aA){var aw=0;var ax="";var az=aB.length;var ay=this._optionTemplate;if(aA){ax+=ay({value:"",text:aA})}for(;aw<az;aw++){ax+=ay(aB[aw])}return ax}});E.plugin(ab)})(window.kendo.jQuery);(function(e,g){var n=window.kendo,m=n.ui,l=n.date.setTime,b=m.SchedulerView,u=e.extend,s=e.proxy,k=n.date.getDate,v=n.date.getMilliseconds,c=n.date.MS_PER_DAY,f=n.date.MS_PER_MINUTE,t=".kendoTimelineView";var i=n.template('<div><div class="k-event-template k-event-time">#:kendo.format("{0:t} - {1:t}", start, end)#</div><div class="k-event-template">${title}</div></div>'),j=n.template("<span class='k-link k-nav-day'>#=kendo.format('{0:m}', date)#</span>"),w='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color#; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#" #} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head) {#<span class="k-icon k-i-arrow-e"></span>#}#</span>#if(resizable && !data.tail){#<span class="k-resize-handle k-resize-w"></span>#}##if(resizable && !data.head){#<span class="k-resize-handle k-resize-e"></span>#}#</div>';function d(x){var y=new Date(1980,1,1,0,0,0);l(y,v(x));return y}function h(x){var y=[];var z=x.workWeekStart;y.push(z);while(x.workWeekEnd!=z){if(z>6){z-=7}else{z++}y.push(z)}return y}function r(x){var z=0;if(x.columns){for(var y=0;y<x.columns.length;y++){z+=r(x.columns[y])}x.colspan=z;return z}else{x.colspan=1;return 1}}function p(B,C,y){var x,z,D,A;for(x=B.length-1;x>=0;x--){z=B[x].rectLeft;A=B[x].rectRight;D=z<=C&&A>=C;if(D||(z>=C&&A<=y)||(C<=z&&y>=z)){if(z<C){C=z}if(A>y){y=A}}}return q(B,C,y)}function q(B,C,z){var y=[];for(var x=0;x<B.length;x++){var A={rectLeft:B[x].rectLeft,rectRight:B[x].rectRight};if((A.rectLeft<C&&A.rectRight>C)||(A.rectLeft>=C&&A.rectRight<=z)){y.push(B[x])}}return y}var o=b.extend({init:function(y,x){var z=this;b.fn.init.call(z,y,x);z.title=z.options.title||z.options.name;z._workDays=h(z.options);z._templates();z._editable();z.calculateDateRange();z._groups();z._currentTime()},name:"timeline",_currentTimeMarkerUpdater:function(){var y=new Date();var J=this.options;this.datesHeader.find(".k-current-time").remove();if(!this._isInDateSlot({start:y,end:y})){return}if(J.currentTimeMarker.useLocalTimezone===false){var D=J.dataSource.options.schema.timezone;if(J.dataSource&&D){var G=n.timezone.offset(y,D);y=n.timezone.convert(y,y.getTimezoneOffset(),G)}}var z=!J.group||J.group.orientation=="vertical"?1:this.groups.length;for(var H=0;H<z;H++){var I=this.groups[H];var F=n.date.toUtcTime(y);var x=I.timeSlotRanges(F,F+1);if(x.length===0){return}var C=x[0].collection;var B=C.slotByStartDate(y);if(B){var A=e("<div class='k-current-time'></div>");var E=this.datesHeader;A.appendTo(E.find(".k-scheduler-header-wrap")).css({left:Math.round(x[0].innerRect(y,new Date(y.getTime()+1),false).left),width:"1px",bottom:"1px",top:0})}}},_currentTime:function(){var y=this;var x=y.options.currentTimeMarker;if(x!==false&&x.updateInterval!==g){var z=x.updateInterval;y._currentTimeMarkerUpdater();y._currentTimeUpdateTimer=setInterval(s(this._currentTimeMarkerUpdater,y),z)}},_editable:function(){if(this.options.editable){if(this._isMobile()){this._touchEditable()}else{this._mouseEditable()}}},_mouseEditable:function(){var x=this;x.element.on("click"+t,".k-event a:has(.k-si-close)",function(y){x.trigger("remove",{uid:e(this).closest(".k-event").attr(n.attr("uid"))});y.preventDefault()});if(x.options.editable.create!==false){x.element.on("dblclick"+t,".k-scheduler-content td",function(y){var A=x._slotByPosition(y.pageX,y.pageY);if(A){var z=x._resourceBySlot(A);x.trigger("add",{eventInfo:u({start:A.startDate(),end:A.endDate()},z)})}y.preventDefault()})}if(x.options.editable.update!==false){x.element.on("dblclick"+t,".k-event",function(y){x.trigger("edit",{uid:e(this).closest(".k-event").attr(n.attr("uid"))});y.preventDefault()})}},_touchEditable:function(){var x=this;if(x.options.editable.create!==false){x._addUserEvents=new n.UserEvents(x.element,{filter:".k-scheduler-content td",tap:function(y){var A=x._slotByPosition(y.x.location,y.y.location);if(A){var z=x._resourceBySlot(A);x.trigger("add",{eventInfo:u({start:A.startDate(),end:A.endDate()},z)})}y.preventDefault()}})}if(x.options.editable.update!==false){x._editUserEvents=new n.UserEvents(x.element,{filter:".k-event",tap:function(z){var y=e(z.target).closest(".k-event");if(!y.hasClass("k-event-active")){x.trigger("edit",{uid:y.attr(n.attr("uid"))})}z.preventDefault()}})}},_slotByPosition:function(z,G){var F;var B=this.content;var E=B.offset();var D;var C;z-=E.left;G-=E.top;if(this._isRtl){var A=n.support.browser;if(A.mozilla){z+=(B[0].scrollWidth-B[0].offsetWidth);z+=B[0].scrollLeft}else{if(A.msie){z-=B.scrollLeft();z+=B[0].scrollWidth-this.content[0].offsetWidth}else{if(A.webkit){z+=B[0].scrollLeft}}}}else{z+=B[0].scrollLeft}G+=B[0].scrollTop;z=Math.ceil(z);G=Math.ceil(G);for(C=0;C<this.groups.length;C++){D=this.groups[C];F=D.timeSlotByPosition(z,G);if(F){return F}}return null},options:{name:"TimelineView",title:"Timeline",selectedDateFormat:"{0:D}",selectedShortDateFormat:"{0:d}",date:n.date.today(),startTime:n.date.today(),endTime:n.date.today(),showWorkHours:false,minorTickCount:2,editable:true,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,majorTick:60,eventHeight:25,eventMinWidth:0,columnWidth:100,groupHeaderTemplate:"#=text#",majorTimeHeaderTemplate:"#=kendo.toString(date, 't')#",slotTemplate:"&nbsp;",eventTemplate:i,dateHeaderTemplate:j,footer:{command:"workDay"},currentTimeMarker:{updateInterval:10000,useLocalTimezone:true},messages:{defaultRowText:"All events",showFullDay:"Show full day",showWorkDay:"Show business hours"}},events:["remove","add","edit"],_templates:function(){var x=this.options,y=u({},n.Template,x.templateSettings);this.eventTemplate=this._eventTmpl(x.eventTemplate,w);this.majorTimeHeaderTemplate=n.template(x.majorTimeHeaderTemplate,y);this.dateHeaderTemplate=n.template(x.dateHeaderTemplate,y);this.slotTemplate=n.template(x.slotTemplate,y);this.groupHeaderTemplate=n.template(x.groupHeaderTemplate,y)},_render:function(y){var x=this;y=y||[];x._dates=y;x._startDate=y[0];x._endDate=y[(y.length-1)||0];x._calculateSlotRanges();x.createLayout(x._layout(y));x._content(y);x._footer();x._setContentWidth();x.refreshLayout();x.datesHeader.on("click"+t,".k-nav-day",function(A){var z=e(A.currentTarget).closest("th");var B=x._slotByPosition(z.offset().left,x.content.offset().top);x.trigger("navigate",{view:"timeline",date:B.startDate()})});x.timesHeader.find("table tr:last").hide();x.datesHeader.find("table tr:last").hide()},_setContentWidth:function(){var B=this.content;var y=B.width();var z=this.content.find("table");var C=z.find("tr:first").children().length;var A=100;var x=C*this.options.columnWidth;if(y<x){A=Math.ceil((x/y)*100)}z.add(this.datesHeader.find("table")).css("width",A+"%")},_calculateSlotRanges:function(){var C=this._dates;var y=this.startTime();var D=this.endTime();if(v(D)===v(n.date.getDate(D))){D=n.date.getDate(D);l(D,c-1)}D=v(D);y=v(y);var B=[];for(var x=0;x<C.length;x++){var A=k(C[x]);l(A,y);var z=k(C[x]);l(z,D);B.push({start:n.date.toUtcTime(A),end:n.date.toUtcTime(z)})}this._slotRanges=B},_forTimeRange:function(M,O,N,z){M=d(M);O=d(O);var E=this,F=v(M),G=v(O),C=E.options.minorTickCount,R=E.options.majorTick*f,P=R/C||1,B=new Date(+M),H=B.getDate(),x,L=0,A,I="";A=c/P;if(F!=G){if(F>G){G+=c}A=((G-F)/P)}A=Math.round(A);for(;L<A;L++){var S=L%(R/P);var D=S===0;var y=S<C-1;var K=S===C-1;var Q=C;if(A%C!==0){var J=(A-(L+1))<C;if(D&&J){Q=A%C}}I+=N(B,D,y,K,Q);l(B,P,false)}if(G){x=v(B);if(H<B.getDate()){x+=c}if(x>G){B=new Date(+O)}}if(z){I+=z(B)}return I},_layout:function(x){var B=[];var z=[];var A=this;var F=[{text:A.options.messages.defaultRowText}];var D=[];for(var C=0;C<A.options.minorTickCount;C++){D.push({text:"",className:""})}this._forTimeRange(A.startTime(),A.endTime(),function(H,L,G,K,J){var I=A.majorTimeHeaderTemplate;if(L){var M={text:I({date:H}),className:K?"k-slot-cell":"",columns:D.slice(0,J)};r(M);B.push(M)}});for(var E=0;E<x.length;E++){z.push({text:A.dateHeaderTemplate({date:x[E]}),className:"k-slot-cell",columns:B.slice(0)})}var y=this.groupedResources;if(y.length){if(this._groupOrientation()==="vertical"){F=A._createRowsLayout(y,null,this.groupHeaderTemplate)}else{z=A._createColumnsLayout(y,z,this.groupHeaderTemplate)}}return{columns:z,rows:F}},_footer:function(){var x=this.options;if(x.footer!==false){var y='<div class="k-header k-scheduler-footer">';var A=x.footer.command;if(A&&A==="workDay"){y+='<ul class="k-reset k-header">';y+='<li class="k-state-default k-scheduler-fullday"><a href="#" class="k-link"><span class="k-icon k-i-clock"></span>';y+=(x.showWorkHours?x.messages.showFullDay:x.messages.showWorkDay)+"</a></li>";y+="</ul>"}else{y+="&nbsp;"}y+="</div>";this.footer=e(y).appendTo(this.element);var z=this;this.footer.on("click"+t,".k-scheduler-fullday",function(B){B.preventDefault();z.trigger("navigate",{view:z.name||x.name,date:z.startDate(),isWorkDay:!x.showWorkHours})})}},_columnCountForLevel:function(y){var x=this.columnLevels[y];return x?x.length:0},_rowCountForLevel:function(y){var x=this.rowLevels[y];return x?x.length:0},_isWorkDay:function(y){var x=y.getDay();var A=this._workDays;for(var z=0;z<A.length;z++){if(A[z]===x){return true}}return false},_content:function(x){var G=this;var N=G.options;var A=G.startTime();var E=this.endTime();var D=1;var I=1;var H=x.length;var F="";var C=this.groupedResources;var M=this.slotTemplate;var z=false;if(C.length){z=G._groupOrientation()==="vertical";if(z){I=G._groupCount()}else{D=G._groupCount()}}F+="<tbody>";var K=function(O,R){var Q="";var P="";var T;var S=function(U){return function(){return G._resourceBySlot({groupIndex:U})}};if(n.date.isToday(x[J])){P+="k-today"}if(n.date.getMilliseconds(O)<n.date.getMilliseconds(N.workDayStart)||n.date.getMilliseconds(O)>=n.date.getMilliseconds(N.workDayEnd)||!G._isWorkDay(x[J])){P+=" k-nonwork-hour"}Q+="<td"+(P!==""?' class="'+P+'"':"")+">";T=n.date.getDate(x[J]);n.date.setTime(T,n.date.getMilliseconds(O));Q+=M({date:T,resources:S(z?y:L)});Q+="</td>";return Q};for(var y=0;y<I;y++){F+="<tr>";for(var L=0;L<D;L++){for(var J=0,B=H;J<B;J++){F+=this._forTimeRange(A,E,K)}}F+="</tr>"}F+="</tbody>";this.content.find("table").append(F)},_groups:function(){var D=this._groupCount();var B=this._dates;var A=B.length;this.groups=[];for(var x=0;x<D;x++){var z=this._addResourceView(x);var C=B[0];var y=B[(B.length-1)||0];z.addTimeSlotCollection(C,n.date.addDays(y,1))}this._timeSlotGroups(D,A)},_isVerticallyGrouped:function(){return this.groupedResources.length&&this._groupOrientation()==="vertical"},_isHorizontallyGrouped:function(){return this.groupedResources.length&&this._groupOrientation()==="horizontal"},_timeSlotGroups:function(z,P){var U=this._timeSlotInterval();var L=this._isVerticallyGrouped();var O=this.content.find("tr");var J=O.length;O.attr("role","row");if(L){J=Math.floor(J/z)}for(var y=0;y<z;y++){var T=0;var G=this.groups[y];var E;if(L){T=y}var K=T*J;var Q=0;if(!L){Q=y}var B=O[K].children;var D=B.length/(!L?z:1);var I=D/P;for(var M=0;M<P;M++){var R=M*I+(D*Q);E=v(new Date(+this.startTime()));for(var H=0;H<I;H++){var x=B[H+R];var N=G.getTimeSlotCollection(0);var F=this._dates[M];var S=Date.UTC(F.getFullYear(),F.getMonth(),F.getDate());var C=S+E;var A=C+U;x.setAttribute("role","gridcell");x.setAttribute("aria-selected",false);N.addTimeSlot(x,C,A,true);E+=U}}}},startDate:function(){return this._startDate},endDate:function(){return this._endDate},startTime:function(){var x=this.options;return x.showWorkHours?x.workDayStart:x.startTime},endTime:function(){var x=this.options;return x.showWorkHours?x.workDayEnd:x.endTime},_timeSlotInterval:function(){var x=this.options;return(x.majorTick/x.minorTickCount)*f},nextDate:function(){return n.date.nextDay(this.endDate())},previousDate:function(){return n.date.previousDay(this.startDate())},calculateDateRange:function(){this._render([this.options.date])},render:function(y){this._headerColumnCount=0;this._groups();this.element.find(".k-event").remove();y=new n.data.Query(y).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var x=[];this._eventsByResource(y,this.groupedResources,x);var B=[];var A=0;for(var z=0;z<x.length;z++){var C={groupIndex:z,maxRowCount:0,events:{}};B.push(C);this._renderEvents(x[z],z,C);if(A<C.maxRowCount){A=C.maxRowCount}}this._setRowsHeight(B,x.length,A);this._positionEvents(B,x.length);this.trigger("activate")},_positionEvents:function(C,z){for(var B=0;B<z;B++){var A=C[B].events;for(var y in A){var x=A[y];this._positionEvent(x)}}},_setRowsHeight:function(y,z,A){var C=this.options.eventHeight+2;var E=this._getBottomRowOffset();z=this._isVerticallyGrouped()?z:1;for(var D=0;D<z;D++){var B=this._isVerticallyGrouped()?y[D].maxRowCount:A;B=B?B:1;var x=((C+2)*B)+E;var F=e(this.times.find("tr")[D]);var G=e(this.content.find("tr")[D]);F.height(x);G.height(x)}this._setContentWidth();this.refreshLayout();this._refreshSlots()},_getBottomRowOffset:function(){var A=this.options.eventHeight*0.5;var x=this._isMobile();var z;var y;if(x){z=30;y=60}else{z=15;y=30}if(A>y){A=y}else{if(A<z){A=z}}return A},_positionEvent:function(x){var D=this.options.eventHeight+2;var B=x.slotRange.innerRect(x.start,x.end,false);var C=B.left;if(this._isRtl){C-=(this.content[0].scrollWidth-this.content[0].offsetWidth)}var A=B.right-B.left-2;if(A<0){A=0}if(A<this.options.eventMinWidth){var z=x.slotRange.collection;var E=z._slots[z._slots.length-1];var y=E.offsetLeft+E.offsetWidth;A=this.options.eventMinWidth;if(y<C+A){A=y-B.left-2}}x.element.css({top:x.slotRange.start.offsetTop+x.rowIndex*(D+2)+"px",left:C,width:A})},_refreshSlots:function(){for(var x=0;x<this.groups.length;x++){this.groups[x].refresh()}},_eventsByResource:function(z,D,x){var C=D[0];if(C){var y=C.dataSource.view();for(var A=0;A<y.length;A++){var B=this._resourceValue(C,y[A]);var E=new n.data.Query(z).filter({field:C.field,operator:b.groupEqFilter(B)}).toArray();if(D.length>1){this._eventsByResource(E,D.slice(1),x)}else{x.push(E)}}}else{x.push(z)}},_isInDateSlot:function(z){var y=z.start;var x=z.end;var B=k(this._startDate);var A=n.date.addDays(k(this._endDate),1);if(y<A&&B<=x){return true}return false},_isInTimeSlot:function(A){var z=A._startTime||n.date.toUtcTime(A.start);var y=A._endTime||n.date.toUtcTime(A.end);var B=this._slotRanges;if(z===y){y=y+1}for(var x=0;x<B.length;x++){if(z<B[x].end&&B[x].start<y){return true}}return false},_adjustEvent:function(x){var y=x.start;var B=x.end;var D=x._time("start");var H=x._time("end");var z=v(this.startTime());var C=v(this.endTime());var A=null;var F=null;var I;var G=false;var E=false;if(x.isAllDay){A=k(y);if(z>D){l(A,z);E=true}F=k(B);if(C===v(k(this.endTime()))){F=n.date.addDays(F,1)}else{l(F,C);G=true}}else{C=C===0?c:C;if(z>D){A=k(y);l(A,z);E=true}else{if(C<D){A=k(y);A=n.date.addDays(A,1);l(A,z);E=true}}if(C<H){F=k(B);l(F,C);G=true}else{if(z>H){F=k(B);F=n.date.addDays(F,-1);l(F,C);G=true}}}I=x.clone({start:A?A:y,end:F?F:B,_startTime:A?n.date.toUtcTime(A):x._startTime,_endTime:F?n.date.toUtcTime(F):x._endTime,isAllDay:false});return{occurrence:I,head:G,tail:E}},_renderEvents:function(K,I,D){var y;var G;var A;for(G=0,A=K.length;G<A;G++){y=K[G];if(this._isInDateSlot(y)){var B=y.isAllDay||y.end.getTime()-y.start.getTime()>=c;var z=this.content;if(B||this._isInTimeSlot(y)){var J=this._adjustEvent(y);var H=this.groups[I];if(!H._continuousEvents){H._continuousEvents=[]}var x=H.slotRanges(J.occurrence,false);var F=x[0];var E;if(this._isInTimeSlot(J.occurrence)){E=this._createEventElement(J.occurrence,y,F.head||J.head,F.tail||J.tail);E.appendTo(z).css({top:0,height:this.options.eventHeight});var C={start:J.occurrence._startTime||J.occurrence.start,end:J.occurrence._endTime||J.occurrence.end,element:E,uid:y.uid,slotRange:F,rowIndex:0,offsetTop:0};D.events[y.uid]=C;this.addContinuousEvent(H,F,E,y.isAllDay);this._arrangeRows(C,F,D)}}}}},addContinuousEvent:function(B,x,A,z){var y=B._continuousEvents;y.push({element:A,isAllDay:z,uid:A.attr(n.attr("uid")),start:x.start,end:x.end})},_createEventElement:function(L,z,I,G){var M=this.eventTemplate;var B=this.options.editable;var H=this._isMobile();var x=B&&B.destroy!==false&&!H;var y=B&&B.resize!==false;var F=z._time("start");var K=z._time("end");var E=z.start;var J=z.end;var A=this.eventResources(z);if(z._startTime){E=new Date(F);E=n.timezone.apply(E,"Etc/UTC")}if(z.endTime){J=new Date(K);J=n.timezone.apply(J,"Etc/UTC")}var D=u({},{ns:n.ns,resizable:y,showDelete:x,head:I,tail:G,singleDay:this._dates.length==1,resources:A,inverseColor:A&&A[0]?this._shouldInverseResourceColor(A[0]):false},z,{start:E,end:J});var C=e(M(D));this.angular("compile",function(){return{elements:C,data:[{dataItem:D}]}});return C},_arrangeRows:function(B,F,C){var I=F.start.index;var E=F.end.index;var G=B.slotRange.innerRect(B.start,B.end,false);var z=G.right+this.options.eventMinWidth;var J=p(F.events(),G.left,z);F.addEvent({slotIndex:I,start:I,end:E,rectLeft:G.left,rectRight:z,element:B.element,uid:B.uid});J.push({start:I,end:E,uid:B.uid});var K=b.createRows(J);if(C.maxRowCount<K.length){C.maxRowCount=K.length}for(var H=0,A=K.length;H<A;H++){var x=K[H].events;for(var D=0,y=x.length;D<y;D++){C.events[x[D].uid].rowIndex=H}}},_groupCount:function(){var x=this.groupedResources;if(x.length){if(this._groupOrientation()==="vertical"){return this._rowCountForLevel(x.length-1)}else{return this._columnCountForLevel(x.length-1)}}return 1},_updateEventForSelection:function(y){var x=this._adjustEvent(y.clone());return x.occurrence},_updateEventForMove:function(x){if(x.isAllDay){x.set("isAllDay",false)}},_updateEventForResize:function(x){if(x.isAllDay){x.set("isAllDay",false)}},_updateMoveHint:function(y,M,x){var L=this.groups[M];var B=y.clone({start:y.start,end:y.end});var C=B.duration();B.start=new Date(B.start.getTime()+x);B.end=new Date(+B.start+C);var N=this._adjustEvent(B);var z=L.slotRanges(N.occurrence,false);this._removeMoveHint();for(var E=0;E<z.length;E++){var G=z[E];var K=G.start;var F=this._createEventElement(N.occurrence,N.occurrence,false,false);F.addClass("k-event-drag-hint");var J=G.innerRect(N.occurrence.start,N.occurrence.end,this.options.snap);var A=J.right-J.left-2;if(A<0){A=0}var D=J.left;if(this._isRtl){D-=(this.content[0].scrollWidth-this.content[0].offsetWidth)}var H={left:D,top:K.offsetTop,height:K.offsetHeight-2,width:A};F.css(H);this._moveHint=this._moveHint.add(F)}var I=this.content;this._moveHint.appendTo(I)},_updateResizeHint:function(y,M,C,H){var L=this.groups[M];var z=L.ranges(C,H,false,false);this._removeResizeHint();for(var E=0;E<z.length;E++){var G=z[E];var B=G.startSlot();var J=G.innerRect(C,H,false);J.top=B.offsetTop;var A=J.right-J.left;var N=B.offsetHeight;var D=J.left;var I=this.content;if(this._isRtl){D-=(I[0].scrollWidth-I[0].offsetWidth)}var F=b.fn._createResizeHint.call(this,D,J.top,A,N);this._resizeHint=this._resizeHint.add(F)}var K="t";var x=this.content;this._resizeHint.appendTo(x);this._resizeHint.find(".k-label-top,.k-label-bottom").text("");this._resizeHint.first().addClass("k-first").find(".k-label-top").text(n.toString(n.timezone.toLocalDate(C),K));this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(n.toString(n.timezone.toLocalDate(H),K))},selectionByElement:function(x){var y=x.offset();return this._slotByPosition(y.left,y.top)},_updateDirection:function(C,y,x,A,z){var D=y[0].start;var B=y[y.length-1].end;if(x&&!z){if(D.index===B.index&&D.collectionIndex===B.collectionIndex){C.backward=A}}},_changeGroup:function(x,y){var A=y?"prevGroupSlot":"nextGroupSlot";var z=this[A](x.start,x.groupIndex,false);if(z){x.groupIndex+=y?-1:1}return z},prevGroupSlot:function(x,y,A){var z=this.groups[y];var C=z.ranges(x,x,A,false)[0].start;if(y<=0){return}if(this._isVerticallyGrouped()){return C}else{var B=z._collection(0,A);return B.last()}},nextGroupSlot:function(x,y,A){var z=this.groups[y];var C=z.ranges(x,x,A,false)[0].start;if(y>=this.groups.length-1){return}if(this._isVerticallyGrouped()){return C}else{var B=z._collection(0,A);return B.first()}},_verticalSlots:function(B,y,x,z){var E=z?"leftSlot":"rightSlot";var C=y[0].start;var A=y[y.length-1].end;var D=this.groups[B.groupIndex];C=D[E](C);A=D[E](A);if(!x&&this._isVerticallyGrouped()&&(!C||!A)){C=A=this._changeGroup(B,z)}return{startSlot:C,endSlot:A}},_horizontalSlots:function(B,y,x,z){var E=z?"upSlot":"downSlot";var C=y[0].start;var A=y[y.length-1].end;var D=this.groups[B.groupIndex];C=D[E](C);A=D[E](A);if(!x&&this._isHorizontallyGrouped()&&(!C||!A)){C=A=this._changeGroup(B,z)}return{startSlot:C,endSlot:A}},_changeViewPeriod:function(B,A,y){var z=A?this.previousDate():this.nextDate();var D=B.start;var x=B.end;B.start=new Date(z);B.end=new Date(z);if(this._isHorizontallyGrouped()){B.groupIndex=A?this.groups.length-1:0}var C=x-D;if(A){x=v(this.endTime());x=x===0?c:x;l(B.start,x-C);l(B.end,x)}else{D=v(this.startTime());l(B.start,D);l(B.end,D+C)}B.events=[];return true},move:function(E,G,z){var A=false;var F=this.groups[E.groupIndex];var H=n.keys;var y=F.ranges(E.start,E.end,false,false);var D,x,C,B;if(G===H.DOWN||G===H.UP){A=true;C=G===H.UP;this._updateDirection(E,y,z,C,true);B=this._verticalSlots(E,y,z,C)}else{if(G===H.LEFT||G===H.RIGHT){A=true;C=G===H.LEFT;this._updateDirection(E,y,z,C,false);B=this._horizontalSlots(E,y,z,C);if((!B.startSlot||!B.endSlot)&&!z&&this._changeViewPeriod(E,C,false)){return A}}}if(A){D=B.startSlot;x=B.endSlot;if(z){var I=E.backward;if(I&&D){E.start=D.startDate()}else{if(!I&&x){E.end=x.endDate()}}}else{if(D&&x){E.start=D.startDate();E.end=x.endDate()}}E.events=[]}return A},destroy:function(){var x=this;if(x.element){x.element.off(t)}if(x.footer){x.footer.remove()}if(x._currentTimeUpdateTimer){clearInterval(x._currentTimeUpdateTimer)}b.fn.destroy.call(this);if(this._isMobile()&&x.options.editable){if(x.options.editable.create!==false){x._addUserEvents.destroy()}if(x.options.editable.update!==false){x._editUserEvents.destroy()}}}});u(true,m,{TimelineView:o,TimelineWeekView:o.extend({options:{name:"TimelineWeekView",title:"Timeline Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}",majorTick:120},name:"timelineWeek",calculateDateRange:function(){var y=this.options.date,B=n.date.dayOfWeek(y,this.calendarInfo().firstDay,-1),x,z,A=[];for(x=0,z=7;x<z;x++){A.push(B);B=n.date.nextDay(B)}this._render(A)}}),TimelineWorkWeekView:o.extend({options:{name:"TimelineWorkWeekView",title:"Timeline Work Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}",majorTick:120},name:"timelineWorkWeek",nextDate:function(){return n.date.dayOfWeek(n.date.nextDay(this.endDate()),this.options.workWeekStart,1)},previousDate:function(){return n.date.previousDay(this.startDate())},calculateDateRange:function(){var y=this.options.date,A=n.date.dayOfWeek(y,this.options.workWeekStart,-1),x=n.date.dayOfWeek(A,this.options.workWeekEnd,1),z=[];while(A<=x){z.push(A);A=n.date.nextDay(A)}this._render(z)}}),TimelineMonthView:o.extend({options:{name:"TimelineMonthView",title:"Timeline Month",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}",workDayStart:new Date(1980,1,1,0,0,0),workDayEnd:new Date(1980,1,1,23,59,59),footer:false,majorTick:1440,minorTickCount:1},name:"timelineMonth",calculateDateRange:function(){var z=this.options.date,C=n.date.firstDayOfMonth(z),y=n.date.lastDayOfMonth(z),x,A,B=[];for(x=0,A=y.getDate();x<A;x++){B.push(C);C=n.date.nextDay(C)}this._render(B)}})})})(window.kendo.jQuery);(function(an,w){var q=window.kendo,r=q.date,R=q.support.input,C=r.MS_PER_DAY,ax=r.getDate,V=q.date.getMilliseconds,ar=q.recurrence,F=q.keys,N=q.ui,i=N.Widget,c=N.DataBoundWidget,av="string",ah=N.Popup,t=N.Calendar,l=q.data.DataSource,B=an.isPlainObject,aa=an.extend,x=an.proxy,af=Object.prototype.toString,b=an.isArray,au=".kendoScheduler",al="click",D="change",Y="cancel",aB="remove",am="save",X="add",E="edit",aA=/(?:value:start|value:end)(?:,|$)/,f=ax(new Date()),aC="recurrenceException",j="Are you sure you want to delete this event?",I="Do you want to delete only this event occurrence or the whole series?",H="Do you want to edit only this event occurrence or the whole series?",P='<a class="k-button #=className#" #=attr# href="\\#">#=text#</a>',U=q.template('<li class="k-current-view" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>'),M=q.template('<div class="k-floatwrap k-header k-scheduler-toolbar"># if (pdf) { #<ul class="k-reset k-scheduler-tools"><li><a role="button" href="\\#" class="k-button k-pdf"><span class="k-icon k-i-pdf"></span>${messages.pdf}</a></li></ul># } #<ul class="k-reset k-scheduler-navigation"><li class="k-state-default k-header k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li><li class="k-state-default k-header k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-header k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li><li class="k-state-default k-nav-current"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-calendar"></span><span class="k-sm-date-format" data-#=ns#bind="text: formattedShortDate"></span><span class="k-lg-date-format" data-#=ns#bind="text: formattedDate"></span></a></li></ul><ul class="k-reset k-header k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul></div>'),ao=q.template('<div class="k-floatwrap k-header k-scheduler-toolbar"><ul class="k-reset k-header k-scheduler-navigation"><li class="k-state-default k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li></ul><ul class="k-reset k-header k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul></div><div class="k-floatwrap k-header k-scheduler-toolbar"><ul class="k-reset k-header k-scheduler-navigation"><li class="k-state-default k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-nav-current"><span class="k-sm-date-format" data-#=ns#bind="text: formattedShortDate"></span><span class="k-lg-date-format" data-#=ns#bind="text: formattedDate"></span></li><li class="k-state-default k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li></ul></div>'),aw=function(aI,aJ){var aH={name:aJ.field};var aL=!R.date?q.attr("role")+'="datepicker" ':"";var aG=q.attr("role")+'="datetimepicker" ';var aK=aJ.model.isAllDay;var aM=q.attr("validate")+"='"+(!aK)+"'";var aF=q.attr("validate")+"='"+aK+"'";ab(aH,aJ);ae(aH,aJ);an('<input type="datetime-local" required '+q.attr("type")+'="date" '+aG+q.attr("bind")+'="value:'+aJ.field+',invisible:isAllDay" '+aM+"/>").attr(aH).appendTo(aI);an('<input type="date" required '+q.attr("type")+'="date" '+aL+q.attr("bind")+'="value:'+aJ.field+',visible:isAllDay" '+aF+"/>").attr(aH).appendTo(aI);an("<span "+q.attr("for")+'="'+aJ.field+'" class="k-invalid-msg"/>').hide().appendTo(aI)},ac=function(aH,aI){var aG={name:aI.field},aJ=aI.model.isAllDay,aK=q.attr("validate")+"='"+(!aJ)+"' ",aF=q.attr("validate")+"='"+aJ+"' ";ab(aG,aI);ae(aG,aI);an('<input type="text" required '+q.attr("type")+'="date" '+q.attr("role")+'="datetimepicker" '+q.attr("bind")+'="value:'+aI.field+',invisible:isAllDay" '+aK+"/>").attr(aG).appendTo(aH);an('<input type="text" required '+q.attr("type")+'="date" '+q.attr("role")+'="datepicker" '+q.attr("bind")+'="value:'+aI.field+',visible:isAllDay" '+aF+"/>").attr(aG).appendTo(aH);an("<span "+q.attr("bind")+'="text: '+aI.field+'Timezone"></span>').appendTo(aH);if(aI.field==="end"){an("<span "+q.attr("bind")+'="text: startTimezone, invisible: endTimezone"></span>').appendTo(aH)}an("<span "+q.attr("for")+'="'+aI.field+'" class="k-invalid-msg"/>').hide().appendTo(aH)},at=function(aF,aG){an("<div "+q.attr("bind")+'="value:'+aG.field+'" />').attr({name:aG.field}).appendTo(aF).kendoRecurrenceEditor({start:aG.model.start,timezone:aG.timezone,messages:aG.messages})},d=function(aF,aG){an("<div "+q.attr("bind")+'="value:'+aG.field+'" />').attr({name:aG.field}).appendTo(aF).kendoMobileRecurrenceEditor({start:aG.model.start,timezone:aG.timezone,messages:aG.messages,pane:aG.pane,value:aG.model[aG.field]})},W=function(aF,aG){var aH=aD(aG.model,aG.messages.noTimezone);an('<a href="#" class="k-button k-timezone-button" data-bind="invisible:isAllDay">'+aH+"</a>").click(aG.click).appendTo(aF)},A=function(aF,aG){an('<a href="#" class="k-button" data-bind="invisible:isAllDay">'+aG.messages.timezoneEditorButton+"</a>").click(aG.click).appendTo(aF)},aj=function(aF,aG){an("<div "+q.attr("bind")+'="value:'+aG.field+'" />').attr({name:aG.field}).toggle(aG.visible).appendTo(aF).kendoMobileTimezoneEditor({optionLabel:aG.noTimezone})},ad=function(aF,aG){an("<div "+q.attr("bind")+'="value:'+aG.field+'" />').attr({name:aG.field}).toggle(aG.visible).appendTo(aF).kendoTimezoneEditor({optionLabel:aG.noTimezone})};function aD(aF,aG){aG=aG||"";if(aF.startTimezone){aG=aF.startTimezone;if(aF.endTimezone){aG+=" | "+aF.endTimezone}}return aG}function ab(aG,aF){var aH=aF.timezone;if(aH){aG[q.attr("timezone")]=aH}}function ae(aI,aH){var aG=aH.model.fields[aH.field].validation;if(aG){var aF=aG.dateCompare;if(aF&&B(aF)&&aF.message){aI[q.attr("dateCompare-msg")]=aF.message}}}function J(aG,aF){return function(aH){aH=aG(aH);ag(aH,"apply",aF);return aH||[]}}function z(aG,aF){return function(aH){if(aH){if(af.call(aH)!=="[object Array]"&&!(aH instanceof q.data.ObservableArray)){aH=[aH]}}ag(aH,"remove",aF,true);aH=aG(aH);return aH||[]}}function ag(aK,aL,aJ,aG){var aI,aF,aH;aK=aK||[];for(aF=0,aH=aK.length;aF<aH;aF++){aI=aK[aF];if(aG){if(aI.startTimezone||aI.endTimezone){if(aJ){aI.start=q.timezone.convert(aI.start,aI.startTimezone||aI.endTimezone,aJ);aI.end=q.timezone.convert(aI.end,aI.endTimezone||aI.startTimezone,aJ);aI.start=q.timezone[aL](aI.start,aJ);aI.end=q.timezone[aL](aI.end,aJ)}else{aI.start=q.timezone[aL](aI.start,aI.startTimezone||aI.endTimezone);aI.end=q.timezone[aL](aI.end,aI.endTimezone||aI.startTimezone)}}else{if(aJ){aI.start=q.timezone[aL](aI.start,aJ);aI.end=q.timezone[aL](aI.end,aJ)}}}else{if(aI.startTimezone||aI.endTimezone){aI.start=q.timezone[aL](aI.start,aI.startTimezone||aI.endTimezone);aI.end=q.timezone[aL](aI.end,aI.endTimezone||aI.startTimezone);if(aJ){aI.start=q.timezone.convert(aI.start,aI.startTimezone||aI.endTimezone,aJ);aI.end=q.timezone.convert(aI.end,aI.endTimezone||aI.startTimezone,aJ)}}else{if(aJ){aI.start=q.timezone[aL](aI.start,aJ);aI.end=q.timezone[aL](aI.end,aJ)}}}if(aG){delete aI.uid}}return aK}function aE(aJ,aG){var aI=aJ.length,aF=0,aH;for(;aF<aI;aF++){aH=aJ[aF];if(aH.uid===aG){return aH}}}var p=q.Class.extend({init:function(aH,aF){var aG=aH.timezone;this.reader=aF;if(aF.model){this.model=aF.model}this.timezone=aG;this.data=J(an.proxy(this.data,this),aG);this.serialize=z(an.proxy(this.serialize,this),aG)},errors:function(aF){return this.reader.errors(aF)},parse:function(aF){return this.reader.parse(aF)},data:function(aF){return this.reader.data(aF)},total:function(aF){return this.reader.total(aF)},groups:function(aF){return this.reader.groups(aF)},aggregates:function(aF){return this.reader.aggregates(aF)},serialize:function(aF){return this.reader.serialize(aF)}});function u(aH,aG,aF){if(aF){aH=q.timezone.convert(aH,aG,aF)}else{aH=q.timezone.remove(aH,aG)}return aH}function v(aP){if(aP.filter("[name=end]").length){var aG=aP.closest(".k-scheduler-edit-form");var aF=aG.find("[name=start]:visible");var aO=aG.find("[name=end]:visible");if(aO[0]&&aF[0]){var aH,aK;var aQ=q.widgetInstance(aF,q.ui);var aR=q.widgetInstance(aO,q.ui);var aI=aG.data("kendoEditable");var aL=aI?aI.options.model:null;if(aQ&&aR){aH=aQ.value();aK=aR.value()}else{aH=q.parseDate(aF.val());aK=q.parseDate(aO.val())}if(aH&&aK){if(aL){var aN=aF.attr(q.attr("timezone"));var aM=aL.startTimezone;var aJ=aL.endTimezone;aM=aM||aJ;aJ=aJ||aM;if(aM){aH=u(aH,aM,aN);aK=u(aK,aJ,aN)}}return aH<=aK}}}return true}var G=q.data.Model.define({init:function(aG){var aF=this;q.data.Model.fn.init.call(aF,aG);aF._defaultId=aF.defaults[aF.idField]},_time:function(aH){var aF=this[aH];var aG="_"+aH+"Time";if(this[aG]){return this[aG]-q.date.toUtcTime(q.date.getDate(aF))}return V(aF)},_date:function(aG){var aF="_"+aG+"Time";if(this[aF]){return this[aF]-this._time(aG)}return q.date.getDate(this[aG])},clone:function(aF,aI){var aG=this.uid,aH=new this.constructor(an.extend({},this.toJSON(),aF));if(!aI){aH.uid=aG}return aH},duration:function(){var aF=this.end;var aH=this.start;var aG=(aF.getTimezoneOffset()-aH.getTimezoneOffset())*q.date.MS_PER_MINUTE;return aF-aH-aG},expand:function(aH,aG,aF){return ar?ar.expand(this,aH,aG,aF):[this]},update:function(aF){for(var aG in aF){this.set(aG,aF[aG])}if(this._startTime){this.set("_startTime",q.date.toUtcTime(this.start))}if(this._endTime){this.set("_endTime",q.date.toUtcTime(this.end))}},isMultiDay:function(){return this.isAllDay||this.duration()>=q.date.MS_PER_DAY},isException:function(){return !this.isNew()&&this.recurrenceId},isOccurrence:function(){return this.isNew()&&this.recurrenceId},isRecurring:function(){return !!(this.recurrenceRule||this.recurrenceId)},isRecurrenceHead:function(){return !!(this.id&&this.recurrenceRule)},toOccurrence:function(aF){aF=an.extend(aF,{recurrenceException:null,recurrenceRule:null,recurrenceId:this.id||this.recurrenceId});aF[this.idField]=this.defaults[this.idField];return this.clone(aF,true)},toJSON:function(){var aF=q.data.Model.fn.toJSON.call(this);aF.uid=this.uid;delete aF._startTime;delete aF._endTime;return aF},shouldSerialize:function(aF){return q.data.Model.fn.shouldSerialize.call(this,aF)&&aF!=="_defaultId"},set:function(aI,aJ){var aH=this.isAllDay||false;q.data.Model.fn.set.call(this,aI,aJ);if(aI=="isAllDay"&&aJ!=aH){var aK=q.date.getDate(this.start);var aF=new Date(this.end);var aG=q.date.getMilliseconds(aF);if(aG===0&&aJ){aG=C}this.set("start",aK);if(aJ===true){q.date.setTime(aF,-aG);if(aF<aK){aF=aK}}else{q.date.setTime(aF,C-aG)}this.set("end",aF)}},id:"id",fields:{id:{type:"number"},title:{defaultValue:"",type:"string"},start:{type:"date",validation:{required:true}},startTimezone:{type:"string"},end:{type:"date",validation:{required:true,dateCompare:{value:v}}},endTimezone:{type:"string"},recurrenceRule:{defaultValue:"",type:"string"},recurrenceException:{defaultValue:"",type:"string"},isAllDay:{type:"boolean",defaultValue:false},description:{type:"string"}}});var az=l.extend({init:function(aF){l.fn.init.call(this,aa(true,{},{schema:{modelBase:G,model:G}},aF));this.reader=new p(this.options.schema,this.reader)},expand:function(aI,aF){var aH=this.view(),aG={};if(aI&&aF){aF=new Date(aF.getTime()+C-1);aG={logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:aI},{field:"end",operator:"gte",value:aI},{field:"start",operator:"lte",value:aF}]},{logic:"and",filters:[{field:"start",operator:"lte",value:new Date(aI.getTime()+C-1)},{field:"end",operator:"gte",value:aI}]}]};aH=new q.data.Query(m(aH,aI,aF,this.reader.timezone)).filter(aG).toArray()}return aH},cancelChanges:function(aF){if(aF&&aF.isOccurrence()){this._removeExceptionDate(aF)}l.fn.cancelChanges.call(this,aF)},insert:function(aG,aF){if(!aF){return}if(!(aF instanceof G)){var aH=aF;aF=this._createNewModel();aF.accept(aH)}if((!this._pushCreated&&aF.isRecurrenceHead())||aF.recurrenceId){aF=aF.recurrenceId?aF:aF.toOccurrence();this._addExceptionDate(aF)}return l.fn.insert.call(this,aG,aF)},pushCreate:function(aF){this._pushCreated=true;l.fn.pushCreate.call(this,aF);this._pushCreated=false},remove:function(aF){if(aF.isRecurrenceHead()){this._removeExceptions(aF)}else{if(aF.isRecurring()){this._addExceptionDate(aF)}}return l.fn.remove.call(this,aF)},_removeExceptions:function(aF){var aH=this.data().slice(0),aG=aH.shift(),aI=aF.id;while(aG){if(aG.recurrenceId===aI){l.fn.remove.call(this,aG)}aG=aH.shift()}aF.set(aC,"")},_removeExceptionDate:function(aF){if(aF.recurrenceId){var aG=this.get(aF.recurrenceId);if(aG){var aH=aF.start;aG.set(aC,aG.recurrenceException.replace(ar.toExceptionString(aH,this.reader.timezone),""))}}},_addExceptionDate:function(aG){var aJ=aG.start;var aF=this.reader.timezone;var aI=this.get(aG.recurrenceId);var aH=aI.recurrenceException||"";if(!ar.isException(aH,aJ,aF)){aI.set(aC,aH+ar.toExceptionString(aJ,aF))}}});function m(aI,aL,aH,aG){var aJ=aI.length,aK=[],aF=0;for(;aF<aJ;aF++){aK=aK.concat(aI[aF].expand(aL,aH,aG))}return aK}az.create=function(aF){if(b(aF)||aF instanceof q.data.ObservableArray){aF={data:aF}}var aH=aF||{},aG=aH.data;aH.data=aG;if(!(aH instanceof az)&&aH instanceof q.data.DataSource){throw new Error("Incorrect DataSource type. Only SchedulerDataSource instances are supported")}return aH instanceof az?aH:new az(aH)};aa(true,q.data,{SchedulerDataSource:az,SchedulerDataReader:p,SchedulerEvent:G});var K={update:{text:"Save",className:"k-primary k-scheduler-update"},canceledit:{text:"Cancel",className:"k-scheduler-cancel"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-primary k-scheduler-delete",iconClass:"k-icon"}};function T(aF){delete aF.name;delete aF.prefix;delete aF.remove;delete aF.edit;delete aF.add;delete aF.navigate;return aF}function S(aF){aF=aF!=null?aF:"";return aF.type||an.type(aF)||"string"}function s(aJ,aN){var aF=(aJ.fields||aJ)[aN];var aI=["url","email","number","date","boolean"];var aG=aF?aF.validation:{};var aL=S(aF);var aH=q.attr("type");var aP=an.inArray;var aO;var aM;var aK={};for(aO in aG){aM=aG[aO];if(aP(aO,aI)>=0){aK[aH]=aO}else{if(!q.isFunction(aM)){aK[aO]=B(aM)?(aM.value||aO):aM}}aK[q.attr(aO+"-msg")]=aM.message}return aK}function aq(aH,aG){var aF=s(aG,aH.field);return function(aI){an(q.format('<select data-{0}bind="value:{1}">',q.ns,aH.field)).appendTo(aI).attr(aF).kendoDropDownList({dataTextField:aH.dataTextField,dataValueField:aH.dataValueField,dataSource:aH.dataSource,valuePrimitive:aH.valuePrimitive,optionLabel:"None",template:q.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',aH.dataColorField,aH.dataTextField)})}}function O(aG){var aF=s(aG.model,aG.field);return function(aH){an('<textarea name="description" class="k-textbox"/>').attr(aF).appendTo(aH)}}function e(aH,aG){var aF=s(aG,aH.field);return function(aI){an(q.format('<select data-{0}bind="value:{1}">',q.ns,aH.field)).appendTo(aI).attr(aF).kendoMultiSelect({dataTextField:aH.dataTextField,dataValueField:aH.dataValueField,dataSource:aH.dataSource,valuePrimitive:aH.valuePrimitive,itemTemplate:q.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',aH.dataColorField,aH.dataTextField),tagTemplate:q.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',aH.dataColorField,aH.dataTextField)})}}function y(aH,aG){var aF=s(aG,aH.field);return function(aK){var aL="";var aJ=aH.dataSource.view();for(var aI=0,aM=aJ.length;aI<aM;aI++){aL+=q.format('<option value="{0}">{1}</option>',q.getter(aH.dataValueField)(aJ[aI]),q.getter(aH.dataTextField)(aJ[aI]))}an(q.format('<select data-{0}bind="value:{1}" multiple="multiple" data-{0}value-primitive="{3}">{2}</select>',q.ns,aH.field,aL,aH.valuePrimitive)).appendTo(aK).attr(aF)}}function L(aG,aJ){var aH=aG.end.getTime()-aG.start.getTime();var aI=new Date(aG.start.getTime());q.date.setTime(aI,aJ);var aF=new Date(aI.getTime());q.date.setTime(aF,aH,true);return{start:aI,end:aF}}var n={mobile:{dateRange:aw,timezonePopUp:W,timezone:aj,recurrence:d,description:O,multipleResources:y,resources:aq},desktop:{dateRange:ac,timezonePopUp:A,timezone:ad,recurrence:at,description:O,multipleResources:e,resources:aq}};var Q=q.Observable.extend({init:function(aG,aF){q.Observable.fn.init.call(this);this.element=aG;this.options=aa(true,{},this.options,aF);this.createButton=this.options.createButton;this.toggleDateValidationHandler=x(this._toggleDateValidation,this)},_toggleDateValidation:function(aL){if(aL.field=="isAllDay"){var aG=this.container,aK=this.editable.options.model.isAllDay,aJ=q.attr("bind"),aI,aF,aH;aG.find("["+aJ+"*=end],["+aJ+"*=start]").each(function(){aI=an(this);if(aA.test(aI.attr(aJ))){aF=aI.is("["+q.attr("role")+"=datetimepicker],[type*=datetime]");aH=aK!==aF;aI.attr(q.attr("validate"),aH)}})}},fields:function(aM,aH){var aK=this;var aG=aK.options.messages;var aL=aK.options.timezone;var aN=function(aO){aO.preventDefault();aK._initTimezoneEditor(aH,this)};var aI=[{field:"title",title:aG.editor.title},{field:"start",title:aG.editor.start,editor:aM.dateRange,timezone:aL},{field:"end",title:aG.editor.end,editor:aM.dateRange,timezone:aL},{field:"isAllDay",title:aG.editor.allDayEvent}];if(q.timezone.windows_zones){aI.push({field:"timezone",title:aG.editor.timezone,editor:aM.timezonePopUp,click:aN,messages:aG.editor,model:aH});aI.push({field:"startTimezone",title:aG.editor.startTimezone,editor:aM.timezone,noTimezone:aG.editor.noTimezone});aI.push({field:"endTimezone",title:aG.editor.endTimezone,editor:aM.timezone,noTimezone:aG.editor.noTimezone})}if(!aH.recurrenceId){aI.push({field:"recurrenceRule",title:aG.editor.repeat,editor:aM.recurrence,timezone:aL,messages:aG.recurrenceEditor,pane:this.pane})}if("description" in aH){aI.push({field:"description",title:aG.editor.description,editor:aM.description({model:aH,field:"description"})})}for(var aJ=0;aJ<this.options.resources.length;aJ++){var aF=this.options.resources[aJ];aI.push({field:aF.field,title:aF.title,editor:aF.multiple?aM.multipleResources(aF,aH):aM.resources(aF,aH)})}return aI},end:function(){return this.editable.end()},_buildEditTemplate:function(aK,aL,aQ){var aH=this.options.messages;var aG=aa({},q.Template,this.options.templateSettings);var aI=aG.paramName;var aP=this.options.editable.template;var aJ="";if(aP){if(typeof aP===av){aP=window.unescape(aP)}aJ+=(q.template(aP,aG))(aK)}else{for(var aO=0,aF=aL.length;aO<aF;aO++){var aN=aL[aO];if(aN.field==="startTimezone"){aJ+='<div class="k-popup-edit-form k-scheduler-edit-form k-scheduler-timezones" style="display:none">';aJ+='<div class="k-edit-form-container">';aJ+='<div class="k-edit-label"></div>';aJ+='<div class="k-edit-field"><label class="k-check"><input class="k-timezone-toggle" type="checkbox" />'+aH.editor.separateTimezones+"</label></div>"}aJ+='<div class="k-edit-label"><label for="'+aN.field+'">'+(aN.title||aN.field||"")+"</label></div>";if((!aK.editable||aK.editable(aN.field))){aQ.push(aN);aJ+="<div "+q.attr("container-for")+'="'+aN.field+'" class="k-edit-field"></div>'}else{var aM="#:";if(aN.field){aN=q.expr(aN.field,aI);aM+=aN+"==null?'':"+aN}else{aM+="''"}aM+="#";aM=q.template(aM,aG);aJ+='<div class="k-edit-field">'+aM(aK)+"</div>"}if(aN.field==="endTimezone"){aJ+=this._createEndTimezoneButton()}}}return aJ},_createEndTimezoneButton:function(){return"</div></div>"},_revertTimezones:function(aF){aF.set("startTimezone",this._startTimezone);aF.set("endTimezone",this._endTimezone);delete this._startTimezone;delete this._endTimezone}});var h=Q.extend({init:function(){Q.fn.init.apply(this,arguments);this.pane=q.mobile.ui.Pane.wrap(this.element);this.pane.element.parent().css("height",this.options.height);this.view=this.pane.view();this._actionSheetButtonTemplate=q.template('<li><a #=attr# class="k-button #=className#" href="\\#">#:text#</a></li>');this._actionSheetPopupOptions=an(document.documentElement).hasClass("km-root")?{modal:false}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"}},options:{animations:{left:"slide",right:"slide:right"}},destroy:function(){this.close();this.unbind();this.pane.destroy()},_initTimezoneEditor:function(aL){var aN=this;var aI=aN.pane;var aJ=aN.options.messages;var aF=aN.timezoneView;var aH=aN.container.find(".k-scheduler-timezones");var aM=aH.find(".k-timezone-toggle");var aO=aH.find(".k-edit-label:last").add(aH.find(".k-edit-field:last"));var aG=function(aQ){if(aQ.field==="startTimezone"){var aP=aL.startTimezone;aM.prop("disabled",!aP);if(!aP){aO.hide();aL.set("endTimezone","");aM.prop("checked",false)}}};aN._startTimezone=aL.startTimezone||"";aN._endTimezone=aL.endTimezone||"";if(!aF){var aK='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+aJ.cancel+"</a>"+aJ.editor.timezoneTitle+'<a href="#" class="k-button k-scheduler-update">'+aJ.save+"</a></div></div>";this.timezoneView=aF=aI.append(aK);aF.contentElement().append(aH.show());aF.element.on(al+au,".k-scheduler-cancel, .k-scheduler-update",function(aP){aP.preventDefault();aP.stopPropagation();if(an(this).hasClass("k-scheduler-cancel")){aN._revertTimezones(aL)}aL.unbind("change",aG);var aR=aI.element.find("#edit").data("kendoMobileView");var aQ=aD(aL,aJ.editor.noTimezone);aR.contentElement().find(".k-timezone-button").text(aQ);aI.navigate(aR,aN.options.animations.right)});aM.click(function(){aO.toggle(aM.prop("checked"));aL.set("endTimezone","")});aL.bind("change",aG)}aM.prop("checked",aL.endTimezone).prop("disabled",!aL.startTimezone);if(aL.endTimezone){aO.show()}else{aO.hide()}aI.navigate(aF,aN.options.animations.left)},_createActionSheetButton:function(aF){aF.template=this._actionSheetButtonTemplate;return this.createButton(aF)},showDialog:function(aF){var aI="";var aG='<ul><li class="km-actionsheet-title">'+aF.title+"</li>";var aK=this.element.find(".k-event["+q.attr("uid")+"='"+aF.model.uid+"']");if(this.container){aK=this.container.find(".k-scheduler-delete");if(aK[0]){aI="phone"}}for(var aJ=0;aJ<aF.buttons.length;aJ++){aG+=this._createActionSheetButton(aF.buttons[aJ])}aG+="</ul>";var aH=an(aG).appendTo(this.pane.view().element).kendoMobileActionSheet({type:aI,cancel:this.options.messages.cancel,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(aM){var aL=aH.element.find("li:not(.km-actionsheet-cancel) > .k-button").index(an(aM.currentTarget));if(aL>-1){aH.close();aF.buttons[aL].click()}},popup:this._actionSheetPopupOptions}).data("kendoMobileActionSheet");aH.open(aK)},editEvent:function(aL){var aH=this.pane;var aK="";var aJ=this.options.messages;var aG=aJ.save;var aP=aJ.destroy;var aI=aJ.cancel;var aR=aJ.editor.editorTitle;aK+='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="edit" '+q.attr("uid")+'="'+aL.uid+'"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+aI+"</a>"+aR+'<a href="#" class="k-button k-scheduler-update">'+aG+"</a></div>";var aM=this.fields(n.mobile,aL);var aN=this;var aQ=[];aK+=this._buildEditTemplate(aL,aM,aQ);if(!aL.isNew()&&this.options.editable&&this.options.editable.destroy!==false){aK+='<div class="k-edit-buttons"><a href="#" class="k-scheduler-delete k-button">'+aP+"</a></div>"}aK+="</div>";var aO=aH.append(aK);var aF=this.container=aO.element;this.editable=aF.kendoEditable({fields:aQ,model:aL,clearContainer:false,target:aN.options.target,validateOnBlur:true}).data("kendoEditable");aF.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){an(this).next().children("input").click()});if(!this.trigger("edit",{container:aF,model:aL})){aF.on(al+au,"a.k-scheduler-edit, a.k-scheduler-cancel, a.k-scheduler-update, a.k-scheduler-delete",function(aU){aU.preventDefault();aU.stopPropagation();var aT=an(this);if(!aT.hasClass("k-scheduler-edit")){var aS="cancel";if(aT.hasClass("k-scheduler-update")){aS="save"}else{if(aT.hasClass("k-scheduler-delete")){aS="remove"}}aN.trigger(aS,{container:aF,model:aL})}else{aH.navigate("#edit",aN.options.animations.right)}});aH.navigate(aO,aN.options.animations.left);aL.bind("change",aN.toggleDateValidationHandler)}else{this.trigger("cancel",{container:aF,model:aL})}return this.editable},_views:function(){return this.pane.element.find(q.roleSelector("view")).not(this.view.element)},close:function(){if(this.container){this.pane.navigate("",this.options.animations.right);var aH=this._views();var aG;for(var aF=0,aI=aH.length;aF<aI;aF++){aG=aH.eq(aF).data("kendoMobileView");if(aG){aG.purge()}}aH.remove();this.container=null;if(this.editable){this.editable.options.model.unbind("change",this.toggleDateValidationHandler);this.editable.destroy();this.editable=null}this.timezoneView=null}}});var ap=Q.extend({destroy:function(){this.close();this.unbind()},editEvent:function(aM){var aO=this;var aI=aO.options.editable;var aL="<div "+q.attr("uid")+'="'+aM.uid+'" class="k-popup-edit-form k-scheduler-edit-form"><div class="k-edit-form-container">';var aK=aO.options.messages;var aH=aK.save;var aJ=aK.cancel;var aG=aK.destroy;var aN=this.fields(n.desktop,aM);var aQ=[];aL+=this._buildEditTemplate(aM,aN,aQ);var aP;var aR=B(aI)?aI.window:{};aL+='<div class="k-edit-buttons k-state-default">';aL+=this.createButton({name:"update",text:aH,attr:aP})+this.createButton({name:"canceledit",text:aJ,attr:aP});if(!aM.isNew()&&aI.destroy!==false){aL+=this.createButton({name:"delete",text:aG,attr:aP})}aL+="</div></div></div>";var aF=this.container=an(aL).appendTo(aO.element).eq(0).kendoWindow(aa({modal:true,resizable:false,draggable:true,title:aK.editor.editorTitle,visible:false,close:function(aS){if(aS.userTriggered){if(aO.trigger(Y,{container:aF,model:aM})){aS.preventDefault()}}}},aR));aO.editable=aF.kendoEditable({fields:aQ,model:aM,clearContainer:false,validateOnBlur:true,target:aO.options.target}).data("kendoEditable");if(!aO.trigger(E,{container:aF,model:aM})){aF.data("kendoWindow").center().open();aF.on(al+au,"a.k-scheduler-cancel",function(aS){aS.preventDefault();aS.stopPropagation();aO.trigger(Y,{container:aF,model:aM})});aF.on(al+au,"a.k-scheduler-update",function(aS){aS.preventDefault();aS.stopPropagation();aO.trigger("save",{container:aF,model:aM})});aF.on(al+au,"a.k-scheduler-delete",function(aS){aS.preventDefault();aS.stopPropagation();aO.trigger(aB,{container:aF,model:aM})});aM.bind("change",aO.toggleDateValidationHandler)}else{aO.trigger(Y,{container:aF,model:aM})}return aO.editable},close:function(){var aG=this;var aF=function(){if(aG.editable){aG.editable.options.model.unbind("change",aG.toggleDateValidationHandler);aG.editable.destroy();aG.editable=null;aG.container=null}if(aG.popup){aG.popup.destroy();aG.popup=null}};if(aG.editable){if(aG._timezonePopup&&aG._timezonePopup.data("kendoWindow")){aG._timezonePopup.data("kendoWindow").destroy();aG._timezonePopup=null}if(aG.container.is(":visible")){aG.container.data("kendoWindow").bind("deactivate",aF).close()}else{aF()}}else{aF()}},_createEndTimezoneButton:function(){var aG=this.options.messages;var aF="";aF+='<div class="k-edit-buttons k-state-default">';aF+=this.createButton({name:"savetimezone",text:aG.save})+this.createButton({name:"canceltimezone",text:aG.cancel});aF+="</div></div></div>";return aF},showDialog:function(aG){var aH=q.format("<div class='k-popup-edit-form'><div class='k-edit-form-container'><p class='k-popup-message'>{0}</p>",aG.text);aH+='<div class="k-edit-buttons k-state-default">';for(var aI=0;aI<aG.buttons.length;aI++){aH+=this.createButton(aG.buttons[aI])}aH+="</div></div></div>";var aJ=this.element;if(this.popup){this.popup.destroy()}var aF=this.popup=an(aH).appendTo(aJ).eq(0).on("click",".k-button",function(aL){aL.preventDefault();aF.close();var aK=an(aL.currentTarget).index();aG.buttons[aK].click()}).kendoWindow({modal:true,resizable:false,draggable:false,title:aG.title,visible:false,close:function(){this.destroy();aJ.focus()}}).getKendoWindow();aF.center().open()},_initTimezoneEditor:function(aK,aM){var aN=this;var aG=aN.container.find(".k-scheduler-timezones");var aL=aG.find(".k-timezone-toggle");var aO=aG.find(".k-edit-label:last").add(aG.find(".k-edit-field:last"));var aJ=aG.find(".k-scheduler-savetimezone");var aH=aG.find(".k-scheduler-canceltimezone");var aP=aN._timezonePopup;var aF=function(aR){if(aR.field==="startTimezone"){var aQ=aK.startTimezone;aL.prop("disabled",!aQ);if(!aQ){aO.hide();aK.set("endTimezone","");aL.prop("checked",false)}}};var aI;aN._startTimezone=aK.startTimezone;aN._endTimezone=aK.endTimezone;if(!aP){aN._timezonePopup=aP=aG.kendoWindow({modal:true,resizable:false,draggable:true,title:aN.options.messages.editor.timezoneEditorTitle,visible:false,close:function(aQ){aK.unbind("change",aF);if(aQ.userTriggered){aN._revertTimezones(aK)}if(aM){aM.focus()}}});aL.click(function(){aO.toggle(aL.prop("checked"));aK.set("endTimezone","")});aJ.click(function(aQ){aQ.preventDefault();aI.close()});aH.click(function(aQ){aQ.preventDefault();aN._revertTimezones(aK);aI.close()});aK.bind("change",aF)}aL.prop("checked",aK.endTimezone).prop("disabled",!aK.startTimezone);if(aK.endTimezone){aO.show()}else{aO.hide()}aI=aP.data("kendoWindow");aI.center().open()}});var k=c.extend({init:function(aG,aF){var aH=this;i.fn.init.call(aH,aG,aF);if(!aH.options.views||!aH.options.views.length){aH.options.views=["day","week"]}aH.resources=[];aH._initModel();aH._wrapper();aH._views();aH._toolbar();aH._dataSource();aH._resources();aH._resizeHandler=function(){aH.resize()};aH.wrapper.on("mousedown"+au+" selectstart"+au,function(aI){if(!an(aI.target).is(":kendoFocusable")){aI.preventDefault()}});if(aH.options.editable&&aH.options.editable.resize!==false){aH._resizable()}aH._movable();aH._bindResize();if(aH.options.messages&&aH.options.messages.recurrence){ar.options=aH.options.messages.recurrence}aH._selectable();aH._ariaId=q.guid();aH._createEditor()},_bindResize:function(){an(window).on("resize"+au,this._resizeHandler)},_unbindResize:function(){an(window).off("resize"+au,this._resizeHandler)},dataItems:function(){var aL=this;var aM=aL.items();var aP=aL._data;var aK=an.map(aM,function(aQ){return an(aQ).attr("data-uid")});var aI;var aO;var aG={};var aH=aK.length;for(aI=0;aI<aH;aI++){aG[aK[aI]]=null}var aJ=aP.length;for(aI=0;aI<aJ;aI++){var aF=aP[aI];if(aG[aF.uid]!==w){aG[aF.uid]=aF}}var aN=[];for(aO in aG){aN.push(aG[aO])}return aN},_isMobile:function(){var aF=this.options;return(aF.mobile===true&&q.support.mobileOS)||aF.mobile==="phone"||aF.mobile==="tablet"},_isMobilePhoneView:function(){var aF=this.options;return(aF.mobile===true&&q.support.mobileOS&&!q.support.mobileOS.tablet)||aF.mobile==="phone"},_groupsByResource:function(aH,aQ,aI,aG,aN){if(!aI){aI=[]}var aK=aH[0];if(aK){var aP;var aL=aK.dataSource.view();var aJ=0;for(var aO=0;aO<aL.length;aO++){var aF=q.getter(aK.dataValueField)(aL[aO]);var aM=aQ+aJ+aO;aP=this._groupsByResource(aH.slice(1),aM,aI,aF,aK.field);aP[aK.field]=aF;aJ=aP.groupIndex;if(aN&&aG){aP[aN]=aG}if(aH.length===1){aP.groupIndex=aQ+aO;aI.push(aP)}}return aP}else{return{}}},data:function(){return this._data},select:function(aT){var aL=this;var aN=aL.view();var aO=aL._selection;var aK=aN.groups;var aH;if(aT===w){var aP;var aM=aN._selectedSlots;if(!aO){return[]}if(aO&&aO.events){aP=aL._selectedEvents()}return{start:aO.start,end:aO.end,events:aP,slots:aM,resources:aN._resourceBySlot(aO)}}if(!aT){aL._selection=null;aN.clearSelection();return}if(an.isArray(aT)){aT={events:aT.splice(0)}}if(aT.resources){var aS;var aJ=[];var aI=[];if(aN.groupedResources){aL._groupsByResource(aN.groupedResources,0,aI)}for(aS in aT.resources){aJ.push({field:aS,operator:"eq",value:aT.resources[aS]})}aH=new q.data.Query(aI).filter(aJ).toArray()}if(aT.events&&aT.events.length){aL._selectEvents(aT.events,aH);aL._select();return}if(aK&&(aT.start&&aT.end)){var aR=ax(aN._startDate);var aG=q.date.addDays(ax(aN._endDate),1);var aQ;var aF;if(aT.start<aG&&aR<=aT.end){if(aH&&aH.length){aQ=aK[aH[0].groupIndex]}else{aQ=aK[0]}aF=aQ.ranges(aT.start,aT.end,aT.isAllDay,false);if(aF.length){aL._selection={start:q.timezone.toLocalDate(aF[0].start.start),end:q.timezone.toLocalDate(aF[aF.length-1].end.end),groupIndex:aF[0].start.groupIndex,index:aF[0].start.index,isAllDay:aF[0].start.isDaySlot,events:[]};aL._select()}}}},_selectEvents:function(aL,aG){var aM=this;var aP;var aO=aM.view();var aJ=aO.groups;var aN=aL.length;var aQ=aG&&aG.length;for(aP=0;aP<aN;aP++){if(aJ&&aQ){var aR=aJ[aG[0].groupIndex];var aS=[];var aI=aR.timeSlotCollectionCount();var aH=aR.daySlotCollectionCount();for(var aF=0;aF<aI;aF++){aS=aS.concat(aR.getTimeSlotCollection(aF).events())}for(var aT=0;aT<aH;aT++){aS=aS.concat(aR.getDaySlotCollection(aT).events())}aS=new q.data.Query(aS).filter({field:"element[0].getAttribute('data-uid')",operator:"eq",value:aL[aP]}).toArray();if(aS[0]){aM._createSelection(aS[0].element)}}else{var aK=aO.element.find(q.format(".k-event[data-uid={0}], .k-task[data-uid={0}]",aL[aP]));if(aK.length){aM._createSelection(aK[0])}}}},_selectable:function(){var aH=this,aI=aH.wrapper,aG=q.support.mobileOS?"touchend":"mousedown";if(!aH.options.selectable){return}aH._tabindex();aI.on(aG+au,".k-scheduler-header-all-day td, .k-scheduler-content td, .k-event",function(aM){var aN=aM.which;var aK=aM.button;var aJ=q.support.browser;var aL=aN&&aN===3||aK&&aK==2;if(q.support.mobileOS&&aM.isDefaultPrevented()){return}if(!aL){aH._createSelection(aM.currentTarget)}aI.focus();if(aJ.msie&&aJ.version<9){setTimeout(function(){aI.focus()})}});var aF=an.proxy(aH._mouseMove,aH);aI.on("mousedown"+au,".k-scheduler-header-all-day td, .k-scheduler-content td",function(aL){var aM=aL.which;var aJ=aL.button;var aK=aM&&aM===3||aJ&&aJ==2;if(!aK){aI.on("mousemove"+au,".k-scheduler-header-all-day td, .k-scheduler-content td",aF)}});aI.on("mouseup"+au+" mouseleave"+au,function(){aI.off("mousemove"+au,".k-scheduler-header-all-day td, .k-scheduler-content td",aF)});aI.on("focus"+au,function(){if(!aH._selection){aH._createSelection(aH.wrapper.find(".k-scheduler-content").find("td:first"))}aH._select()});aI.on("focusout"+au,function(){aH.view().clearSelection();aH._ctrlKey=aH._shiftKey=false});aI.on("keydown"+au,x(aH._keydown,aH));aI.on("keyup"+au,function(aJ){aH._ctrlKey=aJ.ctrlKey;aH._shiftKey=aJ.shiftKey})},_select:function(){var aJ=this;var aM=aJ.view();var aF=aJ.wrapper;var aL=aM.current();var aN=aJ._selection;if(aL){aL.removeAttribute("id");aL.removeAttribute("aria-label");aF.removeAttr("aria-activedescendant")}aM.select(aN);aL=aM.current();if(aL&&aJ._old!==aL){var aH=an(aL).data("uid");if(aJ._old&&aH&&aH===an(aJ._old).data("uid")){return}var aG;var aI=aN;var aO=aJ._selectedEvents();var aK=aM._selectedSlots;if(aO[0]){aI=aO[0]||aN;aG=q.format(aJ.options.messages.ariaEventLabel,aI.title,aI.start,aI.start)}else{aG=q.format(aJ.options.messages.ariaSlotLabel,aI.start,aI.end)}aL.setAttribute("id",aJ._ariaId);aL.setAttribute("aria-label",aG);aF.attr("aria-activedescendant",aJ._ariaId);aJ._old=aL;aJ.trigger("change",{start:aN.start,end:aN.end,events:aO,slots:aK,resources:aM._resourceBySlot(aN)})}},_selectedEvents:function(){var aJ=this._selection.events;var aI=aJ.length;var aF=0;var aH;var aG=[];for(;aF<aI;aF++){aH=this.occurrenceByUid(aJ[aF]);if(aH){aG.push(aH)}}return aG},_mouseMove:function(aG){var aF=this;clearTimeout(aF._moveTimer);aF._moveTimer=setTimeout(function(){var aI=aF.view();var aJ=aF._selection;if(aJ){var aL=aI.selectionByElement(an(aG.currentTarget));if(aL&&aJ.groupIndex===aL.groupIndex){var aH=aL.startDate();var aK=aL.endDate();if(aH>=aJ.end){aJ.backward=false}else{if(aK<=aJ.start){aJ.backward=true}}if(aJ.backward){aJ.start=aH}else{aJ.end=aK}aF._select()}}},5)},_viewByIndex:function(aH){var aG,aF=this.views;for(aG in aF){if(!aH){return aG}aH--}},_keydown:function(aL){var aK=this,aI=aL.keyCode,aF=aK.view(),aH=aF.options.editable,aJ=aK._selection,aG=aL.shiftKey;aK._ctrlKey=aL.ctrlKey;aK._shiftKey=aL.shiftKey;if(aI===F.TAB){if(aF.moveToEvent(aJ,aG)){aK._select();aL.preventDefault()}}else{if(aH&&aI===F.ENTER){if(aJ.events.length){if(aH.update!==false){aK.editEvent(aJ.events[0])}}else{if(aH.create!==false){if(aJ.isAllDay){aJ=an.extend({},aJ,{end:q.date.addDays(aJ.end,-1)})}aK.addEvent(aa({},aJ,aF._resourceBySlot(aJ)))}}}else{if(aI===F.DELETE&&aH!==false&&aH.destroy!==false){aK.removeEvent(aJ.events[0])}else{if(aI>=49&&aI<=57){aK.view(aK._viewByIndex(aI-49))}else{if(aF.move(aJ,aI,aG)){if(aF.inRange(aJ)){aK._select()}else{aK.date(aJ.start)}aL.preventDefault()}}}}}aK._adjustSelectedDate()},_createSelection:function(aH){var aF,aI,aG;if(!this._selection||(!this._ctrlKey&&!this._shiftKey)){this._selection={events:[],groupIndex:0}}aH=an(aH);aG=this._selection;if(aH.is(".k-event")){aF=aH.attr(q.attr("uid"))}aI=this.view().selectionByElement(aH);if(aI){aG.groupIndex=aI.groupIndex||0}if(aF){aI=aE(this._data,aF)}if(aI&&aI.uid){aF=[aI.uid]}this._updateSelection(aI,aF);this._adjustSelectedDate()},_updateSelection:function(aG,aH){var aI=this._selection;if(aG&&aI){var aF=this.view();if(aG.uid){aG=aF._updateEventForSelection(aG)}if(this._shiftKey&&aI.start&&aI.end){var aJ=aG.end<aI.end;aI.end=aG.endDate?aG.endDate():aG.end;if(aJ&&aF._timeSlotInterval){q.date.setTime(aI.end,-aF._timeSlotInterval())}}else{aI.start=aG.startDate?aG.startDate():aG.start;aI.end=aG.endDate?aG.endDate():aG.end}if("isDaySlot" in aG){aI.isAllDay=aG.isDaySlot}else{aI.isAllDay=aG.isAllDay}aI.index=aG.index;if(this._ctrlKey){aI.events=aI.events.concat(aH||[])}else{aI.events=aH||[]}}},options:{name:"Scheduler",date:f,editable:true,autoBind:true,snap:true,mobile:false,timezone:"",allDaySlot:true,min:new Date(1900,0,1),max:new Date(2099,11,31),toolbar:null,messages:{today:"Today",pdf:"Export to PDF",save:"Save",cancel:"Cancel",destroy:"Delete",deleteWindowTitle:"Delete event",ariaSlotLabel:"Selected from {0:t} to {1:t}",ariaEventLabel:"{0} on {1:D} at {2:t}",views:{day:"Day",week:"Week",workWeek:"Work Week",agenda:"Agenda",month:"Month",timeline:"Timeline",timelineWeek:"Timeline Week",timelineWorkWeek:"Timeline Work Week",timelineMonth:"Timeline Month"},recurrenceMessages:{deleteWindowTitle:"Delete Recurring Item",deleteWindowOccurrence:"Delete current occurrence",deleteWindowSeries:"Delete the series",editWindowTitle:"Edit Recurring Item",editWindowOccurrence:"Edit current occurrence",editWindowSeries:"Edit the series"},editor:{title:"Title",start:"Start",end:"End",allDayEvent:"All day event",description:"Description",repeat:"Repeat",timezone:" ",startTimezone:"Start timezone",endTimezone:"End timezone",separateTimezones:"Use separate start and end time zones",timezoneEditorTitle:"Timezones",timezoneEditorButton:"Time zone",timezoneTitle:"Time zones",noTimezone:"No timezone",editorTitle:"Event"}},height:null,width:null,resources:[],group:{resources:[],direction:"horizontal"},views:[],selectable:false},events:[aB,E,Y,am,"add","dataBinding","dataBound","moveStart","move","moveEnd","resizeStart","resize","resizeEnd","navigate","change"],destroy:function(){var aG=this,aF;i.fn.destroy.call(aG);if(aG.dataSource){aG.dataSource.unbind(D,aG._refreshHandler);aG.dataSource.unbind("progress",aG._progressHandler);aG.dataSource.unbind("error",aG._errorHandler)}if(aG.calendar){aG.calendar.destroy();aG.popup.destroy()}if(aG.view()){aG.view().destroy()}if(aG._editor){aG._editor.destroy()}if(this._moveDraggable){this._moveDraggable.destroy()}if(this._resizeDraggable){this._resizeDraggable.destroy()}aF=aG.element.add(aG.wrapper).add(aG.toolbar).add(aG.popup);aF.off(au);clearTimeout(aG._moveTimer);aG._model=null;aG.toolbar=null;aG.element=null;an(window).off("resize"+au,aG._resizeHandler);q.destroy(aG.wrapper)},setDataSource:function(aF){this.options.dataSource=aF;this._dataSource();if(this.options.autoBind){aF.fetch()}},items:function(){return this.wrapper.find(".k-scheduler-content").children(".k-event, .k-task")},_movable:function(){var aN;var aH;var aJ;var aK;var aG;var aI;var aL=this;var aM=aL._isMobile();var aO=aL.options.editable&&aL.options.editable.move!==false;var aF=aL.options.editable&&aL.options.editable.resize!==false;if(aO||(aF&&aM)){aL._moveDraggable=new q.ui.Draggable(aL.element,{distance:0,filter:".k-event",ignore:".k-resize-handle",holdToDrag:aM});if(aO){aL._moveDraggable.bind("dragstart",function(aR){var aP=aL.view();var aQ=aR.currentTarget;if(!aP.options.editable||aP.options.editable.move===false){aR.preventDefault();return}if(aM&&!aQ.hasClass("k-event-active")){aL.element.find(".k-event-active").removeClass("k-event-active");aR.preventDefault();return}aG=aL.occurrenceByUid(aQ.attr(q.attr("uid")));aI=aG.clone();aP._updateEventForMove(aI);aN=aP._slotByPosition(aR.x.startLocation,aR.y.startLocation);aJ=aN.startOffset(aR.x.startLocation,aR.y.startLocation,aL.options.snap);aH=aN;if(!aN||aL.trigger("moveStart",{event:aG})){aR.preventDefault()}}).bind("drag",function(aR){var aP=aL.view();var aT=aP._slotByPosition(aR.x.location,aR.y.location);if(!aT){return}aK=aT.startOffset(aR.x.location,aR.y.location,aL.options.snap);var aS=aK-aJ;aP._updateMoveHint(aI,aT.groupIndex,aS);var aQ=L(aI,aS);if(!aL.trigger("move",{event:aG,slot:{element:aT.element,start:aT.startDate(),end:aT.endDate()},resources:aP._resourceBySlot(aT),start:aQ.start,end:aQ.end})){aH=aT}else{aP._updateMoveHint(aI,aT.groupIndex,aS)}}).bind("dragend",function(aU){aL.view()._removeMoveHint();var aW=aK-aJ;var aS=L(aI,aW);var aV=aS.start;var aR=aS.end;var aQ=aL.view()._resourceBySlot(aH);var aP=aL.view()._resourceBySlot(aN);var aT=aL.trigger("moveEnd",{event:aG,slot:{element:aH.element,start:aH.startDate(),end:aH.endDate()},start:aV,end:aR,resources:aQ});if(!aT&&(aI.start.getTime()!=aV.getTime()||aI.end.getTime()!=aR.getTime()||q.stringify(aQ)!=q.stringify(aP))){aL.view()._updateEventForMove(aG);aL._updateEvent(null,aG,an.extend({start:aV,end:aR},aQ))}aU.currentTarget.removeClass("k-event-active");this.cancelHold()}).bind("dragcancel",function(){aL.view()._removeMoveHint();this.cancelHold()})}if(aM){aL._moveDraggable.bind("hold",function(aP){if(aL.element.find(".k-scheduler-monthview").length){aP.preventDefault()}aL.element.find(".k-event-active").removeClass("k-event-active");aP.currentTarget.addClass("k-event-active")});aL._moveDraggable.userEvents.bind("press",function(aP){aP.preventDefault()})}}},_resizable:function(){var aH;var aF;var aJ;var aG;var aL;var aI=this;function aK(aN){var aO={"k-resize-e":"east","k-resize-w":"west","k-resize-n":"north","k-resize-s":"south"};for(var aM in aO){if(aN.hasClass(aM)){return aO[aM]}}}aI._resizeDraggable=new q.ui.Draggable(aI.element,{distance:0,filter:".k-resize-handle",dragstart:function(aQ){var aM=an(aQ.currentTarget);var aO=aM.closest(".k-event");var aP=aO.attr(q.attr("uid"));var aN=aI.view();aJ=aI.occurrenceByUid(aP);aG=aJ.clone();aN._updateEventForResize(aG);aL=aN._slotByPosition(aQ.x.startLocation,aQ.y.startLocation);if(aI.trigger("resizeStart",{event:aJ})){aQ.preventDefault()}aH=q.date.toUtcTime(aG.start);aF=q.date.toUtcTime(aG.end)},drag:function(aS){if(!aL){return}var aM=an(aS.currentTarget);var aP=aK(aM);var aN=aI.view();var aR=aN._slotByPosition(aS.x.location,aS.y.location);if(!aR||aL.groupIndex!=aR.groupIndex){return}aL=aR;var aQ=aH;var aO=aF;if(aP=="south"){if(!aL.isDaySlot&&aL.end-q.date.toUtcTime(aG.start)>=aN._timeSlotInterval()){if(aG.isAllDay){aF=aL.startOffset(aS.x.location,aS.y.location,aI.options.snap)}else{aF=aL.endOffset(aS.x.location,aS.y.location,aI.options.snap)}}}else{if(aP=="north"){if(!aL.isDaySlot&&q.date.toUtcTime(aG.end)-aL.start>=aN._timeSlotInterval()){aH=aL.startOffset(aS.x.location,aS.y.location,aI.options.snap)}}else{if(aP=="east"){if(aL.isDaySlot&&q.date.toUtcTime(q.date.getDate(aL.endDate()))>=q.date.toUtcTime(q.date.getDate(aG.start))){if(aG.isAllDay){aF=aL.startOffset(aS.x.location,aS.y.location,aI.options.snap)}else{aF=aL.endOffset(aS.x.location,aS.y.location,aI.options.snap)}}else{if(!aL.isDaySlot&&aL.end-q.date.toUtcTime(aG.start)>=aN._timeSlotInterval()){aF=aL.endOffset(aS.x.location,aS.y.location,aI.options.snap)}}}else{if(aP=="west"){if(aL.isDaySlot&&q.date.toUtcTime(q.date.getDate(aG.end))>=q.date.toUtcTime(q.date.getDate(aL.startDate()))){aH=aL.startOffset(aS.x.location,aS.y.location,aI.options.snap)}else{if(!aL.isDaySlot&&q.date.toUtcTime(aG.end)-aL.start>=aN._timeSlotInterval()){aH=aL.startOffset(aS.x.location,aS.y.location,aI.options.snap)}}}}}}if(!aI.trigger("resize",{event:aJ,slot:{element:aL.element,start:aL.startDate(),end:aL.endDate()},start:q.timezone.toLocalDate(aH),end:q.timezone.toLocalDate(aF),resources:aN._resourceBySlot(aL)})){aN._updateResizeHint(aG,aL.groupIndex,aH,aF)}else{aH=aQ;aF=aO}},dragend:function(aQ){var aM=an(aQ.currentTarget);var aR=new Date(aG.start.getTime());var aN=new Date(aG.end.getTime());var aO=aK(aM);aI.view()._removeResizeHint();if(aO=="south"){aN=q.timezone.toLocalDate(aF)}else{if(aO=="north"){aR=q.timezone.toLocalDate(aH)}else{if(aO=="east"){if(aL.isDaySlot){aN=q.date.getDate(q.timezone.toLocalDate(aF))}else{aN=q.timezone.toLocalDate(aF)}}else{if(aO=="west"){if(aL.isDaySlot){aR=new Date(q.timezone.toLocalDate(aH));aR.setHours(0);aR.setMinutes(0)}else{aR=q.timezone.toLocalDate(aH)}}}}}var aP=aI.trigger("resizeEnd",{event:aJ,slot:{element:aL.element,start:aL.startDate(),end:aL.endDate()},start:aR,end:aN,resources:aI.view()._resourceBySlot(aL)});if(!aP&&aN.getTime()>=aR.getTime()){if(aG.start.getTime()!=aR.getTime()||aG.end.getTime()!=aN.getTime()){aI.view()._updateEventForResize(aJ);aI._updateEvent(aO,aJ,{start:aR,end:aN})}}aL=null;aJ=null},dragcancel:function(){aI.view()._removeResizeHint();aL=null;aJ=null}})},_updateEvent:function(aI,aF,aK){var aJ=this;var aN=function(aO,aP){try{aJ._preventRefresh=true;aO.update(aK);aJ._convertDates(aO)}finally{aJ._preventRefresh=false}if(!aJ.trigger(am,{event:aO})){if(aP){aP()}aJ._updateSelection(aO);aJ.dataSource.sync()}};var aH=function(aO){if(aO.recurrenceRule){return aJ.dataSource.getByUid(aO.uid)}else{return aJ.dataSource.get(aO.recurrenceId)}};var aL=function(){var aP=aH(aF);if(aI=="south"||aI=="north"){if(aK.start){var aQ=q.date.getDate(aP.start);q.date.setTime(aQ,V(aK.start));aK.start=aQ}if(aK.end){var aO=q.date.getDate(aP.end);q.date.setTime(aO,V(aK.end));aK.end=aO}}aJ.dataSource._removeExceptions(aP);aN(aP)};var aG=function(){var aP=aH(aF);var aQ=function(){aJ._convertDates(aP)};var aO=aP.toOccurrence({start:aF.start,end:aF.end});aN(aJ.dataSource.add(aO),aQ)};if(aF.recurrenceRule||aF.isOccurrence()){var aM=aJ.options.messages.recurrenceMessages;aJ._showRecurringDialog(aF,aG,aL,{title:aM.editWindowTitle,text:aM.editRecurring?aM.editRecurring:H,occurrenceText:aM.editWindowOccurrence,seriesText:aM.editWindowSeries})}else{aN(aJ.dataSource.getByUid(aF.uid))}},_modelForContainer:function(aF){aF=an(aF).closest("["+q.attr("uid")+"]");return this.dataSource.getByUid(aF.attr(q.attr("uid")))},showDialog:function(aF){this._editor.showDialog(aF)},focus:function(){this.wrapper.focus()},_confirmation:function(aK,aF){var aG=this.options.editable;if(aG===true||aG.confirmation!==false){var aI=this.options.messages;var aJ=typeof aG.confirmation===av?aG.confirmation:j;var aH=[{name:"destroy",text:aI.destroy,click:function(){aK()}}];if(!(this._isMobile()&&q.mobile.ui.Pane)){aH.push({name:"canceledit",text:aI.cancel,click:function(){aK(true)}})}this._unbindResize();this.showDialog({model:aF,text:aJ,title:aI.deleteWindowTitle,buttons:aH});this._bindResize()}else{aK()}},addEvent:function(aI){var aF=this._editor.editable;var aJ=this.dataSource;var aG;aI=aI||{};var aH=this.trigger("add",{event:aI});if(!aH&&((aF&&aF.end())||!aF)){this.cancelEvent();if(aI&&aI.toJSON){aI=aI.toJSON()}aG=aJ.add(aI);if(aG){this.cancelEvent();this._editEvent(aG)}}},saveEvent:function(){var aI=this._editor;if(!aI){return}var aH=aI.editable;var aF=aI.container;var aG=this._modelForContainer(aF);if(aF&&aH&&aH.end()&&!this.trigger(am,{container:aF,event:aG})){if(aG.isRecurrenceHead()){this.dataSource._removeExceptions(aG)}if(!aG.dirty&&!aG.isOccurrence()){this._convertDates(aG,"remove")}this.dataSource.sync()}},cancelEvent:function(){var aH=this._editor;var aF=aH.container;var aG;if(aF){aG=this._modelForContainer(aF);if(aG&&aG.isOccurrence()){this._convertDates(aG,"remove");this._convertDates(this.dataSource.get(aG.recurrenceId),"remove")}this.dataSource.cancelChanges(aG);aH.close()}},editEvent:function(aG){var aF=typeof aG=="string"?this.occurrenceByUid(aG):aG;if(!aF){return}this.cancelEvent();if(aF.isRecurring()){this._editRecurringDialog(aF)}else{this._editEvent(aF)}},_editEvent:function(aF){this._unbindResize();this._createPopupEditor(aF);this._bindResize()},_editRecurringDialog:function(aG){var aH=this;var aJ=function(){if(aG.isException()){aH._editEvent(aG)}else{aH.addEvent(aG)}};var aI=function(){if(aG.recurrenceId){aG=aH.dataSource.get(aG.recurrenceId)}aH._editEvent(aG)};var aF=aH.options.messages.recurrenceMessages;aH._showRecurringDialog(aG,aJ,aI,{title:aF.editWindowTitle,text:aF.editRecurring?aF.editRecurring:H,occurrenceText:aF.editWindowOccurrence,seriesText:aF.editWindowSeries})},_showRecurringDialog:function(aF,aK,aJ,aI){var aH=this;var aG=aH.options.editable;var aL=B(aG)?aG.editRecurringMode:"dialog";if(aL==="series"){aJ()}else{if(aL==="occurrence"){aK()}else{this._unbindResize();aH.showDialog({model:aF,title:aI.title,text:aI.text,buttons:[{text:aI.occurrenceText,click:aK},{text:aI.seriesText,click:aJ}]});this._bindResize()}}},_createButton:function(aI){var aH=aI.template||P,aG=typeof aI===av?aI:aI.name||aI.text,aF={className:"k-scheduler-"+(aG||"").replace(/\s/g,""),text:aG,attr:""};if(!aG&&!(B(aI)&&aI.template)){throw new Error("Custom commands should have name specified")}if(B(aI)){if(aI.className){aI.className+=" "+aF.className}if(aG==="edit"&&B(aI.text)){aI=aa(true,{},aI);aI.text=aI.text.edit}aF=aa(true,aF,K[aG],aI)}else{aF=aa(true,aF,K[aG])}return q.template(aH)(aF)},_convertDates:function(aI,aL){var aJ=this.dataSource.reader.timezone;var aF=aI.startTimezone;var aH=aI.endTimezone;var aK=aI.start;var aG=aI.start;aL=aL||"apply";aF=aF||aH;aH=aH||aF;if(aF){if(aJ){if(aL==="apply"){aK=q.timezone.convert(aI.start,aJ,aF);aG=q.timezone.convert(aI.end,aJ,aH)}else{aK=q.timezone.convert(aI.start,aF,aJ);aG=q.timezone.convert(aI.end,aH,aJ)}}else{aK=q.timezone[aL](aI.start,aF);aG=q.timezone[aL](aI.end,aH)}aI._set("start",aK);aI._set("end",aG)}},_createEditor:function(){var aG=this;var aF;if(this._isMobile()&&q.mobile.ui.Pane){aF=aG._editor=new h(this.wrapper,aa({},this.options,{target:this,timezone:aG.dataSource.reader.timezone,resources:aG.resources,createButton:x(this._createButton,this)}))}else{aF=aG._editor=new ap(this.wrapper,aa({},this.options,{target:this,createButton:x(this._createButton,this),timezone:aG.dataSource.reader.timezone,resources:aG.resources}))}aF.bind("cancel",function(aH){if(aG.trigger("cancel",{container:aH.container,event:aH.model})){aH.preventDefault();return}aG.cancelEvent();aG.focus()});aF.bind("edit",function(aH){if(aG.trigger(E,{container:aH.container,event:aH.model})){aH.preventDefault()}});aF.bind("save",function(){aG.saveEvent()});aF.bind("remove",function(aH){aG.removeEvent(aH.model)})},_createPopupEditor:function(aF){var aG=this._editor;if(!aF.isNew()||aF.isOccurrence()){if(aF.isOccurrence()){this._convertDates(aF.recurrenceId?this.dataSource.get(aF.recurrenceId):aF)}this._convertDates(aF)}this.editable=aG.editEvent(aF)},removeEvent:function(aG){var aH=this,aF=typeof aG=="string"?aH.occurrenceByUid(aG):aG;if(!aF){return}if(aF.isRecurring()){aH._deleteRecurringDialog(aF)}else{aH._confirmation(function(aI){if(!aI){aH._removeEvent(aF)}},aF)}},occurrenceByUid:function(aF){var aG=this.dataSource.getByUid(aF);if(!aG){aG=aE(this._data,aF)}return aG},occurrencesInRange:function(aG,aF){return new q.data.Query(this._data).filter({logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:aG},{field:"end",operator:"gte",value:aG},{field:"start",operator:"lt",value:aF}]},{logic:"and",filters:[{field:"start",operator:"lte",value:aG},{field:"end",operator:"gt",value:aG}]}]}).toArray()},_removeEvent:function(aF){if(!this.trigger(aB,{event:aF})){if(this.dataSource.remove(aF)){this.dataSource.sync()}}},_deleteRecurringDialog:function(aH){var aJ=this;var aF=aH;var aI=function(){var aM=aF.recurrenceId?aF:aF.toOccurrence();var aL=aJ.dataSource.get(aM.recurrenceId);aJ._convertDates(aL);aJ._removeEvent(aM)};var aK=function(){if(aF.recurrenceId){aF=aJ.dataSource.get(aF.recurrenceId)}aJ._removeEvent(aF)};var aG=aJ.options.messages.recurrenceMessages;aJ._showRecurringDialog(aH,aI,aK,{title:aG.deleteWindowTitle,text:aG.deleteRecurring?aG.deleteRecurring:I,occurrenceText:aG.deleteWindowOccurrence,seriesText:aG.deleteWindowSeries})},_unbindView:function(aF){var aG=this;aG.angular("cleanup",function(){return{elements:aG.items()}});aF.destroy()},_bindView:function(aF){var aG=this;if(aG.options.editable){if(aG._viewRemoveHandler){aF.unbind(aB,aG._viewRemoveHandler)}aG._viewRemoveHandler=function(aH){aG.removeEvent(aH.uid)};aF.bind(aB,aG._viewRemoveHandler);if(aG._viewAddHandler){aF.unbind(X,aG._viewAddHandler)}aG._viewAddHandler=function(aH){aG.addEvent(aH.eventInfo)};aF.bind(X,this._viewAddHandler);if(aG._viewEditHandler){aF.unbind(E,aG._viewEditHandler)}aG._viewEditHandler=function(aH){aG.editEvent(aH.uid)};aF.bind(E,this._viewEditHandler)}if(aG._viewNavigateHandler){aF.unbind("navigate",aG._viewNavigateHandler)}aG._viewNavigateHandler=function(aI){if(aI.view){var aJ="isWorkDay" in aI;var aH=aJ?"changeWorkDay":"changeView";if(!aG.trigger("navigate",{view:aI.view,isWorkDay:aI.isWorkDay,action:aH,date:aI.date})){if(aJ){aG._workDayMode=aI.isWorkDay}aG._selectView(aI.view);aG.date(aI.date)}}};aF.bind("navigate",aG._viewNavigateHandler);if(aG._viewActivateHandler){aF.unbind("activate",aG._viewActivateHandler)}aG._viewActivateHandler=function(){var aH=this;if(aG._selection){aH.constrainSelection(aG._selection);aG._select();aG._adjustSelectedDate()}};aF.bind("activate",aG._viewActivateHandler)},_selectView:function(aF){var aI=this;if(aF&&aI.views[aF]){if(aI._selectedView){aI._unbindView(aI._selectedView)}aI._selectedView=aI._renderView(aF);aI._selectedViewName=aF;var aH=U({views:aI.views,view:aF,ns:q.ns});var aJ=aI.toolbar.find(".k-scheduler-views li:first-child");if(aJ.is(".k-current-view")){aJ.replaceWith(aH)}else{aI.toolbar.find(".k-scheduler-views").prepend(aH)}var aG=aI.toolbar.find(".k-scheduler-views li").removeClass("k-state-selected");if(aI.options.views.length>1){aG.end().find(".k-view-"+aF.replace(/\./g,"\\.").toLowerCase()).addClass("k-state-selected")}}},view:function(aF){var aG=this;if(aF){aG._selectView(aF);aG.rebind();return}return aG._selectedView},_renderView:function(aG){var aF=this._initializeView(aG);this._bindView(aF);this._model.set("formattedDate",aF.dateForTitle());this._model.set("formattedShortDate",aF.shortDateForTitle());return aF},resize:function(aI){var aH=this.getSize();var aG=this._size;var aF=this.view();if(!aF||!aF.groups){return}if(aI||!aG||aH.width!==aG.width||aH.height!==aG.height){this.refresh({action:"resize"});this._size=aH}},_adjustSelectedDate:function(){var aF=this._model.selectedDate,aG=this._selection,aH=aG.start;if(aH&&!q.date.isInDateRange(aF,ax(aH),ax(aG.end))){aF.setFullYear(aH.getFullYear(),aH.getMonth(),aH.getDate())}},_initializeView:function(aH){var aF=this.views[aH];if(aF){var aG=B(aF),aI=aF.type;if(typeof aI===av){aI=q.getter(aF.type)(window)}if(aI){aF=new aI(this.wrapper,T(aa(true,{},this.options,aG?aF:{},{resources:this.resources,date:this.date(),showWorkHours:this._workDayMode})))}else{throw new Error("There is no such view")}}return aF},_views:function(){var aO=this.options.views;var aM;var aK;var aJ;var aF;var aG;var aL;var aN;var aH;this.views={};for(aN=0,aH=aO.length;aN<aH;aN++){var aI=false;aM=aO[aN];aF=B(aM);if(aF){aL=aG=aM.type?aM.type:aM;if(typeof aL!==av){aG=aM.title;aI=true}}else{aL=aG=aM}aK=g[aG];if(aK&&!aI){aM.type=aK.type;aK.title=this.options.messages.views[aG];if(aK.type==="day"){aK.messages={allDay:this.options.messages.allDay}}else{if(aK.type==="agenda"){aK.messages={event:this.options.messages.event,date:this.options.messages.date,time:this.options.messages.time}}}}aM=aa({title:aG},aK,aF?aM:{});if(aG){this.views[aG]=aM;if(!aJ||aM.selected){aJ=aG}}}if(aJ){this._selectedViewName=aJ}},rebind:function(){this.dataSource.fetch()},_dataSource:function(){var aG=this,aF=aG.options,aH=aF.dataSource;aH=b(aH)?{data:aH}:aH;if(aF.timezone&&!(aH instanceof az)){aH=aa(true,aH,{schema:{timezone:aF.timezone}})}else{if(aH instanceof az){aF.timezone=aH.schema?aH.schema.timezone:""}}if(aG.dataSource&&aG._refreshHandler){aG.dataSource.unbind(D,aG._refreshHandler).unbind("progress",aG._progressHandler).unbind("error",aG._errorHandler)}else{aG._refreshHandler=x(aG.refresh,aG);aG._progressHandler=x(aG._requestStart,aG);aG._errorHandler=x(aG._error,aG)}aG.dataSource=q.data.SchedulerDataSource.create(aH).bind(D,aG._refreshHandler).bind("progress",aG._progressHandler).bind("error",aG._errorHandler);aG.options.dataSource=aG.dataSource},_error:function(){this._progress(false)},_requestStart:function(){this._progress(true)},_progress:function(aF){var aG=this.element.find(".k-scheduler-content");q.ui.progress(aG,aF)},_resources:function(){var aH=this;var aK=aH.options.resources;for(var aF=0;aF<aK.length;aF++){var aI=aK[aF];var aJ=aI.field;var aL=aI.dataSource;if(!aJ||!aL){throw new Error('The "field" and "dataSource" options of the scheduler resource are mandatory.')}aH.resources.push({field:aJ,name:aI.name||aJ,title:aI.title||aJ,dataTextField:aI.dataTextField||"text",dataValueField:aI.dataValueField||"value",dataColorField:aI.dataColorField||"color",valuePrimitive:aI.valuePrimitive!=null?aI.valuePrimitive:true,multiple:aI.multiple||false,dataSource:q.data.DataSource.create(aL)})}var aG=an.map(aH.resources,function(aM){return aM.dataSource.fetch()});an.when.apply(null,aG).then(function(){if(aH.options.autoBind){aH.view(aH._selectedViewName)}else{aH._selectView(aH._selectedViewName)}})},_initModel:function(){var aF=this;aF._model=q.observable({selectedDate:new Date(this.options.date),formattedDate:"",formattedShortDate:""});aF._model.bind("change",function(aG){if(aG.field==="selectedDate"){aF.view(aF._selectedViewName)}})},_wrapper:function(){var aI=this;var aG=aI.options;var aF=aG.height;var aH=aG.width;aI.wrapper=aI.element.addClass("k-widget k-scheduler k-floatwrap").attr("role","grid").attr("aria-multiselectable",true);if(aI._isMobile()){aI.wrapper.addClass("k-scheduler-mobile")}if(aI._isMobilePhoneView()){aI.wrapper.addClass("k-scheduler-phone")}if(aF){aI.wrapper.height(aF)}if(aH){aI.wrapper.width(aH)}},date:function(aF){if(aF!=null&&ax(aF)>=ax(this.options.min)&&ax(aF)<=ax(this.options.max)){this._model.set("selectedDate",aF)}return ax(this._model.get("selectedDate"))},_toolbar:function(){var aJ=this;var aG=aJ.options;var aF=[];if(aG.toolbar){aF=an.isArray(aG.toolbar)?aG.toolbar:[aG.toolbar]}var aH=this._isMobilePhoneView()?ao:M;var aI=an(aH({messages:aG.messages,pdf:an.grep(aF,function(aK){return aK=="pdf"||aK.name=="pdf"}).length>0,ns:q.ns,views:aJ.views}));aJ.wrapper.append(aI);aJ.toolbar=aI;q.bind(aJ.toolbar,aJ._model);aI.on(al+au,".k-pdf",function(aK){aK.preventDefault();aJ.saveAsPDF()});aI.on(al+au,".k-scheduler-navigation li",function(aN){var aK=an(this);var aL=new Date(aJ.date());var aM="";aN.preventDefault();if(aK.hasClass("k-nav-today")){aM="today";aL=new Date()}else{if(aK.hasClass("k-nav-next")){aM="next";aL=aJ.view().nextDate()}else{if(aK.hasClass("k-nav-prev")){aM="previous";aL=aJ.view().previousDate()}else{if(aK.hasClass("k-nav-current")&&!aJ._isMobilePhoneView()){aJ._showCalendar();return}}}}if(!aJ.trigger("navigate",{view:aJ._selectedViewName,action:aM,date:aL})){aJ.date(aL)}});aI.on(al+au,".k-scheduler-views li",function(aL){aL.preventDefault();var aK=an(this).attr(q.attr("name"));if(!aJ.trigger("navigate",{view:aK,action:"changeView",date:aJ.date()})){aJ.view(aK);aJ.element.find(".k-state-expanded").removeClass("k-state-expanded")}});aI.on(al+au,".k-scheduler-views li.k-current-view",function(aK){aJ.element.find(".k-scheduler-views").toggleClass("k-state-expanded")});aI.find("li").hover(function(){an(this).addClass("k-state-hover")},function(){an(this).removeClass("k-state-hover")})},_showCalendar:function(){var aG=this,aH=aG.toolbar.find(".k-nav-current"),aF=an('<div class="k-calendar-container"><div class="k-scheduler-calendar"/></div>');if(!aG.popup){aG.popup=new ah(aF,{anchor:aH,activate:function(){if(!aG.calendar){aG.calendar=new t(this.element.find(".k-scheduler-calendar"),{change:function(){var aI=this.value();if(!aG.trigger("navigate",{view:aG._selectedViewName,action:"changeDate",date:aI})){aG.date(aI);aG.popup.close()}},min:aG.options.min,max:aG.options.max})}aG.calendar.value(aG.date())},copyAnchorStyles:false})}aG.popup.open()},refresh:function(aH){var aG=this;var aF=this.view();this._progress(false);this.angular("cleanup",function(){return{elements:aG.items()}});aH=aH||{};if(!aF){return}if(aH&&aH.action==="itemchange"&&(this._editor.editable||this._preventRefresh)){return}if(this.trigger("dataBinding",{action:aH.action||"rebind",index:aH.index,items:aH.items})){return}if(!(aH&&aH.action==="resize")&&this._editor){this._editor.close()}this._data=this.dataSource.expand(aF.startDate(),aF.endDate());aF.render(this._data);this.trigger("dataBound")},slotByPosition:function(aF,aI){var aG=this.view();if(!aG._slotByPosition){return null}var aH=aG._slotByPosition(aF,aI);if(!aH){return null}return{startDate:aH.startDate(),endDate:aH.endDate(),groupIndex:aH.groupIndex,element:aH.element,isDaySlot:aH.isDaySlot}},slotByElement:function(aF){var aG=an(aF).offset();return this.slotByPosition(aG.left,aG.top)},resourcesBySlot:function(aF){return this.view()._resourceBySlot(aF)}});var g={day:{type:"kendo.ui.DayView"},week:{type:"kendo.ui.WeekView"},workWeek:{type:"kendo.ui.WorkWeekView"},agenda:{type:"kendo.ui.AgendaView"},month:{type:"kendo.ui.MonthView"},timeline:{type:"kendo.ui.TimelineView"},timelineWeek:{type:"kendo.ui.TimelineWeekView"},timelineWorkWeek:{type:"kendo.ui.TimelineWorkWeekView"},timelineMonth:{type:"kendo.ui.TimelineMonthView"}};N.plugin(k);if(q.PDFMixin){q.PDFMixin.extend(k.prototype);var ay="k-scheduler-pdf-export";k.fn._drawPDF=function(){var aI=this.wrapper;var aG=aI[0].style.cssText;aI.css({width:aI.width(),height:aI.height()});aI.addClass(ay);this.resize(true);var aH=this._drawPDFShadow();var aF=this;aH.always(function(){aI[0].style.cssText=aG;aI.removeClass(ay);aF.resize(true)});return aH}}var ai=i.extend({init:function(aH,aG){var aI=this,aF=q.timezone.windows_zones;if(!aF||!q.timezone.zones_titles){throw new Error("kendo.timezones.min.js is not included.")}i.fn.init.call(aI,aH,aG);aI.wrapper=aI.element;aI._zonesQuery=new q.data.Query(aF);aI._zoneTitleId=q.guid();aI._zoneTitlePicker();aI._zonePicker();aI._zoneTitle.bind("cascade",function(){if(!this.value()){aI._zone.wrapper.hide()}});aI._zone.bind("cascade",function(){aI._value=this.value();aI.trigger("change")});aI.value(aI.options.value)},options:{name:"TimezoneEditor",value:"",optionLabel:"No timezone"},events:["change"],_zoneTitlePicker:function(){var aG=this,aF=an('<input id="'+aG._zoneTitleId+'"/>').appendTo(aG.wrapper);aG._zoneTitle=new q.ui.DropDownList(aF,{dataSource:q.timezone.zones_titles,dataValueField:"other_zone",dataTextField:"name",optionLabel:aG.options.optionLabel})},_zonePicker:function(){var aG=this,aF=an("<input />").appendTo(this.wrapper);aG._zone=new q.ui.DropDownList(aF,{dataValueField:"zone",dataTextField:"territory",dataSource:aG._zonesQuery.data,cascadeFrom:aG._zoneTitleId,dataBound:function(){aG._value=this.value();this.wrapper.toggle(this.dataSource.view().length>1)}});aG._zone.wrapper.hide()},destroy:function(){i.fn.destroy.call(this);q.destroy(this.wrapper)},value:function(aH){var aG=this,aF;if(aH===w){return aG._value}aF=aG._zonesQuery.filter({field:"zone",operator:"eq",value:aH}).data[0];if(aF){aG._zoneTitle.value(aF.other_zone);aG._zone.value(aF.zone)}else{aG._zoneTitle.select(0)}}});N.plugin(ai);var o=q.template('<option value="#=other_zone#">#=name#</option>');var ak=q.template('<option value="#=zone#">#=territory#</option>');var Z=i.extend({init:function(aH,aG){var aI=this,aF=q.timezone.windows_zones;if(!aF||!q.timezone.zones_titles){throw new Error("kendo.timezones.min.js is not included.")}i.fn.init.call(aI,aH,aG);aI.wrapper=aI.element;aI._zonesQuery=new q.data.Query(aF);aI._zoneTitlePicker();aI._zonePicker();aI.value(aI.options.value)},options:{name:"MobileTimezoneEditor",optionLabel:"No timezone",value:""},events:["change"],_bindZones:function(aG){var aF=aG?this._filter(aG):[];this._zone.html(this._options(aF,ak))},_filter:function(aF){return this._zonesQuery.filter({field:"other_zone",operator:"eq",value:aF}).data},_options:function(aK,aH,aJ){var aF=0;var aG="";var aI=aK.length;if(aJ){aG+=aH({other_zone:"",name:aJ})}for(;aF<aI;aF++){aG+=aH(aK[aF])}return aG},_zoneTitlePicker:function(){var aG=this;var aF=aG._options(q.timezone.zones_titles,o,aG.options.optionLabel);aG._zoneTitle=an("<select>"+aF+"</select>").appendTo(aG.wrapper).change(function(){var aI=this.value;var aH=aG._zone;aG._bindZones(aI);if(aI&&aH[0].children.length>1){aH.show()}else{aH.hide()}aG._value=aH[0].value;aG.trigger("change")})},_zonePicker:function(){var aF=this;aF._zone=an('<select style="display:none"></select>').appendTo(this.wrapper).change(function(){aF._value=this.value;aF.trigger("change")});aF._bindZones(aF._zoneTitle.val());aF._value=aF._zone[0].value},destroy:function(){i.fn.destroy.call(this);q.destroy(this.wrapper)},value:function(aK){var aJ=this;var aI=aJ._zone;var aG="";var aH="";var aF;if(aK===w){return aJ._value}aF=aJ._zonesQuery.filter({field:"zone",operator:"eq",value:aK}).data[0];if(aF){aH=aF.zone;aG=aF.other_zone}aJ._zoneTitle.val(aG);aJ._bindZones(aG);aI.val(aH);aH=aI[0].value;if(aH&&aI[0].children.length>1){aI.show()}else{aI.hide()}aJ._value=aH}});N.plugin(Z)})(window.kendo.jQuery);(function(e,d){var f=window.kendo,h=f.ui.Widget,g=e.proxy,j=Math.abs,i=20;var c=f.Class.extend({init:function(l,m,k){k=e.extend({minXDelta:30,maxYDelta:20,maxDuration:1000},k);new f.UserEvents(l,{surface:k.surface,allowSelection:true,start:function(n){if(j(n.x.velocity)*2>=j(n.y.velocity)){n.sender.capture()}},move:function(p){var q=p.touch,o=p.event.timeStamp-q.startTime,n=q.x.initialDelta>0?"right":"left";if(j(q.x.initialDelta)>=k.minXDelta&&j(q.y.initialDelta)<k.maxYDelta&&o<k.maxDuration){m({direction:n,touch:q,target:q.target});q.cancel()}}})}});var b=h.extend({init:function(l,k){var n=this;h.fn.init.call(n,l,k);k=n.options;l=n.element;n.wrapper=l;function m(p){return function(q){n._triggerTouch(p,q)}}function o(p){return function(q){n.trigger(p,{touches:q.touches,distance:q.distance,center:q.center,event:q.event})}}n.events=new f.UserEvents(l,{filter:k.filter,surface:k.surface,minHold:k.minHold,multiTouch:k.multiTouch,allowSelection:true,press:m("touchstart"),hold:m("hold"),tap:g(n,"_tap"),gesturestart:o("gesturestart"),gesturechange:o("gesturechange"),gestureend:o("gestureend")});if(k.enableSwipe){n.events.bind("start",g(n,"_swipestart"));n.events.bind("move",g(n,"_swipemove"))}else{n.events.bind("start",g(n,"_dragstart"));n.events.bind("move",m("drag"));n.events.bind("end",m("dragend"))}f.notify(n)},events:["touchstart","dragstart","drag","dragend","tap","doubletap","hold","swipe","gesturestart","gesturechange","gestureend"],options:{name:"Touch",surface:null,global:false,multiTouch:false,enableSwipe:false,minXDelta:30,maxYDelta:20,maxDuration:1000,minHold:800,doubleTapTimeout:800},cancel:function(){this.events.cancel()},_triggerTouch:function(k,l){if(this.trigger(k,{touch:l.touch,event:l.event})){l.preventDefault()}},_tap:function(l){var k=this,n=k.lastTap,m=l.touch;if(n&&(m.endTime-n.endTime<k.options.doubleTapTimeout)&&f.touchDelta(m,n).distance<i){k._triggerTouch("doubletap",l);k.lastTap=null}else{k._triggerTouch("tap",l);k.lastTap=m}},_dragstart:function(k){this._triggerTouch("dragstart",k)},_swipestart:function(k){if(j(k.x.velocity)*2>=j(k.y.velocity)){k.sender.capture()}},_swipemove:function(o){var l=this,k=l.options,p=o.touch,n=o.event.timeStamp-p.startTime,m=p.x.initialDelta>0?"right":"left";if(j(p.x.initialDelta)>=k.minXDelta&&j(p.y.initialDelta)<k.maxYDelta&&n<k.maxDuration){l.trigger("swipe",{direction:m,touch:o.touch});p.cancel()}}});window.jQuery.fn.kendoMobileSwipe=function(l,k){this.each(function(){new c(this,l,k)})};f.ui.plugin(b)})(window.kendo.jQuery);(function(f){var l=window.kendo;var n=l.dom;var p=n.element;var d=n.text;var u=l.support.browser;var m=l.support.mobileOS;var k=l.ui;var e=k.Widget;var r=f.extend;var v=f.map;var c=f.isFunction;var j=l.keys;var w={title:"Title",start:"Start Time",end:"End Time",percentComplete:"% Done",parentId:"Predecessor ID",id:"ID",orderId:"Order ID"};var i="string";var q=".kendoGanttList";var g="click";var o=".";var h={wrapper:"k-treelist k-grid k-widget",header:"k-header",alt:"k-alt",editCell:"k-edit-cell",group:"k-treelist-group",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",selected:"k-state-selected",icon:"k-icon",iconCollapse:"k-i-collapse",iconExpand:"k-i-expand",iconHidden:"k-i-none",iconPlaceHolder:"k-icon k-i-none",input:"k-input",dropPositions:"k-insert-top k-insert-bottom k-add k-insert-middle",dropTop:"k-insert-top",dropBottom:"k-insert-bottom",dropAdd:"k-add",dropMiddle:"k-insert-middle",dropDenied:"k-denied",dragStatus:"k-drag-status",dragClue:"k-drag-clue",dragClueText:"k-clue-text"};function t(x){var z=[];var A=x.className;for(var y=0,B=x.level;y<B;y++){z.push(p("span",{className:A}))}return z}function b(){var x=l._activeElement();if(x.nodeName.toLowerCase()!=="body"){f(x).blur()}}var s=k.GanttList=e.extend({init:function(y,x){e.fn.init.call(this,y,x);if(this.options.columns.length===0){this.options.columns.push("title")}this.dataSource=this.options.dataSource;this._columns();this._layout();this._domTrees();this._header();this._sortable();this._editable();this._selectable();this._draggable();this._attachEvents();this._adjustHeight()},_adjustHeight:function(){this.content.height(this.element.height()-this.header.parent().outerHeight())},destroy:function(){e.fn.destroy.call(this);if(this._reorderDraggable){this._reorderDraggable.destroy()}if(this._tableDropArea){this._tableDropArea.destroy()}if(this._contentDropArea){this._contentDropArea.destroy()}if(this.touch){this.touch.destroy()}if(this.timer){clearTimeout(this.timer)}this.content.off(q);this.header=null;this.content=null;this.levels=null;l.destroy(this.element)},options:{name:"GanttList",selectable:true,editable:true},_attachEvents:function(){var x=this;var y=s.styles;x.content.on(g+q,"td > span."+y.icon+":not(."+y.iconHidden+")",function(B){var A=f(this);var z=x._modelFromElement(A);z.set("expanded",!z.get("expanded"));B.stopPropagation()})},_domTrees:function(){this.headerTree=new n.Tree(this.header[0]);this.contentTree=new n.Tree(this.content[0])},_columns:function(){var y=this.options.columns;var z;var x=function(){this.field="";this.title="";this.editable=false;this.sortable=false};this.columns=v(y,function(A){A=typeof A==="string"?{field:A,title:w[A]}:A;return r(new x(),A)})},_layout:function(){var x=this.element;var y=s.styles;x.addClass(y.wrapper).append("<div class='"+y.gridHeader+"'><div class='"+y.gridHeaderWrap+"'></div></div>").append("<div class='"+y.gridContentWrap+"'></div>");this.header=x.find(o+y.gridHeaderWrap);this.content=x.find(o+y.gridContent)},_header:function(){var A=this.headerTree;var x;var z;var y;x=p("colgroup",null,this._cols());z=p("thead",{role:"rowgroup"},[p("tr",{role:"row"},this._ths())]);y=p("table",{style:{minWidth:this.options.listWidth+"px"},role:"grid"},[x,z]);A.render([y])},_render:function(A){var x;var y;var z;this.levels=[{field:null,value:0}];x=p("colgroup",null,this._cols());y=p("tbody",{role:"rowgroup"},this._trs(A));z=p("table",{style:{minWidth:this.options.listWidth+"px"},tabIndex:0,role:"treegrid"},[x,y]);this.contentTree.render([z]);this.trigger("render")},_ths:function(){var A=this.columns;var B;var x;var y=[];for(var z=0,C=A.length;z<C;z++){B=A[z];x={"data-field":B.field,"data-title":B.title,className:s.styles.header,role:"columnheader"};y.push(p("th",x,[d(B.title)]))}return y},_cols:function(){var y=this.columns;var B;var A;var z;var D=[];for(var x=0,C=y.length;x<C;x++){B=y[x];z=B.width;if(z&&parseInt(z,10)!==0){A={style:{width:typeof z===i?z:z+"px"}}}else{A=null}D.push(p("col",A,[]))}return D},_trs:function(B){var z;var F=[];var D;var E=[];var x;var A=s.styles;for(var C=0,y=B.length;C<y;C++){z=B[C];x=this._levels({idx:z.parentId,id:z.id,summary:z.summary});D={"data-uid":z.uid,"data-level":x,role:"row"};if(z.summary){D["aria-expanded"]=z.expanded}if(C%2!==0){E.push(A.alt)}if(z.summary){E.push(A.group)}if(E.length){D.className=E.join(" ")}F.push(this._tds({task:z,attr:D,level:x}));E=[]}return F},_tds:function(y){var B=[];var A=this.columns;var C;for(var z=0,x=A.length;z<x;z++){C=A[z];B.push(this._td({task:y.task,column:C,level:y.level}))}return p("tr",y.attr,B)},_td:function(F){var x=[];var E=this.options.resourcesField;var z=s.styles;var y=F.task;var A=F.column;var D=y.get(A.field)||[];var C;if(A.field==E){C=[];for(var B=0;B<D.length;B++){C.push(l.format("{0} [{1}]",D[B].get("name"),D[B].get("formatedValue")))}C=C.join(", ")}else{C=A.format?l.format(A.format,D):D}if(A.field==="title"){x=t({level:F.level,className:z.iconPlaceHolder});x.push(p("span",{className:z.icon+" "+(y.summary?(y.expanded?z.iconCollapse:z.iconExpand):z.iconHidden)}))}x.push(p("span",null,[d(C)]));return p("td",{role:"gridcell"},x)},_levels:function(z){var C=this.levels;var E;var y=z.summary;var x=z.idx;var D=z.id;for(var A=0,B=C.length;A<B;A++){E=C[A];if(E.field==x){if(y){C.push({field:D,value:E.value+1})}return E.value}}},_sortable:function(){var E=this.options.resourcesField;var B=this.columns;var C;var z;var A=this.header.find("th");var y;for(var x=0,D=A.length;x<D;x++){C=B[x];if(C.sortable&&C.field!==E){y=A.eq(x);z=y.data("kendoColumnSorter");if(z){z.destroy()}y.attr("data-"+l.ns+"field",C.field).kendoColumnSorter({dataSource:this.dataSource})}}A=null},_selectable:function(){var y=this;var x=this.options.selectable;if(x){this.content.on(g+q,"tr",function(A){var z=f(this);if(!A.ctrlKey){y.select(z)}else{y.clearSelection()}})}},select:function(z){var y=this.content.find(z);var x=s.styles.selected;if(y.length){y.siblings(o+x).removeClass(x).attr("aria-selected",false).end().addClass(x).attr("aria-selected",true);this.trigger("change");return}return this.content.find(o+x)},clearSelection:function(){var x=this.select();if(x.length){x.removeClass(s.styles.selected);this.trigger("change")}},_setDataSource:function(x){this.dataSource=x},_editable:function(){var z=this;var B=s.styles;var A="span."+B.icon+":not("+B.iconHidden+")";var x=function(){if(z.editable&&z.editable.end()){z._closeCell()}};var y=function(D){var C=f(D.currentTarget);if(!C.hasClass(B.editCell)){b()}};if(!this.options.editable){return}this._startEditHandler=function(D){var E=D.currentTarget?f(D.currentTarget):D;var C=z._columnFromElement(E);if(z.editable){return}if(C.editable){z._editCell({cell:E,column:C})}};z.content.on("focusin"+q,function(){clearTimeout(z.timer);z.timer=null}).on("focusout"+q,function(){z.timer=setTimeout(x,1)}).on("keydown"+q,function(F){var E=F.keyCode;var C;var D;switch(E){case j.ENTER:b();x();break;case j.ESC:if(z.editable){C=z._editableContainer;D=z._modelFromElement(C);if(!z.trigger("cancel",{model:D,cell:C})){z._closeCell(true)}}break}});if(!m){z.content.on("mousedown"+q,"td",function(C){y(C)}).on("dblclick"+q,"td",function(C){if(!f(C.target).is(A)){z._startEditHandler(C)}})}else{z.touch=z.content.kendoTouch({filter:"td",touchstart:function(C){y(C.touch)},doubletap:function(C){if(!f(C.touch.initialTouch).is(A)){z._startEditHandler(C.touch)}}}).data("kendoTouch")}},_editCell:function(J){var I=this.options.resourcesField;var y=s.styles;var H=J.cell;var z=J.column;var B=this._modelFromElement(H);var E=this.dataSource._createNewModel(B.toJSON());var F=E.fields[z.field]||E[z.field];var x=F.validation;var G=l.attr("type");var A=l.attr("bind");var D={name:z.field,required:F.validation?F.validation.required===true:false};var C;if(z.field===I){z.editor(H,E);return}this._editableContent=H.children().detach();this._editableContainer=H;H.data("modelCopy",E);if((F.type==="date"||f.type(F)==="date")&&/H|m|s|F|g|u/.test(z.format)){if(z.field==="start"){delete F.validation.dateCompare}D[A]="value:"+z.field;D[G]="date";C=function(K,L){f('<input type="text"/>').attr(D).appendTo(K).kendoDateTimePicker({format:L.format})}}this.editable=H.addClass(y.editCell).kendoEditable({fields:{field:z.field,format:z.format,editor:z.editor||C},model:E,clearContainer:false}).data("kendoEditable");if(x&&x.dateCompare&&c(x.dateCompare)&&x.message){f("<span "+l.attr("for")+'="'+z.field+'" class="k-invalid-msg"/>').hide().appendTo(H);H.find("[name="+z.field+"]").attr(l.attr("dateCompare-msg"),x.message)}if(this.trigger("edit",{model:B,cell:H})){this._closeCell(true)}},_closeCell:function(B){var D=s.styles;var x=this._editableContainer;var y=this._modelFromElement(x);var A=this._columnFromElement(x);var C=A.field;var E=x.data("modelCopy");var z={};z[C]=E.get(C);x.empty().removeData("modelCopy").removeClass(D.editCell).append(this._editableContent);this.editable.destroy();this.editable=null;this._editableContainer=null;this._editableContent=null;if(!B){if(C==="start"){z.end=new Date(z.start.getTime()+y.duration())}this.trigger("update",{task:y,updateInfo:z})}},_draggable:function(){var F=this;var G=null;var I=true;var x;var y=s.styles;var z="tr["+l.attr("level")+" = 0]:last";var A={};var C=function(){G=null;x=null;I=true;A={}};var D=function(J){var K=J;while(K){if(G.get("id")===K.get("id")){I=false;break}K=F.dataSource.taskParent(K)}};var E=function(){var J=f(x).height();var K=l.getOffset(x).top;r(x,{beforeLimit:K+J*0.25,afterLimit:K+J*0.75})};var H=function(O){var J=O.location;var L=y.dropAdd;var M="add";var N=parseInt(x.attr(l.attr("level")),10);var K;if(J<=x.beforeLimit){K=x.prev();L=y.dropTop;M="insert-before"}else{if(J>=x.afterLimit){K=x.next();L=y.dropBottom;M="insert-after"}}if(K&&parseInt(K.attr(l.attr("level")),10)===N){L=y.dropMiddle}A.className=L;A.command=M};var B=function(){return F._reorderDraggable.hint.children(o+y.dragStatus).removeClass(y.dropPositions)};if(!this.options.editable){return}this._reorderDraggable=this.content.kendoDraggable({distance:10,holdToDrag:m,group:"listGroup",filter:"tr[data-uid]",ignore:o+y.input,hint:function(J){return f('<div class="'+y.header+" "+y.dragClue+'"/>').css({width:300,paddingLeft:J.css("paddingLeft"),paddingRight:J.css("paddingRight"),lineHeight:J.height()+"px",paddingTop:J.css("paddingTop"),paddingBottom:J.css("paddingBottom")}).append('<span class="'+y.icon+" "+y.dragStatus+'" /><span class="'+y.dragClueText+'"/>')},cursorOffset:{top:-20,left:0},container:this.content,dragstart:function(J){if(F.editable){J.preventDefault()}G=F._modelFromElement(J.currentTarget);this.hint.children(o+y.dragClueText).text(G.get("title"))},drag:function(J){if(I){H(J.y);B().addClass(A.className)}},dragend:function(J){C()},dragcancel:function(J){C()}}).data("kendoDraggable");this._tableDropArea=this.content.kendoDropTargetArea({distance:0,group:"listGroup",filter:"tr[data-uid]",dragenter:function(J){x=J.dropTarget;D(F._modelFromElement(x));E();B().toggleClass(y.dropDenied,!I)},dragleave:function(J){I=true;B()},drop:function(M){var L=F._modelFromElement(x);var J=L.orderId;var K={parentId:L.parentId};if(I){switch(A.command){case"add":K.parentId=L.id;break;case"insert-before":if(L.parentId===G.parentId&&L.orderId>G.orderId){K.orderId=J-1}else{K.orderId=J}break;case"insert-after":if(L.parentId===G.parentId&&L.orderId>G.orderId){K.orderId=J}else{K.orderId=J+1}break}F.trigger("update",{task:G,updateInfo:K})}}}).data("kendoDropTargetArea");this._contentDropArea=this.element.kendoDropTargetArea({distance:0,group:"listGroup",filter:o+y.gridContent,drop:function(M){var L=F._modelFromElement(F.content.find(z));var J=L.orderId;var K={parentId:null,orderId:G.parentId!==null?J+1:J};F.trigger("update",{task:G,updateInfo:K})}}).data("kendoDropTargetArea")},_modelFromElement:function(y){var z=y.closest("tr");var x=this.dataSource.getByUid(z.attr(l.attr("uid")));return x},_columnFromElement:function(y){var A=y.closest("td");var z=A.parent();var x=z.children().index(A);return this.columns[x]}});r(true,k.GanttList,{styles:h})})(window.kendo.jQuery);(function(t){var d=kendo.ui.Widget;var y=kendo.dom.element;var B=kendo.dom.text;var G=t.isPlainObject;var i=t.extend;var E=t.proxy;var b=kendo.support.browser;var v=kendo.support.mobileOS;var K=false;var r=kendo.keys;var x=kendo.data.Query;var w=".kendoGanttTimeline";var A="click";var m="dblclick";var D="mousemove";var e="mouseenter";var k="mouseleave";var H="keydown";var l=".";var p=kendo.template("#=kendo.toString(start, 't')#");var n=kendo.template("#=kendo.toString(start, 'ddd M/dd')#");var c=kendo.template("#=kendo.toString(start, 'ddd M/dd')# - #=kendo.toString(kendo.date.addDays(end, -1), 'ddd M/dd')#");var z=kendo.template("#=kendo.toString(start, 'MMM')#");var u=kendo.template("#=kendo.toString(start, 'yyyy')#");var C=kendo.template('<div class="#=styles.marquee#"><div class="#=styles.marqueeColor#"></div></div>');var I=kendo.template('<div style="z-index: 100002;" class="#=styles.tooltipWrapper#"><div class="#=styles.tooltipContent#"><div>#=messages.start#: #=kendo.toString(start, format)#</div><div>#=messages.end#: #=kendo.toString(end, format)#</div></div></div>');var j=kendo.template('<div style="z-index: 100002;" class="#=styles.tooltipWrapper#" ><div class="#=styles.tooltipContent#">#=text#%</div><div class="#=styles.tooltipCallout#" style="left:13px;"></div></div>');var F=kendo.template('<div class="#=styles.taskDetails#"><strong>#=task.title#</strong><div class="#=styles.taskDetailsPercent#">#=kendo.toString(task.percentComplete, "p0")#</div><ul class="#=styles.reset#"><li>#=messages.start#: #=kendo.toString(task.start, "h:mm tt ddd, MMM d")#</li><li>#=messages.end#: #=kendo.toString(task.end, "h:mm tt ddd, MMM d")#</li></ul></div>');var s={day:{type:"kendo.ui.GanttDayView"},week:{type:"kendo.ui.GanttWeekView"},month:{type:"kendo.ui.GanttMonthView"},year:{type:"kendo.ui.GanttYearView"}};function J(M){delete M.name;delete M.prefix;delete M.views;return M}function L(M){var N=[];var O=M.workWeekStart;N.push(O);while(M.workWeekEnd!=O){if(O>6){O-=7}else{O++}N.push(O)}return N}function o(){var M=kendo._activeElement();if(M.nodeName.toLowerCase()!=="body"){t(M).blur()}}var q={alt:"k-alt",reset:"k-reset",nonWorking:"k-nonwork-hour",header:"k-header",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",tasksWrapper:"k-gantt-tables",rowsTable:"k-gantt-rows",columnsTable:"k-gantt-columns",tasksTable:"k-gantt-tasks",dependenciesWrapper:"k-gantt-dependencies",resource:"k-resource",resourceAlt:"k-resource k-alt",task:"k-task",taskSingle:"k-task-single",taskMilestone:"k-task-milestone",taskSummary:"k-task-summary",taskWrap:"k-task-wrap",taskMilestoneWrap:"k-milestone-wrap",resourcesWrap:"k-resources-wrap",taskDot:"k-task-dot",taskDotStart:"k-task-start",taskDotEnd:"k-task-end",taskDragHandle:"k-task-draghandle",taskContent:"k-task-content",taskTemplate:"k-task-template",taskActions:"k-task-actions",taskDelete:"k-task-delete",taskComplete:"k-task-complete",taskDetails:"k-task-details",taskDetailsPercent:"k-task-pct",link:"k-link",icon:"k-icon",iconDelete:"k-si-close",taskResizeHandle:"k-resize-handle",taskResizeHandleWest:"k-resize-w",taskResizeHandleEast:"k-resize-e",taskSummaryProgress:"k-task-summary-progress",taskSummaryComplete:"k-task-summary-complete",line:"k-line",lineHorizontal:"k-line-h",lineVertical:"k-line-v",arrowWest:"k-arrow-w",arrowEast:"k-arrow-e",dragHint:"k-drag-hint",dependencyHint:"k-dependency-hint",tooltipWrapper:"k-widget k-tooltip k-popup k-group k-reset",tooltipContent:"k-tooltip-content",tooltipCallout:"k-callout k-callout-s",callout:"k-callout",marquee:"k-marquee k-gantt-marquee",marqueeColor:"k-marquee-color"};var g=kendo.ui.GanttView=d.extend({init:function(N,M){d.fn.init.call(this,N,M);this.title=this.options.title||this.options.name;this.header=this.element.find(l+g.styles.gridHeader);this.content=this.element.find(l+g.styles.gridContent);this.contentWidth=this.content.width();this._workDays=L(this.options);this._headerTree=M.headerTree;this._taskTree=M.taskTree;this._dependencyTree=M.dependencyTree;this._taskCoordinates={};this._currentTime()},destroy:function(){d.fn.destroy.call(this);clearTimeout(this._tooltipTimeout);this.headerRow=null;this.header=null;this.content=null;this._dragHint=null;this._resizeHint=null;this._resizeTooltip=null;this._taskTooltip=null;this._percentCompleteResizeTooltip=null;this._headerTree=null;this._taskTree=null;this._dependencyTree=null},options:{showWorkHours:false,showWorkDays:false,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,hourSpan:1,slotSize:100,currentTimeMarker:{updateInterval:10000}},renderLayout:function(){this._slots=this._createSlots();this._tableWidth=this._calculateTableWidth();this.createLayout(this._layout());this._slotDimensions();this._adjustHeight();this.content.find(l+g.styles.dependenciesWrapper).width(this._tableWidth)},_adjustHeight:function(){this.content.height(this.element.height()-this.header.outerHeight())},createLayout:function(P){var Q=this._headers(P);var N=this._colgroup();var M=this._headerTree;var R=y("thead",null,Q);var O=y("table",{style:{width:this._tableWidth+"px"}},[N,R]);M.render([O]);this.headerRow=this.header.find("table:first tr").last()},_slotDimensions:function(){var P=this.headerRow[0].children;var N=this._timeSlots();var R;var Q;for(var M=0,O=P.length;M<O;M++){Q=P[M];R=N[M];R.offsetLeft=Q.offsetLeft;R.offsetWidth=Q.offsetWidth}},render:function(T){var Q=T.length;var P=g.styles;var M;var O=this._rowsTable(Q);var R=this._columnsTable(Q);var S=this._tasksTable(T);var N=this.options.currentTimeMarker;this._taskTree.render([O,R,S]);M=this.content.find(l+P.rowsTable);this._contentHeight=M.height();this._rowHeight=this._contentHeight/M.find("tr").length;this.content.find(l+P.columnsTable).height(this._contentHeight);if(N!==false&&N.updateInterval!==undefined){this._renderCurrentTime()}},_rowsTable:function(N){var Q=[];var R;var P=g.styles;var M=[null,{className:P.alt}];for(var O=0;O<N;O++){R=y("tr",M[O%2],[y("td",null,[B("\u00a0")])]);Q.push(R)}return this._createTable(1,Q,{className:P.rowsTable})},_columnsTable:function(S){var V=[];var W;var U=g.styles;var P=this._timeSlots();var R=P.length;var T;var M;var Q=0;var N;for(var O=0;O<R;O++){T=P[O];N={};M=T.span;Q+=M;if(M!==1){N.colspan=M}if(T.isNonWorking){N.className=U.nonWorking}V.push(y("td",N,[B("\u00a0")]))}W=y("tr",null,V);return this._createTable(Q,[W],{className:U.columnsTable})},_tasksTable:function(X){var U=[];var S;var M;var ae;var ab;var T=g.styles;var O=this._taskCoordinates={};var W=this._calculateMilestoneWidth();var aa=Math.round(W.width);var P=this.options.resourcesField;var N=[T.resource,T.resourceAlt];var Q;var V=this._calculateResourcesMargin();var ac=this._calculateTaskBorderWidth();var R;var ad=function(ah){var ag;var af;ag=ae.left;af=ag+ae.width;if(ab.isMilestone()){ag-=aa/2;af=ag+aa}O[ab.id]={start:ag,end:af,rowIndex:ah}};for(var Z=0,Y=X.length;Z<Y;Z++){ab=X[Z];ae=this._taskPosition(ab);ae.borderWidth=ac;S=y("tr",null);M=y("td",null,[this._renderTask(X[Z],ae)]);if(ab[P]&&ab[P].length){if(K){Q=this._tableWidth-ae.left}else{Q=Math.max((ae.width||W.clientWidth),0)+ae.left}R={width:(this._tableWidth-(Q+V))+"px"};R[K?"right":"left"]=Q+"px";M.children.push(y("div",{className:T.resourcesWrap,style:R},this._renderResources(ab[P],N[Z%2])))}S.children.push(M);U.push(S);ad(Z)}return this._createTable(1,U,{className:g.styles.tasksTable})},_createTable:function(S,Q,P){var R=[];var M;var N;for(var O=0;O<S;O++){R.push(y("col"))}M=y("colgroup",null,R);N=y("tbody",null,Q);if(!P.style){P.style={}}P.style.width=this._tableWidth+"px";return y("table",P,[M,N])},_calculateTableWidth:function(){var R=this._timeSlots();var N=0;var O=0;var P;var M;for(var Q=0,S=R.length;Q<S;Q++){P=R[Q].span;O+=P;if(P>N){N=P}}M=Math.round((O*this.options.slotSize)/N);return M},_calculateMilestoneWidth:function(){var M;var N=g.styles.task+" "+g.styles.taskMilestone;var O=t("<div class='"+N+"' style='visibility: hidden; position: absolute'>");var P;this.content.append(O);P=O[0].getBoundingClientRect();M={width:P.right-P.left,clientWidth:O[0].clientWidth};O.remove();return M},_calculateResourcesMargin:function(){var M;var N=t("<div class='"+g.styles.resourcesWrap+"' style='visibility: hidden; position: absolute'>");this.content.append(N);M=parseInt(N.css(K?"margin-right":"margin-left"),10);N.remove();return M},_calculateTaskBorderWidth:function(){var P;var O=g.styles.task+" "+g.styles.taskSingle;var N=t("<div class='"+O+"' style='visibility: hidden; position: absolute'>");var M;this.content.append(N);M=kendo.getComputedStyles(N[0],["border-left-width"]);P=parseFloat(M["border-left-width"],10);N.remove();return P},_renderTask:function(O,T){var U;var N;var P=this.options.editable;var S;var R=T.left;var V=g.styles;var Q=V.taskWrap;var M={};if(O.summary){N=this._renderSummary(O,T)}else{if(O.isMilestone()){N=this._renderMilestone(O,T);Q+=" "+V.taskMilestoneWrap}else{N=this._renderSingleTask(O,T)}}U=y("div",{className:Q,style:{left:R+"px"}},[N]);if(P){U.children.push(y("div",{className:V.taskDot+" "+V.taskDotStart}));U.children.push(y("div",{className:V.taskDot+" "+V.taskDotEnd}))}if(!O.summary&&!O.isMilestone()&&P){S=Math.round(T.width*O.percentComplete);M[K?"right":"left"]=S+"px";U.children.push(y("div",{className:V.taskDragHandle,style:M}))}return U},_renderSingleTask:function(O,M){var R=g.styles;var N=Math.round(M.width*O.percentComplete);var Q=y("div",{className:R.taskContent},[y("div",{className:R.taskTemplate},[B(O.title)])]);if(this.options.editable){Q.children.push(y("span",{className:R.taskActions},[y("a",{className:R.link+" "+R.taskDelete,href:"#"},[y("span",{className:R.icon+" "+R.iconDelete})])]));Q.children.push(y("span",{className:R.taskResizeHandle+" "+R.taskResizeHandleWest}));Q.children.push(y("span",{className:R.taskResizeHandle+" "+R.taskResizeHandleEast}))}var P=y("div",{className:R.task+" "+R.taskSingle,"data-uid":O.uid,style:{width:Math.max((M.width-M.borderWidth*2),0)+"px"}},[y("div",{className:R.taskComplete,style:{width:N+"px"}}),Q]);return P},_renderMilestone:function(N,M){var P=g.styles;var O=y("div",{className:P.task+" "+P.taskMilestone,"data-uid":N.uid});return O},_renderSummary:function(O,M){var Q=g.styles;var N=Math.round(M.width*O.percentComplete);var P=y("div",{className:Q.task+" "+Q.taskSummary,"data-uid":O.uid,style:{width:M.width+"px"}},[y("div",{className:Q.taskSummaryProgress,style:{width:N+"px"}},[y("div",{className:Q.taskSummaryComplete,style:{width:M.width+"px"}})])]);return P},_renderResources:function(R,O){var N=[];var Q;for(var M=0,P=R.length;M<P;M++){Q=R[M];N.push(y("span",{className:O,style:{color:Q.get("color")}},[B(Q.get("name"))]))}if(K){N.reverse()}return N},_taskPosition:function(O){var N=Math.round;var P=N(this._offset(K?O.end:O.start));var M=N(this._offset(K?O.start:O.end));return{left:P,width:M-P}},_offset:function(N){var Q=this._timeSlots();var S;var M;var P;var O=0;var R;if(!Q.length){return 0}R=this._slotIndex("start",N);S=Q[R];if(S.end<N){O=S.offsetWidth}else{if(S.start<=N){M=N-S.start;P=S.end-S.start;O=(M/P)*S.offsetWidth}}if(K){O=(S.offsetWidth+1)-O}return S.offsetLeft+O},_slotIndex:function(S,R,N){var Q=this._timeSlots();var P=0;var O=Q.length-1;var M;if(N){Q=[].slice.call(Q).reverse()}do{M=Math.ceil((O+P)/2);if(Q[M][S]<R){P=M}else{if(M===O){M--}O=M}}while(P!==O);if(N){P=(Q.length-1)-P}return P},_timeByPosition:function(N,M,O){var S=this._slotByPosition(N);if(M){return O?S.end:S.start}var Q=N-t(l+g.styles.tasksTable).offset().left;var R=S.end-S.start;var P=Q-S.offsetLeft;if(K){P=S.offsetWidth-P}return new Date(S.start.getTime()+(R*(P/S.offsetWidth)))},_slotByPosition:function(M){var O=M-t(l+g.styles.tasksTable).offset().left;var N=this._slotIndex("offsetLeft",O,K);return this._timeSlots()[N]},_renderDependencies:function(Q){var P=[];var M=this._dependencyTree;for(var O=0,N=Q.length;O<N;O++){P.push.apply(P,this._renderDependency(Q[O]))}M.render(P)},_renderDependency:function(N){var P=this._taskCoordinates[N.predecessorId];var M=this._taskCoordinates[N.successorId];var R;var S;if(!P||!M){return[]}S="_render"+["FF","FS","SF","SS"][K?3-N.type:N.type];R=this[S](P,M);for(var O=0,Q=R.length;O<Q;O++){R[O].attr["data-uid"]=N.uid}return R},_renderFF:function(O,N){var M=this._dependencyFF(O,N,false);M[M.length-1].children[0]=this._arrow(true);return M},_renderSS:function(O,N){var M=this._dependencyFF(N,O,true);M[0].children[0]=this._arrow(false);return M.reverse()},_renderFS:function(O,N){var M=this._dependencyFS(O,N,false);M[M.length-1].children[0]=this._arrow(false);return M},_renderSF:function(O,N){var M=this._dependencyFS(N,O,true);M[0].children[0]=this._arrow(true);return M.reverse()},_dependencyFF:function(ab,R,V){var T=this;var O=[];var S=0;var X=0;var aa=0;var Y=0;var Z=V?"start":"end";var ad;var N=2;var W=1;var Q=this._rowHeight;var P=10;var M=ab.rowIndex*Q+Math.floor(Q/2)-1;var af=R.rowIndex*Q+Math.floor(Q/2)-1;var U=g.styles;var ae=function(){O.push(T._line(U.line+" "+U.lineHorizontal,{left:S+"px",top:X+"px",width:aa+"px"}))};var ac=function(){O.push(T._line(U.line+" "+U.lineVertical,{left:S+"px",top:X+"px",height:Y+"px"}))};S=ab[Z];X=M;aa=P;ad=R[Z]-ab[Z];if((ad)>0!==V){aa=Math.abs(ad)+P}if(V){S-=aa;aa-=W;ae()}else{ae();S+=aa-N}if(af<X){Y=X-af;Y+=N;X=af;ac()}else{Y=af-X;Y+=N;ac();X+=(Y-N)}aa=Math.abs(S-R[Z]);if(!V){aa-=W;S-=aa}ae();return O},_dependencyFS:function(ac,R,V){var T=this;var O=[];var S=0;var Z=0;var ab=0;var aa=0;var Q=this._rowHeight;var W=Math.floor(Q/2);var P=10;var X=2*P;var ae=R.start-ac.end;var N=2;var Y=1;var M=ac.rowIndex*Q+Math.floor(Q/2)-1;var ag=R.rowIndex*Q+Math.floor(Q/2)-1;var U=g.styles;var af=function(){O.push(T._line(U.line+" "+U.lineHorizontal,{left:S+"px",top:Z+"px",width:ab+"px"}))};var ad=function(){O.push(T._line(U.line+" "+U.lineVertical,{left:S+"px",top:Z+"px",height:aa+"px"}))};S=ac.end;Z=M;ab=P;if(V){S+=Y;if(ae>X){ab=ae-(P-N)}ab-=Y}af();S+=ab-N;if((ae)<=X){aa=V?Math.abs(ag-M)-W:W;if(ag<M){Z-=aa;aa+=N;ad()}else{ad();Z+=aa}ab=(ac.end-R.start)+X;if(ab<P){ab=P}S-=ab-N;af()}if(ag<M){aa=Z-ag;Z=ag;aa+=N;ad()}else{aa=ag-Z;ad();Z+=aa}ab=R.start-S;if(!V){ab-=Y}af();return O},_line:function(M,N){return y("div",{className:M,style:N})},_arrow:function(M){return y("span",{className:M?g.styles.arrowWest:g.styles.arrowEast})},_colgroup:function(){var O=this._timeSlots();var Q=O.length;var R=[];for(var N=0;N<Q;N++){for(var M=0,P=O[N].span;M<P;M++){R.push(y("col"))}}return y("colgroup",null,R)},_createDragHint:function(M){this._dragHint=M.clone().addClass(g.styles.dragHint).css("cursor","move");M.parent().append(this._dragHint)},_updateDragHint:function(N){var M=this._offset(N);this._dragHint.css({left:M})},_removeDragHint:function(){this._dragHint.remove();this._dragHint=null},_createResizeHint:function(N){var R=g.styles;var M=this._taskCoordinates[N.id].rowIndex*this._rowHeight;var S;var P;var O=this.options;var Q=O.messages;this._resizeHint=t(C({styles:R})).css({top:0,height:this._contentHeight});this.content.append(this._resizeHint);this._resizeTooltip=t(I({styles:R,start:N.start,end:N.end,messages:Q.views,format:O.resizeTooltipFormat})).css({top:0,left:0});this.content.append(this._resizeTooltip);this._resizeTooltipWidth=this._resizeTooltip.outerWidth();S=this._resizeTooltip.outerHeight();P=M-S;if(P<0){P=M+this._rowHeight}this._resizeTooltipTop=P},_updateResizeHint:function(M,P,T){var O=this._offset(K?P:M);var U=this._offset(K?M:P);var N=U-O;var V=(T!==K)?O:U;var S=this._tableWidth-kendo.support.scrollbar();var R=this._resizeTooltipWidth;var X=this.options;var Q=X.messages;var W=t(l+g.styles.tasksTable).offset().left-t(l+g.styles.tasksWrapper).offset().left;if(K){O+=W}this._resizeHint.css({left:O,width:N});if(this._resizeTooltip){this._resizeTooltip.remove()}V-=Math.round(R/2);if(V<0){V=0}else{if(V+R>S){V=S-R}}if(K){V+=W}this._resizeTooltip=t(I({styles:g.styles,start:M,end:P,messages:Q.views,format:X.resizeTooltipFormat})).css({top:this._resizeTooltipTop,left:V,"min-width":R}).appendTo(this.content)},_removeResizeHint:function(){this._resizeHint.remove();this._resizeHint=null;this._resizeTooltip.remove();this._resizeTooltip=null},_updatePercentCompleteTooltip:function(R,Q,S){this._removePercentCompleteTooltip();var P=this._percentCompleteResizeTooltip=t(j({styles:g.styles,text:S})).appendTo(this.element);var M=Math.round(P.outerWidth()/2);var O=P.find(l+g.styles.callout);var N=Math.round(O.outerWidth()/2);P.css({top:R-(P.outerHeight()+N),left:Q-M});O.css("left",M-N)},_removePercentCompleteTooltip:function(){if(this._percentCompleteResizeTooltip){this._percentCompleteResizeTooltip.remove()}this._percentCompleteResizeTooltip=null},_updateDependencyDragHint:function(O,N,M){this._removeDependencyDragHint();if(M){this._creteVmlDependencyDragHint(O,N)}else{this._creteDependencyDragHint(O,N)}},_creteDependencyDragHint:function(S,R){var P=g.styles;var N=R.x-S.x;var M=R.y-S.y;var O=Math.sqrt(N*N+M*M);var Q=Math.atan(M/N);if(N<0){Q+=Math.PI}t("<div class='"+P.line+" "+P.lineHorizontal+" "+P.dependencyHint+"'></div>").css({top:S.y,left:S.x,width:O,"transform-origin":"0% 0","-ms-transform-origin":"0% 0","-webkit-transform-origin":"0% 0",transform:"rotate("+Q+"rad)","-ms-transform":"rotate("+Q+"rad)","-webkit-transform":"rotate("+Q+"rad)"}).appendTo(this.content)},_creteVmlDependencyDragHint:function(O,N){var M=t("<kvml:line class='"+g.styles.dependencyHint+"' style='position:absolute; top: 0px; left: 0px;' strokecolor='black' strokeweight='2px' from='"+O.x+"px,"+O.y+"px' to='"+N.x+"px,"+N.y+"px'></kvml:line>").appendTo(this.content);M[0].outerHTML=M[0].outerHTML},_removeDependencyDragHint:function(){this.content.find(l+g.styles.dependencyHint).remove()},_createTaskTooltip:function(N,R,X){var Y=g.styles;var ab=this.options;var U=this.content;var Q=U.offset();var M=U.width();var O=U.scrollLeft();var aa=t(R).parents("tr").first();var T=aa.offset();var W=(ab.tooltip&&ab.tooltip.template)?kendo.template(ab.tooltip.template):F;var P=X-(Q.left-U.scrollLeft());var V=(T.top+aa.outerHeight()-Q.top)+U.scrollTop();var Z=this._taskTooltip=t('<div style="z-index: 100002;" class="'+Y.tooltipWrapper+'" ><div class="'+Y.taskContent+'"></div></div>');var S;Z.css({left:P,top:V}).appendTo(U).find(l+Y.taskContent).append(W({styles:Y,task:N,messages:ab.messages.views}));if(Z.outerHeight()<T.top-Q.top){Z.css("top",((T.top-Q.top)-Z.outerHeight())+U.scrollTop())}S=Z.outerWidth();if((S+P)-O>M){P-=S;if(P<O){P=(O+M)-(S+17)}Z.css("left",P)}},_removeTaskTooltip:function(){if(this._taskTooltip){this._taskTooltip.remove()}this._taskTooltip=null},_scrollTo:function(T){var Q=T.offset().left;var Y=T.width();var U=Q+Y;var ac=T.closest("tr");var O=ac.offset().top;var N=ac.height();var P=O+N;var W=this.content;var R=W.offset();var aa=R.top;var Z=W.height();var ab=aa+Z;var S=R.left;var M=W.width();var X=S+M;var V=kendo.support.scrollbar();if(O<aa){W.scrollTop(W.scrollTop()+(O-aa))}else{if(P>ab){W.scrollTop(W.scrollTop()+(P+V-ab))}}if(Q<S&&Y>M&&U<X||U>X&&Y<M){W.scrollLeft(W.scrollLeft()+(U+V-X))}else{if(U>X&&Y>M&&Q>S||Q<S&&Y<M){W.scrollLeft(W.scrollLeft()+(Q-S))}}},_timeSlots:function(){if(!this._slots||!this._slots.length){return[]}return this._slots[this._slots.length-1]},_headers:function(U){var W=[];var M;var N;var Q;var R;var V=g.styles;for(var P=0,O=U.length;P<O;P++){M=U[P];N=[];for(var T=0,S=M.length;T<S;T++){Q=M[T];R=B(Q.text);N.push(y("th",{colspan:Q.span,className:V.header+(Q.isNonWorking?(" "+V.nonWorking):"")},[R]))}W.push(y("tr",null,N))}return W},_hours:function(M,O){var N;var Q=[];var V=this.options;var T=V.workDayStart.getHours();var R=V.workDayEnd.getHours();var U;var S;var P=V.hourSpan;M=new Date(M);O=new Date(O);while(M<O){N=new Date(M);S=N.getHours();U=S>=T&&S<R;N.setHours(N.getHours()+P);if(S==N.getHours()){N.setHours(N.getHours()+2*P)}if(!V.showWorkHours||U){Q.push({start:M,end:N,isNonWorking:!U,span:1})}M=N}return Q},_days:function(Q,M){var O;var N=[];var P;Q=new Date(Q);M=new Date(M);while(Q<M){O=kendo.date.nextDay(Q);P=this._isWorkDay(Q);if(!this.options.showWorkDays||P){N.push({start:Q,end:O,isNonWorking:!P,span:1})}Q=O}return N},_weeks:function(S,M){var R;var P=[];var N=this.calendarInfo().firstDay;var Q;var O;S=new Date(S);M=new Date(M);while(S<M){R=kendo.date.dayOfWeek(kendo.date.addDays(S,1),N,1);if(R>M){R=M}Q=this._days(S,R);O=Q.length;if(O>0){P.push({start:Q[0].start,end:Q[O-1].end,span:O})}S=R}return P},_months:function(R,M){var Q;var O=[];var P;var N;R=new Date(R);M=new Date(M);while(R<M){Q=new Date(R);Q.setMonth(Q.getMonth()+1);P=this._days(R,Q);N=P.length;if(N>0){O.push({start:P[0].start,end:P[N-1].end,span:N})}R=Q}return O},_years:function(P,M){var O;var N=[];P=new Date(P);M=new Date(M);while(P<M){O=new Date(P);O.setFullYear(O.getFullYear()+1);N.push({start:P,end:O,span:12});P=O}return N},_slotHeaders:function(Q,P){var O=[];var R;for(var N=0,M=Q.length;N<M;N++){R=Q[N];O.push({text:P(R),isNonWorking:!!R.isNonWorking,span:R.span})}return O},_isWorkDay:function(O){var N=O.getDay();var Q=this._workDays;for(var P=0,M=Q.length;P<M;P++){if(Q[P]===N){return true}}return false},calendarInfo:function(){return kendo.getCulture().calendars.standard},_renderCurrentTime:function(){var O=this._getCurrentTime();var M=this._offset(O);var N=t("<div class='k-current-time'></div>");var P=g.styles;var S=t(l+P.tasksWrapper);var R=t(l+P.tasksTable);var Q;if(!this.content||!this._timeSlots().length){return}this.content.find(".k-current-time").remove();Q=this._timeSlots()[this._slotIndex("start",O)];if(O<Q.start||O>Q.end){return}if(S.length&&R.length){M+=R.offset().left-S.offset().left}N.css({left:M+"px",top:"0px",width:"1px",height:this._contentHeight+"px"}).appendTo(this.content)},_getCurrentTime:function(){return new Date()},_currentTime:function(){var M=this.options.currentTimeMarker;if(M!==false&&M.updateInterval!==undefined){this._renderCurrentTime();this._currentTimeUpdateTimer=setInterval(E(this._renderCurrentTime,this),M.updateInterval)}}});i(true,g,{styles:q});kendo.ui.GanttDayView=g.extend({name:"day",options:{timeHeaderTemplate:p,dayHeaderTemplate:n,resizeTooltipFormat:"h:mm tt ddd, MMM d"},range:function(M){this.start=kendo.date.getDate(M.start);this.end=kendo.date.getDate(M.end);if(kendo.date.getMilliseconds(M.end)>0||this.end.getTime()===this.start.getTime()){this.end=kendo.date.addDays(this.end,1)}},_createSlots:function(){var S;var R;var Q;var N;var P=[];S=this._days(this.start,this.end);Q=[];for(var O=0,M=S.length;O<M;O++){R=S[O];N=this._hours(R.start,R.end);R.span=N.length;Q.push.apply(Q,N)}P.push(S);P.push(Q);return P},_layout:function(){var N=[];var M=this.options;N.push(this._slotHeaders(this._slots[0],kendo.template(M.dayHeaderTemplate)));N.push(this._slotHeaders(this._slots[1],kendo.template(M.timeHeaderTemplate)));return N}});kendo.ui.GanttWeekView=g.extend({name:"week",options:{dayHeaderTemplate:n,weekHeaderTemplate:c,resizeTooltipFormat:"h:mm tt ddd, MMM d"},range:function(O){var M=this.calendarInfo();var N=M.firstDay;var P=O.end;if(N===P.getDay()){P.setDate(P.getDate()+7)}this.start=kendo.date.getDate(kendo.date.dayOfWeek(O.start,N,-1));this.end=kendo.date.getDate(kendo.date.dayOfWeek(P,N,1))},_createSlots:function(){var M=[];M.push(this._weeks(this.start,this.end));M.push(this._days(this.start,this.end));return M},_layout:function(){var N=[];var M=this.options;N.push(this._slotHeaders(this._slots[0],kendo.template(M.weekHeaderTemplate)));N.push(this._slotHeaders(this._slots[1],kendo.template(M.dayHeaderTemplate)));return N}});kendo.ui.GanttMonthView=g.extend({name:"month",options:{weekHeaderTemplate:c,monthHeaderTemplate:z,resizeTooltipFormat:"dddd, MMM d, yyyy"},range:function(M){this.start=kendo.date.firstDayOfMonth(M.start);this.end=kendo.date.addDays(kendo.date.getDate(kendo.date.lastDayOfMonth(M.end)),1)},_createSlots:function(){var M=[];M.push(this._months(this.start,this.end));M.push(this._weeks(this.start,this.end));return M},_layout:function(){var N=[];var M=this.options;N.push(this._slotHeaders(this._slots[0],kendo.template(M.monthHeaderTemplate)));N.push(this._slotHeaders(this._slots[1],kendo.template(M.weekHeaderTemplate)));return N}});kendo.ui.GanttYearView=g.extend({name:"year",options:{yearHeaderTemplate:u,monthHeaderTemplate:z,resizeTooltipFormat:"dddd, MMM d, yyyy"},range:function(M){this.start=kendo.date.firstDayOfMonth(new Date(M.start.setMonth(0)));this.end=kendo.date.firstDayOfMonth(new Date(M.end.setMonth(12)))},_createSlots:function(){var N=[];var M=this._months(this.start,this.end);t(M).each(function(O,P){P.span=1});N.push(this._years(this.start,this.end));N.push(M);return N},_layout:function(){var N=[];var M=this.options;N.push(this._slotHeaders(this._slots[0],kendo.template(M.yearHeaderTemplate)));N.push(this._slotHeaders(this._slots[1],kendo.template(M.monthHeaderTemplate)));return N}});var f={wrapper:"k-timeline k-grid k-widget",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",tasksWrapper:"k-gantt-tables",dependenciesWrapper:"k-gantt-dependencies",task:"k-task",line:"k-line",taskResizeHandle:"k-resize-handle",taskResizeHandleWest:"k-resize-w",taskDragHandle:"k-task-draghandle",taskComplete:"k-task-complete",taskDelete:"k-task-delete",taskWrapActive:"k-task-wrap-active",taskWrap:"k-task-wrap",taskDot:"k-task-dot",taskDotStart:"k-task-start",taskDotEnd:"k-task-end",hovered:"k-state-hover",selected:"k-state-selected",origin:"k-origin"};var h=kendo.ui.GanttTimeline=d.extend({init:function(N,M){d.fn.init.call(this,N,M);if(!this.options.views||!this.options.views.length){this.options.views=["day","week","month"]}K=kendo.support.isRtl(N);this._wrapper();this._domTrees();this._views();this._selectable();this._draggable();this._resizable();this._percentResizeDraggable();this._createDependencyDraggable();this._attachEvents();this._tooltip()},options:{name:"GanttTimeline",messages:{views:{day:"Day",week:"Week",month:"Month",year:"Year",start:"Start",end:"End"}},snap:true,selectable:true,editable:true},destroy:function(){d.fn.destroy.call(this);clearTimeout(this._tooltipTimeout);if(this._currentTimeUpdateTimer){clearInterval(this._currentTimeUpdateTimer)}this._unbindView(this._selectedView);if(this._moveDraggable){this._moveDraggable.destroy()}if(this._resizeDraggable){this._resizeDraggable.destroy()}if(this._percentDraggable){this._percentDraggable.destroy()}if(this._dependencyDraggable){this._dependencyDraggable.destroy()}if(this.touch){this.touch.destroy()}this._headerTree=null;this._taskTree=null;this._dependencyTree=null;this.wrapper.off(w);kendo.destroy(this.wrapper)},_wrapper:function(){var M=h.styles;this.wrapper=this.element.addClass(M.wrapper).append("<div class='"+M.gridHeader+"'><div class='"+M.gridHeaderWrap+"'></div></div>").append("<div class='"+M.gridContentWrap+"'><div class='"+M.tasksWrapper+"'></div><div class='"+M.dependenciesWrapper+"'></div></div>")},_domTrees:function(){var N=h.styles;var M=kendo.dom.Tree;var O=this.wrapper;this._headerTree=new M(O.find(l+N.gridHeaderWrap)[0]);this._taskTree=new M(O.find(l+N.tasksWrapper)[0]);this._dependencyTree=new M(O.find(l+N.dependenciesWrapper)[0])},_views:function(){var O=this.options.views;var N;var Q;var P;var T;var S;this.views={};for(var R=0,M=O.length;R<M;R++){N=O[R];Q=G(N);if(Q&&N.selectable===false){continue}P=Q?((typeof N.type!=="string")?N.title:N.type):N;T=s[P];if(T){if(Q){N.type=T.type}T.title=this.options.messages.views[P]}N=i({title:P},T,Q?N:{});if(P){this.views[P]=N;if(!S||N.selected){S=P}}}if(S){this._selectedViewName=S}},view:function(M){if(M){this._selectView(M);this.trigger("navigate",{view:M,action:"changeView"})}return this._selectedView},_selectView:function(M){if(M&&this.views[M]){if(this._selectedView){this._unbindView(this._selectedView)}this._selectedView=this._initializeView(M);this._selectedViewName=M}},_viewByIndex:function(O){var N;var M=this.views;for(N in M){if(!O){return N}O--}},_initializeView:function(N){var M=this.views[N];if(M){var O=M.type;if(typeof O==="string"){O=kendo.getter(M.type)(window)}if(O){M=new O(this.wrapper,J(i(true,{headerTree:this._headerTree,taskTree:this._taskTree,dependencyTree:this._dependencyTree},M,this.options)))}else{throw new Error("There is no such view")}}return M},_unbindView:function(M){if(M){M.destroy()}},_range:function(Q){var O={field:"start",dir:"asc"};var N={field:"end",dir:"desc"};if(!Q||!Q.length){return{start:new Date(),end:new Date()}}var P=new x(Q).sort(O).toArray()[0].start||new Date();var M=new x(Q).sort(N).toArray()[0].end||new Date();return{start:new Date(P),end:new Date(M)}},_render:function(O){var M=this.view();var N=this._range(O);this._tasks=O;M.range(N);M.renderLayout();M.render(O)},_renderDependencies:function(M){this.view()._renderDependencies(M)},_taskByUid:function(O){var Q=this._tasks;var P=Q.length;var M;for(var N=0;N<P;N++){M=Q[N];if(M.uid===O){return M}}},_draggable:function(){var R=this;var P;var O;var T;var N;var M=this.options.snap;var Q=h.styles;var S=function(){R.view()._removeDragHint();if(P){P.css("opacity",1)}P=null;O=null;R.dragInProgress=false};if(!this.options.editable){return}this._moveDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:l+Q.task,holdToDrag:kendo.support.mobileOS,ignore:l+Q.taskResizeHandle});this._moveDraggable.bind("dragstart",function(V){var U=R.view();P=V.currentTarget.parent();O=R._taskByUid(V.currentTarget.attr("data-uid"));if(R.trigger("moveStart",{task:O})){V.preventDefault();return}T=O.start;N=U._timeByPosition(V.x.location,M)-T;U._createDragHint(P);P.css("opacity",0.5);clearTimeout(R._tooltipTimeout);R.dragInProgress=true}).bind("drag",kendo.throttle(function(X){if(!R.dragInProgress){return}var U=R.view();var V=new Date(U._timeByPosition(X.x.location,M)-N);var W=V;if(!R.trigger("move",{task:O,start:V})){T=V;if(K){W=new Date(T.getTime()+O.duration())}U._updateDragHint(W)}},15)).bind("dragend",function(U){R.trigger("moveEnd",{task:O,start:T});S()}).bind("dragcancel",function(U){S()}).userEvents.bind("select",function(U){o()})},_resizable:function(){var S=this;var R;var N;var M;var O;var T;var Q=this.options.snap;var U=h.styles;var P=function(){S.view()._removeResizeHint();R=null;N=null;S.dragInProgress=false};if(!this.options.editable){return}this._resizeDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:l+U.taskResizeHandle,holdToDrag:false});this._resizeDraggable.bind("dragstart",function(V){T=V.currentTarget.hasClass(U.taskResizeHandleWest);if(K){T=!T}R=V.currentTarget.closest(l+U.task);N=S._taskByUid(R.attr("data-uid"));if(S.trigger("resizeStart",{task:N})){V.preventDefault();return}M=N.start;O=N.end;S.view()._createResizeHint(N);clearTimeout(S._tooltipTimeout);S.dragInProgress=true}).bind("drag",kendo.throttle(function(X){if(!S.dragInProgress){return}var V=S.view();var W=V._timeByPosition(X.x.location,Q,!T);if(T){if(W<O){M=W}else{M=O}}else{if(W>M){O=W}else{O=M}}if(!S.trigger("resize",{task:N,start:M,end:O})){V._updateResizeHint(M,O,T)}},15)).bind("dragend",function(V){S.trigger("resizeEnd",{task:N,resizeStart:T,start:M,end:O});P()}).bind("dragcancel",function(V){P()}).userEvents.bind("select",function(V){o()})},_percentResizeDraggable:function(){var Q=this;var N;var M;var V;var U;var T;var Z;var R;var P;var X;var Y=h.styles;var W;var O=function(){Q.view()._removePercentCompleteTooltip();M=null;N=null;Q.dragInProgress=false};var S=function(aa){M.find(l+Y.taskComplete).width(aa).end().siblings(l+Y.taskDragHandle).css(K?"right":"left",aa)};if(!this.options.editable){return}this._percentDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:l+Y.taskDragHandle,holdToDrag:false});this._percentDraggable.bind("dragstart",function(aa){M=aa.currentTarget.siblings(l+Y.task);N=Q._taskByUid(M.attr("data-uid"));R=N.percentComplete;V=M.offset();U=this.element.offset();T=M.find(l+Y.taskComplete).width();Z=M.outerWidth();clearTimeout(Q._tooltipTimeout);Q.dragInProgress=true}).bind("drag",kendo.throttle(function(ab){if(!Q.dragInProgress){return}W=K?-ab.x.initialDelta:ab.x.initialDelta;var aa=Math.max(0,Math.min(Z,T+W));R=Math.round((aa/Z)*100);S(aa);P=V.top-U.top;X=V.left+aa-U.left;if(K){X+=(Z-2*aa)}Q.view()._updatePercentCompleteTooltip(P,X,R)},15)).bind("dragend",function(aa){Q.trigger("percentResizeEnd",{task:N,percentComplete:R/100});O()}).bind("dragcancel",function(aa){S(T);O()}).userEvents.bind("select",function(aa){o()})},_createDependencyDraggable:function(){var S=this;var N;var U=t();var T=t();var R;var Q;var O=b.msie&&b.version<9;var V=h.styles;var P=function(){N.css("display","").removeClass(V.hovered);N.parent().removeClass(V.origin);N=null;M(false);T=t();U=t();S.view()._removeDependencyDragHint();S.dragInProgress=false};var M=function(W){if(!T.hasClass(V.origin)){T.find(l+V.taskDot).css("display",W?"block":"");U.toggleClass(V.hovered,W)}};if(!this.options.editable){return}if(O&&document.namespaces){document.namespaces.add("kvml","urn:schemas-microsoft-com:vml","#default#VML")}this._dependencyDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:l+V.taskDot,holdToDrag:false});this._dependencyDraggable.bind("dragstart",function(Y){N=Y.currentTarget.css("display","block").addClass(V.hovered);N.parent().addClass(V.origin);var X=N.offset();var W=t(l+V.tasksWrapper).offset();R=Math.round(X.left-W.left+(N.outerHeight()/2));Q=Math.round(X.top-W.top+(N.outerWidth()/2));clearTimeout(S._tooltipTimeout);S.dragInProgress=true}).bind("drag",kendo.throttle(function(aa){if(!S.dragInProgress){return}S.view()._removeDependencyDragHint();var Z=t(kendo.elementUnderCursor(aa));var X=t(l+V.tasksWrapper).offset();var Y=aa.x.location-X.left;var W=aa.y.location-X.top;S.view()._updateDependencyDragHint({x:R,y:Q},{x:Y,y:W},O);M(false);U=(Z.hasClass(V.taskDot))?Z:t();T=Z.closest(l+V.taskWrap);M(true)},15)).bind("dragend",function(ab){if(U.length){var X=N.hasClass(V.taskDotStart);var Y=U.hasClass(V.taskDotStart);var aa=X?(Y?3:2):(Y?1:0);var Z=S._taskByUid(N.siblings(l+V.task).attr("data-uid"));var W=S._taskByUid(U.siblings(l+V.task).attr("data-uid"));if(Z!==W){S.trigger("dependencyDragEnd",{type:aa,predecessor:Z,successor:W})}}P()}).bind("dragcancel",function(W){P()}).userEvents.bind("select",function(W){o()})},_selectable:function(){var N=this;var M=h.styles;if(this.options.selectable){this.wrapper.on(A+w,l+M.task,function(O){O.stopPropagation();if(!O.ctrlKey){N.trigger("select",{uid:t(this).attr("data-uid")})}else{N.trigger("clear")}}).on(A+w,l+M.tasksWrapper,function(O){if(N.selectDependency().length>0){N.clearSelection()}else{N.trigger("clear")}}).on(A+w,l+M.line,function(O){O.stopPropagation();N.selectDependency(this)})}},select:function(O){var M=this.wrapper.find(O);var N=h.styles;if(M.length){this.clearSelection();M.addClass(N.selected);if(kendo.support.mobileOS){M.parent().addClass(N.taskWrapActive)}return}return this.wrapper.find(l+N.task+l+N.selected)},selectDependency:function(P){var N=this.wrapper.find(P);var M;var O=h.styles;if(N.length){this.clearSelection();this.trigger("clear");M=t(N).attr("data-uid");this.wrapper.find(l+O.line+"[data-uid='"+M+"']").addClass(O.selected);return}return this.wrapper.find(l+O.line+l+O.selected)},clearSelection:function(){var M=h.styles;this.wrapper.find(l+M.selected).removeClass(M.selected);if(kendo.support.mobileOS){this.wrapper.find(l+M.taskWrapActive).removeClass(M.taskWrapActive)}},_attachEvents:function(){var N=this;var M=h.styles;if(this.options.editable){this._tabindex();this.wrapper.on(A+w,l+M.taskDelete,function(O){N.trigger("removeTask",{uid:t(this).closest(l+M.task).attr("data-uid")});O.stopPropagation();O.preventDefault()}).on(H+w,function(P){var O;if(P.keyCode===r.DELETE){O=N.selectDependency();if(O.length){N.trigger("removeDependency",{uid:O.attr("data-uid")});N.clearSelection()}}});if(!v){this.wrapper.on(m+w,l+M.task,function(O){N.trigger("editTask",{uid:t(this).attr("data-uid")});O.stopPropagation();O.preventDefault()})}else{this.touch=this.wrapper.kendoTouch({filter:l+M.task,doubletap:function(O){N.trigger("editTask",{uid:t(O.touch.currentTarget).attr("data-uid")})}}).data("kendoTouch")}}},_tooltip:function(){var P=this;var N=this.options.tooltip;var O=h.styles;var Q;var M=function(R){Q=R.clientX};if(N&&N.visible===false){return}this.wrapper.on(e+w,l+O.task,function(T){var S=this;var R=P._taskByUid(t(this).attr("data-uid"));if(P.dragInProgress){return}P._tooltipTimeout=setTimeout(function(){P.view()._createTaskTooltip(R,S,Q)},800);t(this).on(D,M)}).on(k+w,l+O.task,function(R){clearTimeout(P._tooltipTimeout);P.view()._removeTaskTooltip();t(this).off(D,M)})}});i(true,h,{styles:f})})(window.kendo.jQuery);(function(I,p){var J=window.kendo;var d=J.support.browser;var g=J.Observable;var i=J.ui.Widget;var L=J.data.DataSource;var q=J.data.ObservableObject;var s=J.data.ObservableArray;var M=J.data.Query;var A=I.isArray;var aa=I.inArray;var r=J.isFunction;var V=I.proxy;var o=I.extend;var ac=I.isPlainObject;var F=I.map;var D=J.keys;var K=".kendoGantt";var b="p0";var C="tabIndex";var Q="click";var h="width";var W="string";var Y={down:{origin:"bottom center",position:"top center"},up:{origin:"top center",position:"bottom center"}};var P="aria-activedescendant";var E="gantt_active_cell";var e="action-option-focused";var y=".";var m="Are you sure you want to delete this task?";var v="Are you sure you want to delete this dependency?";var R='<button class="#=styles.button# #=className#" #if (action) {#data-action="#=action#"#}#><span class="#=iconClass#"></span>#=text#</button>';var T='<a class="#=className#" #=attr# href="\\#">#=text#</a>';var w=J.template('<ul class="#=styles.viewsWrapper#">#for(var view in views){#<li class="#=styles.viewButtonDefault# #=styles.viewButton#-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a href="\\#" class="#=styles.link#">#=views[view].title#</a></li>#}#</ul>');var ab=J.template('<div class="#=styles.popupWrapper#"><ul class="#=styles.popupList#" role="listbox">#for(var i = 0, l = actions.length; i < l; i++){#<li class="#=styles.item#" data-action="#=actions[i].data#" role="option">#=actions[i].text#</span>#}#</ul></div>');var Z=function(af,ah){var ae={name:ah.field};var ag=ah.model.fields[ah.field].validation;if(ag&&ac(ag)&&ag.message){ae[J.attr("dateCompare-msg")]=ag.message}I('<input type="text" required '+J.attr("type")+'="date" '+J.attr("role")+'="datetimepicker" '+J.attr("bind")+'="value:'+ah.field+'" '+J.attr("validate")+"='true' />").attr(ae).appendTo(af);I("<span "+J.attr("for")+'="'+ah.field+'" class="k-invalid-msg"/>').hide().appendTo(af)};var f=function(ae,af){I('<a href="#" class="'+af.styles.button+'">'+af.messages.assingButton+"</a>").click(af.click).appendTo(ae)};var x={wrapper:"k-widget k-gantt",listWrapper:"k-gantt-layout k-gantt-treelist",list:"k-gantt-treelist",timelineWrapper:"k-gantt-layout k-gantt-timeline",timeline:"k-gantt-timeline",splitBarWrapper:"k-splitbar k-state-default k-splitbar-horizontal k-splitbar-draggable-horizontal k-gantt-layout",splitBar:"k-splitbar",splitBarHover:"k-splitbar-horizontal-hover",popupWrapper:"k-list-container",popupList:"k-list k-reset",resizeHandle:"k-resize-handle",icon:"k-icon",item:"k-item",line:"k-line",buttonDelete:"k-gantt-delete",buttonCancel:"k-gantt-cancel",buttonSave:"k-gantt-update",primary:"k-primary",hovered:"k-state-hover",selected:"k-state-selected",focused:"k-state-focused",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",popup:{form:"k-popup-edit-form",editForm:"k-gantt-edit-form",formContainer:"k-edit-form-container",resourcesFormContainer:"k-resources-form-container",message:"k-popup-message",buttonsContainer:"k-edit-buttons k-state-default",button:"k-button",editField:"k-edit-field",editLabel:"k-edit-label",resourcesField:"k-gantt-resources"},toolbar:{headerWrapper:"k-floatwrap k-header k-gantt-toolbar",footerWrapper:"k-floatwrap k-header k-gantt-toolbar",toolbar:"k-gantt-toolbar",views:"k-gantt-views",viewsWrapper:"k-reset k-header k-gantt-views",actions:"k-gantt-actions",button:"k-button k-button-icontext",iconPlus:"k-icon k-i-plus",iconPdf:"k-icon k-i-pdf",viewButtonDefault:"k-state-default",viewButton:"k-view",link:"k-link",pdfButton:"k-gantt-pdf",appendButton:"k-gantt-create"}};function k(ae){return"["+J.attr("uid")+(ae?"='"+ae+"']":"]")}function ad(ae){delete ae.name;delete ae.prefix;delete ae.remove;delete ae.edit;delete ae.add;delete ae.navigate;return ae}function X(af){if(af.filter("[name=end], [name=start]").length){var ak=af.attr("name");var ah=J.widgetInstance(af,J.ui);var aj={};var ae=af;var ai;var ag;while(ae!==window&&!ai){ae=ae.parent();ai=ae.data("kendoEditable")}ag=ai?ai.options.model:null;if(!ag){return true}aj.start=ag.start;aj.end=ag.end;aj[ak]=ah?ah.value():J.parseDate(af.value());return aj.start<=aj.end}return true}function c(ag,aj){var ai=ag.parents("["+J.attr("role")+'="gantt"]');var ae=[];var af=N(ai);ag.attr(C,0);if(aj){af.each(function(ak,al){ae[ak]=I(al).scrollTop()})}try{ag[0].setActive()}catch(ah){ag[0].focus()}if(aj){af.each(function(ak,al){I(al).scrollTop(ae[ak])})}}function N(ae){return I(ae).parentsUntil("body").filter(function(ag,ah){var af=J.getComputedStyles(ah,["overflow"]);return af.overflow!="visible"}).add(window)}var O={append:{text:"Add Task",action:"add",className:x.toolbar.appendButton,iconClass:x.toolbar.iconPlus},pdf:{text:"Export to PDF",className:x.toolbar.pdfButton,iconClass:x.toolbar.iconPdf}};var u=g.extend({init:function(af,ae){g.fn.init.call(this);this.element=af;this.options=o(true,{},this.options,ae);this._popup()},options:{direction:"down",navigatable:false},_current:function(ah){var ag=G.styles;var af=this.list.find(y+ag.focused);var ae=af[ah]();if(ae.length){af.removeClass(ag.focused).removeAttr("id");ae.addClass(ag.focused).attr("id",e);this.list.find("ul").removeAttr(P).attr(P,e)}},_popup:function(){var af=this;var ag=G.styles;var ae="li"+y+ag.item;var ai=this.options.messages.actions;var ah=this.options.navigatable;this.list=I(ab({styles:ag,actions:[{data:"add",text:ai.addChild},{data:"insert-before",text:ai.insertBefore},{data:"insert-after",text:ai.insertAfter}]}));this.element.append(this.list);this.popup=new J.ui.Popup(this.list,o({anchor:this.element,open:function(aj){af._adjustListWidth()},animation:this.options.animation},Y[this.options.direction]));this.element.on(Q+K,y+ag.toolbar.appendButton,function(al){var ak=I(this);var aj=ak.attr(J.attr("action"));al.preventDefault();if(aj){af.trigger("command",{type:aj})}else{af.popup.open();if(ah){af.list.find("li:first").addClass(ag.focused).attr("id",e).end().find("ul").attr({TABINDEX:0,"aria-activedescendant":e}).focus()}}});this.list.find(ae).hover(function(){I(this).addClass(ag.hovered)},function(){I(this).removeClass(ag.hovered)}).end().on(Q+K,ae,function(aj){af.trigger("command",{type:I(this).attr(J.attr("action"))});af.popup.close()});if(ah){this.popup.bind("close",function(){af.list.find(ae).removeClass(ag.focused).end().find("ul").attr(C,0);af.element.parents("["+J.attr("role")+'="gantt"]').find(y+ag.gridContent+" > table:first").focus()});this.list.find("ul").on("keydown"+K,function(ak){var aj=ak.keyCode;switch(aj){case D.UP:ak.preventDefault();af._current("prev");break;case D.DOWN:ak.preventDefault();af._current("next");break;case D.ENTER:af.list.find(y+ag.focused).click();break;case D.ESC:ak.preventDefault();af.popup.close();break}})}},_adjustListWidth:function(){var ah=this.list;var ag=ah[0].style.width;var ai=this.element;var af;var ae;if(!ah.data(h)&&ag){return}af=window.getComputedStyle?window.getComputedStyle(ai[0],null):0;ae=af?parseFloat(af.width):ai.outerWidth();if(af&&(d.mozilla||d.msie)){ae+=parseFloat(af.paddingLeft)+parseFloat(af.paddingRight)+parseFloat(af.borderLeftWidth)+parseFloat(af.borderRightWidth)}if(ah.css("box-sizing")!=="border-box"){ag=ae-(ah.outerWidth()-ah.width())}else{ag=ae}ah.css({fontFamily:ai.css("font-family"),width:ag}).data(h,ag)},destroy:function(){clearTimeout(this._focusTimeout);this.popup.destroy();this.element.off(K);this.list.off(K);this.unbind()}});var S=function(af,ae){return function(ag){ag=A(ai)?{data:ag}:ag;var ai=ag||{};var ah=ai.data;ai.data=ah;if(!(ai instanceof af)&&ai instanceof L){throw new Error("Incorrect DataSource type. Only "+ae+" instances are supported")}return ai instanceof af?ai:new af(ai)}};var l=J.data.Model.define({id:"id",fields:{id:{type:"number"},predecessorId:{type:"number"},successorId:{type:"number"},type:{type:"number"}}});var n=L.extend({init:function(ae){L.fn.init.call(this,o(true,{},{schema:{modelBase:l,model:l}},ae))},successors:function(ae){return this._dependencies("predecessorId",ae)},predecessors:function(ae){return this._dependencies("successorId",ae)},dependencies:function(ag){var af=this.predecessors(ag);var ae=this.successors(ag);af.push.apply(af,ae);return af},_dependencies:function(ag,ah){var af=this.view();var ae={field:ag,operator:"eq",value:ah};af=new M(af).filter(ae).toArray();return af}});n.create=S(n,"GanttDependencyDataSource");var U=J.data.Model.define({duration:function(){var ae=this.end;var af=this.start;return ae-af},isMilestone:function(){return this.duration()===0},_offset:function(af){var ah=["start","end"];var ag;for(var ae=0;ae<ah.length;ae++){ag=new Date(this.get(ah[ae]).getTime()+af);this.set(ah[ae],ag)}},id:"id",fields:{id:{type:"number"},parentId:{type:"number",defaultValue:null,validation:{required:true}},orderId:{type:"number",validation:{required:true}},title:{type:"string",defaultValue:""},start:{type:"date",validation:{required:true,dateCompare:X,message:"Start date should be before or equal to the end date"}},end:{type:"date",validation:{required:true,dateCompare:X,message:"End date should be after or equal to the start date"}},percentComplete:{type:"number",validation:{required:true,min:0,max:1,step:0.01}},summary:{type:"boolean"},expanded:{type:"boolean",defaultValue:true}}});var j=L.extend({init:function(ae){L.fn.init.call(this,o(true,{},{schema:{modelBase:U,model:U}},ae))},remove:function(ae){var ag=ae.get("parentId");var af=this.taskAllChildren(ae);this._removeItems(af);ae=L.fn.remove.call(this,ae);this._childRemoved(ag,ae.get("orderId"));return ae},add:function(ae){if(!ae){return}ae=this._toGanttTask(ae);return this.insert(this.taskSiblings(ae).length,ae)},insert:function(af,ae){if(!ae){return}ae=this._toGanttTask(ae);ae.set("orderId",af);ae=L.fn.insert.call(this,af,ae);this._reorderSiblings(ae,this.taskSiblings(ae).length-1);this._resolveSummaryFields(this.taskParent(ae));return ae},taskChildren:function(af){var ai=this.view();var ah={field:"parentId",operator:"eq",value:null};var ae=this._sort||{field:"orderId",dir:"asc"};var ag;if(!!af){ag=af.get("id");if(ag===p||ag===null||ag===""){return[]}ah.value=ag}ai=new M(ai).filter(ah).sort(ae).toArray();return ai},taskAllChildren:function(ae){var ag=[];var af=this;var ah=function(ai){var aj=af.taskChildren(ai);ag.push.apply(ag,aj);F(aj,ah)};if(!!ae){ah(ae)}else{ag=this.view()}return ag},taskSiblings:function(ae){if(!ae){return null}var af=this.taskParent(ae);return this.taskChildren(af)},taskParent:function(ae){if(!ae||ae.get("parentId")===null){return null}return this.get(ae.parentId)},taskLevel:function(ae){var ag=0;var af=this.taskParent(ae);while(af!==null){ag+=1;af=this.taskParent(af)}return ag},taskTree:function(af){var ai=[];var aj;var ak=this.taskChildren(af);for(var ah=0,ae=ak.length;ah<ae;ah++){aj=ak[ah];ai.push(aj);if(aj.get("expanded")){var ag=this.taskTree(aj);ai.push.apply(ai,ag)}}return ai},update:function(ae,ah){var ai=this;var af;var ag=function(ao,ap){var an=ai.taskAllChildren(ao);for(var am=0,al=an.length;am<al;am++){an[am]._offset(ap)}};var ak=function(an){var am=an.field;var al=an.sender;switch(am){case"start":ai._resolveSummaryStart(ai.taskParent(al));ag(al,al.get(am).getTime()-af.getTime());break;case"end":ai._resolveSummaryEnd(ai.taskParent(al));break;case"percentComplete":ai._resolveSummaryPercentComplete(ai.taskParent(al));break;case"orderId":ai._reorderSiblings(al,af);break}};if(ah.parentId!==p){af=ae.get("parentId");if(af!==ah.parentId){ae.set("parentId",ah.parentId);ai._childRemoved(af,ae.get("orderId"));ae.set("orderId",ai.taskSiblings(ae).length-1);ai._resolveSummaryFields(ai.taskParent(ae))}delete ah.parentId}ae.bind("change",ak);for(var aj in ah){af=ae.get(aj);ae.set(aj,ah[aj])}ae.unbind("change",ak)},_resolveSummaryFields:function(ae){if(!ae){return}this._updateSummary(ae);if(!this.taskChildren(ae).length){return}this._resolveSummaryStart(ae);this._resolveSummaryEnd(ae);this._resolveSummaryPercentComplete(ae)},_resolveSummaryStart:function(ae){var ag=this;var af=function(al){var ak=ag.taskChildren(al);var aj=ak[0].start.getTime();var am;for(var ai=1,ah=ak.length;ai<ah;ai++){am=ak[ai].start.getTime();if(am<aj){aj=am}}return new Date(aj)};this._updateSummaryRecursive(ae,"start",af)},_resolveSummaryEnd:function(af){var ag=this;var ae=function(am){var ak=ag.taskChildren(am);var ah=ak[0].end.getTime();var al;for(var aj=1,ai=ak.length;aj<ai;aj++){al=ak[aj].end.getTime();if(al>ah){ah=al}}return new Date(ah)};this._updateSummaryRecursive(af,"end",ae)},_resolveSummaryPercentComplete:function(af){var ag=this;var ae=function(aj){var ah=ag.taskChildren(aj);var ai=new M(ah).aggregate([{field:"percentComplete",aggregate:"average"}]);return ai.percentComplete.average};this._updateSummaryRecursive(af,"percentComplete",ae)},_updateSummaryRecursive:function(ae,ah,ai){if(!ae){return}var ag=ai(ae);ae.set(ah,ag);var af=this.taskParent(ae);if(af){this._updateSummaryRecursive(af,ah,ai)}},_childRemoved:function(aj,af){var ai=aj===null?null:this.get(aj);var ah=this.taskChildren(ai);for(var ag=af,ae=ah.length;ag<ae;ag++){ah[ag].set("orderId",ag)}this._resolveSummaryFields(ai)},_reorderSiblings:function(ae,ag){var af=ae.get("orderId");var ak=af>ag;var al=ak?ag:af;var ai=ak?af:ag;var am=ak?al:al+1;var aj=this.taskSiblings(ae);ai=Math.min(ai,aj.length-1);for(var ah=al;ah<=ai;ah++){if(aj[ah]===ae){continue}aj[ah].set("orderId",am);am+=1}},_updateSummary:function(af){if(af!==null){var ae=this.taskChildren(af).length;af.set("summary",ae>0)}},_toGanttTask:function(ae){if(!(ae instanceof U)){var af=ae;ae=this._createNewModel();ae.accept(af)}return ae}});j.create=S(j,"GanttDataSource");o(true,J.data,{GanttDataSource:j,GanttTask:U,GanttDependencyDataSource:n,GanttDependency:l});var B={desktop:{dateRange:Z,resources:f}};var z=J.Observable.extend({init:function(af,ae){J.Observable.fn.init.call(this);this.element=af;this.options=o(true,{},this.options,ae);this.createButton=this.options.createButton},fields:function(ak,ag){var aj=this;var af=this.options;var ai=af.messages.editor;var al=af.resources;var ae;var ah=function(am){am.preventDefault();al.editor(aj.container.find(y+G.styles.popup.resourcesField),ag)};if(af.editable.template){ae=I.map(ag.fields,function(an,am){return{field:am}})}else{ae=[{field:"title",title:ai.title},{field:"start",title:ai.start,editor:ak.dateRange},{field:"end",title:ai.end,editor:ak.dateRange},{field:"percentComplete",title:ai.percentComplete,format:b}];if(ag.get(al.field)){ae.push({field:al.field,title:ai.resources,messages:ai,editor:ak.resources,click:ah,styles:G.styles.popup})}}return ae},_buildEditTemplate:function(ak,al,aq){var af=this.options.resources;var ap=this.options.editable.template;var ag=o({},J.Template,this.options.templateSettings);var aj=ag.paramName;var am=G.styles.popup;var ai="";if(ap){if(typeof ap===W){ap=window.unescape(ap)}ai+=(J.template(ap,ag))(ak)}else{for(var ah=0,ae=al.length;ah<ae;ah++){var ao=al[ah];ai+='<div class="'+am.editLabel+'"><label for="'+ao.field+'">'+(ao.title||ao.field||"")+"</label></div>";if(ao.field===af.field){ai+='<div class="'+am.resourcesField+'" style="display:none"></div>'}if((!ak.editable||ak.editable(ao.field))){aq.push(ao);ai+="<div "+J.attr("container-for")+'="'+ao.field+'" class="'+am.editField+'"></div>'}else{var an="#:";if(ao.field){ao=J.expr(ao.field,aj);an+=ao+"==null?'':"+ao}else{an+="''"}an+="#";an=J.template(an,ag);ai+='<div class="'+am.editField+'">'+an(ak)+"</div>"}}}return ai}});var H=z.extend({destroy:function(){this.close();this.unbind()},editTask:function(ae){this.editable=this._createPopupEditor(ae)},close:function(){var af=this;var ae=function(){if(af.editable){af.editable.destroy();af.editable=null;af.container=null}if(af.popup){af.popup.destroy();af.popup=null}};if(this.editable&&this.container.is(":visible")){this.container.data("kendoWindow").bind("deactivate",ae).close()}else{ae()}},showDialog:function(af){var ak=af.buttons;var ai=G.styles.popup;var ah=J.format('<div class="{0}"><div class="{1}"><p class="{2}">{3}</p><div class="{4}">',ai.form,ai.formContainer,ai.message,af.text,ai.buttonsContainer);for(var ag=0,aj=ak.length;ag<aj;ag++){ah+=this.createButton(ak[ag])}ah+="</div></div></div>";var al=this.element;if(this.popup){this.popup.destroy()}var ae=this.popup=I(ah).appendTo(al).eq(0).on("click",y+ai.button,function(an){an.preventDefault();ae.close();var am=I(an.currentTarget).index();ak[am].click()}).kendoWindow({modal:true,resizable:false,draggable:false,title:af.title,visible:false,close:function(){this.destroy();al.focus()}}).getKendoWindow();ae.center().open()},_createPopupEditor:function(ag){var ak=this;var ao={};var ah=this.options.messages;var al=G.styles;var am=al.popup;var ai=J.format('<div {0}="{1}" class="{2} {3}"><div class="{4}">',J.attr("uid"),ag.uid,am.form,am.editForm,am.formContainer);var aj=this.fields(B.desktop,ag);var an=[];ai+=this._buildEditTemplate(ag,aj,an);ai+='<div class="'+am.buttonsContainer+'">';ai+=this.createButton({name:"update",text:ah.save,className:G.styles.primary});ai+=this.createButton({name:"cancel",text:ah.cancel});ai+=this.createButton({name:"delete",text:ah.destroy});ai+="</div></div></div>";var ae=this.container=I(ai).appendTo(this.element).eq(0).kendoWindow(o({modal:true,resizable:false,draggable:true,title:ah.editor.editorTitle,visible:false,close:function(ap){if(ap.userTriggered){if(ak.trigger("cancel",{container:ae,model:ag})){ap.preventDefault()}}}},ao));var af=ae.kendoEditable({fields:an,model:ag,clearContainer:false,validateOnBlur:true,target:ak.options.target}).data("kendoEditable");if(!this.trigger("edit",{container:ae,model:ag})){ae.data("kendoWindow").center().open();ae.on(Q+K,y+al.buttonCancel,function(ap){ap.preventDefault();ap.stopPropagation();ak.trigger("cancel",{container:ae,model:ag})});ae.on(Q+K,y+al.buttonSave,function(av){av.preventDefault();av.stopPropagation();var ap=ak.fields(B.desktop,ag);var ar={};var au;for(var aq=0,at=ap.length;aq<at;aq++){au=ap[aq].field;ar[au]=ag.get(au)}ak.trigger("save",{container:ae,model:ag,updateInfo:ar})});ae.on(Q+K,y+al.buttonDelete,function(ap){ap.preventDefault();ap.stopPropagation();ak.trigger("remove",{container:ae,model:ag})})}else{ak.trigger("cancel",{container:ae,model:ag})}return af}});var t=i.extend({init:function(af,ae){i.fn.init.call(this,af,ae);this.wrapper=this.element;this.model=this.options.model;this.resourcesField=this.options.resourcesField;this.createButton=this.options.createButton;this._initContainer();this._attachHandlers()},events:["save"],open:function(){this.window.center().open();this.grid.resize(true)},close:function(){this.window.bind("deactivate",V(this.destroy,this)).close()},destroy:function(){this._dettachHandlers();this.grid.destroy();this.grid=null;this.window.destroy();this.window=null;i.fn.destroy.call(this);J.destroy(this.wrapper);this.element=this.wrapper=null},_attachHandlers:function(){var ag=G.styles;var ae=this.grid;var af=this._cancelProxy=V(this._cancel,this);this.container.on(Q+K,y+ag.buttonCancel,this._cancelProxy);this._saveProxy=V(this._save,this);this.container.on(Q+K,y+ag.buttonSave,this._saveProxy);this.window.bind("close",function(ah){if(ah.userTriggered){af(ah)}});ae.wrapper.on(Q+K,"input[type='checkbox']",function(ak){var ai=I(this);var al=I(ai).closest("tr");var ah=ae.dataSource.getByUid(al.attr(J.attr("uid")));var aj=I(ai).is(":checked")?1:"";ah.set("value",aj)})},_dettachHandlers:function(){this._cancelProxy=null;this._saveProxy=null;this.container.off(K);this.grid.wrapper.off()},_cancel:function(ae){ae.preventDefault();this.close()},_save:function(ae){ae.preventDefault();this._updateModel();if(!this.wrapper.is(y+G.styles.popup.resourcesField)){this.trigger("save",{container:this.wrapper,model:this.model})}this.close()},_initContainer:function(){var ae=G.styles.popup;var af=J.format('<div class="{0} {1}"><div class="{2} {3}"/></div>"',ae.form,ae.editForm,ae.formContainer,ae.resourcesFormContainer);af=I(af);this.container=af.find(y+ae.resourcesFormContainer);this.window=af.kendoWindow({modal:true,resizable:false,draggable:true,visible:false,title:this.options.messages.resourcesEditorTitle}).data("kendoWindow");this._resourceGrid();this._createButtons()},_resourceGrid:function(){var ag=this;var af=this.options.messages;var ae=I('<div id="resources-grid"/>').appendTo(this.container);this.grid=new J.ui.Grid(ae,{columns:[{field:"name",title:af.resourcesHeader,template:"<label><input type='checkbox' value='#=name#'# if (value > 0 && value !== null) {#checked='checked'# } #/>#=name#</labe>"},{field:"value",title:af.unitsHeader,template:function(ah){var aj=ah.format;var ai=ah.value!==null?ah.value:"";return aj?J.toString(ai,aj):ai}}],height:280,sortable:true,editable:true,filterable:true,dataSource:{data:ag.options.data,schema:{model:{id:"id",fields:{id:{from:"id"},name:{from:"name",type:"string",editable:false},value:{from:"value",type:"number",defaultValue:""},format:{from:"format",type:"string"}}}}},save:function(ai){var ah=!!ai.values.value;ai.container.parent().find("input[type='checkbox']").prop("checked",ah)}})},_createButtons:function(){var ah=this.options.buttons;var af='<div class="'+G.styles.popup.buttonsContainer+'">';for(var ae=0,ag=ah.length;ae<ag;ae++){af+=this.createButton(ah[ae])}af+="</div>";this.container.append(af)},_updateModel:function(){var ai=[];var ah;var ag=this.grid.dataSource.data();for(var ae=0,af=ag.length;ae<af;ae++){ah=ag[ae].get("value");if(ah!==null&&ah>0){ai.push(ag[ae])}}this.model[this.resourcesField]=ai}});var G=i.extend({init:function(af,ae){if(A(ae)){ae={dataSource:ae}}i.fn.init.call(this,af,ae);this._wrapper();this._resources();this._timeline();this._toolbar();this._footer();this._adjustDimensions();this._preventRefresh=true;this.view(this.timeline._selectedViewName);this._preventRefresh=false;this._dataSource();this._assignments();this._dropDowns();this._list();this._dependencies();this._resizable();this._scrollable();this._dataBind();this._attachEvents();this._createEditor();J.notify(this)},events:["dataBinding","dataBound","add","edit","remove","cancel","save","change","navigate","moveStart","move","moveEnd","resizeStart","resize","resizeEnd"],options:{name:"Gantt",autoBind:true,navigatable:false,selectable:true,editable:true,columns:[],views:[],dataSource:{},dependencies:{},resources:{},assignments:{},messages:{save:"Save",cancel:"Cancel",destroy:"Delete",deleteTaskConfirmation:m,deleteDependencyConfirmation:v,deleteTaskWindowTitle:"Delete task",deleteDependencyWindowTitle:"Delete dependency",views:{day:"Day",week:"Week",month:"Month",year:"Year",start:"Start",end:"End"},actions:{append:"Add Task",addChild:"Add Child",insertBefore:"Add Above",insertAfter:"Add Below",pdf:"Export to PDF"},editor:{editorTitle:"Task",resourcesEditorTitle:"Resources",title:"Title",start:"Start",end:"End",percentComplete:"Complete",resources:"Resources",assingButton:"Assign",resourcesHeader:"Resources",unitsHeader:"Units"}},showWorkHours:true,showWorkDays:true,toolbar:null,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,hourSpan:1,snap:true,height:600,listWidth:"30%"},select:function(af){var ae=this.list;if(!af){return ae.select()}ae.select(af);return},clearSelection:function(){this.list.clearSelection()},destroy:function(){i.fn.destroy.call(this);if(this.dataSource){this.dataSource.unbind("change",this._refreshHandler);this.dataSource.unbind("progress",this._progressHandler);this.dataSource.unbind("error",this._errorHandler)}if(this.dependencies){this.dependencies.unbind("change",this._dependencyRefreshHandler);this.dependencies.unbind("error",this._dependencyErrorHandler)}if(this.timeline){this.timeline.unbind();this.timeline.destroy()}if(this.list){this.list.unbind();this.list.destroy()}if(this.footerDropDown){this.footerDropDown.destroy()}if(this.headerDropDown){this.headerDropDown.destroy()}if(this._editor){this._editor.destroy()}if(this._resizeDraggable){this._resizeDraggable.destroy()}this.toolbar.off(K);I(window).off("resize"+K,this._resizeHandler);I(this.wrapper).off(K);this.toolbar=null;this.footer=null},_attachEvents:function(){this._resizeHandler=V(this.resize,this,false);I(window).on("resize"+K,this._resizeHandler)},_wrapper:function(){var ai=G.styles;var ah=[ai.icon,ai.resizeHandle].join(" ");var af=this.options;var ae=af.height;var ag=af.width;this.wrapper=this.element.addClass(ai.wrapper).append("<div class='"+ai.listWrapper+"'><div></div></div>").append("<div class='"+ai.splitBarWrapper+"'><div class='"+ah+"'></div></div>").append("<div class='"+ai.timelineWrapper+"'><div></div></div>");this.wrapper.find(y+ai.list).width(af.listWidth);if(ae){this.wrapper.height(ae)}if(ag){this.wrapper.width(ag)}},_toolbar:function(){var ag=this;var ah=G.styles;var af=y+ah.toolbar.views+" > li";var aj=y+ah.toolbar.pdfButton;var al=ah.hovered;var ae=this.options.toolbar;var am=I("<div class='"+ah.toolbar.actions+"'>");var ai;var ak;if(!r(ae)){ae=(typeof ae===W?ae:this._actions(ae));ae=V(J.template(ae),this)}ak=I(w({ns:J.ns,views:this.timeline.views,styles:ah.toolbar}));am.append(ae({}));ai=I("<div class='"+ah.toolbar.headerWrapper+"'>").append(am).append(ak);this.wrapper.prepend(ai);this.toolbar=ai;ai.on(Q+K,af,function(ao){ao.preventDefault();var an=I(this).attr(J.attr("name"));if(!ag.trigger("navigate",{view:an})){ag.view(an)}}).on(Q+K,aj,function(an){ag.saveAsPDF()});this.wrapper.find(y+ah.toolbar.toolbar+" li").hover(function(){I(this).addClass(al)},function(){I(this).removeClass(al)})},_actions:function(){var ae=this.options;var ai=ae.toolbar;var ag="";if(!A(ai)){if(ae.editable){ai=["append"]}else{return ag}}for(var af=0,ah=ai.length;af<ah;af++){ag+=this._createButton(ai[af])}return ag},_footer:function(){if(!this.options.editable){return}var ah=G.styles.toolbar;var ag=this.options.messages.actions;var ae=I(J.template(R)(o(true,{styles:ah},O.append,{text:ag.append})));var af=I("<div class='"+ah.actions+"'>").append(ae);var ai=I("<div class='"+ah.footerWrapper+"'>").append(af);this.wrapper.append(ai);this.footer=ai},_createButton:function(aj){var ah=aj.template||R;var ai=this.options.messages.actions;var af=typeof aj===W?aj:aj.name||aj.text;var ag=O[af]?O[af].className:"k-gantt-"+(af||"").replace(/\s/g,"");var ae={iconClass:"",action:"",text:af,className:ag,styles:G.styles.toolbar};if(!af&&!(ac(aj)&&aj.template)){throw new Error("Custom commands should have name specified")}ae=o(true,ae,O[af],{text:ai[af]});if(ac(aj)){if(aj.className&&aa(ae.className,aj.className.split(" "))<0){aj.className+=" "+ae.className}ae=o(true,ae,aj)}return J.template(ah)(ae)},_adjustDimensions:function(){var af=this.element;var ai=G.styles;var ak=y+ai.list;var al=y+ai.timeline;var ao=y+ai.splitBar;var an=this.toolbar.outerHeight();var am=this.footer?this.footer.outerHeight():0;var ah=af.height();var ag=af.width();var aj=af.find(ao).outerWidth();var ae=af.find(ak).outerWidth();af.children([ak,al,ao].join(",")).height(ah-(an+am)).end().children(al).width(ag-(aj+ae))},_scrollTo:function(ah){var af=this.timeline.view();var ae=J.attr("uid");var ai=typeof ah==="string"?ah:ah.closest("tr"+k()).attr(ae);var ag=af.content.find(k(ai));if(ag.length!==0){af._scrollTo(ag)}},_dropDowns:function(){var ah=this;var ae=y+G.styles.toolbar.actions;var ai=this.options.messages.actions;var aj=this.dataSource;var ag=this.timeline;var af=function(ar){var ap=ar.type;var ak;var am=aj._createNewModel();var ao=ah.dataItem(ah.select());var an=aj.taskParent(ao);var al=ag.view()._timeSlots()[0];var aq=ap==="add"?ao:an;am.set("title","New task");if(aq){am.set("parentId",aq.get("id"));am.set("start",aq.get("start"));am.set("end",aq.get("end"))}else{am.set("start",al.start);am.set("end",al.end)}if(ap!=="add"){ak=ao.get("orderId");ak=ap==="insert-before"?ak:ak+1}ah._createTask(am,ak)};if(!this.options.editable){return}this.footerDropDown=new u(this.footer.children(ae).eq(0),{messages:{actions:ai},direction:"up",animation:{open:{effects:"slideIn:up"}},navigatable:ah.options.navigatable});this.headerDropDown=new u(this.toolbar.children(ae).eq(0),{messages:{actions:ai},navigatable:ah.options.navigatable});this.footerDropDown.bind("command",af);this.headerDropDown.bind("command",af)},_list:function(){var ak=this;var am=ak.options.navigatable;var al=G.styles;var ai=this.wrapper.find(y+al.list);var ah=ai.find("> div");var an=this.wrapper.find(y+al.toolbar.actions+" > button");var ao={columns:this.options.columns||[],dataSource:this.dataSource,selectable:this.options.selectable,editable:this.options.editable,listWidth:ai.outerWidth(),resourcesField:this.resources.field};var af=ao.columns;var ae;var aj=function(){if(am){ak._current(ak._cachedCurrent);c(ak.list.content.find("table"),true)}delete ak._cachedCurrent};for(var ag=0;ag<af.length;ag++){ae=af[ag];if(ae.field===this.resources.field&&typeof ae.editor!=="function"){ae.editor=V(this._createResourceEditor,this)}}this.list=new J.ui.GanttList(ah,ao);this.list.bind("render",function(){ak._navigatable()},true).bind("edit",function(ap){ak._cachedCurrent=ap.cell;if(ak.trigger("edit",{task:ap.model,container:ap.cell})){ap.preventDefault()}}).bind("cancel",function(ap){if(ak.trigger("cancel",{task:ap.model,container:ap.cell})){ap.preventDefault()}aj()}).bind("update",function(ap){ak._updateTask(ap.task,ap.updateInfo);aj()}).bind("change",function(){ak.trigger("change");var ap=ak.list.select();if(ap.length){an.removeAttr("data-action","add");ak.timeline.select("[data-uid='"+ap.attr("data-uid")+"']")}else{an.attr("data-action","add");ak.timeline.clearSelection()}})},_timeline:function(){var ag=this;var ah=G.styles;var ae=ad(o(true,{resourcesField:this.resources.field},this.options));var af=this.wrapper.find(y+ah.timeline+" > div");this.timeline=new J.ui.GanttTimeline(af,ae);this.timeline.bind("navigate",function(ai){ag.toolbar.find(y+ah.toolbar.views+" > li").removeClass(ah.selected).end().find(y+ah.toolbar.viewButton+"-"+ai.view.replace(/\./g,"\\.").toLowerCase()).addClass(ah.selected);ag.refresh()}).bind("moveStart",function(ai){if(ag.trigger("moveStart",{task:ai.task})){ai.preventDefault()}}).bind("move",function(ak){var aj=ak.task;var al=ak.start;var ai=new Date(al.getTime()+aj.duration());if(ag.trigger("move",{task:aj,start:al,end:ai})){ak.preventDefault()}}).bind("moveEnd",function(ak){var aj=ak.task;var al=ak.start;var ai=new Date(al.getTime()+aj.duration());if(!ag.trigger("moveEnd",{task:aj,start:al,end:ai})){ag._updateTask(ag.dataSource.getByUid(aj.uid),{start:al,end:ai})}}).bind("resizeStart",function(ai){if(ag.trigger("resizeStart",{task:ai.task})){ai.preventDefault()}}).bind("resize",function(ai){if(ag.trigger("resize",{task:ai.task,start:ai.start,end:ai.end})){ai.preventDefault()}}).bind("resizeEnd",function(ak){var ai=ak.task;var aj={};if(ak.resizeStart){aj.start=ak.start}else{aj.end=ak.end}if(!ag.trigger("resizeEnd",{task:ai,start:ak.start,end:ak.end})){ag._updateTask(ag.dataSource.getByUid(ai.uid),aj)}}).bind("percentResizeEnd",function(ai){ag._updateTask(ag.dataSource.getByUid(ai.task.uid),{percentComplete:ai.percentComplete})}).bind("dependencyDragEnd",function(aj){var ai=ag.dependencies._createNewModel({type:aj.type,predecessorId:aj.predecessor.id,successorId:aj.successor.id});ag._createDependency(ai)}).bind("select",function(ai){ag.select("[data-uid='"+ai.uid+"']")}).bind("editTask",function(ai){ag.editTask(ai.uid)}).bind("clear",function(ai){ag.clearSelection()}).bind("removeTask",function(ai){ag.removeTask(ag.dataSource.getByUid(ai.uid))}).bind("removeDependency",function(ai){ag.removeDependency(ag.dependencies.getByUid(ai.uid))})},_dataSource:function(){var ae=this.options;var af=ae.dataSource;af=A(af)?{data:af}:af;if(this.dataSource&&this._refreshHandler){this.dataSource.unbind("change",this._refreshHandler).unbind("progress",this._progressHandler).unbind("error",this._errorHandler)}else{this._refreshHandler=V(this.refresh,this);this._progressHandler=V(this._requestStart,this);this._errorHandler=V(this._error,this)}this.dataSource=J.data.GanttDataSource.create(af).bind("change",this._refreshHandler).bind("progress",this._progressHandler).bind("error",this._errorHandler)},_dependencies:function(){var ae=this.options.dependencies||{};var af=A(ae)?{data:ae}:ae;if(this.dependencies&&this._dependencyRefreshHandler){this.dependencies.unbind("change",this._dependencyRefreshHandler).unbind("error",this._dependencyErrorHandler)}else{this._dependencyRefreshHandler=V(this.refreshDependencies,this);this._dependencyErrorHandler=V(this._error,this)}this.dependencies=J.data.GanttDependencyDataSource.create(af).bind("change",this._dependencyRefreshHandler).bind("error",this._dependencyErrorHandler)},_resources:function(){var ae=this.options.resources;var af=ae.dataSource||{};this.resources={field:"resources",dataTextField:"name",dataColorField:"color",dataFormatField:"format"};o(this.resources,ae);this.resources.dataSource=J.data.DataSource.create(af)},_assignments:function(){var ae=this.options.assignments;var af=ae.dataSource||{};if(this.assignments){this.assignments.dataSource.unbind("change",this._assignmentsRefreshHandler)}else{this._assignmentsRefreshHandler=V(this.refresh,this)}this.assignments={dataTaskIdField:"taskId",dataResourceIdField:"resourceId",dataValueField:"value"};o(this.assignments,ae);this.assignments.dataSource=J.data.DataSource.create(af);this.assignments.dataSource.bind("change",this._assignmentsRefreshHandler)},_createEditor:function(ag){var af=this;var ae=this._editor=new H(this.wrapper,o({},this.options,{target:this,resources:{field:this.resources.field,editor:V(this._createResourceEditor,this)},createButton:V(this._createPopupButton,this)}));ae.bind("cancel",function(ai){var ah=af.dataSource.getByUid(ai.model.uid);if(af.trigger("cancel",{container:ai.container,task:ah})){ai.preventDefault();return}af.cancelTask()}).bind("edit",function(ai){var ah=af.dataSource.getByUid(ai.model.uid);if(af.trigger("edit",{container:ai.container,task:ah})){ai.preventDefault()}}).bind("save",function(ai){var ah=af.dataSource.getByUid(ai.model.uid);af.saveTask(ah,ai.updateInfo)}).bind("remove",function(ah){af.removeTask(ah.model.uid)})},_createResourceEditor:function(ae,ag){var aj=this;var af=ag instanceof q?ag:ag.model;var al=af.get("id");var ai=this.options.messages;var ak=aj.resources.field;var ah=this._resourceEditor=new t(ae,{resourcesField:ak,data:this._wrapResourceData(al),model:af,messages:o({},ai.editor),buttons:[{name:"update",text:ai.save,className:G.styles.primary},{name:"cancel",text:ai.cancel}],createButton:V(this._createPopupButton,this),save:function(am){aj._updateAssignments(am.model.get("id"),am.model.get(ak))}});ah.open()},_createPopupButton:function(ag){var af=ag.name||ag.text;var ae={className:G.styles.popup.button+" k-gantt-"+(af||"").replace(/\s/g,""),text:af,attr:""};if(!af&&!(ac(ag)&&ag.template)){throw new Error("Custom commands should have name specified")}if(ac(ag)){if(ag.className){ag.className+=" "+ae.className}ae=o(true,ae,ag)}return J.template(T)(ae)},view:function(ae){return this.timeline.view(ae)},dataItem:function(ag){if(!ag){return null}var af=this.list;var ae=af.content.find(ag);return af._modelFromElement(ae)},setDataSource:function(ae){this.options.dataSource=ae;this._dataSource();this.list._setDataSource(this.dataSource);if(this.options.autoBind){ae.fetch()}},setDependenciesDataSource:function(ae){this.options.dependencies=ae;this._dependencies();if(this.options.autoBind){ae.fetch()}},items:function(){return this.wrapper.children(".k-task")},_updateAssignments:function(ag,aj){var ae=this.assignments.dataSource;var aq=this.assignments.dataTaskIdField;var ao=this.assignments.dataResourceIdField;var ap=false;var af=new M(ae.view()).filter({field:aq,operator:"eq",value:ag}).toArray();var ai;var al;var ar;while(af.length){ai=af[0];for(var an=0,ah=aj.length;an<ah;an++){al=aj[an];if(ai.get(ao)===al.get("id")){ar=aj[an].get("value");this._updateAssignment(ai,ar);aj.splice(an,1);ap=true;break}}if(!ap){this._removeAssignment(ai)}ap=false;af.shift()}for(var am=0,ak=aj.length;am<ak;am++){al=aj[am];this._createAssignment(al,ag)}ae.sync()},cancelTask:function(){var af=this._editor;var ae=af.container;if(ae){af.close()}},editTask:function(af){var ae=typeof af==="string"?this.dataSource.getByUid(af):af;if(!ae){return}var ag=this.dataSource._createNewModel(ae.toJSON());ag.uid=ae.uid;this.cancelTask();this._editTask(ag)},_editTask:function(ae){this._editor.editTask(ae)},saveTask:function(af,ah){var ai=this._editor;var ae=ai.container;var ag=ai.editable;if(ae&&ag&&ag.end()){this._updateTask(af,ah)}},_updateTask:function(ae,af){var ag=this.resources.field;if(!this.trigger("save",{task:ae,values:af})){this._preventRefresh=true;this.dataSource.update(ae,af);if(af[ag]){this._updateAssignments(ae.get("id"),af[ag])}this._syncDataSource()}},_updateAssignment:function(ag,ae){var af=this.assignments.dataValueField;ag.set(af,ae)},removeTask:function(af){var ag=this;var ae=typeof af==="string"?this.dataSource.getByUid(af):af;if(!ae){return}this._taskConfirm(function(ah){if(!ah){ag._removeTask(ae)}},ae)},_createTask:function(ae,af){if(!this.trigger("add",{task:ae,dependency:null})){var ag=this.dataSource;this._preventRefresh=true;if(af===p){ag.add(ae)}else{ag.insert(af,ae)}this._scrollToUid=ae.uid;this._syncDataSource()}},_createDependency:function(ae){if(!this.trigger("add",{task:null,dependency:ae})){this._preventDependencyRefresh=true;this.dependencies.add(ae);this._preventDependencyRefresh=false;this.dependencies.sync()}},_createAssignment:function(ah,al){var af=this.assignments;var aj=af.dataSource;var ag=af.dataTaskIdField;var ak=af.dataResourceIdField;var ae=af.dataValueField;var ai=aj._createNewModel();ai[ag]=al;ai[ak]=ah.get("id");ai[ae]=ah.get("value");aj.add(ai)},removeDependency:function(af){var ag=this;var ae=typeof af==="string"?this.dependencies.getByUid(af):af;if(!ae){return}this._dependencyConfirm(function(ah){if(!ah){ag._removeDependency(ae)}},ae)},_removeTaskDependencies:function(ae,ah){this._preventDependencyRefresh=true;for(var af=0,ag=ah.length;af<ag;af++){this.dependencies.remove(ah[af])}this._preventDependencyRefresh=false;this.dependencies.sync()},_removeTaskAssignments:function(af){var aj=this.assignments.dataSource;var ae=aj.view();var ah={field:this.assignments.dataTaskIdField,operator:"eq",value:af.get("id")};ae=new M(ae).filter(ah).toArray();this._preventRefresh=true;for(var ag=0,ai=ae.length;ag<ai;ag++){aj.remove(ae[ag])}this._preventRefresh=false;aj.sync()},_removeTask:function(ae){var af=this.dependencies.dependencies(ae.id);if(!this.trigger("remove",{task:ae,dependencies:af})){this._removeTaskDependencies(ae,af);this._removeTaskAssignments(ae);this._preventRefresh=true;if(this.dataSource.remove(ae)){this._syncDataSource()}this._preventRefresh=false}},_removeDependency:function(ae){if(!this.trigger("remove",{task:null,dependencies:[ae]})){if(this.dependencies.remove(ae)){this.dependencies.sync()}}},_removeAssignment:function(ae){this.assignments.dataSource.remove(ae)},_taskConfirm:function(ag,ae){var af=this.options.messages;this._confirm(ag,{model:ae,text:af.deleteTaskConfirmation,title:af.deleteTaskWindowTitle})},_dependencyConfirm:function(ag,ae){var af=this.options.messages;this._confirm(ag,{model:ae,text:af.deleteDependencyConfirmation,title:af.deleteDependencyWindowTitle})},_confirm:function(ai,ae){var af=this.options.editable;var ah;var ag;if(af===true||af.confirmation!==false){ah=this.options.messages;ag=[{name:"delete",text:ah.destroy,className:G.styles.primary,click:function(){ai()}},{name:"cancel",text:ah.cancel,click:function(){ai(true)}}];this.showDialog(o(true,{},ae,{buttons:ag}))}else{ai()}},showDialog:function(ae){this._editor.showDialog(ae)},refresh:function(ai){if(this._preventRefresh||this.list.editable){return}this._progress(false);var ak=this.dataSource;var ah=ak.taskTree();var aj=this._scrollToUid;var ag;var af;var ae=-1;if(this.current){af=this.current.closest("tr").attr(J.attr("uid"));ae=this.current.index()}if(this.trigger("dataBinding")){return}if(this.resources.dataSource.data().length!==0){this._assignResources(ah)}if(this._editor){this._editor.close()}this.clearSelection();this.list._render(ah);this.timeline._render(ah);this.timeline._renderDependencies(this.dependencies.view());if(aj){this._scrollTo(aj);this.select(k(aj))}if((aj||af)&&ae>=0){ag=this.list.content.find("tr"+k((aj||af))+" > td:eq("+ae+")");this._current(ag)}this._scrollToUid=null;this.trigger("dataBound")},refreshDependencies:function(ae){if(this._preventDependencyRefresh){return}if(this.trigger("dataBinding")){return}this.timeline._renderDependencies(this.dependencies.view());this.trigger("dataBound")},_assignResources:function(ae){var am=this;var ai=this.resources;var af=this.assignments;var an=function(){var ao=af.dataSource.view();var ap={field:af.dataTaskIdField};ao=new M(ao).group(ap).toArray();return ao};var aj=an();var al=function(ao,at){var aq=ao.get("id");J.setter(ai.field)(ao,new s([]));for(var ap=0,ar=aj.length;ap<ar;ap++){if(aj[ap].value===aq){at(ao,aj[ap].items)}}};var ag=function(ap,av){for(var ar=0,ao=av.length;ar<ao;ar++){var ax=av[ar];var aq=ai.dataSource.get(ax.get(af.dataResourceIdField));var aw=ax.get(af.dataValueField);var ay=ax.get(af.dataResourceIdField);var au=aq.get(ai.dataFormatField)||b;var at=J.toString(aw,au);ap[ai.field].push(new q({id:ay,name:aq.get(ai.dataTextField),color:aq.get(ai.dataColorField),value:aw,formatedValue:at}))}};for(var ak=0,ah=ae.length;ak<ah;ak++){al(ae[ak],ag)}},_wrapResourceData:function(af){var al=this;var an=[];var ai;var ah=this.resources.dataSource.view();var ae=this.assignments.dataSource.view();var aj=new M(ae).filter({field:al.assignments.dataTaskIdField,operator:"eq",value:af}).toArray();var am=function(ap){var ao=null;new M(aj).filter({field:al.assignments.dataResourceIdField,operator:"eq",value:ap}).select(function(aq){ao+=aq.get(al.assignments.dataValueField)});return ao};for(var ak=0,ag=ah.length;ak<ag;ak++){ai=ah[ak];an.push({id:ai.get("id"),name:ai.get(al.resources.dataTextField),format:ai.get(al.resources.dataFormatField)||b,value:am(ai.id)})}return an},_syncDataSource:function(){this._preventRefresh=false;this._requestStart();this.dataSource.sync()},_requestStart:function(){this._progress(true)},_error:function(){this._progress(false)},_progress:function(ae){J.ui.progress(this.element,ae)},_resizable:function(){var ah=this;var af=this.wrapper;var ai=G.styles;var ak=y+ai.gridContent;var aj=af.find(y+ai.list);var am=af.find(y+ai.timeline);var ag;var al;var ae;this._resizeDraggable=af.find(y+ai.splitBar).height(aj.height()).hover(function(an){I(this).addClass(ai.splitBarHover)},function(an){I(this).removeClass(ai.splitBarHover)}).end().kendoResizable({orientation:"horizontal",handle:y+ai.splitBar,start:function(an){ag=aj.width();al=am.width();ae=am.find(ak).scrollLeft()},resize:function(an){var ao=an.x.initialDelta;if(J.support.isRtl(af)){ao*=-1}if(ag+ao<0||al-ao<0){return}aj.width(ag+ao);am.width(al-ao);am.find(ak).scrollLeft(ae+ao);ah.timeline.view()._renderCurrentTime()}}).data("kendoResizable")},_scrollable:function(){var ah=G.styles;var af=y+ah.gridContent;var ag=y+ah.gridHeaderWrap;var ai=this.timeline.element;var ae=this.list.element;ai.find(af).on("scroll",function(aj){ai.find(ag).scrollLeft(this.scrollLeft);ae.find(af).scrollTop(this.scrollTop)});ae.find(af).on("scroll",function(aj){ae.find(ag).scrollLeft(this.scrollLeft)}).on("DOMMouseScroll"+K+" mousewheel"+K,function(al){var aj=ai.find(af);var ak=aj.scrollTop();var am=J.wheelDeltaY(al);if(am){al.preventDefault();I(al.currentTarget).one("wheel"+K,false);aj.scrollTop(ak+(-am))}})},_navigatable:function(){var ai=this;var ap=this.options.navigatable;var af=this.options.editable;var at=this.list.header.find("table");var au=this.list.content.find("table");var an=G.styles;var al=J.support.isRtl(this.wrapper);var ag=this.timeline.element.find(y+an.gridContent);var av=at.add(au);var ak=k();var am;var ae={collapse:false,expand:true};var ar=function(aw){var ax=ai.timeline.view()._timeSlots()[0].offsetWidth;ag.scrollLeft(ag.scrollLeft()+(aw?-ax:ax))};var ah=function(az){var ax=ai.current.parent("tr"+k());var aw=ai.current.index();var ay=ax[az]();if(ai.select().length!==0){ai.clearSelection()}if(ay.length!==0){ai._current(ay.children("td:eq("+aw+")"));ai._scrollTo(ai.current)}else{if(ai.current.is("td")&&az=="prev"){c(at)}else{if(ai.current.is("th")&&az=="next"){c(au)}}}};var aq=function(ax){var aw=ai.current[ax]();if(aw.length!==0){ai._current(aw);am=ai.current.index()}};var ao=function(ax){var aw=ai.dataItem(ai.current);if(aw.summary&&aw.expanded!==ax){aw.set("expanded",ax)}};var aj=function(){if(!ai.options.editable||ai.list.editable){return}var aw=ai.select();var ax=J.attr("uid");if(aw.length){ai.removeTask(aw.attr(ax))}};I(this.wrapper).on("mousedown"+K,"tr"+ak+", div"+ak+":not("+y+an.line+")",function(az){var ay=I(az.currentTarget);var aw=I(az.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap");var ax;if(az.ctrlKey){return}if(ap){if(ay.is("tr")){ax=I(az.target).closest("td")}else{ax=ai.list.content.find("tr"+k(ay.attr(J.attr("uid")))+" > td:first")}ai._current(ax)}if((ap||af)&&!aw){ai._focusTimeout=setTimeout(function(){c(ai.list.content.find("table"),true)},2)}});if(ap!==true){au.on("keydown"+K,function(aw){if(aw.keyCode==D.DELETE){aj()}});return}av.on("focus"+K,function(aA){var aw=this===au.get(0)?"td":"th";var ay=I(this);var ax=ai.select();var az=ai.current||I((ax.length?ax:this)).find(aw+":eq("+(am||0)+")");ai._current(az)}).on("blur"+K,function(){ai._current();if(this==at){I(this).attr(C,-1)}}).on("keydown"+K,function(ay){var ax=ay.keyCode;var aw;if(!ai.current){return}aw=ai.current.is("td");switch(ax){case D.RIGHT:ay.preventDefault();if(ay.altKey){ar()}else{if(ay.ctrlKey){ao(al?ae.collapse:ae.expand)}else{aq(al?"prev":"next")}}break;case D.LEFT:ay.preventDefault();if(ay.altKey){ar(true)}else{if(ay.ctrlKey){ao(al?ae.expand:ae.collapse)}else{aq(al?"next":"prev")}}break;case D.UP:ay.preventDefault();ah("prev");break;case D.DOWN:ay.preventDefault();ah("next");break;case D.SPACEBAR:ay.preventDefault();if(aw){ai.select(ai.current.closest("tr"))}break;case D.ENTER:ay.preventDefault();if(aw){if(ai.options.editable){ai._cachedCurrent=ai.current;ai.list._startEditHandler(ai.current);ay.stopPropagation()}}else{ai.current.children("a.k-link").click()}break;case D.ESC:ay.stopPropagation();break;case D.DELETE:if(aw){aj()}break;default:if(ax>=49&&ax<=57){ai.view(ai.timeline._viewByIndex(ax-49))}break}})},_current:function(ae){var ag=G.styles;var af;if(this.current&&this.current.length){this.current.removeClass(ag.focused).removeAttr("id")}if(ae&&ae.length){this.current=ae.addClass(ag.focused).attr("id",E);af=I(J._activeElement());if(af.is("table")&&this.wrapper.find(af).length>0){af.removeAttr(P).attr(P,E)}}else{this.current=null}},_dataBind:function(){var af=this;if(af.options.autoBind){this._preventRefresh=true;this._preventDependencyRefresh=true;var ae=I.map([this.dataSource,this.dependencies,this.resources.dataSource,this.assignments.dataSource],function(ag){return ag.fetch()});I.when.apply(null,ae).done(function(){af._preventRefresh=false;af._preventDependencyRefresh=false;af.refresh()})}},_resize:function(){this._adjustDimensions();this.timeline.view()._adjustHeight();this.timeline.view()._renderCurrentTime();this.list._adjustHeight()}});if(J.PDFMixin){J.PDFMixin.extend(G.fn);G.fn._drawPDF=function(){var ae="."+x.list;var ag=this.wrapper.find(ae).width();var af=this.wrapper.clone();af.find(ae).css("width",ag);return this._drawPDFShadow(af)}}J.ui.plugin(G);o(true,G,{styles:x})})(window.kendo.jQuery);(function(y,g){var ab=kendo.data;var f=y.extend;var j=kendo.dom;var J=j.element;var Q=j.text;var i=j.html;var I=kendo.ui;var v=I.DataBoundWidget;var D=ab.DataSource;var k=ab.ObservableArray;var E=ab.Query;var V=ab.Model;var W=y.proxy;var u=y.map;var ac=y.grep;var Z=y.inArray;var ae=y.isPlainObject;var S=Array.prototype.push;var X="string";var w="change";var A="error";var q="progress";var m=".";var C=".kendoTreeList";var M="click";var F="mousedown";var L="edit";var N="save";var B="expand";var p="collapse";var c="remove";var U="dataBinding";var e="dataBound";var H="cancel";var t="filterMenuInit";var h="columnHide";var d="columnShow";var P="th.k-header";var Y="columnReorder";var O="columnResize";var ad="columnMenuInit";var s="columnLock";var K="columnUnlock";var o={wrapper:"k-treelist k-grid k-widget",header:"k-header",button:"k-button",alt:"k-alt",editCell:"k-edit-cell",group:"k-treelist-group",gridToolbar:"k-grid-toolbar",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",gridFilter:"k-grid-filter",footerTemplate:"k-footer-template",loading:"k-loading",refresh:"k-i-refresh",retry:"k-request-retry",selected:"k-state-selected",status:"k-status",link:"k-link",withIcon:"k-with-icon",filterable:"k-filterable",icon:"k-icon",iconFilter:"k-filter",iconCollapse:"k-i-collapse",iconExpand:"k-i-expand",iconHidden:"k-i-none",iconPlaceHolder:"k-icon k-i-none",input:"k-input",dropPositions:"k-insert-top k-insert-bottom k-add k-insert-middle",dropTop:"k-insert-top",dropBottom:"k-insert-bottom",dropAdd:"k-add",dropMiddle:"k-insert-middle",dropDenied:"k-denied",dragStatus:"k-drag-status",dragClue:"k-drag-clue",dragClueText:"k-clue-text"};var G={create:{imageClass:"k-add",className:"k-grid-add",methodName:"addRow"},createchild:{imageClass:"k-add",className:"k-grid-add",methodName:"addRow"},destroy:{imageClass:"k-delete",className:"k-grid-delete",methodName:"removeRow"},edit:{imageClass:"k-edit",className:"k-grid-edit",methodName:"editRow"},update:{imageClass:"k-update",className:"k-primary k-grid-update",methodName:"saveRow"},canceledit:{imageClass:"k-cancel",className:"k-grid-cancel",methodName:"_cancelEdit"},excel:{imageClass:"k-i-excel",className:"k-grid-excel",methodName:"saveAsExcel"},pdf:{imageClass:"k-i-pdf",className:"k-grid-pdf",methodName:"saveAsPDF"}};var aa=V.define({id:"id",fields:{id:{type:"number"},parentId:{type:"number",nullable:true}},init:function(af){V.fn.init.call(this,af);this._loaded=false},loaded:function(af){if(af!==g){this._loaded=af}else{return this._loaded}},shouldSerialize:function(af){return V.fn.shouldSerialize.call(this,af)&&af!=="_loaded"&&af!="_error"&&af!="_edit"}});function r(af){return function(ag){return ag[af]}}function T(af){return function(ag){return !af(ag)}}var R=D.extend({init:function(af){D.fn.init.call(this,f(true,{},{schema:{modelBase:aa,model:aa}},af))},_createNewModel:function(ah){var af={};var ag=ah instanceof V;if(ag){af=ah}af=D.fn._createNewModel.call(this,af);if(!ag){af.accept(ah)}return af},_readData:function(ah){var af=[];var aj=this.data();var ag,ai;for(ag=0,ai=aj.length;ag<ai;ag++){af.push(aj[ag])}return af.concat(D.fn._readData.call(this,ah))},_readAggregates:function(ag){var af=f(this._aggregateResult,this.reader.aggregates(ag));if("" in af){af[this._defaultParentId()]=af[""];delete af[""]}return af},remove:function(af){var ag=this._subtree(this._childrenMap(this.data()),af.id);this._removeItems(ag);D.fn.remove.call(this,af)},_filterCallback:function(ak){var af=[];var aj=ak.toArray();var al={};var ag,ah,ai;for(ag=0;ag<aj.length;ag++){ai=aj[ag];while(ai){al[ai.id]=true;if(!al[ai.parentId]){al[ai.parentId]=true;ai=this.parentNode(ai);if(ai){af.push(ai)}}else{break}}}return new E(aj.concat(af))},_subtree:function(ai,ak){var ag=ai[ak]||[];var aj=this._defaultParentId();for(var ah=0,af=ag.length;ah<af;ah++){if(ag[ah].id!==aj){ag=ag.concat(this._subtree(ai,ag[ah].id))}}return ag},_childrenMap:function(ah){var ai={};var af,ag,ak,aj;ah=this._observeView(ah);for(af=0;af<ah.length;af++){ag=ah[af];ak=ag.id;aj=ag.parentId;ai[ak]=ai[ak]||[];ai[aj]=ai[aj]||[];ai[aj].push(ag)}return ai},_calculateAggregates:function(ai,an){an=an||{};var ao={};var am,al,aj,ah,ak;var ag=an.filter;if(ag){ai=E.process(ai,{filter:ag,filterCallback:W(this._filterCallback,this)}).data}var af=this._childrenMap(ai);ao[this._defaultParentId()]=new E(this._subtree(af,this._defaultParentId())).aggregate(an.aggregate);for(aj=0;aj<ai.length;aj++){am=ai[aj];al=this._subtree(af,am.id);ao[am.id]=new E(al).aggregate(an.aggregate)}return ao},_queryProcess:function(ah,am){am=am||{};am.filterCallback=W(this._filterCallback,this);var ak=this._defaultParentId();var an=E.process(ah,am);var af=this._childrenMap(an.data);var aj,ai,al,ag;ah=af[ak]||[];for(ai=0;ai<ah.length;ai++){al=ah[ai];if(al.id===ak){continue}ag=af[al.id];aj=!!(ag&&ag.length);if(!al.loaded()){al.loaded(aj||!al.hasChildren)}if(al.loaded()||al.hasChildren!==true){al.hasChildren=aj}if(aj){ah.splice.apply(ah,[ai+1,0].concat(ag))}}an.data=ah;return an},_queueRequest:function(af,ag){ag.call(this)},_modelLoaded:function(ag){var af=this.get(ag);af.loaded(true);af.hasChildren=this.childNodes(af).length>0},_modelError:function(ag,af){this.get(ag)._error=af},read:function(af){if(!af||!af.id){this._data=this._observe([])}return D.fn.read.call(this,af)},load:function(af){var ai="_query";var ah=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates;var ag=y.Deferred().resolve().promise();if(af.loaded()){if(ah){return ag}}else{if(af.hasChildren){ai="read"}}return this[ai]({id:af.id}).then(W(this._modelLoaded,this,af.id),W(this._modelError,this,af.id))},_byParentId:function(ak,ah){var af=[];var ag=this.view();var aj;if(ak===ah){return[]}for(var ai=0;ai<ag.length;ai++){aj=ag.at(ai);if(aj.parentId==ak){af.push(aj)}}return af},_defaultParentId:function(){return this.reader.model.fn.defaults.parentId},childNodes:function(af){return this._byParentId(af.id,this._defaultParentId())},rootNodes:function(){return this._byParentId(this._defaultParentId())},parentNode:function(af){return this.get(af.parentId)},level:function(ag){var af=-1;if(!(ag instanceof aa)){ag=this.get(ag)}do{ag=this.parentNode(ag);af++}while(ag);return af},filter:function(ag){var af=D.fn.filter;if(ag===g){return af.call(this,ag)}af.call(this,ag)}});R.create=function(af){if(y.isArray(af)){af={data:af}}else{if(af instanceof k){af={data:af.toJSON()}}}return af instanceof R?af:new R(af)};function l(af){var ah=[];var ai=af.className;for(var ag=0,aj=af.level;ag<aj;ag++){ah.push(J("span",{className:ai}))}return ah}function b(aj){var ah,ag=0;for(var af=0,ai=aj.length;af<ai;af++){ah=aj[af].style.width;if(ah&&ah.indexOf("%")==-1){ag+=parseInt(ah,10)}}return ag}var n=kendo.Observable.extend({init:function(ag,af){kendo.Observable.fn.init.call(this);af=this.options=f(true,{},this.options,af);this.element=ag;this.bind(this.events,af);this.model=this.options.model;this.fields=this._fields(this.options.columns);this._initContainer();this.createEditable()},events:[],_initContainer:function(){this.wrapper=this.element},createEditable:function(){var af=this.options;this.editable=new I.Editable(this.wrapper,{fields:this.fields,target:af.target,clearContainer:af.clearContainer,model:this.model})},_isEditable:function(af){return af.field&&this.model.editable(af.field)},_fields:function(ah){var ag=[];var af,aj,ai;for(af=0,aj=ah.length;af<aj;af++){ai=ah[af];if(this._isEditable(ai)){ag.push({field:ai.field,format:ai.format,editor:ai.editor})}}return ag},end:function(){return this.editable.end()},close:function(){this.destroy()},destroy:function(){this.editable.destroy();this.editable.element.find("["+kendo.attr("container-for")+"]").empty().end().removeAttr(kendo.attr("role"));this.model=this.wrapper=this.element=this.columns=this.editable=null}});var x=n.extend({init:function(ag,af){n.fn.init.call(this,ag,af);this._attachHandlers();this.open()},events:[H,N],options:{window:{modal:true,resizable:false,draggable:true,title:"Edit",visible:false}},_initContainer:function(){var af=this.options;var ag=[];this.wrapper=y('<div class="k-popup-edit-form"/>').attr(kendo.attr("uid"),this.model.uid).append('<div class="k-edit-form-container"/>');if(af.template){this._appendTemplate(ag);this.fields=[]}else{this._appendFields(ag)}this._appendButtons(ag);new j.Tree(this.wrapper.children()[0]).render(ag);this.wrapper.appendTo(af.appendTo);this.window=new I.Window(this.wrapper,af.window)},_appendTemplate:function(ag){var af=this.options.template;if(typeof af===X){af=window.unescape(af)}af=kendo.template(af)(this.model);ag.push(i(af))},_appendFields:function(ak){var af,aj,ai;var ag=this.model;var ah=this.options.columns;for(af=0,aj=ah.length;af<aj;af++){ai=ah[af];if(ai.command){continue}ak.push(i('<div class="k-edit-label"><label for="'+ai.field+'">'+(ai.title||ai.field||"")+"</label></div>"));if(this._isEditable(ai)){ak.push(i("<div "+kendo.attr("container-for")+'="'+ai.field+'" class="k-edit-field"></div>'))}else{ak.push(J("div",{"class":"k-edit-field"},[this.options.fieldRenderer(ai,this.model)]))}}},_appendButtons:function(af){af.push(J("div",{"class":"k-edit-buttons k-state-default"},this.options.commandRenderer()))},_attachHandlers:function(){var af=this._cancelProxy=W(this._cancel,this);this.wrapper.on(M+C,".k-grid-cancel",this._cancelProxy);this._saveProxy=W(this._save,this);this.wrapper.on(M+C,".k-grid-update",this._saveProxy);this.window.bind("close",function(ag){if(ag.userTriggered){af(ag)}})},_dettachHandlers:function(){this._cancelProxy=null;this._saveProxy=null;this.wrapper.off(C)},_cancel:function(af){this.trigger(H,af)},_save:function(af){this.trigger(N)},open:function(){this.window.center().open()},close:function(){this.window.bind("deactivate",W(this.destroy,this)).close()},destroy:function(){this.window.destroy();this.window=null;this._dettachHandlers();n.fn.destroy.call(this)}});var z=v.extend({init:function(ag,af){v.fn.init.call(this,ag,af);this._dataSource(this.options.dataSource);this._columns();this._layout();this._selectable();this._sortable();this._resizable();this._filterable();this._attachEvents();this._toolbar();this._scrollable();this._reorderable();this._columnMenu();if(this.options.autoBind){this.dataSource.fetch()}if(this._hasLockedColumns){var ah=this;this.wrapper.addClass("k-grid-lockedcolumns");this._resizeHandler=function(){ah.resize()};y(window).on("resize"+C,this._resizeHandler)}kendo.notify(this)},_scrollable:function(){if(this.options.scrollable){var ag=this.thead.closest(".k-grid-header-wrap");var ah=y(this.lockedContent).bind("DOMMouseScroll"+C+" mousewheel"+C,W(this._wheelScroll,this));this.content.bind("scroll"+C,function(){ag.scrollLeft(this.scrollLeft);ah.scrollTop(this.scrollTop)});var af=kendo.touchScroller(this.content);if(af&&af.movable){this._touchScroller=af;af.movable.bind("change",function(ai){ag.scrollLeft(-ai.sender.x);if(ah){ah.scrollTop(-ai.sender.y)}})}}},_wheelScroll:function(af){if(af.ctrlKey){return}var ag=kendo.wheelDeltaY(af);if(ag){af.preventDefault();y(af.currentTarget).one("wheel"+C,false);this.content.scrollTop(this.content.scrollTop()+(-ag))}},_progress:function(){var af=this.options.messages;if(!this.tbody.find("tr").length){this._showStatus(kendo.template("<span class='#= className #' /> #: messages.loading #")({className:o.icon+" "+o.loading,messages:af}))}},_error:function(af){if(!this.dataSource.rootNodes().length){this._render({error:af})}},refresh:function(af){af=af||{};if(af.action=="itemchange"&&this.editor){return}if(this.trigger(U)){return}this._cancelEditor();this._render();this._adjustHeight();this.trigger(e)},_angularFooters:function(ai){var ah,ak,aj;var af=this.dataSource.aggregates();var ag=this._footerItems();for(ah=0;ah<ag.length;ah++){ak=ag.eq(ah);aj=af[ak.attr("data-parentId")];this._angularFooter(ai,ak.find("td").get(),aj)}},_angularFooter:function(ah,af,ai){var ag=this.columns;this.angular(ah,function(){return{elements:af,data:u(ag,function(aj,ak){return{column:aj,aggregate:ai&&ai[aj.field]}})}})},items:function(){if(this._hasLockedColumns){return this._items(this.tbody).add(this._items(this.lockedTable))}else{return this._items(this.tbody)}},_items:function(af){return af.find("tr").filter(function(){return !y(this).hasClass(o.footerTemplate)})},_footerItems:function(){var af=this.tbody;if(this._hasLockedColumns){af=af.add(this.lockedTable)}return af.find("tr").filter(function(){return y(this).hasClass(o.footerTemplate)})},dataItems:function(){var af=kendo.ui.DataBoundWidget.fn.dataItems.call(this);if(this._hasLockedColumns){var ai=af.length,ah=new Array(2*ai);for(var ag=ai;--ag>=0;){ah[ag]=ah[ag+ai]=af[ag]}af=ah}return af},_showStatus:function(ah){var af=this.element.find(".k-status");var ag=y(this.content).add(this.lockedContent);if(!af.length){af=y("<div class='k-status' />").appendTo(this.element)}this._contentTree.render([]);if(this._hasLockedColumns){this._lockedContentTree.render([])}ag.hide();af.html(ah)},_hideStatus:function(){this.element.find(".k-status").remove();y(this.content).add(this.lockedContent).show()},_adjustHeight:function(){var ag=this.element;var al=ag.find(m+o.gridContentWrap);var ak=ag.find(m+o.gridHeader);var ah=ag.find(m+o.gridToolbar);var af;var aj=kendo.support.scrollbar();ag.height(this.options.height);var ai=function(ao){var an,am;if(ao[0].style.height){return true}else{an=ao.height()}ao.height("auto");am=ao.height();ao.height("");return(an!=am)};if(ai(ag)){af=ag.height()-ak.outerHeight()-ah.outerHeight();al.height(af);if(this._hasLockedColumns){aj=this.table[0].offsetWidth>this.table.parent()[0].clientWidth?aj:0;this.lockedContent.height(af-aj)}}},_resize:function(){this._applyLockedContainersWidth();this._adjustHeight()},destroy:function(){v.fn.destroy.call(this);var af=this.dataSource;af.unbind(w,this._refreshHandler);af.unbind(A,this._errorHandler);af.unbind(q,this._progressHandler);if(this._resizeHandler){y(window).off("resize"+C,this._resizeHandler)}if(this.resizable){this.resizable.destroy();this.resizable=null}if(this.reorderable){this.reorderable.destroy();this.reorderable=null}if(this._draggableInstance&&this._draggableInstance.element){this._draggableInstance.destroy();this._draggableInstance=null}this._destroyEditor();this.element.off(C);if(this._touchScroller){this._touchScroller.destroy()}this._autoExpandable=null;this._refreshHandler=this._errorHandler=this._progressHandler=null;this.thead=this.content=this.tbody=this.table=this.element=this.lockedHeader=this.lockedContent=null;this._statusTree=this._headerTree=this._contentTree=this._lockedHeaderColsTree=this._lockedContentColsTree=this._lockedHeaderTree=this._lockedContentTree=null},options:{name:"TreeList",columns:[],autoBind:true,scrollable:true,selectable:false,sortable:false,toolbar:null,height:null,columnMenu:false,messages:{noRows:"No records to display",loading:"Loading...",requestFailed:"Request failed.",retry:"Retry",commands:{edit:"Edit",update:"Update",canceledit:"Cancel",create:"Add new record",createchild:"Add child record",destroy:"Delete",excel:"Export to Excel",pdf:"Export to PDF"}},excel:{hierarchy:true},resizable:false,filterable:false,editable:false,reorderable:false},events:[w,L,N,c,B,p,U,e,H,t,h,d,Y,O,ad,s,K],_toggle:function(ag,ah){var af=ag.loaded();if(ag._error){ag.expanded=false;ag._error=g}if(!af&&ag.expanded){return}if(typeof ah=="undefined"){ah=!ag.expanded}ag.expanded=ah;if(!af){this.dataSource.load(ag).always(W(function(){this._render()},this))}this._render()},expand:function(af){this._toggle(this.dataItem(af),true)},collapse:function(af){this._toggle(this.dataItem(af),false)},_toggleChildren:function(ai){var ag=y(ai.currentTarget);var af=this.dataItem(ag);var ah=!af.expanded?B:p;if(!this.trigger(ah,{model:af})){this._toggle(af)}ai.preventDefault()},_attachEvents:function(){var ag=m+o.iconCollapse+", ."+o.iconExpand+", ."+o.refresh;var af=m+o.retry;var ah=this.dataSource;this.element.on(F+C,ag,W(this._toggleChildren,this)).on(M+C,af,W(ah.fetch,ah)).on(M+C,".k-button[data-command]",W(this._commandClick,this))},_commandByName:function(ai){var ak=this.columns;var al=y.isArray(this.options.toolbar)?this.options.toolbar:[];var aj,ah,af,ag;ai=ai.toLowerCase();if(G[ai]){return G[ai]}for(aj=0;aj<ak.length;aj++){af=ak[aj].command;if(af){for(ah=0;ah<af.length;ah++){ag=af[ah].name;if(!ag){continue}if(ag.toLowerCase()==ai){return af[ah]}}}}for(aj=0;aj<al.length;aj++){ag=al[aj].name;if(!ag){continue}if(ag.toLowerCase()==ai){return al[aj]}}},_commandClick:function(ah){var ag=y(ah.currentTarget);var af=ag.attr("data-command");var aj=this._commandByName(af);var ai=ag.parentsUntil(this.wrapper,"tr");ai=ai.length?ai:g;if(aj){if(aj.methodName){this[aj.methodName](ai)}else{if(aj.click){aj.click.call(this,ah)}}ah.preventDefault()}},_ensureExpandableColumn:function(){if(this._autoExpandable){delete this._autoExpandable.expandable}var af=ac(this.columns,T(r("hidden")));var ag=ac(af,r("expandable"));if(this.columns.length&&!ag.length){this._autoExpandable=af[0];af[0].expandable=true}},_columns:function(){var af=this.options.columns||[];this.columns=u(af,function(ah){ah=(typeof ah==="string")?{field:ah}:ah;return f({encoded:true},ah)});var ag=this._lockedColumns();if(ag.length>0){this._hasLockedColumns=true;this.columns=ag.concat(this._nonLockedColumns())}this._ensureExpandableColumn();this._columnTemplates();this._columnAttributes()},_columnTemplates:function(){var af,ai,ah;var ag=this.columns;for(af=0,ai=ag.length;af<ai;af++){ah=ag[af];if(ah.template){ah.template=kendo.template(ah.template)}if(ah.headerTemplate){ah.headerTemplate=kendo.template(ah.headerTemplate)}if(ah.footerTemplate){ah.footerTemplate=kendo.template(ah.footerTemplate)}}},_columnAttributes:function(){var ag,aj,ai;var ah=this.columns;function af(ak){var an,am,ao;if(ak&&ak.style){an=ak.style.split(";");ak.style={};for(am=0;am<an.length;am++){ao=an[am].split(":");var al=y.trim(ao[0]);if(al){ak.style[y.camelCase(al)]=y.trim(ao[1])}}}}for(ag=0,aj=ah.length;ag<aj;ag++){af(ah[ag].attributes);af(ah[ag].headerAttributes)}},_layout:function(){var ag=this.columns;var af=this.element;var ai="";this.wrapper=af.addClass(o.wrapper);ai="<div class='#= gridHeader #' style=\"padding-right: "+kendo.support.scrollbar()+'px;">';if(this._hasLockedColumns){ai+="<div class='k-grid-header-locked'><table role='grid'><colgroup></colgroup><thead role='rowgroup' /></table></div>"}ai+="<div class='#= gridHeaderWrap #'><table role='grid'><colgroup></colgroup><thead role='rowgroup' /></table></div></div>";if(this._hasLockedColumns){ai+="<div class='k-grid-content-locked'><table role='treegrid' tabindex='0'><colgroup></colgroup><tbody /></table></div>"}ai+="<div class='#= gridContentWrap #'><table role='treegrid' tabindex='0'><colgroup></colgroup><tbody /></table></div>";if(!this.options.scrollable){ai="<table role='treegrid' tabindex='0'><colgroup></colgroup><thead class='#= gridHeader #' role='rowgroup' /><tbody /></table>"}if(this.options.toolbar){ai="<div class='#= header # #= gridToolbar #' />"+ai}af.append(kendo.template(ai)(o)+"<div class='k-status' />");this.toolbar=af.find(m+o.gridToolbar);var aj=af.find(m+o.gridHeader).find("thead").addBack().filter("thead");this.thead=aj.last();var ah=af.find(m+o.gridContentWrap);if(!ah.length){ah=af}else{this.content=ah}this.table=ah.find(">table");this.tbody=this.table.find(">tbody");if(this._hasLockedColumns){this.lockedHeader=aj.first().closest(".k-grid-header-locked");this.lockedContent=af.find(".k-grid-content-locked");this.lockedTable=this.lockedContent.children()}this._initVirtualTrees();this._renderCols();this._renderHeader();this.angular("compile",function(){return{elements:aj.find("th.k-header").get(),data:u(ag,function(ak){return{column:ak}})}})},_initVirtualTrees:function(){this._headerColsTree=new j.Tree(this.thead.prev()[0]);this._contentColsTree=new j.Tree(this.tbody.prev()[0]);this._headerTree=new j.Tree(this.thead[0]);this._contentTree=new j.Tree(this.tbody[0]);this._statusTree=new j.Tree(this.element.children(".k-status")[0]);if(this.lockedHeader){this._lockedHeaderColsTree=new j.Tree(this.lockedHeader.find("colgroup")[0]);this._lockedContentColsTree=new j.Tree(this.lockedTable.find(">colgroup")[0]);this._lockedHeaderTree=new j.Tree(this.lockedHeader.find("thead")[0]);this._lockedContentTree=new j.Tree(this.lockedTable.find(">tbody")[0])}},_toolbar:function(){var af=this.options.toolbar;var ah=this.toolbar;if(!af){return}if(y.isArray(af)){var ag=this._buildCommands(af);new j.Tree(ah[0]).render(ag)}else{ah.append(kendo.template(af)({}))}this.angular("compile",function(){return{elements:ah.get()}})},_lockedColumns:function(){return ac(this.columns,r("locked"))},_nonLockedColumns:function(){return ac(this.columns,T(r("locked")))},_render:function(af){af=af||{};var ah=this.options.messages;var ai=this.dataSource.rootNodes();var aj=this.dataSource.aggregates();var ag=this.select().map(function(ak,al){return y(al).attr("data-uid")});this._absoluteIndex=0;this._angularItems("cleanup");this._angularFooters("cleanup");if(af.error){this._showStatus(kendo.template("#: messages.requestFailed # <button class='#= buttonClass #'>#: messages.retry #</button>")({buttonClass:[o.button,o.retry].join(" "),messages:ah}))}else{if(!ai.length){this._showStatus(kendo.htmlEncode(ah.noRows))}else{this._hideStatus();this._contentTree.render(this._trs({columns:this._nonLockedColumns(),aggregates:af.aggregates,selected:ag,data:ai,visible:true,level:0}));if(this._hasLockedColumns){this._absoluteIndex=0;this._lockedContentTree.render(this._trs({columns:this._lockedColumns(),aggregates:af.aggregates,selected:ag,data:ai,visible:true,level:0}))}}}if(this._touchScroller){this._touchScroller.contentResized()}this._angularItems("compile");this._angularFooters("compile");this._adjustRowsHeight()},_adjustRowsHeight:function(){if(!this._hasLockedColumns){return}var aq=this.table;var ai=this.lockedTable;var at=aq[0].rows;var ag=at.length;var ao;var aj=ai[0].rows;var ah=aq.add(ai);var am=ah.length;var an=[];var ak=this.lockedHeader.find("tr");var al=this.thead.find("tr");ak.add(al).height("auto").height(Math.max(ak.height(),al.height()));for(ao=0;ao<ag;ao++){if(!aj[ao]){break}if(at[ao].style.height){at[ao].style.height=aj[ao].style.height=""}var af=at[ao].offsetHeight;var ar=aj[ao].offsetHeight;var ap=0;if(af>ar){ap=af}else{if(af<ar){ap=ar}}an.push(ap)}for(ao=0;ao<am;ao++){ah[ao].style.display="none"}for(ao=0;ao<ag;ao++){if(an[ao]){at[ao].style.height=aj[ao].style.height=(an[ao]+1)+"px"}}for(ao=0;ao<am;ao++){ah[ao].style.display=""}},_ths:function(ak){var af=this.options.filterable;var ag=[];var aj,ap,ai,ao,am,an;for(var al=0,ah=ak.length;al<ah;al++){aj=ak[al];ai=[];ao=[o.header];if(aj.headerTemplate){ap=aj.headerTemplate({})}else{ap=aj.title||aj.field||""}if(aj.headerTemplate){an=i(ap)}else{an=Q(ap)}if(aj.sortable){ai.push(J("a",{href:"#",className:o.link},[an]))}else{ai.push(an)}am={"data-field":aj.field,"data-title":aj.title,style:aj.hidden===true?{display:"none"}:{},className:ao.join(" "),role:"columnheader"};am=f(true,{},am,aj.headerAttributes);ag.push(J("th",am,ai))}return ag},_cols:function(ah){var aj=[];var ai,af;for(var ag=0;ag<ah.length;ag++){if(ah[ag].hidden===true){continue}ai=ah[ag].width;af={};if(ai&&parseInt(ai,10)!==0){af.style={width:typeof ai==="string"?ai:ai+"px"}}aj.push(J("col",af))}return aj},_renderCols:function(){var af=this._nonLockedColumns();this._headerColsTree.render(this._cols(af));if(this.options.scrollable){this._contentColsTree.render(this._cols(af))}if(this._hasLockedColumns){af=this._lockedColumns();this._lockedHeaderColsTree.render(this._cols(af));this._lockedContentColsTree.render(this._cols(af))}},_renderHeader:function(){var af=this._nonLockedColumns();this._headerTree.render([J("tr",{role:"row"},this._ths(af))]);if(this._hasLockedColumns){af=this._lockedColumns();this._lockedHeaderTree.render([J("tr",{role:"row"},this._ths(af))]);this._applyLockedContainersWidth()}},_applyLockedContainersWidth:function(){if(!this._hasLockedColumns){return}var ag=b(this.lockedHeader.find(">table>colgroup>col"));var ah=this.thead.parent();var aj=b(ah.find(">colgroup>col"));var af=this.wrapper[0].clientWidth;var ak=kendo.support.scrollbar();if(ag>=af){ag=af-3*ak}this.lockedHeader.add(this.lockedContent).width(ag);ah.add(this.table).width(aj);var ai=af-ag-2;this.content.width(ai);ah.parent().width(ai-ak)},_trs:function(au){var am,ap,aq,an,ar,ak,ah,al;var at=[];var ag=au.level;var aj=au.data;var af=this.dataSource;var ao=af.aggregates()||{};var ai=au.columns;for(ak=0,ah=aj.length;ak<ah;ak++){aq=[];am=aj[ak];ar=am.loaded()&&af.childNodes(am);an=ar&&ar.length;ap={"data-uid":am.uid,role:"row"};if(an){ap["aria-expanded"]=!!am.expanded}if(au.visible){if(this._absoluteIndex%2!==0){aq.push(o.alt)}this._absoluteIndex++}else{ap.style={display:"none"}}if(y.inArray(am.uid,au.selected)>=0){aq.push(o.selected)}if(an){aq.push(o.group)}if(am._edit){aq.push("k-grid-edit-row")}ap.className=aq.join(" ");at.push(this._tds({model:am,attr:ap,level:ag},ai,W(this._td,this)));if(an){at=at.concat(this._trs({columns:ai,parentId:am.id,aggregates:ao,selected:au.selected,visible:au.visible&&!!am.expanded,data:ar,level:ag+1}))}}if(this._hasFooterTemplate()){al=au.parentId||null;ap={className:o.footerTemplate,"data-parentId":al};if(!au.visible){ap.style={display:"none"}}at.push(this._tds({model:ao[al],attr:ap,level:ag},ai,this._footerTd))}return at},_footerTd:function(ag){var aj=[];var ai=ag.column;var ah=ag.column.footerTemplate||y.noop;var ak=ag.model[ai.field]||{};var af={role:"gridcell",style:ai.hidden===true?{display:"none"}:{}};if(ai.expandable){aj=aj.concat(l({level:ag.level+1,className:o.iconPlaceHolder}))}if(ai.attributes){f(af,ai.attributes)}aj.push(i(ah(ak)||""));return J("td",af,aj)},_hasFooterTemplate:function(){return !!ac(this.columns,function(af){return af.footerTemplate}).length},_tds:function(ag,aj,al){var ai=[];var ak;for(var ah=0,af=aj.length;ah<af;ah++){ak=aj[ah];ai.push(al({model:ag.model,column:ak,level:ag.level}))}return J("tr",ag.attr,ai)},_td:function(ai){var aj=[];var ah=ai.model;var ak=ai.column;var ag;var af={role:"gridcell",style:ak.hidden===true?{display:"none"}:{}};if(ah._edit&&ak.field&&ah.editable(ak.field)){af[kendo.attr("container-for")]=ak.field}else{if(ak.expandable){aj=l({level:ai.level,className:o.iconPlaceHolder});ag=[o.icon];if(ah.hasChildren){ag.push(ah.expanded?o.iconCollapse:o.iconExpand)}else{ag.push(o.iconHidden)}if(ah._error){ag.push(o.refresh)}else{if(!ah.loaded()&&ah.expanded){ag.push(o.loading)}}aj.push(J("span",{className:ag.join(" ")}));af.style["white-space"]="nowrap"}if(ak.attributes){f(true,af,ak.attributes)}if(ak.command){if(ah._edit){aj=this._buildCommands(["update","canceledit"])}else{aj=this._buildCommands(ak.command)}}else{aj.push(this._cellContent(ak,ah))}}return J("td",af,aj)},_cellContent:function(ag,af){var ah;if(ag.template){ah=ag.template(af)}else{if(ag.field){ah=af.get(ag.field);if(ag.format){ah=kendo.format(ag.format,ah)}}}if(ah===null||typeof ah=="undefined"){ah=""}if(ag.template||!ag.encoded){return i(ah)}else{return Q(ah)}},_buildCommands:function(ag){var ah,af=[];for(ah=0;ah<ag.length;ah++){af.push(this._button(ag[ah]))}return af},_button:function(ai){var af=(ai.name||ai).toLowerCase();var ah=this.options.messages.commands[af];var ag=[];ai=f({},G[af],{text:ah},ai);if(ai.imageClass){ag.push(J("span",{className:["k-icon",ai.imageClass].join(" ")}))}return J("button",{"data-command":af,className:["k-button","k-button-icontext",ai.className].join(" ")},ag.concat([Q(ai.text||ai.name)]))},_positionResizeHandle:function(al){var ag=y(al.currentTarget);var aj=3;var an=this.resizeHandle;var ak=ag.position();var ah=ak.left;var ai=ag.outerWidth();var af=ag.closest(".k-grid-header-wrap,.k-grid-header-locked,.k-treelist");ah+=af.scrollLeft();if(!an){an=this.resizeHandle=y('<div class="k-resize-handle"><div class="k-resize-handle-inner" /></div>')}af.append(an);if(al.clientX>ah+ai/2){ah+=ai}else{ag=ag.prev()}var am=!!ag.length&&ah>aj;an.toggle(am).css({top:ak.top,left:ah-aj-1,height:ag.outerHeight(),width:aj*3}).data("th",ag)},_resizable:function(){if(!this.options.resizable){return}if(this.resizable){this.resizable.destroy()}var af=this;y(this.lockedHeader).find("thead").add(this.thead).on("mousemove"+C,"th",y.proxy(this._positionResizeHandle,this));this.resizable=new kendo.ui.Resizable(this.wrapper,{handle:".k-resize-handle",start:function(aj){var ai=y(aj.currentTarget).data("th");var ah="col:eq("+ai.index()+")";var ak,ag;af.wrapper.addClass("k-grid-column-resizing");if(af.lockedHeader&&y.contains(af.lockedHeader[0],ai[0])){ak=af.lockedHeader;ag=af.lockedTable}else{ak=af.thead.parent();ag=af.table}this.col=ag.children("colgroup").find(ah).add(ak.find(ah));this.th=ai;this.startLocation=aj.x.location;this.columnWidth=ai.outerWidth();this.table=this.col.closest("table");this.totalWidth=this.table.width()},resize:function(ah){var ag=11;var ai=ah.x.location-this.startLocation;if(this.columnWidth+ai<ag){ai=ag-this.columnWidth}this.table.width(this.totalWidth+ai);this.col.width(this.columnWidth+ai)},resizeend:function(){af.wrapper.removeClass("k-grid-column-resizing");var ai=this.th.attr("data-field");var ag=ac(af.columns,function(aj){return aj.field==ai});var ah=Math.floor(this.th.outerWidth());ag[0].width=ah;af._resize();af._adjustRowsHeight();af.trigger(O,{column:ag,oldWidth:this.columnWidth,newWidth:ah});this.table=this.col=this.th=null}})},_sortable:function(){var ah=this.columns;var ag;var an;var am=y(this.lockedHeader).add(this.thead).find("th");var al,ak,af;var aj=kendo.attr("field");var ai=this.options.sortable;if(!ai){return}for(ak=0,af=am.length;ak<af;ak++){ag=ah[ak];if(ag.sortable!==false&&!ag.command&&ag.field){al=am.eq(ak);an=al.data("kendoColumnSorter");if(an){an.destroy()}al.attr(aj,ag.field).kendoColumnSorter(f({},ai,ag.sortable,{dataSource:this.dataSource}))}}},_filterable:function(){var ah=y(this.lockedHeader).add(this.thead).find("th");var ak=this.options.filterable;var ag,aj,ai,af,al;if(!ak||this.options.columnMenu){return}var am=W(function(an){this.trigger(t,{field:an.field,container:an.container})},this);for(ag=0,aj=ah.length;ag<aj;ag++){ai=this.columns[ag];af=ah.eq(ag);al=af.data("kendoFilterMenu");if(al){al.destroy()}if(ai.command||ai.filterable===false){continue}af.kendoFilterMenu(f(true,{},ak,ai.filterable,{dataSource:this.dataSource,init:am}))}},_change:function(){this.trigger(w)},_selectable:function(){var ag=this.options.selectable;var ai;var ah=this.table;var af;if(ag){ag=kendo.ui.Selectable.parseOptions(ag);if(this._hasLockedColumns){ah=ah.add(this.lockedTable);af=ag.multiple&&ag.cell}ai=">tbody>tr:not(.k-footer-template)";if(ag.cell){ai=ai+">td"}this.selectable=new kendo.ui.Selectable(ah,{filter:ai,aria:true,multiple:ag.multiple,change:W(this._change,this),useAllItems:af,continuousItems:W(this._continuousItems,this,ai,ag.cell),relatedTarget:!ag.cell&&this._hasLockedColumns?W(this._selectableTarget,this):g})}},_continuousItems:function(aj,ah){if(!this.lockedContent){return}var am=y(aj,this.lockedTable);var al=y(aj,this.table);var ai=ah?this._lockedColumns().length:1;var ak=ah?this.columns.length-ai:1;var ag=[];for(var af=0;af<am.length;af+=ai){S.apply(ag,am.slice(af,af+ai));S.apply(ag,al.splice(0,ak))}return ag},_selectableTarget:function(ah){var aj;var ag=y();for(var af=0,ai=ah.length;af<ai;af++){aj=this._relatedRow(ah[af]);if(Z(aj[0],ah)<0){ag=ag.add(aj)}}return ag},_relatedRow:function(ai){var ag=this.lockedTable;ai=y(ai);if(!ag){return ai}var ah=ai.closest(this.table.add(this.lockedTable));var af=ah.find(">tbody>tr").index(ai);ah=ah[0]===this.table[0]?ag:this.table;return ah.find(">tbody>tr").eq(af)},select:function(ag){var af=this.selectable;if(!af){return y()}if(typeof ag!=="undefined"){if(!af.options.multiple){af.clear();ag=ag.first()}if(this._hasLockedColumns){ag=ag.add(y.map(ag,W(this._relatedRow,this)))}}return af.value(ag)},clearSelection:function(){var af=this.select();if(af.length){this.selectable.clear();this.trigger(w)}},_dataSource:function(ag){var af=this.dataSource;if(af){af.unbind(w,this._refreshHandler);af.unbind(A,this._errorHandler);af.unbind(q,this._progressHandler)}this._refreshHandler=W(this.refresh,this);this._errorHandler=W(this._error,this);this._progressHandler=W(this._progress,this);af=this.dataSource=R.create(ag);af.bind(w,this._refreshHandler);af.bind(A,this._errorHandler);af.bind(q,this._progressHandler)},setDataSource:function(af){this._dataSource(af);this._sortable();this._filterable();this._contentTree.render([]);if(this.options.autoBind){this.dataSource.fetch()}},dataItem:function(ag){var ah=y(ag).closest("tr");var af=this.dataSource.getByUid(ah.attr(kendo.attr("uid")));return af},editRow:function(ag){var af;if(typeof ag===X){ag=this.tbody.find(ag)}af=this.dataItem(ag);if(!af){return}if(this._editMode()!="popup"){af._edit=true}this._cancelEditor();this._render();this._createEditor(af);this.trigger(L,{container:this.editor.wrapper,model:af})},_cancelEdit:function(af){af=f(af,{container:this.editor.wrapper,model:this.editor.model});if(this.trigger(H,af)){return}this.cancelRow()},cancelRow:function(){this._cancelEditor();this._render()},saveRow:function(){var ag=this.editor;var af;if(!ag){return}af={model:ag.model,container:ag.wrapper};if(ag.end()&&!this.trigger(N,af)){this.dataSource.sync()}},addRow:function(ai){var ah=this.editor;var ag=0;var af={};if(ah&&!ah.end()){return}if(ai){if(!(ai instanceof aa)){ai=this.dataItem(ai)}af.parentId=ai.id;ag=this.dataSource.indexOf(ai)+1;ai.set("expanded",true);this.dataSource.load(ai).then(W(this._insertAt,this,af,ag));return}this._insertAt(af,ag)},_insertAt:function(ag,af){ag=this.dataSource.insert(af,ag);var ah=this.tbody.find("["+kendo.attr("uid")+"="+ag.uid+"]");this.editRow(ah)},removeRow:function(ah){var ag=this.dataItem(ah);var af={model:ag,row:ah};if(ag&&!this.trigger(c,af)){this.dataSource.remove(ag);this.dataSource.sync()}},_cancelEditor:function(){var af;var ag=this.editor;if(ag){af=ag.model;this._destroyEditor();this.dataSource.cancelChanges(af);af._edit=false}},_destroyEditor:function(){if(!this.editor){return}this.editor.close();this.editor=null},_createEditor:function(ag){var ai=this.tbody.find("["+kendo.attr("uid")+"="+ag.uid+"]");ai=ai.add(this._relatedRow(ai));var ah=this._editMode();var af={columns:this.columns,model:ag,target:this,clearContainer:false,template:this.options.editable.template};if(ah=="inline"){this.editor=new n(ai,af)}else{f(af,{window:this.options.editable.window,commandRenderer:W(function(){return this._buildCommands(["update","canceledit"])},this),fieldRenderer:this._cellContent,save:W(this.saveRow,this),cancel:W(this._cancelEdit,this),appendTo:this.wrapper});this.editor=new x(ai,af)}},_editMode:function(){var ag="inline",af=this.options.editable;if(af!==true){if(typeof af=="string"){ag=af}else{ag=af.mode||ag}}return ag.toLowerCase()},hideColumn:function(af){this._toggleColumnVisibility(af,true)},showColumn:function(af){this._toggleColumnVisibility(af,false)},_toggleColumnVisibility:function(af,ag){af=this._findColumn(af);if(!af||af.hidden===ag){return}af.hidden=ag;this._ensureExpandableColumn();this._renderCols();this._renderHeader();this._render();this._adjustTablesWidth();this.trigger(ag?h:d,{column:af});if(!ag&&!af.width){this.table.add(this.thead.closest("table")).width("")}},_findColumn:function(af){if(typeof af=="number"){af=this.columns[af]}else{if(ae(af)){af=ac(this.columns,function(ag){return ag===af})[0]}else{af=ac(this.columns,function(ag){return ag.field===af})[0]}}return af},_adjustTablesWidth:function(){var af,ai;var aj=this.thead.prev().children();var ah,ag=0;for(af=0,ai=aj.length;af<ai;af++){ah=aj[af].style.width;if(ah&&ah.indexOf("%")==-1){ag+=parseInt(ah,10)}else{ag=0;break}}if(ag){this.table.add(this.thead.closest("table")).width(ag)}},_reorderable:function(){if(!this.options.reorderable){return}var ah=this.options.scrollable===true;var af=(ah?".k-grid-header:first ":"table:first>.k-grid-header ")+P;var ag=this;this._draggableInstance=new I.Draggable(this.wrapper,{group:kendo.guid(),filter:af,hint:function(ai){return y('<div class="k-header k-drag-clue" />').css({width:ai.width(),paddingLeft:ai.css("paddingLeft"),paddingRight:ai.css("paddingRight"),lineHeight:ai.height()+"px",paddingTop:ai.css("paddingTop"),paddingBottom:ai.css("paddingBottom")}).html(ai.attr(kendo.attr("title"))||ai.attr(kendo.attr("field"))||ai.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}});this.reorderable=new I.Reorderable(this.wrapper,{draggable:this._draggableInstance,dragOverContainers:W(this._allowDragOverContainers,this),inSameContainer:function(ai){return y(ai.source).parent()[0]===y(ai.target).parent()[0]},change:function(al){var ai=al.newIndex;var am=al.oldIndex;var ak=al.position==="before";var aj=ag.columns[am];ag.trigger(Y,{newIndex:ai,oldIndex:am,column:aj});ag.reorderColumn(ai,aj,ak)}})},_allowDragOverContainers:function(af){return this.columns[af].lockable!==false},reorderColumn:function(ak,ai,ao){var ah;var aj=this.columns;var am=Z(ai,aj);var an=aj[ak];var ag=!!an.locked;var ap=this._nonLockedColumns().length;if(am===ak){return}if(ag&&!ai.locked&&ap==1){return}if(!ag&&ai.locked&&(aj.length-ap==1)){return}if(ao===g){ao=ak<am}ah=!!ai.locked;ah=ah!=ag;ai.locked=ag;aj.splice(ao?ak:ak+1,0,ai);aj.splice(am<ak?am:am+1,1);this._renderCols();var af=y(this.lockedHeader).add(this.thead).find("th");af.eq(am)[ao?"insertBefore":"insertAfter"](af.eq(ak));var al=this._headerTree.children[0].children;if(this._hasLockedColumns){al=this._lockedHeaderTree.children[0].children.concat(al)}al.splice(ao?ak:ak+1,0,al[am]);al.splice(am<ak?am:am+1,1);if(this._hasLockedColumns){this._lockedHeaderTree.children[0].children=al.splice(0,this._lockedColumns().length);this._headerTree.children[0].children=al}this._applyLockedContainersWidth();this.refresh();if(!ah){return}if(ag){this.trigger(s,{column:ai})}else{this.trigger(K,{column:ai})}},lockColumn:function(ah){var ag=this.columns;if(typeof ah=="number"){ah=ag[ah]}else{ah=ac(ag,function(ai){return ai.field===ah})[0]}if(!ah||ah.hidden){return}var af=this._lockedColumns().length-1;this.reorderColumn(af,ah,false)},unlockColumn:function(ah){var ag=this.columns;if(typeof ah=="number"){ah=ag[ah]}else{ah=ac(ag,function(ai){return ai.field===ah})[0]}if(!ah||ah.hidden){return}var af=this._lockedColumns().length;this.reorderColumn(af,ah,true)},_columnMenu:function(){var ag=y(this.lockedHeader).add(this.thead).find("th");var am=this.columns;var aq=this.options;var ak=aq.columnMenu;var al,ai,aj,ao,af;var ap=W(this._columnMenuInit,this);var ah=this._lockedColumns().length;if(!ak){return}if(typeof ak=="boolean"){ak={}}for(var an=0;an<ag.length;an++){al=am[an];if(!al.field){continue}ai=ag.eq(an).data("kendoColumnMenu");if(ai){ai.destroy()}ao=false;if(al.sortable!==false&&ak.sortable!==false&&aq.sortable!==false){ao=f({},aq.sortable,{compare:(al.sortable||{}).compare})}af=false;if(aq.filterable&&al.filterable!==false&&ak.filterable!==false){af=f({pane:this.pane},al.filterable,aq.filterable)}aj={dataSource:this.dataSource,values:al.values,columns:ak.columns,sortable:ao,filterable:af,messages:ak.messages,owner:this,closeCallback:y.noop,init:ap,pane:this.pane,lockedColumns:al.lockable!==false&&ah>0};if(aq.$angular){aj.$angular=aq.$angular}ag.eq(an).kendoColumnMenu(aj)}},_columnMenuInit:function(af){this.trigger(ad,{field:af.field,container:af.container})}});if(kendo.ExcelMixin){kendo.ExcelMixin.extend(z.prototype)}if(kendo.PDFMixin){kendo.PDFMixin.extend(z.prototype)}f(true,kendo.data,{TreeListDataSource:R,TreeListModel:aa});f(true,kendo.ui,{TreeList:z});I.plugin(z)})(window.kendo.jQuery);(function(g,c){var l=window.kendo,m=l.ui,n=m.Widget,o=".kendoPivotConfigurator",j="mouseenter"+o+" mouseleave"+o,f=l.template('<p class="k-reset"><span class="k-icon #=icon#"></span>${name}</p><div class="k-list-container k-reset"/>');function e(t){var s;var q=0;var r=t.length;for(;q<r;q++){if(t[q].type==2){s=true;break}}if(s){t.splice(q+1,0,{caption:"KPIs",defaultHierarchy:"[KPIs]",name:"KPIs",uniqueName:"[KPIs]"})}}function p(q){return{name:q.uniqueName,type:q.type}}function i(s){for(var q=0,r=s.length;q<r;q++){s[q].uniqueName=s[q].name;s[q].type="kpi"}return s}function k(q){var r=g(q).closest(".k-pivot-setting");if(r.length){return r.data("kendoPivotSettingTarget")}return null}var b=n.extend({init:function(r,q){n.fn.init.call(this,r,q);this.element.addClass("k-widget k-fieldselector k-alt k-edit-form-container");this._dataSource();this._layout();this.refresh();l.notify(this)},events:[],options:{name:"PivotConfigurator",filterable:false,sortable:false,messages:{measures:"Drop Data Fields Here",columns:"Drop Column Fields Here",rows:"Drop Rows Fields Here",measuresLabel:"Measures",columnsLabel:"Columns",rowsLabel:"Rows",fieldsLabel:"Fields"}},_dataSource:function(){if(this.dataSource&&this._refreshHandler){this.dataSource.unbind("change",this._refreshHandler)}else{this._refreshHandler=g.proxy(this.refresh,this)}this.dataSource=l.data.PivotDataSource.create(this.options.dataSource);this.dataSource.bind("change",this._refreshHandler)},setDataSource:function(q){this.options.dataSource=q;this._dataSource();if(this.measures){this.measures.setDataSource(q)}if(this.rows){this.rows.setDataSource(q)}if(this.columns){this.columns.setDataSource(q)}this.refresh()},_treeViewDataSource:function(){var q=this;return l.data.HierarchicalDataSource.create({schema:{model:{id:"uniqueName",hasChildren:function(r){return !("hierarchyUniqueName" in r)&&!("aggregator" in r)}}},transport:{read:function(r){var u;var s;var t;if(g.isEmptyObject(r.data)){u=q.dataSource.schemaDimensions();u.done(function(v){if(!q.dataSource.cubeBuilder){e(v)}r.success(v)}).fail(r.error)}else{s=q.treeView.dataSource.get(r.data.uniqueName);if(s.uniqueName==="[KPIs]"){t=true;u=q.dataSource.schemaKPIs();u.done(function(v){r.success(i(v))}).fail(r.error)}else{if(s.type=="kpi"){t=true;r.success(h(s))}}if(!t){if(s.type==2){u=q.dataSource.schemaMeasures()}else{if(s.dimensionUniqueName){u=q.dataSource.schemaLevels(r.data.uniqueName)}else{u=q.dataSource.schemaHierarchies(r.data.uniqueName)}}u.done(r.success).fail(r.error)}}}}})},_layout:function(){this.form=g('<div class="k-columns k-state-default k-floatwrap"/>').appendTo(this.element);this._fields();this._targets()},_fields:function(){var q=g('<div class="k-state-default"><p class="k-reset"><span class="k-icon k-i-group"></span>'+this.options.messages.fieldsLabel+"</p></div>").appendTo(this.form);var s=this;var r='# if (item.type == 2 || item.uniqueName == "[KPIs]") { #<span class="k-icon k-i-#= (item.type == 2 ? "sum" : "kpi") #"></span># } else if (item.type && item.type !== "kpi") { #<span class="k-icon k-i-dimension"></span># } ##: item.caption || item.name #';this.treeView=g("<div/>").appendTo(q).kendoTreeView({template:r,dataTextField:"caption",dragAndDrop:true,autoBind:false,dataSource:this._treeViewDataSource(),dragstart:function(u){var t=this.dataItem(u.sourceNode);if((!t.hasChildren&&!t.aggregator&&!t.measure)||(t.type==2)||t.uniqueName==="[KPIs]"){u.preventDefault()}},drag:function(v){var t="k-denied";var u=k(v.dropTarget);if(u&&u.validate(this.dataItem(v.sourceNode))){t="k-add"}v.setStatusClass(t)},drop:function(z){z.preventDefault();var v=k(z.dropTarget);var x=this.dataItem(z.sourceNode);var t,w,y;var u;if(v&&v.validate(x)){u=x.defaultHierarchy||x.uniqueName;if(x.type==="kpi"){y=h(x);w=y.length;u=[];for(t=0;t<w;t++){u.push(p(y[t]))}}else{if(x.kpi){u=[p(x)]}}v.add(u)}}}).data("kendoTreeView")},_createTarget:function(s,q){var t='<li class="k-item k-header" data-'+l.ns+'name="${data.name}">${data.name}';var u=q.sortable;var r="";if(u){r+="#if (data.sortIcon) {#";r+='<span class="k-icon ${data.sortIcon} k-setting-sort"></span>';r+="#}#"}if(q.filterable||u){r+='<span class="k-icon k-i-arrowhead-s k-setting-fieldmenu"></span>'}r+='<span class="k-icon k-si-close k-setting-delete"></span>';t+='<span class="k-field-actions">'+r+"</span></li>";return new l.ui.PivotSettingTarget(s,g.extend({dataSource:this.dataSource,hint:function(v){var w=g('<div class="k-fieldselector"><ul class="k-list k-reset"></ul></div>');w.find(".k-list").append(v.clone());return w},template:t,emptyTemplate:'<li class="k-item k-empty">${data}</li>'},q))},_targets:function(){var s=g('<div class="k-state-default"/>').appendTo(this.form);var r=g(f({name:this.options.messages.columnsLabel,icon:"k-i-vbars"})).appendTo(s);var u=g('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(r.last());var x=g(f({name:this.options.messages.rowsLabel,icon:"k-i-hbars"})).appendTo(s);var v=g('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(x.last());var q=g(f({name:this.options.messages.measuresLabel,icon:"k-i-sum"})).appendTo(s);var w=g('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(q.last());var t=this.options;this.columns=this._createTarget(u,{filterable:t.filterable,sortable:t.sortable,connectWith:v,messages:{empty:t.messages.columns,fieldMenu:t.messages.fieldMenu}});this.rows=this._createTarget(v,{filterable:t.filterable,setting:"rows",connectWith:u,messages:{empty:this.options.messages.rows,fieldMenu:this.options.messages.fieldMenu}});this.measures=this._createTarget(w,{setting:"measures",messages:{empty:t.messages.measures}});u.add(v).add(w).on(j,".k-item:not(.k-empty)",this._toggleHover)},_toggleHover:function(q){g(q.currentTarget).toggleClass("k-state-hover",q.type==="mouseenter")},_resize:function(){var t=this.element;var r=this.options.height;var s,q;if(!r){return}if(t.is(":visible")){t.height(r);q=t.children(".k-columns").children("div.k-state-default");s=(t.outerHeight()-t.innerHeight())/2;r=r-(q.outerHeight(true)-q.height())-s;q.height(r)}},refresh:function(){var q=this.dataSource;if(q.cubeBuilder||this._cube!==q.cube()||this._catalog!==q.catalog()){this.treeView.dataSource.fetch()}this._catalog=this.dataSource.catalog();this._cube=this.dataSource.cube();this._resize()},destroy:function(){n.fn.destroy.call(this);this.dataSource.unbind("change",this._refreshHandler);this.form.find(".k-list").off(o);this.rows.destroy();this.columns.destroy();this.measures.destroy();this.treeView.destroy();this.element=null;this._refreshHandler=null}});function d(q,s,r){return{hierarchyUniqueName:q,uniqueName:s,caption:s,measure:s,name:s,type:r,kpi:true}}function h(r){var q=r.name;return[d(q,r.value,"value"),d(q,r.goal,"goal"),d(q,r.status,"status"),d(q,r.trend,"trend")]}m.plugin(b)})(window.kendo.jQuery);(function(w,q,j){if(!q){return}var e=q.module("kendo.directives",[]),y=q.injector(["ng"]),J=y.get("$parse"),x=y.get("$timeout"),t,K=y.get("$log");function d(N){var M=x;try{x=function(O){return O()};return N()}finally{x=M}}var v;var E=(function(){var M={TreeList:"TreeListDataSource",TreeView:"HierarchicalDataSource",Scheduler:"SchedulerDataSource",PanelBar:"$PLAIN",Menu:"$PLAIN",ContextMenu:"$PLAIN"};var N=function(P,O){if(O=="$PLAIN"){return P}return kendo.data[O].create(P)};return function(Q,O,T,S){var P=M[T]||"DataSource";var R=N(Q.$eval(S),P);Q.$watch(S,function(X,U){if(X!==U){var W=N(X,P);var V=l(O);if(V&&typeof V.setDataSource=="function"){V.setDataSource(W)}}});return R}}());var c={kDataSource:true,kOptions:true,kRebind:true,kNgModel:true,kNgDelay:true};var s={name:true,title:true,style:true};function u(O,N,M,P){N[M]=q.copy(O.$eval(P));if(N[M]===j&&P.match(/^\w*$/)){K.warn(M+" attribute resolved to undefined. Maybe you meant to use a string literal like: '"+P+"'?")}}function F(Y,Q,W,R,M,N){if(!(Q instanceof jQuery)){throw new Error("The Kendo UI directives require jQuery to be available before AngularJS. Please include jquery before angular in the document.")}var X=W.kNgDelay,U=Y.$eval(X);N=N||[];var P=N[0],O=N[1];if(X&&!U){var S=Y.$root||Y;var V=function(){var Z=Y.$watch(X,function(ab,aa){if(ab!==aa){Z();Q.removeAttr(W.$attr.kNgDelay);X=null;x(T)}})};if(/^\$(digest|apply)$/.test(S.$$phase)){V()}else{Y.$apply(V)}return}else{return T()}function T(){var ak;if(W.kRebind){ak=w(w(Q)[0].cloneNode(true))}var ae=R.replace(/^kendo/,"");var al=q.extend({},W.defaultOptions,Y.$eval(W.kOptions||W.options));var ah=w(Q)[R];if(!ah){window.console.error("Could not find: "+R);return null}var ac=ah.widget.prototype.options;var af=ah.widget.prototype.events;w.each(W,function(ap,ar){if(ap==="source"||ap==="kDataSource"||ap==="kScopeField"){return}var am="data"+ap.charAt(0).toUpperCase()+ap.slice(1);if(ap.indexOf("on")===0){var ao=ap.replace(/^on./,function(at){return at.charAt(2).toLowerCase()});if(af.indexOf(ao)>-1){al[ao]=ar}}if(ac.hasOwnProperty(am)){u(Y,al,am,ar)}else{if(ac.hasOwnProperty(ap)&&!s[ap]){u(Y,al,ap,ar)}else{if(!c[ap]){var an=ap.match(/^k(On)?([A-Z].*)/);if(an){var aq=an[2].charAt(0).toLowerCase()+an[2].slice(1);if(an[1]&&ap!="kOnLabel"){al[aq]=ar}else{if(ap=="kOnLabel"){aq="onLabel"}u(Y,al,aq,ar)}}}}}});var aa=W.kDataSource||W.source;if(aa){al.dataSource=E(Y,Q,ae,aa)}al.$angular=[Y];if(Q.is("select")){(function(am){if(am.length>0){var an=w(am[0]);if(!/\S/.test(an.text())&&/^\?/.test(an.val())){an.remove()}}}(Q[0].options))}var ad=ah.call(Q,v=al).data(R);B(ad,Y,W,R,M);Y.$emit("kendoWidgetCreated",ad);var Z=I(Y,ad);if(W.kRebind){G(ad,Y,Q,ak,W.kRebind,Z,W)}if(W.kNgDisabled){var ag=W.kNgDisabled;var ai=Y.$eval(ag);if(ai){ad.enable(!ai)}L(ad,Y,Q,ag)}if(W.kNgReadonly){var aj=W.kNgReadonly;var ab=Y.$eval(aj);if(ab){ad.readonly(ab)}r(ad,Y,Q,aj)}if(W.kNgModel){D(ad,Y,W.kNgModel)}if(P){z(ad,Y,Q,P,O)}if(ad){p(ad,Q)}return ad}}function L(P,O,N,M){if((kendo.ui.PanelBar&&P instanceof kendo.ui.PanelBar)||(kendo.ui.Menu&&P instanceof kendo.ui.Menu)){K.warn("k-ng-disabled specified on a widget that does not have the enable() method: "+(P.options.name));return}O.$apply(function(){O.$watch(M,function(R,Q){if(R!=Q){P.enable(!R)}})})}function r(P,O,N,M){if(typeof P.readonly!="function"){K.warn("k-ng-readonly specified on a widget that does not have the readonly() method: "+(P.options.name));return}O.$apply(function(){O.$watch(M,function(R,Q){if(R!=Q){P.readonly(R)}})})}function B(Q,O,N,P,M){if(N[M]){var R=J(N[M]).assign;if(R){R(O,Q)}else{throw new Error(M+" attribute used but expression in it is not assignable: "+N[P])}}}function h(M){if(/checkbox|radio/i.test(M.attr("type"))){return M.prop("checked")}return M.val()}var k=/^(input|select|textarea)$/i;function i(M){return k.test(M[0].tagName)}function z(Q,U,P,O,N){if(!Q.value){return}var S;if(i(P)){S=function(){return h(P)}}else{S=function(){return Q.value()}}O.$render=function(){var V=O.$viewValue;if(V===j){V=O.$modelValue}setTimeout(function(){if(Q){Q.value(V)}},0)};var T=false;if(i(P)){P.on("change",function(){T=true})}var R=function(V){return function(){var W;if(T){return}T=false;if(V&&N){W=N.$pristine}O.$setViewValue(S());if(V){O.$setPristine();if(W){N.$setPristine()}}A(U)}};Q.first("change",R(false));Q.first("dataBound",R(true));var M=S();if(M!=O.$viewValue){if(!O.$isEmpty(O.$viewValue)){Q.value(O.$viewValue)}else{if(M!=null&&M!==""&&M!=O.$viewValue){O.$setViewValue(M)}}}O.$setPristine()}function D(S,P,N){if(typeof S.value!="function"){K.warn("k-ng-model specified on a widget that does not have the value() method: "+(S.options.name));return}var Q=w(S.element).parents("form");var R=P[Q.attr("name")];var M=J(N);var T=M.assign;var O=false;S.$angular_setLogicValue(M(P));P.$apply(function(){var U=function(W,V){if(W===j){W=null}if(O){return}if(W===V){return}S.$angular_setLogicValue(W)};if(kendo.ui.MultiSelect&&S instanceof kendo.ui.MultiSelect){P.$watchCollection(N,U)}else{P.$watch(N,U)}});S.first("change",function(){O=true;if(R&&R.$pristine){R.$setDirty()}P.$apply(function(){T(P,S.$angular_getLogicValue())});O=false})}function I(M,O){var N=M.$on("$destroy",function(){N();if(O){if(O.element){O=l(O.element);if(O){O.destroy()}}O=null}});return N}function p(R,M){if(!(window.MutationObserver&&R.wrapper)){return}var O=[].slice.call(w(M)[0].classList);var Q=new MutationObserver(function(S){N();if(!R){return}S.forEach(function(V){var T=w(R.wrapper)[0];switch(V.attributeName){case"class":var U=[].slice.call(V.target.classList);U.forEach(function(W){if(O.indexOf(W)<0){T.classList.add(W);if(kendo.ui.ComboBox&&R instanceof kendo.ui.ComboBox){R.input[0].classList.add(W)}}});O.forEach(function(W){if(U.indexOf(W)<0){T.classList.remove(W);if(kendo.ui.ComboBox&&R instanceof kendo.ui.ComboBox){R.input[0].classList.remove(W)}}});O=U;break;case"disabled":if(typeof R.enable=="function"){R.enable(!w(V.target).attr("disabled"))}break;case"readonly":if(typeof R.readonly=="function"){R.readonly(!!w(V.target).attr("readonly"))}break}});P()});function N(){Q.disconnect()}function P(){Q.observe(w(M)[0],{attributes:true})}P();R.first("destroy",N)}function G(T,R,Q,M,N,S,O){var P=R.$watch(N,function(Z,V){if(Z!==V){P();var W=g[T.options.name];if(W){W.forEach(function(ab){var aa=R.$eval(O["k"+ab]);if(aa){M.append(w(aa).attr(kendo.toHyphens("k"+ab),""))}})}var Y=w(T.wrapper)[0];var U=w(T.element)[0];var X=Q.injector().get("$compile");T.destroy();if(S){S()}T=null;if(Y&&U){Y.parentNode.replaceChild(U,Y);w(Q).replaceWith(M)}X(M)(R)}},true);A(R)}e.factory("directiveFactory",["$compile",function(O){var M=0;var P=false;t=O;var N=function(R,Q){return{restrict:"AC",require:["?ngModel","^?form"],scope:false,controller:["$scope","$attrs","$element",function(U,S,T){this.template=function(V,W){S[V]=kendo.stringify(W)}}],link:function(X,W,V,Y){var U=w(W);var T=R.replace(/([A-Z])/g,"-$1");var S=U.css("visibility")!=="hidden";U.attr(T,U.attr("data-"+T));U[0].removeAttribute("data-"+T);if(S){U.css("visibility","hidden")}++M;x(function(){if(S){U.css("visibility","")}var Z=F(X,W,V,R,Q,Y);if(!Z){return}--M;if(M===0){X.$emit("kendoRendered");if(!P){P=true;w("form").each(function(){var aa=w(this).controller("form");if(aa){aa.$setPristine()}})}}})}}};return{create:N}}]);var o={Editor:"textarea",NumericTextBox:"input",DatePicker:"input",DateTimePicker:"input",TimePicker:"input",AutoComplete:"input",ColorPicker:"input",MaskedTextBox:"input",MultiSelect:"input",Upload:"input",Validator:"form",Button:"button",MobileButton:"a",MobileBackButton:"a",MobileDetailButton:"a",ListView:"ul",MobileListView:"ul",TreeView:"ul",Menu:"ul",ContextMenu:"ul",ActionSheet:"ul"};var b=["MobileView","MobileLayout","MobileSplitView","MobilePane","MobileModalView"];var H=["MobileApplication","MobileView","MobileModalView","MobileLayout","MobileActionSheet","MobileDrawer","MobileSplitView","MobilePane","MobileScrollView","MobilePopOver"];q.forEach(["MobileNavBar","MobileButton","MobileBackButton","MobileDetailButton","MobileTabStrip","MobileScrollView","MobileScroller"],function(M){H.push(M);M="kendo"+M;e.directive(M,function(){return{restrict:"A",link:function(P,O,N,Q){F(P,O,N,M,M)}}})});function C(P,O){function Q(V,U){e.directive(V,["directiveFactory",function(W){return W.create(U,V)}])}var R=O?"Mobile":"";R+=P.fn.options.name;var S=R;var N="kendo"+R.charAt(0)+R.substr(1).toLowerCase();R="kendo"+R;var M=R.replace(/([A-Z])/g,"-$1");if(b.indexOf(R.replace("kendo",""))==-1){var T=R===N?[R]:[R,N];q.forEach(T,function(U){e.directive(U,function(){return{restrict:"E",replace:true,template:function(X,W){var V=o[S]||"div";var Y=W.kScopeField;return"<"+V+" "+M+(Y?('="'+Y+'"'):"")+">"+X.html()+"</"+V+">"}}})})}if(H.indexOf(R.replace("kendo",""))>-1){return}Q(R,R);if(N!=R){Q(N,R)}}(function(){function M(N){return function(O){q.forEach(O,function(P){if(P.fn&&P.fn.options&&P.fn.options.name&&(/^[A-Z]/).test(P.fn.options.name)){C(P,N)}})}}q.forEach([kendo.ui,kendo.dataviz&&kendo.dataviz.ui],M(false));q.forEach([kendo.mobile&&kendo.mobile.ui],M(true))})();function l(M){M=w(M);return kendo.widgetInstance(M,kendo.ui)||kendo.widgetInstance(M,kendo.mobile.ui)||kendo.widgetInstance(M,kendo.dataviz.ui)}function A(O,P){var M=O.$root||O;var N=/^\$(digest|apply)$/.test(M.$$phase);if(P){if(N){P()}else{M.$apply(P)}}else{if(!N){M.$digest()}}}function n(N,M){N.$destroy();if(M){w(M).removeData("$scope").removeData("$$kendoScope").removeData("$isolateScope").removeData("$isolateScopeNoTemplate").removeClass("ng-scope")}}var f=[];function m(N,P,Q){if(w.isArray(N)){return q.forEach(N,function(S){m(S,P,Q)})}if(typeof N=="string"){var O=N.split(".");var M=kendo;while(M&&O.length>0){M=M[O.shift()]}if(!M){f.push([N,P,Q]);return false}N=M.prototype}var R=N[P];N[P]=function(){var S=this,T=arguments;return Q.apply({self:S,next:function(){return R.apply(S,arguments.length>0?arguments:T)}},T)};return true}m(kendo.ui,"plugin",function(M,N,O){this.next();f=w.grep(f,function(P){return !m.apply(null,P)});C(M,O=="Mobile")});m(["ui.Widget","mobile.ui.Widget"],"angular",function(P,M){var N=this.self;if(P=="init"){if(!M&&v){M=v}v=null;if(M&&M.$angular){N.$angular_scope=M.$angular[0];N.$angular_init(N.element,M)}return}var O=N.$angular_scope;if(O){d(function(){var Q=M(),T=Q.elements,S=Q.data;if(T.length>0){switch(P){case"cleanup":q.forEach(T,function(V){var W=w(V).data("$$kendoScope");if(W&&W!==O&&W.$$kendoScope){n(W,V)}});break;case"compile":var U=N.element.injector();var R=U?U.get("$compile"):t;q.forEach(T,function(W,V){var X;if(Q.scopeFrom){X=Q.scopeFrom}else{var Y=S&&S[V];if(Y!==j){X=w.extend(O.$new(),Y);X.$$kendoScope=true}else{X=O}}w(W).data("$$kendoScope",X);R(W)(X)});A(O);break}}})}});m("ui.Widget","$angular_getLogicValue",function(){return this.self.value()});m("ui.Widget","$angular_setLogicValue",function(M){this.self.value(M)});m("ui.Select","$angular_getLogicValue",function(){var M=this.self.dataItem();if(M){if(this.self.options.valuePrimitive){return M[this.self.options.dataValueField]}else{return M.toJSON()}}else{return null}});m("ui.Select","$angular_setLogicValue",function(Q){var M=this.self;var O=M.options;var N=O.dataValueField;var P=O.text||"";Q=Q||"";if(N&&!O.valuePrimitive&&Q){P=Q[O.dataTextField]||"";Q=Q[N||O.dataTextField]}if(M.options.autoBind===false&&!M.listView.isBound()){M._preselect(Q,P)}else{M.value(Q)}});m("ui.MultiSelect","$angular_getLogicValue",function(){var N=this.self.dataItems().slice(0);var M=this.self.options.dataValueField;if(M&&this.self.options.valuePrimitive){N=w.map(N,function(O){return O[M]})}return N});m("ui.MultiSelect","$angular_setLogicValue",function(Q){if(Q==null){Q=[]}var M=this.self;var O=M.options;var N=O.dataValueField;var P=Q;if(N&&!O.valuePrimitive){Q=w.map(Q,function(R){return R[N]})}if(O.autoBind===false&&!O.valuePrimitive&&!M.listView.isBound()){M._preselect(P,Q)}else{M.value(Q)}});m("ui.AutoComplete","$angular_getLogicValue",function(){var V=this.self.options;var T=this.self.value().split(V.separator);var N=V.valuePrimitive;var Q=this.self.dataSource.data();var S=[];for(var R=0,O=Q.length;R<O;R++){var U=Q[R];var M=V.dataTextField?U[V.dataTextField]:U;for(var P=0;P<T.length;P++){if(M===T[P]){if(N){S.push(M)}else{S.push(U.toJSON())}break}}}return S});m("ui.AutoComplete","$angular_setLogicValue",function(N){if(N==null){N=[]}var M=this.self,O=M.options.dataTextField;if(O&&!M.options.valuePrimitive){N=w.map(N,function(P){return P[O]})}M.value(N)});m("ui.Widget","$angular_init",function(P,N){var M=this.self;if(N&&!w.isArray(N)){var R=M.$angular_scope;for(var O=M.events.length;--O>=0;){var S=M.events[O];var Q=N[S];if(Q&&typeof Q=="string"){N[S]=M.$angular_makeEventHandler(S,R,Q)}}}});m("ui.Widget","$angular_makeEventHandler",function(O,N,M){M=J(M);return function(P){A(N,function(){M(N,{kendoEvent:P})})}});m(["ui.Grid","ui.ListView","ui.TreeView"],"$angular_makeEventHandler",function(O,N,M){if(O!="change"){return this.next()}M=J(M);return function(X){var V=X.sender;var aa=V.options;var Y,ab,R={kendoEvent:X},Q,W,S,U;if(q.isString(aa.selectable)){Y=aa.selectable.indexOf("cell")!==-1;ab=aa.selectable.indexOf("multiple")!==-1}Q=R.selected=this.select();W=R.data=[];S=R.columns=[];for(var T=0;T<Q.length;T++){var Z=Y?Q[T].parentNode:Q[T];var P=V.dataItem(Z);if(Y){if(q.element.inArray(P,W)<0){W.push(P)}U=q.element(Q[T]).index();if(q.element.inArray(U,S)<0){S.push(U)}}else{W.push(P)}}if(!ab){R.dataItem=R.data=W[0];R.selected=Q[0]}A(N,function(){M(N,R)})}});m("ui.Grid","$angular_init",function(N,M){this.next();if(M.columns){var O=w.extend({},kendo.Template,M.templateSettings);q.forEach(M.columns,function(P){if(P.field&&!P.template&&!P.format&&!P.values&&(P.encoded===j||P.encoded)){P.template="<span ng-bind='"+kendo.expr(P.field,"dataItem")+"'>#: "+kendo.expr(P.field,O.paramName)+"#</span>"}})}});m("mobile.ui.ButtonGroup","value",function(N){var M=this.self;if(N!=null){M.select(M.element.children("li.km-button").eq(N));M.trigger("change");M.trigger("select",{index:M.selectedIndex})}return M.selectedIndex});m("mobile.ui.ButtonGroup","_select",function(){this.next();this.self.trigger("change")});e.directive("kendoMobileApplication",function(){return{terminal:true,link:function(O,N,M,P){F(O,N,M,"kendoMobileApplication","kendoMobileApplication")}}}).directive("kendoMobileView",function(){return{scope:true,link:{pre:function(O,N,M,P){M.defaultOptions=O.viewOptions;M._instance=F(O,N,M,"kendoMobileView","kendoMobileView")},post:function(O,N,M){M._instance._layout();M._instance._scroller()}}}}).directive("kendoMobileDrawer",function(){return{scope:true,link:{pre:function(O,N,M,P){M.defaultOptions=O.viewOptions;M._instance=F(O,N,M,"kendoMobileDrawer","kendoMobileDrawer")},post:function(O,N,M){M._instance._layout();M._instance._scroller()}}}}).directive("kendoMobileModalView",function(){return{scope:true,link:{pre:function(O,N,M,P){M.defaultOptions=O.viewOptions;M._instance=F(O,N,M,"kendoMobileModalView","kendoMobileModalView")},post:function(O,N,M){M._instance._layout();M._instance._scroller()}}}}).directive("kendoMobileSplitView",function(){return{terminal:true,link:{pre:function(O,N,M,P){M.defaultOptions=O.viewOptions;M._instance=F(O,N,M,"kendoMobileSplitView","kendoMobileSplitView")},post:function(O,N,M){M._instance._layout()}}}}).directive("kendoMobilePane",function(){return{terminal:true,link:{pre:function(O,N,M,P){M.defaultOptions=O.viewOptions;F(O,N,M,"kendoMobilePane","kendoMobilePane")}}}}).directive("kendoMobileLayout",function(){return{link:{pre:function(O,N,M,P){F(O,N,M,"kendoMobileLayout","kendoMobileLayout")}}}}).directive("kendoMobileActionSheet",function(){return{restrict:"A",link:function(O,N,M,P){N.find("a[k-action]").each(function(){w(this).attr("data-"+kendo.ns+"action",w(this).attr("k-action"))});F(O,N,M,"kendoMobileActionSheet","kendoMobileActionSheet")}}}).directive("kendoMobilePopOver",function(){return{terminal:true,link:{pre:function(O,N,M,P){M.defaultOptions=O.viewOptions;F(O,N,M,"kendoMobilePopOver","kendoMobilePopOver")}}}}).directive("kendoViewTitle",function(){return{restrict:"E",replace:true,template:function(N,M){return"<span data-"+kendo.ns+"role='view-title'>"+N.html()+"</span>"}}}).directive("kendoMobileHeader",function(){return{restrict:"E",link:function(O,N,M,P){N.addClass("km-header").attr("data-role","header")}}}).directive("kendoMobileFooter",function(){return{restrict:"E",link:function(O,N,M,P){N.addClass("km-footer").attr("data-role","footer")}}}).directive("kendoMobileScrollViewPage",function(){return{restrict:"E",replace:true,template:function(N,M){return"<div data-"+kendo.ns+"role='page'>"+N.html()+"</div>"}}});q.forEach(["align","icon","rel","transition","actionsheetContext"],function(M){var N="k"+M.slice(0,1).toUpperCase()+M.slice(1);e.directive(N,function(){return{restrict:"A",priority:2,link:function(Q,P,O){P.attr(kendo.attr(kendo.toHyphens(M)),Q.$eval(O[N]))}}})});var g={TreeMap:["Template"],MobileListView:["HeaderTemplate","Template"],MobileScrollView:["EmptyTemplate","Template"],Grid:["AltRowTemplate","DetailTemplate","RowTemplate"],ListView:["EditTemplate","Template","AltTemplate"],Pager:["SelectTemplate","LinkTemplate"],PivotGrid:["ColumnHeaderTemplate","DataCellTemplate","RowHeaderTemplate"],Scheduler:["AllDayEventTemplate","DateHeaderTemplate","EventTemplate","MajorTimeHeaderTemplate","MinorTimeHeaderTemplate"],TreeView:["Template"],Validator:["ErrorTemplate"]};(function(){var M={};q.forEach(g,function(N,O){q.forEach(N,function(P){if(!M[P]){M[P]=[]}M[P].push("?^^kendo"+O)})});q.forEach(M,function(O,Q){var N="k"+Q;var P=kendo.toHyphens(N);e.directive(N,function(){return{restrict:"A",require:O,terminal:true,compile:function(S,R){if(R[N]!==""){return}S.removeAttr(P);var T=S[0].outerHTML;return function(X,W,V,Y){var U;while(!U&&Y.length){U=Y.shift()}if(!U){K.warn(P+" without a matching parent widget found. It can be one of the following: "+O.join(", "))}else{U.template(N,T);S.remove()}}}}})})})()})(window.kendo.jQuery,window.angular);(function(aU,J){var Q=document,y=window.kendo,aW=y.util,W=aW.append,k=aW.defined,ap=aW.last,a8=aW.limitValue,i=aW.valueOrDefault,aC=y.dataviz,a9=aC.geometry,aJ=aC.drawing,S=aJ.util.measureText,ak=a9.Matrix,a3=y.Class,Z=y.template,K=aU.map,aQ=aU.noop,s=aU.inArray,aX=aU.trim,ae=Math,bd=y.deepExtend;var aj="k-";var ao=10,aS="axisLabelClick",F=1,I="#000",aV="bottom",O="center",af=3,n="clip",o="circle",q="cross",aA="12px sans-serif",ah=400,am=7,aM=6,u=600,aN=ae.PI/180,m="fadeIn",e=/\{\d+:?/,a0="height",N="k",aI=1000,ax=10000,ay=100000,aH=600,r="inside",c="left",bc="linear",aq=Number.MAX_VALUE,j=-Number.MAX_VALUE,au="none",aO="noteClick",t="noteHover",aZ="outside",h="radial",l="right",P="swing",p="top",aP="triangle",aF="undefined",aY=/([A-Z])/g,V="width",x="#fff",av="x",at="y",aR=0.2;function D(Y,X){var be={top:0,right:0,bottom:0,left:0};X=X||0;if(typeof(Y)==="number"){be[p]=be[l]=be[aV]=be[c]=Y}else{be[p]=Y[p]||X;be[l]=Y[l]||X;be[aV]=Y[aV]||X;be[c]=Y[c]||X}return be}var d=function(Y,be){var X=this;if(!(X instanceof d)){return new d(Y,be)}X.x=Y||0;X.y=be||0};d.fn=d.prototype={clone:function(){var X=this;return new d(X.x,X.y)},equals:function(X){return X&&X.x===this.x&&X.y===this.y},rotate:function(X,bf){var bk=this,Y=bf*aN,bh=ae.cos(Y),bl=ae.sin(Y),bg=X.x,be=X.y,bj=bk.x,bi=bk.y;bk.x=T(bg+(bj-bg)*bh+(bi-be)*bl,af);bk.y=T(be+(bi-be)*bh-(bj-bg)*bl,af);return bk},multiply:function(Y){var X=this;X.x*=Y;X.y*=Y;return X},distanceTo:function(X){var be=this.x-X.x,Y=this.y-X.y;return ae.sqrt(be*be+Y*Y)}};d.onCircle=function(be,X,Y){X*=aN;return new d(be.x-Y*ae.cos(X),be.y-Y*ae.sin(X))};var C=function(Y,bf,X,be){var bg=this;if(!(bg instanceof C)){return new C(Y,bf,X,be)}bg.x1=Y||0;bg.x2=X||0;bg.y1=bf||0;bg.y2=be||0};C.fn=C.prototype={width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1},translate:function(Y,X){var be=this;be.x1+=Y;be.x2+=Y;be.y1+=X;be.y2+=X;return be},move:function(Y,bg){var bf=this,X=bf.height(),be=bf.width();if(k(Y)){bf.x1=Y;bf.x2=bf.x1+be}if(k(bg)){bf.y1=bg;bf.y2=bf.y1+X}return bf},wrap:function(X){var Y=this;Y.x1=ae.min(Y.x1,X.x1);Y.y1=ae.min(Y.y1,X.y1);Y.x2=ae.max(Y.x2,X.x2);Y.y2=ae.max(Y.y2,X.y2);return Y},wrapPoint:function(X){this.wrap(new C(X.x,X.y,X.x,X.y));return this},snapTo:function(X,Y){var be=this;if(Y==av||!Y){be.x1=X.x1;be.x2=X.x2}if(Y==at||!Y){be.y1=X.y1;be.y2=X.y2}return be},alignTo:function(bi,bg){var bh=this,bk=bh.height(),Y=bh.width(),be=bg==p||bg==aV?at:av,bf=be==at?bk:Y;if(bg===O){var bj=bi.center();var X=bh.center();bh.x1+=bj.x-X.x;bh.y1+=bj.y-X.y}else{if(bg===p||bg===c){bh[be+1]=bi[be+1]-bf}else{bh[be+1]=bi[be+2]}}bh.x2=bh.x1+Y;bh.y2=bh.y1+bk;return bh},shrink:function(X,be){var Y=this;Y.x2-=X;Y.y2-=be;return Y},expand:function(X,Y){this.shrink(-X,-Y);return this},pad:function(Y){var X=this,be=D(Y);X.x1-=be.left;X.x2+=be.right;X.y1-=be.top;X.y2+=be.bottom;return X},unpad:function(Y){var X=this,be=D(Y);be.left=-be.left;be.top=-be.top;be.right=-be.right;be.bottom=-be.bottom;return X.pad(be)},clone:function(){var X=this;return new C(X.x1,X.y1,X.x2,X.y2)},center:function(){var X=this;return new d(X.x1+X.width()/2,X.y1+X.height()/2)},containsPoint:function(X){var Y=this;return X.x>=Y.x1&&X.x<=Y.x2&&X.y>=Y.y1&&X.y<=Y.y2},points:function(){var X=this;return[new d(X.x1,X.y1),new d(X.x2,X.y1),new d(X.x2,X.y2),new d(X.x1,X.y2)]},getHash:function(){var X=this;return[X.x1,X.y1,X.x2,X.y2].join(",")},overlaps:function(X){return !(X.y2<this.y1||this.y2<X.y1||X.x2<this.x1||this.x2<X.x1)},rotate:function(bm){var bk=this;var bf=bk.width();var bl=bk.height();var X=bk.center();var bj=X.x;var bi=X.y;var bh=ar(0,0,bj,bi,bm);var bg=ar(bf,0,bj,bi,bm);var be=ar(bf,bl,bj,bi,bm);var Y=ar(0,bl,bj,bi,bm);bf=ae.max(bh.x,bg.x,be.x,Y.x)-ae.min(bh.x,bg.x,be.x,Y.x);bl=ae.max(bh.y,bg.y,be.y,Y.y)-ae.min(bh.y,bg.y,be.y,Y.y);bk.x2=bk.x1+bf;bk.y2=bk.y1+bl;return bk},toRect:function(){return new a9.Rect([this.x1,this.y1],[this.width(),this.height()])},hasSize:function(){return this.width()!==0&&this.height()!==0},align:function(X,bg,bj){var bi=this,bf=bg+1,be=bg+2,bh=bg===av?V:a0,Y=bi[bh]();if(G(bj,[c,p])){bi[bf]=X[bf];bi[be]=bi[bf]+Y}else{if(G(bj,[l,aV])){bi[be]=X[be];bi[bf]=bi[be]-Y}else{if(bj==O){bi[bf]=X[bf]+(X[bh]()-Y)/2;bi[be]=bi[bf]+Y}}}}};var ag=a3.extend({init:function(Y,bg,X,bf,bh){var be=this;be.c=Y;be.ir=bg;be.r=X;be.startAngle=bf;be.angle=bh},clone:function(){var X=this;return new ag(X.c,X.ir,X.r,X.startAngle,X.angle)},middle:function(){return this.startAngle+this.angle/2},radius:function(X,be){var Y=this;if(be){Y.ir=X}else{Y.r=X}return Y},point:function(Y,bg){var be=this,bj=Y*aN,X=ae.cos(bj),bk=ae.sin(bj),bf=bg?be.ir:be.r,bi=T(be.c.x-(X*bf),af),bh=T(be.c.y-(bk*bf),af);return new d(bi,bh)},adjacentBox:function(X,Y,bn){var be=this.clone().expand(X),bh=be.middle(),bk=be.point(bh),bi=Y/2,bf=bn/2,bm=bk.x-bi,bj=bk.y-bf,bl=ae.sin(bh*aN),bg=ae.cos(bh*aN);if(ae.abs(bl)<0.9){bm+=bi*-bg/ae.abs(bg)}if(ae.abs(bg)<0.9){bj+=bf*-bl/ae.abs(bl)}return new C(bm,bj,bm+Y,bj+bn)},containsPoint:function(be){var bh=this,bn=bh.c,bk=bh.ir,X=bh.r,bl=bh.startAngle,bg=bh.startAngle+bh.angle,bq=be.x-bn.x,bp=be.y-bn.y,bf=new d(bq,bp),Y=bh.point(bl),bi=new d(Y.x-bn.x,Y.y-bn.y),bo=bh.point(bg),bj=new d(bo.x-bn.x,bo.y-bn.y),bm=T(bq*bq+bp*bp,af);return(bi.equals(bf)||a5(bi,bf))&&!a5(bj,bf)&&bm>=bk*bk&&bm<=X*X},getBBox:function(){var X=this,bf=new C(aq,aq,j,j),bj=T(X.startAngle%360),bg=T((bj+X.angle)%360),bi=X.ir,bl=[0,90,180,270,bj,bg].sort(ba),Y=s(bj,bl),bm=s(bg,bl),bh,be,bk;if(bj==bg){bh=bl}else{if(Y<bm){bh=bl.slice(Y,bm+1)}else{bh=[].concat(bl.slice(0,bm+1),bl.slice(Y,bl.length))}}for(be=0;be<bh.length;be++){bk=X.point(bh[be]);bf.wrapPoint(bk);bf.wrapPoint(bk,bi)}if(!bi){bf.wrapPoint(X.c)}return bf},expand:function(X){this.r+=X;return this}});var A=ag.extend({init:function(Y,X,be,bf){ag.fn.init.call(this,Y,0,X,be,bf)},expand:function(X){return ag.fn.expand.call(this,X)},clone:function(){var X=this;return new A(X.c,X.r,X.startAngle,X.angle)},radius:function(X){return ag.fn.radius.call(this,X)},point:function(X){return ag.fn.point.call(this,X)}});var E=function(){};E.fn=E.prototype={createRing:function(bf,bl){var bi=bf.startAngle+180;var be=bf.angle+bi;var X=new a9.Point(bf.c.x,bf.c.y);var bh=ae.max(bf.r,0);var bj=ae.max(bf.ir,0);var Y=new a9.Arc(X,{startAngle:bi,endAngle:be,radiusX:bh,radiusY:bh});var bk=aJ.Path.fromArc(Y,bl).close();if(bj){Y.radiusX=Y.radiusY=bj;var bg=Y.pointAt(be);bk.lineTo(bg.x,bg.y);bk.arc(be,bi,bj,bj,true)}else{bk.lineTo(X.x,X.y)}return bk}};E.current=new E();var aG=a3.extend({init:function(X){var Y=this;Y.children=[];Y.options=bd({},Y.options,X)},reflow:function(X){var bf=this,be=bf.children,bg,Y,bh;for(Y=0;Y<be.length;Y++){bh=be[Y];bh.reflow(X);bg=bg?bg.wrap(bh.box):bh.box.clone()}bf.box=bg||X},destroy:function(){var bf=this,be=bf.children,X=bf.getRoot(),Y;if(this.animation){this.animation.destroy()}for(Y=0;Y<be.length;Y++){be[Y].destroy()}},getRoot:function(){var X=this.parent;return X?X.getRoot():null},translateChildren:function(Y,X){var bh=this,bg=bh.children,bf=bg.length,be;for(be=0;be<bf;be++){bg[be].box.translate(Y,X)}},append:function(){W(this.children,arguments);for(var X=0;X<arguments.length;X++){arguments[X].parent=this}},renderVisual:function(){if(this.options.visible===false){return}this.createVisual();this.addVisual();this.renderChildren();this.createAnimation();this.renderComplete()},addVisual:function(){if(this.visual){this.visual.chartElement=this;if(this.parent){this.parent.appendVisual(this.visual)}}},renderChildren:function(){var Y=this.children;for(var X=0;X<Y.length;X++){Y[X].renderVisual()}},createVisual:function(){this.visual=new aC.drawing.Group({zIndex:this.options.zIndex,visible:i(this.options.visible,true)})},createAnimation:function(){if(this.visual){this.animation=aJ.Animation.create(this.visual,this.options.animation)}},appendVisual:function(X){if(!X.chartElement){X.chartElement=this}if(X.options.noclip){this.clipRoot().visual.append(X)}else{if(k(X.options.zIndex)){this.stackRoot().stackVisual(X)}else{if(this.visual){this.visual.append(X)}else{this.parent.appendVisual(X)}}}},clipRoot:function(){if(this.parent){return this.parent.clipRoot()}return this},stackRoot:function(){if(this.parent){return this.parent.stackRoot()}return this},stackVisual:function(be){var bh=be.options.zIndex||0;var bf=this.visual.children;for(var bg=0;bg<bf.length;bg++){var Y=bf[bg];var X=i(Y.options.zIndex,0);if(X>bh){break}}this.visual.insertAt(be,bg)},traverse:function(bf){var Y=this.children;for(var X=0;X<Y.length;X++){var be=Y[X];bf(be);if(be.traverse){be.traverse(bf)}}},closest:function(Y){var be=this;var X=false;while(be&&!X){X=Y(be);if(!X){be=be.parent}}if(X){return be}},renderComplete:aU.noop,hasHighlight:function(){var X=(this.options||{}).highlight;return !(!this.createHighlight||(X&&X.visible===false))},toggleHighlight:function(X){var bh=this;var Y=bh._highlight;var be=(bh.options||{}).highlight;var bg=(be||{}).visual;if(!Y){var bf={fill:{color:x,opacity:0.2},stroke:{color:x,width:1,opacity:0.2}};if(bg){Y=bh._highlight=bg(bd(bh.highlightVisualArgs(),{createVisual:function(){return bh.createHighlight(bf)},series:bh.series,dataItem:bh.dataItem,category:bh.category,value:bh.value,percentage:bh.percentage,runningTotal:bh.runningTotal,total:bh.total}));if(!Y){return}}else{Y=bh._highlight=bh.createHighlight(bf)}Y.options.zIndex=bh.options.zIndex;bh.appendVisual(Y)}Y.visible(X)},createGradientOverlay:function(be,Y,bf){var X=new aJ.Path(bd({stroke:{color:au},fill:this.createGradient(bf),closed:be.options.closed},Y));X.segments.elements(be.segments.elements());return X},createGradient:function(X){if(this.parent){return this.parent.createGradient(X)}}});var b=aG.extend({init:function(Y){var X=this;X.gradients={};aG.fn.init.call(X,Y)},options:{width:u,height:ah,background:x,border:{color:I,width:0},margin:D(5),zIndex:-2},reflow:function(){var Y=this,be=Y.options,bg=Y.children,X=new C(0,0,be.width,be.height);Y.box=X.unpad(be.margin);for(var bf=0;bf<bg.length;bf++){bg[bf].reflow(X);X=aw(X,bg[bf].box)||C()}},createVisual:function(){this.visual=new aJ.Group();this.createBackground()},createBackground:function(){var Y=this.options;var X=Y.border||{};var bf=this.box.clone().pad(Y.margin).unpad(X.width);var be=aJ.Path.fromRect(bf.toRect(),{stroke:{color:X.width?X.color:"",width:X.width,dashType:X.dashType},fill:{color:Y.background,opacity:Y.opacity},zIndex:-10});this.visual.append(be)},getRoot:function(){return this},createGradient:function(be){var X=this.gradients;var Y=aW.objectKey(be);var bh=aC.Gradients[be.gradient];var bf;if(X[Y]){bf=X[Y]}else{var bg=bd({},bh,be);if(bh.type=="linear"){bf=new aJ.LinearGradient(bg)}else{if(be.innerRadius){bg.stops=al(bg)}bf=new aJ.RadialGradient(bg);bf.supportVML=bh.supportVML!==false}X[Y]=bf}return bf}});var aK=aG.extend({options:{align:c,vAlign:p,margin:{},padding:{},border:{color:I,width:0},background:"",shrinkToFit:false,width:0,height:0,visible:true},reflow:function(bk){var bi=this,bj,bl,br=bi.options,Y=br.width,bo=br.height,bf=Y&&bo,bq=br.shrinkToFit,bg=D(br.margin),bm=D(br.padding),X=br.border.width,be=bi.children,bh,bp;function bn(){bi.align(bk,av,br.align);bi.align(bk,at,br.vAlign);bi.paddingBox=bj.clone().unpad(bg).unpad(X)}bl=bk.clone();if(bf){bl.x2=bl.x1+Y;bl.y2=bl.y1+bo}if(bq){bl.unpad(bg).unpad(X).unpad(bm)}aG.fn.reflow.call(bi,bl);if(bf){bj=bi.box=C(0,0,Y,bo)}else{bj=bi.box}if(bq&&bf){bn();bl=bi.contentBox=bi.paddingBox.clone().unpad(bm)}else{bl=bi.contentBox=bj.clone();bj.pad(bm).pad(X).pad(bg);bn()}bi.translateChildren(bj.x1-bl.x1+bg.left+X+bm.left,bj.y1-bl.y1+bg.top+X+bm.top);for(bh=0;bh<be.length;bh++){bp=be[bh];bp.reflow(bp.box)}},align:function(X,Y,be){this.box.align(X,Y,be)},hasBox:function(){var X=this.options;return X.border.width||X.background},createVisual:function(){aG.fn.createVisual.call(this);var X=this.options;if(X.visible&&this.hasBox()){this.visual.append(aJ.Path.fromRect(this.paddingBox.toRect(),this.visualStyle()))}},visualStyle:function(){var be=this,Y=be.options,X=Y.border||{};return{stroke:{width:X.width,color:X.color,opacity:i(X.opacity,Y.opacity),dashType:X.dashType},fill:{color:Y.background,opacity:Y.opacity},cursor:Y.cursor}}});var bb=aG.extend({init:function(Y,X){var be=this;aG.fn.init.call(be,X);be.content=Y;be.reflow(C())},options:{font:aA,color:I,align:c,vAlign:""},reflow:function(X){var bg=this,Y=bg.options,be,bf;be=Y.size=S(bg.content,{font:Y.font});bg.baseline=be.baseline;bg.box=C(X.x1,X.y1,X.x1+be.width,X.y1+be.height)},createVisual:function(){var X=this.options;this.visual=new aJ.Text(this.content,this.box.toRect().topLeft(),{font:X.font,fill:{color:X.color,opacity:X.opacity},cursor:X.cursor})}});var U=aG.extend({init:function(X){aG.fn.init.call(this,X);this._initDirection()},_initDirection:function(){var X=this.options;if(X.vertical){this.groupAxis=av;this.elementAxis=at;this.groupSizeField=V;this.elementSizeField=a0;this.groupSpacing=X.spacing;this.elementSpacing=X.vSpacing}else{this.groupAxis=at;this.elementAxis=av;this.groupSizeField=a0;this.elementSizeField=V;this.groupSpacing=X.vSpacing;this.elementSpacing=X.spacing}},options:{vertical:true,wrap:true,vSpacing:0,spacing:0},reflow:function(X){this.box=X.clone();this.reflowChildren()},reflowChildren:function(){var by=this;var bp=by.box;var bh=by.options;var bg=by.elementSpacing;var bz=by.groupSpacing;var bq=by.elementAxis;var bs=by.groupAxis;var bi=by.elementSizeField;var bj=by.groupSizeField;var bl=by.groupOptions();var bv=bl.groups;var bu=bv.length;var bt=bp[bs+1]+by.alignStart(bl.groupsSize,bp[bj]());var be=bt;var bo;var Y;var bk;var bx;var bn;var br;var bm;var bf;var bw;var X;if(bu){for(bm=0;bm<bu;bm++){bk=bv[bm];bx=bk.groupElements;bn=bx.length;bo=bp[bq+1];for(br=0;br<bn;br++){bf=bx[br];X=by.elementSize(bf);Y=be+by.alignStart(X[bj],bk.groupSize);bw=C();bw[bs+1]=Y;bw[bs+2]=Y+X[bj];bw[bq+1]=bo;bw[bq+2]=bo+X[bi];bf.reflow(bw);bo+=X[bi]+by.elementSpacing}be+=bk.groupSize+by.groupSpacing}bp[bs+1]=bt;bp[bs+2]=bt+bl.groupsSize;bp[bq+2]=bp[bq+1]+bl.maxGroupElementsSize}},alignStart:function(X,bf){var be=0;var Y=this.options.align;if(Y==l||Y==aV){be=bf-X}else{if(Y==O){be=(bf-X)/2}}return be},groupOptions:function(){var bs=this;var bn=bs.box;var bi=bs.children;var br=bi.length;var bj=this.elementSizeField;var bl=this.groupSizeField;var bf=this.elementSpacing;var bt=this.groupSpacing;var bg=T(bn[bj]());var bo=0;var Y=0;var X;var be;var bk=0;var bm=0;var bp=[];var bq=[];var bh=0;for(bo=0;bo<br;bo++){be=bi[bo];if(!be.box){be.reflow(bn)}X=this.elementSize(be);if(bs.options.wrap&&T(bk+bf+X[bj])>bg){bp.push({groupElements:bq,groupSize:Y,groupElementsSize:bk});bh=ae.max(bh,bk);bm+=bt+Y;Y=0;bk=0;bq=[]}Y=ae.max(Y,X[bl]);if(bk>0){bk+=bf}bk+=X[bj];bq.push(be)}bp.push({groupElements:bq,groupSize:Y,groupElementsSize:bk});bh=ae.max(bh,bk);bm+=Y;return{groups:bp,groupsSize:bm,maxGroupElementsSize:bh}},elementSize:function(X){return{width:X.box.width(),height:X.box.height()}},createVisual:aQ});var ac=aK.extend({ROWS_SPLIT_REGEX:/\n|\\n/m,init:function(be,Y){var X=this;X.content=be;aK.fn.init.call(X,Y);X._initContainer();X.reflow(C())},_initContainer:function(){var X=this;var bf=X.options;var bi=(X.content+"").split(X.ROWS_SPLIT_REGEX);var be=new U({vertical:true,align:bf.align,wrap:false});var Y=bd({},bf,{opacity:1,animation:null});var bg=X.hasBox();var bj;var bh;X.container=be;X.append(be);for(bh=0;bh<bi.length;bh++){bj=new bb(aX(bi[bh]),Y);be.append(bj)}},reflow:function(X){var Y=this.options;var bg=Y.visual;var bj=Y.align;var be=Y.rotation;this.container.options.align=bj;if(bg&&!this._boxReflow){this.visual=bg(this.visualContext(X));var bi=X;if(this.visual){bi=R(this.visual.clippedBBox()||new a9.Rect())}this.box=this.contentBox=this.paddingBox=bi}else{aK.fn.reflow.call(this,X);if(be){var bh=D(Y.margin);var bf=this.box.unpad(bh);this.normalBox=bf.clone();bf.rotate(be);this.align(X,av,bj);this.align(X,at,Y.vAlign);bf.translate(bh.left-bh.right,bh.top-bh.bottom);this.rotatedBox=bf.clone();bf.pad(bh)}}},createVisual:function(){var X=this.options;if(!X.visible){return}this.visual=new aC.drawing.Group({transform:this.rotationTransform(),zIndex:X.zIndex,noclip:X.noclip});if(this.hasBox()){var Y=aJ.Path.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(Y)}},renderVisual:function(){if(this.options.visual){this.addVisual()}else{aK.fn.renderVisual.call(this)}},visualOptions:function(){var X=this.options;return{background:X.background,border:X.border,color:X.color,font:X.font,margin:X.margin,padding:X.padding,visible:X.visible}},visualContext:function(Y){var X=this;return{text:X.content,rect:Y.toRect(),options:X.visualOptions(),createVisual:function(){X._boxReflow=true;X.reflow(Y);X._boxReflow=false;return X.getDefaultVisual()}}},getDefaultVisual:function(){this.createVisual();this.renderChildren();var X=this.visual;delete this.visual;return X},rotationTransform:function(){var be=this.options.rotation;if(!be){return null}var Y=this.normalBox.center();var X=Y.x;var bg=Y.y;var bf=this.rotatedBox.center();return a9.transform().translate(bf.x-X,bf.y-bg).rotate(be,[X,bg])}});var z=aG.extend({init:function(X){var Y=this;aG.fn.init.call(Y,X);X=Y.options;Y.append(new ac(X.text,bd({},X,{vAlign:X.position})))},options:{color:I,position:p,align:O,margin:D(5),padding:D(5)},reflow:function(X){var Y=this;aG.fn.reflow.call(Y,X);Y.box.snapTo(X,av)}});z.buildTitle=function(Y,be,X){var bf;if(typeof Y==="string"){Y={text:Y}}Y=bd({visible:true},X,Y);if(Y&&Y.visible&&Y.text){bf=new z(Y);be.append(bf)}return bf};var a2=ac.extend({init:function(bg,bh,bf,be,Y){var X=this;X.text=bh;X.value=bg;X.index=bf;X.dataItem=be;ac.fn.init.call(X,bh,Y)},visualContext:function(X){var Y=ac.fn.visualContext.call(this,X);Y.value=this.value;Y.dataItem=this.dataItem;Y.format=this.options.format;Y.culture=this.options.culture;return Y},click:function(Y,be){var X=this;Y.trigger(aS,{element:aU(be.target),value:X.value,text:X.text,index:X.index,dataItem:X.dataItem,axis:X.parent.options})}});function aD(bf,be){var Y=bf.tickX,bh=bf.tickY,X=bf.position;var bg=new aJ.Path({stroke:{width:be.width,color:be.color}});if(bf.vertical){bg.moveTo(Y,X).lineTo(Y+be.size,X)}else{bg.moveTo(X,bh).lineTo(X,bh+be.size)}ad(bg);return bg}function H(bf,bi){var bg=bf.lineStart,bh=bf.lineEnd,X=bf.position,bj,be;var Y=new aJ.Path({stroke:{width:bi.width,color:bi.color,dashType:bi.dashType}});if(bf.vertical){Y.moveTo(bg,X).lineTo(bh,X)}else{Y.moveTo(X,bg).lineTo(X,bh)}ad(Y);return Y}var M=aG.extend({init:function(X){var Y=this;aG.fn.init.call(Y,X);if(!Y.options.visible){Y.options=bd({},Y.options,{labels:{visible:false},line:{visible:false},margin:0,majorTickSize:0,minorTickSize:0})}Y.options.minorTicks=bd({},{color:Y.options.line.color,width:Y.options.line.width,visible:Y.options.minorTickType!=au},Y.options.minorTicks,{size:Y.options.minorTickSize,align:Y.options.minorTickType});Y.options.majorTicks=bd({},{color:Y.options.line.color,width:Y.options.line.width,visible:Y.options.majorTickType!=au},Y.options.majorTicks,{size:Y.options.majorTickSize,align:Y.options.majorTickType});if(!this.options._deferLables){Y.createLabels()}Y.createTitle();Y.createNotes()},options:{labels:{visible:true,rotation:0,mirror:false,step:1,skip:0},line:{width:1,color:I,visible:true},title:{visible:true,position:O},majorTicks:{align:aZ,size:4,skip:0,step:1},minorTicks:{align:aZ,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:aZ,minorTickType:au,majorGridLines:{skip:0,step:1},minorGridLines:{visible:false,width:1,color:I,skip:0,step:1},margin:5,visible:true,reverse:false,justified:true,notes:{label:{text:""}},_alignLines:true,_deferLabels:false},createLabels:function(){var bg=this,be=bg.options,bj=be.vertical?l:O,X=bd({},be.labels,{align:bj,zIndex:be.zIndex}),bh=ae.max(1,X.step);bg.children=aU.grep(bg.children,function(bk){return !(bk instanceof a2)});bg.labels=[];if(X.visible){var bi=bg.labelsCount(),Y,bf;for(bf=X.skip;bf<bi;bf+=bh){Y=bg.createAxisLabel(bf,X);if(Y){bg.append(Y);bg.labels.push(Y)}}}},lineBox:function(){var be=this,bn=be.options,bi=be.box,bf=bn.vertical,bj=be.labels,bg=bf?a0:V,bh=bn.justified,bm=bn.labels.mirror,Y=bm?bi.x1:bi.x2,X=bm?bi.y2:bi.y1,bk=0,bl=bn.line.width;if(bh&&bj.length>1){bk=bj[0].box[bg]()/2;bl=ap(bj).box[bg]()/2}return bf?C(Y,bi.y1+bk,Y,bi.y2-bl):C(bi.x1+bk,X,bi.x2-bl,X)},createTitle:function(){var Y=this,X=Y.options,be=bd({rotation:X.vertical?-90:0,text:"",zIndex:1,visualSize:true},X.title),bf;if(be.visible&&be.text){bf=new ac(be.text,be);Y.append(bf);Y.title=bf}},createNotes:function(){var Y=this,bk=Y.options,bf=bk.notes,bg=bf.data||[],X,be,bi,bj,bh;Y.notes=[];for(be=0;be<bg.length;be++){bj=bd({},bf,bg[be]);bj.value=Y.parseNoteValue(bj.value);bh=new w(bj.value,bj.label.text,null,null,null,bj);if(bh.options.visible){if(k(bh.options.position)){if(bk.vertical&&!G(bh.options.position,[c,l])){bh.options.position=bk.reverse?c:l}else{if(!bk.vertical&&!G(bh.options.position,[p,aV])){bh.options.position=bk.reverse?aV:p}}}else{if(bk.vertical){bh.options.position=bk.reverse?c:l}else{bh.options.position=bk.reverse?aV:p}}Y.append(bh);Y.notes.push(bh)}}},parseNoteValue:function(X){return X},renderVisual:function(){aG.fn.renderVisual.call(this);this.createPlotBands()},createVisual:function(){aG.fn.createVisual.call(this);this.createBackground();this.createLine()},gridLinesVisual:function(){var X=this._gridLines;if(!X){X=this._gridLines=new aJ.Group({zIndex:-2});this.appendVisual(this._gridLines)}return X},createTicks:function(bf){var be=this,bl=be.options,bh=be.lineBox(),bj=bl.labels.mirror,bi=bl.majorTicks.visible?bl.majorUnit:0,bk={vertical:bl.vertical},Y,bg;function X(bn,bm,bp){var bo,bq=bn.length;if(bm.visible){for(bo=bm.skip;bo<bq;bo+=bm.step){if(k(bp)&&(bo%bp===0)){continue}bk.tickX=bj?bh.x2:bh.x2-bm.size;bk.tickY=bj?bh.y1-bm.size:bh.y1;bk.position=bn[bo];bf.append(aD(bk,bm))}}}X(be.getMajorTickPositions(),bl.majorTicks);X(be.getMinorTickPositions(),bl.minorTicks,bi/bl.minorUnit)},createLine:function(){var bg=this,bf=bg.options,Y=bf.line,X=bg.lineBox(),be;if(Y.width>0&&Y.visible){var bi=new aJ.Path({stroke:{width:Y.width,color:Y.color,dashType:Y.dashType}});bi.moveTo(X.x1,X.y1).lineTo(X.x2,X.y2);if(bf._alignLines){ad(bi)}var bh=this._lineGroup=new aJ.Group();bh.append(bi);this.visual.append(bh);this.createTicks(bh)}},getActualTickSize:function(){var Y=this,X=Y.options,be=0;if(X.majorTicks.visible&&X.minorTicks.visible){be=ae.max(X.majorTicks.size,X.minorTicks.size)}else{if(X.majorTicks.visible){be=X.majorTicks.size}else{if(X.minorTicks.visible){be=X.minorTicks.size}}}return be},createBackground:function(){var be=this,X=be.options,Y=X.background,bf=be.box;if(Y){be._backgroundPath=aJ.Path.fromRect(bf.toRect(),{fill:{color:Y},stroke:null});this.visual.append(be._backgroundPath)}},createPlotBands:function(){var be=this,bn=be.options,bm=bn.plotBands||[],bf=bn.vertical,X=be.plotArea,bi,bh,bk,bj;if(bm.length===0){return}var bl=this._plotbandGroup=new aJ.Group({zIndex:-1});var Y=aU.grep(be.pane.axes,function(bo){return bo.options.vertical!==be.options.vertical})[0];var bg=this.range();aU.each(bm,function(bp,bq){bk=i(bq.from,j);bj=i(bq.to,aq);var bo=[];if(bf){bi=(Y||X.axisX).lineBox();bh=be.getSlot(bq.from,bq.to,true)}else{bi=be.getSlot(bq.from,bq.to,true);bh=(Y||X.axisY).lineBox()}if(bi.width()!==0&&bh.height()!==0){var br=new a9.Rect([bi.x1,bh.y1],[bi.width(),bh.height()]);var bs=aJ.Path.fromRect(br,{fill:{color:bq.color,opacity:bq.opacity},stroke:null});bl.append(bs)}});be.appendVisual(bl)},createGridLines:function(be){var bf=this,bp=bf.options,bo=be.options.line.visible,bm=bp.majorGridLines,bj=bm.visible?bp.majorUnit:0,bg=bp.vertical,bi=be.lineBox(),bl=bi[bg?"y1":"x1"],bn={lineStart:bi[bg?"x1":"y1"],lineEnd:bi[bg?"x2":"y2"],vertical:bg},bk,bh=[];var X=this.gridLinesVisual();function Y(bq,bu,bs){var bt=bq.length,br;if(bu.visible){for(br=bu.skip;br<bt;br+=bu.step){bk=T(bq[br]);if(!G(bk,bh)){if(br%bs!==0&&(!bo||bl!==bk)){bn.position=bk;X.append(H(bn,bu));bh.push(bk)}}}}}Y(bf.getMajorTickPositions(),bp.majorGridLines);Y(bf.getMinorTickPositions(),bp.minorGridLines,bj/bp.minorUnit);return X.children},reflow:function(bm){var bh=this,bq=bh.options,bi=bq.vertical,bn=bh.labels,bo=bn.length,bp=bh.title,bf=bi?V:a0,be=bp?bp.box[bf]():0,X=bh.getActualTickSize()+bq.margin+be,Y=0,bl=(this.getRoot()||{}).box||bm,bg=bl[bf](),bj,bk;for(bk=0;bk<bo;bk++){bj=bn[bk].box[bf]();if(bj+X<=bg){Y=ae.max(Y,bj)}}if(bi){bh.box=C(bm.x1,bm.y1,bm.x1+Y+X,bm.y2)}else{bh.box=C(bm.x1,bm.y1,bm.x2,bm.y1+Y+X)}bh.arrangeTitle();bh.arrangeLabels();bh.arrangeNotes()},arrangeLabels:function(){var bf=this,bg=bf.options,bt=bf.labels,bm=!bg.justified,be=bg.vertical,X=bf.lineBox(),bn=bg.labels.mirror,bu=bf.getMajorTickPositions(),br=bf.getActualTickSize()+bg.margin,bq,bk,bs;for(bs=0;bs<bt.length;bs++){var bi=bt[bs],bh=bi.index,bj=be?bi.box.height():bi.box.width(),bo=bu[bh]-(bj/2),bp,Y,bv,bl;if(be){if(bm){bp=bu[bh];Y=bu[bh+1];bv=bp+(Y-bp)/2;bo=bv-(bj/2)}bl=X.x2;if(bn){bl+=br}else{bl-=br+bi.box.width()}bq=bi.box.move(bl,bo)}else{if(bm){bp=bu[bh];Y=bu[bh+1]}else{bp=bo;Y=bo+bj}bk=X.y1;if(bn){bk-=br+bi.box.height()}else{bk+=br}bq=C(bp,bk,Y,bk+bi.box.height())}bi.reflow(bq)}},arrangeTitle:function(){var be=this,Y=be.options,bf=Y.labels.mirror,X=Y.vertical,bg=be.title;if(bg){if(X){bg.options.align=bf?l:c;bg.options.vAlign=bg.options.position}else{bg.options.align=bg.options.position;bg.options.vAlign=bf?p:aV}bg.reflow(be.box)}},arrangeNotes:function(){var Y=this,X,be,bg,bf;for(X=0;X<Y.notes.length;X++){be=Y.notes[X];bf=be.options.value;if(k(bf)){if(Y.shouldRenderNote(bf)){be.show()}else{be.hide()}bg=Y.getSlot(bf)}else{be.hide()}be.reflow(bg||Y.lineBox())}},alignTo:function(be){var bf=this,X=be.lineBox(),Y=bf.options.vertical,bg=Y?at:av;bf.box.snapTo(X,bg);if(Y){bf.box.shrink(0,bf.lineBox().height()-X.height())}else{bf.box.shrink(bf.lineBox().width()-X.width(),0)}bf.box[bg+1]-=bf.lineBox()[bg+1]-X[bg+1];bf.box[bg+2]-=bf.lineBox()[bg+2]-X[bg+2]},axisLabelText:function(bf,be,Y){var bg=bf;if(Y.template){var X=Z(Y.template);bg=X({value:bf,dataItem:be,format:Y.format,culture:Y.culture})}else{if(Y.format){if(Y.format.match(e)){bg=y.format(Y.format,bf)}else{bg=y.toString(bf,Y.format,Y.culture)}}}return bg},slot:function(be,Y){var X=this.getSlot(be,Y);if(X){return X.toRect()}}});var w=aK.extend({init:function(bh,bi,Y,bg,be,X){var bf=this;aK.fn.init.call(bf,X);bf.value=bh;bf.text=bi;bf.dataItem=Y;bf.category=bg;bf.series=be;bf.render()},options:{icon:{visible:true,type:o},label:{position:r,visible:true,align:O,vAlign:O},line:{visible:true},visible:true,position:p,zIndex:2},hide:function(){this.options.visible=false},show:function(){this.options.visible=true},render:function(){var bg=this,bm=bg.options,bi=bm.label,bk=bg.text,bh=bm.icon,bl=bh.size,bf=C(),be,X,bj,Y;if(bm.visible){if(k(bi)&&bi.visible){if(bi.template){Y=Z(bi.template);bk=Y({dataItem:bg.dataItem,category:bg.category,value:bg.value,text:bk,series:bg.series})}else{if(bi.format){bk=aL(bi.format,bk)}}bg.label=new ac(bk,bd({},bi));if(bi.position===r&&!k(bl)){if(bh.type===o){bl=ae.max(bg.label.box.width(),bg.label.box.height())}else{X=bg.label.box.width();bj=bg.label.box.height()}bf.wrap(bg.label.box)}}bh.width=X||bl||am;bh.height=bj||bl||am;be=new az(bd({},bh));bg.marker=be;bg.append(be);if(bg.label){bg.append(bg.label)}be.reflow(C());bg.wrapperBox=bf.wrap(be.box)}},reflow:function(bj){var bk=this,bn=bk.options,X=bj.center(),bm=bk.wrapperBox,Y=bn.line.length,bg=bn.position,bl=bk.label,be=bk.marker,bh,bf,bi;if(bn.visible){if(G(bg,[c,l])){if(bg===c){bi=bm.alignTo(bj,bg).translate(-Y,bj.center().y-bm.center().y);if(bn.line.visible){bh=[ae.floor(bj.x1),X.y];bk.linePoints=[bh,[ae.floor(bi.x2),X.y]];bf=bi.clone().wrapPoint(bh)}}else{bi=bm.alignTo(bj,bg).translate(Y,bj.center().y-bm.center().y);if(bn.line.visible){bh=[ae.floor(bj.x2),X.y];bk.linePoints=[bh,[ae.floor(bi.x1),X.y]];bf=bi.clone().wrapPoint(bh)}}}else{if(bg===aV){bi=bm.alignTo(bj,bg).translate(bj.center().x-bm.center().x,Y);if(bn.line.visible){bh=[ae.floor(X.x),ae.floor(bj.y2)];bk.linePoints=[bh,[ae.floor(X.x),ae.floor(bi.y1)]];bf=bi.clone().wrapPoint(bh)}}else{bi=bm.alignTo(bj,bg).translate(bj.center().x-bm.center().x,-Y);if(bn.line.visible){bh=[ae.floor(X.x),ae.floor(bj.y1)];bk.linePoints=[bh,[ae.floor(X.x),ae.floor(bi.y2)]];bf=bi.clone().wrapPoint(bh)}}}if(be){be.reflow(bi)}if(bl){bl.reflow(bi);if(be){if(bn.label.position===aZ){bl.box.alignTo(be.box,bg)}bl.reflow(bl.box)}}bk.contentBox=bi;bk.targetBox=bj;bk.box=bf||bi}},createVisual:function(){aK.fn.createVisual.call(this);if(this.options.visible){this.createLine()}},renderVisual:function(){var be=this;var X=be.options;var Y=X.visual;if(X.visible&&Y){var bf=be.targetPoint;be.visual=Y({dataItem:be.dataItem,category:be.category,value:be.value,text:be.text,series:be.series,rect:be.targetBox.toRect(),options:{background:X.background,border:X.background,icon:X.icon,label:X.label,line:X.line,position:X.position,visible:X.visible},createVisual:function(){be.createVisual();be.renderChildren();var bg=be.visual;delete be.visual;return bg}});be.addVisual()}else{aK.fn.renderVisual.call(be)}},createLine:function(){var X=this.options.line;if(this.linePoints){var Y=aJ.Path.fromPoints(this.linePoints,{stroke:{color:X.color,width:X.width,dashType:X.dashType}});ad(Y);this.visual.append(Y)}},click:function(Y,be){var X=this.eventArgs(be);if(!Y.trigger(aO,X)){be.preventDefault()}},hover:function(Y,be){var X=this.eventArgs(be);if(!Y.trigger(t,X)){be.preventDefault()}},leave:function(X){X._unsetActivePoint()},eventArgs:function(be){var Y=this,X=Y.options;return{element:aU(be.target),text:k(X.label)?X.label.text:"",dataItem:Y.dataItem,series:Y.series,value:Y.value,category:Y.category}}});var az=aK.extend({init:function(Y,X){this.pointData=X;aK.fn.init.call(this,Y)},options:{type:o,align:O,vAlign:O},getElement:function(){var bh=this,bm=bh.options,bj=bm.type,bl=bm.rotation,bi=bh.paddingBox,bg,X=bi.center(),bf=bi.width()/2,bk,be;if(!bm.visible||!bh.hasBox()){return}var Y=bh.visualStyle();if(bj===o){bg=new aJ.Circle(new a9.Circle([T(bi.x1+bf,af),T(bi.y1+bi.height()/2,af)],bf),Y)}else{if(bj===aP){bg=aJ.Path.fromPoints([[bi.x1+bf,bi.y1],[bi.x1,bi.y2],[bi.x2,bi.y2]],Y).close()}else{if(bj===q){bg=new aJ.MultiPath(Y);bg.moveTo(bi.x1,bi.y1).lineTo(bi.x2,bi.y2);bg.moveTo(bi.x1,bi.y2).lineTo(bi.x2,bi.y1)}else{bg=aJ.Path.fromRect(bi.toRect(),Y)}}}if(bl){bg.transform(a9.transform().rotate(-bl,[X.x,X.y]))}bg.options.zIndex=this.options.zIndex;return bg},createElement:function(){var bf=this;var Y=bf.options.visual;var X=bf.pointData||{};var be;if(Y){be=Y({value:X.value,dataItem:X.dataItem,series:X.series,category:X.category,rect:bf.paddingBox.toRect(),options:bf.visualOptions(),createVisual:function(){return bf.getElement()}})}else{be=bf.getElement()}return be},visualOptions:function(){var X=this.options;return{background:X.background,border:X.border,margin:X.margin,padding:X.padding,type:X.type,size:X.width,visible:X.visible}},createVisual:function(){this.visual=this.createElement()}});var aB=M.extend({init:function(X,bg,be){var bf=this,Y=bf.initDefaults(X,bg,be);M.fn.init.call(bf,Y)},startValue:function(){return 0},options:{type:"numeric",min:0,max:1,vertical:true,majorGridLines:{visible:true,width:1,color:I},zIndex:1},initDefaults:function(be,bh,bk){var Y=this,bl=bk.narrowRange,bi=Y.autoAxisMin(be,bh,bl),X=Y.autoAxisMax(be,bh,bl),bg=f(bi,X),bf={majorUnit:bg},bj;if(bk.roundToMajorUnit!==false){if(bi<0&&a6(bi,bg,1/3)){bi-=bg}if(X>0&&a6(X,bg,1/3)){X+=bg}}bf.min=an(bi,bg);bf.max=aT(X,bg);if(bk){bj=k(bk.min)||k(bk.max);if(bj){if(bk.min===bk.max){if(bk.min>0){bk.min=0}else{bk.max=1}}}if(bk.majorUnit){bf.min=an(bf.min,bk.majorUnit);bf.max=aT(bf.max,bk.majorUnit)}else{if(bj){bk=bd(bf,bk);bf.majorUnit=f(bk.min,bk.max)}}}bf.minorUnit=(bk.majorUnit||bf.majorUnit)/5;return bd(bf,bk)},range:function(){var X=this.options;return{min:X.min,max:X.max}},autoAxisMax:function(Y,X,bg){var bf,be;if(!Y&&!X){return 1}if(Y<=0&&X<=0){X=Y==X?0:X;be=ae.abs((X-Y)/X);if(bg===false||(!bg&&be>aR)){return 0}bf=ae.min(0,X-((Y-X)/2))}else{Y=Y==X?0:Y;bf=X}return bf},autoAxisMin:function(be,X,bg){var Y,bf;if(!be&&!X){return 0}if(be>=0&&X>=0){be=be==X?0:be;bf=(X-be)/X;if(bg===false||(!bg&&bf>aR)){return 0}Y=ae.max(0,be-((X-be)/2))}else{X=be==X?0:X;Y=be}return Y},getDivisions:function(X){if(X===0){return 1}var be=this.options,Y=be.max-be.min;return ae.floor(T(Y/X,af))+1},getTickPositions:function(bp,bi){var bf=this,bg=bf.options,be=bg.vertical,bn=bg.reverse,X=bf.lineBox(),bj=be?X.height():X.width(),bq=bg.max-bg.min,bt=bj/bq,bl=bp*bt,Y=0,bh=bf.getDivisions(bp),br=(be?-1:1)*(bn?-1:1),bo=br===1?1:2,bk=X[(be?at:av)+bo],bm=[],bs;if(bi){Y=bi/bp}for(bs=0;bs<bh;bs++){if(bs%Y!==0){bm.push(T(bk,af))}bk=bk+bl*br}return bm},getMajorTickPositions:function(){var X=this;return X.getTickPositions(X.options.majorUnit)},getMinorTickPositions:function(){var X=this;return X.getTickPositions(X.options.minorUnit)},getSlot:function(bm,bl,bh){var bf=this,br=bf.options,bk=br.reverse,bg=br.vertical,bq=bg?at:av,bj=bf.lineBox(),bi=bj[bq+(bk?2:1)],bo=bg?bj.height():bj.width(),be=bk?-1:1,X=be*(bo/(br.max-br.min)),bp,bn,Y=new C(bj.x1,bj.y1,bj.x1,bj.y1);if(!k(bm)){bm=bl||0}if(!k(bl)){bl=bm||0}if(bh){bm=ae.max(ae.min(bm,br.max),br.min);bl=ae.max(ae.min(bl,br.max),br.min)}if(bg){bp=br.max-ae.max(bm,bl);bn=br.max-ae.min(bm,bl)}else{bp=ae.min(bm,bl)-br.min;bn=ae.max(bm,bl)-br.min}Y[bq+1]=ae.max(ae.min(bi+X*(bk?bn:bp),ay),-ay);Y[bq+2]=ae.max(ae.min(bi+X*(bk?bp:bn),ay),-ay);return Y},getValue:function(bo){var bf=this,br=bf.options,bl=br.reverse,bg=br.vertical,bm=br.max*1,bi=br.min*1,bq=bg?at:av,bk=bf.lineBox(),bj=bk[bq+(bl?2:1)],bp=bg?bk.height():bk.width(),be=bl?-1:1,bh=be*(bo[bq]-bj),Y=(bm-bi)/bp,X=bh*Y,bn;if(bh<0||bh>bp){return null}bn=bg?bm-X:bi+X;return T(bn,aM)},translateRange:function(bj){var X=this,bl=X.options,bh=X.lineBox(),be=bl.vertical,bi=bl.reverse,bk=be?bh.height():bh.width(),bg=bl.max-bl.min,Y=bk/bg,bf=T(bj/Y,aM);if((be||bi)&&!(be&&bi)){bf=-bf}return{min:bl.min+bf,max:bl.max+bf}},scaleRange:function(bf){var Y=this,X=Y.options,be=-bf*X.majorUnit;return{min:X.min-be,max:X.max+be}},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(be,X){var bf=this,Y=bf.options,bg=T(Y.min+(be*Y.majorUnit),aM),bh=bf.axisLabelText(bg,null,X);return new a2(bg,bh,be,null,X)},shouldRenderNote:function(Y){var X=this.range();return X.min<=Y&&Y<=X.max}});var a7=M.extend({init:function(X,be,Y){this.options=this._initOptions(X,be,Y);M.fn.init.call(this,Y)},startValue:function(){return this.options.min},options:{type:"log",majorUnit:10,minorUnit:1,axisCrossingValue:1,vertical:true,majorGridLines:{visible:true,width:1,color:I},zIndex:1},getSlot:function(bu,bt,bs){var bi=this,bj=bi.options,bo=bj.reverse,bg=bj.vertical,br=bg?at:av,X=bi.lineBox(),bp=X[br+(bo?2:1)],bm=bg?X.height():X.width(),bq=bo?-1:1,bk=bj.majorUnit,be=bi.logMin,bh=bi.logMax,bn=bq*(bm/(bh-be)),bf,Y,bl=new C(X.x1,X.y1,X.x1,X.y1);if(!k(bu)){bu=bt||1}if(!k(bt)){bt=bu||1}if(bu<=0||bt<=0){return}if(bs){bu=ae.max(ae.min(bu,bj.max),bj.min);bt=ae.max(ae.min(bt,bj.max),bj.min)}bu=g(bu,bk);bt=g(bt,bk);if(bg){bf=bh-ae.max(bu,bt);Y=bh-ae.min(bu,bt)}else{bf=ae.min(bu,bt)-be;Y=ae.max(bu,bt)-be}bl[br+1]=bp+bn*(bo?Y:bf);bl[br+2]=bp+bn*(bo?bf:Y);return bl},getValue:function(br){var bg=this,bh=bg.options,bm=bh.reverse,be=bh.vertical,X=bg.lineBox(),bi=bh.majorUnit,Y=bg.logMin,bf=bg.logMax,bp=be===bm?1:-1,bn=bp===1?1:2,bk=be?X.height():X.width(),bl=((bf-Y)/bk),bs=be?at:av,bo=X[bs+bn],bj=bp*(br[bs]-bo),bt=bj*bl,bq;if(bj<0||bj>bk){return null}bq=Y+bt;return T(ae.pow(bi,bq),aM)},range:function(){var X=this.options;return{min:X.min,max:X.max}},scaleRange:function(bg){var Y=this,X=Y.options,be=X.majorUnit,bf=-bg;return{min:ae.pow(be,Y.logMin-bf),max:ae.pow(be,Y.logMax+bf)}},translateRange:function(bl){var be=this,bn=be.options,Y=bn.majorUnit,bj=be.lineBox(),bg=bn.vertical,bk=bn.reverse,bm=bg?bj.height():bj.width(),X=be.logMin,bi=be.logMax,bf=bm/(be.logMax-be.logMin),bh=T(bl/bf,aM);if((bg||bk)&&!(bg&&bk)){bh=-bh}return{min:ae.pow(Y,be.logMin+bh),max:ae.pow(Y,be.logMax+bh)}},labelsCount:function(){var Y=this,X=ae.floor(Y.logMax),be=ae.floor(X-Y.logMin)+1;return be},getMajorTickPositions:function(){var X=this,Y=[];X.traverseMajorTicksPositions(function(be){Y.push(be)},{step:1,skip:0});return Y},createTicks:function(bf){var be=this,bl=[],bn=be.options,bj=be.lineBox(),bk=bn.labels.mirror,bi=bn.majorTicks,bg=bn.minorTicks,bm={vertical:bn.vertical},Y,bh;function X(bo,bp){bm.tickX=bk?bj.x2:bj.x2-bp.size;bm.tickY=bk?bj.y1-bp.size:bj.y1;bm.position=bo;bf.append(aD(bm,bp))}if(bi.visible){be.traverseMajorTicksPositions(X,bi)}if(bg.visible){be.traverseMinorTicksPositions(X,bg)}return bl},createGridLines:function(be){var bf=this,bo=bf.options,bn=be.options.line.visible,bk=bo.majorGridLines,bl=bo.minorGridLines,bg=bo.vertical,bi=be.lineBox(),bm={lineStart:bi[bg?"x1":"y1"],lineEnd:bi[bg?"x2":"y2"],vertical:bg},bj,bh=[];var X=this.gridLinesVisual();function Y(bp,bq){if(!G(bp,bh)){bm.position=bp;X.append(H(bm,bq));bh.push(bp)}}if(bk.visible){bf.traverseMajorTicksPositions(Y,bk)}if(bl.visible){bf.traverseMinorTicksPositions(Y,bl)}return X.children},traverseMajorTicksPositions:function(bk,be){var bg=this,bl=bg._lineOptions(),bj=bl.lineStart,bf=bl.step,X=bg.logMin,bh=bg.logMax,Y,bi;for(Y=ae.ceil(X)+be.skip;Y<=bh;Y+=be.step){bi=T(bj+bf*(Y-X),aM);bk(bi,be)}},traverseMinorTicksPositions:function(bh,bk){var be=this,bf=be.options,bq=be._lineOptions(),bm=bq.lineStart,bu=bq.step,bi=bf.majorUnit,X=be.logMin,Y=be.logMax,bg=ae.floor(X),bp=bf.max,bo=bf.min,bt=bf.minorUnit,bj,bn,br,bs;for(bj=bg;bj<Y;bj++){bs=be._minorIntervalOptions(bj);for(var bl=bk.skip;bl<bt;bl+=bk.step){bn=bs.value+bl*bs.minorStep;if(bn>bp){break}if(bn>=bo){br=T(bm+bu*(g(bn,bi)-X),aM);bh(br,bk)}}}},createAxisLabel:function(be,X){var bg=this,Y=bg.options,bf=ae.ceil(bg.logMin+be),bh=Math.pow(Y.majorUnit,bf),bi=bg.axisLabelText(bh,null,X);return new a2(bh,bi,be,null,X)},shouldRenderNote:function(Y){var X=this.range();return X.min<=Y&&Y<=X.max},_throwNegativeValuesError:function(){throw new Error("Non positive values cannot be used for a logarithmic axis")},_initOptions:function(be,bi,bk){var Y=this,bh=bd({},Y.options,{min:be,max:bi},bk),bg=bh.min,bj=bh.max,X=bh.majorUnit,bf;if(bh.axisCrossingValue<=0){Y._throwNegativeValuesError()}if(!k(bk.max)){bf=T(g(bj,X),aM)%1;if(bj<=0){bj=X}else{if(bf!==0&&(bf<0.3||bf>0.9)){bj=ae.pow(X,g(bj,X)+0.2)}else{bj=ae.pow(X,ae.ceil(g(bj,X)))}}}else{if(bk.max<=0){Y._throwNegativeValuesError()}}if(!k(bk.min)){if(bg<=0){bg=bj<=1?ae.pow(X,-2):1}else{if(!bk.narrowRange){bg=ae.pow(X,ae.floor(g(bg,X)))}}}else{if(bk.min<=0){Y._throwNegativeValuesError()}}Y.logMin=T(g(bg,X),aM);Y.logMax=T(g(bj,X),aM);bh.max=bj;bh.min=bg;bh.minorUnit=bk.minorUnit||T(X-1,aM);return bh},_minorIntervalOptions:function(be){var bg=this.options.majorUnit,bf=ae.pow(bg,be),X=ae.pow(bg,be+1),bh=X-bf,Y=bh/this.options.minorUnit;return{value:bf,minorStep:Y}},_lineOptions:function(){var be=this,bm=be.options,bj=bm.reverse,bg=bm.vertical,bl=bg?at:av,bi=be.lineBox(),bf=bg===bj?1:-1,X=bf===1?1:2,bk=bg?bi.height():bi.width(),Y=bf*(bk/(be.logMax-be.logMin)),bh=bi[bl+X];return{step:Y,lineStart:bh,lineBox:bi}}});aC.Gradients={glass:{type:bc,rotation:0,stops:[{offset:0,color:x,opacity:0},{offset:0.25,color:x,opacity:0.3},{offset:1,color:x,opacity:0}]},sharpBevel:{type:h,stops:[{offset:0,color:x,opacity:0.55},{offset:0.65,color:x,opacity:0},{offset:0.95,color:x,opacity:0.25}]},roundedBevel:{type:h,stops:[{offset:0.33,color:x,opacity:0.06},{offset:0.83,color:x,opacity:0.2},{offset:0.95,color:x,opacity:0}]},roundedGlass:{type:h,supportVML:false,stops:[{offset:0,color:x,opacity:0},{offset:0.5,color:x,opacity:0.3},{offset:0.99,color:x,opacity:0}]},sharpGlass:{type:h,supportVML:false,stops:[{offset:0,color:x,opacity:0.2},{offset:0.15,color:x,opacity:0.15},{offset:0.17,color:x,opacity:0.35},{offset:0.85,color:x,opacity:0.05},{offset:0.87,color:x,opacity:0.15},{offset:0.99,color:x,opacity:0}]}};var aE={extend:function(X,Y){if(!X.exportVisual){throw new Error("Mixin target has no exportVisual method defined.")}X.exportSVG=this.exportSVG;X.exportImage=this.exportImage;X.exportPDF=this.exportPDF;if(!Y){X.svg=this.svg;X.imageDataURL=this.imageDataURL}},exportSVG:function(X){return aJ.exportSVG(this.exportVisual(),X)},exportImage:function(X){return aJ.exportImage(this.exportVisual(),X)},exportPDF:function(X){return aJ.exportPDF(this.exportVisual(),X)},svg:function(){if(aJ.svg.Surface){return aJ.svg._exportGroup(this.exportVisual())}else{throw new Error("SVG Export failed. Unable to export instantiate kendo.drawing.svg.Surface")}},imageDataURL:function(){if(!y.support.canvas){return null}if(aJ.canvas.Surface){var Y=aU("<div />").css({display:"none",width:this.element.width(),height:this.element.height()}).appendTo(document.body);var X=new aJ.canvas.Surface(Y);X.draw(this.exportVisual());var be=X._rootElement.toDataURL();X.destroy();Y.remove();return be}else{throw new Error("Image Export failed. Unable to export instantiate kendo.drawing.canvas.Surface")}}};function f(bf,be){var bg=T(be-bf,aM-1);if(bg===0){if(be===0){return 0.1}bg=ae.abs(be)}var bh=ae.pow(10,ae.floor(ae.log(bg)/ae.log(10))),Y=T((bg/bh),aM),X=1;if(Y<1.904762){X=0.2}else{if(Y<4.761904){X=0.5}else{if(Y<9.523809){X=1}else{X=2}}}return T(bh*X,aM)}function v(X){var be=[];for(var Y in X){be.push(Y+X[Y])}return be.sort().join(" ")}function ar(Y,bh,X,bg,bf){var be=bf*aN;return new d(X+(Y-X)*ae.cos(be)+(bh-bg)*ae.sin(be),bg-(Y-X)*ae.sin(be)+(bh-bg)*ae.cos(be))}function aw(X,bm){if(X.x1==bm.x1&&X.y1==bm.y1&&X.x2==bm.x2&&X.y2==bm.y2){return bm}var bk=ae.min(X.x1,bm.x1),bj=ae.max(X.x1,bm.x1),bi=ae.min(X.x2,bm.x2),bh=ae.max(X.x2,bm.x2),bg=ae.min(X.y1,bm.y1),bf=ae.max(X.y1,bm.y1),be=ae.min(X.y2,bm.y2),Y=ae.max(X.y2,bm.y2),bl=[];bl[0]=C(bj,bg,bi,bf);bl[1]=C(bk,bf,bj,be);bl[2]=C(bi,bf,bh,be);bl[3]=C(bj,be,bi,Y);if(X.x1==bk&&X.y1==bg||bm.x1==bk&&bm.y1==bg){bl[4]=C(bk,bg,bj,bf);bl[5]=C(bi,be,bh,Y)}else{bl[4]=C(bi,bg,bh,bf);bl[5]=C(bk,be,bj,Y)}return aU.grep(bl,function(bn){return bn.height()>0&&bn.width()>0})[0]}function G(X,Y){return s(X,Y)!=-1}function aT(Y,X){return T(ae.ceil(Y/X)*X,aM)}function an(Y,X){return T(ae.floor(Y/X)*X,aM)}function T(be,X){var Y=ae.pow(10,X||0);return ae.round(be*Y)/Y}function g(Y,X){return ae.log(Y)/ae.log(X)}function a6(bf,bg,Y){var be=T(ae.abs(bf%bg),aM),X=bg*(1-Y);return be===0||be>X}function ai(be,X,Y){return T(be+(X-be)*Y,af)}function ba(Y,X){return Y-X}function ab(X,bg,bf){var Y,be=X.length;for(Y=0;Y<be;Y++){X[Y][bg]=bf}}function aL(Y,X){if(Y.match(e)){return y.format.apply(this,arguments)}return y.toString(X,Y)}function a1(X){var Y=X.parentNode;while(Y&&Y.parentNode){Y=Y.parentNode}return Y!==Q}function a5(Y,X){return -Y.x*X.y+Y.y*X.x<0}function L(Y,X){if(Y&&X){return Y.getTime()-X.getTime()}return -1}var a4=function(X){this.closed=X};a4.prototype=a4.fn={WEIGHT:0.333,EXTREMUM_ALLOWED_DEVIATION:0.01,process:function(bm){var bi=this,bj=bi.closed,bn=bm.slice(0),X=bn.length,bh=[],bq,bo,bl,br,bg,Y,bp;if(X>2){bi.removeDuplicates(0,bn);X=bn.length}if(X<2||(X==2&&bn[0].equals(bn[1]))){return bh}bq=bn[0];bo=bn[1];bl=bn[2];bh.push(new aJ.Segment(bq));while(bq.equals(bn[X-1])){bj=true;bn.pop();X--}if(X==2){bp=bi.tangent(bq,bo,av,at);ap(bh).controlOut(bi.firstControlPoint(bp,bq,bo,av,at));bh.push(new aJ.Segment(bo,bi.secondControlPoint(bp,bq,bo,av,at)));return bh}if(bj){bq=bn[X-1];bo=bn[0];bl=bn[1];br=bi.controlPoints(bq,bo,bl);bg=br[1];Y=br[0]}else{bp=bi.tangent(bq,bo,av,at);bg=bi.firstControlPoint(bp,bq,bo,av,at)}var bf=bg;for(var bk=0;bk<=X-3;bk++){bi.removeDuplicates(bk,bn);X=bn.length;if(bk+3<=X){bq=bn[bk];bo=bn[bk+1];bl=bn[bk+2];br=bi.controlPoints(bq,bo,bl);ap(bh).controlOut(bf);bf=br[1];var be=br[0];bh.push(new aJ.Segment(bo,be))}}if(bj){bq=bn[X-2];bo=bn[X-1];bl=bn[0];br=bi.controlPoints(bq,bo,bl);ap(bh).controlOut(bf);bh.push(new aJ.Segment(bo,br[0]));ap(bh).controlOut(br[1]);bh.push(new aJ.Segment(bl,Y))}else{bp=bi.tangent(bo,bl,av,at);ap(bh).controlOut(bf);bh.push(new aJ.Segment(bl,bi.secondControlPoint(bp,bo,bl,av,at)))}return bh},removeDuplicates:function(X,Y){while(Y[X].equals(Y[X+1])||Y[X+1].equals(Y[X+2])){Y.splice(X+1,1)}},invertAxis:function(bi,bh,bg){var bf=this,be,Y,X=false;if(bi.x===bh.x){X=true}else{if(bh.x===bg.x){if((bh.y<bg.y&&bi.y<=bh.y)||(bg.y<bh.y&&bh.y<=bi.y)){X=true}}else{be=bf.lineFunction(bi,bh);Y=bf.calculateFunction(be,bg.x);if(!(bi.y<=bh.y&&bg.y<=Y)&&!(bh.y<=bi.y&&bg.y>=Y)){X=true}}}return X},isLine:function(bh,bg,bf){var be=this,Y=be.lineFunction(bh,bg),X=be.calculateFunction(Y,bf.x);return(bh.x==bg.x&&bg.x==bf.x)||T(X,1)===T(bf.y,1)},lineFunction:function(bf,be){var Y=(be.y-bf.y)/(be.x-bf.x),X=bf.y-Y*bf.x;return[X,Y]},controlPoints:function(bq,bo,bn){var bk=this,bg=av,bm=at,Y=false,bl=false,bp,X,bj,bi,bh=bk.EXTREMUM_ALLOWED_DEVIATION;if(bk.isLine(bq,bo,bn)){bp=bk.tangent(bq,bo,av,at)}else{X={x:bk.isMonotonicByField(bq,bo,bn,av),y:bk.isMonotonicByField(bq,bo,bn,at)};if(X.x&&X.y){bp=bk.tangent(bq,bn,av,at);Y=true}else{if(bk.invertAxis(bq,bo,bn)){bg=at;bm=av}if(X[bg]){bp=0}else{var be;if((bn[bm]<bq[bm]&&bq[bm]<=bo[bm])||(bq[bm]<bn[bm]&&bo[bm]<=bq[bm])){be=bk.sign((bn[bm]-bq[bm])*(bo[bg]-bq[bg]))}else{be=-bk.sign((bn[bg]-bq[bg])*(bo[bm]-bq[bm]))}bp=bh*be;bl=true}}}bi=bk.secondControlPoint(bp,bq,bo,bg,bm);if(bl){var bf=bg;bg=bm;bm=bf}bj=bk.firstControlPoint(bp,bo,bn,bg,bm);if(Y){bk.restrictControlPoint(bq,bo,bi,bp);bk.restrictControlPoint(bo,bn,bj,bp)}return[bi,bj]},sign:function(X){return X<=0?-1:1},restrictControlPoint:function(bf,be,Y,X){if(bf.y<be.y){if(be.y<Y.y){Y.x=bf.x+(be.y-bf.y)/X;Y.y=be.y}else{if(Y.y<bf.y){Y.x=be.x-(be.y-bf.y)/X;Y.y=bf.y}}}else{if(Y.y<be.y){Y.x=bf.x-(bf.y-be.y)/X;Y.y=be.y}else{if(bf.y<Y.y){Y.x=be.x+(bf.y-be.y)/X;Y.y=bf.y}}}},tangent:function(bi,bg,be,Y){var bf,X=bg[be]-bi[be],bh=bg[Y]-bi[Y];if(X===0){bf=0}else{bf=bh/X}return bf},isMonotonicByField:function(bf,be,Y,X){return(Y[X]>be[X]&&be[X]>bf[X])||(Y[X]<be[X]&&be[X]<bf[X])},firstControlPoint:function(bk,bj,bi,Y,bh){var bg=this,bf=bj[Y],be=bi[Y],X=(be-bf)*bg.WEIGHT;return bg.point(bf+X,bj[bh]+X*bk,Y,bh)},secondControlPoint:function(bk,bj,bi,Y,bh){var bg=this,bf=bj[Y],be=bi[Y],X=(be-bf)*bg.WEIGHT;return bg.point(be-X,bi[bh]-X*bk,Y,bh)},point:function(bf,Y,bg,be){var X=new a9.Point();X[bg]=bf;X[be]=Y;return X},calculateFunction:function(bf,Y){var X=0,bg=bf.length;for(var be=0;be<bg;be++){X+=Math.pow(Y,be)*bf[be]}return X}};function B(Y){var X=Y.originalEvent,be=0;if(X.wheelDelta){be=-X.wheelDelta/120;be=be>0?ae.ceil(be):ae.floor(be)}if(X.detail){be=T(X.detail/3)}return be}function aa(Y){if(!Y||!Y.indexOf||Y.indexOf("&")<0){return Y}else{var X=aa._element;X.innerHTML=Y;return X.textContent||X.innerText}}function ad(Y){if(!y.support.vml){for(var X=0;X<Y.segments.length;X++){Y.segments[X].anchor().round(0).translate(0.5,0.5)}}return Y}function al(Y){var bi=this,bh=Y.stops,bj=((Y.innerRadius/Y.radius)*100),bf,bg=bh.length,X,be=[];for(bf=0;bf<bg;bf++){X=bd({},bh[bf]);X.offset=(X.offset*(100-bj)+bj)/100;be.push(X)}return be}function R(be){var X=be.origin;var Y=be.bottomRight();return new C(X.x,X.y,Y.x,Y.y)}aa._element=document.createElement("span");bd(y.dataviz,{AXIS_LABEL_CLICK:aS,COORD_PRECISION:af,DEFAULT_PRECISION:aM,DEFAULT_WIDTH:u,DEFAULT_HEIGHT:ah,DEFAULT_FONT:aA,INITIAL_ANIMATION_DURATION:aH,NOTE_CLICK:aO,NOTE_HOVER:t,CLIP:n,Axis:M,AxisLabel:a2,Box2D:C,BoxElement:aK,ChartElement:aG,CurveProcessor:a4,ExportMixin:aE,FloatElement:U,LogarithmicAxis:a7,Note:w,NumericAxis:aB,Point2D:d,Ring:ag,RootElement:b,Sector:A,ShapeBuilder:E,ShapeElement:az,Text:bb,TextBox:ac,Title:z,alignPathToPixel:ad,autoFormat:aL,autoMajorUnit:f,boxDiff:aw,dateComparer:L,decodeEntities:aa,getSpacing:D,inArray:G,interpolateValue:ai,mwDelta:B,rectToBox:R,rotatePoint:ar,round:T,ceil:aT,floor:an})})(window.kendo.jQuery);(function(e){var m=window.kendo,l=m.dataviz.ui,k=m.deepExtend;var j=1.5,i=0.4,c="#000",b="Arial,Helvetica,sans-serif",g="11px "+b,f="12px "+b,d="16px "+b,s="#fff";var q={title:{font:d},legend:{labels:{font:f}},seriesDefaults:{visible:true,labels:{font:g},donut:{margin:1},line:{width:2},vericalLine:{width:2},scatterLine:{width:1},area:{opacity:0.4,markers:{visible:false,size:6},highlight:{markers:{border:{color:"#fff",opacity:1,width:1}}},line:{opacity:1,width:0}},verticalArea:{opacity:0.4,markers:{visible:false,size:6},line:{opacity:1,width:0}},radarLine:{width:2,markers:{visible:false}},radarArea:{opacity:0.5,markers:{visible:false,size:6},line:{opacity:1,width:0}},candlestick:{line:{width:1,color:c},border:{width:1,_brightness:0.8},gap:1,spacing:0.3,downColor:s,highlight:{line:{width:2},border:{width:2,opacity:1}}},ohlc:{line:{width:1},gap:1,spacing:0.3,highlight:{line:{width:3,opacity:1}}},bubble:{opacity:0.6,border:{width:0},labels:{background:"transparent"}},bar:{gap:j,spacing:i},column:{gap:j,spacing:i},rangeColumn:{gap:j,spacing:i},rangeBar:{gap:j,spacing:i},waterfall:{gap:0.5,spacing:i,line:{width:1,color:c}},horizontalWaterfall:{gap:0.5,spacing:i,line:{width:1,color:c}},bullet:{gap:j,spacing:i,target:{color:"#ff0000"}},verticalBullet:{gap:j,spacing:i,target:{color:"#ff0000"}},boxPlot:{outliersField:"",meanField:"",whiskers:{width:1,color:c},mean:{width:1,color:c},median:{width:1,color:c},border:{width:1,_brightness:0.8},gap:1,spacing:0.3,downColor:s,highlight:{whiskers:{width:2},border:{width:2,opacity:1}}},funnel:{labels:{color:"",background:""}},notes:{icon:{border:{width:1}},label:{padding:3,font:f},line:{length:10,width:1},visible:true}},categoryAxis:{majorGridLines:{visible:true}},axisDefaults:{labels:{font:f},title:{font:d,margin:5},crosshair:{tooltip:{font:f}},notes:{icon:{size:7,border:{width:1}},label:{padding:3,font:f},line:{length:10,width:1},visible:true}},tooltip:{font:f},navigator:{pane:{height:90,margin:{top:10}}}};var h={scale:{labels:{font:f}}};var p={shapeDefaults:{hover:{opacity:0.2},stroke:{width:0}},editable:{resize:{handles:{width:7,height:7}}},selectable:{stroke:{width:1,dashType:"dot"}},connectionDefaults:{stroke:{width:2},selection:{handles:{width:8,height:8}},editable:{tools:["edit","delete"]}}};var n=l.themes,o=l.registerTheme=function(v,u){var t={};t.chart=k({},q,u.chart);t.gauge=k({},h,u.gauge);t.diagram=k({},p,u.diagram);t.treeMap=k({},u.treeMap);var w=t.chart.seriesDefaults;w.verticalLine=k({},w.line);w.verticalArea=k({},w.area);w.polarArea=k({},w.radarArea);w.polarLine=k({},w.radarLine);n[v]=t};o("black",{chart:{title:{color:s},legend:{labels:{color:s},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:s},errorBars:{color:s},notes:{icon:{background:"#3b3b3b",border:{color:"#8e8e8e"}},label:{color:s},line:{color:"#8e8e8e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#3d3d3d"}},scatter:{markers:{background:"#3d3d3d"}},scatterLine:{markers:{background:"#3d3d3d"}},waterfall:{line:{color:"#8e8e8e"}},horizontalWaterfall:{line:{color:"#8e8e8e"}},candlestick:{downColor:"#555",line:{color:s},border:{_brightness:1.5,opacity:1},highlight:{border:{color:s,opacity:0.2}}},ohlc:{line:{color:s}}},chartArea:{background:"#3d3d3d"},seriesColors:["#0081da","#3aafff","#99c900","#ffeb3d","#b20753","#ff4195"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:s},majorGridLines:{color:"#545454"},minorGridLines:{color:"#454545"},title:{color:s},crosshair:{color:"#8e8e8e"},notes:{icon:{background:"#3b3b3b",border:{color:"#8e8e8e"}},label:{color:s},line:{color:"#8e8e8e"}}}},gauge:{pointer:{color:"#0070e4"},scale:{rangePlaceholderColor:"#1d1d1d",labels:{color:s},minorTicks:{color:s},majorTicks:{color:s},line:{color:s}}},diagram:{shapeDefaults:{fill:{color:"#0066cc"},connectorDefaults:{fill:{color:s},stroke:{color:"#384049"},hover:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}},content:{color:s}},editable:{resize:{handles:{fill:{color:"#3d3d3d"},stroke:{color:s},hover:{fill:{color:s},stroke:{color:s}}}},rotate:{thumb:{stroke:{color:s},fill:{color:s}}}},selectable:{stroke:{color:s}},connectionDefaults:{stroke:{color:s},content:{color:s},selection:{handles:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}}}},treeMap:{colors:[["#0081da","#314b5c"],["#3aafff","#3c5464"],["#99c900","#4f5931"],["#ffeb3d","#64603d"],["#b20753","#543241"],["#ff4195","#643e4f"]]}});o("blueopal",{chart:{title:{color:"#293135"},legend:{labels:{color:"#293135"},inactiveItems:{labels:{color:"#27A5BA"},markers:{color:"#27A5BA"}}},seriesDefaults:{labels:{color:c,background:s,opacity:0.5},errorBars:{color:"#293135"},candlestick:{downColor:"#c4d0d5",line:{color:"#9aabb2"}},waterfall:{line:{color:"#9aabb2"}},horizontalWaterfall:{line:{color:"#9aabb2"}},notes:{icon:{background:"transparent",border:{color:"#9aabb2"}},label:{color:"#293135"},line:{color:"#9aabb2"}}},seriesColors:["#0069a5","#0098ee","#7bd2f6","#ffb800","#ff8517","#e34a00"],axisDefaults:{line:{color:"#9aabb2"},labels:{color:"#293135"},majorGridLines:{color:"#c4d0d5"},minorGridLines:{color:"#edf1f2"},title:{color:"#293135"},crosshair:{color:"#9aabb2"},notes:{icon:{background:"transparent",border:{color:"#9aabb2"}},label:{color:"#293135"},line:{color:"#9aabb2"}}}},gauge:{pointer:{color:"#005c83"},scale:{rangePlaceholderColor:"#daecf4",labels:{color:"#293135"},minorTicks:{color:"#293135"},majorTicks:{color:"#293135"},line:{color:"#293135"}}},diagram:{shapeDefaults:{fill:{color:"#7ec6e3"},connectorDefaults:{fill:{color:"#003f59"},stroke:{color:s},hover:{fill:{color:s},stroke:{color:"#003f59"}}},content:{color:"#293135"}},editable:{resize:{handles:{fill:{color:s},stroke:{color:"#003f59"},hover:{fill:{color:"#003f59"},stroke:{color:"#003f59"}}}},rotate:{thumb:{stroke:{color:"#003f59"},fill:{color:"#003f59"}}}},selectable:{stroke:{color:"#003f59"}},connectionDefaults:{stroke:{color:"#003f59"},content:{color:"#293135"},selection:{handles:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}}}},treeMap:{colors:[["#0069a5","#bad7e7"],["#0098ee","#b9e0f5"],["#7bd2f6","#ceeaf6"],["#ffb800","#e6e3c4"],["#ff8517","#e4d8c8"],["#e34a00","#ddccc2"]]}});o("highcontrast",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#66465B"},markers:{color:"#66465B"}}},seriesDefaults:{labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#ffffff"}},label:{color:"#ffffff"},line:{color:"#ffffff"}},pie:{overlay:{gradient:"sharpGlass"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#2c232b"}},scatter:{markers:{background:"#2c232b"}},scatterLine:{markers:{background:"#2c232b"}},area:{opacity:0.5},waterfall:{line:{color:"#ffffff"}},horizontalWaterfall:{line:{color:"#ffffff"}},candlestick:{downColor:"#664e62",line:{color:"#ffffff"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#ffffff",opacity:1}}},ohlc:{line:{color:"#ffffff"}}},chartArea:{background:"#2c232b"},seriesColors:["#a7008f","#ffb800","#3aafff","#99c900","#b20753","#ff4195"],axisDefaults:{line:{color:"#ffffff"},labels:{color:"#ffffff"},majorGridLines:{color:"#664e62"},minorGridLines:{color:"#4f394b"},title:{color:"#ffffff"},crosshair:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#ffffff"}},label:{color:"#ffffff"},line:{color:"#ffffff"}}}},gauge:{pointer:{color:"#a7008f"},scale:{rangePlaceholderColor:"#2c232b",labels:{color:"#ffffff"},minorTicks:{color:"#2c232b"},majorTicks:{color:"#664e62"},line:{color:"#ffffff"}}},diagram:{shapeDefaults:{fill:{color:"#a7018f"},connectorDefaults:{fill:{color:s},stroke:{color:"#2c232b"},hover:{fill:{color:"#2c232b"},stroke:{color:s}}},content:{color:s}},editable:{resize:{handles:{fill:{color:"#2c232b"},stroke:{color:s},hover:{fill:{color:s},stroke:{color:s}}}},rotate:{thumb:{stroke:{color:s},fill:{color:s}}}},selectable:{stroke:{color:s}},connectionDefaults:{stroke:{color:s},content:{color:s},selection:{handles:{fill:{color:"#2c232b"},stroke:{color:s}}}}},treeMap:{colors:[["#a7008f","#451c3f"],["#ffb800","#564122"],["#3aafff","#2f3f55"],["#99c900","#424422"],["#b20753","#471d33"],["#ff4195","#562940"]]}});o("default",{chart:{title:{color:"#8e8e8e"},legend:{labels:{color:"#232323"},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:c,background:s,opacity:0.5},errorBars:{color:"#232323"},candlestick:{downColor:"#dedede",line:{color:"#8d8d8d"}},waterfall:{line:{color:"#8e8e8e"}},horizontalWaterfall:{line:{color:"#8e8e8e"}},notes:{icon:{background:"transparent",border:{color:"#8e8e8e"}},label:{color:"#232323"},line:{color:"#8e8e8e"}}},seriesColors:["#ff6800","#a0a700","#ff8d00","#678900","#ffb53c","#396000"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:"#232323"},minorGridLines:{color:"#f0f0f0"},majorGridLines:{color:"#dfdfdf"},title:{color:"#232323"},crosshair:{color:"#8e8e8e"},notes:{icon:{background:"transparent",border:{color:"#8e8e8e"}},label:{color:"#232323"},line:{color:"#8e8e8e"}}}},gauge:{pointer:{color:"#ea7001"},scale:{rangePlaceholderColor:"#dedede",labels:{color:"#2e2e2e"},minorTicks:{color:"#2e2e2e"},majorTicks:{color:"#2e2e2e"},line:{color:"#2e2e2e"}}},diagram:{shapeDefaults:{fill:{color:"#e15613"},connectorDefaults:{fill:{color:"#282828"},stroke:{color:s},hover:{fill:{color:s},stroke:{color:"#282828"}}},content:{color:"#2e2e2e"}},editable:{resize:{handles:{fill:{color:s},stroke:{color:"#282828"},hover:{fill:{color:"#282828"},stroke:{color:"#282828"}}}},rotate:{thumb:{stroke:{color:"#282828"},fill:{color:"#282828"}}}},selectable:{stroke:{color:"#a7018f"}},connectionDefaults:{stroke:{color:"#282828"},content:{color:"#2e2e2e"},selection:{handles:{fill:{color:s},stroke:{color:"#282828"}}}}},treeMap:{colors:[["#ff6800","#edcfba"],["#a0a700","#dadcba"],["#ff8d00","#edd7ba"],["#678900","#cfd6ba"],["#ffb53c","#eddfc6"],["#396000","#c6ceba"]]}});o("silver",{chart:{title:{color:"#4e5968"},legend:{labels:{color:"#4e5968"},inactiveItems:{labels:{color:"#B1BCC8"},markers:{color:"#B1BCC8"}}},seriesDefaults:{labels:{color:"#293135",background:"#eaeaec",opacity:0.5},errorBars:{color:"#4e5968"},notes:{icon:{background:"transparent",border:{color:"#4e5968"}},label:{color:"#4e5968"},line:{color:"#4e5968"}},line:{markers:{background:"#eaeaec"}},scatter:{markers:{background:"#eaeaec"}},scatterLine:{markers:{background:"#eaeaec"}},pie:{connectors:{color:"#A6B1C0"}},donut:{connectors:{color:"#A6B1C0"}},waterfall:{line:{color:"#a6b1c0"}},horizontalWaterfall:{line:{color:"#a6b1c0"}},candlestick:{downColor:"#a6afbe"}},chartArea:{background:"#eaeaec"},seriesColors:["#007bc3","#76b800","#ffae00","#ef4c00","#a419b7","#430B62"],axisDefaults:{line:{color:"#a6b1c0"},labels:{color:"#4e5968"},majorGridLines:{color:"#dcdcdf"},minorGridLines:{color:"#eeeeef"},title:{color:"#4e5968"},crosshair:{color:"#a6b1c0"},notes:{icon:{background:"transparent",border:{color:"#4e5968"}},label:{color:"#4e5968"},line:{color:"#4e5968"}}}},gauge:{pointer:{color:"#0879c0"},scale:{rangePlaceholderColor:"#f3f3f4",labels:{color:"#515967"},minorTicks:{color:"#515967"},majorTicks:{color:"#515967"},line:{color:"#515967"}}},diagram:{shapeDefaults:{fill:{color:"#1c82c2"},connectorDefaults:{fill:{color:"#515967"},stroke:{color:s},hover:{fill:{color:s},stroke:{color:"#282828"}}},content:{color:"#515967"}},editable:{resize:{handles:{fill:{color:s},stroke:{color:"#515967"},hover:{fill:{color:"#515967"},stroke:{color:"#515967"}}}},rotate:{thumb:{stroke:{color:"#515967"},fill:{color:"#515967"}}}},selectable:{stroke:{color:"#515967"}},connectionDefaults:{stroke:{color:"#515967"},content:{color:"#515967"},selection:{handles:{fill:{color:s},stroke:{color:"#515967"}}}}},treeMap:{colors:[["#007bc3","#c2dbea"],["#76b800","#dae7c3"],["#ffae00","#f5e5c3"],["#ef4c00","#f2d2c3"],["#a419b7","#e3c7e8"],["#430b62","#d0c5d7"]]}});o("metro",{chart:{title:{color:"#777777"},legend:{labels:{color:"#777777"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:c},errorBars:{color:"#777777"},notes:{icon:{background:"transparent",border:{color:"#777777"}},label:{color:"#777777"},line:{color:"#777777"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},waterfall:{line:{color:"#c7c7c7"}},horizontalWaterfall:{line:{color:"#c7c7c7"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#8ebc00","#309b46","#25a0da","#ff6900","#e61e26","#d8e404","#16aba9","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#c7c7c7"},labels:{color:"#777777"},minorGridLines:{color:"#c7c7c7"},majorGridLines:{color:"#c7c7c7"},title:{color:"#777777"},crosshair:{color:"#c7c7c7"},notes:{icon:{background:"transparent",border:{color:"#777777"}},label:{color:"#777777"},line:{color:"#777777"}}}},gauge:{pointer:{color:"#8ebc00"},scale:{rangePlaceholderColor:"#e6e6e6",labels:{color:"#777"},minorTicks:{color:"#777"},majorTicks:{color:"#777"},line:{color:"#777"}}},diagram:{shapeDefaults:{fill:{color:"#8ebc00"},connectorDefaults:{fill:{color:c},stroke:{color:s},hover:{fill:{color:s},stroke:{color:c}}},content:{color:"#777"}},editable:{resize:{handles:{fill:{color:s},stroke:{color:"#787878"},hover:{fill:{color:"#787878"},stroke:{color:"#787878"}}}},rotate:{thumb:{stroke:{color:"#787878"},fill:{color:"#787878"}}}},selectable:{stroke:{color:"#515967"}},connectionDefaults:{stroke:{color:"#787878"},content:{color:"#777"},selection:{handles:{fill:{color:s},stroke:{color:"#787878"}}}}},treeMap:{colors:[["#8ebc00","#e8f2cc"],["#309b46","#d6ebda"],["#25a0da","#d3ecf8"],["#ff6900","#ffe1cc"],["#e61e26","#fad2d4"],["#d8e404","#f7facd"],["#16aba9","#d0eeee"],["#7e51a1","#e5dcec"],["#313131","#d6d6d6"],["#ed1691","#fbd0e9"]]}});o("metroblack",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#797979"},markers:{color:"#797979"}}},seriesDefaults:{border:{_brightness:1},labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#cecece"}},label:{color:"#ffffff"},line:{color:"#cecece"}},line:{markers:{background:"#0e0e0e"}},bubble:{opacity:0.6},scatter:{markers:{background:"#0e0e0e"}},scatterLine:{markers:{background:"#0e0e0e"}},candlestick:{downColor:"#828282",line:{color:"#ffffff"}},waterfall:{line:{color:"#cecece"}},horizontalWaterfall:{line:{color:"#cecece"}},overlay:{gradient:"none"}},chartArea:{background:"#0e0e0e"},seriesColors:["#00aba9","#309b46","#8ebc00","#ff6900","#e61e26","#d8e404","#25a0da","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#cecece"},labels:{color:"#ffffff"},minorGridLines:{color:"#2d2d2d"},majorGridLines:{color:"#333333"},title:{color:"#ffffff"},crosshair:{color:"#cecece"},notes:{icon:{background:"transparent",border:{color:"#cecece"}},label:{color:"#ffffff"},line:{color:"#cecece"}}}},gauge:{pointer:{color:"#00aba9"},scale:{rangePlaceholderColor:"#2d2d2d",labels:{color:"#ffffff"},minorTicks:{color:"#333333"},majorTicks:{color:"#cecece"},line:{color:"#cecece"}}},diagram:{shapeDefaults:{fill:{color:"#00aba9"},connectorDefaults:{fill:{color:s},stroke:{color:"#0e0e0e"},hover:{fill:{color:"#0e0e0e"},stroke:{color:s}}},content:{color:s}},editable:{resize:{handles:{fill:{color:"#0e0e0e"},stroke:{color:"#787878"},hover:{fill:{color:"#787878"},stroke:{color:"#787878"}}}},rotate:{thumb:{stroke:{color:s},fill:{color:s}}}},selectable:{stroke:{color:"#787878"}},connectionDefaults:{stroke:{color:s},content:{color:s},selection:{handles:{fill:{color:"#0e0e0e"},stroke:{color:s}}}}},treeMap:{colors:[["#00aba9","#0b2d2d"],["#309b46","#152a19"],["#8ebc00","#28310b"],["#ff6900","#3e200b"],["#e61e26","#391113"],["#d8e404","#36390c"],["#25a0da","#132b37"],["#7e51a1","#241b2b"],["#313131","#151515"],["#ed1691","#3b1028"]]}});o("moonlight",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#A1A7AB"},markers:{color:"#A1A7AB"}}},seriesDefaults:{labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#8c909e"}},label:{color:"#ffffff"},line:{color:"#8c909e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#212a33"}},bubble:{opacity:0.6},scatter:{markers:{background:"#212a33"}},scatterLine:{markers:{background:"#212a33"}},area:{opacity:0.3},candlestick:{downColor:"#757d87",line:{color:"#ea9d06"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:s,opacity:0.2}}},waterfall:{line:{color:"#8c909e"}},horizontalWaterfall:{line:{color:"#8c909e"}},ohlc:{line:{color:"#ea9d06"}}},chartArea:{background:"#212a33"},seriesColors:["#ffca08","#ff710f","#ed2e24","#ff9f03","#e13c02","#a00201"],axisDefaults:{line:{color:"#8c909e"},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},labels:{color:"#ffffff"},majorGridLines:{color:"#3e424d"},minorGridLines:{color:"#2f3640"},title:{color:"#ffffff"},crosshair:{color:"#8c909e"},notes:{icon:{background:"transparent",border:{color:"#8c909e"}},label:{color:"#ffffff"},line:{color:"#8c909e"}}}},gauge:{pointer:{color:"#f4af03"},scale:{rangePlaceholderColor:"#2f3640",labels:{color:s},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},line:{color:"#8c909e"}}},diagram:{shapeDefaults:{fill:{color:"#f3ae03"},connectorDefaults:{fill:{color:s},stroke:{color:"#414550"},hover:{fill:{color:"#414550"},stroke:{color:s}}},content:{color:s}},editable:{resize:{handles:{fill:{color:"#414550"},stroke:{color:s},hover:{fill:{color:s},stroke:{color:s}}}},rotate:{thumb:{stroke:{color:s},fill:{color:s}}}},selectable:{stroke:{color:s}},connectionDefaults:{stroke:{color:s},content:{color:s},selection:{handles:{fill:{color:"#414550"},stroke:{color:s}}}}},treeMap:{colors:[["#ffca08","#4e4b2b"],["#ff710f","#4e392d"],["#ed2e24","#4b2c31"],["#ff9f03","#4e422a"],["#e13c02","#482e2a"],["#a00201","#3b232a"]]}});o("uniform",{chart:{title:{color:"#686868"},legend:{labels:{color:"#686868"},inactiveItems:{labels:{color:"#B6B6B6"},markers:{color:"#B6B6B6"}}},seriesDefaults:{labels:{color:"#686868"},errorBars:{color:"#686868"},notes:{icon:{background:"transparent",border:{color:"#9e9e9e"}},label:{color:"#686868"},line:{color:"#9e9e9e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:0.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:0.3},candlestick:{downColor:"#cccccc",line:{color:"#cccccc"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#cccccc",opacity:0.2}}},waterfall:{line:{color:"#9e9e9e"}},horizontalWaterfall:{line:{color:"#9e9e9e"}},ohlc:{line:{color:"#cccccc"}}},chartArea:{background:"#ffffff"},seriesColors:["#527aa3","#6f91b3","#8ca7c2","#a8bdd1","#c5d3e0","#e2e9f0"],axisDefaults:{line:{color:"#9e9e9e"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},labels:{color:"#686868"},majorGridLines:{color:"#dadada"},minorGridLines:{color:"#e7e7e7"},title:{color:"#686868"},crosshair:{color:"#9e9e9e"},notes:{icon:{background:"transparent",border:{color:"#9e9e9e"}},label:{color:"#686868"},line:{color:"#9e9e9e"}}}},gauge:{pointer:{color:"#527aa3"},scale:{rangePlaceholderColor:"#e7e7e7",labels:{color:"#686868"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},line:{color:"#9e9e9e"}}},diagram:{shapeDefaults:{fill:{color:"#d1d1d1"},connectorDefaults:{fill:{color:"#686868"},stroke:{color:s},hover:{fill:{color:s},stroke:{color:"#686868"}}},content:{color:"#686868"}},editable:{resize:{handles:{fill:{color:s},stroke:{color:"#686868"},hover:{fill:{color:"#686868"},stroke:{color:"#686868"}}}},rotate:{thumb:{stroke:{color:"#686868"},fill:{color:"#686868"}}}},selectable:{stroke:{color:"#686868"}},connectionDefaults:{stroke:{color:"#686868"},content:{color:"#686868"},selection:{handles:{fill:{color:s},stroke:{color:"#686868"}}}}},treeMap:{colors:[["#527aa3","#d0d8e1"],["#6f91b3","#d6dde4"],["#8ca7c2","#dce1e7"],["#a8bdd1","#e2e6ea"],["#c5d3e0","#e7eaed"],["#e2e9f0","#edeff0"]]}});o("bootstrap",{chart:{title:{color:"#333333"},legend:{labels:{color:"#333333"},inactiveItems:{labels:{color:"#999999"},markers:{color:"#9A9A9A"}}},seriesDefaults:{labels:{color:"#333333"},overlay:{gradient:"none"},errorBars:{color:"#343434"},notes:{icon:{background:"#000000",border:{color:"#000000"}},label:{color:"#333333"},line:{color:"#000000"}},pie:{overlay:{gradient:"none"}},donut:{overlay:{gradient:"none"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:0.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:0.8},candlestick:{downColor:"#d0d0d0",line:{color:"#333333"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#b8b8b8",opacity:0.2}}},waterfall:{line:{color:"#cccccc"}},horizontalWaterfall:{line:{color:"#cccccc"}},ohlc:{line:{color:"#333333"}}},chartArea:{background:"#ffffff"},seriesColors:["#428bca","#5bc0de","#5cb85c","#f2b661","#e67d4a","#da3b36"],axisDefaults:{line:{color:"#cccccc"},minorTicks:{color:"#ebebeb"},majorTicks:{color:"#cccccc"},labels:{color:"#333333"},majorGridLines:{color:"#cccccc"},minorGridLines:{color:"#ebebeb"},title:{color:"#333333"},crosshair:{color:"#000000"},notes:{icon:{background:"#000000",border:{color:"#000000"}},label:{color:"#ffffff"},line:{color:"#000000"}}}},gauge:{pointer:{color:"#428bca"},scale:{rangePlaceholderColor:"#cccccc",labels:{color:"#333333"},minorTicks:{color:"#ebebeb"},majorTicks:{color:"#cccccc"},line:{color:"#cccccc"}}},diagram:{shapeDefaults:{fill:{color:"#428bca"},connectorDefaults:{fill:{color:"#333333"},stroke:{color:s},hover:{fill:{color:s},stroke:{color:"#333333"}}},content:{color:"#333333"}},editable:{resize:{handles:{fill:{color:s},stroke:{color:"#333333"},hover:{fill:{color:"#333333"},stroke:{color:"#333333"}}}},rotate:{thumb:{stroke:{color:"#333333"},fill:{color:"#333333"}}}},selectable:{stroke:{color:"#333333"}},connectionDefaults:{stroke:{color:"#c4c4c4"},content:{color:"#333333"},selection:{handles:{fill:{color:s},stroke:{color:"#333333"}},stroke:{color:"#333333"}}}},treeMap:{colors:[["#428bca","#d1e0ec"],["#5bc0de","#d6eaf0"],["#5cb85c","#d6e9d6"],["#5cb85c","#f4e8d7"],["#e67d4a","#f2ddd3"],["#da3b36","#f0d0cf"]]}});o("flat",{chart:{title:{color:"#4c5356"},legend:{labels:{color:"#4c5356"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#4c5356"},errorBars:{color:"#4c5356"},notes:{icon:{background:"transparent",border:{color:"#cdcdcd"}},label:{color:"#4c5356"},line:{color:"#cdcdcd"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:0.9},waterfall:{line:{color:"#cdcdcd"}},horizontalWaterfall:{line:{color:"#cdcdcd"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#10c4b2","#ff7663","#ffb74f","#a2df53","#1c9ec4","#ff63a5","#1cc47b"],axisDefaults:{line:{color:"#cdcdcd"},labels:{color:"#4c5356"},minorGridLines:{color:"#cdcdcd"},majorGridLines:{color:"#cdcdcd"},title:{color:"#4c5356"},crosshair:{color:"#cdcdcd"},notes:{icon:{background:"transparent",border:{color:"#cdcdcd"}},label:{color:"#4c5356"},line:{color:"#cdcdcd"}}}},gauge:{pointer:{color:"#10c4b2"},scale:{rangePlaceholderColor:"#cdcdcd",labels:{color:"#4c5356"},minorTicks:{color:"#4c5356"},majorTicks:{color:"#4c5356"},line:{color:"#4c5356"}}},diagram:{shapeDefaults:{fill:{color:"#10c4b2"},connectorDefaults:{fill:{color:"#363940"},stroke:{color:s},hover:{fill:{color:s},stroke:{color:"#363940"}}},content:{color:"#4c5356"}},editable:{resize:{handles:{fill:{color:s},stroke:{color:"#363940"},hover:{fill:{color:"#363940"},stroke:{color:"#363940"}}}},rotate:{thumb:{stroke:{color:"#363940"},fill:{color:"#363940"}}}},selectable:{stroke:{color:"#363940"}},connectionDefaults:{stroke:{color:"#cdcdcd"},content:{color:"#4c5356"},selection:{handles:{fill:{color:s},stroke:{color:"#363940"}},stroke:{color:"#363940"}}}},treeMap:{colors:[["#10c4b2","#cff3f0"],["#ff7663","#ffe4e0"],["#ffb74f","#fff1dc"],["#a2df53","#ecf9dd"],["#1c9ec4","#d2ecf3"],["#ff63a5","#ffe0ed"],["#1cc47b","#d2f3e5"]]}});o("material",{chart:{title:{color:"#444444"},legend:{labels:{color:"#444444"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#444444"},errorBars:{color:"#444444"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#444444"},line:{color:"#e5e5e5"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:0.9},waterfall:{line:{color:"#e5e5e5"}},horizontalWaterfall:{line:{color:"#e5e5e5"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#ff9800","#ff5722"],axisDefaults:{line:{color:"#e5e5e5"},labels:{color:"#444444"},minorGridLines:{color:"#e5e5e5"},majorGridLines:{color:"#e5e5e5"},title:{color:"#444444"},crosshair:{color:"#7f7f7f"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#444444"},line:{color:"#e5e5e5"}}}},gauge:{pointer:{color:"#3f51b5"},scale:{rangePlaceholderColor:"#e5e5e5",labels:{color:"#444444"},minorTicks:{color:"#444444"},majorTicks:{color:"#444444"},line:{color:"#444444"}}},diagram:{shapeDefaults:{fill:{color:"#3f51b5"},connectorDefaults:{fill:{color:"#7f7f7f"},stroke:{color:s},hover:{fill:{color:s},stroke:{color:"#7f7f7f"}}},content:{color:"#444444"}},editable:{resize:{handles:{fill:{color:s},stroke:{color:"#444444"},hover:{fill:{color:"#444444"},stroke:{color:"#444444"}}}},rotate:{thumb:{stroke:{color:"#444444"},fill:{color:"#444444"}}}},selectable:{stroke:{color:"#444444"}},connectionDefaults:{stroke:{color:"#7f7f7f"},content:{color:"#444444"},selection:{handles:{fill:{color:s},stroke:{color:"#444444"}},stroke:{color:"#444444"}}}},treeMap:{colors:[["#3f51b5","#cff3f0"],["#03a9f4","#e5f6fe"],["#4caf50","#edf7ed"],["#f9ce1d","#fefae8"],["#ff9800","#fff4e5"],["#ff5722","#ffeee8"]]}});o("materialblack",{chart:{title:{color:"#fff"},legend:{labels:{color:"#fff"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#fff"},errorBars:{color:"#fff"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#fff"},line:{color:"#e5e5e5"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:0.9},waterfall:{line:{color:"#4d4d4d"}},horizontalWaterfall:{line:{color:"#4d4d4d"}},overlay:{gradient:"none"},border:{_brightness:1}},chartArea:{background:"#1c1c1c"},seriesColors:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#ff9800","#ff5722"],axisDefaults:{line:{color:"#4d4d4d"},labels:{color:"#fff"},minorGridLines:{color:"#4d4d4d"},majorGridLines:{color:"#4d4d4d"},title:{color:"#fff"},crosshair:{color:"#7f7f7f"},notes:{icon:{background:"transparent",border:{color:"#4d4d4d"}},label:{color:"#fff"},line:{color:"#4d4d4d"}}}},gauge:{pointer:{color:"#3f51b5"},scale:{rangePlaceholderColor:"#4d4d4d",labels:{color:"#fff"},minorTicks:{color:"#fff"},majorTicks:{color:"#fff"},line:{color:"#fff"}}},diagram:{shapeDefaults:{fill:{color:"#3f51b5"},connectorDefaults:{fill:{color:"#7f7f7f"},stroke:{color:s},hover:{fill:{color:s},stroke:{color:"#7f7f7f"}}},content:{color:"#fff"}},editable:{resize:{handles:{fill:{color:s},stroke:{color:"#fff"},hover:{fill:{color:"#fff"},stroke:{color:"#fff"}}}},rotate:{thumb:{stroke:{color:"#fff"},fill:{color:"#fff"}}}},selectable:{stroke:{color:"#fff"}},connectionDefaults:{stroke:{color:"#7f7f7f"},content:{color:"#fff"},selection:{handles:{fill:{color:s},stroke:{color:"#fff"}},stroke:{color:"#fff"}}}},treeMap:{colors:[["#3f51b5","#cff3f0"],["#03a9f4","#e5f6fe"],["#4caf50","#edf7ed"],["#f9ce1d","#fefae8"],["#ff9800","#fff4e5"],["#ff5722","#ffeee8"]]}});(function(){var z="#333333";var v="#7f7f7f";var y="#bdbdbd";var t="#c8c8c8";var A="#dddddd";var w=["#008fd3","#99d101","#f39b02","#f05662","#c03c53","#acacac"];var x=["#cbe8f5","#eaf5cb","#fceacc","#fbdcdf","#f2d7dc","#eeeeee"];var B=w[0];var C=s;function u(){return{icon:{background:"#007cc0",border:{color:"#007cc0"}},label:{color:"#ffffff"},line:{color:t}}}o("fiori",{chart:{title:{color:z},legend:{labels:{color:z},inactiveItems:{labels:{color:v},markers:{color:v}}},seriesDefaults:{labels:{color:z},errorBars:{color:z},notes:u(),candlestick:{downColor:t,line:{color:y}},area:{opacity:0.8},waterfall:{line:{color:t}},horizontalWaterfall:{line:{color:t}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:w,axisDefaults:{line:{color:t},labels:{color:z},minorGridLines:{color:A},majorGridLines:{color:t},title:{color:z},crosshair:{color:v},notes:u()}},gauge:{pointer:{color:B},scale:{rangePlaceholderColor:t,labels:{color:z},minorTicks:{color:z},majorTicks:{color:z},line:{color:z}}},diagram:{shapeDefaults:{fill:{color:B},connectorDefaults:{fill:{color:z},stroke:{color:C},hover:{fill:{color:C},stroke:{color:z}}},content:{color:z}},editable:{resize:{handles:{fill:{color:C},stroke:{color:y},hover:{fill:{color:y},stroke:{color:y}}}},rotate:{thumb:{stroke:{color:y},fill:{color:y}}}},selectable:{stroke:{color:y}},connectionDefaults:{stroke:{color:y},content:{color:y},selection:{handles:{fill:{color:C},stroke:{color:y}},stroke:{color:y}}}},treeMap:{colors:r(w,x)}})})();(function(){var z="#4e4e4e";var v="#7f7f7f";var y="#bdbdbd";var t="#c8c8c8";var A="#e5e5e5";var w=["#0072c6","#5db2ff","#008a17","#82ba00","#ff8f32","#ac193d"];var x=["#cbe2f3","#deeffe","#cbe7d0","#e5f0cb","#fee8d5","#eed0d7"];var B=w[0];var C=s;function u(){return{icon:{background:"#00b0ff",border:{color:"#00b0ff"}},label:{color:"#ffffff"},line:{color:t}}}o("office365",{chart:{title:{color:z},legend:{labels:{color:z},inactiveItems:{labels:{color:v},markers:{color:v}}},seriesDefaults:{labels:{color:z},errorBars:{color:z},notes:u(),candlestick:{downColor:t,line:{color:y}},area:{opacity:0.8},waterfall:{line:{color:t}},horizontalWaterfall:{line:{color:t}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:w,axisDefaults:{line:{color:t},labels:{color:z},minorGridLines:{color:A},majorGridLines:{color:t},title:{color:z},crosshair:{color:v},notes:u()}},gauge:{pointer:{color:B},scale:{rangePlaceholderColor:t,labels:{color:z},minorTicks:{color:z},majorTicks:{color:z},line:{color:z}}},diagram:{shapeDefaults:{fill:{color:B},connectorDefaults:{fill:{color:z},stroke:{color:C},hover:{fill:{color:C},stroke:{color:z}}},content:{color:z}},editable:{resize:{handles:{fill:{color:C},stroke:{color:y},hover:{fill:{color:y},stroke:{color:y}}}},rotate:{thumb:{stroke:{color:y},fill:{color:y}}}},selectable:{stroke:{color:y}},connectionDefaults:{stroke:{color:y},content:{color:y},selection:{handles:{fill:{color:C},stroke:{color:y}},stroke:{color:y}}}},treeMap:{colors:r(w,x)}})})();function r(u,t){return e.map(u,function(w,v){return[[w,t[v]]]})}})(window.kendo.jQuery);(function(es,et){var bH=es.each,V=es.isArray,cx=es.isPlainObject,bq=es.map,eD=Math,dz=es.noop,eG=es.extend,bb=es.proxy,cY=window.kendo,aA=cY.Class,br=cY.Observable,du=cY.data.DataSource,a7=cY.ui.Widget,aM=cY.deepExtend,cp=cY.getter,cQ=cY.isFunction,m=cY.template,cl=cY.dataviz,cv=cl.Axis,dC=cl.AxisLabel,cL=cl.Box2D,b=cl.BoxElement,ed=cl.ChartElement,H=cY.drawing.Color,bN=cl.CurveProcessor,c8=cl.FloatElement,ch=cl.Note,dM=cl.LogarithmicAxis,cq=cl.NumericAxis,d2=cl.Point2D,bw=cl.RootElement,ej=cl.Ring,v=cl.ShapeElement,d5=cl.ShapeBuilder,dJ=cl.Text,a5=cl.TextBox,x=cl.Title,eJ=cl.alignPathToPixel,ca=cl.autoFormat,by=cl.dateComparer,bA=cl.getSpacing,dP=cl.inArray,aQ=cl.interpolateValue,p=cl.mwDelta,cC=cl.round,ea=cY.util,b7=ea.append,bP=ea.defined,dW=ea.last,cy=ea.limitValue,a2=ea.sparseArrayLimits,bU=ea.sparseArrayMin,dn=ea.sparseArrayMax,J=ea.renderTemplate,bR=ea.valueOrDefault,aw=cl.geometry,eL=cl.drawing;var dj=".kendoChart",b4="above",dh="area",bl="auto",aF="fit",Q=cl.AXIS_LABEL_CLICK,cs="bar",bs=6,ee=0.8,eb="below",aX="#000",j="both",eE="bottom",bu="boxPlot",bF="bubble",dd="bullet",ad="candlestick",cR="category",eB="center",ah="change",bt="circle",cI="contextmenu"+dj,bC=cl.CLIP,bM="color",bI="column",dq=cl.COORD_PRECISION,ew="cross",y="k-",aP="custom",bZ="dataBound",ec="date",c3="days",a6=cl.DEFAULT_FONT,cN=cl.DEFAULT_HEIGHT,s=cl.DEFAULT_PRECISION,d1=cl.DEFAULT_WIDTH,dF=4,cw="donut",el=50,bp="drag",h="dragEnd",c9="dragStart",eh="errorLow",cc="errorHigh",aq="xErrorLow",M="xErrorHigh",B="yErrorLow",dm="yErrorHigh",d6="fadeIn",cr="first",P="from",ex="funnel",aV="glass",ds="horizontal",eH="horizontalWaterfall",c1="hours",R=cl.INITIAL_ANIMATION_DURATION,cf="insideBase",D="insideEnd",d="interpolate",de="leave",da="left",bQ="legendItemClick",ap="legendItemHover",bE="line",dN=8,c7="linear",dE="log",dx="max",ei=5,cS=Number.MAX_VALUE,b8="min",dw=-Number.MAX_VALUE,E="minutes",r="months",aU="mouseleave"+dj,Z="mousemove.tracking",cu="mouseover"+dj,aL="mouseout"+dj,dU="mousemove"+dj,f=20,aJ=150,b6="DOMMouseScroll"+dj+" mousewheel"+dj,bJ=cl.NOTE_CLICK,am=cl.NOTE_HOVER,aT="noteText",e="object",at="ohlc",aY="outsideEnd",eq="_outline",di="pie",em=70,bo="plotAreaClick",dS="pointer",aR="rangeBar",az="rangeColumn",ar="render",ev="right",aH="roundedBevel",dl="roundedGlass",ac="scatter",N="scatterLine",b9="seconds",k="selectStart",co="select",aE="selectEnd",bx="seriesClick",ab="seriesHover",bf=0.001,A="step",aW="smooth",ck="stderr",a8="stddev",l="string",dK="summary",cX=1000,aD=60*cX,cd=60*aD,dB=24*cd,C=7*dB,d4=31*dB,cm=365*dB,a4={years:cm,months:d4,weeks:C,days:dB,hours:cd,minutes:aD,seconds:cX},ce="to",b3="top",L=150,i=5,O=100,I=100,bW="chart-tooltip-inverse",cT="value",cA="vertical",bj="verticalArea",a1="verticalBullet",eK="verticalLine",bD="waterfall",bv="weeks",cb="#fff",d9="x",d8="y",eu="years",bX="zero",eC=3,cP="zoomStart",o="zoom",a3="zoomEnd",bO=[b9,E,c1,c3,bv,r,eu],dH=[cs,bI,at,ad,bu,dd,az,aR,bD,eH];var dA={seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"};var cG=a7.extend({init:function(Y,eO){var eM=this,X,eN;cY.destroy(Y);a7.fn.init.call(eM,Y);eM.element.addClass(y+this.options.name.toLowerCase()).css("position","relative");if(eO){eN=eO.dataSource;eO.dataSource=et}X=aM({},eM.options,eO);eM._originalOptions=aM({},X);eM._initTheme(X);eM._initSurface();eM.bind(eM.events,eM.options);eM.wrapper=eM.element;if(eO){eO.dataSource=eN}eM._initDataSource(eO);cY.notify(eM,cl.ui)},_initTheme:function(eS){var eP=this,eR=cl.ui.themes||{},eO=eS.theme,eM=eR[eO]||eR[eO.toLowerCase()],eQ=eO&&eM?eM.chart:{},X=[],eN=eS.series||[],Y;for(Y=0;Y<eN.length;Y++){X.push(es.extend({},eN[Y]))}eS.series=X;z(eS);eP._applyDefaults(eS,eQ);if(eS.seriesColors===null){eS.seriesColors=et}eP.options=aM({},eQ,eS);ai(eP.options)},_initDataSource:function(eM){var X=this,Y=(eM||{}).dataSource;X._dataChangeHandler=bb(X._onDataChanged,X);X.dataSource=du.create(Y).bind(ah,X._dataChangeHandler);X._bindCategories();if(Y){X._hasDataSource=true}X._redraw();X._attachEvents();if(Y){if(X.options.autoBind){X.dataSource.fetch()}}},setDataSource:function(Y){var X=this;X.dataSource.unbind(ah,X._dataChangeHandler);X.dataSource=Y=du.create(Y);X._hasDataSource=true;X._hasData=false;Y.bind(ah,X._dataChangeHandler);if(X.options.autoBind){Y.fetch()}},events:[bZ,bx,ab,Q,bQ,ap,bo,c9,bp,h,cP,o,a3,k,co,aE,bJ,am,ar],items:function(){return es()},options:{name:"Chart",renderAs:"",theme:"default",chartArea:{},legend:{visible:true,labels:{}},categoryAxis:{},autoBind:true,seriesDefaults:{type:bI,data:[],highlight:{visible:true},labels:{},negativeValues:{visible:false}},series:[],seriesColors:null,tooltip:{visible:false},transitions:true,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}]},refresh:function(){var X=this;X._applyDefaults(X.options);ai(X.options);X._bindSeries();X._bindCategories();X.trigger(bZ);X._redraw()},getSize:function(){return cY.dimensions(this.element)},_resize:function(){var X=this.options.transitions;this.options.transitions=false;this._redraw();this.options.transitions=X},redraw:function(X){var Y=this,eN,eM;Y._applyDefaults(Y.options);ai(Y.options);if(X){eM=Y._model._plotArea;eN=eM.findPane(X);eM.redraw(eN)}else{Y._redraw()}},getAxis:function(Y){var eM=this._plotArea.axes;for(var X=0;X<eM.length;X++){if(eM[X].options.name===Y){return new cM(eM[X])}}},toggleHighlight:function(eQ,eS){var X=this._plotArea;var Y=this._highlight;var eN=(X.srcSeries||X.series||[])[0];var eO,eM,eR;if(cx(eS)){eO=eS.series;eM=eS.category}else{eO=eM=eS}if(eN.type===cw){eR=ef(X.pointsBySeriesName(eO),eM)}else{if(eN.type===di||eN.type===ex){eR=ef((X.charts[0]||{}).points,eM)}else{eR=X.pointsBySeriesName(eO)}}if(eR){for(var eP=0;eP<eR.length;eP++){Y.togglePointHighlight(eR[eP],eQ)}}},_initSurface:function(){var X=this.surface;var Y=this._surfaceWrap();var eM=this.options.chartArea;if(eM.width){Y.css("width",eM.width)}if(eM.height){Y.css("height",eM.height)}if(!X||X.options.type!==this.options.renderAs){if(X){X.destroy()}this.surface=eL.Surface.create(Y,{type:this.options.renderAs})}else{this.surface.clear();this.surface.resize()}},_surfaceWrap:function(){return this.element},_redraw:function(){var eM=this,Y=eM._getModel(),X;eM._destroyView();eM._model=Y;eM._plotArea=Y._plotArea;Y.renderVisual();if(this.options.transitions!==false){Y.traverse(function(eN){if(eN.animation){eN.animation.setup()}})}eM._initSurface();eM.surface.draw(Y.visual);if(this.options.transitions!==false){Y.traverse(function(eN){if(eN.animation){eN.animation.play()}})}eM._tooltip=eM._createTooltip();eM._highlight=new aK(X);eM._setupSelection();if(!eM._hasDataSource||eM._hasData||!eM.options.autoBind){eM.trigger(ar)}},exportVisual:function(){return this.surface.exportVisual()},_sharedTooltip:function(){var Y=this,X=Y.options;return Y._plotArea instanceof dY&&X.tooltip.shared},_createTooltip:function(){var eM=this,X=eM.options,Y=eM.element,eN;if(eM._sharedTooltip()){eN=new bG(Y,eM._plotArea,X.tooltip)}else{eN=new dQ(Y,X.tooltip)}eN.bind(de,bb(eM._tooltipleave,eM));return eN},_tooltipleave:function(){var Y=this,eM=Y._plotArea,X=Y._highlight;eM.hideCrosshairs();X.hide()},_applyDefaults:function(Y,X){w(Y,X);dX(Y,X)},_getModel:function(){var eM=this,Y=eM.options,X=new bw(eM._modelOptions()),eN;X.chart=eM;x.buildTitle(Y.title,X);eN=X._plotArea=eM._createPlotArea();if(Y.legend.visible){X.append(new dy(eN.options.legend))}X.append(eN);X.reflow();return X},_modelOptions:function(){var eO=this,Y=eO.options,eM=eO.element,X=eD.floor(eM.height()),eN=eD.floor(eM.width());eO._size=null;return aM({width:eN||d1,height:X||cN,transitions:Y.transitions},Y.chartArea)},_createPlotArea:function(Y){var eM=this,X=eM.options;return a9.current.create(Y?[]:X.series,X)},_setupSelection:function(){var eQ=this,X=eQ._plotArea,eP=X.axes,Y=eQ._selections=[],eS,eO,eM,eN,eR,eT;if(!eQ._selectStartHandler){eQ._selectStartHandler=bb(eQ._selectStart,eQ);eQ._selectHandler=bb(eQ._select,eQ);eQ._selectEndHandler=bb(eQ._selectEnd,eQ)}for(eO=0;eO<eP.length;eO++){eM=eP[eO];eT=eM.options;if(eM instanceof bT&&eT.select&&!eT.vertical){eN=0;eR=eT.categories.length-1;if(eM instanceof bY){eN=eT.categories[eN];eR=eT.categories[eR]}if(!eT.justified){if(eM instanceof bY){eR=cH(eR,1,eT.baseUnit,eT.weekStartDay)}else{eR++}}eS=new ep(eQ,eM,aM({min:eN,max:eR},eT.select));eS.bind(k,eQ._selectStartHandler);eS.bind(co,eQ._selectHandler);eS.bind(aE,eQ._selectEndHandler);Y.push(eS)}}},_selectStart:function(X){return this.trigger(k,X)},_select:function(X){return this.trigger(co,X)},_selectEnd:function(X){return this.trigger(aE,X)},_attachEvents:function(){var Y=this,X=Y.element;X.on(cI,bb(Y._click,Y));X.on(cu,bb(Y._mouseover,Y));X.on(aL,bb(Y._mouseout,Y));X.on(b6,bb(Y._mousewheel,Y));X.on(aU,bb(Y._mouseleave,Y));Y._mousemove=cY.throttle(bb(Y._mousemove,Y),f);if(Y._shouldAttachMouseMove()){X.on(dU,Y._mousemove)}if(cY.UserEvents){Y._userEvents=new cY.UserEvents(X,{global:true,filter:":not(.k-selector)",multiTouch:false,tap:bb(Y._tap,Y),start:bb(Y._start,Y),move:bb(Y._move,Y),end:bb(Y._end,Y)})}},_mouseout:function(eM){var Y=this,X=Y._getChartElement(eM);if(X&&X.leave){X.leave(Y,eM)}},_start:function(eM){var Y=this,X=Y._events;if(bP(X[c9]||X[bp]||X[h])){Y._startNavigation(eM,c9)}},_move:function(eQ){var eS=this,X=eS._navState,eR,Y={},eP,eM,eO,eN,eT;if(X){eQ.preventDefault();eR=X.axes;for(eP=0;eP<eR.length;eP++){eM=eR[eP];eO=eM.options.name;if(eO){eN=eM.options.vertical?eQ.y:eQ.x;eT=eN.startLocation-eN.location;if(eT!==0){Y[eM.options.name]=eM.translateRange(eT)}}}X.axisRanges=Y;eS.trigger(bp,{axisRanges:Y,originalEvent:eQ})}},_end:function(X){this._endNavigation(X,h)},_mousewheel:function(eR){var eT=this,eV=eR.originalEvent,eN,eU=p(eR),eO,Y=eT._navState,eS,eQ,eM,eP,X={};if(!Y){eN=eT._startNavigation(eV,cP);if(!eN){Y=eT._navState}}if(Y){eO=Y.totalDelta||eU;Y.totalDelta=eO+eU;eS=eT._navState.axes;for(eQ=0;eQ<eS.length;eQ++){eM=eS[eQ];eP=eM.options.name;if(eP){X[eP]=eM.scaleRange(-eO)}}eT.trigger(o,{delta:eU,axisRanges:X,originalEvent:eR});if(eT._mwTimeout){clearTimeout(eT._mwTimeout)}eT._mwTimeout=setTimeout(function(){eT._endNavigation(eR,a3)},aJ)}},_startNavigation:function(eR,eQ){var eT=this,eU=eT._eventCoordinates(eR),X=eT._model._plotArea,eN=X.findPointPane(eU),eS=X.axes.slice(0),eP,Y,eO=false,eM;if(!eN){return}for(eP=0;eP<eS.length;eP++){Y=eS[eP];if(Y.box.containsPoint(eU)){eO=true;break}}if(!eO&&X.backgroundBox().containsPoint(eU)){eM=eT.trigger(eQ,{axisRanges:cJ(eS),originalEvent:eR});if(eM){eT._userEvents.cancel()}else{eT._suppressHover=true;eT._unsetActivePoint();eT._navState={pane:eN,axes:eS}}}},_endNavigation:function(eM,Y){var X=this;if(X._navState){X.trigger(Y,{axisRanges:X._navState.axisRanges,originalEvent:eM});X._suppressHover=false;X._navState=null}},_getChartElement:function(eM,X){var Y=this.surface.eventTarget(eM);if(!Y){return}var eN;while(Y&&!eN){eN=Y.chartElement;Y=Y.parent}if(eN){if(eN.aliasFor){eN=eN.aliasFor(eM,this._eventCoordinates(eM))}if(X){eN=eN.closest(X)}return eN}},_eventCoordinates:function(eO){var eM=this,X=bP((eO.x||{}).client),eN=X?eO.x.client:eO.clientX,Y=X?eO.y.client:eO.clientY;return eM._toModelCoordinates(eN,Y)},_toModelCoordinates:function(eO,eM){var Y=this.element,eQ=Y.offset(),X=parseInt(Y.css("paddingLeft"),10),eN=parseInt(Y.css("paddingTop"),10),eP=es(window);return new d2(eO-eQ.left-X+eP.scrollLeft(),eM-eQ.top-eN+eP.scrollTop())},_tap:function(eM){var Y=this,X=Y._getChartElement(eM);if(Y._activePoint===X){Y._click(eM)}else{if(!Y._startHover(eM)){Y._unsetActivePoint()}Y._click(eM)}},_click:function(eM){var Y=this,X=Y._getChartElement(eM);while(X){if(X.click){X.click(Y,eM)}X=X.parent}},_startHover:function(eQ){var eO=this,eN=eO._getChartElement(eQ),eP=eO._tooltip,Y=eO._highlight,eM=eO.options.tooltip,X;if(eO._suppressHover||!Y||Y.isHighlighted(eN)||eO._sharedTooltip()){return}X=eO._getChartElement(eQ,function(eR){return eR.hover});if(X&&!X.hover(eO,eQ)){eO._activePoint=X;eM=aM({},eM,X.options.tooltip);if(eM.visible){eP.show(X)}Y.show(X);return X.tooltipTracking}},_mouseover:function(Y){var X=this;if(X._startHover(Y)){es(document).on(Z,bb(X._mouseMoveTracking,X))}},_mouseMoveTracking:function(eN){var eP=this,eT=eP.options,eS=eP._tooltip,eM=eP._highlight,eQ=eP._eventCoordinates(eN),eR=eP._activePoint,Y,X,eO;if(eP._plotArea.box.containsPoint(eQ)){if(eR&&eR.tooltipTracking&&eR.series&&eR.parent.getNearestPoint){eO=eR.parent.getNearestPoint(eQ.x,eQ.y,eR.seriesIx);if(eO&&eO!=eR){eO.hover(eP,eN);eP._activePoint=eO;Y=aM({},eT.tooltip,eR.options.tooltip);if(Y.visible){eS.show(eO)}eM.show(eO)}}}else{es(document).off(Z);eP._unsetActivePoint()}},_mousemove:function(Y){var X=this._eventCoordinates(Y);this._trackCrosshairs(X);if(this._sharedTooltip()){this._trackSharedTooltip(X,Y)}},_trackCrosshairs:function(eM){var X=this._plotArea.crosshairs,Y,eN;for(Y=0;Y<X.length;Y++){eN=X[Y];if(eN.box.containsPoint(eM)){eN.showAt(eM)}else{eN.hide()}}},_trackSharedTooltip:function(eT,eR){var eS=this,eW=eS.options,X=eS._plotArea,eP=X.categoryAxis,eV=eS._tooltip,eO=eW.tooltip,eN=eS._highlight,eQ,eU;if(X.box.containsPoint(eT)){eQ=eP.pointCategoryIndex(eT);if(eQ!==eS._tooltipCategoryIx){eU=X.pointsByCategoryIndex(eQ);var eM=es.map(eU,function(eX){return eX.eventArgs(eR)});var Y=eM[0]||{};Y.categoryPoints=eM;if(eU.length>0&&!this.trigger(ab,Y)){if(eO.visible){eV.showAt(eU,eT)}eN.show(eU)}else{eV.hide()}eS._tooltipCategoryIx=eQ}}},_mouseleave:function(eP){var Y=this,eN=Y._plotArea,eM=Y._tooltip,X=Y._highlight,eO=eP.relatedTarget;if(!(eO&&es(eO).closest(eM.element).length)){Y._mousemove.cancel();eN.hideCrosshairs();X.hide();setTimeout(bb(eM.hide,eM),I);Y._tooltipCategoryIx=null}},_unsetActivePoint:function(){var Y=this,eM=Y._tooltip,X=Y._highlight;Y._activePoint=null;if(eM){eM.hide()}if(X){X.hide()}},_onDataChanged:function(){var eO=this,eR=eO.options,eN=eO._sourceSeries||eR.series,eS,X=eN.length,eM=eO.dataSource.view(),eP=(eO.dataSource.group()||[]).length>0,Y=[],eQ;for(eS=0;eS<X;eS++){eQ=eN[eS];if(eO._isBindable(eQ)&&eP){b7(Y,ax(eQ,eM))}else{Y.push(eQ||[])}}eO._sourceSeries=eN;eR.series=Y;ai(eO.options);eO._bindSeries();eO._bindCategories();eO._hasData=true;eO._deferRedraw()},_deferRedraw:function(){var X=this;if(cY.support.vml){X._clearRedrawTimeout();X._redrawTimeout=setTimeout(function(){if(!X.surface){return}X.trigger(bZ);X._redraw()},0)}else{X.trigger(bZ);X._redraw()}},_clearRedrawTimeout:function(){if(this._redrawTimeout){clearInterval(this._redrawTimeout);this._redrawTimeout=null}},_bindSeries:function(){var eP=this,eR=eP.dataSource.view(),eO=eP.options.series,X,Y=eO.length,eN,eQ,eM;for(X=0;X<Y;X++){eN=eO[X];if(eP._isBindable(eN)){eQ=eN._groupIx;eM=bP(eQ)?(eR[eQ]||{}).items:eR;if(eN.autoBind!==false){eN.data=eM}}}},_bindCategories:function(){var eP=this,eR=eP.dataSource.view()||[],eO=(eP.dataSource.group()||[]).length>0,X=eR,Y=eP.options,eN=[].concat(Y.categoryAxis),eQ,eM;if(eO){if(eR.length){X=eR[0].items}}for(eQ=0;eQ<eN.length;eQ++){eM=eN[eQ];if(eM.autoBind!==false){eP._bindCategoryAxis(eM,X,eQ)}}},_bindCategoryAxis:function(X,eO,eN){var eM=(eO||[]).length,eQ,Y,eP;if(X.field){X.categories=[];for(eQ=0;eQ<eM;eQ++){eP=eO[eQ];Y=c5(X.field,eP);if(eQ===0){X.categories=[Y];X.dataItems=[eP]}else{X.categories.push(Y);X.dataItems.push(eP)}}}else{this._bindCategoryAxisFromSeries(X,eN)}},_bindCategoryAxisFromSeries:function(eM,eQ){var eV=this,eW=[],eS,eR=eV.options.series,e0=eR.length,eX,eU,eZ,e1,eO,eP,eT,eY,X={},eN,Y;for(eX=0;eX<e0;eX++){eU=eR[eX];eZ=eU.categoryAxis===eM.name||(!eU.categoryAxis&&eQ===0);e1=eU.data;eP=e1.length;if(eU.categoryField&&eZ&&eP>0){Y=cF(eM,c5(eU.categoryField,e1[0]));eN=Y?aj:c5;for(eO=0;eO<eP;eO++){eT=e1[eO];eY=eN(eU.categoryField,eT);if(Y||!X[eY]){eW.push([eY,eT]);if(!Y){X[eY]=true}}}}}if(eW.length>0){if(Y){eW=W(eW,function(e3,e2){return by(e3[0],e2[0])})}eS=dc(eW);eM.categories=eS[0];eM.dataItems=eS[1]}},_isBindable:function(eN){var Y=bB.current.valueFields(eN),X=true,eO,eM;for(eM=0;eM<Y.length;eM++){eO=Y[eM];if(eO===cT){eO="field"}else{eO=eO+"Field"}if(!bP(eN[eO])){X=false;break}}return X},_legendItemClick:function(eM,eP){var eO=this,X=eO._plotArea,eS=(X.srcSeries||X.series)[eM],eR=(eO._sourceSeries||[])[eM]||eS,eN,Y,eQ;if(dP(eS.type,[di,cw,ex])){eQ=eR.data[eP];if(!bP(eQ.visible)){Y=false}else{Y=!eQ.visible}eQ.visible=Y}else{Y=!eR.visible;eR.visible=Y;eS.visible=Y}if(eO.options.transitions){eO.options.transitions=false;eN=true}eO.redraw();if(eN){eO.options.transitions=true}},_legendItemHover:function(eM,eQ){var eP=this,eR=eP._plotArea,Y=eP._highlight,eO=(eR.srcSeries||eR.series)[eM],eN,X;if(dP(eO.type,[di,cw,ex])){eN=eQ}else{eN=eM}X=eR.pointsBySeriesIndex(eN);Y.show(X)},_shouldAttachMouseMove:function(){var X=this;return X._plotArea.crosshairs.length||(X._tooltip&&X._sharedTooltip())},setOptions:function(X){var Y=this,eM=X.dataSource;X.dataSource=et;Y._originalOptions=aM(Y._originalOptions,X);Y.options=aM({},Y._originalOptions);Y._sourceSeries=null;es(document).off(dU);a7.fn._setEvents.call(Y,X);Y._initTheme(Y.options);if(eM){Y.setDataSource(eM)}if(Y._hasDataSource){Y.refresh()}else{Y._bindCategories();Y.redraw()}if(Y._shouldAttachMouseMove()){Y.element.on(dU,Y._mousemove)}},destroy:function(){var X=this,Y=X.dataSource;X.element.off(dj);Y.unbind(ah,X._dataChangeHandler);es(document).off(Z);if(X._userEvents){X._userEvents.destroy()}X._destroyView();X.surface.destroy();X.surface=null;X._clearRedrawTimeout();a7.fn.destroy.call(X)},_destroyView:function(){var eM=this,X=eM._model,Y=eM._selections;if(X){X.destroy();eM._model=null}if(Y){while(Y.length>0){Y.shift().destroy()}}eM._unsetActivePoint();if(eM._tooltip){eM._tooltip.destroy()}if(eM._highlight){eM._highlight.destroy()}}});cl.ExportMixin.extend(cG.fn);if(cY.PDFMixin){cY.PDFMixin.extend(cG.fn)}var a9=aA.extend({init:function(){this._registry=[]},register:function(Y,X){this._registry.push({type:Y,seriesTypes:X})},create:function(eQ,eM){var X=this._registry,Y=X[0],eO,eP,eN;for(eO=0;eO<X.length;eO++){eP=X[eO];eN=a0(eQ,eP.seriesTypes);if(eN.length>0){Y=eP;break}}return new Y.type(eN,eM)}});a9.current=new a9();var bB=aA.extend({init:function(){this._valueFields={};this._otherFields={};this._nullValue={};this._undefinedValue={}},register:function(eM,X,eP){var Y=this,eN,eO;X=X||[cT];for(eN=0;eN<eM.length;eN++){eO=eM[eN];Y._valueFields[eO]=X;Y._otherFields[eO]=eP;Y._nullValue[eO]=Y._makeValue(X,null);Y._undefinedValue[eO]=Y._makeValue(X,et)}},canonicalFields:function(X){return this.valueFields(X).concat(this.otherFields(X))},valueFields:function(X){return this._valueFields[X.type]||[cT]},otherFields:function(X){return this._otherFields[X.type]||[cT]},bindPoint:function(eP,eQ){var eV=this,eO=eP.data,eU=eO[eQ],eW={valueFields:{value:eU}},eR,eN,eS,Y,eM=eV.valueFields(eP),X=eV._otherFields[eP.type],eT;if(eU===null){eT=eV._nullValue[eP.type]}else{if(!bP(eU)){eT=eV._undefinedValue[eP.type]}else{if(V(eU)){eN=eU.slice(eM.length);eT=eV._bindFromArray(eU,eM);eR=eV._bindFromArray(eN,X)}else{if(typeof eU===e){eS=eV.sourceFields(eP,eM);Y=eV.sourceFields(eP,X);eT=eV._bindFromObject(eU,eM,eS);eR=eV._bindFromObject(eU,X,Y)}}}}if(bP(eT)){if(eM.length===1){eW.valueFields.value=eT[eM[0]]}else{eW.valueFields=eT}}eW.fields=eR||{};return eW},_makeValue:function(Y,X){var eO={},eM,eN=Y.length,eP;for(eM=0;eM<eN;eM++){eP=Y[eM];eO[eP]=X}return eO},_bindFromArray:function(eO,X){var eN={},Y,eM;if(X){eM=eD.min(X.length,eO.length);for(Y=0;Y<eM;Y++){eN[X[Y]]=eO[Y]}}return eN},_bindFromObject:function(eM,X,Y){var eP={},eN,eO,eR,eQ;if(X){eO=X.length;Y=Y||X;for(eN=0;eN<eO;eN++){eR=X[eN];eQ=Y[eN];eP[eR]=c5(eQ,eM)}}return eP},sourceFields:function(eM,eN){var Y,eO,eQ,eP,X;if(eN){eO=eN.length;eP=[];for(Y=0;Y<eO;Y++){eQ=eN[Y];X=eQ===cT?"field":eQ+"Field";eP.push(eM[X]||eQ)}}return eP}});bB.current=new bB();var bg=ed.extend({init:function(eM,Y){var X=this;ed.fn.init.call(X,Y);this.textBox=new a5(eM,X.options);X.append(this.textBox)},options:{position:aY,margin:bA(3),padding:bA(4),color:aX,background:"",border:{width:1,color:""},aboveAxis:true,vertical:false,animation:{type:d6,delay:R},zIndex:2},createVisual:function(){this.textBox.options.noclip=this.options.noclip},reflow:function(Y){var eN=this,eM=eN.options,X=eM.vertical,eR=eM.aboveAxis,eQ=eN.children[0],eO=eQ.box,eP=eQ.options.padding;eQ.options.align=X?eB:da;eQ.options.vAlign=X?b3:eB;if(eM.position==D){if(X){eQ.options.vAlign=b3;if(!eR&&eO.height()<Y.height()){eQ.options.vAlign=eE}}else{eQ.options.align=eR?ev:da}}else{if(eM.position==eB){eQ.options.vAlign=eB;eQ.options.align=eB}else{if(eM.position==cf){if(X){eQ.options.vAlign=eR?eE:b3}else{eQ.options.align=eR?da:ev}}else{if(eM.position==aY){if(X){if(eR){Y=new cL(Y.x1,Y.y1-eO.height(),Y.x2,Y.y1)}else{Y=new cL(Y.x1,Y.y2,Y.x2,Y.y2+eO.height())}}else{eQ.options.align=eB;if(eR){Y=new cL(Y.x2+eO.width(),Y.y1,Y.x2,Y.y2)}else{Y=new cL(Y.x1-eO.width(),Y.y1,Y.x1,Y.y2)}}}}}}if(!eM.rotation){if(X){eP.left=eP.right=(Y.width()-eQ.contentBox.width())/2}else{eP.top=eP.bottom=(Y.height()-eQ.contentBox.height())/2}}eQ.reflow(Y)},alignToClipBox:function(X){var eQ=this,eM=eQ.options.vertical,eR=eM?d8:d9,Y=eR+"1",eN=eR+"2",eS=eQ.children[0],eO=eQ.parent.box,eP;if(eO[Y]<X[Y]||X[eN]<eO[eN]){eP=eS.paddingBox.clone();eP[Y]=eD.max(eO[Y],X[Y]);eP[eN]=eD.min(eO[eN],X[eN]);this.reflow(eP)}}});var av=b.extend({init:function(X){var Y=this;b.fn.init.call(Y,X);Y.createContainer();Y.createMarker();Y.createLabel()},createContainer:function(){var X=this;X.container=new c8({vertical:false,wrap:false,align:eB});X.append(X.container)},createMarker:function(){this.container.append(new v(this.markerOptions()))},markerOptions:function(){var Y=this.options;var X=Y.markerColor;return aM({},Y.markers,{background:X,border:{color:X}})},createLabel:function(){var eM=this,Y=eM.options,X=aM({},Y.labels);eM.container.append(new a5(Y.text,X))},renderComplete:function(){ed.fn.renderComplete.call(this);var Y=this.options.cursor||{};var X=this._itemOverlay=eL.Path.fromRect(this.container.box.toRect(),{fill:{color:cb,opacity:0},stroke:null,cursor:Y.style||Y});this.appendVisual(X)},click:function(Y,eM){var X=this.eventArgs(eM);if(!Y.trigger(bQ,X)){eM.preventDefault();Y._legendItemClick(X.seriesIndex,X.pointIndex)}},hover:function(Y,eM){var X=this.eventArgs(eM);if(!Y.trigger(ap,X)){eM.preventDefault();Y._legendItemHover(X.seriesIndex,X.pointIndex)}return true},leave:function(X){X._unsetActivePoint()},eventArgs:function(Y){var X=this.options;return{element:es(Y.target),text:X.text,series:X.series,seriesIndex:X.series.index,pointIndex:X.pointIndex}},renderVisual:function(){var eM=this;var X=eM.options;var Y=X.visual;if(Y){eM.visual=Y({active:X.active,series:X.series,options:{markers:eM.markerOptions(),labels:X.labels},createVisual:function(){ed.fn.renderVisual.call(eM);var eN=eM.visual;delete eM.visual;return eN}});this.addVisual()}else{ed.fn.renderVisual.call(eM)}}});var eA=ed.extend({render:function(){var Y,eN=this.children;var eO=this.options;var eM=eO.vertical;var eQ=eO.spacing;var eP=this.visual=new eL.Layout(null,{spacing:eM?0:eO.spacing,lineSpacing:eM?eO.spacing:0,orientation:eM?"vertical":"horizontal"});for(var X=0;X<eN.length;X++){Y=eN[X];Y.reflow(new cL());Y.renderVisual()}},reflow:function(X){this.visual.rect(X.toRect());this.visual.reflow();var Y=this.visual.clippedBBox();if(Y){this.box=cl.rectToBox(Y)}else{this.box=new cL()}},renderVisual:function(){this.addVisual()},createVisual:dz});var dy=ed.extend({init:function(X){var Y=this;ed.fn.init.call(Y,X);if(!dP(Y.options.position,[b3,ev,eE,da,aP])){Y.options.position=ev}Y.createContainer();Y.createItems()},options:{position:ev,items:[],labels:{margin:{left:6}},offsetX:0,offsetY:0,margin:bA(5),padding:bA(5),border:{color:aX,width:0},item:{cursor:dS},spacing:6,background:"",zIndex:1,markers:{border:{width:1},width:7,height:7,type:"rect",align:da,vAlign:eB}},createContainer:function(){var eN=this,eM=eN.options,Y=eM.align,X=eM.position,eP=X,eO=eB;if(X==aP){eP=da}else{if(dP(X,[b3,eE])){if(Y=="start"){eP=da}else{if(Y=="end"){eP=ev}else{eP=eB}}eO=X}else{if(Y){if(Y=="start"){eO=b3}else{if(Y=="end"){eO=eE}}}}}eN.container=new b({margin:eM.margin,padding:eM.padding,background:eM.background,border:eM.border,vAlign:eO,align:eP,zIndex:eM.zIndex,shrinkToFit:true});eN.append(eN.container)},createItems:function(){var eO=this,eM=eO.options,Y=eM.items,eQ=Y.length,X=eO.isVertical(),eR,eN,eP;eR=new eA({vertical:X,spacing:eM.spacing});if(eM.reverse){Y=Y.slice(0).reverse()}for(eN=0;eN<eQ;eN++){eP=Y[eN];eR.append(new av(aM({},{markers:eM.markers,labels:eM.labels},eM.item,eP)))}eR.render();eO.container.append(eR)},isVertical:function(){var eO=this,eN=eO.options,eM=eN.orientation,X=eN.position,Y=(X==aP&&eM!=ds)||(bP(eM)?eM!=ds:dP(X,[da,ev]));return Y},hasItems:function(){return this.container.children[0].children.length>0},reflow:function(Y){var eN=this,eM=eN.options,X=eN.container;Y=Y.clone();if(!eN.hasItems()){eN.box=Y;return}if(eM.position===aP){eN.containerCustomReflow(Y);eN.box=Y}else{eN.containerReflow(Y)}},containerReflow:function(eR){var eT=this,eV=eT.options,eQ=eV.position,eS=eQ==b3||eQ==eE?d9:d8,Y=eR.clone(),X=eT.container,eM=eV.width,eU=eV.height,eO=eT.isVertical(),eN=eR.clone(),eP;if(eQ==da||eQ==ev){Y.y1=eN.y1=0}if(eO&&eU){Y.y2=Y.y1+eU;Y.align(eN,d8,X.options.vAlign)}else{if(!eO&&eM){Y.x2=Y.x1+eM;Y.align(eN,d9,X.options.align)}}X.reflow(Y);Y=X.box;eP=Y.clone();if(eV.offsetX||eV.offsetY){Y.translate(eV.offsetX,eV.offsetY);eT.container.reflow(Y)}eP[eS+1]=eR[eS+1];eP[eS+2]=eR[eS+2];eT.box=eP},containerCustomReflow:function(eQ){var eR=this,eT=eR.options,eP=eT.offsetX,eO=eT.offsetY,X=eR.container,eM=eT.width,eS=eT.height,eN=eR.isVertical(),Y=eQ.clone();if(eN&&eS){Y.y2=Y.y1+eS}else{if(!eN&&eM){Y.x2=Y.x1+eM}}X.reflow(Y);Y=X.box;X.reflow(cL(eP,eO,eP+Y.width(),eO+Y.height()))},renderVisual:function(){if(this.hasItems()){ed.fn.renderVisual.call(this)}}});var bT=cv.extend({init:function(X){var Y=this;cv.fn.init.call(Y,X);X=Y.options;X.categories=X.categories.slice(0);Y._ticks={}},options:{type:cR,categories:[],vertical:false,majorGridLines:{visible:false,width:1,color:aX},labels:{zIndex:1},justified:false},range:function(){return{min:0,max:this.options.categories.length}},getTickPositions:function(eW){var Y=this,eV=Y.options,eM=eV.vertical,eN=eV.justified,eS=Y.lineBox(),eU=eM?eS.height():eS.width(),eR=eW-(eN?1:0),X=eU/eR,eQ=eM?d8:d9,eT=eS[eQ+1],eP=[],eO;for(eO=0;eO<eW;eO++){eP.push(cC(eT,dq));eT+=X}if(!eN){eP.push(eS[eQ+2])}return eV.reverse?eP.reverse():eP},getMajorTickPositions:function(){return this.getTicks().majorTicks},getMinorTickPositions:function(){return this.getTicks().minorTicks},getTicks:function(){var eP=this,eM=eP._ticks,eO=eP.options,eQ=eO.categories.length,eN=eO.reverse,X=eO.justified,Y=eP.lineBox(),eR;eR=Y.getHash()+eQ+eN+X;if(eM._hash!==eR){eM._hash=eR;eM.majorTicks=eP.getTickPositions(eQ);eM.minorTicks=eP.getTickPositions(eQ*2)}return eM},getSlot:function(eV,eW){var eM=this,e0=eM.options,eQ=eM.getTicks().majorTicks,eU=e0.reverse,eO=e0.justified,eZ=e0.vertical?d8:d9,eT=eM.lineBox(),eS=eT[eZ+(eU?2:1)],eP=eT[eZ+(eU?1:2)],Y=eT.clone(),eR=eD.max(1,eQ.length-(eO?0:1)),eY,eX,X;var eN=!bP(eW);eV=bR(eV,0);eW=bR(eW,eV);eV=cy(eV,0,eR);eW=cy(eW-1,eV,eR);eW=eD.max(eV,eW);eY=eV===0?eS:(eQ[eV]||eP);eX=eO?eY:eQ[eW];X=eW-eV;if(X>0||(eV===eW)){eX=eQ[eW+1]||eP}if(eN&&eO){if(eV===eR){eY=eX}else{eX=eY}}Y[eZ+1]=eU?eX:eY;Y[eZ+2]=eU?eY:eX;return Y},pointCategoryIndex:function(eW){var X=this,eZ=X.options,eT=eZ.reverse,Y=eZ.vertical,eX=Y?d8:d9,eS=X.lineBox(),eR=eS[eX+1],eM=eS[eX+2],eU=eW[eX],eP=X.getMajorTickPositions(),eV=cS,eO,eY,eN,eQ;if(eU<eR||eU>eM){return null}for(eN=0;eN<eP.length;eN++){eO=eP[eN];eY=eP[eN+1];if(!bP(eY)){eY=eT?eR:eM}if(eT){eO=eY;eY=eP[eN]}if(eZ.justified){if(eU===eY){eQ=eD.max(0,Y?eP.length-eN-1:eN+1);break}if(eD.abs(eU-eO)<eV){eV=eU-eO;eQ=eN}}else{if(eU>=eO&&eU<=eY){eQ=eN;break}}}return eQ},getCategory:function(X){var Y=this.pointCategoryIndex(X);if(Y===null){return null}return this.options.categories[Y]},categoryIndex:function(X){return ct(X,this.options.categories)},translateRange:function(eR){var eO=this,eM=eO.options,X=eO.lineBox(),eN=eM.vertical?X.height():X.width(),Y=eM.categories.length,eQ=eN/Y,eP=cC(eR/eQ,s);return{min:eP,max:Y+eP}},scaleRange:function(eN){var eM=this,Y=eM.options,X=Y.categories.length,eO=eN*X;return{min:-eO,max:X+eO}},labelsCount:function(){return this.options.categories.length},createAxisLabel:function(eN,X){var eO=this,eM=eO.options,Y=eM.dataItems?eM.dataItems[eN]:null,eP=bR(eM.categories[eN],""),eQ=eO.axisLabelText(eP,Y,X);return new dC(eP,eQ,eN,Y,X)},shouldRenderNote:function(Y){var X=this.options.categories;return X.length&&(X.length>Y&&Y>=0)}});var bY=bT.extend({init:function(Y){var eM=this,eN,X;Y=Y||{};Y=aM({roundToBaseUnit:true},Y,{categories:cB(Y.categories),min:cB(Y.min),max:cB(Y.max)});if(Y.categories&&Y.categories.length>0){eN=(Y.baseUnit||"").toLowerCase();X=eN!==aF&&!dP(eN,bO);if(X){Y.baseUnit=eM.defaultBaseUnit(Y)}if(eN===aF||Y.baseUnitStep===bl){eM.autoBaseUnit(Y)}eM.groupCategories(Y)}else{Y.baseUnit=Y.baseUnit||c3}bT.fn.init.call(eM,Y)},options:{type:ec,labels:{dateFormats:dA},autoBaseUnitSteps:{seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10},shouldRenderNote:function(eN){var eM=this,Y=eM.range(),X=eM.options.categories||[];return by(eN,Y.min)>=0&&by(eN,Y.max)<=0&&X.length},parseNoteValue:function(X){return cB(X)},translateRange:function(eS){var X=this,eV=X.options,eP=eV.baseUnit,eT=eV.weekStartDay,eO=X.lineBox(),eU=eV.vertical?eO.height():eO.width(),eN=X.range(),Y=eU/(eN.max-eN.min),eM=cC(eS/Y,s),eR,eQ;if(eN.min&&eN.max){eR=n(eV.min||eN.min,eM);eQ=n(eV.max||eN.max,eM);eN={min:cH(eR,0,eP,eT),max:cH(eQ,0,eP,eT)}}return eN},scaleRange:function(eQ){var eM=this,X=eD.abs(eQ),Y=eM.range(),eP=Y.min,eO=Y.max,eN;if(Y.min&&Y.max){while(X--){Y=S(eP,eO);eN=eD.round(Y*0.1);if(eQ<0){eP=n(eP,eN);eO=n(eO,-eN)}else{eP=n(eP,-eN);eO=n(eO,eN)}}Y={min:eP,max:eO}}return Y},defaultBaseUnit:function(eS){var Y=eS.categories,eM=bP(Y)?Y.length:0,X,eO,eQ,eR=cS,eN,eP;for(X=0;X<eM;X++){eO=Y[X];if(eO&&eN){eQ=S(eO,eN);if(eQ>0){eR=eD.min(eR,eQ);if(eR>=cm){eP=eu}else{if(eR>=d4-dB*3){eP=r}else{if(eR>=C){eP=bv}else{if(eR>=dB){eP=c3}else{if(eR>=cd){eP=c1}else{if(eR>=aD){eP=E}else{eP=b9}}}}}}}}eN=eO}return eP||c3},_categoryRange:function(Y){var X=Y._range;if(!X){X=Y._range=a2(Y)}return X},range:function(eT){eT=eT||this.options;var eN=eT.categories,X=eT.baseUnit===aF,eQ=X?bO[0]:eT.baseUnit,eO=eT.baseUnitStep||1,eM=bL(eT.min),eP=bL(eT.max),Y=this._categoryRange(eN);var eS=bL(Y.min),eR=bL(Y.max);if(eT.roundToBaseUnit){return{min:cH(eM||eS,0,eQ,eT.weekStartDay),max:cH(eP||eR,eO,eQ,eT.weekStartDay)}}else{return{min:cB(eM||eS),max:cB(eP||this._srcMaxDate||eR)}}},autoBaseUnit:function(eX){var eM=this,eP=eM.range(aM({},eX,{baseUnitStep:1})),X=eX.baseUnit===aF,eO=0,eS=X?bO[eO++]:eX.baseUnit,eT=eP.max-eP.min,eQ=eT/a4[eS],eW=eQ,eV=eX.maxDateGroups||eM.options.maxDateGroups,eR=aM({},eM.options.autoBaseUnitSteps,eX.autoBaseUnitSteps),eU,Y,eN;while(!Y||eQ>eV){eU=eU||eR[eS].slice(0);eN=eU.shift();if(eN){Y=eN;eQ=eW/Y}else{if(eS===dW(bO)){Y=eD.ceil(eW/eV);break}else{if(X){eS=bO[eO++]||dW(bO);eW=eT/a4[eS];eU=null}else{if(eQ>eV){Y=eD.ceil(eW/eV)}break}}}}eX.baseUnitStep=Y;eX.baseUnit=eS},_timeScale:function(){var X=this,eN=X.range(),eS=X.options,eO=X.lineBox(),eM=eS.vertical,eR=eM?eO.height():eO.width(),eP;if(eS.justified&&eS._collapse!==false){var Y=this._categoryRange(eS.categories);var eQ=bL(Y.max);eP=cB(eQ)-eN.min}else{eP=eN.max-eN.min}return eR/eP},getTickPositions:function(eT){var eN=this,eP=eN.options,eZ=eP.categories,eU=[];if(eP.roundToBaseUnit||eZ.length===0){eU=bT.fn.getTickPositions.call(eN,eT)}else{var eM=eP.vertical,eV=eP.reverse,X=eN.lineBox(),eX=eZ[0].getTime(),Y=bR(eP._collapse,eP.justified),eR=eZ.length-(Y?1:0),e2=eN._timeScale(),eY=(eM?-1:1)*(eV?-1:1),eW=eY===1?1:2,eO=eY===1?2:1,e3=X[(eM?d8:d9)+eW],e0=X[(eM?d8:d9)+eO],eS=e3,e1,eQ;for(e1=0;e1<eR;e1++){eQ=eZ[e1]-eX;eS=e3+eQ*e2*eY;eU.push(cC(eS,dq))}if(dW(eU)!==e0){eU.push(e0)}}return eU},groupCategories:function(eU){var eM=this,eO=eU.categories,eT=cB(dn(eO)),eS=eU.baseUnit,eQ=eU.baseUnitStep||1,eP=eM.range(eU),eR=eP.max,Y,eN,X=[];for(Y=eP.min;Y<eR;Y=eN){X.push(Y);eN=cH(Y,eQ,eS,eU.weekStartDay);if(eN>eT&&!eU.max){break}}if(!eU.roundToBaseUnit&&!dt(dW(X),eR)){if(eR<eN&&eU._collapse!==false){this._srcMaxDate=eR}else{X.push(eR)}}eU.srcCategories=eO;eU.categories=X},createAxisLabel:function(eO,eN){var eT=this.options,X=eT.dataItems?eT.dataItems[eO]:null,eM=eT.categories[eO],eR=eT.baseUnit,Y=true,eP=eN.dateFormats[eR];if(eT.justified){var eQ=ek(eM,eR,eT.weekStartDay);Y=dt(eQ,eM)}else{if(!eT.roundToBaseUnit){Y=!dt(this.range().max,eM)}}if(Y){eN.format=eN.format||eP;var eS=this.axisLabelText(eM,X,eN);if(eS){return new dC(eM,eS,eO,X,eN)}}},categoryIndex:function(eQ,eM){var eP=this,eO=eP.options,Y=eO.categories,X,eN;eQ=cB(eQ);eM=eM||eP.range();X=eO.roundToBaseUnit&&dt(eM.max,eQ);if(eQ&&(eQ>eM.max||X)){return Y.length}else{if(!eQ||eQ<eM.min){return -1}}eN=T(eQ,Y);return eN},getSlot:function(Y,X){var eM=this;if(typeof Y===e){Y=eM.categoryIndex(Y)}if(typeof X===e){X=eM.categoryIndex(X)}return bT.fn.getSlot.call(eM,Y,X)}});var aB=cv.extend({init:function(X,eN,Y){var eM=this;Y=Y||{};aM(Y,{min:cB(Y.min),max:cB(Y.max),axisCrossingValue:cB(Y.axisCrossingValues||Y.axisCrossingValue)});Y=eM.applyDefaults(cB(X),cB(eN),Y);cv.fn.init.call(eM,Y)},options:{type:ec,majorGridLines:{visible:true,width:1,color:aX},labels:{dateFormats:dA}},applyDefaults:function(eM,eS,e0){var Y=this,eN=e0.min||eM,eU=e0.max||eS,eX=e0.baseUnit||Y.timeUnits(eU-eN),eP=a4[eX],eY=ek(bL(eN)-1,eX)||cB(eU),X=aO(bL(eU)+1,eX),eW=e0.majorUnit?e0.majorUnit:et,eR=eW||cl.ceil(cl.autoMajorUnit(eY.getTime(),X.getTime()),eP)/eP,eO=cn(eY,X,eX),eZ=cl.ceil(eO,eR),eV=eZ-eO,eT=eD.floor(eV/2),eQ=eV-eT;if(!e0.baseUnit){delete e0.baseUnit}e0.baseUnit=e0.baseUnit||eX;e0.min=e0.min||cH(eY,-eT,eX);e0.max=e0.max||cH(X,eQ,eX);e0.minorUnit=e0.minorUnit||eR/5;e0.majorUnit=eR;return e0},range:function(){var X=this.options;return{min:X.min,max:X.max}},getDivisions:function(X){var Y=this.options;return eD.floor(cn(Y.min,Y.max,Y.baseUnit)/X+1)},getTickPositions:function(eN){var eZ=this.options;var eR=eZ.vertical;var eV=eZ.reverse;var eU=this.lineBox();var eP=(eR?-1:1)*(eV?-1:1);var X=eP===1?1:2;var Y=eU[(eR?d8:d9)+X];var eM=this.getDivisions(eN);var eX=eZ.max-eZ.min;var eY=eR?eU.height():eU.width();var eQ=eY/eX;var eT=[Y];for(var eS=1;eS<eM;eS++){var eO=cH(eZ.min,eS*eZ.majorUnit,eZ.baseUnit);var eW=Y+(eO-eZ.min)*eQ*eP;eT.push(cC(eW,dq))}return eT},getMajorTickPositions:function(){var X=this;return X.getTickPositions(X.options.majorUnit)},getMinorTickPositions:function(){var X=this;return X.getTickPositions(X.options.minorUnit)},getSlot:function(eM,X,Y){return cq.fn.getSlot.call(this,cB(eM),cB(X),Y)},getValue:function(X){var Y=cq.fn.getValue.call(this,X);return Y!==null?cB(Y):null},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(eN,X){var eM=this.options;var eQ=eN*eM.majorUnit;var Y=eM.min;if(eQ>0){Y=cH(Y,eQ,eM.baseUnit)}var eO=X.dateFormats[eM.baseUnit];X.format=X.format||eO;var eP=this.axisLabelText(Y,null,X);return new dC(Y,eP,eN,null,X)},timeUnits:function(Y){var X=c1;if(Y>=cm){X=eu}else{if(Y>=d4){X=r}else{if(Y>=C){X=bv}else{if(Y>=dB){X=c3}}}}return X},translateRange:function(eS){var X=this,eV=X.options,eP=eV.baseUnit,eT=eV.weekStartDay,eO=X.lineBox(),eU=eV.vertical?eO.height():eO.width(),eN=X.range(),Y=eU/(eN.max-eN.min),eM=cC(eS/Y,s),eR=n(eV.min,eM),eQ=n(eV.max,eM);return{min:cH(eR,0,eP,eT),max:cH(eQ,0,eP,eT)}},scaleRange:function(eR){var eN=this,eM=eN.options,X=eD.abs(eR),eQ=eM.min,eP=eM.max,Y,eO;while(X--){Y=S(eQ,eP);eO=eD.round(Y*0.1);if(eR<0){eQ=n(eQ,eO);eP=n(eP,-eO)}else{eQ=n(eQ,-eO);eP=n(eP,eO)}}return{min:eQ,max:eP}},shouldRenderNote:function(Y){var X=this.range();return by(Y,X.min)>=0&&by(Y,X.max)<=0}});var bi=ed.extend({options:{vertical:false,gap:0,spacing:0},reflow:function(eQ){var eW=this,eX=eW.options,eN=eX.vertical,eM=eN?d8:d9,X=eW.children,eU=eX.gap,eT=eX.spacing,eR=X.length,eS=eR+eU+(eT*(eR-1)),Y=(eN?eQ.height():eQ.width())/eS,eP=eQ[eM+1]+Y*(eU/2),eV,eO;for(eO=0;eO<eR;eO++){eV=(X[eO].box||eQ).clone();eV[eM+1]=eP;eV[eM+2]=eP+Y;X[eO].reflow(eV);if(eO<eR-1){eP+=(Y*eT)}eP+=Y}}});var dL=ed.extend({options:{vertical:true},reflow:function(eS){var eU=this.options,eO=eU.vertical,X=eO?d9:d8,Y=eO?d8:d9,eM=this.children,eR=this.box=new cL(),eQ=eM.length,eP;for(eP=0;eP<eQ;eP++){var eN=eM[eP],eT;if(eN.visible!==false){eT=eN.box.clone();eT.snapTo(eS,X);if(eP===0){eR=this.box=eT.clone()}eN.reflow(eT);eR.wrap(eT)}}}});var q={click:function(X,Y){return X.trigger(bx,this.eventArgs(Y))},hover:function(X,Y){return X.trigger(ab,this.eventArgs(Y))},eventArgs:function(X){return{value:this.value,percentage:this.percentage,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:es((X||{}).target),originalEvent:X,point:this}}};var bS={createNote:function(){var Y=this,X=Y.options.notes,eM=Y.noteText||X.label.text;if(X.visible!==false&&bP(eM)&&eM!==null){Y.note=new ch(Y.value,eM,Y.dataItem,Y.category,Y.series,Y.options.notes);Y.append(Y.note)}}};var aG=ed.extend({init:function(eM,X){var Y=this;ed.fn.init.call(Y);Y.options=X;Y.color=X.color||cb;Y.aboveAxis=bR(Y.options.aboveAxis,true);Y.value=eM},defaults:{border:{width:1},vertical:true,overlay:{gradient:aV},labels:{visible:false,format:"{0}"},opacity:1,notes:{label:{}}},render:function(){if(this._rendered){return}else{this._rendered=true}this.createLabel();this.createNote();if(this.errorBar){this.append(this.errorBar)}},createLabel:function(){var eN=this.value;var X=this.options;var eO=X.labels;var eM;if(eO.visible){if(eO.template){var Y=m(eO.template);eM=Y({dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total,series:this.series})}else{eM=this.formatValue(eO.format)}this.label=new bg(eM,aM({vertical:X.vertical},X.labels));this.append(this.label)}},formatValue:function(X){return this.owner.formatPointValue(this,X)},reflow:function(X){this.render();var eO=this,eM=eO.options,Y=eO.label;eO.box=X;if(Y){Y.options.aboveAxis=eO.aboveAxis;Y.reflow(X)}if(eO.note){eO.note.reflow(X)}if(eO.errorBars){for(var eN=0;eN<eO.errorBars.length;eN++){eO.errorBars[eN].reflow(X)}}},createVisual:function(){var eO=this;var eN=eO.box;var X=eO.options;var Y=X.visual;if(eO.visible!==false){ed.fn.createVisual.call(eO);if(Y){var eM=this.rectVisual=Y({category:eO.category,dataItem:eO.dataItem,value:eO.value,series:eO.series,percentage:eO.percentage,runningTotal:eO.runningTotal,total:eO.total,rect:eN.toRect(),createVisual:function(){var eP=new eL.Group();eO.createRect(eP);return eP},options:X});if(eM){eO.visual.append(eM)}}else{if(eN.width()>0&&eN.height()>0){eO.createRect(eO.visual)}}}},createRect:function(eR){var eM=this.options;var Y=eM.border;var eO=bP(Y.opacity)?Y.opacity:eM.opacity;var eQ=this.rectVisual=eL.Path.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:eM.opacity},stroke:{color:this.getBorderColor(),width:Y.width,opacity:eO,dashType:Y.dashType}});var eP=this.box.width();var X=this.box.height();var eN=eM.vertical?eP:X;if(eN>bs){eJ(eQ);if(eP<1||X<1){eQ.options.stroke.lineJoin="round"}}eR.append(eQ);if(aC(eM)){eR.append(this.createGradientOverlay(eQ,{baseColor:this.color},aM({end:!eM.vertical?[0,1]:et},eM.overlay)))}},createHighlight:function(Y){var X=eL.Path.fromRect(this.box.toRect(),Y);return eJ(X)},highlightVisual:function(){return this.rectVisual},highlightVisualArgs:function(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}},getBorderColor:function(){var eN=this,eM=eN.options,X=eN.color,Y=eM.border,eP=Y.color,eO=Y._brightness||ee;if(!bP(eP)){eP=new H(X).brightness(eO).toHex()}return eP},tooltipAnchor:function(eO,eU){var eQ=this,eV=eQ.options,eP=eQ.box,eN=eV.vertical,eR=eQ.aboveAxis,X=eQ.owner.pane.clipBox()||eP,eT,eS;if(eN){eT=eP.x2+i;eS=eR?eD.max(eP.y1,X.y1):eD.min(eP.y2,X.y2)-eU}else{var eM=eD.max(eP.x1,X.x1),Y=eD.min(eP.x2,X.x2);if(eV.isStacked){eT=eR?Y-eO:eM;eS=eP.y1-eU-i}else{eT=eR?Y+i:eM-eO-i;eS=eP.y1}}return new d2(eT,eS)}});aM(aG.fn,q);aM(aG.fn,bS);var aN=eL.Animation.extend({options:{duration:R},setup:function(){var eN=this.element;var eM=this.options;var eP=eN.bbox();if(eP){var Y=this.origin=eM.origin;var eO=eM.vertical?d8:d9;var X=this.fromScale=new aw.Point(1,1);X[eO]=bf;eN.transform(aw.transform().scale(X.x,X.y))}else{this.abort()}},step:function(eM){var Y=aQ(this.fromScale.x,1,eM);var X=aQ(this.fromScale.y,1,eM);this.element.transform(aw.transform().scale(Y,X,this.origin))},abort:function(){eL.Animation.fn.abort.call(this);this.element.transform(null)}});eL.AnimationFactory.current.register(cs,aN);var af=eL.Animation.extend({options:{duration:200,easing:c7},setup:function(){this.fadeTo=this.element.opacity();this.element.opacity(0)},step:function(X){this.element.opacity(X*this.fadeTo)}});eL.AnimationFactory.current.register(d6,af);var be=function(X,Y,eN){var eM=this;eM.initGlobalRanges(X,Y,eN)};be.prototype=be.fn={percentRegex:/percent(?:\w*)\((\d+)\)/,standardDeviationRegex:new RegExp("^"+a8+"(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),initGlobalRanges:function(Y,eQ,eT){var eR=this,eP=eQ.data,X=eR.standardDeviationRegex.exec(Y);if(X){eR.valueGetter=eR.createValueGetter(eQ,eT);var eM=eR.getAverage(eP),eN=eR.getStandardDeviation(eP,eM,false),eU=X[1]?parseFloat(X[1]):1,eS={low:eM.value-eN*eU,high:eM.value+eN*eU};eR.globalRange=function(){return eS}}else{if(Y.indexOf&&Y.indexOf(ck)>=0){eR.valueGetter=eR.createValueGetter(eQ,eT);var eO=eR.getStandardError(eP,eR.getAverage(eP));eR.globalRange=function(eV){return{low:eV-eO,high:eV+eO}}}}},createValueGetter:function(eN,eP){var eM=eN.data,eR=bB.current,X=eR.valueFields(eN),eS=bP(eM[0])?eM[0]:{},eQ,eO,Y;if(V(eS)){eQ=eP?ct(eP,X):0;Y=cp("["+eQ+"]")}else{if(t(eS)){Y=cp()}else{if(typeof eS===e){eO=eR.sourceFields(eN,X);Y=cp(eO[ct(eP,X)])}}}return Y},getErrorRange:function(eQ,Y){var eN=this,X,eP,eO;if(!bP(Y)){return}if(eN.globalRange){return eN.globalRange(eQ)}if(V(Y)){X=eQ-Y[0];eP=eQ+Y[1]}else{if(t(eO=parseFloat(Y))){X=eQ-eO;eP=eQ+eO}else{if((eO=eN.percentRegex.exec(Y))){var eM=eQ*(parseFloat(eO[1])/100);X=eQ-eD.abs(eM);eP=eQ+eD.abs(eM)}else{throw new Error("Invalid ErrorBar value: "+Y)}}}return{low:X,high:eP}},getStandardError:function(Y,X){return this.getStandardDeviation(Y,X,true)/eD.sqrt(X.count)},getStandardDeviation:function(eR,eP,Y){var X=0,eO=eR.length,eN=Y?eP.count-1:eP.count,eQ;for(var eM=0;eM<eO;eM++){eQ=this.valueGetter(eR[eM]);if(t(eQ)){X+=eD.pow(eQ-eP.value,2)}}return eD.sqrt(X/eN)},getAverage:function(eP){var Y=0,eN=0,eM=eP.length,eO;for(var X=0;X<eM;X++){eO=this.valueGetter(eP[X]);if(t(eO)){Y+=eO;eN++}}return{value:Y/eN,count:eN}}};var dZ=ed.extend({init:function(eM,X){var Y=this;ed.fn.init.call(Y,X);Y.plotArea=eM;Y.categoryAxis=eM.seriesCategoryAxis(X.series[0]);Y.valueAxisRanges={};Y.points=[];Y.categoryPoints=[];Y.seriesPoints=[];Y.seriesOptions=[];Y._evalSeries=[];Y.render()},options:{series:[],invertAxes:false,isStacked:false,clip:true},render:function(){var X=this;X.traverseDataPoints(bb(X.addValue,X))},pointOptions:function(eM,X){var Y=this.seriesOptions[X];if(!Y){var eN=this.pointType().fn.defaults;this.seriesOptions[X]=Y=aM({},eN,{vertical:!this.options.invertAxes},eM)}return Y},plotValue:function(eR){if(!eR){return 0}if(this.options.isStacked100&&t(eR.value)){var eO=eR.categoryIx;var Y=this.categoryPoints[eO];var eS=0;var eM=[];for(var eN=0;eN<Y.length;eN++){var eP=Y[eN];if(eP){var eQ=eR.series.stack;var X=eP.series.stack;if((eQ&&X)&&eQ.group!==X.group){continue}if(t(eP.value)){eS+=eD.abs(eP.value);eM.push(eD.abs(eP.value))}}}if(eS>0){return eR.value/eS}}return eR.value},plotRange:function(eX,X){var eS=eX.categoryIx;var eQ=this.categoryPoints[eS];if(this.options.isStacked){X=X||0;var eN=this.plotValue(eX);var eR=eN>=0;var eT=X;var eZ=false;for(var eP=0;eP<eQ.length;eP++){var eU=eQ[eP];if(eX===eU){break}var eV=eX.series.stack;var Y=eU.series.stack;if(eV&&Y){if(typeof eV===l&&eV!==Y){continue}if(eV.group&&eV.group!==Y.group){continue}}var eM=this.plotValue(eU);if((eM>=0&&eR)||(eM<0&&!eR)){eT+=eM;eN+=eM;eZ=true;if(this.options.isStacked100){eN=eD.min(eN,1)}}}if(eZ){eT-=X}return[eT,eN]}var eO=eX.series;var eY=this.seriesValueAxis(eO);var eW=this.categoryAxisCrossingValue(eY);return[eW,eX.value||eW]},stackLimits:function(X,eS){var Y=cS;var eP=dw;for(var eN=0;eN<this.categoryPoints.length;eN++){var eM=this.categoryPoints[eN];for(var eO=0;eO<eM.length;eO++){var eR=eM[eO];if(eR){if(eR.series.stack===eS||eR.series.axis===X){var eQ=this.plotRange(eR,0)[1];if(bP(eQ)&&isFinite(eQ)){eP=eD.max(eP,eQ);Y=eD.min(Y,eQ)}}}}}return{min:Y,max:eP}},updateStackRange:function(){var eP=this;var eQ=eP.options.series;var eR=eP.options.isStacked;var X;var Y={};if(eR){for(var eN=0;eN<eQ.length;eN++){var eO=eQ[eN];var eM=eO.axis;var eS=eM+eO.stack;X=Y[eS];if(!X){X=eP.stackLimits(eM,eO.stack);var eT=eP.errorTotals;if(eT){if(eT.negative.length){X.min=eD.min(X.min,bU(eT.negative))}if(eT.positive.length){X.max=eD.max(X.max,dn(eT.positive))}}if(X.min!==cS||X.max!==dw){Y[eS]=X}else{X=null}}if(X){eP.valueAxisRanges[eM]=X}}}},addErrorBar:function(eT,Y,eO){var eQ=this,eS=eT.value,eM=eT.series,eU=eT.seriesIx,eP=eT.options.errorBars,eR,X=Y.fields[eh],eN=Y.fields[cc];if(t(X)&&t(eN)){eR={low:X,high:eN}}else{if(eP&&bP(eP.value)){eQ.seriesErrorRanges=eQ.seriesErrorRanges||[];eQ.seriesErrorRanges[eU]=eQ.seriesErrorRanges[eU]||new be(eP.value,eM,cT);eR=eQ.seriesErrorRanges[eU].getErrorRange(eS,eP.value)}}if(eR){eT.low=eR.low;eT.high=eR.high;eQ.addPointErrorBar(eT,eO)}},addPointErrorBar:function(eS,eN){var eP=this,eM=eS.series,eQ=eS.low,Y=eS.high,eR=!eP.options.invertAxes,eU=eS.options.errorBars,eT,X;if(eP.options.isStacked){X=eP.stackedErrorRange(eS,eN);eQ=X.low;Y=X.high}else{var eO={categoryIx:eN,series:eM};eP.updateRange({value:eQ},eO);eP.updateRange({value:Y},eO)}eT=new cK(eQ,Y,eR,eP,eM,eU);eS.errorBars=[eT];eS.append(eT)},stackedErrorRange:function(Y,eQ){var eM=this,eP=Y.value,eO=eM.plotRange(Y,0)[1]-Y.value,X=Y.low+eO,eN=Y.high+eO;eM.errorTotals=eM.errorTotals||{positive:[],negative:[]};if(X<0){eM.errorTotals.negative[eQ]=eD.min(eM.errorTotals.negative[eQ]||0,X)}if(eN>0){eM.errorTotals.positive[eQ]=eD.max(eM.errorTotals.positive[eQ]||0,eN)}return{low:X,high:eN}},addValue:function(eM,eP){var eQ=this;var eO=eP.categoryIx;var Y=eP.category;var eN=eP.series;var eT=eP.seriesIx;var X=eQ.categoryPoints[eO];if(!X){eQ.categoryPoints[eO]=X=[]}var eS=eQ.seriesPoints[eT];if(!eS){eQ.seriesPoints[eT]=eS=[]}var eR=eQ.createPoint(eM,eP);if(eR){es.extend(eR,eP);eR.owner=eQ;eR.dataItem=eN.data[eO];eR.noteText=eM.fields.noteText;eQ.addErrorBar(eR,eM,eO)}eQ.points.push(eR);eS.push(eR);X.push(eR);eQ.updateRange(eM.valueFields,eP)},evalPointOptions:function(Y,eQ,eN,eR,eM,X){var eP={defaults:eM._defaults,excluded:["data","aggregate","_events","tooltip","template","visual","toggle"]};var eO=this._evalSeries[X];if(!bP(eO)){this._evalSeries[X]=eO=bn(Y,{},eP,true)}if(eO){Y=aM({},Y);bn(Y,{value:eQ,category:eN,index:eR,series:eM,dataItem:eM.data[eR]},eP)}return Y},updateRange:function(eO,X){var eM=this,eP=X.series.axis,eN=eO.value,Y=eM.valueAxisRanges[eP];if(isFinite(eN)&&eN!==null){Y=eM.valueAxisRanges[eP]=Y||{min:cS,max:dw};Y.min=eD.min(Y.min,eN);Y.max=eD.max(Y.max,eN)}},seriesValueAxis:function(X){var eM=this.plotArea,eN=X.axis,Y=eN?eM.namedValueAxes[eN]:eM.valueAxis;if(!Y){throw new Error("Unable to locate value axis with name "+eN)}return Y},reflow:function(eO){var eN=this,eM=0,eS=eN.categorySlots=[],X=eN.points,Y=eN.categoryAxis,eQ,eR,eP;eN.traverseDataPoints(function(eX,e0){var eV=e0.category;var eY=e0.categoryIx;var e1=e0.series;eQ=eN.pointValue(eX);eR=eN.seriesValueAxis(e1);eP=X[eM++];var eT=eS[eY];if(!eT){eS[eY]=eT=eN.categorySlot(Y,eY,eR)}if(eP){var eU=eN.plotRange(eP,eR.startValue());var eZ=eR.getSlot(eU[0],eU[1],!eN.options.clip);if(eZ){var eW=eN.pointSlot(eT,eZ);eP.aboveAxis=eN.aboveAxis(eP,eR);if(eN.options.isStacked100){eP.percentage=eN.plotValue(eP)}eN.reflowPoint(eP,eW)}else{eP.visible=false}}});eN.reflowCategories(eS);eN.box=eO},aboveAxis:function(X,eN){var Y=this.categoryAxisCrossingValue(eN);var eM=X.value;return eN.options.reverse?eM<Y:eM>=Y},categoryAxisCrossingValue:function(eN){var eM=this.categoryAxis,X=eN.options,Y=[].concat(X.axisCrossingValues||X.axisCrossingValue);return Y[eM.axisIndex||0]||0},reflowPoint:function(X,Y){X.reflow(Y)},reflowCategories:function(){},pointSlot:function(Y,eN){var eO=this,X=eO.options,eM=X.invertAxes,eQ=eM?eN:Y,eP=eM?Y:eN;return new cL(eQ.x1,eP.y1,eQ.x2,eP.y2)},categorySlot:function(Y,X){return Y.getSlot(X)},traverseDataPoints:function(eS){var eP=this,eU=eP.options,Y=eU.series,eN=eP.categoryAxis.options.categories||[],eO=dr(Y),eM,eV,eQ,eR,eT,X=Y.length;for(eM=0;eM<eO;eM++){for(eV=0;eV<X;eV++){eT=Y[eV];eR=eN[eM];eQ=this._bindPoint(eT,eV,eM);eS(eQ,{category:eR,categoryIx:eM,series:eT,seriesIx:eV})}}},_bindPoint:function(eM,X,eO){if(!this._bindCache){this._bindCache=[]}var Y=this._bindCache[X];if(!Y){Y=this._bindCache[X]=[]}var eN=Y[eO];if(!eN){eN=Y[eO]=bB.current.bindPoint(eM,eO)}return eN},formatPointValue:function(X,Y){if(X.value===null){return""}return ca(Y,X.value)},pointValue:function(X){return X.valueFields.value}});var dv=dZ.extend({options:{animation:{type:cs}},render:function(){var X=this;dZ.fn.render.apply(X);X.updateStackRange()},pointType:function(){return aG},clusterType:function(){return bi},stackType:function(){return dL},stackLimits:function(eM,Y){var X=dZ.fn.stackLimits.call(this,eM,Y);return X},createPoint:function(e2,eT){var eQ=this;var e1=eT.categoryIx;var eX=eT.category;var eP=eT.series;var eU=eT.seriesIx;var eV=eQ.pointValue(e2);var eM=eQ.options;var eN=eQ.children;var eO=eQ.options.isStacked;var eW;var X=eQ.pointType();var eR;var e0;var Y=eQ.clusterType();eR=this.pointOptions(eP,eU);var eS=eR.labels;if(eO){if(eS.position==aY){eS.position=D}}eR.isStacked=eO;var eY=e2.fields.color||eP.color;if(eV<0&&eR.negativeColor){eY=eR.negativeColor}eR=eQ.evalPointOptions(eR,eV,eX,e1,eP,eU);if(cY.isFunction(eP.color)){eY=eR.color}eW=new X(eV,eR);eW.color=eY;e0=eN[e1];if(!e0){e0=new Y({vertical:eM.invertAxes,gap:eM.gap,spacing:eM.spacing});eQ.append(e0)}if(eO){var eZ=eQ.getStackWrap(eP,e0);eZ.append(eW)}else{e0.append(eW)}return eW},getStackWrap:function(eP,Y){var X=eP.stack;var eM=X?X.group||X:X;var eO=Y.children;var eR;if(typeof eM===l){for(var eN=0;eN<eO.length;eN++){if(eO[eN]._stackGroup===eM){eR=eO[eN];break}}}else{eR=eO[0]}if(!eR){var eQ=this.stackType();eR=new eQ({vertical:!this.options.invertAxes});eR._stackGroup=eM;Y.append(eR)}return eR},categorySlot:function(eO,eP,eR){var eQ=this,eS=eQ.options,X=eO.getSlot(eP),eM=eR.startValue(),Y,eN;if(eS.isStacked){eN=eR.getSlot(eM,eM,true);Y=eS.invertAxes?d9:d8;X[Y+1]=X[Y+2]=eN[Y+1]}return X},reflowCategories:function(eO){var eM=this,Y=eM.children,eN=Y.length,X;for(X=0;X<eN;X++){Y[X].reflow(eO[X])}},createAnimation:function(){this._setAnimationOptions();ed.fn.createAnimation.call(this);if(cZ(this.options.series)){this._setChildrenAnimation()}},_setChildrenAnimation:function(){var eN=this.points;var Y,eM;for(var X=0;X<eN.length;X++){Y=eN[X];eM=Y.visual;if(eM&&bP(eM.options.zIndex)){Y.options.animation=this.options.animation;Y.createAnimation()}}},_setAnimationOptions:function(){var Y=this.options;var eM=Y.animation||{};var X;if(this.options.isStacked){var eN=this.seriesValueAxis(Y.series[0]);X=eN.getSlot(eN.startValue())}else{X=this.categoryAxis.getSlot(0)}eM.origin=new aw.Point(X.x1,X.y1);eM.vertical=!Y.invertAxes}});var dI=aG.extend({defaults:{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}},createLabel:function(){var Y=this.value;var eN=this.options.labels;var eM=aM({},eN,eN.from);var X=aM({},eN,eN.to);if(eM.visible){this.labelFrom=this._createLabel(eM);this.append(this.labelFrom)}if(X.visible){this.labelTo=this._createLabel(X);this.append(this.labelTo)}},_createLabel:function(X){var eM;if(X.template){var Y=m(X.template);eM=Y({dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total,series:this.series})}else{eM=this.formatValue(X.format)}return new bg(eM,aM({vertical:this.options.vertical},X))},reflow:function(Y){this.render();var X=this,eM=X.options,eO=X.labelFrom,eP=X.labelTo,eN=X.value;X.box=Y;if(eO){eO.options.aboveAxis=X.value.from>X.value.to;eO.reflow(Y)}if(eP){eP.options.aboveAxis=X.value.to>X.value.from;eP.reflow(Y)}if(X.note){X.note.reflow(Y)}}});var ak=dv.extend({pointType:function(){return dI},pointValue:function(X){return X.valueFields},formatPointValue:function(X,Y){if(X.value.from===null&&X.value.to===null){return""}return ca(Y,X.value.from,X.value.to)},plotLimits:dZ.fn.plotLimits,plotRange:function(X){if(!X){return 0}return[X.value.from,X.value.to]},updateRange:function(eN,X){var eM=this,eO=X.series.axis,eQ=eN.from,eP=eN.to,Y=eM.valueAxisRanges[eO];if(eN!==null&&t(eQ)&&t(eP)){Y=eM.valueAxisRanges[eO]=Y||{min:cS,max:dw};Y.min=eD.min(Y.min,eQ);Y.max=eD.max(Y.max,eQ);Y.min=eD.min(Y.min,eP);Y.max=eD.max(Y.max,eP)}},aboveAxis:function(X){var Y=X.value;return Y.from<Y.to}});var dp=dZ.extend({init:function(eM,X){var Y=this;Y.wrapData(X);dZ.fn.init.call(Y,eM,X)},options:{animation:{type:cs}},wrapData:function(Y){var eN=Y.series,eM,eO,X;for(eM=0;eM<eN.length;eM++){X=eN[eM];eO=X.data;if(eO&&!V(eO[0])&&typeof(eO[0])!=e){X.data=[eO]}}},reflowCategories:function(eO){var eM=this,Y=eM.children,eN=Y.length,X;for(X=0;X<eN;X++){Y[X].reflow(eO[X])}},plotRange:function(X){var Y=X.series;var eN=this.seriesValueAxis(Y);var eM=this.categoryAxisCrossingValue(eN);return[eM,X.value.current||eM]},createPoint:function(eO,eS){var eT=this;var eR=eS.categoryIx;var Y=eS.category;var eP=eS.series;var eX=eS.seriesIx;var eV=eO.valueFields;var eW=eT.options;var eM=eT.children;var X;var eQ;var eU;eQ=aM({vertical:!eW.invertAxes,overlay:eP.overlay,categoryIx:eR,invertAxes:eW.invertAxes},eP);var eN=eO.fields.color||eP.color;eQ=eT.evalPointOptions(eQ,eV,Y,eR,eP,eX);if(cY.isFunction(eP.color)){eN=eQ.color}X=new ao(eV,eQ);X.color=eN;eU=eM[eR];if(!eU){eU=new bi({vertical:eW.invertAxes,gap:eW.gap,spacing:eW.spacing});eT.append(eU)}eU.append(X);return X},updateRange:function(eN,X){var eM=this,eQ=X.series.axis,eP=eN.current,eO=eN.target,Y=eM.valueAxisRanges[eQ];if(bP(eP)&&!isNaN(eP)&&bP(eO&&!isNaN(eO))){Y=eM.valueAxisRanges[eQ]=Y||{min:cS,max:dw};Y.min=eD.min.apply(eD,[Y.min,eP,eO]);Y.max=eD.max.apply(eD,[Y.max,eP,eO])}},formatPointValue:function(X,Y){return ca(Y,X.value.current,X.value.target)},pointValue:function(X){return X.valueFields.current},aboveAxis:function(X,eM){var Y=X.value.current;return Y>0},createAnimation:function(){var eN=this.points;var Y,eM;this._setAnimationOptions();for(var X=0;X<eN.length;X++){Y=eN[X];Y.options.animation=this.options.animation;Y.createAnimation()}},_setAnimationOptions:dv.fn._setAnimationOptions});var ao=ed.extend({init:function(eM,Y){var X=this;ed.fn.init.call(X,Y);X.aboveAxis=X.options.aboveAxis;X.color=Y.color||cb;X.value=eM},options:{border:{width:1},vertical:false,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}</br>Target: {1}"}},render:function(){var X=this,Y=X.options;if(!X._rendered){X._rendered=true;if(bP(X.value.target)){X.target=new cg({type:Y.target.shape,background:Y.target.color||X.color,opacity:Y.opacity,zIndex:Y.zIndex,border:Y.target.border,vAlign:b3,align:ev});X.append(X.target)}X.createNote()}},reflow:function(eQ){this.render();var Y=this,eV=Y.options,eS=Y.owner,eR=Y.target,eM=eV.invertAxes,eU=eS.seriesValueAxis(Y.options),X=eS.categorySlot(eS.categoryAxis,eV.categoryIx,eU),eT=eU.getSlot(Y.value.target),eP=eM?eT:X,eO=eM?X:eT,eN;if(eR){eN=new cL(eP.x1,eO.y1,eP.x2,eO.y2);eR.options.height=eM?eN.height():eV.target.line.width;eR.options.width=eM?eV.target.line.width:eN.width();eR.reflow(eN)}if(Y.note){Y.note.reflow(eQ)}Y.box=eQ},createVisual:function(){ed.fn.createVisual.call(this);var Y=this.options;var X=eL.Path.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:Y.opacity},stroke:null});if(Y.border.width>0){X.options.set("stroke",{color:Y.border.color||this.color,width:Y.border.width,dashType:Y.border.dashType,opacity:bR(Y.border.opacity,Y.opacity)})}this.bodyVisual=X;eJ(X);this.visual.append(X)},createAnimation:function(){if(this.bodyVisual){this.animation=eL.Animation.create(this.bodyVisual,this.options.animation)}},tooltipAnchor:function(eO,eU){var eQ=this,eV=eQ.options,eP=eQ.box,eN=eV.vertical,eR=eQ.aboveAxis,X=eQ.owner.pane.clipBox()||eP,eT,eS;if(eN){eT=eP.x2+i;eS=eR?eD.max(eP.y1,X.y1):eD.min(eP.y2,X.y2)-eU}else{var eM=eD.max(eP.x1,X.x1),Y=eD.min(eP.x2,X.x2);if(eV.isStacked){eT=eR?Y-eO:eM;eS=eP.y1-eU-i}else{eT=eR?Y+i:eM-eO-i;eS=eP.y1}}return new d2(eT,eS)},createHighlight:function(X){return eL.Path.fromRect(this.box.toRect(),X)},highlightVisual:function(){return this.bodyVisual},highlightVisualArgs:function(){var X=this.options;return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}},formatValue:function(Y){var X=this;return X.owner.formatPointValue(X,Y)}});aM(ao.fn,q);aM(ao.fn,bS);var cg=v.extend();aM(cg.fn,q);var c2=ed.extend({init:function(X,eP,eQ,eO,eN,eM){var Y=this;Y.low=X;Y.high=eP;Y.isVertical=eQ;Y.chart=eO;Y.series=eN;ed.fn.init.call(Y,eM)},options:{animation:{type:d6,delay:R},endCaps:true,line:{width:1},zIndex:1},getAxis:function(){},reflow:function(eP){var eR,eU=this,eN=eU.options.endCaps,eS=eU.isVertical,Y=eU.getAxis(),eO=Y.getSlot(eU.low,eU.high),eT=eP.center(),eM=eU.getCapsWidth(eP,eS),eQ=eS?eT.x:eT.y,eV=eQ-eM,X=eQ+eM;if(eS){eR=[d2(eT.x,eO.y1),d2(eT.x,eO.y2)];if(eN){eR.push(d2(eV,eO.y1),d2(X,eO.y1),d2(eV,eO.y2),d2(X,eO.y2))}eU.box=cL(eV,eO.y1,X,eO.y2)}else{eR=[d2(eO.x1,eT.y),d2(eO.x2,eT.y)];if(eN){eR.push(d2(eO.x1,eV),d2(eO.x1,X),d2(eO.x2,eV),d2(eO.x2,X))}eU.box=cL(eO.x1,eV,eO.x2,X)}eU.linePoints=eR},getCapsWidth:function(Y,eM){var eN=eM?Y.width():Y.height(),X=eD.min(eD.floor(eN/2),dF)||dF;return X},createVisual:function(){var eM=this;var X=eM.options;var Y=X.visual;if(Y){eM.visual=Y({low:eM.low,high:eM.high,rect:eM.box.toRect(),options:{endCaps:X.endCaps,color:X.color,line:X.line},createVisual:function(){eM.createDefaultVisual();var eN=eM.visual;delete eM.visual;return eN}})}else{eM.createDefaultVisual()}},createDefaultVisual:function(){var eO=this,eN=eO.options,eP=eO.parent,eM={stroke:{color:eN.color,width:eN.line.width,dashType:eN.line.dashType}},eQ=eO.linePoints;ed.fn.createVisual.call(this);for(var X=0;X<eQ.length;X+=2){var Y=new eL.Path(eM).moveTo(eQ[X].x,eQ[X].y).lineTo(eQ[X+1].x,eQ[X+1].y);this.visual.append(Y)}}});var cK=c2.extend({getAxis:function(){var X=this,eN=X.chart,Y=X.series,eM=eN.seriesValueAxis(Y);return eM}});var ez=c2.extend({getAxis:function(){var X=this,eN=X.chart,Y=X.series,eO=eN.seriesAxes(Y),eM=X.isVertical?eO.y:eO.x;return eM}});var d7=ed.extend({init:function(eM,Y){var X=this;ed.fn.init.call(X);X.value=eM;X.options=Y;X.aboveAxis=bR(X.options.aboveAxis,true);X.tooltipTracking=true},defaults:{vertical:true,markers:{visible:true,background:cb,size:dN,type:bt,border:{width:2},opacity:1},labels:{visible:false,position:b4,margin:bA(3),padding:bA(4),animation:{type:d6,delay:R}},notes:{label:{}},highlight:{markers:{border:{}}}},render:function(){var X=this,Y=X.options,eO=Y.markers,eP=Y.labels,eN=X.value;if(X._rendered){return}else{X._rendered=true}if(eO.visible&&eO.size){X.marker=X.createMarker();X.append(X.marker)}if(eP.visible){if(eP.template){var eM=m(eP.template);eN=eM({dataItem:X.dataItem,category:X.category,value:X.value,percentage:X.percentage,series:X.series})}else{if(eP.format){eN=X.formatValue(eP.format)}}X.label=new a5(eN,aM({align:eB,vAlign:eB,margin:{left:5,right:5},zIndex:bR(eP.zIndex,this.series.zIndex)},eP));X.append(X.label)}X.createNote();if(X.errorBar){X.append(X.errorBar)}},markerBorder:function(){var Y=this.options.markers;var eM=Y.background;var X=aM({color:this.color},Y.border);if(!bP(X.color)){X.color=new H(eM).brightness(ee).toHex()}return X},createVisual:dz,createMarker:function(){var Y=this.options.markers;var X=new v({type:Y.type,width:Y.size,height:Y.size,rotation:Y.rotation,background:Y.background,border:this.markerBorder(),opacity:Y.opacity,zIndex:bR(Y.zIndex,this.series.zIndex),animation:Y.animation,visual:Y.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});return X},markerBox:function(){if(!this.marker){this.marker=this.createMarker();this.marker.reflow(this._childBox)}return this.marker.box},reflow:function(eO){var eR=this,eS=eR.options,Y=eS.vertical,eN=eR.aboveAxis,eQ,X;eR.render();eR.box=eO;eQ=eO.clone();if(Y){if(eN){eQ.y1-=eQ.height()}else{eQ.y2+=eQ.height()}}else{if(eN){eQ.x1+=eQ.width()}else{eQ.x2-=eQ.width()}}eR._childBox=eQ;if(eR.marker){eR.marker.reflow(eQ)}eR.reflowLabel(eQ);if(eR.errorBars){for(var eM=0;eM<eR.errorBars.length;eM++){eR.errorBars[eM].reflow(eQ)}}if(eR.note){var eP=eR.markerBox();if(!eR.marker){X=eP.center();eP=cL(X.x,X.y,X.x,X.y)}eR.note.reflow(eP)}},reflowLabel:function(eO){var X=this,eN=X.options,eM=X.label,Y=eN.labels.position;if(eM){Y=Y===b4?b3:Y;Y=Y===eb?eE:Y;eM.reflow(eO);eM.box.alignTo(X.markerBox(),Y);eM.reflow(eM.box)}},createHighlight:function(){var X=this.options.highlight;var eN=X.markers;var eM=this.markerBorder().color;var Y=this.options.markers;var eO=new v({type:Y.type,width:Y.size,height:Y.size,rotation:Y.rotation,background:eN.color||eM,border:{color:eN.border.color,width:eN.border.width,opacity:bR(eN.border.opacity,1)},opacity:bR(eN.opacity,1)});eO.reflow(this._childBox);return eO.getElement()},highlightVisual:function(){return(this.marker||{}).visual},highlightVisualArgs:function(){var Y=this.marker;var eP;var eO;if(Y){eO=Y.paddingBox.toRect();eP=Y.visual}else{var eN=this.options.markers.size;var eM=eN/2;var X=this.box.center();eO=new aw.Rect([X.x-eM,X.y-eM],[eN,eN])}return{options:this.options,rect:eO,visual:eP}},tooltipAnchor:function(eM,eS){var eQ=this,Y=eQ.markerBox(),eT=eQ.options,eN=eQ.aboveAxis,eP=Y.x2+i,eO=eN?Y.y1-eS:Y.y2,X=eQ.owner.pane.clipBox(),eR=!X||X.overlaps(Y);if(eR){return d2(eP,eO)}},formatValue:function(Y){var X=this;return X.owner.formatPointValue(X,Y)}});aM(d7.fn,q);aM(d7.fn,bS);var dR=d7.extend({init:function(eM,Y){var X=this;d7.fn.init.call(X,eM,Y);X.category=eM.category},defaults:{labels:{position:eB},highlight:{opacity:1,border:{width:1,opacity:1}}},createHighlight:function(){var eM=this.options.highlight;var eO=eM.border;var eP=this.options.markers;var Y=this.box.center();var X=eP.size/2-eO.width/2;var eN=new eL.Circle(new aw.Circle([Y.x,Y.y],X),{stroke:{color:eO.color||new H(eP.background).brightness(ee).toHex(),width:eO.width,opacity:eO.opacity},fill:{color:eP.background,opacity:eM.opacity}});return eN}});var c0=ed.extend({init:function(eN,Y,X){var eM=this;ed.fn.init.call(eM);eM.linePoints=eN;eM.series=Y;eM.seriesIx=X},options:{closed:false},points:function(eP){var eN=this,eO=eN.linePoints.concat(eP||[]),Y=[];for(var X=0,eM=eO.length;X<eM;X++){if(eO[X].visible!==false){Y.push(eO[X]._childBox.toRect().center())}}return Y},createVisual:function(){var eM=this.options;var eN=this.series;var eO=eN._defaults;var Y=eN.color;if(cQ(Y)&&eO){Y=eO.color}var X=eL.Path.fromPoints(this.points(),{stroke:{color:Y,width:eN.width,opacity:eN.opacity,dashType:eN.dashType},zIndex:eN.zIndex});if(eM.closed){X.close()}this.visual=X},aliasFor:function(eN,eM){var Y=this,X=Y.seriesIx;return Y.parent.getNearestPoint(eM.x,eM.y,X)}});var an={renderSegments:function(){var eN=this,eU=eN.options,Y=eU.series,eV=eN.seriesPoints,eT,eW,X=eV.length,eS,eQ,eR,eM,eP,eO;this._segments=[];for(eW=0;eW<X;eW++){eT=Y[eW];eS=eN.sortPoints(eV[eW]);eP=eS.length;eQ=[];for(eM=0;eM<eP;eM++){eR=eS[eM];if(eR){eQ.push(eR)}else{if(eN.seriesMissingValues(eT)!==d){if(eQ.length>1){eO=eN.createSegment(eQ,eT,eW,eO);this._addSegment(eO)}eQ=[]}}}if(eQ.length>1){eO=eN.createSegment(eQ,eT,eW,eO);this._addSegment(eO)}}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(X){this._segments.push(X);X.parent=this},sortPoints:function(X){return X},seriesMissingValues:function(X){var Y=X.missingValues,eM=!Y&&this.options.isStacked;return eM?bX:Y||d},getNearestPoint:function(eS,eR,eU){var eO=new d2(eS,eR);var Y=this.seriesPoints[eU];var eP=cS;var eQ;for(var eN=0;eN<Y.length;eN++){var eT=Y[eN];if(eT&&bP(eT.value)&&eT.value!==null&&eT.visible!==false){var X=eT.box;var eM=X.center().distanceTo(eO);if(eM<eP){eQ=eT;eP=eM}}}return eQ}};var c={createAnimation:function(){var X=this.getRoot();if(X&&(X.options||{}).transitions!==false){var eM=X.box;var Y=eL.Path.fromRect(eM.toRect());this.visual.clip(Y);this.animation=new dg(Y,{box:eM});if(cZ(this.options.series)){this._setChildrenAnimation(Y)}}},_setChildrenAnimation:function(eO){var eN=this.animationPoints();var Y,eM;for(var X=0;X<eN.length;X++){Y=eN[X];eM=Y.visual;if(eM&&bP(eM.options.zIndex)){eM.clip(eO)}}}};var ci=dZ.extend({render:function(){var X=this;dZ.fn.render.apply(X);X.updateStackRange();X.renderSegments()},pointType:function(){return d7},createPoint:function(eP,eT){var eU=this;var eS=eT.categoryIx;var eM=eT.category;var eQ=eT.series;var e0=eT.seriesIx;var eX=eP.valueFields.value;var eZ=eU.options;var eW=eZ.isStacked;var Y=eU.categoryPoints[eS];var eY=eU.seriesMissingValues(eQ);var X;var eO=0;var eV;var eR;if(!bP(eX)||eX===null){if(eY===bX){eX=0}else{return null}}eR=this.pointOptions(eQ,e0);eR=eU.evalPointOptions(eR,eX,eM,eS,eQ,e0);var eN=eP.fields.color||eQ.color;if(cY.isFunction(eQ.color)){eN=eR.color}eV=new d7(eX,eR);eV.color=eN;eU.append(eV);return eV},plotRange:function(Y){var eO=this.plotValue(Y);if(this.options.isStacked){var eP=Y.categoryIx;var eN=this.categoryPoints[eP];for(var eM=0;eM<eN.length;eM++){var X=eN[eM];if(Y===X){break}eO+=this.plotValue(X)}}return[eO,eO]},createSegment:function(eO,Y,X){var eN,eM=Y.style;if(eM===A){eN=dG}else{if(eM===aW){eN=b2}else{eN=c0}}return new eN(eO,Y,X)},animationPoints:function(){var eM=this.seriesOptions;var eN=[];var Y;var eO,X;for(X=0;X<eM.length;X++){if(eM[X].markers.visible){Y=this.seriesPoints[X];for(eO=0;eO<Y.length;eO++){eN.push(Y[eO].marker)}}}return eN.concat(this._segments)}});aM(ci.fn,an,c);var dg=eL.Animation.extend({options:{duration:R},setup:function(){this._setEnd(this.options.box.x1)},step:function(Y){var X=this.options.box;this._setEnd(aQ(X.x1,X.x2,Y))},_setEnd:function(X){var eN=this.element;var Y=eN.segments;var eO=Y[1].anchor();var eM=Y[2].anchor();eN.suspend();eO.setX(X);eN.resume();eM.setX(X)}});eL.AnimationFactory.current.register(bC,dg);var dG=c0.extend({points:function(eM){var Y=this,X;X=Y.calculateStepPoints(Y.linePoints);if(eM&&eM.length){X=X.concat(Y.calculateStepPoints(eM).reverse())}return X},calculateStepPoints:function(eZ){var eT=this,eW=eT.parent,Y=eW.plotArea,eS=Y.seriesCategoryAxis(eT.series),eM=eW.seriesMissingValues(eT.series)===d,eN=eZ.length,eV=eS.options.reverse,eQ=eS.options.vertical,eO=eV?2:1,eX=eV?1:2,eU,eY,eR,X,eP,e0=[];for(eR=1;eR<eN;eR++){eU=eZ[eR-1];eY=eZ[eR];X=eU.markerBox().center();eP=eY.markerBox().center();if(eS.options.justified){e0.push(new aw.Point(X.x,X.y));if(eQ){e0.push(new aw.Point(X.x,eP.y))}else{e0.push(new aw.Point(eP.x,X.y))}e0.push(new aw.Point(eP.x,eP.y))}else{if(eQ){e0.push(new aw.Point(X.x,eU.box[d8+eO]));e0.push(new aw.Point(X.x,eU.box[d8+eX]));if(eM){e0.push(new aw.Point(X.x,eY.box[d8+eO]))}e0.push(new aw.Point(eP.x,eY.box[d8+eO]));e0.push(new aw.Point(eP.x,eY.box[d8+eX]))}else{e0.push(new aw.Point(eU.box[d9+eO],X.y));e0.push(new aw.Point(eU.box[d9+eX],X.y));if(eM){e0.push(new aw.Point(eY.box[d9+eO],X.y))}e0.push(new aw.Point(eY.box[d9+eO],eP.y));e0.push(new aw.Point(eY.box[d9+eX],eP.y))}}}return e0||[]}});var b2=c0.extend({createVisual:function(){var eM=this.options;var eN=this.series;var eP=eN._defaults;var X=eN.color;if(cQ(X)&&eP){X=eP.color}var eO=new bN(this.options.closed);var Y=eO.process(this.points());var eQ=new eL.Path({stroke:{color:X,width:eN.width,opacity:eN.opacity,dashType:eN.dashType},zIndex:eN.zIndex});eQ.segments.push.apply(eQ.segments,Y);this.visual=eQ}});var cE={points:function(){var eQ=this,eR=eQ.parent,X=eR.plotArea,eM=eR.options.invertAxes,eW=eR.seriesValueAxis(eQ.series),eX=eW.lineBox(),eP=X.seriesCategoryAxis(eQ.series),Y=eP.lineBox(),eO=eM?Y.x1:Y.y1,eV=eQ.stackPoints,eU=eQ._linePoints(eV),eS=eM?d9:d8,eN,eT;eO=cy(eO,eX[eS+1],eX[eS+2]);if(!eQ.stackPoints&&eU.length>1){eN=eU[0];eT=dW(eU);if(eM){eU.unshift(new aw.Point(eO,eN.y));eU.push(new aw.Point(eO,eT.y))}else{eU.unshift(new aw.Point(eN.x,eO));eU.push(new aw.Point(eT.x,eO))}}return eU},createVisual:function(){var Y=this.options;var eM=this.series;var eN=eM._defaults;var X=eM.color;if(cQ(X)&&eN){X=eN.color}this.visual=new eL.Group({zIndex:eM.zIndex});this.createArea(X);this.createLine(X)},createLine:function(eM){var eN=this.series;var Y=aM({color:eM,opacity:eN.opacity},eN.line);if(Y.visible!==false&&Y.width>0){var X=eL.Path.fromPoints(this._linePoints(),{stroke:{color:Y.color,width:Y.width,opacity:Y.opacity,dashType:Y.dashType,lineCap:"butt"}});this.visual.append(X)}},createArea:function(X){var Y=this.series;var eM=eL.Path.fromPoints(this.points(),{fill:{color:X,opacity:Y.opacity},stroke:null});this.visual.append(eM)}};var ay=c0.extend({init:function(eO,eN,Y,X){var eM=this;eM.stackPoints=eN;c0.fn.init.call(eM,eO,Y,X)},_linePoints:c0.fn.points});aM(ay.fn,cE);var er=ci.extend({createSegment:function(eO,eR,eT,eM){var eN=this,eS=eN.options,eP=eS.isStacked,eQ,Y,X=(eR.line||{}).style;if(eP&&eT>0&&eM){eQ=eM.linePoints;if(X!==A){eQ=eQ.slice(0).reverse()}}if(X===aW){return new d0(eO,eM,eP,eR,eT)}if(X===A){Y=bm}else{Y=ay}return new Y(eO,eQ,eR,eT)},seriesMissingValues:function(X){return X.missingValues||bX}});var d0=ay.extend({init:function(eP,eM,eO,Y,X){var eN=this;eN.prevSegment=eM;eN.isStacked=eO;c0.fn.init.call(eN,eP,Y,X)},strokeSegments:function(){var X=this._strokeSegments;if(!X){var Y=new bN(this.options.closed);var eM=c0.fn.points.call(this);X=this._strokeSegments=Y.process(eM)}return X},createVisual:function(){var Y=this.options;var eM=this.series;var eN=eM._defaults;var X=eM.color;if(cQ(X)&&eN){X=eN.color}this.visual=new eL.Group({zIndex:eM.zIndex});this.createFill({fill:{color:X,opacity:eM.opacity},stroke:null});this.createStroke({stroke:aM({color:X,opacity:eM.opacity,lineCap:"butt"},eM.line)})},createFill:function(X){var eS=this.strokeSegments();var Y=eS.slice(0);var eM=this.prevSegment;if(this.isStacked&&eM){var eO=eM.strokeSegments();var eQ=dW(eO).anchor();Y.push(new eL.Segment(eQ,eQ,dW(eS).anchor()));var eN=es.map(eO,function(eT){return new eL.Segment(eT.anchor(),eT.controlOut(),eT.controlIn())}).reverse();b7(Y,eN);var eP=Y[0].anchor();Y.push(new eL.Segment(eP,eP,dW(eN).anchor()))}var eR=new eL.Path(X);eR.segments.push.apply(eR.segments,Y);this.closeFill(eR);this.visual.append(eR)},closeFill:function(eU){var eS=this,eT=eS.parent,eP=eS.prevSegment,Y=eT.plotArea,eM=eT.options.invertAxes,eX=eT.seriesValueAxis(eS.series),eY=eX.lineBox(),eR=Y.seriesCategoryAxis(eS.series),X=eR.lineBox(),eO=eM?X.x1:X.y1,eV=eM?d9:d8,eQ=eS.strokeSegments(),eN=eQ[0].anchor(),eW=dW(eQ).anchor();eO=cy(eO,eY[eV+1],eY[eV+2]);if(!(eT.options.isStacked&&eP)&&eQ.length>1){if(eM){eU.lineTo(eO,eW.y).lineTo(eO,eN.y)}else{eU.lineTo(eW.x,eO).lineTo(eN.x,eO)}}},createStroke:function(X){if(X.stroke.width>0){var Y=new eL.Path(X);Y.segments.push.apply(Y.segments,this.strokeSegments());this.visual.append(Y)}}});var bm=dG.extend({init:function(eO,eN,Y,X){var eM=this;eM.stackPoints=eN;dG.fn.init.call(eM,eO,Y,X)},_linePoints:dG.fn.points});aM(bm.fn,cE);var db=ed.extend({init:function(eM,X){var Y=this;ed.fn.init.call(Y,X);Y.plotArea=eM;Y.xAxisRanges={};Y.yAxisRanges={};Y.points=[];Y.seriesPoints=[];Y.seriesOptions=[];Y._evalSeries=[];Y.render()},options:{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:true},render:function(){var X=this;X.traverseDataPoints(bb(X.addValue,X))},addErrorBar:function(eU,eS,eP){var eR,eQ=this,eT=eU.value[eS],eX=eS+"Value",eW=eS+"ErrorLow",eM=eS+"ErrorHigh",eV=eP.seriesIx,Y=eP.series,eO=eU.options.errorBars,X=eP[eW],eN=eP[eM];if(t(eT)){if(t(X)&&t(eN)){eR={low:X,high:eN}}if(eO&&bP(eO[eX])){eQ.seriesErrorRanges=eQ.seriesErrorRanges||{x:[],y:[]};eQ.seriesErrorRanges[eS][eV]=eQ.seriesErrorRanges[eS][eV]||new be(eO[eX],Y,eS);eR=eQ.seriesErrorRanges[eS][eV].getErrorRange(eT,eO[eX])}if(eR){eQ.addPointErrorBar(eR,eU,eS)}}},addPointErrorBar:function(eO,eR,eQ){var eM=this,eN=eO.low,X=eO.high,Y=eR.series,eP=eQ===d8,eU=eR.options.errorBars,eT={},eS;eR[eQ+"Low"]=eN;eR[eQ+"High"]=X;eR.errorBars=eR.errorBars||[];eS=new ez(eN,X,eP,eM,Y,eU);eR.errorBars.push(eS);eR.append(eS);eT[eQ]=eN;eM.updateRange(eT,Y);eT[eQ]=X;eM.updateRange(eT,Y)},addValue:function(eQ,eM){var eN=this,eR,eP=eQ.x,eO=eQ.y,eU=eM.seriesIx,Y=this.options.series[eU],eT=this.seriesMissingValues(Y),eS=eN.seriesPoints[eU],X;if(!(eF(eP)&&eF(eO))){eQ=this.createMissingValue(eQ,eT)}if(eQ){eR=eN.createPoint(eQ,eM);if(eR){eG(eR,eM);eN.addErrorBar(eR,d9,eM);eN.addErrorBar(eR,d8,eM)}eN.updateRange(eQ,eM.series)}eN.points.push(eR);eS.push(eR)},seriesMissingValues:function(X){return X.missingValues},createMissingValue:dz,updateRange:function(eR,eM){var eN=this,eQ=eR.x,eO=eR.y,eS=eM.xAxis,X=eM.yAxis,Y=eN.xAxisRanges[eS],eP=eN.yAxisRanges[X];if(eF(eQ)){Y=eN.xAxisRanges[eS]=Y||{min:cS,max:dw};if(typeof(eQ)===l){eQ=cB(eQ)}Y.min=eD.min(Y.min,eQ);Y.max=eD.max(Y.max,eQ)}if(eF(eO)){eP=eN.yAxisRanges[X]=eP||{min:cS,max:dw};if(typeof(eO)===l){eO=cB(eO)}eP.min=eD.min(eP.min,eO);eP.max=eD.max(eP.max,eO)}},evalPointOptions:function(eM,eQ,Y){var eN=Y.series;var X=Y.seriesIx;var eP={defaults:eN._defaults,excluded:["data","tooltip","tempate","visual","toggle"]};var eO=this._evalSeries[X];if(!bP(eO)){this._evalSeries[X]=eO=bn(eM,{},eP,true)}if(eO){eM=aM({},eM);bn(eM,{value:eQ,series:eN,dataItem:Y.dataItem},eP)}return eM},pointType:function(){return d7},pointOptions:function(eM,X){var Y=this.seriesOptions[X];if(!Y){var eN=this.pointType().fn.defaults;this.seriesOptions[X]=Y=aM({},eN,{markers:{opacity:eM.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},eM)}return Y},createPoint:function(eQ,Y){var eP=this,eN=Y.series,X;var eO=this.pointOptions(eN,Y.seriesIx);var eM=Y.color||eN.color;eO=eP.evalPointOptions(eO,eQ,Y);if(cY.isFunction(eN.color)){eM=eO.color}X=new d7(eQ,eO);X.color=eM;eP.append(X);return X},seriesAxes:function(eM){var eP=this.plotArea,eN=eM.xAxis,eO=eN?eP.namedXAxes[eN]:eP.axisX,Y=eM.yAxis,X=Y?eP.namedYAxes[Y]:eP.axisY;if(!eO){throw new Error("Unable to locate X axis with name "+eN)}if(!X){throw new Error("Unable to locate Y axis with name "+Y)}return{x:eO,y:X}},reflow:function(eN){var eP=this,eR=eP.points,eM=0,X,eO,eQ=eP.options.clip,Y=!eP.options.clip;eP.traverseDataPoints(function(eU,eS){X=eR[eM++];eO=eP.seriesAxes(eS.series);var eW=eO.x.getSlot(eU.x,eU.x,Y),eV=eO.y.getSlot(eU.y,eU.y,Y),eT;if(X){if(eW&&eV){eT=eP.pointSlot(eW,eV);X.reflow(eT)}else{X.visible=false}}});eP.box=eN},pointSlot:function(Y,X){return new cL(Y.x1,X.y1,Y.x2,X.y2)},traverseDataPoints:function(eR){var eO=this,eT=eO.options,Y=eT.series,eU=eO.seriesPoints,eN,eV,eS,X,eQ,eP,eM;for(eV=0;eV<Y.length;eV++){eS=Y[eV];X=eU[eV];if(!X){eU[eV]=[]}for(eN=0;eN<eS.data.length;eN++){eQ=this._bindPoint(eS,eV,eN);eP=eQ.valueFields;eM=eQ.fields;eR(eP,aM({pointIx:eN,series:eS,seriesIx:eV,dataItem:eS.data[eN],owner:eO},eM))}}},_bindPoint:dZ.fn._bindPoint,formatPointValue:function(X,eM){var Y=X.value;return ca(eM,Y.x,Y.y)},animationPoints:function(){var Y=this.points;var eM=[];var X;for(X=0;X<Y.length;X++){if(Y[X].marker){eM.push(Y[X].marker)}}return eM}});aM(db.fn,c);var aS=db.extend({render:function(){var X=this;db.fn.render.call(X);X.renderSegments()},createSegment:function(eO,Y,X){var eN,eM=Y.style;if(eM===aW){eN=b2}else{eN=c0}return new eN(eO,Y,X)},animationPoints:function(){var X=db.fn.animationPoints.call(this);return X.concat(this._segments)},createMissingValue:function(eM,X){if(X===bX){var Y={x:eM.x,y:eM.y};if(!eF(Y.x)){Y.x=0}if(!eF(Y.y)){Y.y=0}return Y}}});aM(aS.fn,an);var U=db.extend({init:function(Y,X){this._maxSize=dw;db.fn.init.call(this,Y,X)},options:{tooltip:{format:"{3}"},labels:{format:"{3}"}},addValue:function(Y,X){if((Y.size!==null&&Y.size>=0)||X.series.negativeValues.visible){this._maxSize=eD.max(this._maxSize,eD.abs(Y.size));db.fn.addValue.call(this,Y,X)}},reflow:function(Y){var X=this;X.updateBubblesSize(Y);db.fn.reflow.call(X,Y)},pointType:function(){return dR},createPoint:function(eU,eR){var eS=this,eN=eR.series,X=eS.plotArea.options.seriesColors||[],eQ=eN.data.length,eO=eR.pointIx*(R/eQ),eM={delay:eO,duration:R-eO,type:bF},eT,eP;var Y=eR.color||eN.color;if(eU.size<0&&eN.negativeValues.visible){Y=bR(eN.negativeValues.color,Y)}eP=aM({labels:{animation:{delay:eO,duration:R-eO}}},this.pointOptions(eN,eR.seriesIx),{markers:{type:bt,border:eN.border,opacity:eN.opacity,animation:eM}});eP=eS.evalPointOptions(eP,eU,eR);if(cY.isFunction(eN.color)){Y=eP.color}eP.markers.background=Y;eT=new dR(eU,eP);eT.color=Y;eS.append(eT);return eT},updateBubblesSize:function(eU){var eZ=this,eQ=eZ.options,eV=eQ.series,e1=eD.min(eU.width(),eU.height()),e2,eN;for(e2=0;e2<eV.length;e2++){var eW=eV[e2],eX=eZ.seriesPoints[e2],eM=eW.minSize||eD.max(e1*0.02,10),eO=eW.maxSize||e1*0.2,X=eM/2,e5=eO/2,eS=eD.PI*X*X,eT=eD.PI*e5*e5,eR=eT-eS,Y=eR/eZ._maxSize;for(eN=0;eN<eX.length;eN++){var e3=eX[eN],e4=eD.abs(e3.value.size)*Y,eY=eD.sqrt((eS+e4)/eD.PI),eP=bR(e3.options.zIndex,0),e0=eP+(1-eY/e5);aM(e3.options,{zIndex:e0,markers:{size:eY*2,zIndex:e0},labels:{zIndex:e0+1}})}}},formatPointValue:function(X,eM){var Y=X.value;return ca(eM,Y.x,Y.y,Y.size,X.category)},createAnimation:dz,createVisual:dz});var bd=ed.extend({init:function(Y,X){ed.fn.init.call(this,X);this.value=Y},options:{border:{_brightness:0.8},line:{width:2},overlay:{gradient:aV},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{4:d}</th><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:true,label:{}}},reflow:function(Y){var eQ=this,eT=eQ.options,eN=eQ.owner,eO=eQ.value,eS=eN.seriesValueAxis(eT),eR=[],eP,eM,X;eM=eS.getSlot(eO.open,eO.close);X=eS.getSlot(eO.low,eO.high);eM.x1=X.x1=Y.x1;eM.x2=X.x2=Y.x2;eQ.realBody=eM;eP=X.center().x;eR.push([[eP,X.y1],[eP,eM.y1]]);eR.push([[eP,eM.y2],[eP,X.y2]]);eQ.lines=eR;eQ.box=X.clone().wrap(eM);if(!eQ._rendered){eQ._rendered=true;eQ.createNote()}eQ.reflowNote()},reflowNote:function(){var X=this;if(X.note){X.note.reflow(X.box)}},createVisual:function(){ed.fn.createVisual.call(this);this._mainVisual=this.mainVisual(this.options);this.visual.append(this._mainVisual);this.createOverlay()},mainVisual:function(X){var Y=new eL.Group();this.createBody(Y,X);this.createLines(Y,X);return Y},createBody:function(Y,eM){var X=eL.Path.fromRect(this.realBody.toRect(),{fill:{color:this.color,opacity:eM.opacity},stroke:null});if(eM.border.width>0){X.options.set("stroke",{color:this.getBorderColor(),width:eM.border.width,dashType:eM.border.dashType,opacity:bR(eM.border.opacity,eM.opacity)})}eJ(X);Y.append(X);if(aC(eM)){Y.append(this.createGradientOverlay(X,{baseColor:this.color},aM({},eM.overlay)))}},createLines:function(X,Y){this.drawLines(X,Y,this.lines,Y.line)},drawLines:function(eN,eP,eM,eO){if(!eM){return}var X={stroke:{color:eO.color||this.color,opacity:bR(eO.opacity,eP.opacity),width:eO.width,dashType:eO.dashType,lineCap:"butt"}};for(var eQ=0;eQ<eM.length;eQ++){var Y=eL.Path.fromPoints(eM[eQ],X);eJ(Y);eN.append(Y)}},getBorderColor:function(){var X=this,eM=X.options,Y=eM.border,eN=Y.color;if(!bP(eN)){eN=new H(X.color).brightness(Y._brightness).toHex()}return eN},createOverlay:function(){var X=eL.Path.fromRect(this.box.toRect(),{fill:{color:cb,opacity:0},stroke:null});this.visual.append(X)},createHighlight:function(){var X=this.options.highlight;var eM=this.color;this.color=X.color||this.color;var Y=this.mainVisual(aM({},this.options,{line:{color:this.getBorderColor()}},X));this.color=eM;return Y},highlightVisual:function(){return this._mainVisual},highlightVisualArgs:function(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}},tooltipAnchor:function(){var X=this,Y=X.box,eM=X.owner.pane.clipBox()||Y;return new d2(Y.x2+i,eD.max(Y.y1,eM.y1)+i)},formatValue:function(Y){var X=this;return X.owner.formatPointValue(X,Y)}});aM(bd.fn,q);aM(bd.fn,bS);var en=dZ.extend({options:{},reflowCategories:function(eO){var eM=this,Y=eM.children,eN=Y.length,X;for(X=0;X<eN;X++){Y[X].reflow(eO[X])}},addValue:function(eO,eR){var eT=this;var eQ=eR.categoryIx;var eM=eR.category;var eP=eR.series;var eZ=eR.seriesIx;var eY=eT.options;var eW=eO.valueFields;var eN=eT.children;var eS=eT.splitValue(eW);var eX=K(eS);var Y=eT.categoryPoints[eQ];var X=eP.data[eQ];var eV,eU;if(!Y){eT.categoryPoints[eQ]=Y=[]}if(eX){eV=eT.createPoint(eO,eR)}eU=eN[eQ];if(!eU){eU=new bi({vertical:eY.invertAxes,gap:eY.gap,spacing:eY.spacing});eT.append(eU)}if(eV){eT.updateRange(eW,eR);eU.append(eV);eV.categoryIx=eQ;eV.category=eM;eV.series=eP;eV.seriesIx=eZ;eV.owner=eT;eV.dataItem=X;eV.noteText=eO.fields.noteText}eT.points.push(eV);Y.push(eV)},pointType:function(){return bd},createPoint:function(eN,eR){var eS=this;var eQ=eR.categoryIx;var Y=eR.category;var eO=eR.series;var eV=eR.seriesIx;var eU=eN.valueFields;var eP=aM({},eO);var X=eS.pointType();var eM=eN.fields.color||eO.color;eP=eS.evalPointOptions(eP,eU,Y,eQ,eO,eV);if(eO.type==ad){if(eU.open>eU.close){eM=eN.fields.downColor||eO.downColor||eO.color}}if(cY.isFunction(eO.color)){eM=eP.color}var eT=new X(eU,eP);eT.color=eM;return eT},splitValue:function(X){return[X.low,X.open,X.close,X.high]},updateRange:function(eN,X){var eM=this,eP=X.series.axis,Y=eM.valueAxisRanges[eP],eO=eM.splitValue(eN);Y=eM.valueAxisRanges[eP]=Y||{min:cS,max:dw};Y=eM.valueAxisRanges[eP]={min:eD.min.apply(eD,eO.concat([Y.min])),max:eD.max.apply(eD,eO.concat([Y.max]))}},formatPointValue:function(X,eM){var Y=X.value;return ca(eM,Y.open,Y.high,Y.low,Y.close,X.category)},animationPoints:function(){return this.points}});aM(en.fn,c);var bz=bd.extend({reflow:function(eM){var eS=this,eW=eS.options,eP=eS.owner,eR=eS.value,eU=eP.seriesValueAxis(eW),X=[],eT=[],eV=[],eQ,eN,eO,Y;Y=eU.getSlot(eR.low,eR.high);eN=eU.getSlot(eR.open,eR.open);eO=eU.getSlot(eR.close,eR.close);eN.x1=eO.x1=Y.x1=eM.x1;eN.x2=eO.x2=Y.x2=eM.x2;eQ=Y.center().x;X.push([eN.x1,eN.y1]);X.push([eQ,eN.y1]);eT.push([eQ,eO.y1]);eT.push([eO.x2,eO.y1]);eV.push([eQ,Y.y1]);eV.push([eQ,Y.y2]);eS.lines=[X,eT,eV];eS.box=Y.clone().wrap(eN.clone().wrap(eO));eS.reflowNote()},createBody:es.noop});var g=en.extend({pointType:function(){return bz}});var eg=en.extend({addValue:function(eO,eR){var eT=this;var eQ=eR.categoryIx;var eM=eR.category;var eP=eR.series;var eZ=eR.seriesIx;var eY=eT.options;var eN=eT.children;var eW=eO.valueFields;var eS=eT.splitValue(eW);var eX=K(eS);var Y=eT.categoryPoints[eQ];var X=eP.data[eQ];var eV,eU;if(!Y){eT.categoryPoints[eQ]=Y=[]}if(eX){eV=eT.createPoint(eO,eR)}eU=eN[eQ];if(!eU){eU=new bi({vertical:eY.invertAxes,gap:eY.gap,spacing:eY.spacing});eT.append(eU)}if(eV){eT.updateRange(eW,eR);eU.append(eV);eV.categoryIx=eQ;eV.category=eM;eV.series=eP;eV.seriesIx=eZ;eV.owner=eT;eV.dataItem=X}eT.points.push(eV);Y.push(eV)},pointType:function(){return bK},splitValue:function(X){return[X.lower,X.q1,X.median,X.q3,X.upper]},updateRange:function(eN,X){var eM=this,eP=X.series.axis,Y=eM.valueAxisRanges[eP],eO=eM.splitValue(eN).concat(eM.filterOutliers(eN.outliers));if(bP(eN.mean)){eO=eO.concat(eN.mean)}Y=eM.valueAxisRanges[eP]=Y||{min:cS,max:dw};Y=eM.valueAxisRanges[eP]={min:eD.min.apply(eD,eO.concat([Y.min])),max:eD.max.apply(eD,eO.concat([Y.max]))}},formatPointValue:function(X,eM){var Y=X.value;return ca(eM,Y.lower,Y.q1,Y.median,Y.q3,Y.upper,Y.mean,X.category)},filterOutliers:function(Y){var eO=(Y||[]).length,X=[],eM,eN;for(eM=0;eM<eO;eM++){eN=Y[eM];if(bP(eN)){ag(X,eN)}}return X}});var bK=bd.extend({init:function(eM,Y){var X=this;ed.fn.init.call(X,Y);X.value=eM;X.createNote()},options:{border:{_brightness:0.8},line:{width:2},mean:{width:2,dashType:"dash"},overlay:{gradient:aV},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{6:d}</th><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:true,label:{}},outliers:{visible:true,size:dN,type:ew,background:cb,border:{width:2,opacity:1},opacity:0},extremes:{visible:true,size:dN,type:bt,background:cb,border:{width:2,opacity:1},opacity:0}},reflow:function(Y){var eS=this,eU=eS.options,eO=eS.owner,eQ=eS.value,eT=eO.seriesValueAxis(eU),eR,eN,X,eP,eM;X=eT.getSlot(eQ.q1,eQ.q3);eS.boxSlot=X;eN=eT.getSlot(eQ.lower,eQ.upper);eP=eT.getSlot(eQ.median);X.x1=eN.x1=Y.x1;X.x2=eN.x2=Y.x2;eS.realBody=X;if(eQ.mean){eM=eT.getSlot(eQ.mean);eS.meanPoints=[[[Y.x1,eM.y1],[Y.x2,eM.y1]]]}eR=eN.center().x;eS.whiskerPoints=[[[eR-5,eN.y1],[eR+5,eN.y1],[eR,eN.y1],[eR,X.y1]],[[eR-5,eN.y2],[eR+5,eN.y2],[eR,eN.y2],[eR,X.y2]]];eS.medianPoints=[[[Y.x1,eP.y1],[Y.x2,eP.y1]]];eS.box=eN.clone().wrap(X);eS.reflowNote()},renderOutliers:function(eW){var eU=this,eN=eW.markers||{},eT=eU.value,eS=eT.outliers||[],eV=eU.owner.seriesValueAxis(eW),eR=eD.abs(eT.q3-eT.q1)*3,Y,eM,eQ,eP,eO;var X=[];for(eO=0;eO<eS.length;eO++){eP=eS[eO];if(eP<eT.q3+eR&&eP>eT.q1-eR){eN=eW.outliers}else{eN=eW.extremes}Y=aM({},eN.border);if(!bP(Y.color)){if(bP(eU.color)){Y.color=eU.color}else{Y.color=new H(eN.background).brightness(ee).toHex()}}eQ=new v({type:eN.type,width:eN.size,height:eN.size,rotation:eN.rotation,background:eN.background,border:Y,opacity:eN.opacity});eQ.value=eP;X.push(eQ)}this.reflowOutliers(X);return X},reflowOutliers:function(eN){var eP=this.owner.seriesValueAxis(this.options);var eM=this.box.center().x;for(var Y=0;Y<eN.length;Y++){var X=eN[Y].value;var eO=eP.getSlot(X).move(eM);this.box=this.box.wrap(eO);eN[Y].reflow(eO)}},mainVisual:function(X){var eO=bd.fn.mainVisual.call(this,X);var eN=this.renderOutliers(X);for(var eM=0;eM<eN.length;eM++){var Y=eN[eM].getElement();if(Y){eO.append(Y)}}return eO},createLines:function(X,Y){this.drawLines(X,Y,this.whiskerPoints,Y.line);this.drawLines(X,Y,this.medianPoints,Y.median);this.drawLines(X,Y,this.meanPoints,Y.mean)},getBorderColor:function(){if(this.color){return this.color}return bd.getBorderColor.call(this)}});aM(bK.fn,q);var dO=ed.extend({init:function(eN,Y,X){var eM=this;eM.value=eN;eM.sector=Y;ed.fn.init.call(eM,X)},options:{color:cb,overlay:{gradient:aH},border:{width:0.5},labels:{visible:false,distance:35,font:a6,margin:bA(0.5),align:bt,zIndex:1,position:aY},animation:{type:di},highlight:{visible:true,border:{width:1}},visible:true},render:function(){var eN=this,X=eN.options,eO=X.labels,eM=eN.value,Y;if(eN._rendered||eN.visible===false){return}else{eN._rendered=true}if(eO.template){Y=m(eO.template);eM=Y({dataItem:eN.dataItem,category:eN.category,value:eN.value,series:eN.series,percentage:eN.percentage})}else{if(eO.format){eM=ca(eO.format,eM)}}if(eO.visible&&eM){eN.label=new a5(eM,aM({},eO,{align:eB,vAlign:"",animation:{type:d6,delay:eN.animationDelay}}));eN.append(eN.label)}},reflow:function(X){var Y=this;Y.render();Y.box=X;Y.reflowLabel()},reflowLabel:function(){var eQ=this,eO=eQ.sector.clone(),eU=eQ.options,eT=eQ.label,eM=eU.labels,X=eM.distance,eN=eO.middle(),eR,Y,eS,eP;if(eT){eP=eT.box.height();eS=eT.box.width();if(eM.position==eB){eO.r=eD.abs((eO.r-eP)/2)+eP;eR=eO.point(eN);eT.reflow(cL(eR.x,eR.y-eP/2,eR.x,eR.y))}else{if(eM.position==D){eO.r=eO.r-eP/2;eR=eO.point(eN);eT.reflow(cL(eR.x,eR.y-eP/2,eR.x,eR.y))}else{eR=eO.clone().expand(X).point(eN);if(eR.x>=eO.c.x){Y=eR.x+eS;eT.orientation=ev}else{Y=eR.x-eS;eT.orientation=da}eT.reflow(cL(Y,eR.y-eP,eR.x,eR.y))}}}},createVisual:function(){var eP=this,eM=eP.sector,eS=eP.options,eQ=eS.border||{},eN=eQ.width>0?{stroke:{color:eQ.color,width:eQ.width,opacity:eQ.opacity,dashType:eQ.dashType}}:{},Y=[],eO=eS.color,eR={color:eO,opacity:eS.opacity},X;ed.fn.createVisual.call(this);if(eP.value){X=eP.createSegment(eM,aM({fill:eR,stroke:{opacity:eS.opacity},zIndex:eS.zIndex},eN));this.visual.append(X);if(aC(eS)){this.visual.append(this.createGradientOverlay(X,{baseColor:eO,fallbackFill:eR},aM({center:[eM.c.x,eM.c.y],innerRadius:eM.ir,radius:eM.r,userSpace:true},eS.overlay)))}}},createSegment:function(Y,X){if(X.singleSegment){return new eL.Circle(new aw.Circle(new aw.Point(Y.c.x,Y.c.y),Y.r),X)}else{return d5.current.createRing(Y,X)}},createAnimation:function(){var Y=this.options;var X=this.sector.c;aM(Y,{animation:{center:[X.x,X.y],delay:this.animationDelay}});ed.fn.createAnimation.call(this)},createHighlight:function(eM){var eN=this,X=eN.options.highlight||{},Y=X.border||{};return eN.createSegment(eN.sector,aM({},eM,{fill:{color:X.color,opacity:X.opacity},stroke:{opacity:Y.opacity,width:Y.width,color:Y.color}}))},highlightVisual:function(){return this.visual},highlightVisualArgs:function(){var X=this.sector;return{options:this.options,radius:X.r,innerRadius:X.ir,center:new aw.Point(X.c.x,X.c.y),startAngle:X.startAngle,endAngle:X.angle+X.startAngle,visual:this.visual}},tooltipAnchor:function(eM,Y){var X=this,eN=X.sector.adjacentBox(i,eM,Y);return new d2(eN.x1,eN.y1)},formatValue:function(Y){var X=this;return X.owner.formatPointValue(X,Y)}});aM(dO.fn,q);var eI={createLegendItem:function(eP,eR,eW){var eN=this,eV=eN.options.legend||{},X=eV.labels||{},eQ=eV.inactiveItems||{},eM=eQ.labels||{},eU,eT,Y,eS,eO;if(eW&&eW.visibleInLegend!==false){eO=eW.visible!==false;eU=eW.category||"";eT=eO?X.template:(eM.template||X.template);if(eT){eU=m(eT)({text:eU,series:eW.series,dataItem:eW.dataItem,percentage:eW.percentage,value:eP})}if(eO){eS={};Y=eR.color}else{eS={color:eM.color,font:eM.font};Y=(eQ.markers||{}).color}if(eU){eN.legendItems.push({pointIndex:eW.index,text:eU,series:eW.series,markerColor:Y,labels:eS})}}}};var b5=ed.extend({init:function(eM,X){var Y=this;ed.fn.init.call(Y,X);Y.plotArea=eM;Y.points=[];Y.legendItems=[];Y.render()},options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4},inactiveItems:{markers:{},labels:{}}},render:function(){var X=this;X.traverseDataPoints(bb(X.addValue,X))},traverseDataPoints:function(eN){var eT=this,eM=eT.options,eP=eT.plotArea.options.seriesColors||[],eY=eP.length,eQ=eM.series,e0=eQ.length,eR,e1,eU,eV,e2,e3,Y,eW,eO,eX,e4,eS,eZ,X=0;for(eV=0;eV<e0;eV++){eR=eQ[eV];e3=eR.data;e4=bV(eR);Y=360/e4;if(bP(eR.startAngle)){eS=eR.startAngle}else{eS=eM.startAngle}if(eV!=e0-1){if(eR.labels.position==aY){eR.labels.position=eB}}for(eZ=0;eZ<e3.length;eZ++){e1=bB.current.bindPoint(eR,eZ);eW=e1.valueFields.value;eO=eD.abs(eW);eU=e1.fields;e2=eO*Y;eX=e3.length!=1&&!!eU.explode;if(!cQ(eR.color)){eR.color=eU.color||eP[eZ%eY]}eN(eW,new ej(null,0,0,eS,e2),{owner:eT,category:eU.category||"",index:X,series:eR,seriesIx:eV,dataItem:e3[eZ],percentage:e4!==0?eO/e4:0,explode:eX,visibleInLegend:eU.visibleInLegend,visible:eU.visible,zIndex:e0-eV,animationDelay:eT.animationDelay(eZ,eV,e0)});if(e1.fields.visible!==false){eS+=e2}X++}X=0}},evalSegmentOptions:function(Y,eN,X){var eM=X.series;bn(Y,{value:eN,series:eM,dataItem:X.dataItem,category:X.category,percentage:X.percentage},{defaults:eM._defaults,excluded:["data","template","visual","toggle"]})},addValue:function(eP,eM,X){var eN=this,eO;var Y=aM({},X.series,{index:X.index});eN.evalSegmentOptions(Y,eP,X);eN.createLegendItem(eP,Y,X);if(X.visible===false){return}eO=new dO(eP,eM,Y);eG(eO,X);eN.append(eO);eN.points.push(eO)},reflow:function(eP){var eW=this,Y=eW.options,eS=eP.clone(),e6=5,eU=eD.min(eS.width(),eS.height()),e9=eU/2,eM=eU-eU*0.85,eT=bR(Y.padding,eM),eN=cL(eS.x1,eS.y1,eS.x1+eU,eS.y1+eU),eO=eN.center(),eZ=eW.seriesConfigs||[],eY=eS.center(),e4=eW.points,eQ=e4.length,e5=Y.series.length,eX=[],e8=[],e0,e3,eR,X,e1,eV,e2,e7;eT=eT>e9-e6?e9-e6:eT;eN.translate(eY.x-eO.x,eY.y-eO.y);eV=e9-eT;e7=d2(eV+eN.x1+eT,eV+eN.y1+eT);for(e2=0;e2<eQ;e2++){X=e4[e2];e1=X.sector;e1.r=eV;e1.c=e7;e3=X.seriesIx;if(eZ.length){e0=eZ[e3];e1.ir=e0.ir;e1.r=e0.r}if(e3==e5-1&&X.explode){e1.c=e1.clone().radius(e1.r*0.15).point(e1.middle())}X.reflow(eN);eR=X.label;if(eR){if(eR.options.position===aY){if(e3==e5-1){if(eR.orientation===ev){e8.push(eR)}else{eX.push(eR)}}}}}if(eX.length>0){eX.sort(eW.labelComparator(true));eW.leftLabelsReflow(eX)}if(e8.length>0){e8.sort(eW.labelComparator(false));eW.rightLabelsReflow(e8)}eW.box=eN},leftLabelsReflow:function(eM){var Y=this,X=Y.distanceBetweenLabels(eM);Y.distributeLabels(X,eM)},rightLabelsReflow:function(eM){var Y=this,X=Y.distanceBetweenLabels(eM);Y.distributeLabels(X,eM)},distanceBetweenLabels:function(eP){var eS=this,eV=eS.points,eQ=eV[eV.length-1],eM=eQ.sector,eU=eP[0].box,eR=eP.length-1,eO=eM.r+eQ.options.labels.distance,eT=[],Y,X,eN;X=cC(eU.y1-(eM.c.y-eO-eU.height()-eU.height()/2));eT.push(X);for(eN=0;eN<eR;eN++){eU=eP[eN].box;Y=eP[eN+1].box;X=cC(Y.y1-eU.y2);eT.push(X)}X=cC(eM.c.y+eO-eP[eR].box.y2-eP[eR].box.height()/2);eT.push(X);return eT},distributeLabels:function(X,eR){var eO=this,eP=X.length,eN,eQ,eM,Y;for(Y=0;Y<eP;Y++){eQ=eM=Y;eN=-X[Y];while(eN>0&&(eQ>=0||eM<eP)){eN=eO._takeDistance(X,Y,--eQ,eN);eN=eO._takeDistance(X,Y,++eM,eN)}}eO.reflowLabels(X,eR)},_takeDistance:function(Y,eM,X,eN){if(Y[X]>0){var eO=eD.min(Y[X],eN);eN-=eO;Y[X]-=eO;Y[eM]+=eO}return eN},reflowLabels:function(eT,eQ){var eS=this,eV=eS.points,eR=eV[eV.length-1],eM=eR.sector,Y=eQ.length,eP=eR.options.labels,X=eP.distance,eW=eM.c.y-(eM.r+X)-eQ[0].box.height(),eU,eX,eO,eN;eT[0]+=2;for(eN=0;eN<Y;eN++){eU=eQ[eN];eW+=eT[eN];eO=eU.box;eX=eS.hAlignLabel(eO.x2,eM.clone().expand(X),eW,eW+eO.height(),eU.orientation==ev);if(eU.orientation==ev){if(eP.align!==bt){eX=eM.r+eM.c.x+X}eU.reflow(cL(eX+eO.width(),eW,eX,eW))}else{if(eP.align!==bt){eX=eM.c.x-eM.r-X}eU.reflow(cL(eX-eO.width(),eW,eX,eW))}eW+=eO.height()}},createVisual:function(){var eT=this,eN=eT.options,eW=eN.connectors,eZ=eT.points,eR,eP=eZ.length,e2=4,eY,e1,X,eU,eQ,e0;ed.fn.createVisual.call(this);this._connectorLines=[];for(e0=0;e0<eP;e0++){X=eZ[e0];eY=X.sector;e1=eY.middle();eQ=X.label;eU={seriesId:X.seriesIx};if(eQ){eR=new eL.Path({stroke:{color:eW.color,width:eW.width},animation:{type:d6,delay:X.animationDelay}});if(eQ.options.position===aY&&X.value!==0){var eS=eQ.box,eV=eY.c,eO=eY.point(e1),e3=d2(eS.x1,eS.center().y),eX,eM,Y;eO=eY.clone().expand(eW.padding).point(e1);eR.moveTo(eO.x,eO.y);if(eQ.orientation==ev){eM=d2(eS.x1-eW.padding,eS.center().y);Y=bc(eV,eO,e3,eM);e3=d2(eM.x-e2,eM.y);Y=Y||e3;Y.x=eD.min(Y.x,e3.x);if(eT.pointInCircle(Y,eY.c,eY.r+e2)||Y.x<eY.c.x){eX=eY.c.x+eY.r+e2;if(X.options.labels.align!==bI){if(eX<e3.x){eR.lineTo(eX,eO.y)}else{eR.lineTo(eO.x+e2*2,eO.y)}}else{eR.lineTo(eX,eO.y)}eR.lineTo(e3.x,eM.y)}else{Y.y=eM.y;eR.lineTo(Y.x,Y.y)}}else{eM=d2(eS.x2+eW.padding,eS.center().y);Y=bc(eV,eO,e3,eM);e3=d2(eM.x+e2,eM.y);Y=Y||e3;Y.x=eD.max(Y.x,e3.x);if(eT.pointInCircle(Y,eY.c,eY.r+e2)||Y.x>eY.c.x){eX=eY.c.x-eY.r-e2;if(X.options.labels.align!==bI){if(eX>e3.x){eR.lineTo(eX,eO.y)}else{eR.lineTo(eO.x-e2*2,eO.y)}}else{eR.lineTo(eX,eO.y)}eR.lineTo(e3.x,eM.y)}else{Y.y=eM.y;eR.lineTo(Y.x,Y.y)}}eR.lineTo(eM.x,eM.y);this._connectorLines.push(eR);this.visual.append(eR)}}}},labelComparator:function(X){X=(X)?-1:1;return function(eM,Y){eM=(eM.parent.sector.middle()+270)%360;Y=(Y.parent.sector.middle()+270)%360;return(eM-Y)*X}},hAlignLabel:function(eR,eM,eQ,eO,eP){var eN=eM.c.x,Y=eM.c.y,X=eM.r,eS=eD.min(eD.abs(Y-eQ),eD.abs(Y-eO));if(eS>X){return eR}else{return eN+eD.sqrt((X*X)-(eS*eS))*(eP?1:-1)}},pointInCircle:function(X,eM,Y){return au(eM.x-X.x)+au(eM.y-X.y)<au(Y)},formatPointValue:function(X,Y){return ca(Y,X.value)},animationDelay:function(X){return X*em}});aM(b5.fn,eI);var cU=dO.extend({options:{overlay:{gradient:dl},labels:{position:eB},animation:{type:di}},reflowLabel:function(){var eO=this,eN=eO.sector.clone(),Y=eO.options,X=eO.label,eR=Y.labels,eM,eQ=eN.middle(),eP;if(X){eP=X.box.height();if(eR.position==eB){eN.r-=(eN.r-eN.ir)/2;eM=eN.point(eQ);X.reflow(new cL(eM.x,eM.y-eP/2,eM.x,eM.y))}else{dO.fn.reflowLabel.call(eO)}}},createSegment:function(Y,X){return d5.current.createRing(Y,X)}});aM(cU.fn,q);var ey=b5.extend({options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},addValue:function(eP,eM,X){var eN=this,eO;var Y=aM({},X.series,{index:X.index});eN.evalSegmentOptions(Y,eP,X);eN.createLegendItem(eP,Y,X);if(!eP||X.visible===false){return}eO=new cU(eP,eM,Y);eG(eO,X);eN.append(eO);eN.points.push(eO)},reflow:function(eQ){var eY=this,eN=eY.options,eR=eQ.clone(),e3=5,eW=eD.min(eR.width(),eR.height()),e4=eW/2,eO=eW-eW*0.85,eV=bR(eN.padding,eO),eS=eN.series,eT,e2=eS.length,X=0,eM,eU,e0,eZ=0,e1,eX,eP=0,Y=0;eY.seriesConfigs=[];eV=eV>e4-e3?e4-e3:eV;eU=e4-eV;for(e1=0;e1<e2;e1++){eT=eS[e1];if(e1===0){if(bP(eT.holeSize)){eM=eT.holeSize;eU-=eT.holeSize}}if(bP(eT.size)){eU-=eT.size}else{X++}if(bP(eT.margin)&&e1!=e2-1){eU-=eT.margin}}if(!bP(eM)){Y=(e4-eV)/(e2+0.75);eM=Y*0.75;eU-=eM}eP=eM;for(e1=0;e1<e2;e1++){eT=eS[e1];e0=bR(eT.size,eU/X);eP+=eZ;eX=eP+e0;eY.seriesConfigs.push({ir:eP,r:eX});eZ=eT.margin||0;eP=eX}b5.fn.reflow.call(eY,eQ)},animationDelay:function(eM,X,Y){return eM*el+(R*(X+1)/(Y+1))}});var bk=dv.extend({render:function(){dv.fn.render.call(this);this.createSegments()},traverseDataPoints:function(eW){var eM=this.options.series;var eO=this.categoryAxis.options.categories||[];var eS=dr(eM);var eR=!this.options.invertAxes;for(var eY=0;eY<eM.length;eY++){var eX=eM[eY];var eQ=0;var X=0;for(var eN=0;eN<eS;eN++){var Y=bB.current.bindPoint(eX,eN);var eV=Y.valueFields.value;var eP=Y.fields.summary;var eU=eQ;var eT;if(eP){if(eP.toLowerCase()==="total"){Y.valueFields.value=eQ;eU=0;eT=eQ}else{Y.valueFields.value=X;eT=eU-X;X=0}}else{if(t(eV)){X+=eV;eQ+=eV;eT=eQ}}eW(Y,{category:eO[eN],categoryIx:eN,series:eX,seriesIx:eY,total:eQ,runningTotal:X,from:eU,to:eT,isVertical:eR})}}},updateRange:function(Y,X){dv.fn.updateRange.call(this,{value:X.to},X)},aboveAxis:function(X){return X.value>=0},plotRange:function(X){return[X.from,X.to]},createSegments:function(){var X=this.options.series;var eS=this.seriesPoints;var Y=this.segments=[];for(var eT=0;eT<X.length;eT++){var eR=X[eT];var eQ=eS[eT];if(eQ){var eO;for(var eN=0;eN<eQ.length;eN++){var eP=eQ[eN];if(eP&&eO){var eM=new dD(eO,eP,eR);Y.push(eM);this.append(eM)}eO=eP}}}}});var dD=ed.extend({init:function(eN,eM,X){var Y=this;ed.fn.init.call(Y);Y.from=eN;Y.to=eM;Y.series=X},options:{animation:{type:d6,delay:R}},linePoints:function(){var eN=[];var eP=this.from;var Y=eP.box;var eM=this.to.box;if(eP.isVertical){var eO=eP.aboveAxis?Y.y1:Y.y2;eN.push([Y.x1,eO],[eM.x2,eO])}else{var X=eP.aboveAxis?Y.x2:Y.x1;eN.push([X,Y.y1],[X,eM.y2])}return eN},createVisual:function(){ed.fn.createVisual.call(this);var Y=this.options;var X=this.series.line||{};var eM=eL.Path.fromPoints(this.linePoints(),{stroke:{color:X.color,width:X.width,opacity:X.opacity,dashType:X.dashType}});eJ(eM);this.visual.append(eM)}});var cD=b.extend({init:function(X){var Y=this;b.fn.init.call(Y,X);X=Y.options;Y.id=cY.guid();Y.createTitle();Y.content=new ed();Y.chartContainer=new dT({},Y);Y.append(Y.content);Y.axes=[];Y.charts=[]},options:{zIndex:-1,shrinkToFit:true,title:{align:da},visible:true},createTitle:function(){var Y=this;var X=Y.options.title;if(typeof X===e){X=aM({},X,{align:X.position,position:b3})}Y.title=x.buildTitle(X,Y,cD.fn.options.title)},appendAxis:function(X){var Y=this;Y.content.append(X);Y.axes.push(X);X.pane=Y},appendChart:function(X){var Y=this;if(Y.chartContainer.parent!==Y.content){Y.content.append(Y.chartContainer)}Y.charts.push(X);Y.chartContainer.append(X);X.pane=Y},empty:function(){var eM=this,Y=eM.parent,X;if(Y){for(X=0;X<eM.axes.length;X++){Y.removeAxis(eM.axes[X])}for(X=0;X<eM.charts.length;X++){Y.removeChart(eM.charts[X])}}eM.axes=[];eM.charts=[];eM.content.destroy();eM.content.children=[];eM.chartContainer.children=[]},reflow:function(X){var eM=this;var Y;if(dW(eM.children)===eM.content){Y=eM.children.pop()}b.fn.reflow.call(eM,X);if(Y){eM.children.push(Y)}if(eM.title){eM.contentBox.y1+=eM.title.box.height()}},visualStyle:function(){var X=b.fn.visualStyle.call(this);X.zIndex=-10;return X},renderComplete:function(){if(this.options.visible){this.createGridLines()}},stackRoot:aa,clipRoot:aa,createGridLines:function(){var Y=this,eU=Y.axes,eP=eU.concat(Y.parent.axes),X=[],eT=[],eS,eR,eQ,eN,eO,eM;for(eR=0;eR<eU.length;eR++){eN=eU[eR];eO=eN.options.vertical;eS=eO?X:eT;for(eQ=0;eQ<eP.length;eQ++){if(eS.length===0){eM=eP[eQ];if(eO!==eM.options.vertical){b7(eS,eN.createGridLines(eM))}}}}},refresh:function(){this.visual.clear();this.content.parent=null;this.content.createGradient=es.proxy(this.createGradient,this);this.content.renderVisual();this.content.parent=this;if(this.title){this.visual.append(this.title.visual)}this.visual.append(this.content.visual);this.renderComplete()},clipBox:function(){return this.chartContainer.clipBox}});var dT=ed.extend({init:function(Y,eM){var X=this;ed.fn.init.call(X,Y);X.pane=eM},shouldClip:function(){var X=this,eM=X.children,eN=eM.length,Y;for(Y=0;Y<eN;Y++){if(eM[Y].options.clip===true){return true}}return false},_clipBox:function(){var Y=this,eN=Y.pane,eQ=eN.axes,eM=eQ.length,X=eN.box.clone(),eR,eS,eP,eO;for(eS=0;eS<eM;eS++){eO=eQ[eS];eR=eO.options.vertical?d8:d9;eP=eO.lineBox();X[eR+1]=eP[eR+1];X[eR+2]=eP[eR+2]}return X},createVisual:function(){this.visual=new eL.Group({zIndex:0});if(this.shouldClip()){var eM=this.clipBox=this._clipBox();var X=eM.toRect();var Y=eL.Path.fromRect(X);this.visual.clip(Y);this.unclipLabels()}},stackRoot:aa,unclipLabels:function(){var Y=this,eQ=Y.children,eR=Y.clipBox,eO,X,eN,eM,eP;for(eN=0;eN<eQ.length;eN++){eO=eQ[eN].points||{};eP=eO.length;for(eM=0;eM<eP;eM++){X=eO[eM];if(X&&X.label&&X.label.options.visible){if(X.box.overlaps(eR)){if(X.label.alignToClipBox){X.label.alignToClipBox(eR)}X.label.options.noclip=true}}}}},destroy:function(){ed.fn.destroy.call(this);delete this.parent}});var c6=ed.extend({init:function(Y,X){var eM=this;ed.fn.init.call(eM,X);eM.series=Y;eM.initSeries();eM.charts=[];eM.options.legend.items=[];eM.axes=[];eM.crosshairs=[];eM.createPanes();eM.render();eM.createCrosshairs()},options:{series:[],plotArea:{margin:{}},background:"",border:{color:aX,width:0},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}},initSeries:function(){var eM=this.series,Y,X;for(Y=0;Y<eM.length;Y++){X=eM[Y];X.index=Y}},createPanes:function(){var eM=this,Y=[],eP=eM.options.panes||[],X,eO=eD.max(eP.length,1),eN;for(X=0;X<eO;X++){eN=new cD(eP[X]);eN.paneIndex=X;Y.push(eN);eM.append(eN)}eM.panes=Y},createCrosshairs:function(eO){var eP=this,eM,Y,eQ,eN,X;eO=eO||eP.panes;for(eM=0;eM<eO.length;eM++){eQ=eO[eM];for(Y=0;Y<eQ.axes.length;Y++){eN=eQ.axes[Y];if(eN.options.crosshair&&eN.options.crosshair.visible){X=new dk(eN,eN.options.crosshair);eP.crosshairs.push(X);eQ.content.append(X)}}}},removeCrosshairs:function(eP){var eN=this,X=eN.crosshairs,eO=eP.axes,eM,Y;for(eM=X.length-1;eM>=0;eM--){for(Y=0;Y<eO.length;Y++){if(X[eM].axis===eO[Y]){X.splice(eM,1);break}}}},hideCrosshairs:function(){var Y=this.crosshairs;for(var X=0;X<Y.length;X++){Y[X].hide()}},findPane:function(Y){var eO=this,eN=eO.panes,eM,X;for(eM=0;eM<eN.length;eM++){if(eN[eM].options.name===Y){X=eN[eM];break}}return X||eN[0]},findPointPane:function(Y){var eO=this,eN=eO.panes,eM,X;for(eM=0;eM<eN.length;eM++){if(eN[eM].box.containsPoint(Y)){X=eN[eM];break}}return X},appendAxis:function(X){var Y=this,eM=Y.findPane(X.options.pane);eM.appendAxis(X);Y.axes.push(X);X.plotArea=Y},removeAxis:function(eO){var eN=this,X,Y,eM=[];for(X=0;X<eN.axes.length;X++){Y=eN.axes[X];if(eO!==Y){eM.push(Y)}else{Y.destroy()}}eN.axes=eM},appendChart:function(X,eM){var Y=this;Y.charts.push(X);if(eM){eM.appendChart(X)}else{Y.append(X)}},removeChart:function(eN){var eO=this,X,eM,Y=[];for(X=0;X<eO.charts.length;X++){eM=eO.charts[X];if(eM!==eN){Y.push(eM)}else{eM.destroy()}}eO.charts=Y},addToLegend:function(eP){var eS=eP.length,eO=[],eQ,eZ,eY,eV=this.options.legend,eR=eV.labels||{},eU=eV.inactiveItems||{},eT=eU.labels||{},Y,eX,eN,X,eM,eW;for(eQ=0;eQ<eS;eQ++){eZ=eP[eQ];eM=eZ.visible!==false;if(eZ.visibleInLegend===false){continue}eY=eZ.name||"";eW=eM?eR.template:(eT.template||eR.template);if(eW){eY=m(eW)({text:eY,series:eZ})}Y=eZ.color;X=eZ._defaults;if(cQ(Y)&&X){Y=X.color}if(eM){eX={};eN=Y}else{eX={color:eT.color,font:eT.font};eN=eU.markers.color}if(eY){eO.push({text:eY,labels:eX,markerColor:eN,series:eZ,active:eM})}}b7(eV.items,eO)},groupAxes:function(eN){var eQ=[],eM=[],eP,Y,X,eO;for(X=0;X<eN.length;X++){eP=eN[X].axes;for(eO=0;eO<eP.length;eO++){Y=eP[eO];if(Y.options.vertical){eM.push(Y)}else{eQ.push(Y)}}}return{x:eQ,y:eM,any:eQ.concat(eM)}},groupSeriesByPane:function(){var eO=this,eM=eO.series,eN={},Y,eP,X;for(Y=0;Y<eM.length;Y++){X=eM[Y];eP=eO.seriesPaneName(X);if(eN[eP]){eN[eP].push(X)}else{eN[eP]=[X]}}return eN},filterVisibleSeries:function(eN){var eM,Y,X=[];for(eM=0;eM<eN.length;eM++){Y=eN[eM];if(Y.visible!==false){X.push(Y)}}return X},reflow:function(X){var eO=this,Y=eO.options.plotArea,eM=eO.panes,eN=bA(Y.margin);eO.box=X.clone().unpad(eN);eO.reflowPanes();eO.reflowAxes(eM);eO.reflowCharts(eM)},redraw:function(Y){var eM=this,X;Y=[].concat(Y);this.initSeries();for(X=0;X<Y.length;X++){eM.removeCrosshairs(Y[X]);Y[X].empty()}eM.render(Y);eM.reflowAxes(eM.panes);eM.reflowCharts(Y);eM.createCrosshairs(Y);for(X=0;X<Y.length;X++){Y[X].refresh()}},axisCrossingValues:function(eO,eN){var Y=eO.options,eP=[].concat(Y.axisCrossingValues||Y.axisCrossingValue),eQ=eN.length-eP.length,X=eP[0]||0,eM;for(eM=0;eM<eQ;eM++){eP.push(X)}return eP},alignAxisTo:function(Y,eO,eQ,eS){var eR=Y.getSlot(eQ,eQ,true),eM=Y.options.reverse?2:1,X=eO.getSlot(eS,eS,true),eN=eO.options.reverse?2:1,eP=Y.box.translate(X[d9+eN]-eR[d9+eM],X[d8+eN]-eR[d8+eM]);if(Y.pane!==eO.pane){eP.translate(0,Y.pane.box.y1-eO.pane.box.y1)}Y.reflow(eP)},alignAxes:function(eW,eV){var X=this,eY=eW[0],eM=eV[0],eO=X.axisCrossingValues(eY,eV),Y=X.axisCrossingValues(eM,eW),eS={},eX={},eR={},eQ={},eN,eU,eP,eT;for(eT=0;eT<eV.length;eT++){eP=eV[eT];eN=eP.pane;eU=eN.id;X.alignAxisTo(eP,eY,Y[eT],eO[eT]);if(eP.options._overlap){continue}if(cC(eP.lineBox().x1)===cC(eY.lineBox().x1)){if(eS[eU]){eP.reflow(eP.box.alignTo(eS[eU].box,da).translate(-eP.options.margin,0))}eS[eU]=eP}if(cC(eP.lineBox().x2)===cC(eY.lineBox().x2)){if(!eP._mirrored){eP.options.labels.mirror=!eP.options.labels.mirror;eP._mirrored=true}X.alignAxisTo(eP,eY,Y[eT],eO[eT]);if(eX[eU]){eP.reflow(eP.box.alignTo(eX[eU].box,ev).translate(eP.options.margin,0))}eX[eU]=eP}if(eT!==0&&eM.pane===eP.pane){eP.alignTo(eM)}}for(eT=0;eT<eW.length;eT++){eP=eW[eT];eN=eP.pane;eU=eN.id;X.alignAxisTo(eP,eM,eO[eT],Y[eT]);if(eP.options._overlap){continue}if(cC(eP.lineBox().y1)===cC(eM.lineBox().y1)){if(!eP._mirrored){eP.options.labels.mirror=!eP.options.labels.mirror;eP._mirrored=true}X.alignAxisTo(eP,eM,eO[eT],Y[eT]);if(eR[eU]){eP.reflow(eP.box.alignTo(eR[eU].box,b3).translate(0,-eP.options.margin))}eR[eU]=eP}if(cC(eP.lineBox().y2,dq)===cC(eM.lineBox().y2,dq)){if(eQ[eU]){eP.reflow(eP.box.alignTo(eQ[eU].box,eE).translate(0,eP.options.margin))}eQ[eU]=eP}if(eT!==0){eP.alignTo(eY)}}},shrinkAxisWidth:function(eO){var eP=this,eR=eP.groupAxes(eO).any,eM=b0(eR),X=0,eN,eQ,Y;for(eN=0;eN<eO.length;eN++){eQ=eO[eN];if(eQ.axes.length>0){X=eD.max(X,eM.width()-eQ.contentBox.width())}}for(eN=0;eN<eR.length;eN++){Y=eR[eN];if(!Y.options.vertical){Y.reflow(Y.box.shrink(X,0))}}},shrinkAxisHeight:function(eO){var eN,eQ,eP,X,eM,Y;for(eN=0;eN<eO.length;eN++){eQ=eO[eN];eP=eQ.axes;X=eD.max(0,b0(eP).height()-eQ.contentBox.height());for(eM=0;eM<eP.length;eM++){Y=eP[eM];if(Y.options.vertical){Y.reflow(Y.box.shrink(0,X))}}}},fitAxes:function(eU){var X=this,eT=X.groupAxes(eU).any,eS=0,eR,eM,eV,eQ,Y,eN,eP,eO;for(eP=0;eP<eU.length;eP++){Y=eU[eP];eR=Y.axes;eM=Y.contentBox;if(eR.length>0){eV=b0(eR);eS=eD.max(eS,eM.x1-eV.x1);eQ=eD.max(eM.y1-eV.y1,eM.y2-eV.y2);for(eO=0;eO<eR.length;eO++){eN=eR[eO];eN.reflow(eN.box.translate(0,eQ))}}}for(eP=0;eP<eT.length;eP++){eN=eT[eP];eN.reflow(eN.box.translate(eS,0))}},reflowAxes:function(Y){var eM=this,X,eN=eM.groupAxes(Y);for(X=0;X<Y.length;X++){eM.reflowPaneAxes(Y[X])}if(eN.x.length>0&&eN.y.length>0){eM.alignAxes(eN.x,eN.y);eM.shrinkAxisWidth(Y);eM.alignAxes(eN.x,eN.y);eM.shrinkAxisHeight(Y);eM.alignAxes(eN.x,eN.y);eM.fitAxes(Y)}},reflowPaneAxes:function(eN){var eM=eN.axes,X,Y=eM.length;if(Y>0){for(X=0;X<Y;X++){eM[X].reflow(eN.contentBox)}}},reflowCharts:function(Y){var eP=this,eO=eP.charts,eN=eO.length,eM=eP.box,eQ,X;for(X=0;X<eN;X++){eQ=eO[X].pane;if(!eQ||dP(eQ,Y)){eO[X].reflow(eM)}}},reflowPanes:function(){var X=this,eP=X.box,eU=X.panes,eT=eU.length,eO,Y,eM,eW=eP.height(),eQ=eT,eR=0,eS=eP.y1,eV,eN;for(eO=0;eO<eT;eO++){Y=eU[eO];eV=Y.options.height;Y.options.width=eP.width();if(!Y.options.height){eR++}else{if(eV.indexOf&&eV.indexOf("%")){eN=parseInt(eV,10)/100;Y.options.height=eN*eP.height()}Y.reflow(eP.clone());eW-=Y.options.height}}for(eO=0;eO<eT;eO++){Y=eU[eO];if(!Y.options.height){Y.options.height=eW/eR}}for(eO=0;eO<eT;eO++){Y=eU[eO];eM=eP.clone().move(eP.x1,eS);Y.reflow(eM);eQ--;eS+=Y.options.height}},backgroundBox:function(){var X=this,eR=X.axes,eS=eR.length,eQ,eP,eO,eN,eM,Y;for(eO=0;eO<eS;eO++){eM=eR[eO];for(eN=0;eN<eS;eN++){Y=eR[eN];if(eM.options.vertical!==Y.options.vertical){eQ=eM.lineBox().clone().wrap(Y.lineBox());if(!eP){eP=eQ}else{eP=eP.wrap(eQ)}}}}return eP||X.box},createVisual:function(){ed.fn.createVisual.call(this);var eP=this.backgroundBox();var eM=this.options.plotArea;var Y=eM.border||{};var eO=eM.background;var X=eM.opacity;if(ea.isTransparent(eO)){eO=cb;X=0}var eN=this._bgVisual=eL.Path.fromRect(eP.toRect(),{fill:{color:eO,opacity:X},stroke:{color:Y.width?Y.color:"",width:Y.width,dashType:Y.dashType},zIndex:-1});this.appendVisual(eN)},pointsByCategoryIndex:function(eR){var eQ=this.charts,Y=[],eN,eM,eP,X,eO;if(eR!==null){for(eN=0;eN<eQ.length;eN++){eO=eQ[eN];if(eO.pane.options.name==="_navigator"){continue}eP=eQ[eN].categoryPoints[eR];if(eP&&eP.length){for(eM=0;eM<eP.length;eM++){X=eP[eM];if(X&&bP(X.value)&&X.value!==null){Y.push(X)}}}}}return Y},pointsBySeriesIndex:function(eM){var eR=this.charts,Y=[],eQ,X,eO,eN,eP;for(eO=0;eO<eR.length;eO++){eP=eR[eO];eQ=eP.points;for(eN=0;eN<eQ.length;eN++){X=eQ[eN];if(X&&X.options.index===eM){Y.push(X)}}}return Y},pointsBySeriesName:function(eN){var eR=this.charts,Y=[],eQ,X,eO,eM,eP;for(eO=0;eO<eR.length;eO++){eP=eR[eO];eQ=eP.points;for(eM=0;eM<eQ.length;eM++){X=eQ[eM];if(X&&X.series.name===eN){Y.push(X)}}}return Y},paneByPoint:function(X){var eN=this,eM=eN.panes,eO,Y;for(Y=0;Y<eM.length;Y++){eO=eM[Y];if(eO.box.containsPoint(X)){return eO}}}});var dY=c6.extend({init:function(eN,Y){var eO=this;eO.namedCategoryAxes={};eO.namedValueAxes={};eO.valueAxisRangeTracker=new eo();if(eN.length>0){eO.invertAxes=dP(eN[0].type,[cs,dd,eK,bj,aR,eH]);for(var eM=0;eM<eN.length;eM++){var X=eN[eM].stack;if(X&&X.type==="100%"){eO.stack100=true;break}}}c6.fn.init.call(eO,eN,Y)},options:{categoryAxis:{categories:[]},valueAxis:{}},render:function(X){var Y=this;X=X||Y.panes;Y.createCategoryAxes(X);Y.aggregateCategories(X);Y.createCategoryAxesLabels(X);Y.createCharts(X);Y.createValueAxes(X)},removeAxis:function(X){var Y=this,eM=X.options.name;c6.fn.removeAxis.call(Y,X);if(X instanceof bT){delete Y.namedCategoryAxes[eM]}else{Y.valueAxisRangeTracker.reset(eM);delete Y.namedValueAxes[eM]}if(X===Y.categoryAxis){delete Y.categoryAxis}if(X===Y.valueAxis){delete Y.valueAxis}},createCharts:function(eS){var X=this,eN=this.groupSeriesByPane();for(var eO=0;eO<eS.length;eO++){var Y=eS[eO];var eR=eN[Y.options.name||"default"]||[];this.addToLegend(eR);var eQ=this.filterVisibleSeries(eR);if(!eQ){continue}var eM=this.groupSeriesByCategoryAxis(eQ);for(var eP=0;eP<eM.length;eP++){this.createChartGroup(eM[eP],Y)}}},createChartGroup:function(X,Y){this.createAreaChart(a0(X,[dh,bj]),Y);this.createBarChart(a0(X,[bI,cs]),Y);this.createRangeBarChart(a0(X,[az,aR]),Y);this.createBulletChart(a0(X,[dd,a1]),Y);this.createCandlestickChart(a0(X,ad),Y);this.createBoxPlotChart(a0(X,bu),Y);this.createOHLCChart(a0(X,at),Y);this.createWaterfallChart(a0(X,[bD,eH]),Y);this.createLineChart(a0(X,[bE,eK]),Y)},aggregateCategories:function(eQ){var X=this,eN=X.srcSeries||X.series,Y=[],eO,eS,eP,eM,eR;for(eO=0;eO<eN.length;eO++){eS=eN[eO];eP=X.seriesCategoryAxis(eS);eM=X.findPane(eP.options.pane);eR=cz(eP.options.type,ec);if((eR||eS.categoryField)&&dP(eM,eQ)){eS=X.aggregateSeries(eS,eP)}Y.push(eS)}X.srcSeries=eN;X.series=Y},aggregateSeries:function(eR,eU){var eQ=eU.options,e0=cz(eU.options.type,ec),eV=eQ.categories,eM=eQ.srcCategories||eV,eW=eR.data,eY=[],eT=eU.range(),eZ=aM({},eR),eN=aM({},eR),eP,Y,eS,eO,X,eX=c5;eZ.data=eO=[];if(e0){eX=aj}for(eP=0;eP<eW.length;eP++){if(eR.categoryField){Y=eX(eR.categoryField,eW[eP])}else{Y=eM[eP]}eS=eU.categoryIndex(Y,eT);if(eS>-1){eY[eS]=eY[eS]||[];eY[eS].push(eP)}}X=new b1(eN,bB.current,bh.current);for(eP=0;eP<eV.length;eP++){eO[eP]=X.aggregatePoints(eY[eP],eV[eP])}eU.options.dataItems=eO;return eZ},appendChart:function(eM,eQ){var eO=this,Y=eM.options.series,eP=eO.seriesCategoryAxis(Y[0]),X=eP.options.categories,eN=eD.max(0,dr(Y)-X.length);while(eN--){X.push("")}eO.valueAxisRangeTracker.update(eM.valueAxisRanges);c6.fn.appendChart.call(eO,eM,eQ)},seriesPaneName:function(eP){var X=this,eS=X.options,eM=eP.axis,eO=[].concat(eS.valueAxis),eN=es.grep(eO,function(eT){return eT.name===eM})[0],eQ=eS.panes||[{}],Y=(eQ[0]||{}).name||"default",eR=(eN||{}).pane||Y;return eR},seriesCategoryAxis:function(X){var eM=this,eN=X.categoryAxis,Y=eN?eM.namedCategoryAxes[eN]:eM.categoryAxis;if(!Y){throw new Error("Unable to locate category axis with name "+eN)}return Y},stackableChartOptions:function(eM,eO){var X=eM.stack,eN=X&&X.type==="100%",Y;if(bP(eO.options.clip)){Y=eO.options.clip}else{if(eN){Y=false}}return{isStacked:X,isStacked100:eN,clip:Y}},groupSeriesByCategoryAxis:function(eQ,eS){var eP={};var eR=es.map(eQ,function(eU){var eT=eU.categoryAxis||"$$default$$";if(!eP.hasOwnProperty(eT)){eP[eT]=true;return eT}});function eN(eT,eU){return es.grep(eQ,function(eV){return(eU===0&&!eV.categoryAxis)||(eV.categoryAxis==eT)})}var Y=[];for(var eO=0;eO<eR.length;eO++){var eM=eR[eO];var X=eN(eM,eO);if(X.length===0){continue}Y.push(X)}return Y},createBarChart:function(X,eO){if(X.length===0){return}var eN=this,eM=X[0],Y=new dv(eN,eG({series:X,invertAxes:eN.invertAxes,gap:eM.gap,spacing:eM.spacing},eN.stackableChartOptions(eM,eO)));eN.appendChart(Y,eO)},createRangeBarChart:function(Y,eO){if(Y.length===0){return}var eN=this,eM=Y[0],X=new ak(eN,{series:Y,invertAxes:eN.invertAxes,gap:eM.gap,spacing:eM.spacing});eN.appendChart(X,eO)},createBulletChart:function(X,eO){if(X.length===0){return}var eN=this,eM=X[0],Y=new dp(eN,{series:X,invertAxes:eN.invertAxes,gap:eM.gap,spacing:eM.spacing,clip:eO.options.clip});eN.appendChart(Y,eO)},createLineChart:function(Y,eO){if(Y.length===0){return}var eN=this,eM=Y[0],X=new ci(eN,eG({invertAxes:eN.invertAxes,series:Y},eN.stackableChartOptions(eM,eO)));eN.appendChart(X,eO)},createAreaChart:function(Y,eO){if(Y.length===0){return}var eN=this,eM=Y[0],X=new er(eN,eG({invertAxes:eN.invertAxes,series:Y},eN.stackableChartOptions(eM,eO)));eN.appendChart(X,eO)},createOHLCChart:function(X,eO){if(X.length===0){return}var eN=this,eM=X[0],Y=new g(eN,{invertAxes:eN.invertAxes,gap:eM.gap,series:X,spacing:eM.spacing,clip:eO.options.clip});eN.appendChart(Y,eO)},createCandlestickChart:function(X,eO){if(X.length===0){return}var eN=this,eM=X[0],Y=new en(eN,{invertAxes:eN.invertAxes,gap:eM.gap,series:X,spacing:eM.spacing,clip:eO.options.clip});eN.appendChart(Y,eO)},createBoxPlotChart:function(X,eO){if(X.length===0){return}var eN=this,eM=X[0],Y=new eg(eN,{invertAxes:eN.invertAxes,gap:eM.gap,series:X,spacing:eM.spacing,clip:eO.options.clip});eN.appendChart(Y,eO)},createWaterfallChart:function(Y,eO){if(Y.length===0){return}var eN=this,eM=Y[0],X=new bk(eN,{series:Y,invertAxes:eN.invertAxes,gap:eM.gap,spacing:eM.spacing});eN.appendChart(X,eO)},axisRequiresRounding:function(eR,eO){var eQ=this,eP=a0(eQ.series,dH),X,eM;for(X=0;X<eQ.series.length;X++){var eN=eQ.series[X];if(eN.type===bE||eN.type===dh){var Y=eN.line;if(Y&&Y.style===A){eP.push(eN)}}}for(X=0;X<eP.length;X++){eM=eP[X].categoryAxis||"";if(eM===eR||(!eM&&eO===0)){return true}}},createCategoryAxesLabels:function(){var Y=this.axes;for(var X=0;X<Y.length;X++){if(Y[X] instanceof bT){Y[X].createLabels()}}},createCategoryAxes:function(eV){var Y=this,eN=Y.invertAxes,eW=[].concat(Y.options.categoryAxis),eQ,eP,eO,eS,eU,eM,eR,eT=[],X;for(eQ=0;eQ<eW.length;eQ++){eP=eW[eQ];eO=Y.findPane(eP.pane);if(dP(eO,eV)){eM=eP.name;eS=eP.categories||[];eU=eP.type||"";eP=aM({vertical:eN,axisCrossingValue:eN?cS:0,_deferLabels:true},eP);if(!bP(eP.justified)){eP.justified=Y.isJustified()}if(Y.axisRequiresRounding(eM,eQ)){eP.justified=false;eP.roundToBaseUnit=true}if(cF(eP,eS[0])){eR=new bY(eP)}else{eR=new bT(eP)}if(eM){if(Y.namedCategoryAxes[eM]){throw new Error("Category axis with name "+eM+" is already defined")}Y.namedCategoryAxes[eM]=eR}eR.axisIndex=eQ;eT.push(eR);Y.appendAxis(eR)}}X=Y.categoryAxis||eT[0];Y.categoryAxis=X;if(eN){Y.axisY=X}else{Y.axisX=X}},isJustified:function(){var eN=this,eM=eN.series,Y,X;for(Y=0;Y<eM.length;Y++){X=eM[Y];if(!dP(X.type,[dh,bj])){return false}}return true},createValueAxes:function(eW){var Y=this,eX=Y.valueAxisRangeTracker,eO=eX.query(),e0=[].concat(Y.options.valueAxis),eN=Y.invertAxes,eT={vertical:!eN},eS,eP,eZ,X,eV=[],eU,eY,eR,eM,eQ;if(Y.stack100){eT.roundToMajorUnit=false;eT.labels={format:"P0"}}for(eQ=0;eQ<e0.length;eQ++){eS=e0[eQ];eP=Y.findPane(eS.pane);if(dP(eP,eW)){eM=eS.name;eR=cz(eS.type,dE)?{min:0.1,max:1}:{min:0,max:1};eU=eX.query(eM)||eO||eR;if(eQ===0&&eU&&eO){eU.min=eD.min(eU.min,eO.min);eU.max=eD.max(eU.max,eO.max)}if(cz(eS.type,dE)){eY=dM}else{eY=cq}eZ=new eY(eU.min,eU.max,aM({},eT,eS));if(eM){if(Y.namedValueAxes[eM]){throw new Error("Value axis with name "+eM+" is already defined")}Y.namedValueAxes[eM]=eZ}eZ.axisIndex=eQ;eV.push(eZ);Y.appendAxis(eZ)}}X=Y.valueAxis||eV[0];Y.valueAxis=X;if(eN){Y.axisX=X}else{Y.axisY=X}},click:function(eR,eQ){var X=this,eS=eR._eventCoordinates(eQ),eT=new d2(eS.x,eS.y),Y=X.pointPane(eT),eN,eO,eM,eP=[],eU=[];if(!Y){return}eN=Y.axes;for(eO=0;eO<eN.length;eO++){eM=eN[eO];if(eM.getValue){ag(eU,eM.getValue(eT))}else{ag(eP,eM.getCategory(eT))}}if(eP.length===0){ag(eP,X.categoryAxis.getCategory(eT))}if(eP.length>0&&eU.length>0){eR.trigger(bo,{element:es(eQ.target),originalEvent:eQ,category:al(eP),value:al(eU)})}},pointPane:function(X){var eN=this,eM=eN.panes,eO,Y;for(Y=0;Y<eM.length;Y++){eO=eM[Y];if(eO.contentBox.containsPoint(X)){return eO}}}});var eo=aA.extend({init:function(){var X=this;X.axisRanges={}},update:function(eN){var eM=this,eO=eM.axisRanges,Y,X,eP;for(eP in eN){Y=eO[eP];X=eN[eP];eO[eP]=Y=Y||{min:cS,max:dw};Y.min=eD.min(Y.min,X.min);Y.max=eD.max(Y.max,X.max)}},reset:function(X){this.axisRanges[X]=et},query:function(X){return this.axisRanges[X]}});var aZ=c6.extend({init:function(Y,X){var eM=this;eM.namedXAxes={};eM.namedYAxes={};eM.xAxisRangeTracker=new eo();eM.yAxisRangeTracker=new eo();c6.fn.init.call(eM,Y,X)},options:{xAxis:{},yAxis:{}},render:function(eN){var eO=this,eM=eO.groupSeriesByPane(),Y,eQ,eP,X;eN=eN||eO.panes;for(Y=0;Y<eN.length;Y++){eQ=eN[Y];eP=eM[eQ.options.name||"default"]||[];eO.addToLegend(eP);X=eO.filterVisibleSeries(eP);if(!X){continue}eO.createScatterChart(a0(X,ac),eQ);eO.createScatterLineChart(a0(X,N),eQ);eO.createBubbleChart(a0(X,bF),eQ)}eO.createAxes(eN)},appendChart:function(X,eM){var Y=this;Y.xAxisRangeTracker.update(X.xAxisRanges);Y.yAxisRangeTracker.update(X.yAxisRanges);c6.fn.appendChart.call(Y,X,eM)},removeAxis:function(X){var Y=this,eM=X.options.name;c6.fn.removeAxis.call(Y,X);if(X.options.vertical){Y.yAxisRangeTracker.reset(eM);delete Y.namedYAxes[eM]}else{Y.xAxisRangeTracker.reset(eM);delete Y.namedXAxes[eM]}if(X===Y.axisX){delete Y.axisX}if(X===Y.axisY){delete Y.axisY}},seriesPaneName:function(eP){var X=this,eV=X.options,eU=eP.xAxis,eR=[].concat(eV.xAxis),eN=es.grep(eR,function(eW){return eW.name===eU})[0],eO=eP.yAxis,eT=[].concat(eV.yAxis),Y=es.grep(eT,function(eW){return eW.name===eO})[0],eQ=eV.panes||[{}],eM=eQ[0].name||"default",eS=(eN||{}).pane||(Y||{}).pane||eM;return eS},createScatterChart:function(X,eM){var Y=this;if(X.length>0){Y.appendChart(new db(Y,{series:X,clip:eM.options.clip}),eM)}},createScatterLineChart:function(X,eM){var Y=this;if(X.length>0){Y.appendChart(new aS(Y,{series:X,clip:eM.options.clip}),eM)}},createBubbleChart:function(X,eM){var Y=this;if(X.length>0){Y.appendChart(new U(Y,{series:X,clip:eM.options.clip}),eM)}},createXYAxis:function(eM,X,eX){var eN=this,eP=eM.name,eQ=X?eN.namedYAxes:eN.namedXAxes,eO=X?eN.yAxisRangeTracker:eN.xAxisRangeTracker,eW=aM({},eM,{vertical:X}),eZ=cz(eW.type,dE),e0=eO.query(),eT=eZ?{min:0.1,max:1}:{min:0,max:1},eY=eO.query(eP)||e0||eT,Y,eS,e2,eU=eN.series,eV,e5,eR,e1=[eW.min,eW.max],e3,e4;for(e2=0;e2<eU.length;e2++){eV=eU[e2];e5=eV[X?"yAxis":"xAxis"];if((e5==eW.name)||(eX===0&&!e5)){eR=bB.current.bindPoint(eV,0).valueFields;e1.push(eR[X?"y":"x"]);break}}if(eX===0&&e0){eY.min=eD.min(eY.min,e0.min);eY.max=eD.max(eY.max,e0.max)}for(e4=0;e4<e1.length;e4++){if(e1[e4] instanceof Date){e3=true;break}}if(cz(eW.type,ec)||(!eW.type&&e3)){eS=aB}else{if(eZ){eS=dM}else{eS=cq}}Y=new eS(eY.min,eY.max,eW);if(eP){if(eQ[eP]){throw new Error((X?"Y":"X")+" axis with name "+eP+" is already defined")}eQ[eP]=Y}eN.appendAxis(Y);return Y},createAxes:function(eO){var eP=this,X=eP.options,eN,Y=[].concat(X.xAxis),eR=[],eQ=[].concat(X.yAxis),eM=[];bH(Y,function(eS){eN=eP.findPane(this.pane);if(dP(eN,eO)){eR.push(eP.createXYAxis(this,false,eS))}});bH(eQ,function(eS){eN=eP.findPane(this.pane);if(dP(eN,eO)){eM.push(eP.createXYAxis(this,true,eS))}});eP.axisX=eP.axisX||eR[0];eP.axisY=eP.axisY||eM[0]},click:function(eR,eQ){var X=this,eT=eR._eventCoordinates(eQ),eU=new d2(eT.x,eT.y),eO=X.axes,eP,eM=eO.length,eN,Y=[],eS=[],eW,eV;for(eP=0;eP<eM;eP++){eN=eO[eP];eV=eN.options.vertical?eS:Y;eW=eN.getValue(eU);if(eW!==null){eV.push(eW)}}if(Y.length>0&&eS.length>0){eR.trigger(bo,{element:es(eQ.target),originalEvent:eQ,x:al(Y),y:al(eS)})}}});var dV=c6.extend({render:function(){var Y=this,X=Y.series;Y.createPieChart(X)},createPieChart:function(Y){var eN=this,eM=Y[0],X=new b5(eN,{series:Y,padding:eM.padding,startAngle:eM.startAngle,connectors:eM.connectors,legend:eN.options.legend});eN.appendChart(X)},appendChart:function(X,Y){c6.fn.appendChart.call(this,X,Y);b7(this.options.legend.items,X.legendItems)}});var F=dV.extend({render:function(){var Y=this,X=Y.series;Y.createDonutChart(X)},createDonutChart:function(X){var eN=this,eM=X[0],Y=new ey(eN,{series:X,padding:eM.padding,connectors:eM.connectors,legend:eN.options.legend});eN.appendChart(Y)}});var cV=eL.Animation.extend({options:{easing:"easeOutElastic",duration:R},setup:function(){this.element.transform(aw.transform().scale(bf,bf,this.options.center))},step:function(X){this.element.transform(aw.transform().scale(X,X,this.options.center))}});eL.AnimationFactory.current.register(di,cV);var aI=eL.Animation.extend({options:{easing:"easeOutElastic"},setup:function(){var X=this.center=this.element.bbox().center();this.element.transform(aw.transform().scale(bf,bf,X))},step:function(X){this.element.transform(aw.transform().scale(X,X,this.center))}});eL.AnimationFactory.current.register(bF,aI);var aK=aA.extend({init:function(){this._points=[]},destroy:function(){this._points=[]},show:function(eM){eM=[].concat(eM);this.hide();for(var Y=0;Y<eM.length;Y++){var X=eM[Y];if(X&&X.toggleHighlight&&X.hasHighlight()){this.togglePointHighlight(X,true);this._points.push(X)}}},togglePointHighlight:function(X,Y){var eN=(X.options.highlight||{}).toggle;if(eN){var eM={category:X.category,series:X.series,dataItem:X.dataItem,value:X.value,preventDefault:ba,visual:X.highlightVisual(),show:Y};eN(eM);if(!eM._defaultPrevented){X.toggleHighlight(Y)}}else{X.toggleHighlight(Y)}},hide:function(){var X=this._points;while(X.length){this.togglePointHighlight(X.pop(),false)}},isHighlighted:function(eM){var eN=this._points;for(var Y=0;Y<eN.length;Y++){var X=eN[Y];if(eM==X){return true}}return false}});var c4=br.extend({init:function(eO,Y){var eM=this;br.fn.init.call(eM);eM.options=aM({},eM.options,Y);eM.chartElement=eO;eM.template=c4.template;if(!eM.template){eM.template=c4.template=J("<div class='"+y+"tooltip "+y+"chart-tooltip' style='display:none; position: absolute; font: #= d.font #;border: #= d.border.width #px solid;opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'></div>")}var eN=bA(eM.options.padding||{},"auto");eM.element=es(eM.template(eM.options)).css({"padding-top":eN.top,"padding-right":eN.right,"padding-bottom":eN.bottom,"padding-left":eN.left});eM.move=bb(eM.move,eM);eM._mouseleave=bb(eM._mouseleave,eM);var X=cY.format("[{0}='content'],[{0}='scroller']",cY.attr("role"));eM._mobileScroller=eO.closest(X).data("kendoMobileScroller")},destroy:function(){this._clearShowTimeout();if(this.element){this.element.off(aU).remove();this.element=null}},options:{border:{width:1},opacity:1,animation:{duration:L}},move:function(){var eM=this,X=eM.options,Y=eM.element,eN;if(!eM.anchor){return}eN=eM._offset();if(!eM.visible){Y.css({top:eN.top,left:eN.left})}eM._ensureElement(document.body);Y.stop(true,true).show().animate({left:eN.left,top:eN.top},X.animation.duration);eM.visible=true},_clearShowTimeout:function(){if(this.showTimeout){clearTimeout(this.showTimeout);this.showTimeout=null}},_padding:function(){if(!this._chartPadding){var X=this.chartElement;this._chartPadding={top:parseInt(X.css("paddingTop"),10),left:parseInt(X.css("paddingLeft"),10)}}return this._chartPadding},_offset:function(){var eW=this,eX=eW._measure(),eQ=eW.anchor,Y=eW._padding(),eT=eW.chartElement.offset(),eS=cC(eQ.y+Y.top+eT.top),eN=cC(eQ.x+Y.left+eT.left),eP=cY.support.zoomLevel(),eR=es(window),X=window.pageYOffset||document.documentElement.scrollTop||0,eO=window.pageXOffset||document.documentElement.scrollLeft||0,eV=(this._mobileScroller||{}).movable;if(!eV||eV.scale===1){eS+=eW._fit(eS-X,eX.height,eR.outerHeight()/eP);eN+=eW._fit(eN-eO,eX.width,eR.outerWidth()/eP)}else{var eM=aw.transform().scale(eV.scale,eV.scale,[eV.x,eV.y]);var eU=new aw.Point(eN,eS).transform(eM);eN=eU.x;eS=eU.y}return{top:eS,left:eN}},setStyle:function(eM,X){var eN=eM.background;var Y=eM.border.color;if(X){var eO=X.color||X.options.color;eN=bR(eN,eO);Y=bR(Y,eO)}if(!bP(eM.color)){var eP=new H(eN).percBrightness();this.element.toggleClass(y+bW,eP>180)}this.element.css({backgroundColor:eN,borderColor:Y,font:eM.font,color:eM.color,opacity:eM.opacity,borderWidth:eM.border.width})},show:function(){this._clearShowTimeout();this.showTimeout=setTimeout(this.move,O)},hide:function(){var X=this;clearTimeout(X.showTimeout);X._hideElement();if(X.visible){X.point=null;X.visible=false;X.index=null}},_measure:function(){this._ensureElement();var X={width:this.element.outerWidth(),height:this.element.outerHeight()};return X},_ensureElement:function(){if(this.element){this.element.appendTo(document.body).on(aU,this._mouseleave)}},_mouseleave:function(eM){var Y=eM.relatedTarget;var X=this.chartElement[0];if(Y&&Y!==X&&!es.contains(X,Y)){this.trigger(de);this.hide()}},_hideElement:function(){if(this.element){this.element.fadeOut({always:function(){es(this).off(aU).remove()}})}},_pointContent:function(X){var eO=this,eM=aM({},eO.options,X.options.tooltip),eN,Y;if(bP(X.value)){eN=X.value.toString()}if(eM.template){Y=m(eM.template);eN=Y({value:X.value,category:X.category,series:X.series,dataItem:X.dataItem,percentage:X.percentage,runningTotal:X.runningTotal,total:X.total,low:X.low,high:X.high,xLow:X.xLow,xHigh:X.xHigh,yLow:X.yLow,yHigh:X.yHigh})}else{if(eM.format){eN=X.formatValue(eM.format)}}return eN},_pointAnchor:function(X){var Y=this._measure();return X.tooltipAnchor(Y.width,Y.height)},_fit:function(eN,eM,X){var Y=0;if(eN+eM>X){Y=X-(eN+eM)}if(eN<0){Y=-eN}return Y}});var dQ=c4.extend({show:function(X){var eM=this,Y=aM({},eM.options,X.options.tooltip);if(!X||!X.tooltipAnchor||!eM.element){return}eM.element.html(eM._pointContent(X));eM.anchor=eM._pointAnchor(X);if(eM.anchor){eM.setStyle(Y,X);c4.fn.show.call(eM,X)}else{eM.hide()}}});var bG=c4.extend({init:function(Y,eN,X){var eM=this;c4.fn.init.call(eM,Y,X);eM.plotArea=eN},options:{sharedTemplate:"<table><th colspan='2'>#= categoryText #</th># for(var i = 0; i < points.length; i++) { ## var point = points[i]; #<tr># if(point.series.name) { # <td> #= point.series.name #:</td># } #<td>#= content(point) #</td></tr># } #</table>",categoryFormat:"{0:d}"},showAt:function(eR,eP){var eS=this,eT=eS.options,X=eS.plotArea,eM=X.categoryAxis,eN=eM.pointCategoryIndex(eP),Y=eM.getCategory(eP),eQ=eM.getSlot(eN),eO;eR=es.grep(eR,function(eW){var eV=eW.series.tooltip,eU=eV&&eV.visible===false;return !eU});if(eR.length>0){eO=eS._content(eR,Y);eS.element.html(eO);eS.anchor=eS._slotAnchor(eP,eQ);eS.setStyle(eT,eR[0]);c4.fn.show.call(eS)}},_slotAnchor:function(X,eR){var eQ=this,eP=eQ.plotArea,eO=eP.categoryAxis,Y,eM=this._measure(),eN=X.y-eM.height/2;if(eO.options.vertical){Y=d2(X.x,eN)}else{Y=d2(eR.center().x,eN)}return Y},_content:function(Y,eN){var eO=this,X,eM;X=cY.template(eO.options.sharedTemplate);eM=X({points:Y,category:eN,categoryText:ca(eO.options.categoryFormat,eN),content:eO._pointContent});return eM}});var dk=ed.extend({init:function(Y,X){ed.fn.init.call(this,X);this.axis=Y;this.stickyMode=Y instanceof bT},options:{color:aX,width:1,zIndex:-1,tooltip:{visible:false}},showAt:function(X){var eM=this;this.point=X;this.moveLine();this.line.visible(true);var Y=this.options.tooltip;if(Y.visible){if(!this.tooltip){this.tooltip=new G(this,aM({},Y,{stickyMode:this.stickyMode}))}this.tooltip.showAt(X)}},hide:function(){this.line.visible(false);if(this.tooltip){this.tooltip.hide()}},moveLine:function(){var Y=this,X=Y.axis,eM=X.options.vertical,eP=Y.getBox(),eS=Y.point,eO=eM?d8:d9,eR,eQ,eN;eQ=new aw.Point(eP.x1,eP.y1);if(eM){eN=new aw.Point(eP.x2,eP.y1)}else{eN=new aw.Point(eP.x1,eP.y2)}if(eS){if(Y.stickyMode){eR=X.getSlot(X.pointCategoryIndex(eS));eQ[eO]=eN[eO]=eR.center()[eO]}else{eQ[eO]=eN[eO]=eS[eO]}}Y.box=eP;this.line.moveTo(eQ).lineTo(eN)},getBox:function(){var eN=this,eM=eN.axis,eS=eM.pane.axes,Y=eS.length,eO=eM.options.vertical,eR=eM.lineBox().clone(),eQ=eO?d9:d8,eT,X,eP;for(eP=0;eP<Y;eP++){X=eS[eP];if(X.options.vertical!=eO){if(!eT){eT=X.lineBox().clone()}else{eT.wrap(X.lineBox())}}}eR[eQ+1]=eT[eQ+1];eR[eQ+2]=eT[eQ+2];return eR},createVisual:function(){ed.fn.createVisual.call(this);var X=this.options;this.line=new eL.Path({stroke:{color:X.color,width:X.width,opacity:X.opacity,dashType:X.dashType},visible:false});this.moveLine();this.visual.append(this.line)},destroy:function(){var X=this;if(X.tooltip){X.tooltip.destroy()}ed.fn.destroy.call(X)}});var G=c4.extend({init:function(eN,X){var Y=this,eM=eN.axis.getRoot().chart.element;Y.crosshair=eN;c4.fn.init.call(Y,eM,aM({},Y.options,{background:eN.axis.plotArea.options.seriesColors[0]},X));Y.setStyle(Y.options)},options:{padding:10},showAt:function(X){var eM=this,Y=eM.element;if(Y){eM.point=X;eM.element.html(eM.content(X));eM.anchor=eM.getAnchor();eM.move()}},move:function(){var Y=this,X=Y.element,eM=Y._offset();Y._ensureElement();X.css({top:eM.top,left:eM.left}).show()},content:function(X){var eQ=this,eM=eQ.options,eN=eQ.crosshair.axis,eR=eN.options,eO,eP,Y;eP=eO=eN[eM.stickyMode?"getCategory":"getValue"](X);if(eM.template){Y=m(eM.template);eO=Y({value:eP})}else{if(eM.format){eO=ca(eM.format,eP)}else{if(eR.type===ec){eO=ca(eR.labels.dateFormats[eR.baseUnit],eP)}}}return eO},getAnchor:function(){var eS=this,eU=eS.options,eO=eU.position,X=this.crosshair,Y=!X.axis.options.vertical,eP=X.line.bbox(),eT=this._measure(),eN=eT.width/2,eQ=eT.height/2,eR=eU.padding,eM;if(Y){if(eO===eE){eM=eP.bottomLeft().translate(-eN,eR)}else{eM=eP.topLeft().translate(-eN,-eT.height-eR)}}else{if(eO===da){eM=eP.topLeft().translate(-eT.width-eR,-eQ)}else{eM=eP.topRight().translate(eR,-eQ)}}return eM},hide:function(){this.element.hide();this.point=null},destroy:function(){c4.fn.destroy.call(this);this.point=null}});var cj={min:function(X){var eM=cS,eN=X.length,Y,eO;for(Y=0;Y<eN;Y++){eO=X[Y];if(t(eO)){eM=eD.min(eM,eO)}}return eM===cS?X[0]:eM},max:function(Y){var X=dw,eN=Y.length,eM,eO;for(eM=0;eM<eN;eM++){eO=Y[eM];if(t(eO)){X=eD.max(X,eO)}}return X===dw?Y[0]:X},sum:function(X){var eN=X.length,eM=0,Y,eO;for(Y=0;Y<eN;Y++){eO=X[Y];if(t(eO)){eM+=eO}}return eM},sumOrNull:function(Y){var X=null;if(ae(Y)){X=cj.sum(Y)}return X},count:function(X){var eN=X.length,eM=0,Y,eO;for(Y=0;Y<eN;Y++){eO=X[Y];if(eO!==null&&bP(eO)){eM++}}return eM},avg:function(Y){var X=Y[0],eM=ae(Y);if(eM>0){X=cj.sum(Y)/eM}return X},first:function(X){var eM=X.length,Y,eN;for(Y=0;Y<eM;Y++){eN=X[Y];if(eN!==null&&bP(eN)){return eN}}return X[0]}};function bh(){this._defaults={}}bh.prototype={register:function(X,eM){for(var Y=0;Y<X.length;Y++){this._defaults[X[Y]]=eM}},query:function(X){return this._defaults[X]}};bh.current=new bh();var ep=br.extend({init:function(eP,eN,eT){var eO=this,eR=eP.element,X=eN.lineBox(),eS=eO.getValueAxis(eN),eU=eS.lineBox(),eM="."+y,Y,eQ;br.fn.init.call(eO);eO.options=aM({},eO.options,eT);eT=eO.options;eO.chart=eP;eO.chartElement=eR;eO.categoryAxis=eN;eO._dateAxis=eO.categoryAxis instanceof bY;eO.valueAxis=eS;if(eO._dateAxis){aM(eT,{min:cB(eT.min),max:cB(eT.max),from:cB(eT.from),to:cB(eT.to)})}eO.template=ep.template;if(!eO.template){eO.template=ep.template=J("<div class='"+y+"selector' style='width: #= d.width #px; height: #= d.height #px; top: #= d.offset.top #px; left: #= d.offset.left #px;'><div class='"+y+"mask'></div><div class='"+y+"mask'></div><div class='"+y+"selection'><div class='"+y+"selection-bg'></div><div class='"+y+"handle "+y+"leftHandle'><div></div></div><div class='"+y+"handle "+y+"rightHandle'><div></div></div></div></div>")}eQ={left:parseInt(eR.css("paddingLeft"),10),right:parseInt(eR.css("paddingTop"),10)};eO.options=aM({},{width:X.width(),height:eU.height(),padding:eQ,offset:{left:eU.x2+eQ.left,top:eU.y1+eQ.right},from:eT.min,to:eT.max},eT);if(eO.options.visible){eO.wrapper=Y=es(eO.template(eO.options)).appendTo(eR);eO.selection=Y.find(eM+"selection");eO.leftMask=Y.find(eM+"mask").first();eO.rightMask=Y.find(eM+"mask").last();eO.leftHandle=Y.find(eM+"leftHandle");eO.rightHandle=Y.find(eM+"rightHandle");eO.options.selection={border:{left:parseFloat(eO.selection.css("border-left-width"),10),right:parseFloat(eO.selection.css("border-right-width"),10)}};eO.leftHandle.css("top",(eO.selection.height()-eO.leftHandle.height())/2);eO.rightHandle.css("top",(eO.selection.height()-eO.rightHandle.height())/2);eO.set(eO._index(eT.from),eO._index(eT.to));eO.bind(eO.events,eO.options);eO.wrapper[0].style.cssText=eO.wrapper[0].style.cssText;eO.wrapper.on(b6,bb(eO._mousewheel,eO));if(cY.UserEvents){eO.userEvents=new cY.UserEvents(eO.wrapper,{global:true,stopPropagation:true,multiTouch:true,start:bb(eO._start,eO),move:bb(eO._move,eO),end:bb(eO._end,eO),tap:bb(eO._tap,eO),gesturestart:bb(eO._gesturechange,eO),gesturechange:bb(eO._gesturechange,eO)})}else{eO.leftHandle.add(eO.rightHandle).removeClass(y+"handle")}}},events:[k,co,aE],options:{visible:true,mousewheel:{zoom:j},min:dw,max:cS},destroy:function(){var Y=this,X=Y.userEvents;if(X){X.destroy()}clearTimeout(Y._mwTimeout);Y._state=null;Y.wrapper.remove()},_rangeEventArgs:function(X){var Y=this;return{axis:Y.categoryAxis.options,from:Y._value(X.from),to:Y._value(X.to)}},_start:function(eO){var eM=this,Y=eM.options,eN=es(eO.event.target),X;if(eM._state||!eN){return}eM.chart._unsetActivePoint();eM._state={moveTarget:eN.parents(".k-handle").add(eN).first(),startLocation:eO.x?eO.x.location:0,range:{from:eM._index(Y.from),to:eM._index(Y.to)}};X=eM._rangeEventArgs({from:eM._index(Y.from),to:eM._index(Y.to)});if(eM.trigger(k,X)){eM.userEvents.cancel();eM._state=null}},_move:function(eS){if(!this._state){return}var eQ=this,X=eQ._state,eZ=eQ.options,eP=eQ.categoryAxis.options.categories,eW=eQ._index(eZ.from),eX=eQ._index(eZ.to),eN=eQ._index(eZ.min),eU=eQ._index(eZ.max),eY=X.startLocation-eS.x.location,eO=X.range,eT={from:eO.from,to:eO.to},eV=eO.to-eO.from,eR=X.moveTarget,Y=eQ.wrapper.width()/(eP.length-1),eM=eD.round(eY/Y);if(!eR){return}eS.preventDefault();if(eR.is(".k-selection, .k-selection-bg")){eO.from=eD.min(eD.max(eN,eW-eM),eU-eV);eO.to=eD.min(eO.from+eV,eU)}else{if(eR.is(".k-leftHandle")){eO.from=eD.min(eD.max(eN,eW-eM),eU-1);eO.to=eD.max(eO.from+1,eO.to)}else{if(eR.is(".k-rightHandle")){eO.to=eD.min(eD.max(eN+1,eX-eM),eU);eO.from=eD.min(eO.to-1,eO.from)}}}if(eO.from!==eT.from||eO.to!==eT.to){eQ.move(eO.from,eO.to);eQ.trigger(co,eQ._rangeEventArgs(eO))}},_end:function(){var Y=this,X=Y._state.range;delete Y._state;Y.set(X.from,X.to);Y.trigger(aE,Y._rangeEventArgs(X))},_gesturechange:function(eP){if(!this._state){return}var eO=this,eQ=eO.chart,X=eO._state,eU=eO.options,eM=eO.categoryAxis,eN=X.range,eT=eQ._toModelCoordinates(eP.touches[0].x.location).x,eS=eQ._toModelCoordinates(eP.touches[1].x.location).x,Y=eD.min(eT,eS),eR=eD.max(eT,eS);eP.preventDefault();X.moveTarget=null;eN.from=eM.pointCategoryIndex(new cl.Point2D(Y))||eU.min;eN.to=eM.pointCategoryIndex(new cl.Point2D(eR))||eU.max;eO.move(eN.from,eN.to)},_tap:function(eR){var eQ=this,eY=eQ.options,eT=eQ.chart._eventCoordinates(eR),eN=eQ.categoryAxis,eO=eN.pointCategoryIndex(new cl.Point2D(eT.x,eN.box.y1)),eW=eQ._index(eY.from),eX=eQ._index(eY.to),Y=eQ._index(eY.min),eS=eQ._index(eY.max),eV=eX-eW,eU=eW+eV/2,X=eD.round(eU-eO),eM={},eP=eR.event.which===3;if(eQ._state||eP){return}eR.preventDefault();eQ.chart._unsetActivePoint();if(!eN.options.justified){X--}eM.from=eD.min(eD.max(Y,eW-X),eS-eV);eM.to=eD.min(eM.from+eV,eS);eQ._start(eR);if(eQ._state){eQ._state.range=eM;eQ.trigger(co,eQ._rangeEventArgs(eM));eQ._end()}},_mousewheel:function(eN){var eM=this,Y=eM.options,eO=p(eN);eM._start({event:{target:eM.selection}});if(eM._state){var X=eM._state.range;eN.preventDefault();eN.stopPropagation();if(eD.abs(eO)>1){eO*=eC}if(Y.mousewheel.reverse){eO*=-1}if(eM.expand(eO)){eM.trigger(co,{axis:eM.categoryAxis.options,delta:eO,originalEvent:eN,from:eM._value(X.from),to:eM._value(X.to)})}if(eM._mwTimeout){clearTimeout(eM._mwTimeout)}eM._mwTimeout=setTimeout(function(){eM._end()},aJ)}},_index:function(eN){var eM=this,eO=eM.categoryAxis,X=eO.options.categories,Y=eN;if(eN instanceof Date){Y=T(eN,X);if(!eO.options.justified&&eN>dW(X)){Y+=1}}return Y},_value:function(Y){var eM=this,eO=this.categoryAxis,X=eO.options.categories,eN=Y;if(eM._dateAxis){if(Y>X.length-1){eN=eM.options.max}else{eN=X[Y]}}return eN},_slot:function(Y){var X=this,eM=this.categoryAxis;return eM.getSlot(X._index(Y))},move:function(eS,eT){var eQ=this,eU=eQ.options,eO=eU.offset,eR=eU.padding,eM=eU.selection.border,Y,eN,eP,X;eP=eQ._slot(eS);Y=cC(eP.x1-eO.left+eR.left);eQ.leftMask.width(Y);eQ.selection.css("left",Y);eP=eQ._slot(eT);eN=cC(eU.width-(eP.x1-eO.left+eR.left));eQ.rightMask.width(eN);X=eU.width-eN;if(X!=eU.width){X+=eM.right}eQ.rightMask.css("left",X);eQ.selection.width(eD.max(eU.width-(Y+eN)-eM.right,0))},set:function(eP,eO){var eN=this,Y=eN.options,eM=eN._index(Y.min),X=eN._index(Y.max);eP=cy(eN._index(eP),eM,X);eO=cy(eN._index(eO),eP+1,X);if(Y.visible){eN.move(eP,eO)}Y.from=eN._value(eP);Y.to=eN._value(eO)},expand:function(eS){var eN=this,eT=eN.options,X=eN._index(eT.min),eP=eN._index(eT.max),eM=eT.mousewheel.zoom,eQ=eN._index(eT.from),eR=eN._index(eT.to),Y={from:eQ,to:eR},eO=aM({},Y);if(eN._state){Y=eN._state.range}if(eM!==ev){Y.from=cy(cy(eQ-eS,0,eR-1),X,eP)}if(eM!==da){Y.to=cy(cy(eR+eS,Y.from+1,eP),X,eP)}if(Y.from!==eO.from||Y.to!==eO.to){eN.set(Y.from,Y.to);return true}},getValueAxis:function(eO){var eN=eO.pane.axes,eM=eN.length,X,Y;for(X=0;X<eM;X++){Y=eN[X];if(Y.options.vertical!==eO.options.vertical){return Y}}}});var b1=function(eO,eW,eT){var eU=this,X=eW.canonicalFields(eO),Y=eW.valueFields(eO),eV=eW.sourceFields(eO,X),eR=eU._seriesFields=[],eM=eT.query(eO.type),eP=eO.aggregate||eM,eN;eU._series=eO;eU._binder=eW;for(eN=0;eN<X.length;eN++){var eS=X[eN],eQ;if(typeof eP===e){eQ=eP[eS]}else{if(eN===0||dP(eS,Y)){eQ=eP}else{break}}if(eQ){eR.push({canonicalName:eS,name:eV[eN],transform:cQ(eQ)?eQ:cj[eQ]})}}};b1.prototype={aggregatePoints:function(eV,eT){var eR=this,X=eR._bindPoints(eV||[]),Y=eR._series,eO=eR._seriesFields,eM,eQ,eU,eS,eN=X.dataItems[0],eW={};if(eN&&!t(eN)&&!V(eN)){var eP=function(){};eP.prototype=eN;eW=new eP()}for(eM=0;eM<eO.length;eM++){eQ=eO[eM];eU=eR._bindField(X.values,eQ.canonicalName);eS=eQ.transform(eU,Y,X.dataItems,eT);if(eS!==null&&typeof eS===e&&!bP(eS.length)){eW=eS;break}else{if(bP(eS)){d3(eQ.name,eW);cY.setter(eQ.name)(eW,eS)}}}return eW},_bindPoints:function(eR){var X=this,Y=X._binder,eQ=X._series,eN=[],eO=[],eP,eM;for(eP=0;eP<eR.length;eP++){eM=eR[eP];eN.push(Y.bindPoint(eQ,eM));eO.push(eQ.data[eM])}return{values:eN,dataItems:eO}},_bindField:function(eQ,eR){var Y=[],eO=eQ.length,eM,eN,eP,X;for(eM=0;eM<eO;eM++){eN=eQ[eM];X=eN.valueFields;if(bP(X[eR])){eP=X[eR]}else{eP=eN.fields[eR]}Y.push(eP)}return Y}};var cM=aA.extend({init:function(X){this._axis=X},slot:function(Y,X){return this._axis.slot(Y,X)},range:function(){return this._axis.range()}});function bc(eM,Y,eO,eN){var X,eQ=(eN.x-eO.x)*(eM.y-eO.y)-(eN.y-eO.y)*(eM.x-eO.x),eR=(eN.y-eO.y)*(Y.x-eM.x)-(eN.x-eO.x)*(Y.y-eM.y),eP;if(eR!==0){eP=(eQ/eR);X=new d2(eM.x+eP*(Y.x-eM.x),eM.y+eP*(Y.y-eM.y))}return X}function dX(eU,eR){var eP=eU.series,eQ,Y=eP.length,eN,eM=eU.seriesDefaults,eS=aM({},eU.seriesDefaults),X=eR?aM({},eR.seriesDefaults):{},eT=aM({},X);cO(eS);cO(eT);for(eQ=0;eQ<Y;eQ++){eN=eP[eQ].type||eU.seriesDefaults.type;var eO=aM({data:[]},eT,X[eN],{tooltip:eU.tooltip},eS,eM[eN]);eP[eQ]._defaults=eO;eP[eQ]=aM({},eO,eP[eQ])}}function cO(X){delete X.bar;delete X.column;delete X.rangeColumn;delete X.line;delete X.verticalLine;delete X.pie;delete X.donut;delete X.area;delete X.verticalArea;delete X.scatter;delete X.scatterLine;delete X.bubble;delete X.candlestick;delete X.ohlc;delete X.boxPlot;delete X.bullet;delete X.verticalBullet;delete X.polarArea;delete X.polarLine;delete X.radarArea;delete X.radarLine;delete X.waterfall}function ai(eM){var eP=eM.series,Y=eM.seriesColors||[],eO,eN,X,eQ;for(eO=0;eO<eP.length;eO++){eN=eP[eO];X=Y[eO%Y.length];eN.color=eN.color||X;eQ=eN._defaults;if(eQ){eQ.color=eQ.color||X}}}function z(X){var Y;bH([cR,cT,d9,d8],function(){Y=this+"Axes";if(X[Y]){X[this+"Axis"]=X[Y];delete X[Y]}})}function w(Y,X){var eM=((X||{}).axisDefaults)||{};bH([cR,cT,d9,d8],function(){var eP=this+"Axis",eO=[].concat(Y[eP]),eN=Y.axisDefaults||{};eO=es.map(eO,function(eS){var eR=(eS||{}).color;var eQ=aM({},eM,eM[eP],eN,eN[eP],{line:{color:eR},labels:{color:eR},title:{color:eR}},eS);delete eQ[eP];return eQ});Y[eP]=eO.length>1?eO:eO[0]})}function dr(eM){var eN=eM.length,X=0,Y;for(Y=0;Y<eN;Y++){X=eD.max(X,eM[Y].data.length)}return X}function au(X){return X*X}eG(es.easing,{easeOutElastic:function(eQ,eP,eO,eN){var Y=1.70158,eM=0,X=eN;if(eQ===0){return eO}if(eQ===1){return eO+eN}if(!eM){eM=0.5}if(X<eD.abs(eN)){X=eN;Y=eM/4}else{Y=eM/(2*eD.PI)*eD.asin(eN/X)}return X*eD.pow(2,-10*eQ)*eD.sin((eQ*1-Y)*(1.1*eD.PI)/eM)+eN+eO}});function c5(Y,eM){if(eM===null){return eM}var X=cp(Y,true);return X(eM)}function aj(eM,eN){if(eN===null){return eN}var X="_date_"+eM,Y=eN[X];if(!Y){Y=cB(cp(eM,true)(eN));eN[X]=Y}return Y}function cB(eM){var X,Y;if(eM instanceof Date){X=eM}else{if(typeof eM===l){X=cY.parseDate(eM)||new Date(eM)}else{if(eM){if(V(eM)){X=[];for(Y=0;Y<eM.length;Y++){X.push(cB(eM[Y]))}}else{X=new Date(eM)}}}}return X}function bL(X){if(V(X)){return bq(X,bL)}else{if(X){return cB(X).getTime()}}}function cH(eM,eP,eO,eN){var X=eM,Y;if(eM){eM=cB(eM);Y=eM.getHours();if(eO===eu){X=new Date(eM.getFullYear()+eP,0,1);cY.date.adjustDST(X,0)}else{if(eO===r){X=new Date(eM.getFullYear(),eM.getMonth()+eP,1);cY.date.adjustDST(X,Y)}else{if(eO===bv){X=cH(cW(eM,eN),eP*7,c3);cY.date.adjustDST(X,Y)}else{if(eO===c3){X=new Date(eM.getFullYear(),eM.getMonth(),eM.getDate()+eP);cY.date.adjustDST(X,Y)}else{if(eO===c1){X=new Date(eM.getFullYear(),eM.getMonth(),eM.getDate(),eM.getHours()+eP);if(eP>0&&dt(eM,X)){X=cH(eM,eP+1,eO,eN)}}else{if(eO===E){X=new Date(eM.getTime()+eP*aD);if(X.getSeconds()>0){X.setSeconds(0)}}else{if(eO===b9){X=new Date(eM.getTime()+eP*cX)}}}}}}}if(X.getMilliseconds()>0){X.setMilliseconds(0)}}return X}function cW(eM,eN){var X=eM.getDay(),Y=0;if(!isNaN(X)){eN=eN||0;while(X!==eN){if(X===0){X=6}else{X--}Y++}}return n(eM,-Y*dB)}function ek(X,eM,Y){X=cB(X);return cH(X,0,eM,Y)}function aO(X,eM,Y){X=cB(X);if(X&&ek(X,eM,Y).getTime()===X.getTime()){return X}return cH(X,1,eM,Y)}function S(Y,X){var eN=Y.getTime()-X,eM=Y.getTimezoneOffset()-X.getTimezoneOffset();return eN-(eM*aD)}function n(Y,eN){var eM=Y.getTimezoneOffset(),X=new Date(Y.getTime()+eN),eO=X.getTimezoneOffset()-eM;return new Date(X.getTime()+eO*aD)}function cn(Y,X,eM){var eN;if(eM===eu){eN=X.getFullYear()-Y.getFullYear()}else{if(eM===r){eN=cn(Y,X,eu)*12+X.getMonth()-Y.getMonth()}else{if(eM===c3){eN=eD.floor(S(X,Y)/dB)}else{eN=eD.floor((X-Y)/a4[eM])}}}return eN}function al(X){return X.length===1?X[0]:X}function b0(eO){var eN=eO.length,eM,Y,X;if(eN>0){for(Y=0;Y<eN;Y++){X=eO[Y].box;if(!eM){eM=X.clone()}else{eM.wrap(X)}}}return eM||cL()}function cz(Y,X){if(Y&&X){return Y.toLowerCase()===X.toLowerCase()}return Y===X}function dt(Y,X){if(Y&&X){return bL(Y)===bL(X)}return Y===X}function u(eM){var X=eM.length,Y;while(X--){Y=eM[X];if(bP(Y)&&Y!==null){return Y}}}function ag(Y,X){if(X!==null){Y.push(X)}}function T(eN,eM){var X=0,eP=eM.length-1,eO,Y;while(X<=eP){eO=eD.floor((X+eP)/2);Y=eM[eO];if(Y<eN){X=eO+1;continue}if(Y>eN){eP=eO-1;continue}while(dt(eM[eO-1],eN)){eO--}return eO}if(eM[eO]<=eN){return eO}else{return eO-1}}function t(X){return typeof X==="number"&&!isNaN(X)}function ae(X){var eO=X.length,eN=0,eM,Y;for(eM=0;eM<eO;eM++){Y=X[eM];if(t(Y)){eN++}}return eN}function K(X){return ae(X)===X.length}function cJ(eN){var Y,eM,eO,X={};for(Y=0;Y<eN.length;Y++){eM=eN[Y];eO=eM.options.name;if(eO){X[eO]=eM.range()}}return X}function bn(eT,eN,X,eQ){var eS,eM,eR,eO,eP,Y=false;X=X||{};eR=X.excluded=X.excluded||[];eO=X.defaults=X.defaults||{};eP=X.depth=X.depth||0;if(eP>ei){return}for(eS in eT){if(!dP(eS,X.excluded)&&eT.hasOwnProperty(eS)){eM=eT[eS];if(cQ(eM)){Y=true;if(!eQ){eT[eS]=bR(eM(eN),eO[eS])}}else{if(typeof eM===e){X.defaults=eO[eS];X.depth++;Y=bn(eM,eN,X,eQ)||Y;X.depth--}}}}return Y}function ax(Y,eO){var X=[],eR,eM=Y.groupNameTemplate,eN,eP=eO.length,eQ;if(eP===0){eQ=aM({},Y);eQ.visibleInLegend=false;return[eQ]}if(bP(eM)){cY.logToConsole("'groupNameTemplate' is obsolete and will be removed in future versions. Specify the group name template as 'series.name'");if(eM){eR=m(eM)}}else{eR=m(Y.name||"");if(eR._slotCount===0){eR=m(bP(Y.name)?"#= group.value #: #= series.name #":"#= group.value #")}}for(eN=0;eN<eP;eN++){eQ=aM({},Y);if(!cQ(eQ.color)){eQ.color=et}eQ._groupIx=eN;X.push(eQ);if(eR){eQ.name=eR({series:eQ,group:eO[eN]})}}return X}function a0(eO,eN){var eM,Y,X=[];eN=[].concat(eN);for(eM=0;eM<eO.length;eM++){Y=eO[eM];if(dP(Y.type,eN)){X.push(Y)}}return X}function ct(eN,X){if(eN instanceof Date){for(var Y=0,eM=X.length;Y<eM;Y++){if(dt(X[Y],eN)){return Y}}return -1}else{return es.inArray(eN,X)}}function df(eN,Y){Y=Y||by;for(var X=1,eM=eN.length;X<eM;X++){if(Y(eN[X],eN[X-1])<0){eN.sort(Y);break}}return eN}function W(eP,eM){var Y,eO=df(eP,eM),eN=eO.length,X=eN>0?[eO[0]]:[];eM=eM||by;for(Y=1;Y<eN;Y++){if(eM(eO[Y],dW(X))!==0){X.push(eO[Y])}}return X}function cF(eN,X){var Y=eN.type,eM=X instanceof Date;return(!Y&&eM)||cz(Y,ec)}function dc(eN){var X=[],Y=eN.length,eQ,eP,eO,eM;for(eQ=0;eQ<Y;eQ++){eP=eN[eQ];eM=eP.length;for(eO=0;eO<eM;eO++){X[eO]=X[eO]||[];X[eO].push(eP[eO])}}return X}function d3(eO,eM){if(eO.indexOf(".")>-1){var Y=eO.split("."),X="",eN;while(Y.length>1){X+=Y.shift();eN=cY.getter(X)(eM)||{};cY.setter(X)(eM,eN);X+="."}}}function bV(eM){var eP=eM.data;var eN=0;for(var Y=0;Y<eP.length;Y++){var X=bB.current.bindPoint(eM,Y);var eO=X.valueFields.value;if(typeof eO===l){eO=parseFloat(eO)}if(t(eO)&&X.fields.visible!==false){eN+=eD.abs(eO)}}return eN}function aC(Y){var X=Y.overlay;return X&&X.gradient&&X.gradient!="none"}function aa(){return this}function cZ(Y){for(var X=0;X<Y.length;X++){if(bP(Y[X].zIndex)){return true}}}function ba(){this._defaultPrevented=true}function ef(eM,Y){if(eM){for(var X=0;X<eM.length;X++){if(eM[X].category===Y){return[eM[X]]}}}}function eF(X){return bP(X)&&X!==null}cl.ui.plugin(cG);a9.current.register(dY,[cs,bI,bE,eK,dh,bj,ad,at,dd,a1,bu,az,aR,bD,eH]);a9.current.register(aZ,[ac,N,bF]);a9.current.register(dV,[di]);a9.current.register(F,[cw]);bB.current.register([cs,bI,bE,eK,dh,bj],[cT],[cR,bM,aT,eh,cc]);bB.current.register([az,aR],[P,ce],[cR,bM,aT]);bB.current.register([bD,eH],[cT],[cR,bM,aT,dK]);bh.current.register([cs,bI,bE,eK,dh,bj,bD,eH],{value:dx,color:cr,noteText:cr,errorLow:b8,errorHigh:dx});bh.current.register([az,aR],{from:b8,to:dx,color:cr,noteText:cr});bB.current.register([ac,N,bF],[d9,d8],[bM,aT,aq,M,B,dm]);bB.current.register([bF],[d9,d8,"size"],[bM,cR,aT]);bB.current.register([ad,at],["open","high","low","close"],[cR,bM,"downColor",aT]);bh.current.register([ad,at],{open:dx,high:dx,low:b8,close:dx,color:cr,downColor:cr,noteText:cr});bB.current.register([bu],["lower","q1","median","q3","upper","mean","outliers"],[cR,bM,aT]);bh.current.register([bu],{lower:dx,q1:dx,median:dx,q3:dx,upper:dx,mean:dx,outliers:cr,color:cr,noteText:cr});bB.current.register([dd,a1],["current","target"],[cR,bM,"visibleInLegend",aT]);bh.current.register([dd,a1],{current:dx,target:dx,color:cr,noteText:cr});bB.current.register([di,cw],[cT],[cR,bM,"explode","visibleInLegend","visible"]);aM(cl,{EQUALLY_SPACED_SERIES:dH,Aggregates:cj,AreaChart:er,AreaSegment:ay,AxisGroupRangeTracker:eo,Bar:aG,BarChart:dv,BarLabel:bg,BubbleChart:U,Bullet:ao,BulletChart:dp,CandlestickChart:en,Candlestick:bd,CategoricalChart:dZ,CategoricalErrorBar:cK,CategoricalPlotArea:dY,CategoryAxis:bT,ChartAxis:cM,ChartContainer:dT,ClipAnimation:dg,ClusterLayout:bi,Crosshair:dk,CrosshairTooltip:G,DateCategoryAxis:bY,DateValueAxis:aB,DefaultAggregates:bh,DonutChart:ey,DonutPlotArea:F,DonutSegment:cU,ErrorBarBase:c2,ErrorRangeCalculator:be,Highlight:aK,SharedTooltip:bG,Legend:dy,LegendItem:av,LegendLayout:eA,LineChart:ci,LinePoint:d7,LineSegment:c0,Pane:cD,PieAnimation:cV,PieChart:b5,PieChartMixin:eI,PiePlotArea:dV,PieSegment:dO,PlotAreaBase:c6,PlotAreaFactory:a9,PointEventsMixin:q,RangeBar:dI,RangeBarChart:ak,ScatterChart:db,ScatterErrorBar:ez,ScatterLineChart:aS,Selection:ep,SeriesAggregator:b1,SeriesBinder:bB,ShapeElement:v,SplineSegment:b2,SplineAreaSegment:d0,StackWrap:dL,Tooltip:dQ,OHLCChart:g,OHLCPoint:bz,WaterfallChart:bk,WaterfallSegment:dD,XYPlotArea:aZ,addDuration:cH,areNumbers:K,axisGroupBox:b0,categoriesCount:dr,ceilDate:aO,countNumbers:ae,duration:cn,ensureTree:d3,indexOf:ct,isNumber:t,floorDate:ek,filterSeriesByType:a0,hasValue:eF,lteDateIndex:T,evalOptions:bn,seriesTotal:bV,singleItemOrArray:al,sortDates:df,startOfWeek:cW,transpose:dc,toDate:cB,toTime:bL,uniqueDates:W})})(window.kendo.jQuery);(function(al,q){var C=Math,l=window.kendo,aE=l.deepExtend,am=l.util,B=am.append,ab=l.drawing,az=l.geometry,T=l.dataviz,x=T.AreaSegment,u=T.Axis,af=T.AxisGroupRangeTracker,i=T.BarChart,m=T.Box2D,I=T.CategoryAxis,s=T.CategoricalChart,H=T.CategoricalPlotArea,aa=T.ChartElement,at=T.CurveProcessor,aH=T.DonutSegment,W=T.LineChart,d=T.LineSegment,ax=T.LogarithmicAxis,S=T.NumericAxis,ao=T.PlotAreaBase,z=T.PlotAreaFactory,b=T.Point2D,E=T.Ring,A=T.ScatterChart,g=T.ScatterLineChart,f=T.SeriesBinder,o=T.ShapeBuilder,ag=T.SplineSegment,aw=T.SplineAreaSegment,n=T.getSpacing,aj=T.filterSeriesByType,ay=am.limitValue,y=T.round;var v="arc",p="#000",D=T.COORD_PRECISION,aB=0.15,ah=C.PI/180,ak="gap",K="interpolate",Q="log",ac="plotAreaClick",ae="polarArea",an="polarLine",G="polarScatter",J="radarArea",aJ="radarColumn",U="radarLine",aG="smooth",P="x",N="y",F="zero",t=[ae,an,G],aD=[J,aJ,U];var ad={createGridLines:function(aO){var aM=this,aK=aM.options,Y=C.abs(aM.box.center().y-aO.lineBox().y1),aN,X,aP=false,aL=[];if(aK.majorGridLines.visible){aN=aM.majorGridLineAngles(aO);aP=true;aL=aM.renderMajorGridLines(aN,Y,aK.majorGridLines)}if(aK.minorGridLines.visible){X=aM.minorGridLineAngles(aO,aP);B(aL,aM.renderMinorGridLines(X,Y,aK.minorGridLines,aO,aP))}return aL},renderMajorGridLines:function(aK,X,Y){return this.renderGridLines(aK,X,Y)},renderMinorGridLines:function(aN,X,aK,aL,aM){var Y=this.radiusCallback&&this.radiusCallback(X,aL,aM);return this.renderGridLines(aN,X,aK,Y)},renderGridLines:function(aO,aN,aR,aP){var aK={stroke:{width:aR.width,color:aR.color,dashType:aR.dashType}};var X=this.box.center();var Y=new az.Circle([X.x,X.y],aN);var aL=this.gridLinesVisual();for(var aM=0;aM<aO.length;aM++){var aQ=new ab.Path(aK);if(aP){Y.radius=aP(aO[aM])}aQ.moveTo(Y.center).lineTo(Y.pointAt(aO[aM]));aL.append(aQ)}return aL.children},gridLineAngles:function(aL,aP,aO,aK,X){var aM=this,aN=aM.intervals(aP,aO,aK,X),aQ=aL.options,Y=aQ.visible&&(aQ.line||{}).visible!==false;return al.map(aN,function(aS){var aR=aM.intervalAngle(aS);if(!Y||aR!==90){return aR}})}};var Z=I.extend({options:{startAngle:90,labels:{margin:n(10)},majorGridLines:{visible:true},justified:true},range:function(){return{min:0,max:this.options.categories.length}},reflow:function(X){this.box=X;this.reflowLabels()},lineBox:function(){return this.box},reflowLabels:function(){var aM=this,X=aM.options.labels,aO=X.skip||0,aN=X.step||1,aL=new m(),aP=aM.labels,aK,Y;for(Y=0;Y<aP.length;Y++){aP[Y].reflow(aL);aK=aP[Y].box;aP[Y].reflow(aM.getSlot(aO+Y*aN).adjacentBox(0,aK.width(),aK.height()))}},intervals:function(aT,aS,Y,X){var aK=this,aU=aK.options,aO=aU.categories.length,aL=0,aR=0,aP=aO/aT||1,aM=360/aP,aQ=[],aN;aS=aS||0;Y=Y||1;for(aN=aS;aN<aP;aN+=Y){if(aU.reverse){aL=360-aN*aM}else{aL=aN*aM}aL=y(aL,D)%360;if(!(X&&T.inArray(aL,X))){aQ.push(aL)}}return aQ},majorIntervals:function(){return this.intervals(1)},minorIntervals:function(){return this.intervals(0.5)},intervalAngle:function(X){return(360+X+this.options.startAngle)%360},majorAngles:function(){return al.map(this.majorIntervals(),al.proxy(this.intervalAngle,this))},createLine:function(){return[]},majorGridLineAngles:function(Y){var X=this.options.majorGridLines;return this.gridLineAngles(Y,1,X.skip,X.step)},minorGridLineAngles:function(aL,aN){var Y=this.options;var X=Y.minorGridLines;var aK=Y.majorGridLines;var aM=aN?this.intervals(1,aK.skip,aK.step):null;return this.gridLineAngles(aL,0.5,X.skip,X.step,aM)},radiusCallback:function(X,aN,aO){if(aN.options.type!==v){var aL=360/(this.options.categories.length*2);var Y=C.cos(aL*ah)*X;var aM=this.majorAngles();var aK=function(aP){if(!aO&&T.inArray(aP,aM)){return X}else{return Y}};return aK}},createPlotBands:function(){var X=this,aS=X.options,aQ=aS.plotBands||[],aL,aR,aO,aK,aN,aM;var aP=this._plotbandGroup=new ab.Group({zIndex:-1});for(aL=0;aL<aQ.length;aL++){aR=aQ[aL];aO=X.plotBandSlot(aR);aK=X.getSlot(aR.from);aN=aR.from-C.floor(aR.from);aO.startAngle+=aN*aK.angle;aM=C.ceil(aR.to)-aR.to;aO.angle-=(aM+aN)*aK.angle;var Y=o.current.createRing(aO,{fill:{color:aR.color,opacity:aR.opacity},stroke:{opacity:aR.opacity}});aP.append(Y)}X.appendVisual(aP)},plotBandSlot:function(X){return this.getSlot(X.from,X.to-1)},getSlot:function(aR,aS){var Y=this,aT=Y.options,aM=aT.justified,aN=Y.box,aQ=Y.majorAngles(),aO=aQ.length,aP,aL=360/aO,X,aK;if(aT.reverse&&!aM){aR=(aR+1)%aO}aR=ay(C.floor(aR),0,aO-1);X=aQ[aR];if(aM){X=X-aL/2;if(X<0){X+=360}}aS=ay(C.ceil(aS||aR),aR,aO-1);aP=aS-aR+1;aK=aL*aP;return new E(aN.center(),0,aN.height()/2,X,aK)},slot:function(aN,aM){var Y=this.options;var aL=this.getSlot(aN,aM);var aK=aL.startAngle+180;var X=aK+aL.angle;return new az.Arc([aL.c.x,aL.c.y],{startAngle:aK,endAngle:X,radiusX:aL.r,radiusY:aL.r})},pointCategoryIndex:function(X){var aL=this,Y=null,aK,aM=aL.options.categories.length,aN;for(aK=0;aK<aM;aK++){aN=aL.getSlot(aK);if(aN.containsPoint(X)){Y=aK;break}}return Y}});aE(Z.fn,ad);var e={options:{majorGridLines:{visible:true}},createPlotBands:function(){var aK=this,aV=aK.options,aT=aV.plotBands||[],aP=aV.majorGridLines.type,Y=aK.plotArea.polarAxis,aR=Y.majorAngles(),X=Y.box.center(),aN,aU,aL,aQ,aM;var aS=this._plotbandGroup=new ab.Group({zIndex:-1});for(aN=0;aN<aT.length;aN++){aU=aT[aN];aL={fill:{color:aU.color,opacity:aU.opacity},stroke:{opacity:aU.opacity}};aQ=aK.getSlot(aU.from,aU.to,true);aM=new E(X,X.y-aQ.y2,X.y-aQ.y1,0,360);var aO;if(aP===v){aO=o.current.createRing(aM,aL)}else{aO=ab.Path.fromPoints(aK.plotBandPoints(aM,aR),aL).close()}aS.append(aO)}aK.appendVisual(aS)},plotBandPoints:function(aL,aP){var aK=[],Y=[];var X=[aL.c.x,aL.c.y];var aO=new az.Circle(X,aL.ir);var aN=new az.Circle(X,aL.r);for(var aM=0;aM<aP.length;aM++){aK.push(aO.pointAt(aP[aM]));Y.push(aN.pointAt(aP[aM]))}aK.reverse();aK.push(aK[0]);Y.push(Y[0]);return Y.concat(aK)},createGridLines:function(aO){var aM=this,aK=aM.options,aP=aM.radarMajorGridLinePositions(),aN=aO.majorAngles(),Y,X=aO.box.center(),aL=[];if(aK.majorGridLines.visible){aL=aM.renderGridLines(X,aP,aN,aK.majorGridLines)}if(aK.minorGridLines.visible){Y=aM.radarMinorGridLinePositions();B(aL,aM.renderGridLines(X,Y,aN,aK.minorGridLines))}return aL},renderGridLines:function(X,aR,aQ,aT){var aN=this,Y,aO,aP;var aM={stroke:{width:aT.width,color:aT.color,dashType:aT.dashType}};var aL=this.gridLinesVisual();for(aO=0;aO<aR.length;aO++){Y=X.y-aR[aO];if(Y>0){var aK=new az.Circle([X.x,X.y],Y);if(aT.type===v){aL.append(new ab.Circle(aK,aM))}else{var aS=new ab.Path(aM);for(aP=0;aP<aQ.length;aP++){aS.lineTo(aK.pointAt(aQ[aP]))}aS.close();aL.append(aS)}}}return aL.children},getValue:function(aU){var aO=this,aX=aO.options,aR=aO.lineBox(),aN=aO.plotArea.polarAxis,aT=aN.majorAngles(),Y=aN.box.center(),X=aU.distanceTo(Y),aK=X;if(aX.majorGridLines.type!==v&&aT.length>1){var aW=aU.x-Y.x,aV=aU.y-Y.y,aL=(C.atan2(aV,aW)/ah+540)%360;aT.sort(function(aZ,aY){return M(aZ,aL)-M(aY,aL)});var aM=M(aT[0],aT[1])/2,aQ=M(aL,aT[0]),aP=90-aM,aS=180-aQ-aP;aK=X*(C.sin(aS*ah)/C.sin(aP*ah))}return aO.axisType().fn.getValue.call(aO,new b(aR.x1,aR.y2-aK))}};var h=S.extend({radarMajorGridLinePositions:function(){return this.getTickPositions(this.options.majorUnit)},radarMinorGridLinePositions:function(){var aK=this,Y=aK.options,X=0;if(Y.majorGridLines.visible){X=Y.majorUnit}return aK.getTickPositions(Y.minorUnit,X)},axisType:function(){return S}});aE(h.fn,e);var r=ax.extend({radarMajorGridLinePositions:function(){var Y=this,X=[];Y.traverseMajorTicksPositions(function(aK){X.push(aK)},Y.options.majorGridLines);return X},radarMinorGridLinePositions:function(){var Y=this,X=[];Y.traverseMinorTicksPositions(function(aK){X.push(aK)},Y.options.minorGridLines);return X},axisType:function(){return ax}});aE(r.fn,e);var aI=u.extend({init:function(X){var Y=this;u.fn.init.call(Y,X);X=Y.options;X.minorUnit=X.minorUnit||Y.options.majorUnit/2},options:{type:"polar",startAngle:0,reverse:false,majorUnit:60,min:0,max:360,labels:{margin:n(10)},majorGridLines:{color:p,visible:true,width:1},minorGridLines:{color:"#aaa"}},getDivisions:function(X){return S.fn.getDivisions.call(this,X)-1},reflow:function(X){this.box=X;this.reflowLabels()},reflowLabels:function(){var Y=this,aR=Y.options,aL=aR.labels,aP=aL.skip||0,X=aL.step||1,aN=new m(),aO=Y.intervals(aR.majorUnit,aP,X),aM=Y.labels,aQ,aK;for(aK=0;aK<aM.length;aK++){aM[aK].reflow(aN);aQ=aM[aK].box;aM[aK].reflow(Y.getSlot(aO[aK]).adjacentBox(0,aQ.width(),aQ.height()))}},lineBox:function(){return this.box},intervals:function(aR,aQ,aK,X){var aL=this,aS=aL.options,Y=aL.getDivisions(aR),aM=aS.min,aO,aP=[],aN;aQ=aQ||0;aK=aK||1;for(aN=aQ;aN<Y;aN+=aK){aO=(360+aM+aN*aR)%360;if(!(X&&T.inArray(aO,X))){aP.push(aO)}}return aP},majorIntervals:function(){return this.intervals(this.options.majorUnit)},minorIntervals:function(){return this.intervals(this.options.minorUnit)},intervalAngle:function(X){return(540-X-this.options.startAngle)%360},majorAngles:Z.fn.majorAngles,createLine:function(){return[]},majorGridLineAngles:function(Y){var X=this.options.majorGridLines;return this.gridLineAngles(Y,this.options.majorUnit,X.skip,X.step)},minorGridLineAngles:function(aL,aN){var Y=this.options;var X=Y.minorGridLines;var aK=Y.majorGridLines;var aM=aN?this.intervals(Y.majorUnit,aK.skip,aK.step):null;return this.gridLineAngles(aL,this.options.minorUnit,X.skip,X.step,aM)},createPlotBands:Z.fn.createPlotBands,plotBandSlot:function(X){return this.getSlot(X.from,X.to)},getSlot:function(Y,X){var aM=this,aK=aM.options,aO=aK.startAngle,aN=aM.box,aL;Y=ay(Y,aK.min,aK.max);X=ay(X||Y,Y,aK.max);if(aK.reverse){Y*=-1;X*=-1}Y=(540-Y-aO)%360;X=(540-X-aO)%360;if(X<Y){aL=Y;Y=X;X=aL}return new E(aN.center(),0,aN.height()/2,Y,X-Y)},slot:function(aN,aO){var aQ=this.options;var X=360-aQ.startAngle;var aP=this.getSlot(aN,aO);var aL;var Y;var aK;var aM;if(!T.util.defined(aO)){aO=aN}aK=C.min(aN,aO);aM=C.max(aN,aO);if(aQ.reverse){aL=aK;Y=aM}else{aL=360-aM;Y=360-aK}aL=(aL+X)%360;Y=(Y+X)%360;return new az.Arc([aP.c.x,aP.c.y],{startAngle:aL,endAngle:Y,radiusX:aP.r,radiusY:aP.r})},getValue:function(Y){var aO=this,aM=aO.options,X=aO.box.center(),aL=Y.x-X.x,aK=Y.y-X.y,aN=C.round(C.atan2(aK,aL)/ah),aP=aM.startAngle;if(!aM.reverse){aN*=-1;aP*=-1}return(aN+aP+360)%360},range:S.fn.range,labelsCount:S.fn.labelsCount,createAxisLabel:S.fn.createAxisLabel});aE(aI.fn,ad);var O=aa.extend({options:{gap:1,spacing:0},reflow:function(aL){var aS=this,aT=aS.options,X=aS.children,aR=aT.gap,aQ=aT.spacing,aO=X.length,aP=aO+aR+(aQ*(aO-1)),aK=aL.angle/aP,aM,Y=aL.startAngle+aK*(aR/2),aN;for(aN=0;aN<aO;aN++){aM=aL.clone();aM.startAngle=Y;aM.angle=aK;if(X[aN].sector){aM.r=X[aN].sector.r}X[aN].reflow(aM);X[aN].sector=aM;Y+=aK+(aK*aQ)}}});var aC=aa.extend({reflow:function(aK){var aQ=this,aP=aQ.options.isReversed,X=aQ.children,aL=X.length,aO,aM,aN=aP?aL-1:0,Y=aP?-1:1;aQ.box=new m();for(aM=aN;aM>=0&&aM<aL;aM+=Y){aO=X[aM].sector;aO.startAngle=aK.startAngle;aO.angle=aK.angle}}});var j=aH.extend({init:function(Y,X){aH.fn.init.call(this,Y,null,X)},options:{overlay:{gradient:null},labels:{distance:10}}});var L=i.extend({pointType:function(){return j},clusterType:function(){return O},stackType:function(){return aC},categorySlot:function(Y,X){return Y.getSlot(X)},pointSlot:function(X,Y){var aL=X.clone(),aK=X.c.y;aL.r=aK-Y.y1;aL.ir=aK-Y.y2;return aL},reflow:s.fn.reflow,reflowPoint:function(X,Y){X.sector=Y;X.reflow()},options:{clip:false,animation:{type:"pie"}},createAnimation:function(){this.options.animation.center=this.box.toRect().center();i.fn.createAnimation.call(this)}});var ap=W.extend({options:{clip:false},pointSlot:function(Y,aK){var X=Y.c.y-aK.y1,aL=b.onCircle(Y.c,Y.middle(),X);return new m(aL.x,aL.y,aL.x,aL.y)},createSegment:function(aN,Y,X){var aL,aM,aK=Y.style;if(aK==aG){aM=ag}else{aM=d}aL=new aM(aN,Y,X);if(aN.length===Y.data.length){aL.options.closed=true}return aL}});var ar=x.extend({points:function(){return d.fn.points.call(this,this.stackPoints)}});var k=aw.extend({closeFill:al.noop});var aq=ap.extend({createSegment:function(aM,aP,aR,Y){var aL=this,aQ=aL.options,aN=aQ.isStacked,aO,aK,X=(aP.line||{}).style;if(X===aG){aK=new k(aM,Y,aN,aP,aR);aK.options.closed=true}else{if(aN&&aR>0&&Y){aO=Y.linePoints.slice(0).reverse()}aM.push(aM[0]);aK=new ar(aM,aO,aP,aR)}return aK},seriesMissingValues:function(X){return X.missingValues||F}});var V=A.extend({pointSlot:function(aL,Y){var X=aL.c.y-Y.y1,aK=b.onCircle(aL.c,aL.startAngle,X);return new m(aK.x,aK.y,aK.x,aK.y)},options:{clip:false}});var au=g.extend({pointSlot:V.fn.pointSlot,options:{clip:false}});var aF=x.extend({points:function(){var aL=this,aK=aL.parent,aN=aK.plotArea,aM=aN.polarAxis,X=aM.box.center(),aO=aL.stackPoints,Y=d.fn.points.call(aL,aO);Y.unshift([X.x,X.y]);Y.push([X.x,X.y]);return Y}});var w=aw.extend({closeFill:function(Y){var X=this._polarAxisCenter();Y.lineTo(X.x,X.y)},_polarAxisCenter:function(){var Y=this.parent,aL=Y.plotArea,aK=aL.polarAxis,X=aK.box.center();return X},strokeSegments:function(){var Y=this._strokeSegments;if(!Y){var X=this._polarAxisCenter(),aK=new at(false),aL=d.fn.points.call(this);aL.push(X);Y=this._strokeSegments=aK.process(aL);Y.pop()}return Y}});var av=au.extend({createSegment:function(aM,Y,X){var aL,aK=(Y.line||{}).style;if(aK==aG){aL=new w(aM,null,false,Y,X)}else{aL=new aF(aM,[],Y,X)}return aL},createMissingValue:function(aK,X){var Y;if(T.hasValue(aK.x)&&X!=K){Y={x:aK.x,y:aK.y};if(X==F){Y.y=0}}return Y},seriesMissingValues:function(X){return X.missingValues||F},_hasMissingValuesGap:function(){var Y=this.options.series;for(var X=0;X<Y.length;X++){if(this.seriesMissingValues(Y[X])===ak){return true}}},sortPoints:function(aK){var aL,aM,Y;aK.sort(R);if(this._hasMissingValuesGap()){for(var X=0;X<aK.length;X++){Y=aK[X];if(Y){aM=Y.value;if(!T.hasValue(aM.y)&&this.seriesMissingValues(Y.series)===ak){delete aK[X]}}}}return aK}});var aA=ao.extend({init:function(Y,X){var aK=this;aK.valueAxisRangeTracker=new af();ao.fn.init.call(aK,Y,X)},render:function(){var X=this;X.addToLegend(X.series);X.createPolarAxis();X.createCharts();X.createValueAxis()},alignAxes:function(){var aL=this.valueAxis;var Y=aL.range();var aN=aL.options.reverse?Y.max:Y.min;var aM=aL.getSlot(aN);var X=this.polarAxis.getSlot(0).c;var aK=aL.box.translate(X.x-aM.x1,X.y-aM.y1);aL.reflow(aK)},createValueAxis:function(){var aN=this,aL=aN.valueAxisRangeTracker,aM=aL.query(),Y,aP,aO=aN.valueAxisOptions({roundToMajorUnit:false,zIndex:-1}),X,aK;if(aO.type===Q){X=r;aK={min:0.1,max:1}}else{X=h;aK={min:0,max:1}}Y=aL.query(name)||aM||aK;if(Y&&aM){Y.min=C.min(Y.min,aM.min);Y.max=C.max(Y.max,aM.max)}aP=new X(Y.min,Y.max,aO);aN.valueAxis=aP;aN.appendAxis(aP)},reflowAxes:function(){var X=this,aR=X.options.plotArea,aQ=X.valueAxis,aL=X.polarAxis,aM=X.box,Y=C.min(aM.width(),aM.height())*aB,aO=n(aR.padding||{},Y),aP=aM.clone().unpad(aO),aN=aP.clone().shrink(0,aP.height()/2);aL.reflow(aP);aQ.reflow(aN);var aK=aQ.lineBox().height()-aQ.box.height();aQ.reflow(aQ.box.unpad({top:aK}));X.axisBox=aP;X.alignAxes(aP)},backgroundBox:function(){return this.box}});var c=aA.extend({options:{categoryAxis:{categories:[]},valueAxis:{}},createPolarAxis:function(){var X=this,Y;Y=new Z(X.options.categoryAxis);X.polarAxis=Y;X.categoryAxis=Y;X.appendAxis(Y)},valueAxisOptions:function(Y){var X=this;if(X._hasBarCharts){aE(Y,{majorGridLines:{type:v},minorGridLines:{type:v}})}if(X._isStacked100){aE(Y,{roundToMajorUnit:false,labels:{format:"P0"}})}return aE(Y,X.options.valueAxis)},appendChart:H.fn.appendChart,createCharts:function(){var Y=this,X=Y.filterVisibleSeries(Y.series),aK=Y.panes[0];Y.createAreaChart(aj(X,[J]),aK);Y.createLineChart(aj(X,[U]),aK);Y.createBarChart(aj(X,[aJ]),aK)},chartOptions:function(aL){var aK={series:aL};var aM=aL[0];if(aM){var Y=this.filterVisibleSeries(aL);var X=aM.stack;aK.isStacked=X&&Y.length>1;aK.isStacked100=X&&X.type==="100%"&&Y.length>1;if(aK.isStacked100){this._isStacked100=true}}return aK},createAreaChart:function(Y,aK){if(Y.length===0){return}var X=new aq(this,this.chartOptions(Y));this.appendChart(X,aK)},createLineChart:function(Y,aK){if(Y.length===0){return}var X=new ap(this,this.chartOptions(Y));this.appendChart(X,aK)},createBarChart:function(Y,aM){if(Y.length===0){return}var aL=Y[0];var X=this.chartOptions(Y);X.gap=aL.gap;X.spacing=aL.spacing;var aK=new L(this,X);this.appendChart(aK,aM);this._hasBarCharts=true},seriesCategoryAxis:function(){return this.categoryAxis},click:function(Y,aO){var aN=this,aM=Y._eventCoordinates(aO),X=new b(aM.x,aM.y),aK,aL;aK=aN.categoryAxis.getCategory(X);aL=aN.valueAxis.getValue(X);if(aK!==null&&aL!==null){Y.trigger(ac,{element:al(aO.target),category:aK,value:aL})}},createCrosshairs:al.noop});var ai=aA.extend({options:{xAxis:{},yAxis:{}},createPolarAxis:function(){var Y=this,X;X=new aI(Y.options.xAxis);Y.polarAxis=X;Y.axisX=X;Y.appendAxis(X)},valueAxisOptions:function(Y){var X=this;return aE(Y,{majorGridLines:{type:v},minorGridLines:{type:v}},X.options.yAxis)},createValueAxis:function(){var X=this;aA.fn.createValueAxis.call(X);X.axisY=X.valueAxis},appendChart:function(X,aK){var Y=this;Y.valueAxisRangeTracker.update(X.yAxisRanges);ao.fn.appendChart.call(Y,X,aK)},createCharts:function(){var Y=this,X=Y.filterVisibleSeries(Y.series),aK=Y.panes[0];Y.createLineChart(aj(X,[an]),aK);Y.createScatterChart(aj(X,[G]),aK);Y.createAreaChart(aj(X,[ae]),aK)},createLineChart:function(Y,aL){if(Y.length===0){return}var aK=this,X=new au(aK,{series:Y});aK.appendChart(X,aL)},createScatterChart:function(X,aL){if(X.length===0){return}var Y=this,aK=new V(Y,{series:X});Y.appendChart(aK,aL)},createAreaChart:function(Y,aL){if(Y.length===0){return}var aK=this,X=new av(aK,{series:Y});aK.appendChart(X,aL)},click:function(aL,aO){var aN=this,aM=aL._eventCoordinates(aO),X=new b(aM.x,aM.y),aK,Y;aK=aN.axisX.getValue(X);Y=aN.axisY.getValue(X);if(aK!==null&&Y!==null){aL.trigger(ac,{element:al(aO.target),x:aK,y:Y})}},createCrosshairs:al.noop});function R(Y,X){return Y.value.x-X.value.x}function M(Y,X){return 180-C.abs(C.abs(Y-X)-180)}z.current.register(ai,t);z.current.register(c,aD);f.current.register(t,[P,N],["color"]);f.current.register(aD,["value"],["color"]);T.DefaultAggregates.current.register(aD,{value:"max",color:"first"});aE(T,{PolarAreaChart:av,PolarAxis:aI,PolarLineChart:au,PolarPlotArea:ai,RadarAreaChart:aq,RadarBarChart:L,RadarCategoryAxis:Z,RadarClusterLayout:O,RadarLineChart:ap,RadarNumericAxis:h,RadarPlotArea:c,SplinePolarAreaSegment:w,SplineRadarAreaSegment:k,RadarStackLayout:aC})})(window.kendo.jQuery);(function(g,i){var v=window.kendo,s=v.deepExtend,D=g.extend,z=v.isFunction,H=v.template,c=v.util,B=c.append,q=v.drawing,x=v.geometry,n=v.dataviz,I=v.drawing.Color,l=n.ChartElement,o=n.PieChartMixin,w=n.PlotAreaBase,m=n.PlotAreaFactory,E=n.Point2D,f=n.Box2D,A=n.SeriesBinder,r=n.TextBox,G=n.autoFormat,d=n.evalOptions,t=c.limitValue,p=n.seriesTotal;var k="category",j="color",b="funnel",h="value",e="black",F="white";var C=w.extend({render:function(){var K=this,J=K.series;K.createFunnelChart(J)},createFunnelChart:function(K){var M=this,L=K[0],J=new u(M,{series:K,legend:M.options.legend,neckRatio:L.neckRatio,dynamicHeight:L.dynamicHeight,dynamicSlope:L.dynamicSlope,segmentSpacing:L.segmentSpacing,highlight:L.highlight});M.appendChart(J)},appendChart:function(J,K){w.fn.appendChart.call(this,J,K);B(this.options.legend.items,J.legendItems)}});var u=l.extend({init:function(L,J){var K=this;l.fn.init.call(K,J);K.plotArea=L;K.points=[];K.labels=[];K.legendItems=[];K.render()},options:{neckRatio:0.3,width:300,dynamicSlope:false,dynamicHeight:true,segmentSpacing:0,labels:{visible:false,align:"center",position:"center"}},formatPointValue:function(J,K){return G(K,J.value)},render:function(){var P=this,V=P.options,J=P.plotArea.options.seriesColors||[],T=J.length,M=V.series[0],U,O,L=M.data;if(!L){return}var Q=p(M),S,K;for(K=0;K<L.length;K++){U=A.current.bindPoint(M,K);S=U.valueFields.value;if(S===null||S===i){continue}O=U.fields;if(!z(M.color)){M.color=O.color||J[K%T]}O=s({index:K,owner:P,series:M,category:O.category,dataItem:L[K],percentage:Math.abs(S)/Q,visibleInLegend:O.visibleInLegend,visible:O.visible},O);var N=P.createSegment(S,O);var R=P.createLabel(S,O);if(N&&R){N.append(R)}}},evalSegmentOptions:function(K,M,J){var L=J.series;d(K,{value:M,series:L,dataItem:J.dataItem,index:J.index},{defaults:L._defaults,excluded:["data"]})},createSegment:function(N,J){var L=this,M;var K=s({},J.series);L.evalSegmentOptions(K,N,J);L.createLegendItem(N,K,J);if(J.visible!==false){M=new y(N,K,J);D(M,J);L.append(M);L.points.push(M);return M}},createLabel:function(P,M){var N=this,K=M.series,J=M.dataItem,L=s({},N.options.labels,K.labels),R=P,O;if(L.visible){if(L.template){var Q=H(L.template);R=Q({dataItem:J,value:P,percentage:M.percentage,category:M.category,series:K})}else{if(L.format){R=G(L.format,R)}}if(!L.color&&L.align==="center"){var S=new I(K.color).percBrightness();if(S>180){L.color=e}else{L.color=F}}N.evalSegmentOptions(L,P,M);O=new r(R,s({vAlign:L.position},L));N.labels.push(O);return O}},labelPadding:function(){var O=this.labels,J,N,L,M={left:0,right:0},K;for(K=0;K<O.length;K++){J=O[K];N=J.options.align;if(N!=="center"){L=O[K].box.width();if(N==="left"){M.left=Math.max(M.left,L)}else{M.right=Math.max(M.right,L)}}}return M},reflow:function(ah){var W=this,K=W.options,ab=W.points,Q=ab.length,ai=K.neckRatio<=1,ad,X,R,ac,U,N,S=ah.clone().unpad(W.labelPadding()),Y=S.width(),ae=0,T=ai?0:(Y-Y/K.neckRatio)/2,L=K.segmentSpacing,af=K.dynamicSlope,ag=S.height()-L*(Q-1),J=ai?K.neckRatio*Y:Y;if(!Q){return}if(af){var M=ab[0],O=M;g.each(ab,function(aj,ak){if(ak.percentage>O.percentage){O=ak}});R=(M.percentage/O.percentage)*Y;T=(Y-R)/2;for(ad=0;ad<Q;ad++){U=ab[ad].percentage;var aa=ab[ad+1],P=(aa?aa.percentage:U);ac=ab[ad].points=[];X=(K.dynamicHeight)?(ag*U):(ag/Q);N=(Y-R*(P/U))/2;N=t(N,0,Y);ac.push(new x.Point(S.x1+T,S.y1+ae));ac.push(new x.Point(S.x1+Y-T,S.y1+ae));ac.push(new x.Point(S.x1+Y-N,S.y1+X+ae));ac.push(new x.Point(S.x1+N,S.y1+X+ae));T=N;ae+=X+L;R*=P/U;R=t(R,0,Y)}}else{var Z=ai?Y:Y-T*2,V=(Z-J)/2;for(ad=0;ad<Q;ad++){ac=ab[ad].points=[];U=ab[ad].percentage;N=(K.dynamicHeight)?(V*U):(V/Q);X=(K.dynamicHeight)?(ag*U):(ag/Q);ac.push(new x.Point(S.x1+T,S.y1+ae));ac.push(new x.Point(S.x1+Y-T,S.y1+ae));ac.push(new x.Point(S.x1+Y-T-N,S.y1+X+ae));ac.push(new x.Point(S.x1+T+N,S.y1+X+ae));T+=N;ae+=X+L}}for(ad=0;ad<Q;ad++){ab[ad].reflow(ah)}}});s(u.fn,o);var y=l.extend({init:function(M,K,J){var L=this;l.fn.init.call(L,K);L.value=M;L.options.index=J.index},options:{color:F,border:{width:1}},reflow:function(K){var M=this,L=M.points,J=M.children[0];M.box=new f(L[0].x,L[0].y,L[1].x,L[2].y);if(J){J.reflow(new f(K.x1,L[0].y,K.x2,L[2].y))}},createVisual:function(){l.fn.createVisual.call(this);var K=this.options;var J=K.border;var L=q.Path.fromPoints(this.points,{fill:{color:K.color,opacity:K.opacity},stroke:{color:J.color,opacity:J.opacity,width:J.width}}).close();this.visual.append(L)},createHighlight:function(J){return q.Path.fromPoints(this.points,J)},highlightOverlay:function(K,O){var M=this.options,P=M.highlight||{};if(P.visible===false){return}var L=P.border||{};var J=D({},O,{fill:P.color,stroke:L.color,strokeOpacity:L.opacity,strokeWidth:L.width,fillOpacity:P.opacity});var N=K.createPolyline(this.points,true,J);return N},tooltipAnchor:function(K){var J=this.box;return new E(J.center().x-(K/2),J.y1)},formatValue:function(K){var J=this;return J.owner.formatPointValue(J,K)}});s(y.fn,n.PointEventsMixin);m.current.register(C,[b]);A.current.register([b],[h],[k,j,"visibleInLegend","visible"]);s(n,{FunnelChart:u})})(window.kendo.jQuery);(function(ah,w){var H=Math,q=window.kendo,aj=q.util,n=q.ui.Widget,ax=q.deepExtend,Z=q.dataviz,d=Z.autoMajorUnit,aa=Z.ChartElement,W=Z.NumericAxis,z=Z.Axis,r=Z.Box2D,ap=q.Class,j=aj.defined,c=ah.isArray,G=aj.isNumber,K=Z.interpolateValue,f=aj.valueOrDefault,t=Z.getSpacing,D=Z.round,af=Z.geometry,ac=Z.drawing,h=af.Point,S=ac.Circle,Q=ac.Group,ad=ac.Path,B=af.Rect,ar=ac.Text,b=ac.Surface;var F=150,ag=250,e="arrow",ai="arrowPointer",s="barPointer",v="#000",p=0.05,I=Z.COORD_PRECISION,N=Number.MAX_VALUE,g=-Number.MAX_VALUE,J=200,an=0.5,o=200,x=60,A=60,l=5,E=H.PI/180,i=180,m="inside",av="linear",k="needle",am="outside",ak="radialPointer",R="x",O="y";var L=ap.extend({init:function(az,Y){var ay=this;var X=az.options;aa.fn.init.call(ay,Y);Y=ay.options;Y.fill=Y.color;ay.scale=az;if(j(Y.value)){Y.value=H.min(H.max(Y.value,X.min),X.max)}else{Y.value=X.min}},options:{color:v},value:function(aA){var ay=this;var Y=ay.options;var az=Y.value;var X=ay.scale.options;if(arguments.length===0){return az}Y._oldValue=(Y._oldValue!==w)?Y.value:X.min;Y.value=H.min(H.max(aA,X.min),X.max);if(ay.elements){ay.repaint()}}});var P=L.extend({options:{shape:k,cap:{size:p},arrow:{width:16,height:14},animation:{type:ak,duration:F}},setRadius:function(X){var Y=this;if(X){Y.elements.clear();Y.render(Y.parent,Y.center,X)}},setAngle:function(X){this.elements.transform(af.transform().rotate(X,this.center))},repaint:function(){var ay=this;var az=ay.scale;var X=ay.options;var Y=az.slotAngle(X._oldValue);var aA=az.slotAngle(X.value);if(X.animation.transitions===false){ay.setAngle(aA)}else{new aq(ay.elements,ax(X.animation,{oldAngle:Y,newAngle:aA})).play()}},render:function(){var ay=this;var aB=ay.scale;var X=aB.arc.center;var Y=ay.options;var aA=aB.slotAngle(aB.options.min);var az=new Q();if(Y.animation!==false){ax(Y.animation,{startAngle:0,center:X,reverse:aB.options.reverse})}if(Y.shape===k){az.append(ay._renderNeedle(),ay._renderCap())}else{az.append(ay._renderArrow())}ay.elements=az;ay.setAngle(E);return az},reflow:function(az){var aA=this;var ay=aA.center=az.center;var Y=aA.radius=az.getRadiusX();var X=aA.capSize=Math.round(Y*aA.options.cap.size);aA.bbox=B.fromPoints(new h(ay.x-X,ay.y-X),new h(ay.x+X,ay.y+X))},_renderNeedle:function(){var aB=this;var az=aB.options;var ay=aB.scale.options.minorTicks.size;var Y=aB.center;var aA=az.color;var X=new ad({fill:{color:aA},stroke:{color:aA,width:an}});X.moveTo(Y.x+aB.radius-ay,Y.y).lineTo(Y.x,Y.y-(aB.capSize/2)).lineTo(Y.x,Y.y+(aB.capSize/2)).close();return X},_renderCap:function(){var az=this;var Y=az.options;var X=Y.cap.color||Y.color;var aA=new af.Circle(az.center,az.capSize);var ay=new ac.Circle(aA,{fill:{color:X},stroke:{color:X}});return ay}});var ao=W.extend({init:function(X){var Y=this;Y.options=ax({},Y.options,X);Y.options.majorUnit=Y.options.majorUnit||d(Y.options.min,Y.options.max);Y.options.minorUnit=Y.options.minorUnit||Y.options.majorUnit/10;z.fn.init.call(Y,Y.options)},options:{min:0,max:100,majorTicks:{size:15,align:m,color:v,width:an,visible:true},minorTicks:{size:10,align:m,color:v,width:an,visible:true},startAngle:-30,endAngle:210,labels:{position:m,padding:2}},render:function(Y,X){var aA=this;var ay=aA.options;var az=aA.renderArc(Y,X);aA.bbox=az.bbox();aA.labelElements=aA.renderLabels();aA.ticks=aA.renderTicks();aA.ranges=aA.renderRanges()},reflow:function(aA){var az=this;var ay=az.options;var Y=aA.center();var X=H.min(aA.height(),aA.width())/2;if(az.bbox!==w){az.bbox=az.arc.bbox();az.radius(az.arc.getRadiusX());az.repositionRanges();az.renderLabels()}else{return az.render(Y,X)}},slotAngle:function(aC){var az=this.options;var aB=az.startAngle;var ay=az.reverse;var aD=az.endAngle-aB;var aA=az.min;var Y=az.max;var X;if(ay){X=az.endAngle-(aC-aA)/(Y-aA)*aD}else{X=((aC-aA)/(Y-aA)*aD)+aB}return X+i},renderLabels:function(){var aI=this;var aB=aI.options;var aE=aB.majorTicks.size;var aK=aI.arc.clone();var aC=aK.getRadiusX();var aS=aI.tickAngles(aK,aB.majorUnit);var aX=aI.labels;var aH=aX.length;var aD=aB.labels;var aP=aD.padding;var aO=aC*0.05;var aN=aB.rangeSize=aB.rangeSize||aC*0.1;var aA=aB.ranges||[];var aJ,aQ,Y;var aW,aM,aL,aT,az,ay,aG;var aU=new Q();var aV,aR,aF,X;if(aI.options.rangeDistance!==w){aO=aI.options.rangeDistance}else{aI.options.rangeDistance=aO}if(aD.position===m){aC-=aE;if(aA.length&&aI.labelElements===w){aC-=aN+aO}aK.setRadiusX(aC).setRadiusY(aC)}for(aT=0;aT<aH;aT++){aM=aX[aT];aJ=aM.box.width()/2;aQ=aM.box.height()/2;aW=aS[aT];Y=(aW-i)*E;aG=aD.position===m;aL=aK.pointAt(aW);az=aL.x+(H.cos(Y)*(aJ+aP)*(aG?1:-1));ay=aL.y+(H.sin(Y)*(aQ+aP)*(aG?1:-1));aM.reflow(new Z.Box2D(az-aJ,ay-aQ,az+aJ,ay+aQ));aR=new h(aM.box.x1,aM.box.y1);if(aI.labelElements===w){aV=ab(aM,aB.labels);aU.append(aV)}else{aV=aI.labelElements.children[aT];aF=aV.bbox().origin;X=aV.transform()||af.transform();X.translate(aR.x-aF.x,aR.y-aF.y);aV.transform(X)}aI.bbox=B.union(aI.bbox,aV.bbox())}return aU},repositionRanges:function(){var aC=this;var aA=aC.arc;var ay=aC.ranges.children;var aD=aC.options.rangeSize;var aB=aC.options.rangeDistance;var Y,X;if(ay.length>0){Y=aC.getRangeRadius();if(aC.options.labels.position===m){Y+=aD+aB}X=Y+(aD/2);for(var az=0;az<ay.length;az++){ay[az]._geometry.setRadiusX(X).setRadiusY(X)}aC.bbox=B.union(aC.bbox,aC.ranges.bbox())}},renderRanges:function(){var aE=this;var X=aE.arc;var aK=new Q();var aI,aJ;var aA=aE.rangeSegments();var aC=aA.length;var aG=aE.options.reverse;var aD=aE.radius();var aH=aE.options.rangeSize;var Y=aE.options.rangeDistance;var aB,aF,az,ay;if(aC){aF=aE.getRangeRadius();aE.radius(aE.radius()-aH-Y);for(ay=0;ay<aC;ay++){aB=aA[ay];aI=aE.slotAngle(aB[aG?"to":"from"]);aJ=aE.slotAngle(aB[!aG?"to":"from"]);if(aJ-aI!==0){az=new af.Arc(X.center,{radiusX:aF+(aH/2),radiusY:aF+(aH/2),startAngle:aI,endAngle:aJ});aK.append(new ac.Arc(az,{stroke:{width:aH,color:aB.color,opacity:aB.opacity}}))}}}return aK},rangeSegments:function(){var aI=this;var aJ=aI.options;var X=aJ.ranges||[];var aG=X.length;var aD;var aF;var Y=aJ.rangePlaceholderColor;var aC=[];var aE;var aA=aJ.min;var aH=aJ.max;var aB,az;function ay(aN,aM,aK,aL){return{from:aN,to:aM,color:aK,opacity:aL}}if(aG){aC.push(ay(aA,aH,Y));for(aB=0;aB<aG;aB++){aD=T(X[aB],aA,aH);aF=aC.length;for(az=0;az<aF;az++){aE=aC[az];if(aE.from<=aD.from&&aD.from<=aE.to){aC.push(ay(aD.from,aD.to,aD.color,aD.opacity));if(aE.from<=aD.to&&aD.to<=aE.to){aC.push(ay(aD.to,aE.to,Y,aD.opacity))}aE.to=aD.from;break}}}}return aC},getRangeRadius:function(){var aB=this;var Y=aB.options;var X=Y.majorTicks.size;var aC=Y.rangeSize;var aA=Y.rangeDistance;var ay=aB.arc;var az;if(Y.labels.position===am){az=ay.getRadiusX()-X-aA-aC}else{az=ay.getRadiusX()-aC}return az},renderArc:function(Y,X){var aA=this;var ay=aA.options;var az=aA.arc=new af.Arc(Y,{radiusX:X,radiusY:X,startAngle:ay.startAngle+i,endAngle:ay.endAngle+i});return az},renderTicks:function(){var az=this;var X=az.arc;var aF=az.options;var Y=aF.labels.position;var aD=new Q();var aC=aF.majorTicks.size;var aB=aF.minorTicks.size;var aE=X.clone();var ay=aE.getRadiusX();function aA(aI,aK,aQ,aJ){var aR=new Q(),aH=aI.center,aO=aI.getRadiusX(),aN,aP,aG,aM=aQ.size,aL=aJ.visible;if(aL){for(aN=0;aN<aK.length;aN++){aP=aI.pointAt(aK[aN]);aG=new h(aH.x+aO-aJ.size,aH.y).rotate(aK[aN],aH);aR.append(new ad({stroke:{color:aJ.color,width:aJ.width}}).moveTo(aP).lineTo(aG))}}return aR}az.majorTickAngles=az.tickAngles(X,aF.majorUnit);az.majorTicks=aA(aE,az.majorTickAngles,aF.majorUnit,aF.majorTicks);aD.append(az.majorTicks);az._tickDifference=aC-aB;if(Y===am){aE.setRadiusX(ay-aC+aB).setRadiusY(ay-aC+aB)}az.minorTickAngles=az.normalizeTickAngles(az.tickAngles(X,aF.minorUnit));az.minorTicks=aA(aE,az.minorTickAngles,aF.minorUnit,aF.minorTicks,aF.majorUnit);aD.append(az.minorTicks);return aD},normalizeTickAngles:function(aA){var az=this;var X=az.options;var ay=X.majorUnit/X.minorUnit;for(var Y=aA.length-1;Y>=0;Y--){if(Y%ay===0){aA.splice(Y,1)}}return aA},tickAngles:function(aA,aF){var ay=this;var aH=ay.options;var aE=aH.reverse;var aD=aH.max-aH.min;var az=aA.endAngle-aA.startAngle;var aG=aA.startAngle;var X=aD/aF;var Y=az/X;var aC=[];var aB;if(aE){aG+=az;Y=-Y}for(aB=0;aB<X;aB++){aC.push(D(aG,I));aG+=Y}if(D(aG)<=aA.endAngle){aC.push(aG)}return aC},radius:function(Y){var az=this;var ay=az.parent;var X=az.arc.center;if(Y){az.arc.setRadiusX(Y).setRadiusY(Y);az.repositionTicks(az.majorTicks.children,az.majorTickAngles);az.repositionTicks(az.minorTicks.children,az.minorTickAngles,true)}else{return az.arc.getRadiusX()}},repositionTicks:function(aG,Y,aA){var aB=this;var aF=aA?(aB._tickDifference||0):0;var aH=aB.arc;var aC=aH.getRadiusX();if(aA&&aB.options.labels.position===am&&aF!==0){aH=aB.arc.clone();aH.setRadiusX(aC-aF).setRadiusY(aC-aF)}for(var ay=0;ay<aG.length;ay++){var X=aH.pointAt(Y[ay]);var az=aG[ay].segments;var aE=X.x-az[0].anchor().x;var aD=X.y-az[0].anchor().y;aG[ay].transform(new af.Transformation().translate(aE,aD))}}});var u=n.extend({init:function(ay,az){var aD=this;var aE;var aB;var aA;var aC=Z.ui.themes||{};var Y;q.destroy(ay);ah(ay).empty();n.fn.init.call(aD,ay);aD.wrapper=aD.element;aD._originalOptions=ax({},az);aE=ax({},aD.options,az);aA=aE.theme;Y=aC[aA]||aC[aA.toLowerCase()];aB=aA&&Y?Y.gauge:{};aD.options=ax({},aB,aE);if(ah.isArray(aE.pointer)){for(var X=0;X<aE.pointer.length;X++){aD.options.pointer[X]=ax({},aB.pointer,aE.pointer[X])}}aD.element.addClass("k-gauge");aD.surface=aD._createSurface();aD.redraw()},options:{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}},destroy:function(){this.surface.destroy();n.fn.destroy.call(this)},value:function(Y){var X=this;var ay=X.pointers[0];if(arguments.length===0){return ay.value()}ay.value(Y);X._setValueOptions(Y)},_draw:function(){var X=this.surface;X.clear();X.draw(this._visuals)},exportVisual:function(){return this._visuals},allValues:function(ay){var aA=this;var Y=aA.pointers;var X=[];var az;if(arguments.length===0){for(az=0;az<Y.length;az++){X.push(Y[az].value())}return X}if(ah.isArray(ay)){for(az=0;az<ay.length;az++){if(G(ay[az])){Y[az].value(ay[az])}}}aA._setValueOptions(ay)},_setValueOptions:function(Y){var X=[].concat(this.options.pointer);Y=[].concat(Y);for(var ay=0;ay<Y.length;ay++){X[ay].value=Y[ay]}},_resize:function(){var ay=this;var Y=ay.options.transitions;var X;ay.options.transitions=false;for(X=0;X<ay.pointers.length;X++){ay.pointers[X].options.animation.transitions=false}ay.redraw();ay.options.transitions=Y;for(X=0;X<ay.pointers.length;X++){ay.pointers[X].options.animation.transitions=Y}},redraw:function(){var Y=this;var X=ax(Y._getSize(),Y.options.gaugeArea);var az=new B([0,0],[X.width,X.height]);var ay;Y.surface.clear();Y.gaugeArea=Y._createGaugeArea();Y.surface.element.css({width:X.width,height:X.height});Y._createModel();ay=al(az.bbox(),Y._gaugeAreaMargin);Y.reflow(ay)},_createGaugeArea:function(){var aB=this;var ay=aB.options.gaugeArea;var az=aB.surface.size();var aC=aB._gaugeAreaMargin=ay.margin||l;var Y=ay.border||{};var X=new B([0,0],[az.width,az.height]);if(Y.width>0){X=al(X,Y.width)}var aA=ad.fromRect(X,{stroke:{color:Y.width?Y.color:"",width:Y.width,dashType:Y.dashType,lineJoin:"round",lineCap:"round"},fill:{color:ay.background}});return aA},_createSurface:function(){var az=this;var X=az.options;var Y=az._getSize();Y=X.gaugeArea?ax(Y,X.gaugeArea):Y;var ay=ah("<div></div>").appendTo(az.element).css({width:Y.width,height:Y.height});return new ac.Surface.create(ay,{type:X.renderAs})},getSize:function(){return this._getSize()},_getSize:function(){var az=this;var Y=az.element;var ay=Y.width();var X=Y.height();if(!ay){ay=o}if(!X){X=J}return{width:ay,height:X}}});var y=u.extend({init:function(ay,X){var Y=this;u.fn.init.call(Y,ay,X);q.notify(Y,Z.ui)},options:{name:"RadialGauge",transitions:true,gaugeArea:{background:""}},reflow:function(aB){var aA=this;var Y=aA.pointers;var az=aA.scale.reflow(aB);aA._initialPlotArea=aA.scale.bbox;for(var ay=0;ay<Y.length;ay++){var X=Y[ay].reflow(aA.scale.arc);aA._initialPlotArea=B.union(aA._initialPlotArea,Y[ay].bbox)}aA.fitScale(aB);aA.alignScale(aB);aA._buildVisual(aA.gaugeArea,Y,aA.scale);aA._draw()},_buildVisual:function(ay,X,aB){var az=new Q();var aA;az.append(ay);az.append(aB.ticks);az.append(aB.ranges);for(var Y=0;Y<X.length;Y++){aA=X[Y];aA.render();az.append(aA.elements);aA.value(aA.options.value)}az.append(aB.labelElements);this._visuals=az},fitScale:function(aG){var aB=this;var ay=aB.scale;var X=ay.arc;var aH=aB._initialPlotArea;var Y=H.abs(aB.getDiff(aH,aG));var az=D(Y,I);var aD=D(-Y,I);var aI,aF,aC,aE;var aA=0;while(aA<100){aA++;if(az!=aE){aI=aB.getPlotBox(az,aG,X);if(0<=aI&&aI<=2){break}}if(aD!=aE){aC=aB.getPlotBox(aD,aG,X);if(0<=aC&&aC<=2){break}}if(aI>0&&aC>0){aE=az*2}else{if(aI<0&&aC<0){aE=aD*2}else{aE=D(((az+aD)/2)||1,I)}}aF=aB.getPlotBox(aE,aG,X);if(0<=aF&&aF<=2){break}if(aF>0){aD=aE;aC=aF}else{az=aE;aI=aF}}},getPlotBox:function(aB,aD,az){var aA=this;var aC=aA.scale;var Y=aA.pointers;var X=az.getRadiusX();az=az.clone();az.setRadiusX(X+aB).setRadiusY(X+aB);aC.arc=az;aC.reflow(aD);aA.plotBbox=aC.bbox;for(var ay=0;ay<Y.length;ay++){Y[ay].reflow(az);aA.plotBbox=B.union(aA.plotBbox,Y[ay].bbox)}return aA.getDiff(aA.plotBbox,aD)},getDiff:function(X,Y){return H.min(Y.width()-X.width(),Y.height()-X.height())},alignScale:function(aE){var aA=this;var aB=aA.plotBbox.center();var aC=aE.center();var ay=aB.x-aC.x;var Y=aB.y-aC.y;var X=aA.scale;var aD=aA.pointers;X.arc.center.x-=ay;X.arc.center.y-=Y;X.reflow(aE);for(var az=0;az<aD.length;az++){aD[az].reflow(X.arc);aA.plotBbox=B.union(X.bbox,aD[az].bbox)}},_createModel:function(){var az=this;var Y=az.options;var X=Y.pointer;var aB=az.scale=new ao(Y.scale);var aA;az.pointers=[];X=ah.isArray(X)?X:[X];for(var ay=0;ay<X.length;ay++){aA=new P(aB,ax({},X[ay],{animation:{transitions:Y.transitions}}));az.pointers.push(aA)}}});var aw=u.extend({init:function(ay,Y){var X=this;u.fn.init.call(X,ay,Y);q.notify(X,Z.ui)},options:{name:"LinearGauge",transitions:true,gaugeArea:{background:""},scale:{vertical:true}},reflow:function(aD){var aB=this;var Y=aB.surface;var az=aB.pointers;var ay=aD.origin.x;var X=aD.origin.y;var aC=new Z.Box2D(ay,ay,ay+aD.width(),X+aD.height());aB.scale.reflow(aC);for(var aA=0;aA<az.length;aA++){az[aA].reflow()}aB.bbox=aB._getBox(aC);aB._alignElements();aB._shrinkElements();aB._buildVisual();aB._draw()},_buildVisual:function(){var az=this;var aA=new Q();var ay=az.scale.render();var X=az.pointers;var aB;aA.append(az.gaugeArea);aA.append(ay);for(var Y=0;Y<X.length;Y++){aB=X[Y];aA.append(aB.render());aB.value(aB.options.value)}az._visuals=aA},_createModel:function(){var aA=this;var ay=aA.options;var Y=ay.pointer;var aC=aA.scale=new V(ay.scale);var aB,X;aA.pointers=[];Y=ah.isArray(Y)?Y:[Y];for(var az=0;az<Y.length;az++){X=ax({},Y[az],{animation:{transitions:ay.transitions}});if(X.shape===e){aB=new C(aC,X)}else{aB=new au(aC,X)}aA.pointers.push(aB)}},_getSize:function(){var aA=this;var ay=aA.element;var az=ay.width();var X=ay.height();var Y=aA.options.scale.vertical;if(!az){az=Y?x:o}if(!X){X=Y?J:A}return{width:az,height:X}},_getBox:function(aB){var aA=this;var aD=aA.scale;var X=aA.pointers;var aC=aB.center();var az=X[0].box.clone().wrap(aD.box);var ay;for(var Y=0;Y<X.length;Y++){az.wrap(X[Y].box.clone())}if(aD.options.vertical){ay=az.width()/2;az=new r(aC.x-ay,aB.y1,aC.x+ay,aB.y2)}else{ay=az.height()/2;az=new r(aB.x1,aC.y-ay,aB.x2,aC.y+ay)}return az},_alignElements:function(){var aB=this;var aD=aB.scale;var X=aB.pointers;var az=aD.box;var aA=X[0].box.clone().wrap(aD.box);var ay=aB.bbox;var aC,Y;for(Y=0;Y<X.length;Y++){aA.wrap(X[Y].box.clone())}if(aD.options.vertical){aC=ay.center().x-aA.center().x;aD.reflow(new r(az.x1+aC,ay.y1,az.x2+aC,ay.y2))}else{aC=ay.center().y-aA.center().y;aD.reflow(new r(ay.x1,az.y1+aC,ay.x2,az.y2+aC))}for(Y=0;Y<X.length;Y++){X[Y].reflow(aB.bbox)}},_shrinkElements:function(){var az=this;var aA=az.scale;var X=az.pointers;var ay=aA.box.clone();var aC=aA.options.vertical?"y":"x";var aB=X[0].box;var Y;for(Y=0;Y<X.length;Y++){aB.wrap(X[Y].box.clone())}ay[aC+1]+=H.max(ay[aC+1]-aB[aC+1],0);ay[aC+2]-=H.max(aB[aC+2]-ay[aC+2],0);aA.reflow(ay);for(Y=0;Y<X.length;Y++){X[Y].reflow(az.bbox)}}});var V=W.extend({init:function(X){var Y=this;Y.options=ax({},Y.options,X);Y.options=ax({},Y.options,{labels:{mirror:Y.options.mirror}});Y.options.majorUnit=Y.options.majorUnit||d(Y.options.min,Y.options.max);z.fn.init.call(Y,Y.options);Y.options.minorUnit=Y.options.minorUnit||Y.options.majorUnit/10},options:{min:0,max:50,majorTicks:{size:15,align:m,color:v,width:an,visible:true},minorTicks:{size:10,align:m,color:v,width:an,visible:true},line:{width:an},labels:{position:m,padding:2},mirror:false,_alignLines:false},render:function(){var Y=this;var ay=Y.elements=new Q();var aB=Y.renderLabels();var az=Y.renderLine();var aA=Y.renderTicks();var X=Y.renderRanges();ay.append(az,aB,aA,X);return ay},renderRanges:function(){var aD=this;var aK=aD.options;var az=aK.min;var aG=aK.max;var Y=aK.ranges||[];var ay=aK.vertical;var aI=aK.labels.mirror;var X=new Q();var aC=Y.length;var aE=aK.rangeSize||aK.minorTicks.size/2;var aB,aJ,aH,aF,aA;if(aC){for(aA=0;aA<aC;aA++){aB=T(Y[aA],az,aG);aJ=aD.getSlot(aB.from,aB.to);aH=ay?aD.lineBox():aJ;aF=ay?aJ:aD.lineBox();if(ay){aH.x1-=aE*(aI?-1:1)}else{aF.y2+=aE*(aI?-1:1)}X.append(ad.fromRect(new B([aH.x1,aF.y1],[aH.x2-aH.x1,aF.y2-aF.y1]),{fill:{color:aB.color,opacity:aB.opacity},stroke:{}}))}}return X},renderLabels:function(){var ay=this;var X=ay.options;var aA=ay.labels;var az=new Q();for(var Y=0;Y<aA.length;Y++){az.append(ab(aA[Y],X.labels))}return az},renderLine:function(){var aA=this;var az=aA.options;var ay=az.line;var Y=aA.lineBox();var X;var aB=new Q();if(ay.width>0&&ay.visible){X=new ad({stroke:{color:ay.color,dashType:ay.dashType,width:ay.width}});X.moveTo(Y.x1,Y.y1).lineTo(Y.x2,Y.y2);aB.append(X)}return aB},renderTicks:function(){var aA=this;var aD=new Q();var aF=aA.options;var az=aA.lineBox();var aC=aF.labels.mirror;var aB=aF.majorTicks.visible?aF.majorUnit:0;var aE={_alignLines:aF._alignLines,vertical:aF.vertical};var Y,ay;function X(aH,aG){var aI,aJ=aH.length;if(aG.visible){for(aI=aG.skip;aI<aJ;aI+=aG.step){if(aI%aG.skipUnit===0){continue}aE.tickX=aC?az.x2:az.x2-aG.size;aE.tickY=aC?az.y1-aG.size:az.y1;aE.position=aH[aI];aD.append(aA.renderAxisTick(aE,aG))}}}X(aA.getMajorTickPositions(),aF.majorTicks);X(aA.getMinorTickPositions(),ax({},{skipUnit:aB/aF.minorUnit},aF.minorTicks));return aD},renderAxisTick:function(aA,az){var Y=aA.tickX;var aD=aA.tickY;var X=aA.position;var aC,ay,aB;if(aA.vertical){aC=new h(Y,X);ay=new h(Y+az.size,X)}else{aC=new h(X,aD);ay=new h(X,aD+az.size)}aB=new ad({stroke:{color:az.color,width:az.width}}).moveTo(aC).lineTo(ay);return aB}});var M=L.extend({init:function(ay,X){var Y=this;L.fn.init.call(Y,ay,X);Y.options=ax({track:{visible:j(X.track)}},Y.options)},options:{shape:s,track:{border:{width:1}},color:v,border:{width:1},opacity:1,margin:t(3),animation:{type:s},visible:true},reflow:function(){var Y=this;var aI=Y.options;var aA=Y.scale;var aC=aA.lineBox();var aH=aI.track.size||aI.size;var aE=aI.size/2;var aG=aA.options.mirror;var aB=t(aI.margin);var az=aA.options.vertical;var X=az?aB[aG?"left":"right"]:aB[aG?"bottom":"top"];var aD,ay,aF;X=aG?-X:X;if(az){aF=new r(aC.x1+X,aC.y1,aC.x1+X,aC.y2);if(aG){aF.x1-=aH}else{aF.x2+=aH}if(aI.shape!==s){ay=new r(aC.x2+X,aC.y1-aE,aC.x2+X,aC.y2+aE);aD=ay}}else{aF=new r(aC.x1,aC.y1-X,aC.x2,aC.y1-X);if(aG){aF.y2+=aH}else{aF.y1-=aH}if(aI.shape!==s){ay=new r(aC.x1-aE,aC.y1-X,aC.x2+aE,aC.y1-X);aD=ay}}Y.trackBox=aF;Y.pointerRangeBox=ay;Y.box=aD||aF.clone().pad(aI.border.width)},getElementOptions:function(){var X=this.options;var Y=new Q();var ay=this.scale;return{fill:{color:X.color,opacity:X.opacity},stroke:j(X.border)?{color:X.border.width?X.border.color||X.color:"",width:X.border.width,dashType:X.border.dashType,opacity:X.opacity}:null}},_margin:function(){var aC=this;var Y=aC.options;var aB=aC.scale;var aA=aB.options.mirror;var az=t(Y.margin);var X=aB.options.vertical;var ay=X?az[aA?"left":"right"]:az[aA?"bottom":"top"];return ay}});var C=M.extend({init:function(Y,X){M.fn.init.call(this,Y,X);if(this.options.size===w){this.options.size=this.scale.options.majorTicks.size*0.6}},pointerShape:function(aE){var aA=this;var aG=aA.options;var Y=aA.scale;var aF=aG.size;var ay=Y.options.vertical;var az=aF/2;var X=(Y.options.mirror?-1:1);var aC=Y.options.reverse;var aD,aB;if(ay){aD=aC?"y2":"y1";aB=[new h(0,0-az),new h(0-X*aF,0),new h(0,0+az)]}else{aD=aC?"x1":"x2";aB=[new h(0-az,0),new h(0,0+X*aF),new h(0+az,0)]}return aB},repaint:function(){var Y=this;var az=Y.scale;var X=Y.options;var ay=new U(Y.elements,ax(X.animation,{vertical:az.options.vertical,mirror:az.options.mirror,margin:Y._margin(X.margin),from:az.getSlot(X._oldValue),to:az.getSlot(X.value)}));if(X.animation.transitions===false){ay.options.duration=0}ay.setup();ay.play()},render:function(){var az=this;var ay=az.options;var aA=new Q();var aB=az.scale;var Y=az.getElementOptions();var X=az.pointerShape(ay.value);ay.animation.type=ai;aA=new ad({stroke:Y.stroke,fill:Y.fill}).moveTo(X[0]).lineTo(X[1]).lineTo(X[2]).close();var aC=aB.getSlot(ay.value);aA.transform(af.transform().translate(aC.x1,aC.y1));az.elements=aA;return aA}});var au=M.extend({init:function(Y,X){M.fn.init.call(this,Y,X);if(this.options.size===w){this.options.size=this.scale.options.majorTicks.size*0.3}},pointerShape:function(aM){var aG=this;var aD=aG.options;var aN=aG.scale;var aB=aN.options.vertical;var aH=aN.options.mirror;var aL=aH==aB?-1:1;var aJ=aD.size*aL;var aK=aN.getSlot(aN.options.min);var aE=aN.getSlot(aM);var aC=aB?O:R;var aF=aB?R:O;var aI=aG._margin()*aL;var aA=[];var az=new h();az[aC]=aK[aC+"1"];az[aF]=aK[aF+"1"];var ay=new h();ay[aC]=aE[aC+"1"];ay[aF]=aE[aF+"1"];if(aB){az.translate(aI,0);ay.translate(aI,0)}else{az.translate(0,aI);ay.translate(0,aI)}var Y=ay.clone();var X=az.clone();if(aB){Y.translate(aJ,0);X.translate(aJ,0)}else{Y.translate(0,aJ);X.translate(0,aJ)}return[az,ay,Y,X]},repaint:function(){var az=this;var aC=az.scale;var ay=az.options;var X=az.pointerShape(ay.value);var Y=az.elements.children[0];var aB=az.pointerShape(ay._oldValue);Y.moveTo(X[0]).lineTo(X[1]).lineTo(X[2]).lineTo(X[3]).close();var aA=new at(Y,ax(ay.animation,{reverse:aC.options.reverse,vertical:aC.options.vertical,oldPoints:[aB[1],aB[2]],newPoints:[X[1],X[2]]}));if(ay.animation.transitions===false){aA.options.duration=0}aA.setup();aA.play()},render:function(){var ay=this;var Y=ay.options;var az=new Q();var aB=ay.scale;var X=ay.getElementOptions();var aA=new ad({stroke:X.stroke,fill:X.fill});az.append(aA);ay.elements=az;return az}});var aq=ac.Animation.extend({init:function(Y,X){ac.Animation.fn.init.call(this,Y,X);X=this.options;X.duration=H.max((H.abs(X.newAngle-X.oldAngle)/X.duration)*1000,1)},options:{easing:av,duration:F},step:function(az){var Y=this;var X=Y.options;var ay=K(X.oldAngle,X.newAngle,az);Y.element.transform(af.transform().rotate(ay,X.center))}});ac.AnimationFactory.current.register(ak,aq);var U=ac.Animation.extend({options:{easing:av,duration:ag},setup:function(){var ay=this.options;var az=this.element.bbox().width()/2;var aB=ay.margin;var aD=ay.from;var aC=ay.to;var aA=ay.vertical?"x1":"y1";if(ay.mirror==ay.vertical){aD[aA]-=aB;aC[aA]-=aB}else{aD[aA]+=aB;aC[aA]+=aB}var X=this.fromScale=new h(aD.x1,aD.y1);var Y=this.toScale=new h(aC.x1,aC.y1);if(ay.duration!==0){ay.duration=H.max((X.distanceTo(Y)/ay.duration)*1000,1)}},step:function(ay){var Y=K(this.fromScale.x,this.toScale.x,ay);var X=K(this.fromScale.y,this.toScale.y,ay);this.element.transform(af.transform().translate(Y,X))}});ac.AnimationFactory.current.register(ai,U);var at=ac.Animation.extend({options:{easing:av,speed:ag},setup:function(){var ay=this.element;var X=this.options;var aA=X.newPoints;var Y=X.oldPoints;var az=this.axis=X.vertical?O:R;var aC=this.to=aA[0][az];var aB=this.from=Y[0][az];if(X.duration!==0){X.duration=H.max((H.abs(aC-aB)/X.speed)*1000,1)}this._set(aB)},step:function(Y){var X=K(this.from,this.to,Y);this._set(X)},_set:function(Y){var ay="set"+this.axis.toUpperCase();var X=this.options.newPoints;X[0][ay](Y);X[1][ay](Y)}});ac.AnimationFactory.current.register(s,at);function ab(aD,aG){var aF=aD.box;var aC=aD.children[0].box;var aA=aG.border||{};var az=aG.background||"";var X=new Q();var ay,aB,Y;Y=ad.fromRect(new B([aF.x1,aF.y1],[aF.width(),aF.height()]),{stroke:{}});var aE=new ar(aD.text,new h(aC.x1,aC.y1),{font:aG.font,fill:{color:aG.color}});aB=ae(aE.bbox().clone(),aG.padding);ay=ad.fromRect(aB,{stroke:{color:aA.width?aA.color:"",width:aA.width,dashType:aA.dashType,lineJoin:"round",lineCap:"round"},fill:{color:az}});X.append(Y);X.append(ay);X.append(aE);return X}function T(Y,ay,X){var aA=j(Y.from)?Y.from:g;var az=j(Y.to)?Y.to:N;Y.from=H.max(H.min(az,aA),ay);Y.to=H.min(H.max(az,aA),X);return Y}function ae(az,ay){var X=az.getOrigin();var Y=az.getSize();var aA=t(ay);az.setOrigin([X.x-aA.left,X.y-aA.top]);az.setSize([Y.width+(aA.left+aA.right),Y.height+(aA.top+aA.bottom)]);return az}function al(Y,X){var ay=t(X);ay.left=-ay.left;ay.top=-ay.top;ay.right=-ay.right;ay.bottom=-ay.bottom;return ae(Y,ay)}Z.ui.plugin(y);Z.ui.plugin(aw);Z.ExportMixin.extend(u.fn);ax(Z,{Gauge:u,RadialPointer:P,LinearPointer:M,ArrowLinearPointer:C,BarLinearPointer:au,LinearScale:V,RadialScale:ao,LinearGauge:aw,RadialGauge:y})})(window.kendo.jQuery);(function(l,n){var y=window.kendo,g=y.ui.Widget,F=l.extend,v=y.deepExtend,E=l.inArray,x=l.isPlainObject,r=y.drawing,A=y.geometry,d=y.util,f=d.defined,C=d.append,p=y.dataviz,k=p.Box2D,u=p.TextBox,j=300,z=100,t=10,m=/^\d+$/,D=/^[a-z0-9]+$/i,H="Character '{0}' is not valid for symbology {1}";function h(K,I,J){return K.substring(I,I+J)}var i=y.Class.extend({init:function(I){this.setOptions(I)},setOptions:function(I){var J=this;J.options=F({},J.options,I);J.quietZoneLength=J.options.addQuietZone?2*J.options.quietZoneLength:0},encode:function(L,J,I){var K=this;if(f(L)){L+=""}K.initValue(L,J,I);if(K.options.addQuietZone){K.addQuietZone()}K.addData();if(K.options.addQuietZone){K.addQuietZone()}return{baseUnit:K.baseUnit,pattern:K.pattern}},options:{quietZoneLength:t,addQuietZone:true,addCheckSum:true},initValue:function(){},addQuietZone:function(){this.pattern.push(this.options.quietZoneLength||t)},addData:function(){},invalidCharacterError:function(I){throw new Error(y.format(H,I,this.name))}});var w={};var q=i.extend({minBaseUnitLength:0.7,addData:function(){var J=this,K=J.value;J.addStart();for(var I=0;I<K.length;I++){J.addCharacter(K.charAt(I))}if(J.options.addCheckSum){J.pushCheckSum()}J.addStop();J.prepareValues()},addCharacter:function(K){var J=this,I=J.characterMap[K];if(!I){J.invalidCharacterError(K)}J.addBase(I)},addBase:function(){}});var b={addCharacter:function(J){var I=this;if(I.characterMap[J]){I.addBase(I.characterMap[J])}else{if(J.charCodeAt(0)>127){I.invalidCharacterError(J)}else{I.addExtended(J.charCodeAt(0))}}},addExtended:function(M){var L=this,K;for(var J=0;J<L.extendedMappings.length;J++){if((K=L.extendedMappings[J].call(L,M))){for(var I=0;I<K.length;I++){L.addBase(K[I])}L.dataLength+=K.length-1;return}}},extendedMappings:[function(J){if(97<=J&&J<=122){var I=this;return[I.characterMap[I.shiftCharacters[0]],I.characterMap[String.fromCharCode(J-32)]]}},function(J){if(33<=J&&J<=58){var I=this;return[I.characterMap[I.shiftCharacters[1]],I.characterMap[String.fromCharCode(J+32)]]}},function(J){if(1<=J&&J<=26){var I=this;return[I.characterMap[I.shiftCharacters[2]],I.characterMap[String.fromCharCode(J+64)]]}},function(M){var L=this,I,K;if(!L.specialAsciiCodes[M]){K=Math.floor(M/32)*6+(M-27)%32+64;I=[L.characterMap[L.shiftCharacters[3]],L.characterMap[String.fromCharCode(K)]]}else{I=[];for(var J=0;J<L.specialAsciiCodes[M].length;J++){I.push(L.characterMap[L.shiftCharacters[3]]);I.push(L.characterMap[L.specialAsciiCodes[M][J]])}}return I}],specialAsciiCodes:{"0":["U"],"64":["V"],"96":["W"],"127":["T","X","Y","Z"]},shiftValuesAsciiCodes:{"39":36,"40":47,"41":43,"42":37},characterMap:{"+":false,"/":false,"$":false,"%":false},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]};w.code39=q.extend({name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",initValue:function(L,J,I){var K=this;K.width=J;K.height=I;K.value=L;K.dataLength=L.length;K.pattern=[];K.patternString=""},prepareValues:function(){var L=this,O,N=L.minBaseUnitLength,K=L.maxRatio,J=L.minRatio,M=Math.max(0.15*L.width,24);if(L.height<M){throw new Error("Insufficient Height. The minimum height for value: "+L.value+" is: "+M)}while((O=L.getBaseUnit(K))<N&&K>J){K=parseFloat((K-0.1).toFixed(1))}if(O<N){var I=Math.ceil(L.getBaseWidth(J)*N);throw new Error("Insufficient width. The minimum width for value: "+L.value+" is: "+I)}L.ratio=K;L.baseUnit=O;L.patternString=L.patternString.substring(0,L.patternString.length-1);L.pattern=L.pattern.concat(L.patternString.replace(/ratio/g,K).split(L.splitCharacter))},getBaseUnit:function(I){return this.width/this.getBaseWidth(I)},getBaseWidth:function(I){var J=this,K=3*(I+2);return J.quietZoneLength+K*(J.dataLength+2)+J.gapWidth*(J.dataLength+1)},addStart:function(){var I=this;I.addPattern(I.characterMap.START.pattern);I.addCharacterGap()},addBase:function(I){this.addPattern(I.pattern);this.addCharacterGap()},addStop:function(){this.addPattern(this.characterMap.START.pattern)},addPattern:function(J){for(var I=0;I<J.length;I++){this.patternString+=this.patternMappings[J.charAt(I)]}},addCharacterGap:function(){var I=this;I.patternString+=I.gapWidth+I.splitCharacter},patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{"0":{pattern:"bwbWBwBwb",value:0},"1":{pattern:"BwbWbwbwB",value:1},"2":{pattern:"bwBWbwbwB",value:2},"3":{pattern:"BwBWbwbwb",value:3},"4":{pattern:"bwbWBwbwB",value:4},"5":{pattern:"BwbWBwbwb",value:5},"6":{pattern:"bwBWBwbwb",value:6},"7":{pattern:"bwbWbwBwB",value:7},"8":{pattern:"BwbWbwBwb",value:8},"9":{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},"$":{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}},options:{addCheckSum:false}});w.code39extended=w.code39.extend(v({},b,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}}));w.code93=q.extend({name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,initValue:function(L,J,I){var K=this;K.value=L;K.width=J;K.height=I;K.pattern=[];K.values=[];K.dataLength=L.length},prepareValues:function(){var I=this,J=Math.max(0.15*I.width,24);if(I.height<J){throw new Error("Insufficient Height")}I.setBaseUnit();if(I.baseUnit<I.minBaseUnitLength){throw new Error("Insufficient Width")}},setBaseUnit:function(){var J=this,I=2;J.baseUnit=J.width/(9*(J.dataLength+2+I)+J.quietZoneLength+1)},addStart:function(){var I=this.characterMap.START.pattern;this.addPattern(I)},addStop:function(){var I=this;I.addStart();I.pattern.push(I.characterMap.TERMINATION_BAR)},addBase:function(I){this.addPattern(I.pattern);this.values.push(I.value)},pushCheckSum:function(){var L=this,K=L._getCheckValues(),I;L.checksum=K.join("");for(var J=0;J<K.length;J++){I=L.characterMap[L._findCharacterByValue(K[J])];L.addPattern(I.pattern)}},_getCheckValues:function(){var N=this,K=N.values,M=K.length,J=0,L,O,I;for(I=M-1;I>=0;I--){J+=N.weightedValue(K[I],M-I,N.cCheckSumTotal)}L=J%N.checkSumMod;J=N.weightedValue(L,1,N.kCheckSumTotal);for(I=M-1;I>=0;I--){J+=N.weightedValue(K[I],M-I+1,N.kCheckSumTotal)}O=J%N.checkSumMod;return[L,O]},_findCharacterByValue:function(J){for(var I in this.characterMap){if(this.characterMap[I].value===J){return I}}},weightedValue:function(K,I,J){return(I%J||J)*K},addPattern:function(K){var J;for(var I=0;I<K.length;I++){J=parseInt(K.charAt(I),10);this.pattern.push(J)}},characterMap:{"0":{pattern:"131112",value:0},"1":{pattern:"111213",value:1},"2":{pattern:"111312",value:2},"3":{pattern:"111411",value:3},"4":{pattern:"121113",value:4},"5":{pattern:"121212",value:5},"6":{pattern:"121311",value:6},"7":{pattern:"111114",value:7},"8":{pattern:"131211",value:8},"9":{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},"$":{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}});w.code93extended=w.code93.extend(v({},b,{name:"Code 93 extended",pushCheckSum:function(){var K=this,J=K._getCheckValues(),L;K.checksum=J.join("");for(var I=0;I<J.length;I++){L=J[I];if(K.shiftValuesAsciiCodes[L]){K.addExtended(K.shiftValuesAsciiCodes[L])}else{K.addPattern(K.characterMap[K._findCharacterByValue(L)].pattern)}}}}));var o=y.Class.extend({init:function(I){this.encoding=I},addStart:function(){},is:function(){},move:function(){},pushState:function(){}});var c=o.extend({FNC4:"FNC4",init:function(K,I){var J=this;J.encoding=K;J.states=I;J._initMoves(I)},addStart:function(){this.encoding.addPattern(this.START)},is:function(K,I){var J=K.charCodeAt(I);return this.isCode(J)},move:function(K){var J=this,I=0;while(!J._moves[I].call(J,K)&&I<J._moves.length){I++}},pushState:function(N){var M=this,J=M.states,O=N.value,I=O.length,L;if(E("C",J)>=0){var K=O.substr(N.index).match(/\d{4,}/g);if(K){I=O.indexOf(K[0],N.index)}}while((L=N.value.charCodeAt(N.index))>=0&&M.isCode(L)&&N.index<I){M.encoding.addPattern(M.getValue(L));N.index++}},_initMoves:function(I){var J=this;J._moves=[];if(E(J.FNC4,I)>=0){J._moves.push(J._moveFNC)}if(E(J.shiftKey,I)>=0){J._moves.push(J._shiftState)}J._moves.push(J._moveState)},_moveFNC:function(I){if(I.fnc){I.fnc=false;return I.previousState==this.key}},_shiftState:function(J){var I=this;if(J.previousState==I.shiftKey&&(J.index+1>=J.value.length||I.encoding[I.shiftKey].is(J.value,J.index+1))){I.encoding.addPattern(I.SHIFT);J.shifted=true;return true}},_moveState:function(){this.encoding.addPattern(this.MOVE);return true},SHIFT:98});var e={};e.A=c.extend({key:"A",shiftKey:"B",isCode:function(I){return 0<=I&&I<96},getValue:function(I){if(I<32){return I+64}return I-32},MOVE:101,START:103});e.B=c.extend({key:"B",shiftKey:"A",isCode:function(I){return 32<=I&&I<128},getValue:function(I){return I-32},MOVE:100,START:104});e.C=o.extend({key:"C",addStart:function(){this.encoding.addPattern(this.START)},is:function(K,J){var I=h(K,J,4);return(J+4<=K.length||K.length==2)&&m.test(I)},move:function(){this.encoding.addPattern(this.MOVE)},pushState:function(J){var I;while((I=h(J.value,J.index,2))&&m.test(I)&&I.length==2){this.encoding.addPattern(parseInt(I,10));J.index+=2}},getValue:function(I){return I},MOVE:99,START:105});e.FNC4=o.extend({key:"FNC4",dependentStates:["A","B"],init:function(J,I){this.encoding=J;this._initSubStates(I)},addStart:function(J){var I=J.value.charCodeAt(0)-128,K=this._getSubState(I);this.encoding[K].addStart()},is:function(K,I){var J=K.charCodeAt(I);return this.isCode(J)},isCode:function(I){return 128<=I&&I<256},pushState:function(M){var L=this,N=L._initSubState(M),K=L.encoding,J=N.value.length;M.index+=J;if(J<3){var I;for(;N.index<J;N.index++){I=N.value.charCodeAt(N.index);N.state=L._getSubState(I);if(N.previousState!=N.state){N.previousState=N.state;K[N.state].move(N)}K.addPattern(K[N.state].MOVE);K.addPattern(K[N.state].getValue(I))}}else{if(N.state!=N.previousState){K[N.state].move(N)}L._pushStart(N);K.pushData(N,L.subStates);if(M.index<M.value.length){L._pushStart(N)}}M.fnc=true;M.state=N.state},_pushStart:function(J){var I=this;I.encoding.addPattern(I.encoding[J.state].MOVE);I.encoding.addPattern(I.encoding[J.state].MOVE)},_initSubState:function(J){var I=this,K={value:I._getAll(J.value,J.index),index:0};K.state=I._getSubState(K.value.charCodeAt(0));K.previousState=J.previousState==I.key?K.state:J.previousState;return K},_initSubStates:function(I){var K=this;K.subStates=[];for(var J=0;J<I.length;J++){if(E(I[J],K.dependentStates)>=0){K.subStates.push(I[J])}}},_getSubState:function(K){var J=this;for(var I=0;I<J.subStates.length;I++){if(J.encoding[J.subStates[I]].isCode(K)){return J.subStates[I]}}},_getAll:function(L,J){var K,I="";while((K=L.charCodeAt(J++))&&this.isCode(K)){I+=String.fromCharCode(K-128)}return I}});e.FNC1=o.extend({key:"FNC1",startState:"C",dependentStates:["C","B"],startAI:"(",endAI:")",init:function(J,I){this.encoding=J;this.states=I},addStart:function(){this.encoding[this.startState].addStart()},is:function(){return E(this.key,this.states)>=0},pushState:function(L){var M=this,K=M.encoding,Q=L.value.replace(/\s/g,""),J=new RegExp("["+M.startAI+M.endAI+"]","g"),N=L.index,R={state:M.startState},O,I,P;K.addPattern(M.START);while(true){R.index=0;P=Q.charAt(N)===M.startAI?2:0;O=P>0?M.getBySeparator(Q,N):M.getByLength(Q,N);if(O.ai.length){I=N+P+O.id.length+O.ai.length}else{I=Q.indexOf(M.startAI,N+1);if(I<0){if(N+O.ai.max+O.id.length+P<Q.length){throw new Error("Separators are required after variable length identifiers")}I=Q.length}}R.value=Q.substring(N,I).replace(J,"");M.validate(O,R.value);K.pushData(R,M.dependentStates);if(I>=Q.length){break}N=I;if(R.state!=M.startState){K[M.startState].move(R);R.state=M.startState}if(!O.ai.length){K.addPattern(M.START)}}L.index=L.value.length},validate:function(L,K){var J=K.substr(L.id.length),I=L.ai;if(!I.type&&!m.test(J)){throw new Error("Application identifier "+L.id+" is numeric only but contains non numeric character(s).")}if(I.type=="alphanumeric"&&!D.test(J)){throw new Error("Application identifier "+L.id+" is alphanumeric only but contains non alphanumeric character(s).")}if(I.length&&I.length!==J.length){throw new Error("Application identifier "+L.id+" must be "+I.length+" characters long.")}if(I.min&&I.min>J.length){throw new Error("Application identifier "+L.id+" must be at least "+I.min+" characters long.")}if(I.max&&I.max<J.length){throw new Error("Application identifier "+L.id+" must be at most "+I.max+" characters long.")}},getByLength:function(M,J){var L=this,N,I;for(var K=2;K<=4;K++){N=h(M,J,K);I=L.getAI(N)||L.getAI(N.substring(0,N.length-1));if(I){return{id:N,ai:I}}}L.unsupportedAIError(N)},unsupportedAIError:function(I){throw new Error(y.format("'{0}' is not a supported Application Identifier"),I)},getBySeparator:function(M,K){var L=this,O=M.indexOf(L.startAI,K),J=M.indexOf(L.endAI,O),N=M.substring(O+1,J),I=L.getAI(N)||L.getAI(N.substr(N.length-1));if(!I){L.unsupportedAIError(N)}return{ai:I,id:N}},getAI:function(N){var I=this.applicationIdentifiers,M=I.multiKey;if(I[N]){return I[N]}for(var L=0;L<M.length;L++){if(M[L].ids&&E(N,M[L].ids)>=0){return M[L].type}else{if(M[L].ranges){var J=M[L].ranges;for(var K=0;K<J.length;K++){if(J[K][0]<=N&&N<=J[K][1]){return M[L].type}}}}}},applicationIdentifiers:{"22":{max:29,type:"alphanumeric"},"402":{length:17},"7004":{max:4,type:"alphanumeric"},"242":{max:6,type:"alphanumeric"},"8020":{max:25,type:"alphanumeric"},"703":{min:3,max:30,type:"alphanumeric"},"8008":{min:8,max:12,type:"alphanumeric"},"253":{min:13,max:17,type:"alphanumeric"},"8003":{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[90-99]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102});var B=i.extend({init:function(I){i.fn.init.call(this,I);this._initStates()},_initStates:function(){var J=this;for(var I=0;I<J.states.length;I++){J[J.states[I]]=new e[J.states[I]](J,J.states)}},initValue:function(L,J,I){var K=this;K.pattern=[];K.value=L;K.width=J;K.height=I;K.checkSum=0;K.totalUnits=0;K.index=0;K.position=1},addData:function(){var J=this,I={value:J.value,index:0,state:""};if(J.value.length===0){return}I.state=I.previousState=J.getNextState(I,J.states);J.addStart(I);J.pushData(I,J.states);J.addCheckSum();J.addStop();J.setBaseUnit()},pushData:function(L,J){var K=this;while(true){K[L.state].pushState(L);if(L.index>=L.value.length){break}if(!L.shifted){L.previousState=L.state;L.state=K.getNextState(L,J);K[L.state].move(L)}else{var I=L.state;L.state=L.previousState;L.previousState=I;L.shifted=false}}},addStart:function(I){this[I.state].addStart(I);this.position=1},addCheckSum:function(){var I=this;I.checksum=I.checkSum%103;I.addPattern(I.checksum)},addStop:function(){this.addPattern(this.STOP)},setBaseUnit:function(){var I=this;I.baseUnit=I.width/(I.totalUnits+I.quietZoneLength)},addPattern:function(K){var J=this,M=J.characterMap[K].toString(),L;for(var I=0;I<M.length;I++){L=parseInt(M.charAt(I),10);J.pattern.push(L);J.totalUnits+=L}J.checkSum+=K*J.position++},getNextState:function(K,I){for(var J=0;J<I.length;J++){if(this[I[J]].is(K.value,K.index)){return I[J]}}this.invalidCharacterError(K.value.charAt(K.index))},characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106});w.code128a=B.extend({name:"Code 128 A",states:["A"]});w.code128b=B.extend({name:"Code 128 B",states:["B"]});w.code128c=B.extend({name:"Code 128 C",states:["C"]});w.code128=B.extend({name:"Code 128",states:["C","B","A","FNC4"]});w["gs1-128"]=B.extend({name:"Code GS1-128",states:["FNC1","C","B"]});var G=i.extend({initValue:function(K,I){var J=this;J.pattern=[];J.value=K;J.checkSumLength=0;J.width=I},setBaseUnit:function(){var I=this,J=7;I.baseUnit=I.width/(12*(I.value.length+I.checkSumLength)+I.quietZoneLength+J)},addData:function(){var J=this,K=J.value;J.addPattern(J.START);for(var I=0;I<K.length;I++){J.addCharacter(K.charAt(I))}if(J.options.addCheckSum){J.addCheckSum()}J.addPattern(J.STOP);J.setBaseUnit()},addCharacter:function(K){var I=this,J=I.characterMap[K];if(!J){I.invalidCharacterError(K)}I.addPattern(J)},addPattern:function(J){for(var I=0;I<J.length;I++){this.pattern.push(parseInt(J.charAt(I),10))}},addCheckSum:function(){var L=this,I=L.checkSums[L.checkSumType],K;K=I.call(L.checkSums,L.value);L.checksum=K.join("");for(var J=0;J<K.length;J++){L.checkSumLength++;L.addPattern(L.characterMap[K[J]])}},checkSums:{Modulo10:function(N){var K=[0,""],M=N.length%2,I,L,J;for(I=0;I<N.length;I++){K[(I+M)%2]+=parseInt(N.charAt(I),10)}J=K[0];L=(K[1]*2).toString();for(I=0;I<L.length;I++){J+=parseInt(L.charAt(I),10)}return[(10-(J%10))%10]},Modulo11:function(O){var N=0,J=11,L=O.length,M,K;for(var I=0;I<L;I++){M=((L-I)%6||6)+1;N+=M*O.charAt(I)}K=(J-N%J)%J;if(K!=10){return[K]}return[1,0]},Modulo11Modulo10:function(K){var J=this.Modulo11(K),I;I=K+J[0];return J.concat(this.Modulo10(I))},Modulo10Modulo10:function(K){var J=this.Modulo10(K),I;I=K+J[0];return J.concat(this.Modulo10(I))}},characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:""});w.msimod10=G.extend({name:"MSI Modulo10",checkSumType:"Modulo10"});w.msimod11=G.extend({name:"MSI Modulo11",checkSumType:"Modulo11"});w.msimod1110=G.extend({name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"});w.msimod1010=G.extend({name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"});w.code11=i.extend({name:"Code 11",cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221",initValue:function(K,I){var J=this;J.pattern=[];J.value=K;J.width=I;J.totalUnits=0},addData:function(){var J=this;var K=J.value;J.addPattern(J.START);for(var I=0;I<K.length;I++){J.addCharacter(K.charAt(I))}if(J.options.addCheckSum){J.addCheckSum()}J.addPattern(J.STOP);J.setBaseUnit()},setBaseUnit:function(){var I=this;I.baseUnit=I.width/(I.totalUnits+I.quietZoneLength)},addCheckSum:function(){var K=this,M=K.value,J=M.length,I;I=K.getWeightedSum(M,J,K.cCheckSumTotal)%K.checkSumMod;K.checksum=I+"";K.addPattern(K.characterMap[I]);J++;if(J>=K.kCheckSumMinLength){var L=(I+K.getWeightedSum(M,J,K.kCheckSumTotal))%K.checkSumMod;K.checksum+=L;K.addPattern(K.characterMap[L])}},getWeightedSum:function(M,K,J){var L=0;for(var I=0;I<M.length;I++){L+=this.weightedValue(this.getValue(M.charAt(I)),K,I,J)}return L},weightedValue:function(M,K,I,J){var L=(K-I)%J||J;return L*M},getValue:function(J){var I=this;if(!isNaN(J)){return parseInt(J,10)}else{if(J!==I.DASH){I.invalidCharacterError(J)}}return I.DASH_VALUE},addCharacter:function(L){var I=this,K=I.getValue(L),J=I.characterMap[K];I.addPattern(J)},addPattern:function(K){var J;for(var I=0;I<K.length;I++){J=parseInt(K.charAt(I),10);this.pattern.push(J);this.totalUnits+=J}},characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],options:{addCheckSum:true}});w.postnet=i.extend({name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",initValue:function(L,J,I){var K=this;K.height=I;K.width=J;K.baseHeight=I/2;K.value=L.replace(new RegExp(K.DIGIT_SEPARATOR,"g"),"");K.pattern=[];K.validate(K.value);K.checkSum=0;K.setBaseUnit()},addData:function(){var J=this,K=J.value;J.addPattern(J.START);for(var I=0;I<K.length;I++){J.addCharacter(K.charAt(I))}if(J.options.addCheckSum){J.addCheckSum()}J.addPattern(J.START);J.pattern.pop()},addCharacter:function(K){var I=this,J=I.characterMap[K];I.checkSum+=parseInt(K,10);I.addPattern(J)},addCheckSum:function(){var I=this;I.checksum=(10-(I.checkSum%10))%10;I.addCharacter(I.checksum)},setBaseUnit:function(){var I=this,J=3;I.baseUnit=I.width/((I.value.length+1)*10+J+I.quietZoneLength)},validate:function(J){var I=this;if(!m.test(J)){I.invalidCharacterError(J.match(/[^0-9]/)[0])}if(E(J.length,I.VALID_CODE_LENGTHS)<0){throw new Error("Invalid value length. Valid lengths for the Postnet symbology are "+I.VALID_CODE_LENGTHS.join(","))}},addPattern:function(L){var K=this,J;for(var I=0;I<L.length;I++){J=K.height-K.baseHeight*L.charAt(I);K.pattern.push({width:1,y1:J,y2:K.height});K.pattern.push(1)}},characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]});w.ean13=i.extend({initValue:function(L,J,I){L+="";if(L.length!=12||/\D/.test(L)){throw new Error('The value of the "EAN13" encoding should be 12 symbols')}var K=this;K.pattern=[];K.options.height=I;K.baseUnit=J/(95+K.quietZoneLength);K.value=L;K.checksum=K.calculateChecksum();K.leftKey=L[0];K.leftPart=L.substr(1,6);K.rightPart=L.substr(7)+K.checksum},addData:function(){var I=this;I.addPieces(I.characterMap.start);I.addSide(I.leftPart,I.leftKey);I.addPieces(I.characterMap.middle);I.addSide(I.rightPart);I.addPieces(I.characterMap.start)},addSide:function(K,J){var L=this;for(var I=0;I<K.length;I++){if(J&&parseInt(L.keyTable[J].charAt(I),10)){L.addPieces(Array.prototype.slice.call(L.characterMap.digits[K.charAt(I)]).reverse(),true)}else{L.addPieces(L.characterMap.digits[K.charAt(I)],true)}}},addPieces:function(L,I){var K=this;for(var J=0;J<L.length;J++){if(I){K.pattern.push({y1:0,y2:K.options.height*0.95,width:L[J]})}else{K.pattern.push(L[J])}}},calculateChecksum:function(){var L=0,M=0,K=this.value.split("").reverse().join("");for(var I=0;I<K.length;I++){if(I%2){M+=parseInt(K.charAt(I),10)}else{L+=parseInt(K.charAt(I),10)}}var J=(10-((3*L+M)%10))%10;return J},keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}});w.ean8=w.ean13.extend({initValue:function(L,J,I){var K=this;if(L.length!=7||/\D/.test(L)){throw new Error("Invalid value provided")}K.value=L;K.options.height=I;K.checksum=K.calculateChecksum(K.value);K.leftPart=K.value.substr(0,4);K.rightPart=K.value.substr(4)+K.checksum;K.pattern=[];K.baseUnit=J/(67+K.quietZoneLength)}});var s=g.extend({init:function(J,I){var K=this;g.fn.init.call(K,J,I);K.element=l(J);K.wrapper=K.element;K.element.addClass("k-barcode").css("display","block");K.surfaceWrap=l("<div />").css("position","relative").appendTo(this.element);K.surface=r.Surface.create(K.surfaceWrap,{type:K.options.renderAs});K.setOptions(I)},setOptions:function(I){var J=this;J.type=(I.type||J.options.type).toLowerCase();if(J.type=="upca"){J.type="ean13";I.value="0"+I.value}if(J.type=="upce"){J.type="ean8";I.value="0"+I.value}if(!w[J.type]){throw new Error("Encoding "+J.type+"is not supported.")}J.encoding=new w[J.type]();J.options=F(true,J.options,I);if(!f(I.value)){return}J.redraw()},redraw:function(){var I=this._getSize();this.surfaceWrap.css({width:I.width,height:I.height});this.surface.clear();this.createVisual();this.surface.draw(this.visual)},getSize:function(){return y.dimensions(this.element)},_resize:function(){this.redraw()},createVisual:function(){this.visual=this._render()},_render:function(){var M=this,V=M.options,P=V.value,S=V.text,K=p.getSpacing(S.margin),U=M._getSize(),L=V.border||{},J=M.encoding,N=k(0,0,U.width,U.height).unpad(L.width).unpad(V.padding),R=N.height(),T,Q,O;var I=new r.Group();M.contentBox=N;I.append(M._getBackground(U));if(S.visible){O=r.util.measureText(P,{font:S.font}).height;R-=O+K.top+K.bottom}T=J.encode(P,N.width(),R);if(S.visible){Q=P;if(V.checksum&&f(J.checksum)){Q+=" "+J.checksum}I.append(M._getText(Q))}M.barHeight=R;this._bandsGroup=this._getBands(T.pattern,T.baseUnit);I.append(this._bandsGroup);return I},exportVisual:function(){return this._render()},_getSize:function(){var K=this,J=K.element,I=new A.Size(j,z);if(J.width()>0){I.width=J.width()}if(J.height()>0){I.height=J.height()}if(K.options.width){I.width=K.options.width}if(K.options.height){I.height=K.options.height}return I},value:function(J){var I=this;if(!f(J)){return I.options.value}I.options.value=J+"";I.redraw()},_getBands:function(M,P){var L=this,N=L.contentBox,K=N.x1,I,R;var Q=new r.Group();for(var J=0;J<M.length;J++){R=x(M[J])?M[J]:{width:M[J],y1:0,y2:L.barHeight};I=R.width*P;if(J%2){var O=A.Rect.fromPoints(new A.Point(K,R.y1+N.y1),new A.Point(K+I,R.y2+N.y1));var S=r.Path.fromRect(O,{fill:{color:L.options.color},stroke:null});Q.append(S)}K+=I}return Q},_getBackground:function(K){var M=this,J=M.options,I=J.border||{};var L=k(0,0,K.width,K.height).unpad(I.width/2);var N=r.Path.fromRect(L.toRect(),{fill:{color:J.background},stroke:{color:I.width?I.color:"",width:I.width,dashType:I.dashType}});return N},_getText:function(K){var J=this,I=J.options.text,L=J._textbox=new u(K,{font:I.font,color:I.color,align:"center",vAlign:"bottom",margin:I.margin});L.reflow(J.contentBox);L.renderVisual();return L.visual},options:{name:"Barcode",renderAs:"svg",value:"",type:"code39",checksum:false,width:0,height:0,color:"black",background:"white",text:{visible:true,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}}});p.ExportMixin.extend(s.fn);p.ui.plugin(s);y.deepExtend(p,{encodings:w,Encoding:i})})(window.kendo.jQuery);(function(aA,x){var r=window.kendo,aa=aA.extend,aK=r.geometry,aj=r.drawing,Y=r.dataviz,k=r.ui.Widget,v=Y.Box2D,H="0000",aE="numeric",O="alphanumeric",aJ="byte",ak={"1":0},az={"0":1},E=[[1,0],[1,25,0]],ax={15:20,16:20,18:24,19:24,22:20,24:22,26:24,28:20,30:20,31:24,32:28,33:24,36:18,37:22,39:20,40:24},ao=[{L:{groups:[[1,19]],totalDataCodewords:19,errorCodewordsPerBlock:7},M:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:10},Q:{groups:[[1,13]],totalDataCodewords:13,errorCodewordsPerBlock:13},H:{groups:[[1,9]],totalDataCodewords:9,errorCodewordsPerBlock:17}},{L:{groups:[[1,34]],totalDataCodewords:34,errorCodewordsPerBlock:10},M:{groups:[[1,28]],totalDataCodewords:28,errorCodewordsPerBlock:16},Q:{groups:[[1,22]],totalDataCodewords:22,errorCodewordsPerBlock:22},H:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:28}},{L:{groups:[[1,55]],totalDataCodewords:55,errorCodewordsPerBlock:15},M:{groups:[[1,44]],totalDataCodewords:44,errorCodewordsPerBlock:26},Q:{groups:[[2,17]],totalDataCodewords:34,errorCodewordsPerBlock:18},H:{groups:[[2,13]],totalDataCodewords:26,errorCodewordsPerBlock:22}},{L:{groups:[[1,80]],totalDataCodewords:80,errorCodewordsPerBlock:20},M:{groups:[[2,32]],totalDataCodewords:64,errorCodewordsPerBlock:18},Q:{groups:[[2,24]],totalDataCodewords:48,errorCodewordsPerBlock:26},H:{groups:[[4,9]],totalDataCodewords:36,errorCodewordsPerBlock:16}},{L:{groups:[[1,108]],totalDataCodewords:108,errorCodewordsPerBlock:26},M:{groups:[[2,43]],totalDataCodewords:86,errorCodewordsPerBlock:24},Q:{groups:[[2,15],[2,16]],totalDataCodewords:62,errorCodewordsPerBlock:18},H:{groups:[[2,11],[2,12]],totalDataCodewords:46,errorCodewordsPerBlock:22}},{L:{groups:[[2,68]],totalDataCodewords:136,errorCodewordsPerBlock:18},M:{groups:[[4,27]],totalDataCodewords:108,errorCodewordsPerBlock:16},Q:{groups:[[4,19]],totalDataCodewords:76,errorCodewordsPerBlock:24},H:{groups:[[4,15]],totalDataCodewords:60,errorCodewordsPerBlock:28}},{L:{groups:[[2,78]],totalDataCodewords:156,errorCodewordsPerBlock:20},M:{groups:[[4,31]],totalDataCodewords:124,errorCodewordsPerBlock:18},Q:{groups:[[2,14],[4,15]],totalDataCodewords:88,errorCodewordsPerBlock:18},H:{groups:[[4,13],[1,14]],totalDataCodewords:66,errorCodewordsPerBlock:26}},{L:{groups:[[2,97]],totalDataCodewords:194,errorCodewordsPerBlock:24},M:{groups:[[2,38],[2,39]],totalDataCodewords:154,errorCodewordsPerBlock:22},Q:{groups:[[4,18],[2,19]],totalDataCodewords:110,errorCodewordsPerBlock:22},H:{groups:[[4,14],[2,15]],totalDataCodewords:86,errorCodewordsPerBlock:26}},{L:{groups:[[2,116]],totalDataCodewords:232,errorCodewordsPerBlock:30},M:{groups:[[3,36],[2,37]],totalDataCodewords:182,errorCodewordsPerBlock:22},Q:{groups:[[4,16],[4,17]],totalDataCodewords:132,errorCodewordsPerBlock:20},H:{groups:[[4,12],[4,13]],totalDataCodewords:100,errorCodewordsPerBlock:24}},{L:{groups:[[2,68],[2,69]],totalDataCodewords:274,errorCodewordsPerBlock:18},M:{groups:[[4,43],[1,44]],totalDataCodewords:216,errorCodewordsPerBlock:26},Q:{groups:[[6,19],[2,20]],totalDataCodewords:154,errorCodewordsPerBlock:24},H:{groups:[[6,15],[2,16]],totalDataCodewords:122,errorCodewordsPerBlock:28}},{L:{groups:[[4,81]],totalDataCodewords:324,errorCodewordsPerBlock:20},M:{groups:[[1,50],[4,51]],totalDataCodewords:254,errorCodewordsPerBlock:30},Q:{groups:[[4,22],[4,23]],totalDataCodewords:180,errorCodewordsPerBlock:28},H:{groups:[[3,12],[8,13]],totalDataCodewords:140,errorCodewordsPerBlock:24}},{L:{groups:[[2,92],[2,93]],totalDataCodewords:370,errorCodewordsPerBlock:24},M:{groups:[[6,36],[2,37]],totalDataCodewords:290,errorCodewordsPerBlock:22},Q:{groups:[[4,20],[6,21]],totalDataCodewords:206,errorCodewordsPerBlock:26},H:{groups:[[7,14],[4,15]],totalDataCodewords:158,errorCodewordsPerBlock:28}},{L:{groups:[[4,107]],totalDataCodewords:428,errorCodewordsPerBlock:26},M:{groups:[[8,37],[1,38]],totalDataCodewords:334,errorCodewordsPerBlock:22},Q:{groups:[[8,20],[4,21]],totalDataCodewords:244,errorCodewordsPerBlock:24},H:{groups:[[12,11],[4,12]],totalDataCodewords:180,errorCodewordsPerBlock:22}},{L:{groups:[[3,115],[1,116]],totalDataCodewords:461,errorCodewordsPerBlock:30},M:{groups:[[4,40],[5,41]],totalDataCodewords:365,errorCodewordsPerBlock:24},Q:{groups:[[11,16],[5,17]],totalDataCodewords:261,errorCodewordsPerBlock:20},H:{groups:[[11,12],[5,13]],totalDataCodewords:197,errorCodewordsPerBlock:24}},{L:{groups:[[5,87],[1,88]],totalDataCodewords:523,errorCodewordsPerBlock:22},M:{groups:[[5,41],[5,42]],totalDataCodewords:415,errorCodewordsPerBlock:24},Q:{groups:[[5,24],[7,25]],totalDataCodewords:295,errorCodewordsPerBlock:30},H:{groups:[[11,12],[7,13]],totalDataCodewords:223,errorCodewordsPerBlock:24}},{L:{groups:[[5,98],[1,99]],totalDataCodewords:589,errorCodewordsPerBlock:24},M:{groups:[[7,45],[3,46]],totalDataCodewords:453,errorCodewordsPerBlock:28},Q:{groups:[[15,19],[2,20]],totalDataCodewords:325,errorCodewordsPerBlock:24},H:{groups:[[3,15],[13,16]],totalDataCodewords:253,errorCodewordsPerBlock:30}},{L:{groups:[[1,107],[5,108]],totalDataCodewords:647,errorCodewordsPerBlock:28},M:{groups:[[10,46],[1,47]],totalDataCodewords:507,errorCodewordsPerBlock:28},Q:{groups:[[1,22],[15,23]],totalDataCodewords:367,errorCodewordsPerBlock:28},H:{groups:[[2,14],[17,15]],totalDataCodewords:283,errorCodewordsPerBlock:28}},{L:{groups:[[5,120],[1,121]],totalDataCodewords:721,errorCodewordsPerBlock:30},M:{groups:[[9,43],[4,44]],totalDataCodewords:563,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[1,23]],totalDataCodewords:397,errorCodewordsPerBlock:28},H:{groups:[[2,14],[19,15]],totalDataCodewords:313,errorCodewordsPerBlock:28}},{L:{groups:[[3,113],[4,114]],totalDataCodewords:795,errorCodewordsPerBlock:28},M:{groups:[[3,44],[11,45]],totalDataCodewords:627,errorCodewordsPerBlock:26},Q:{groups:[[17,21],[4,22]],totalDataCodewords:445,errorCodewordsPerBlock:26},H:{groups:[[9,13],[16,14]],totalDataCodewords:341,errorCodewordsPerBlock:26}},{L:{groups:[[3,107],[5,108]],totalDataCodewords:861,errorCodewordsPerBlock:28},M:{groups:[[3,41],[13,42]],totalDataCodewords:669,errorCodewordsPerBlock:26},Q:{groups:[[15,24],[5,25]],totalDataCodewords:485,errorCodewordsPerBlock:30},H:{groups:[[15,15],[10,16]],totalDataCodewords:385,errorCodewordsPerBlock:28}},{L:{groups:[[4,116],[4,117]],totalDataCodewords:932,errorCodewordsPerBlock:28},M:{groups:[[17,42]],totalDataCodewords:714,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[6,23]],totalDataCodewords:512,errorCodewordsPerBlock:28},H:{groups:[[19,16],[6,17]],totalDataCodewords:406,errorCodewordsPerBlock:30}},{L:{groups:[[2,111],[7,112]],totalDataCodewords:1006,errorCodewordsPerBlock:28},M:{groups:[[17,46]],totalDataCodewords:782,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[16,25]],totalDataCodewords:568,errorCodewordsPerBlock:30},H:{groups:[[34,13]],totalDataCodewords:442,errorCodewordsPerBlock:24}},{L:{groups:[[4,121],[5,122]],totalDataCodewords:1094,errorCodewordsPerBlock:30},M:{groups:[[4,47],[14,48]],totalDataCodewords:860,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[14,25]],totalDataCodewords:614,errorCodewordsPerBlock:30},H:{groups:[[16,15],[14,16]],totalDataCodewords:464,errorCodewordsPerBlock:30}},{L:{groups:[[6,117],[4,118]],totalDataCodewords:1174,errorCodewordsPerBlock:30},M:{groups:[[6,45],[14,46]],totalDataCodewords:914,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[16,25]],totalDataCodewords:664,errorCodewordsPerBlock:30},H:{groups:[[30,16],[2,17]],totalDataCodewords:514,errorCodewordsPerBlock:30}},{L:{groups:[[8,106],[4,107]],totalDataCodewords:1276,errorCodewordsPerBlock:26},M:{groups:[[8,47],[13,48]],totalDataCodewords:1000,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[22,25]],totalDataCodewords:718,errorCodewordsPerBlock:30},H:{groups:[[22,15],[13,16]],totalDataCodewords:538,errorCodewordsPerBlock:30}},{L:{groups:[[10,114],[2,115]],totalDataCodewords:1370,errorCodewordsPerBlock:28},M:{groups:[[19,46],[4,47]],totalDataCodewords:1062,errorCodewordsPerBlock:28},Q:{groups:[[28,22],[6,23]],totalDataCodewords:754,errorCodewordsPerBlock:28},H:{groups:[[33,16],[4,17]],totalDataCodewords:596,errorCodewordsPerBlock:30}},{L:{groups:[[8,122],[4,123]],totalDataCodewords:1468,errorCodewordsPerBlock:30},M:{groups:[[22,45],[3,46]],totalDataCodewords:1128,errorCodewordsPerBlock:28},Q:{groups:[[8,23],[26,24]],totalDataCodewords:808,errorCodewordsPerBlock:30},H:{groups:[[12,15],[28,16]],totalDataCodewords:628,errorCodewordsPerBlock:30}},{L:{groups:[[3,117],[10,118]],totalDataCodewords:1531,errorCodewordsPerBlock:30},M:{groups:[[3,45],[23,46]],totalDataCodewords:1193,errorCodewordsPerBlock:28},Q:{groups:[[4,24],[31,25]],totalDataCodewords:871,errorCodewordsPerBlock:30},H:{groups:[[11,15],[31,16]],totalDataCodewords:661,errorCodewordsPerBlock:30}},{L:{groups:[[7,116],[7,117]],totalDataCodewords:1631,errorCodewordsPerBlock:30},M:{groups:[[21,45],[7,46]],totalDataCodewords:1267,errorCodewordsPerBlock:28},Q:{groups:[[1,23],[37,24]],totalDataCodewords:911,errorCodewordsPerBlock:30},H:{groups:[[19,15],[26,16]],totalDataCodewords:701,errorCodewordsPerBlock:30}},{L:{groups:[[5,115],[10,116]],totalDataCodewords:1735,errorCodewordsPerBlock:30},M:{groups:[[19,47],[10,48]],totalDataCodewords:1373,errorCodewordsPerBlock:28},Q:{groups:[[15,24],[25,25]],totalDataCodewords:985,errorCodewordsPerBlock:30},H:{groups:[[23,15],[25,16]],totalDataCodewords:745,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[3,116]],totalDataCodewords:1843,errorCodewordsPerBlock:30},M:{groups:[[2,46],[29,47]],totalDataCodewords:1455,errorCodewordsPerBlock:28},Q:{groups:[[42,24],[1,25]],totalDataCodewords:1033,errorCodewordsPerBlock:30},H:{groups:[[23,15],[28,16]],totalDataCodewords:793,errorCodewordsPerBlock:30}},{L:{groups:[[17,115]],totalDataCodewords:1955,errorCodewordsPerBlock:30},M:{groups:[[10,46],[23,47]],totalDataCodewords:1541,errorCodewordsPerBlock:28},Q:{groups:[[10,24],[35,25]],totalDataCodewords:1115,errorCodewordsPerBlock:30},H:{groups:[[19,15],[35,16]],totalDataCodewords:845,errorCodewordsPerBlock:30}},{L:{groups:[[17,115],[1,116]],totalDataCodewords:2071,errorCodewordsPerBlock:30},M:{groups:[[14,46],[21,47]],totalDataCodewords:1631,errorCodewordsPerBlock:28},Q:{groups:[[29,24],[19,25]],totalDataCodewords:1171,errorCodewordsPerBlock:30},H:{groups:[[11,15],[46,16]],totalDataCodewords:901,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[6,116]],totalDataCodewords:2191,errorCodewordsPerBlock:30},M:{groups:[[14,46],[23,47]],totalDataCodewords:1725,errorCodewordsPerBlock:28},Q:{groups:[[44,24],[7,25]],totalDataCodewords:1231,errorCodewordsPerBlock:30},H:{groups:[[59,16],[1,17]],totalDataCodewords:961,errorCodewordsPerBlock:30}},{L:{groups:[[12,121],[7,122]],totalDataCodewords:2306,errorCodewordsPerBlock:30},M:{groups:[[12,47],[26,48]],totalDataCodewords:1812,errorCodewordsPerBlock:28},Q:{groups:[[39,24],[14,25]],totalDataCodewords:1286,errorCodewordsPerBlock:30},H:{groups:[[22,15],[41,16]],totalDataCodewords:986,errorCodewordsPerBlock:30}},{L:{groups:[[6,121],[14,122]],totalDataCodewords:2434,errorCodewordsPerBlock:30},M:{groups:[[6,47],[34,48]],totalDataCodewords:1914,errorCodewordsPerBlock:28},Q:{groups:[[46,24],[10,25]],totalDataCodewords:1354,errorCodewordsPerBlock:30},H:{groups:[[2,15],[64,16]],totalDataCodewords:1054,errorCodewordsPerBlock:30}},{L:{groups:[[17,122],[4,123]],totalDataCodewords:2566,errorCodewordsPerBlock:30},M:{groups:[[29,46],[14,47]],totalDataCodewords:1992,errorCodewordsPerBlock:28},Q:{groups:[[49,24],[10,25]],totalDataCodewords:1426,errorCodewordsPerBlock:30},H:{groups:[[24,15],[46,16]],totalDataCodewords:1096,errorCodewordsPerBlock:30}},{L:{groups:[[4,122],[18,123]],totalDataCodewords:2702,errorCodewordsPerBlock:30},M:{groups:[[13,46],[32,47]],totalDataCodewords:2102,errorCodewordsPerBlock:28},Q:{groups:[[48,24],[14,25]],totalDataCodewords:1502,errorCodewordsPerBlock:30},H:{groups:[[42,15],[32,16]],totalDataCodewords:1142,errorCodewordsPerBlock:30}},{L:{groups:[[20,117],[4,118]],totalDataCodewords:2812,errorCodewordsPerBlock:30},M:{groups:[[40,47],[7,48]],totalDataCodewords:2216,errorCodewordsPerBlock:28},Q:{groups:[[43,24],[22,25]],totalDataCodewords:1582,errorCodewordsPerBlock:30},H:{groups:[[10,15],[67,16]],totalDataCodewords:1222,errorCodewordsPerBlock:30}},{L:{groups:[[19,118],[6,119]],totalDataCodewords:2956,errorCodewordsPerBlock:30},M:{groups:[[18,47],[31,48]],totalDataCodewords:2334,errorCodewordsPerBlock:28},Q:{groups:[[34,24],[34,25]],totalDataCodewords:1666,errorCodewordsPerBlock:30},H:{groups:[[20,15],[61,16]],totalDataCodewords:1276,errorCodewordsPerBlock:30}}],aG=[1,0,1,1,1],u=[1,0,1],ac={L:"01",M:"00",Q:"11",H:"10"},ag="101010000010010",af="10100110111",S="1111100100101",at=["11101100","00010001"],aq=93,T=[function(aN,aM){return(aN+aM)%2===0},function(aM){return aM%2===0},function(aN,aM){return aM%3===0},function(aN,aM){return(aN+aM)%3===0},function(aN,aM){return(Math.floor(aN/2)+Math.floor(aM/3))%2===0},function(aN,aM){return((aN*aM)%2)+((aN*aM)%3)===0},function(aN,aM){return(((aN*aM)%2)+((aN*aM)%3))%2===0},function(aN,aM){return(((aN+aM)%2)+((aN*aM)%3))%2===0}],ay=/^\d+/,aH="A-Z0-9 $%*+./:-",aD="A-Z $%*+./:-",am=new RegExp("^["+aD+"]+"),P=new RegExp("^["+aH+"]+"),F=new RegExp("^[^"+aH+"]+"),aL=8,g=5,X=8,ai=17,M=9,aF=16,K=Math.round;function q(aM){return parseInt(aM,2)}function al(aO,aN){var aM=Number(aO).toString(2);if(aM.length<aN){aM=new Array(aN-aM.length+1).join(0)+aM}return aM}function L(aO,aP){var aN=[],aM=0;while(aM<aO.length){aN.push(aO.substring(aM,aM+aP));aM+=aP}return aN}var z=r.Class.extend({getVersionIndex:function(aM){if(aM<10){return 0}else{if(aM>26){return 2}}return 1},getBitsCharacterCount:function(aM){var aN=this;return aN.bitsInCharacterCount[aN.getVersionIndex(aM||40)]},getModeCountString:function(aN,aM){var aO=this;return aO.modeIndicator+al(aN,aO.getBitsCharacterCount(aM))},encode:function(){},getStringBitsLength:function(){},getValue:function(){},modeIndicator:"",bitsInCharacterCount:[]});var t={};t[aE]=z.extend({bitsInCharacterCount:[10,12,14],modeIndicator:"0001",getValue:function(aM){return parseInt(aM,10)},encode:function(aR,aN){var aQ=this,aP=L(aR,3),aM=aQ.getModeCountString(aR.length,aN);for(var aO=0;aO<aP.length-1;aO++){aM+=al(aP[aO],10)}return aM+al(aP[aO],1+3*aP[aO].length)},getStringBitsLength:function(aN,aM){var aO=aN%3;return 4+this.getBitsCharacterCount(aM)+10*Math.floor(aN/3)+3*aO+(aO===0?0:1)}});t[O]=z.extend({characters:{"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,"$":37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44},bitsInCharacterCount:[9,11,13],modeIndicator:"0010",getValue:function(aM){return this.characters[aM]},encode:function(aS,aN){var aR=this,aQ=L(aS,2),aM=aR.getModeCountString(aS.length,aN),aP;for(var aO=0;aO<aQ.length-1;aO++){aP=45*aR.getValue(aQ[aO].charAt(0))+aR.getValue(aQ[aO].charAt(1));aM+=al(aP,11)}aP=aQ[aO].length==2?45*aR.getValue(aQ[aO].charAt(0))+aR.getValue(aQ[aO].charAt(1)):aR.getValue(aQ[aO].charAt(0));return aM+al(aP,1+5*aQ[aO].length)},getStringBitsLength:function(aN,aM){return 4+this.getBitsCharacterCount(aM)+11*Math.floor(aN/2)+6*(aN%2)}});t[aJ]=z.extend({bitsInCharacterCount:[8,16,16],modeIndicator:"0100",getValue:function(aN){var aM=aN.charCodeAt(0);if(aM<=127||(160<=aM&&aM<=255)){return aM}else{throw new Error("Unsupported character: "+aN)}},encode:function(aQ,aN){var aP=this,aM=aP.getModeCountString(aQ.length,aN);for(var aO=0;aO<aQ.length;aO++){aM+=al(aP.getValue(aQ.charAt(aO)),8)}return aM},getStringBitsLength:function(aN,aM){return 4+this.getBitsCharacterCount(aM)+8*aN}});var n={};for(var Z in t){n[Z]=new t[Z]()}var o=function(aM){var aQ=this,aR=aM.length-1,aP=aM.length-1,aO=aP,aN=-1,aS=0;aQ.move=function(){aR+=aN*aS;aS^=1;aP=aO-aS};aQ.getNextCell=function(){while(aM[aR][aP]!==x){aQ.move();if(aR<0||aR>=aM.length){aN=-aN;aO-=aO!=8?2:3;aP=aO;aR=aN<0?aM.length-1:0}}return{row:aR,column:aP}};aQ.getNextRemainderCell=function(){aQ.move();if(aM[aR][aP]===x){return{row:aR,column:aP}}}};function l(aN,aP,aM,aQ){for(var aO=0;aO<aN.length;aO++){aN[aO][aM][aQ]=aP}}function D(aN,aP,aM,aQ){for(var aO=0;aO<T.length;aO++){aN[aO][aM][aQ]=T[aO](aM,aQ)?aP^1:parseInt(aP,10)}}var av=function(aS,aM){var aU=new o(aS[0]),aP,aN,aT;for(var aO=0;aO<aM.length;aO++){aP=aM[aO];aN=0;while(aP.length>0){for(var aR=0;aR<aP.length;aR++){for(var aQ=0;aQ<8;aQ++){aT=aU.getNextCell();D(aS,aP[aR][aN].charAt(aQ),aT.row,aT.column)}}aN++;while(aP[0]&&aN==aP[0].length){aP.splice(0,1)}}}while((aT=aU.getNextRemainderCell())){D(aS,0,aT.row,aT.column)}};var ab=function(aO,aP){var aQ=aP*8,aN=0,aM=0;while(aO.length<aQ&&aN<H.length){aO+=H.charAt(aN++)}if(aO.length%8!==0){aO+=new Array(9-aO.length%8).join("0")}while(aO.length<aQ){aO+=at[aM];aM^=1}return aO};function h(){var aM;for(var aN=1;aN<255;aN++){aM=az[aN-1]*2;if(aM>255){aM=aM^285}az[aN]=aM;ak[aM]=aN}aM=(az[aN-1]*2)^285;az[aN]=aM;az[-1]=0}var d=function(aO,aQ){var aN=[],aM=aO.length-2;for(var aP=aM;aP>=0;aP--){aN[aP]=aO[aP]^aQ[aP]}return aN};var e=function(aN,aQ){var aM=[];for(var aP=0;aP<aN.length;aP++){for(var aO=0;aO<aQ.length;aO++){if(aM[aP+aO]===x){aM[aP+aO]=(aN[aP]+(aQ[aO]>=0?aQ[aO]:0))%255}else{aM[aP+aO]=ak[az[aM[aP+aO]]^az[(aN[aP]+aQ[aO])%255]]}}}return aM};function f(){var aO=68;for(var aN=2;aN<=aO;aN++){var aM=E[aN-1],aP=[aN,0];E[aN]=e(aM,aP)}}h();f();function j(aO,aP){var aN=[],aM=aO.length-1;do{aN[aM]=az[(aO[aM]+aP)%255];aM--}while(aO[aM]!==x);return aN}var y=function(aO,aQ){var aP=E[aQ-1],aU=new Array(aQ).concat(aO),aM=new Array(aU.length-aP.length).concat(aP),aR=aO.length,aT=[],aN,aS;for(aS=0;aS<aR;aS++){aN=j(aM,ak[aU[aU.length-1]]);aM.splice(0,1);aU=d(aN,aU)}for(aS=aU.length-1;aS>=0;aS--){aT[aQ-1-aS]=al(aU[aS],8)}return aT};var R=function(aY,aO){var aR=0,aN=[],aX=[],aT,aU=aO.groups,aW,aV,aM,aS;for(var aZ=0;aZ<aU.length;aZ++){aV=aU[aZ][0];for(var aQ=0;aQ<aV;aQ++){aW=aU[aZ][1];aT=[];aM=[];for(var aP=1;aP<=aW;aP++){aS=aY.substring(aR,aR+8);aT.push(aS);aM[aW-aP]=q(aS);aR+=8}aN.push(aT);aX.push(y(aM,aO.errorCodewordsPerBlock))}}return[aN,aX]};var aC=function(aV,aS,aP,aR,aY){var aW=ay.exec(aV),aN=aW?aW[0]:"",aQ=am.exec(aV),aX=aQ?aQ[0]:"",aU=P.exec(aV),aM=aU?aU[0]:"",aT,aO;if(aN&&(aN.length>=aS||aV.length==aN.length||(aN.length>=aP&&!P.test(aV.charAt(aN.length))))){aT=aE;aO=aN}else{if(aM&&(aV.length==aM.length||aM.length>=aR||aY==O)){aT=O;aO=aN||aX}else{aT=aJ;if(aM){aO=aM+F.exec(aV.substring(aM.length))[0]}else{aO=F.exec(aV)[0]}}}return{mode:aT,modeString:aO}};var N=function(aQ){var aP=[],aO,aM=0;aP.push(aC(aQ,aL,g,X,aO));aO=aP[0].mode;aQ=aQ.substr(aP[0].modeString.length);while(aQ.length>0){var aN=aC(aQ,ai,M,aF,aO);if(aN.mode!=aO){aO=aN.mode;aP.push(aN);aM++}else{aP[aM].modeString+=aN.modeString}aQ=aQ.substr(aN.modeString.length)}return aP};var Q=function(aO){var aN=0,aP;for(var aM=0;aM<aO.length;aM++){aP=n[aO[aM].mode];aN+=aP.getStringBitsLength(aO[aM].modeString.length)}return Math.ceil(aN/8)};var b=function(aP,aO){var aM=0,aQ=ao.length-1,aN=Math.floor(ao.length/2);do{if(aP<ao[aN][aO].totalDataCodewords){aQ=aN}else{aM=aN}aN=aM+Math.floor((aQ-aM)/2)}while(aQ-aM>1);if(aP<=ao[aM][aO].totalDataCodewords){return aN+1}return aQ+1};var p=function(aP,aM){var aO="",aQ;for(var aN=0;aN<aP.length;aN++){aQ=n[aP[aN].mode];aO+=aQ.encode(aP[aN].modeString,aM)}return aO};var W=function(aQ){var aN=q(aQ),aP,aM="";if(aN===0){return"101010000010010"}else{aP=aB(q(aQ),af,15)}for(var aO=0;aO<aP.length;aO++){aM+=aP.charAt(aO)^ag.charAt(aO)}return aM};var aB=function(aR,aN,aS){var aP=q(aN),aT=aN.length-1,aM=aR<<aT,aO=aS-aT,aQ=al(aR,aO),aU=s(aM,aP);aU=aQ+al(aU,aT);return aU};var s=function(aP,aN){var aO=aN.toString(2).length,aM=aP.toString(2).length;do{aP^=aN<<aM-aO;aM=aP.toString(2).length}while(aM>=aO);return aP};function J(aN,aM){return parseInt(aN.charAt(aM),10)}var A=function(aM){var aP=[],aO=17+4*aM;for(var aQ=0;aQ<T.length;aQ++){aP[aQ]=new Array(aO);for(var aN=0;aN<aO;aN++){aP[aQ][aN]=new Array(aO)}}return aP};var c=function(aQ,aO){var aP=aQ[0],aN,aS,aM=0,aR=aO.length;for(aN=0,aS=8;aN<=8;aN++){if(aN!==6){l(aQ,J(aO,aR-1-aM++),aN,aS)}}for(aN=8,aS=7;aS>=0;aS--){if(aS!==6){l(aQ,J(aO,aR-1-aM++),aN,aS)}}aM=0;for(aS=aP.length-1,aN=8;aS>=aP.length-8;aS--){l(aQ,J(aO,aR-1-aM++),aN,aS)}l(aQ,1,aP.length-8,8);for(aN=aP.length-7,aS=8;aN<aP.length;aN++){l(aQ,J(aO,aR-1-aM++),aN,aS)}};var V=function(aM){return aB(aM,S,18)};var ad=function(aX,aQ){var aU=aX[0],aO=aU.length,aN=0,aT=aO-11,aM=aO-11,aS=0,aP,aR,aW;for(var aV=0;aV<aQ.length;aV++){aP=Math.floor(aV/3);aR=aV%3;aW=J(aQ,aQ.length-aV-1);l(aX,aW,aN+aP,aT+aR);l(aX,aW,aM+aR,aS+aP)}};var aw=function(aT,aP,aR,aQ){var aU=aP.length+2,aM=aP.length+1,aS;for(var aO=0;aO<aP.length;aO++){for(var aN=aO;aN<aU-aO;aN++){aS=aP[aO];l(aT,aS,aR+aN,aQ+aO);l(aT,aS,aR+aO,aQ+aN);l(aT,aS,aR+aM-aN,aQ+aM-aO);l(aT,aS,aR+aM-aO,aQ+aM-aN)}}};var B=function(aO,aQ,aM,aS){var aR=aM,aP=aS,aN=aO[0];do{l(aO,0,aR,aS);l(aO,0,aM,aP);aR+=aQ[0];aP+=aQ[1]}while(aR>=0&&aR<aN.length)};var ar=function(aN){var aM=aN[0].length;aw(aN,aG,0,0);B(aN,[-1,-1],7,7);aw(aN,aG,aM-7,0);B(aN,[1,-1],aM-8,7);aw(aN,aG,0,aM-7);B(aN,[-1,1],7,aM-8)};var ae=function(aV,aS){if(aS<2){return}var aT=aV[0],aO=aT.length,aR=Math.floor(aS/7),aW=[6],aM,aN,aU=0;if((aM=ax[aS])){aN=(aO-13-aM)/aR}else{aM=aN=(aO-13)/(aR+1)}aW.push(aW[aU++]+aM);while((aW[aU]+aN)<aO){aW.push(aW[aU++]+aN)}for(var aQ=0;aQ<aW.length;aQ++){for(var aP=0;aP<aW.length;aP++){if(aT[aW[aQ]][aW[aP]]===x){aw(aV,u,aW[aQ]-2,aW[aP]-2)}}}};var i=function(aN){var aR=6,aP=6,aQ=1,aM=aN[0].length;for(var aO=8;aO<aM-8;aO++){l(aN,aQ,aR,aO);l(aN,aQ,aO,aP);aQ^=1}};var an=function(aZ){var aQ=[],aT=[],aW=[],aM=[],a0=[],aY,aU,a1=0,aO=1,aN=aZ[0].length;for(aU=0;aU<aZ.length;aU++){aQ[aU]=0;aW[aU]=0;a0[aU]=[0,0];aM[aU]=[0,0];aT[aU]=[]}for(aU=0;aU<aN;aU++){for(var aS=0;aS<aN;aS++){for(var aP=0;aP<aZ.length;aP++){aY=aZ[aP];aW[aP]+=parseInt(aY[aU][aS],10);if(aT[aP][a1]===aY[aU][aS]&&aU+1<aN&&aS-1>=0&&aY[aU+1][aS]==aT[aP][a1]&&aY[aU+1][aS-1]==aT[aP][a1]){aQ[aP]+=3}w(aP,aM,aQ,a1,aY[aU][aS]);w(aP,aM,aQ,aO,aY[aS][aU]);G(aP,aQ,aT,aY[aU][aS],a0,a1);G(aP,aQ,aT,aY[aS][aU],a0,aO)}}}var aX=aN*aN,aV,aR=Number.MAX_VALUE;for(aU=0;aU<aQ.length;aU++){aQ[aU]+=ap(aW[aU],aX);if(aQ[aU]<aR){aR=aQ[aU];aV=aU}}return aV};function w(aN,aO,aQ,aM,aP){aO[aN][aM]=((aO[aN][aM]<<1)^aP)%128;if(aO[aN][aM]==aq){aQ[aN]+=40}}function G(aN,aR,aO,aQ,aP,aM){if(aO[aN][aM]==aQ){aP[aN][aM]++}else{aO[aN][aM]=aQ;if(aP[aN][aM]>=5){aR[aN]+=3+aP[aN][aM]-5}aP[aN][aM]=1}}function ap(aR,aQ){var aP=Math.floor((aR/aQ)*100),aM=aP%5,aO=Math.abs(aP-aM-50),aN=Math.abs(aP+5-aM-50),aS=10*Math.min(aO/5,aN/5);return aS}var au=function(aN,aM){this.dataString=aN;this.version=aM};var C=function(){this.getEncodingResult=function(aR,aN){var aQ=N(aR),aP=Q(aQ),aM=b(aP,aN),aO=p(aQ,aM);return new au(aO,aM)}};var aI=function(){this.mode=n[this.encodingMode]};aI.fn=aI.prototype={encodingMode:aJ,utfBOM:"111011111011101110111111",initialModeCountStringLength:20,getEncodingResult:function(aS,aN){var aP=this,aR=aP.encode(aS),aQ=aP.getDataCodewordsCount(aR),aM=b(aQ,aN),aO=aP.mode.getModeCountString(aR.length/8,aM)+aR;return new au(aO,aM)},getDataCodewordsCount:function(aO){var aM=this,aP=aO.length,aN=Math.ceil((aM.initialModeCountStringLength+aP)/8);return aN},encode:function(aP){var aO=this,aM=aO.utfBOM;for(var aN=0;aN<aP.length;aN++){aM+=aO.encodeCharacter(aP.charCodeAt(aN))}return aM},encodeCharacter:function(aQ){var aP=this.getBytesCount(aQ),aR=aP-1,aM="";if(aP==1){aM=al(aQ,8)}else{var aN=8-aP;for(var aO=0;aO<aR;aO++){aM=al(aQ>>(aO*6)&63|128,8)+aM}aM=((aQ>>aR*6)|((255>>aN)<<aN)).toString(2)+aM}return aM},getBytesCount:function(aO){var aM=this.ranges;for(var aN=0;aN<aM.length;aN++){if(aO<aM[aN]){return aN+1}}},ranges:[128,2048,65536,2097152,67108864]};var U=function(aM){if(aM&&aM.toLowerCase().indexOf("utf_8")>=0){return new aI()}else{return new C()}};var I=function(aU,aN,aO){var aV=new U(aO),aY=aV.getEncodingResult(aU,aN),aT=aY.version,aX=ao[aT-1][aN],aS=ab(aY.dataString,aX.totalDataCodewords),aM=R(aS,aX),aW=A(aT);ar(aW);ae(aW,aT);i(aW);if(aT>=7){ad(aW,al(0,18))}c(aW,al(0,15));av(aW,aM);var aR=an(aW),aP=aW[aR];if(aT>=7){ad([aP],V(aT))}var aQ=ac[aN]+al(aR,3);c([aP],W(aQ));return aP};var m={DEFAULT_SIZE:200,QUIET_ZONE_LENGTH:4,DEFAULT_ERROR_CORRECTION_LEVEL:"L",DEFAULT_BACKGROUND:"#fff",DEFAULT_DARK_MODULE_COLOR:"#000",MIN_BASE_UNIT_SIZE:1};var ah=k.extend({init:function(aN,aM){var aO=this;k.fn.init.call(aO,aN,aM);aO.element=aA(aN);aO.wrapper=aO.element;aO.element.addClass("k-qrcode");aO.surfaceWrap=aA("<div />").css("position","relative").appendTo(this.element);aO.surface=aj.Surface.create(aO.surfaceWrap,{type:aO.options.renderAs});aO.setOptions(aM)},redraw:function(){var aM=this._getSize();this.surfaceWrap.css({width:aM,height:aM});this.surface.clear();this.createVisual();this.surface.draw(this.visual)},getSize:function(){return r.dimensions(this.element)},_resize:function(){this.redraw()},createVisual:function(){this.visual=this._render()},exportVisual:function(){return this._render()},_render:function(){var aS=this,aW=aS._value,aT,aR=aS.options.border||{},aU=aS.options.padding||0,aN=aR.width||0,aQ,aV,aX,aO,aP;aR.width=aN;var aM=new aj.Group();if(aW){aV=I(aW,aS.options.errorCorrection,aS.options.encoding);aX=aS._getSize();aP=aX-2*(aN+aU);aT=aS._calculateBaseUnit(aP,aV.length);aO=aV.length*aT;aQ=aN+aU+(aP-aO)/2;aM.append(aS._renderBackground(aX,aR));aM.append(aS._renderMatrix(aV,aT,aQ))}return aM},_getSize:function(){var aP=this,aO;if(aP.options.size){aO=parseInt(aP.options.size,10)}else{var aN=aP.element,aM=Math.min(aN.width(),aN.height());if(aM>0){aO=aM}else{aO=m.DEFAULT_SIZE}}return aO},_calculateBaseUnit:function(aM,aN){var aO=Math.floor(aM/aN);if(aO<m.MIN_BASE_UNIT_SIZE){throw new Error("Insufficient size.")}if(aO*aN>=aM&&aO-1>=m.MIN_BASE_UNIT_SIZE){aO--}return aO},_renderMatrix:function(aU,aT,aO){var aX=new aj.MultiPath({fill:{color:this.options.color},stroke:null});for(var aW=0;aW<aU.length;aW++){var aR=aO+aW*aT;var aP=0;while(aP<aU.length){while(aU[aW][aP]===0&&aP<aU.length){aP++}if(aP<aU.length){var aV=aP;while(aU[aW][aP]==1){aP++}var aN=K(aO+aV*aT);var aS=K(aR);var aM=K(aO+aP*aT);var aQ=K(aR+aT);aX.moveTo(aN,aS).lineTo(aN,aQ).lineTo(aM,aQ).lineTo(aM,aS).close()}}}return aX},_renderBackground:function(aN,aM){var aO=v(0,0,aN,aN).unpad(aM.width/2);return aj.Path.fromRect(aO.toRect(),{fill:{color:this.options.background},stroke:{color:aM.color,width:aM.width}})},setOptions:function(aM){var aN=this;aM=aM||{};aN.options=aa(aN.options,aM);if(aM.value!==x){aN._value=aN.options.value+""}aN.redraw()},value:function(aN){var aM=this;if(aN===x){return aM._value}aM._value=aN+"";aM.redraw()},options:{name:"QRCode",renderAs:"svg",encoding:"ISO_8859_1",value:"",errorCorrection:m.DEFAULT_ERROR_CORRECTION_LEVEL,background:m.DEFAULT_BACKGROUND,color:m.DEFAULT_DARK_MODULE_COLOR,size:"",padding:0,border:{color:"",width:0}}});Y.ExportMixin.extend(ah.fn);Y.ui.plugin(ah);r.deepExtend(Y,{QRCode:ah,QRCodeDefaults:m,QRCodeFunctions:{FreeCellVisitor:o,fillData:av,padDataString:ab,generateErrorCodewords:y,xorPolynomials:d,getBlocks:R,multiplyPolynomials:e,chooseMode:aC,getModes:N,getDataCodewordsCount:Q,getVersion:b,getDataString:p,encodeFormatInformation:W,encodeBCH:aB,dividePolynomials:s,initMatrices:A,addFormatInformation:c,encodeVersionInformation:V,addVersionInformation:ad,addCentricPattern:aw,addFinderSeparator:B,addFinderPatterns:ar,addAlignmentPatterns:ae,addTimingFunctions:i,scoreMaskMatrixes:an,encodeData:I,UTF8Encoder:aI},QRCodeFields:{modes:n,powersOfTwo:ak,powersOfTwoResult:az,generatorPolynomials:E}})})(window.kendo.jQuery);(function(B,m){var C=window.kendo,b=C.Class,e=C.Observable,G=C.deepExtend,x=Math,J=B.proxy,j=C.util,p=j.last,c=j.renderTemplate,h=C.dataviz,I=j.defined,M=h.filterSeriesByType,f=C.template,E=h.ui.Chart,D=h.Selection,F=h.addDuration,q=j.limitValue,g=h.lteDateIndex,l=h.toDate,i=h.toTime;var K=28,A="change",n="k-",u="drag",t="dragEnd",o="_navigator",L=o,v=h.EQUALLY_SPACED_SERIES,z=3,k="zoom",H="zoomEnd";var w=E.extend({init:function(N,O){B(N).addClass(n+"chart");E.fn.init.call(this,N,O)},_applyDefaults:function(O,N){var Q=this,P=Q.element.width()||h.DEFAULT_WIDTH;var R={seriesDefaults:{categoryField:O.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:false},labels:{step:2},majorTicks:{visible:false},maxDateGroups:x.floor(P/K)}}};if(N){N=G({},N,R)}if(!Q._navigator){d.setup(O,N)}E.fn._applyDefaults.call(Q,O,N)},_initDataSource:function(Q){var W=Q||{},N=W.dataSource,R=N&&N.serverFiltering,P=[].concat(W.categoryAxis)[0],V=W.navigator||{},S=V.select,T=S&&S.from&&S.to,O,U;if(R&&T){O=[].concat(N.filter||[]);U=new h.DateCategoryAxis(G({baseUnit:"fit"},P,{categories:[S.from,S.to]}));N.filter=d.buildFilter(U.range().min,S.to).concat(O)}E.fn._initDataSource.call(this,Q)},options:{name:"StockChart",dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:true},valueAxis:{narrowRange:true,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:false},tooltip:{visible:true,template:"#= kendo.toString(category, 'd') #"},line:{width:2}},hint:{},visible:true},tooltip:{visible:true},legend:{visible:false}},_resize:function(){var N=this.options.transitions;this.options.transitions=false;this._fullRedraw();this.options.transitions=N},_redraw:function(){var O=this,N=O._navigator;if(!this._dirty()&&N&&N.dataSource){N.redrawSlaves()}else{O._fullRedraw()}},_dirty:function(){var N=this.options;var O=[].concat(N.series,N.navigator.series);var Q=B.grep(O,function(R){return R&&R.visible}).length;var P=this._seriesCount!==Q;this._seriesCount=Q;return P},_fullRedraw:function(){var O=this,N=O._navigator;if(!N){N=O._navigator=new d(O)}N._setRange();E.fn._redraw.call(O);N._initSelection()},_onDataChanged:function(){var N=this;E.fn._onDataChanged.call(N);N._dataBound=true},_bindCategoryAxis:function(R,T,S){var Q=this,N=Q.options.categoryAxis,O=N.length,P;E.fn._bindCategoryAxis.apply(this,arguments);if(R.name===L){while(S<O){P=N[S++];if(P.pane==o){P.categories=R.categories}}}},_trackSharedTooltip:function(P){var N=this,O=N._plotArea,Q=O.paneByPoint(P);if(Q&&Q.options.name===o){N._unsetActivePoint()}else{E.fn._trackSharedTooltip.call(N,P)}},destroy:function(){var N=this;N._navigator.destroy();E.fn.destroy.call(N)}});var d=e.extend({init:function(N){var O=this;O.chart=N;O.options=G({},O.options,N.options.navigator);O._initDataSource();if(!I(O.options.hint.visible)){O.options.hint.visible=O.options.visible}N.bind(u,J(O._drag,O));N.bind(t,J(O._dragEnd,O));N.bind(k,J(O._zoom,O));N.bind(H,J(O._zoomEnd,O))},options:{},_initDataSource:function(){var P=this,N=P.options,O=N.autoBind,Q=N.dataSource;if(!I(O)){O=P.chart.options.autoBind}P._dataChangedHandler=J(P._onDataChanged,P);if(Q){P.dataSource=C.data.DataSource.create(Q).bind(A,P._dataChangedHandler);if(O){P.dataSource.fetch()}}},_onDataChanged:function(){var V=this,U=V.chart,S=U.options.series,Y,P=S.length,W=U.options.categoryAxis,Q,O=W.length,R=V.dataSource.view(),X,N,T;for(Y=0;Y<P;Y++){X=S[Y];if(X.axis==L&&U._isBindable(X)){X.data=R}}for(Q=0;Q<O;Q++){N=W[Q];if(N.pane==o){if(N.name==L){U._bindCategoryAxis(N,R,Q);T=N.categories}else{N.categories=T}}}if(U._model){V.redraw();V.filterAxes();if(!U.options.dataSource||(U.options.dataSource&&U._dataBound)){V.redrawSlaves()}}},destroy:function(){var N=this,O=N.dataSource;if(O){O.unbind(A,N._dataChangeHandler)}if(N.selection){N.selection.destroy()}},redraw:function(){this._redrawSelf();this._initSelection()},_initSelection:function(){var V=this,S=V.chart,Z=V.options,P=V.mainAxis(),N=s(P),R=P.range(),Q=R.min,T=R.max,O=P.options.categories,U=V.options.select,Y=V.selection,X=l(U.from),W=l(U.to);if(O.length===0){return}if(Y){Y.destroy();Y.wrapper.remove()}N.box=P.box;Y=V.selection=new D(S,N,{min:Q,max:T,from:X,to:W,selectStart:B.proxy(V._selectStart,V),select:B.proxy(V._select,V),selectEnd:B.proxy(V._selectEnd,V),mousewheel:{zoom:"left"}});if(Z.hint.visible){V.hint=new r(S.element,{min:Q,max:T,template:Z.hint.template,format:Z.hint.format})}},_setRange:function(){var N=this.chart._createPlotArea(true);var O=N.namedCategoryAxes[L];var Q=O.options;var R=O.range();var P=R.min;var S=F(R.max,Q.baseUnitStep,Q.baseUnit);var T=this.options.select||{};var V=l(T.from)||P;if(V<P){V=P}var U=l(T.to)||S;if(U>S){U=S}this.options.select={from:V,to:U};this.filterAxes()},_redrawSelf:function(N){var O=this.chart._plotArea;if(O){O.redraw(p(O.panes),N)}},redrawSlaves:function(){var O=this,N=O.chart,P=N._plotArea,Q=P.panes.slice(0,-1);P.srcSeries=N.options.series;P.redraw(Q)},_drag:function(R){var X=this,S=X.chart,W=S._eventCoordinates(R.originalEvent),Q=X.mainAxis(),T=Q.range(),U=Q.pane.box.containsPoint(W),N=S._plotArea.categoryAxis,P=R.axisRanges[N.options.name],V=X.options.select,aa=X.selection,O,Z,Y;if(!P||U||!aa){return}if(V.from&&V.to){O=i(V.to)-i(V.from)}else{O=i(aa.options.to)-i(aa.options.from)}Z=l(q(i(P.min),T.min,i(T.max)-O));Y=l(q(i(Z)+O,i(T.min)+O,T.max));X.options.select={from:Z,to:Y};if(X._liveDrag()){X.filterAxes();X.redrawSlaves()}aa.set(Z,Y);X.showHint(Z,Y)},_dragEnd:function(){var N=this;N.filterAxes();N.filterDataSource();N.redrawSlaves();if(N.hint){N.hint.hide()}},_liveDrag:function(){var P=C.support,N=P.touch,O=P.browser,R=O.mozilla,Q=O.msie&&O.version<9;return !N&&!R&&!Q},readSelection:function(){var O=this,N=O.selection,P=N.options,Q=O.options.select;Q.from=P.from;Q.to=P.to},filterAxes:function(){var R=this,N=R.options.select||{},Q=R.chart,S=Q.options.categoryAxis,U=N.from,T=N.to,O,P;for(O=0;O<S.length;O++){P=S[O];if(P.pane!==o){P.min=l(U);P.max=l(T)}}},filterDataSource:function(){var P=this,N=P.options.select||{},O=P.chart,R=O.dataSource,Q=R&&R.options.serverFiltering,S;if(P.dataSource&&Q){S=new h.DateCategoryAxis(G({baseUnit:"fit"},O.options.categoryAxis[0],{categories:[N.from,N.to]})).options;R.filter(d.buildFilter(F(S.min,-S.baseUnitStep,S.baseUnit),F(S.max,S.baseUnitStep,S.baseUnit)))}},_zoom:function(R){var T=this,S=T.chart,W=R.delta,O=S._plotArea.categoryAxis,U=T.options.select,V=T.selection,P=T.mainAxis().options.categories,Q,N;if(!V){return}Q=g(V.options.from,P);N=g(V.options.to,P);R.originalEvent.preventDefault();if(x.abs(W)>1){W*=z}if(N-Q>1){V.expand(W);T.readSelection()}else{O.options.min=U.from;U.from=O.scaleRange(-R.delta).min}if(!C.support.touch){T.filterAxes();T.redrawSlaves()}V.set(U.from,U.to);T.showHint(T.options.select.from,T.options.select.to)},_zoomEnd:function(N){this._dragEnd(N)},showHint:function(R,Q){var O=this,N=O.chart,P=N._plotArea;if(O.hint){O.hint.show(R,Q,P.backgroundBox())}},_selectStart:function(O){var N=this.chart;N._selectStart.call(N,O)},_select:function(P){var O=this,N=O.chart;O.showHint(P.from,P.to);N._select.call(N,P)},_selectEnd:function(P){var O=this,N=O.chart;if(O.hint){O.hint.hide()}O.readSelection();O.filterAxes();O.filterDataSource();O.redrawSlaves();N._selectEnd.call(N,P)},mainAxis:function(){var N=this.chart._plotArea;if(N){return N.namedCategoryAxes[L]}}});d.setup=function(O,N){O=O||{};N=N||{};var Q=G({},N.navigator,O.navigator),P=O.panes=[].concat(O.panes),R=G({},Q.pane,{name:o});if(!Q.visible){R.visible=false;R.height=0.1}P.push(R);d.attachAxes(O,Q);d.attachSeries(O,Q,N)};d.attachAxes=function(V,U){var T,P,R=U.series||[];T=V.categoryAxis=[].concat(V.categoryAxis);P=V.valueAxis=[].concat(V.valueAxis);var O=M(R,v);var S=O.length===0;var N=G({type:"date",pane:o,roundToBaseUnit:!S,justified:S,_collapse:false,majorTicks:{visible:true},tooltip:{visible:false},labels:{step:1},autoBind:!U.dataSource,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]},_overlap:false});var Q=U.categoryAxis;T.push(G({},N,{maxDateGroups:200},Q,{name:L,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:false},majorTicks:{visible:false}}),G({},N,Q,{name:L+"_labels",maxDateGroups:20,baseUnitStep:"auto",plotBands:[],autoBaseUnitSteps:{minutes:[]}}),G({},N,Q,{name:L+"_ticks",maxDateGroups:200,majorTicks:{width:0.5},plotBands:[],labels:{visible:false,mirror:true}}));P.push(G({name:L,pane:o,majorGridLines:{visible:false},visible:false},U.valueAxis))};d.attachSeries=function(P,T,O){var R=P.series=P.series||[],N=[].concat(T.series||[]),S=O.seriesColors,U=T.seriesDefaults,Q;for(Q=0;Q<N.length;Q++){R.push(G({color:S[Q%S.length],categoryField:T.dateField,visibleInLegend:false,tooltip:{visible:false}},U,N[Q],{axis:L,categoryAxis:L,autoBind:!T.dataSource}))}};d.buildFilter=function(O,N){return[{field:"Date",operator:"gte",value:l(O)},{field:"Date",operator:"lt",value:l(N)}]};var r=b.extend({init:function(N,O){var P=this;P.options=G({},P.options,O);P.container=N;P.chartPadding={top:parseInt(N.css("paddingTop"),10),left:parseInt(N.css("paddingLeft"),10)};P.template=P.template;if(!P.template){P.template=P.template=c("<div class='"+n+"navigator-hint' style='display: none; position: absolute; top: 1px; left: 1px;'><div class='"+n+"tooltip "+n+"chart-tooltip'>&nbsp;</div><div class='"+n+"scroll' /></div>")}P.element=B(P.template()).appendTo(N)},options:{format:"{0:d} - {1:d}",hideDelay:500},show:function(X,Y,Z){var Q=this,ac=l(i(X)+i(Y-X)/2),ad=Q.options,aa=C.format(Q.options.format,X,Y),ab=Q.element.find("."+n+"tooltip"),W=Q.element.find("."+n+"scroll"),T=Z.width()*0.4,P=Z.center().x-T,S=Z.center().x,V=S-P,R=ad.max-ad.min,N=V/R,O=ac-ad.min,U;if(Q._hideTimeout){clearTimeout(Q._hideTimeout)}if(!Q._visible){Q.element.stop(false,true).css("visibility","hidden").show();Q._visible=true}if(ad.template){U=f(ad.template);aa=U({from:X,to:Y})}ab.html(aa).css({left:Z.center().x-ab.outerWidth()/2,top:Z.y1});W.css({width:T,left:P+O*N,top:Z.y1+parseInt(ab.css("margin-top"),10)+parseInt(ab.css("border-top-width"),10)+ab.height()/2});Q.element.css("visibility","visible")},hide:function(){var N=this;if(N._hideTimeout){clearTimeout(N._hideTimeout)}N._hideTimeout=setTimeout(function(){N._visible=false;N.element.fadeOut("slow")},N.options.hideDelay)}});function y(){}function s(N){y.prototype=N;return new y()}h.ui.plugin(w);G(h,{Navigator:d})})(window.kendo.jQuery);(function(e,g){var o=window.kendo,i=o.dataviz,t=i.ui.Chart,f=o.data.ObservableArray,h=i.SharedTooltip,k=o.deepExtend,j=e.isArray,r=e.proxy,s=i.inArray,c=Math;var v="k-",m=150,p=150,u="bar",x="bullet",q="pie",w="leave",l=[u,x];var b=t.extend({init:function(A,C){var B=this,z=B.stage=e("<span />"),y=C||{};A=e(A).addClass(v+"sparkline").empty().append(z);B._initialWidth=c.floor(A.width());y=d(y);if(j(y)||y instanceof f){y={seriesDefaults:{data:y}}}if(!y.series){y.series=[{data:d(y.data)}]}k(y,{seriesDefaults:{type:y.type}});if(s(y.series[0].type,l)||s(y.seriesDefaults.type,l)){y=k({},{categoryAxis:{crosshair:{visible:false}}},y)}t.fn.init.call(B,A,y)},options:{name:"Sparkline",chartArea:{margin:2},axisDefaults:{visible:false,majorGridLines:{visible:false},valueAxis:{narrowRange:true}},seriesDefaults:{type:"line",area:{line:{width:0.5}},bar:{stack:true},padding:2,width:0.5,overlay:{gradient:null},highlight:{visible:false},border:{width:0},markers:{size:2,visible:false}},tooltip:{visible:true,shared:true},categoryAxis:{crosshair:{visible:true,tooltip:{visible:false}}},legend:{visible:false},transitions:false,pointWidth:5,panes:[{clip:false}]},_modelOptions:function(){var B=this,D=B.options,z,A=B._initialWidth,y=B.stage;B.stage.children().hide();var C=e("<span>&nbsp;</span>");B.stage.append(C);z=k({width:A?A:B._autoWidth(),height:y.height(),transitions:D.transitions},D.chartArea,{inline:true,align:false});y.css({width:z.width,height:z.height});C.remove();B.stage.children().show();B.surface.resize();return z},_createTooltip:function(){var A=this,y=A.options,z=A.element,B;if(A._sharedTooltip()){B=new n(z,A._plotArea,y.tooltip)}else{B=t.fn._createTooltip.call(A)}B.bind(w,r(A._tooltipleave,A));return B},_surfaceWrap:function(){return this.stage},_autoWidth:function(){var D=this,G=D.options,z=i.getSpacing(G.chartArea.margin),A=G.series,E=D.dataSource.total(),C=0,y,B,F;for(B=0;B<A.length;B++){F=A[B];if(F.type===u){return m}if(F.type===x){return p}if(F.type===q){return D.stage.height()}if(F.data){C=c.max(C,F.data.length)}}y=c.max(E,C)*G.pointWidth;if(y>0){y+=z.left+z.right}return y}});var n=h.extend({options:{animation:{duration:0}},_anchor:function(y,B){var z=h.fn._anchor.call(this,y,B);var A=this._measure();z.y=-A.height-this.options.offset;return z},_hideElement:function(){if(this.element){this.element.hide().remove()}}});function d(y){return typeof y==="number"?[y]:y}i.ui.plugin(b);k(i,{SparklineSharedTooltip:n})})(window.kendo.jQuery);(function(i,j){var h=Math,p=h.abs,k=h.atan,g=h.atan2,f=h.cos,t=h.max,s=h.min,b=h.sin,v=h.tan,q=window.kendo,u=q.Class,l=q.dataviz,m=q.deepExtend,c=q.util,e=c.defined,o=c.deg,x=c.rad,w=c.round,r=c.sqr,n=c.valueOrDefault;var d=u.extend({init:function(A,z){if(arguments.length===1){this.lat=A[0];this.lng=A[1]}else{this.lat=A;this.lng=z}},DISTANCE_ITERATIONS:100,DISTANCE_CONVERGENCE:1e-12,DISTANCE_PRECISION:2,FORMAT:"{0:N6},{1:N6}",toArray:function(){return[this.lat,this.lng]},equals:function(z){return z&&z.lat===this.lat&&z.lng===this.lng},clone:function(){return new d(this.lat,this.lng)},round:function(z){this.lng=w(this.lng,z);this.lat=w(this.lat,z);return this},wrap:function(){this.lng=this.lng%180;this.lat=this.lat%90;return this},distanceTo:function(A,z){return this.greatCircleTo(A,z).distance},destination:function(G,C,A){C=x(C);A=A||l.map.datums.WGS84;var z=x(this.lat);var E=x(this.lng);var F=G/q.dataviz.map.datums.WGS84.a;var D=h.asin(b(z)*f(F)+f(z)*b(F)*f(C));var B=E+g(b(C)*b(F)*f(z),f(F)-b(z)*b(D));return new d(o(D),o(B))},greatCircleTo:function(P,Z){P=d.create(P);Z=Z||l.map.datums.WGS84;if(!P||this.clone().round(8).equals(P.clone().round(8))){return{distance:0,azimuthFrom:0,azimuthTo:0}}var ag=Z.a;var ae=Z.b;var aa=Z.f;var M=x(P.lng-this.lng);var ac=k((1-aa)*v(x(this.lat)));var J=b(ac);var E=f(ac);var ab=k((1-aa)*v(x(P.lat)));var I=b(ab);var D=f(ab);var Q=M;var N;var X=this.DISTANCE_ITERATIONS;var ah=false;var V;var z;var H;var G;var af;var Y;var U;while(!ah&&X-->0){V=b(Q);z=f(Q);H=h.sqrt(r(D*V)+r(E*I-J*D*z));af=J*I+E*D*z;U=g(H,af);var F=E*D*V/H;G=1-r(F);Y=0;if(G!==0){Y=af-2*J*I/G}N=Q;var R=aa/16*G*(4+aa*(4-3*G));Q=M+(1-R)*aa*F*(U+R*H*(Y+R*af*(-1+2*r(Y))));ah=p(Q-N)<=this.DISTANCE_CONVERGENCE}var W=G*(r(ag)-r(ae))/r(ae);var T=1+W/16384*(4096+W*(-768+W*(320-175*W)));var S=W/1024*(256+W*(-128+W*(74-47*W)));var O=S*H*(Y+S/4*(af*(-1+2*r(Y))-S/6*Y*(-3+4*r(H))*(-3+4*r(Y))));var ad=g(D*V,E*I-J*D*z);var K=g(E*V,-J*D+E*I*z);return{distance:w(ae*T*(U-O),this.DISTANCE_PRECISION),azimuthFrom:o(ad),azimuthTo:o(K)}}});d.fn.toString=function(){return q.format(this.FORMAT,this.lat,this.lng)};d.fromLngLat=function(z){return new d(z[1],z[0])};d.fromLatLng=function(z){return new d(z[0],z[1])};d.create=function(A,z){if(e(A)){if(A instanceof d){return A.clone()}else{if(arguments.length===1&&A.length===2){return d.fromLatLng(A)}else{return new d(A,z)}}}};var y=u.extend({init:function(z,A){z=d.create(z);A=d.create(A);if(z.lng+180>A.lng+180&&z.lat+90<A.lat+90){this.se=z;this.nw=A}else{this.se=A;this.nw=z}},contains:function(D){var z=this.nw,B=this.se,A=n(D.lng,D[1]),C=n(D.lat,D[0]);return D&&A+180>=z.lng+180&&A+180<=B.lng+180&&C+90>=B.lat+90&&C+90<=z.lat+90},center:function(){var z=this.nw;var B=this.se;var A=z.lng+(B.lng-z.lng)/2;var C=z.lat+(B.lat-z.lat)/2;return new d(C,A)},containsAny:function(B){var z=false;for(var A=0;A<B.length;A++){z=z||this.contains(B[A])}return z},include:function(D){var z=this.nw,B=this.se,A=n(D.lng,D[1]),C=n(D.lat,D[0]);z.lng=s(z.lng,A);z.lat=t(z.lat,C);B.lng=t(B.lng,A);B.lat=s(B.lat,C)},includeAll:function(A){for(var z=0;z<A.length;z++){this.include(A[z])}},edges:function(){var z=this.nw,A=this.se;return{nw:this.nw,ne:new d(z.lat,A.lng),se:this.se,sw:new d(A.lat,z.lng)}},toArray:function(){var z=this.nw,A=this.se;return[z,new d(z.lat,A.lng),A,new d(A.lat,z.lng)]},overlaps:function(z){return this.containsAny(z.toArray())||z.containsAny(this.toArray())}});y.World=new y([90,-180],[-90,180]);y.create=function(A,z){if(A instanceof y){return A}else{if(A&&z){return new y(A,z)}else{if(A&&A.length===4&&!z){return new y([A[0],A[1]],[A[2],A[3]])}}}};m(l,{map:{Extent:y,Location:d}})})(window.kendo.jQuery);(function(e){var i=window.kendo,d=i.ui.Widget,c=i.template,h=i.dataviz,g=i.util.valueOrDefault,f=i.util.defined;var b=d.extend({init:function(k,j){d.fn.init.call(this,k,j);this._initOptions(j);this.items=[];this.element.addClass("k-widget k-attribution")},options:{name:"Attribution",separator:"&nbsp;|&nbsp;",itemTemplate:"#= text #"},filter:function(j,k){this._extent=j;this._zoom=k;this._render()},add:function(j){if(f(j)){if(typeof j==="string"){j={text:j}}this.items.push(j);this._render()}},remove:function(m){var j=[];for(var k=0;k<this.items.length;k++){var l=this.items[k];if(l.text!==m){j.push(l)}}this.items=j;this._render()},clear:function(){this.items=[];this.element.empty()},_render:function(){var j=[];var m=c(this.options.itemTemplate);for(var k=0;k<this.items.length;k++){var l=this.items[k];var n=this._itemText(l);if(n!==""){j.push(m({text:n}))}}if(j.length>0){this.element.empty().append(j.join(this.options.separator)).show()}else{this.element.hide()}},_itemText:function(j){var l="";var k=this._inZoomLevel(j.minZoom,j.maxZoom);var m=this._inArea(j.extent);if(k&&m){l+=j.text}return l},_inZoomLevel:function(l,k){var j=true;l=g(l,-Number.MAX_VALUE);k=g(k,Number.MAX_VALUE);j=this._zoom>l&&this._zoom<k;return j},_inArea:function(k){var j=true;if(k){j=k.contains(this._extent)}return j}});i.dataviz.ui.plugin(b)})(window.kendo.jQuery);(function(d){var f=window.kendo;var h=f.ui.Widget;var i=f.keys;var g=d.proxy;var c=".kendoNavigator";var b=e("n")+e("e")+e("s")+e("w");var j=h.extend({init:function(m,l){h.fn.init.call(this,m,l);this._initOptions(l);this.element.addClass("k-widget k-header k-shadow k-navigator").append(b).on("click"+c,".k-button",g(this,"_click"));var k=this.element.parent().closest("["+f.attr("role")+"]");this._keyroot=k.length>0?k:this.element;this._tabindex(this._keyroot);this._keydown=g(this._keydown,this);this._keyroot.on("keydown",this._keydown)},options:{name:"Navigator",panStep:1},events:["pan"],dispose:function(){this._keyroot.off("keydown",this._keydown)},_pan:function(k,m){var l=this.options.panStep;this.trigger("pan",{x:k*l,y:m*l})},_click:function(m){var k=0;var n=0;var l=d(m.currentTarget);if(l.is(".k-navigator-n")){n=1}else{if(l.is(".k-navigator-s")){n=-1}else{if(l.is(".k-navigator-e")){k=1}else{if(l.is(".k-navigator-w")){k=-1}}}}this._pan(k,n);m.preventDefault()},_keydown:function(k){switch(k.which){case i.UP:this._pan(0,1);k.preventDefault();break;case i.DOWN:this._pan(0,-1);k.preventDefault();break;case i.RIGHT:this._pan(1,0);k.preventDefault();break;case i.LEFT:this._pan(-1,0);k.preventDefault();break}}});function e(k){return f.format('<button class="k-button k-navigator-{0}"><span class="k-icon k-i-arrow-{0}"/></button>',k)}f.dataviz.ui.plugin(j)})(window.kendo.jQuery);(function(e){var j=window.kendo;var m=j.ui.Widget;var n=j.keys;var k=e.proxy;var d=".kendoZoomControl";var c=f("in","+")+f("out","-");var h=187;var b=189;var i=61;var l=173;var g=m.extend({init:function(q,p){m.fn.init.call(this,q,p);this._initOptions(p);this.element.addClass("k-widget k-zoom-control k-button-wrap k-buttons-horizontal").append(c).on("click"+d,".k-button",k(this,"_click"));var o=this.element.parent().closest("["+j.attr("role")+"]");this._keyroot=o.length>0?o:this.element;this._tabindex(this._keyroot);this._keydown=k(this._keydown,this);this._keyroot.on("keydown",this._keydown)},options:{name:"ZoomControl",zoomStep:1},events:["change"],_change:function(p){var o=this.options.zoomStep;this.trigger("change",{delta:p*o})},_click:function(q){var p=e(q.currentTarget);var o=1;if(p.is(".k-zoom-out")){o=-1}this._change(o);q.preventDefault()},_keydown:function(o){switch(o.which){case n.NUMPAD_PLUS:case h:case i:this._change(1);break;case n.NUMPAD_MINUS:case b:case l:this._change(-1);break}}});function f(o,p){return j.format('<button class="k-button k-zoom-{0}" title="zoom-{0}">{1}</button>',o,p)}j.dataviz.ui.plugin(g)})(window.kendo.jQuery);(function(j,k){var f=Math,l=f.atan,p=f.exp,h=f.pow,b=f.sin,n=f.log,B=f.tan,w=window.kendo,y=w.Class,o=w.dataviz,r=w.deepExtend,z=w.geometry,F=z.Point,C=o.map,d=C.Location,c=w.util,E=c.rad,u=c.deg,A=c.limitValue;var x=f.PI,H=x/2,D=x/4,q=x/180;var e={a:6378137,b:6356752.314245179,f:0.0033528106647474805,e:0.08181919084262149};var t=y.extend({init:function(g){this._initOptions(g)},MAX_LNG:180,MAX_LAT:85.0840590501,INVERSE_ITERATIONS:15,INVERSE_CONVERGENCE:1e-12,options:{centralMeridian:0,datum:e},forward:function(K,J){var I=this,R=I.options,P=R.datum,g=P.a,Q=R.centralMeridian,L=A(K.lat,-I.MAX_LAT,I.MAX_LAT),N=J?A(K.lng,-I.MAX_LNG,I.MAX_LNG):K.lng,O=E(N-Q)*g,M=I._projectLat(L);return new F(O,M)},_projectLat:function(N){var J=this.options.datum,I=J.e,L=J.a,O=E(N),K=B(D+O/2),g=I*b(O),M=h((1-g)/(1+g),I/2);return L*n(K*M)},inverse:function(O,J){var I=this,P=I.options,M=P.datum,g=M.a,N=P.centralMeridian,L=O.x/(q*g)+N,K=A(I._inverseY(O.y),-I.MAX_LAT,I.MAX_LAT);if(J){L=A(L,-I.MAX_LNG,I.MAX_LNG)}return new d(K,L)},_inverseY:function(R){var M=this,S=M.options.datum,g=S.a,L=S.e,K=L/2,Q=p(-R/g),P=H-2*l(Q),N;for(N=0;N<=M.INVERSE_ITERATIONS;N++){var J=L*b(P),I=h((1-J)/(1+J),K),O=H-2*l(Q*I)-P;P+=O;if(f.abs(O)<=M.INVERSE_CONVERGENCE){break}}return u(P)}});var s=t.extend({MAX_LAT:85.0511287798,_projectLat:function(J){var I=this.options.datum.a,K=E(J),g=B(D+K/2);return I*n(g)},_inverseY:function(J){var I=this.options.datum.a,g=p(-J/I);return u(H-(2*l(g)))}});var m=y.extend({forward:function(g){return new F(g.lng,g.lat)},inverse:function(g){return new d(g.y,g.x)}});var v=y.extend({init:function(){var g=this,I=g._proj=new s();var J=this.c=2*x*I.options.datum.a;this._tm=z.transform().translate(0.5,0.5).scale(1/J,-1/J);this._itm=z.transform().scale(J,-J).translate(-0.5,-0.5)},toPoint:function(K,J,I){var g=this._proj.forward(K,I);return g.transform(this._tm).scale(J||1)},toLocation:function(g,J,I){g=g.clone().scale(1/(J||1)).transform(this._itm);return this._proj.inverse(g,I)}});var i=y.extend({init:function(){this._proj=new t()},toPoint:function(g){return this._proj.forward(g)},toLocation:function(g){return this._proj.inverse(g)}});var G=y.extend({init:function(){this._proj=new m()},toPoint:function(g){return this._proj.forward(g)},toLocation:function(g){return this._proj.inverse(g)}});r(o,{map:{crs:{EPSG3395:i,EPSG3857:v,EPSG4326:G},datums:{WGS84:e},projections:{Equirectangular:m,Mercator:t,SphericalMercator:s}}})})(window.kendo.jQuery);(function(h,c){var l=h.proxy,p=h.noop,k=window.kendo,b=k.Class,g=k.dataviz,e=k.deepExtend,o=g.map.Extent,m=k.geometry,n=k.drawing,i=k.util,f=i.defined,j=i.valueOrDefault;var d=b.extend({init:function(r,q){this._initOptions(q);this.map=r;this.element=h("<div class='k-layer'></div>").css({zIndex:this.options.zIndex,opacity:this.options.opacity}).appendTo(r.scrollElement);this._beforeReset=l(this._beforeReset,this);this._reset=l(this._reset,this);this._resize=l(this._resize,this);this._panEnd=l(this._panEnd,this);this._activate();this._updateAttribution()},destroy:function(){this._deactivate()},show:function(){this.reset();this._activate();this._applyExtent(true)},hide:function(){this._deactivate();this._setVisibility(false)},reset:function(){this._beforeReset();this._reset()},_reset:function(){this._applyExtent()},_beforeReset:h.noop,_resize:h.noop,_panEnd:function(){this._applyExtent()},_applyExtent:function(){var s=this.options;var u=this.map.zoom();var v=!f(s.minZoom)||u>=s.minZoom;var r=!f(s.maxZoom)||u<=s.maxZoom;var t=o.create(s.extent);var q=!t||t.overlaps(this.map.extent());this._setVisibility(v&&r&&q)},_setVisibility:function(q){this.element.css("display",q?"":"none")},_activate:function(){var q=this.map;q.bind("beforeReset",this._beforeReset);q.bind("reset",this._reset);q.bind("resize",this._resize);q.bind("panEnd",this._panEnd)},_deactivate:function(){var q=this.map;q.unbind("beforeReset",this._beforeReset);q.unbind("reset",this._reset);q.unbind("resize",this._resize);q.unbind("panEnd",this._panEnd)},_updateAttribution:function(){var q=this.map.attribution;if(q){q.add(this.options.attribution)}}});e(g,{map:{layers:{Layer:d}}})})(window.kendo.jQuery);(function(f,j){var q=f.proxy,n=window.kendo,r=n.Class,e=n.data.DataSource,k=n.dataviz,m=n.deepExtend,l=n.util.last,c=n.util.defined,s=n.geometry,t=n.drawing,o=t.Group,u=k.map,b=u.Location,h=u.layers.Layer;var i=h.extend({init:function(g,d){h.fn.init.call(this,g,d);this.surface=t.Surface.create(this.element,{width:g.scrollElement.width(),height:g.scrollElement.height()});this._initRoot();this.movable=new n.ui.Movable(this.surface.element);this._markers=[];this._click=this._handler("shapeClick");this.surface.bind("click",this._click);this._mouseenter=this._handler("shapeMouseEnter");this.surface.bind("mouseenter",this._mouseenter);this._mouseleave=this._handler("shapeMouseLeave");this.surface.bind("mouseleave",this._mouseleave);this._initDataSource()},options:{autoBind:true},destroy:function(){h.fn.destroy.call(this);this.surface.destroy();this.dataSource.unbind("change",this._dataChange)},setDataSource:function(d){if(this.dataSource){this.dataSource.unbind("change",this._dataChange)}this.dataSource=d;this.dataSource.bind("change",this._dataChange);if(this.options.autoBind){this.dataSource.fetch()}},_reset:function(){h.fn._reset.call(this);this._translateSurface();if(this._data){this._load(this._data)}},_initRoot:function(){this._root=new o();this.surface.draw(this._root)},_beforeReset:function(){this.surface.clear();this._initRoot()},_resize:function(){this.surface.size(this.map.size())},_initDataSource:function(){var d=this.options.dataSource;this._dataChange=q(this._dataChange,this);this.dataSource=e.create(d).bind("change",this._dataChange);if(d&&this.options.autoBind){this.dataSource.fetch()}},_dataChange:function(d){this._data=d.sender.view();this._load(this._data)},_load:function(w){this._clearMarkers();if(!this._loader){this._loader=new p(this.map,this.options.style,this)}var d=new o();for(var v=0;v<w.length;v++){var g=this._loader.parse(w[v]);if(g){d.append(g)}}this._root.clear();this._root.append(d)},shapeCreated:function(d){var v=false;if(d instanceof t.Circle){v=c(this._createMarker(d))}if(!v){var g={layer:this,shape:d};v=this.map.trigger("shapeCreated",g)}return v},_createMarker:function(g){var d=this.map.markers.bind({location:g.location},g.dataItem);if(d){this._markers.push(d)}return d},_clearMarkers:function(){for(var d=0;d<this._markers.length;d++){this.map.markers.remove(this._markers[d])}this._markers=[]},_panEnd:function(d){h.fn._panEnd.call(this,d);this._translateSurface()},_translateSurface:function(){var g=this.map;var d=g.locationToView(g.extent().nw);if(this.surface.translate){this.surface.translate(d);this.movable.moveTo({x:d.x,y:d.y})}},_handler:function(g){var d=this;return function(w){if(w.element){var v={layer:d,shape:w.element,originalEvent:w.originalEvent};d.map.trigger(g,v)}}}});var p=r.extend({init:function(d,v,g){this.observer=g;this.locator=d;this.style=v},parse:function(g){var d=new o();if(g.type==="Feature"){this._loadGeometryTo(d,g.geometry,g)}else{this._loadGeometryTo(d,g,g)}if(d.children.length<2){d=d.children[0]}return d},_shapeCreated:function(d){var g=false;if(this.observer&&this.observer.shapeCreated){g=this.observer.shapeCreated(d)}return g},_loadGeometryTo:function(d,y,g){var w=y.coordinates;var v;var x;switch(y.type){case"LineString":x=this._loadPolygon(d,[w],g);this._setLineFill(x);break;case"MultiLineString":for(v=0;v<w.length;v++){x=this._loadPolygon(d,[w[v]],g);this._setLineFill(x)}break;case"Polygon":this._loadPolygon(d,w,g);break;case"MultiPolygon":for(v=0;v<w.length;v++){this._loadPolygon(d,w[v],g)}break;case"Point":this._loadPoint(d,w,g);break;case"MultiPoint":for(v=0;v<w.length;v++){this._loadPoint(d,w[v],g)}break}},_setLineFill:function(g){var d=g.segments;if(d.length<4||!d[0].anchor().equals(l(d).anchor())){g.options.fill=null}},_loadShape:function(d,g){if(!this._shapeCreated(g)){d.append(g)}return g},_loadPolygon:function(d,w,v){var g=this._buildPolygon(w);g.dataItem=v;return this._loadShape(d,g)},_buildPolygon:function(y){var w=y.length>1?t.MultiPath:t.Path;var x=new w(this.style);for(var v=0;v<y.length;v++){for(var g=0;g<y[v].length;g++){var d=this.locator.locationToView(b.fromLngLat(y[v][g]));if(g===0){x.moveTo(d.x,d.y)}else{x.lineTo(d.x,d.y)}}}return x},_loadPoint:function(v,y,x){var g=b.fromLngLat(y);var d=this.locator.locationToView(g);var z=new s.Circle(d,10);var w=new t.Circle(z,this.style);w.dataItem=x;w.location=g;return this._loadShape(v,w)}});m(n.data,{schemas:{geojson:{type:"json",data:function(d){if(d.type==="FeatureCollection"){return d.features}if(d.type==="GeometryCollection"){return d.geometries}return d}}},transports:{geojson:{read:{dataType:"json"}}}});m(k,{map:{layers:{shape:i,ShapeLayer:i},GeoJSONLoader:p}})})(window.kendo.jQuery);(function(h,j){var r=h.proxy,o=window.kendo,k=o.getter,l=o.dataviz,m=o.deepExtend,b=o.util,e=b.defined,n=b.isNumber,s=o.geometry,t=o.drawing,u=l.map,c=u.Location,i=u.layers.ShapeLayer;var q=Math.PI;var p=i.extend({options:{autoBind:true,locationField:"location",valueField:"value",minSize:0,maxSize:100,scale:"sqrt",symbol:"circle"},_load:function(B){this.surface.clear();if(B.length===0){return}var x=this.options;var A=k(x.valueField);B=B.slice(0);B.sort(function(I,H){return A(H)-A(I)});var D=A(B[0]);var w=this._scaleType();var z;for(var C=0;C<B.length;C++){var g=B[C];var F=k(x.locationField)(g);var E=k(x.valueField)(g);if(e(F)&&e(E)){if(!z){z=new w([0,E],[x.minSize,x.maxSize])}F=c.create(F);var d=this.map.locationToView(F);var G=z.map(E);var y=this._createSymbol({center:d,size:G,style:x.style,dataItem:g,location:F});y.dataItem=g;y.location=F;y.value=E;this._drawSymbol(y)}}},_scaleType:function(){var d=this.options.scale;if(o.isFunction(d)){return d}return l.map.scales[d]},_createSymbol:function(d){var g=this.options.symbol;if(!o.isFunction(g)){g=l.map.symbols[g]}return g(d)},_drawSymbol:function(d){var g={layer:this,shape:d};var w=this.map.trigger("shapeCreated",g);if(!w){this.surface.draw(d)}}});var v=o.Class.extend({init:function(x,d){this._domain=x;this._range=d;var g=Math.sqrt(x[1])-Math.sqrt(x[0]);var w=d[1]-d[0];this._ratio=w/g},map:function(g){var d=(Math.sqrt(g)-Math.sqrt(this._domain[0]))*this._ratio;return this._range[0]+d}});var f={circle:function(d){var g=new s.Circle(d.center,d.size/2);return new t.Circle(g,d.style)},square:function(g){var x=new t.Path(g.style);var w=g.size/2;var d=g.center;x.moveTo(d.x-w,d.y-w).lineTo(d.x+w,d.y-w).lineTo(d.x+w,d.y+w).lineTo(d.x-w,d.y+w).close();return x}};m(l,{map:{layers:{bubble:p,BubbleLayer:p},scales:{sqrt:v},symbols:f}})})(window.kendo.jQuery);(function(f,i){var d=Math,r=f.proxy,p=window.kendo,s=p.Class,x=p.template,j=p.dataviz,m=p.deepExtend,t=p.geometry,y=t.Point,h=j.map.layers.Layer,c=p.util,w=c.round,e=c.renderSize,u=c.limitValue;var b=100;var l=h.extend({init:function(A,z){h.fn.init.call(this,A,z);if(typeof this.options.subdomains==="string"){this.options.subdomains=this.options.subdomains.split("")}var g=this._viewType();this._view=new g(this.element,this.options)},destroy:function(){h.fn.destroy.call(this);this._view.destroy();this._view=null},_reset:function(){h.fn._reset.call(this);this._updateView();this._view.reset()},_viewType:function(){return k},_activate:function(){h.fn._activate.call(this);if(!p.support.mobileOS){if(!this._pan){this._pan=p.throttle(r(this._render,this),100)}this.map.bind("pan",this._pan)}},_deactivate:function(){h.fn._deactivate.call(this);if(this._pan){this.map.unbind("pan",this._pan)}},_updateView:function(){var g=this._view,B=this.map,z=B.extent(),A={nw:B.locationToLayer(z.nw).round(),se:B.locationToLayer(z.se).round()};g.center(B.locationToLayer(B.center()));g.extent(A);g.zoom(B.zoom())},_resize:function(){this._render()},_panEnd:function(g){h.fn._panEnd.call(this,g);this._render()},_render:function(){this._updateView();this._view.render()}});var k=s.extend({init:function(z,g){this.element=z;this._initOptions(g);this.pool=new n()},options:{tileSize:256,subdomains:["a","b","c"],urlTemplate:""},center:function(g){this._center=g},extent:function(g){this._extent=g},zoom:function(g){this._zoom=g},pointToTileIndex:function(g){return new y(d.floor(g.x/this.options.tileSize),d.floor(g.y/this.options.tileSize))},tileCount:function(){var A=this.size(),B=this.pointToTileIndex(this._extent.nw),z=this._extent.nw,g=this.indexToPoint(B).translate(-z.x,-z.y);return{x:d.ceil((d.abs(g.x)+A.width)/this.options.tileSize),y:d.ceil((d.abs(g.y)+A.height)/this.options.tileSize)}},size:function(){var g=this._extent.nw,z=this._extent.se,A=z.clone().translate(-g.x,-g.y);return{width:A.x,height:A.y}},indexToPoint:function(z){var g=z.x,A=z.y;return new y(g*this.options.tileSize,A*this.options.tileSize)},subdomainText:function(){var g=this.options.subdomains;return g[this.subdomainIndex++%g.length]},destroy:function(){this.element.empty();this.pool.empty()},reset:function(){this.pool.reset();this.subdomainIndex=0;this.basePoint=this._extent.nw;this.render()},render:function(){var z=this.tileCount(),B=this.pointToTileIndex(this._extent.nw),A,g,C;for(g=0;g<z.x;g++){for(C=0;C<z.y;C++){A=this.createTile({x:B.x+g,y:B.y+C});if(!A.options.visible){A.show()}}}},createTile:function(g){var z=this.tileOptions(g);var A=this.pool.get(this._center,z);if(A.element.parent().length===0){this.element.append(A.element)}return A},tileOptions:function(z){var A=this.wrapIndex(z),g=this.indexToPoint(z),B=this.basePoint,C=g.clone().translate(-B.x,-B.y);return{index:A,currentIndex:z,point:g,offset:o(C),zoom:this._zoom,subdomain:this.subdomainText(),urlTemplate:this.options.urlTemplate,errorUrlTemplate:this.options.errorUrlTemplate}},wrapIndex:function(g){var z=d.pow(2,this._zoom);return{x:this.wrapValue(g.x,z),y:u(g.y,0,z-1)}},wrapValue:function(z,A){var g=(d.abs(z)%A);if(z>=0){z=g}else{z=A-(g===0?A:g)}return z}});var v=s.extend({init:function(g){this._initOptions(g);this.createElement();this.show()},options:{urlTemplate:"",errorUrlTemplate:"",visible:false},createElement:function(){this.element=f("<img style='position: absolute; display: block;' />").error(r(function(g){if(this.errorUrl()){g.target.setAttribute("src",this.errorUrl())}else{g.target.removeAttribute("src")}},this))},show:function(g){this.options=g=m({},this.options,g);var A=q(this.options.currentIndex,this.options.zoom);var z=this.element[0];z.style.top=e(this.options.offset.y);z.style.left=e(this.options.offset.x);if(this.options.id!==A||!z.getAttribute("url")){z.setAttribute("src",this.url())}z.style.visibility="visible";this.options.id=A;this.options.visible=true},hide:function(){this.element[0].style.visibility="hidden";this.options.visible=false},url:function(){var g=x(this.options.urlTemplate);return g(this.urlOptions())},errorUrl:function(){var g=x(this.options.errorUrlTemplate);return g(this.urlOptions())},urlOptions:function(){var g=this.options;return{zoom:g.zoom,subdomain:g.subdomain,z:g.zoom,x:g.index.x,y:g.index.y,s:g.subdomain,quadkey:g.quadkey,q:g.quadkey,culture:g.culture,c:g.culture}},destroy:function(){if(this.element){this.element.remove();this.element=null}}});var n=s.extend({init:function(){this._items=[]},options:{maxSize:100},get:function(g,z){var A=this;if(A._items.length>=A.options.maxSize){A._remove(g)}return A._create(z)},empty:function(){var g=this._items,z;for(z=0;z<g.length;z++){g[z].destroy()}this._items=[]},reset:function(){var g=this._items,z;for(z=0;z<g.length;z++){g[z].hide()}},_create:function(z){var B=this,g=B._items,F=q(z.currentIndex,z.zoom),E,A,D,C;for(A=0;A<g.length;A++){D=g[A];if(D.options.id===F){E=D;C=E}}if(E){E.show(z)}else{C=new v(z);this._items.push(C)}return C},_remove:function(g){var z=this._items;var C=-1;var A=-1;for(var B=0;B<z.length;B++){var D=z[B].options.point.distanceTo(g);if(D>C){A=B;C=D}}if(A!==-1){z[A].destroy();z.splice(A,1)}}});function o(g){return new y(w(g.x),w(g.y))}function q(g,z){return"x:"+g.x+"y:"+g.y+"zoom:"+z}m(j,{map:{layers:{tile:l,TileLayer:l,ImageTile:v,TilePool:n,TileView:k}}})})(window.kendo.jQuery);(function(k,d){var o=Math,n=k.proxy,m=window.kendo,b=m.Class,p=m.template,i=m.dataviz,f=m.deepExtend,h=m.util.defined,q=i.map.Extent,l=i.map.Location,e=i.map.layers.Layer,g=i.map.layers.TileLayer,j=i.map.layers.TileView;var c=g.extend({init:function(t,s){g.fn.init.call(this,t,s);this._onMetadata=k.proxy(this._onMetadata,this);this._fetchMetadata()},options:{baseUrl:"//dev.virtualearth.net/REST/v1/Imagery/Metadata/",imagerySet:"road"},_fetchMetadata:function(){var s=this.options;if(!s.key){throw new Error("Bing tile layer: API key is required")}k.ajax({url:s.baseUrl+s.imagerySet,data:{output:"json",include:"ImageryProviders",key:s.key,uriScheme:this._scheme(window.location.protocol)},type:"get",dataType:"jsonp",jsonp:"jsonp",success:this._onMetadata})},_scheme:function(s){return s.replace(":","")==="https"?"https":"http"},_onMetadata:function(u){if(u&&u.resourceSets.length){var t=this.resource=u.resourceSets[0].resources[0];f(this._view.options,{urlTemplate:t.imageUrl.replace("{subdomain}","#= subdomain #").replace("{quadkey}","#= quadkey #").replace("{culture}","#= culture #"),subdomains:t.imageUrlSubdomains});var s=this.options;if(!h(s.minZoom)){s.minZoom=t.zoomMin}if(!h(s.maxZoom)){s.maxZoom=t.zoomMax}this._addAttribution();if(this.element.css("display")!=="none"){this.reset()}}},_viewType:function(){return r},_addAttribution:function(){var s=this.map.attribution;if(s){var t=this.resource.imageryProviders;if(t){for(var u=0;u<t.length;u++){var w=t[u];for(var x=0;x<w.coverageAreas.length;x++){var v=w.coverageAreas[x];s.add({text:w.attribution,minZoom:v.zoomMin,maxZoom:v.zoomMax,extent:new q(new l(v.bbox[2],v.bbox[1]),new l(v.bbox[0],v.bbox[3]))})}}}}},imagerySet:function(s){if(s){this.options.imagerySet=s;this.map.attribution.clear();this._fetchMetadata();this._reset()}else{return this.options.imagerySet}}});var r=j.extend({options:{culture:"en-US"},tileOptions:function(s){var t=j.fn.tileOptions.call(this,s);t.culture=this.options.culture;t.quadkey=this.tileQuadKey(this.wrapIndex(s));return t},tileQuadKey:function(u){var t="",w,s,v;for(v=this._zoom;v>0;v--){w=0;s=1<<(v-1);if((u.x&s)!==0){w++}if((u.y&s)!==0){w+=2}t+=w}return t}});f(i,{map:{layers:{bing:c,BingLayer:c,BingView:r}}})})(window.kendo.jQuery);(function(h,d){var q=document,p=Math,n=h.inArray,k=h.proxy,j=window.kendo,c=j.Class,r=j.data.DataSource,m=j.ui.Tooltip,g=j.dataviz,f=j.deepExtend,b=g.map,i=b.Location,e=b.layers.Layer;var o=e.extend({init:function(t,s){e.fn.init.call(this,t,s);this._markerClick=k(this._markerClick,this);this.element.on("click",".k-marker",this._markerClick);this.items=[];this._initDataSource()},destroy:function(){e.fn.destroy.call(this);this.element.off("click",".k-marker",this._markerClick);this.dataSource.unbind("change",this._dataChange);this.clear()},options:{zIndex:1000,autoBind:true,dataSource:{},locationField:"location",titleField:"title"},add:function(s){if(h.isArray(s)){for(var t=0;t<s.length;t++){this._addOne(s[t])}}else{return this._addOne(s)}},remove:function(s){s.destroy();var t=n(s,this.items);if(t>-1){this.items.splice(t,1)}},clear:function(){for(var s=0;s<this.items.length;s++){this.items[s].destroy()}this.items=[]},update:function(s){var u=s.location();if(u){s.showAt(this.map.locationToView(u));var t={marker:s,layer:this};this.map.trigger("markerActivate",t)}},_reset:function(){e.fn._reset.call(this);var s=this.items;for(var t=0;t<s.length;t++){this.update(s[t])}},bind:function(v,u){var s=b.Marker.create(v,this.options);s.dataItem=u;var t={marker:s,layer:this};var w=this.map.trigger("markerCreated",t);if(!w){this.add(s);return s}},setDataSource:function(s){if(this.dataSource){this.dataSource.unbind("change",this._dataChange)}this.dataSource=s;this.dataSource.bind("change",this._dataChange);if(this.options.autoBind){this.dataSource.fetch()}},_addOne:function(s){var t=l.create(s,this.options);t.addTo(this);return t},_initDataSource:function(){var s=this.options.dataSource;this._dataChange=k(this._dataChange,this);this.dataSource=r.create(s).bind("change",this._dataChange);if(s&&this.options.autoBind){this.dataSource.fetch()}},_dataChange:function(s){this._load(s.sender.view())},_load:function(w){this._data=w;this.clear();var v=j.getter(this.options.locationField);var u=j.getter(this.options.titleField);for(var t=0;t<w.length;t++){var s=w[t];this.bind({location:v(s),title:u(s)},s)}},_markerClick:function(t){var s={marker:h(t.target).data("kendoMarker"),layer:this};this.map.trigger("markerClick",s)}});var l=c.extend({init:function(s){this.options=s||{}},addTo:function(s){this.layer=s.markers||s;this.layer.items.push(this);this.layer.update(this)},location:function(s){if(s){this.options.location=i.create(s).toArray();if(this.layer){this.layer.update(this)}return this}else{return i.create(this.options.location)}},showAt:function(s){this.render();this.element.css({left:p.round(s.x),top:p.round(s.y)});if(this.tooltip&&this.tooltip.popup){this.tooltip.popup._position()}},hide:function(){if(this.element){this.element.remove();this.element=null}if(this.tooltip){this.tooltip.destroy();this.tooltip=null}},destroy:function(){this.layer=null;this.hide()},render:function(){if(!this.element){var s=this.options;var t=this.layer;this.element=h(q.createElement("span")).addClass("k-marker k-marker-"+j.toHyphens(s.shape||"pin")).attr("title",s.title).attr(s.attributes||{}).data("kendoMarker",this).css("zIndex",s.zIndex);if(t){t.element.append(this.element)}this.renderTooltip()}},renderTooltip:function(){var s=this;var w=s.options.title;var t=s.options.tooltip||{};if(t&&m){var u=t.template;if(u){var v=j.template(u);t.content=function(x){x.location=s.location();x.marker=s;return v(x)}}if(w||t.content||t.contentUrl){this.tooltip=new m(this.element,t);this.tooltip.marker=this}}}});l.create=function(s,t){if(s instanceof l){return s}return new l(f({},t,s))};f(g,{map:{layers:{marker:o,MarkerLayer:o},Marker:l}})})(window.kendo.jQuery);(function(k,l){var E=document,h=Math,u=h.min,i=h.pow,v=k.proxy,t=window.kendo,f=t.ui.Widget,p=t.deepExtend,o=t.dataviz,s=o.ui,w=t.geometry,C=w.Point,B=o.map,D=B.Extent,d=B.Location,r=B.crs.EPSG3857,b=t.util,e=b.defined,y=b.limitValue,n=b.renderPos,q=b.valueOrDefault;var z="k-",A=0.9,c=0.93,x="DOMMouseScroll mousewheel",m=5;var j=f.extend({init:function(F,g){t.destroy(F);f.fn.init.call(this,F);this._initOptions(g);this.bind(this.events,g);this.crs=new r();this.element.addClass(z+this.options.name.toLowerCase()).css("position","relative").empty().append(E.createElement("div"));this._viewOrigin=this._getOrigin();this._initScroller();this._initMarkers();this._initControls();this._initLayers();this._reset();this._mousewheel=v(this._mousewheel,this);this.element.bind("click",v(this._click,this));this.element.bind(x,this._mousewheel)},options:{name:"Map",controls:{attribution:true,navigator:{panStep:100},zoom:true},layers:[],layerDefaults:{shape:{style:{fill:{color:"#fff"},stroke:{color:"#aaa",width:0.5}}},bubble:{style:{fill:{color:"#fff",opacity:0.5},stroke:{color:"#aaa",width:0.5}}},marker:{shape:"pinTarget",tooltip:{position:"top"}}},center:[0,0],zoom:3,minSize:256,minZoom:1,maxZoom:19,markers:[],markerDefaults:{shape:"pinTarget",tooltip:{position:"top"}},wraparound:true},events:["beforeReset","click","reset","pan","panEnd","markerActivate","markerClick","markerCreated","shapeClick","shapeCreated","shapeMouseEnter","shapeMouseLeave","zoomStart","zoomEnd"],destroy:function(){this.scroller.destroy();if(this.navigator){this.navigator.destroy()}if(this.attribution){this.attribution.destroy()}if(this.zoomControl){this.zoomControl.destroy()}this.markers.destroy();for(var g=0;g<this.layers.length;g++){this.layers[g].destroy()}f.fn.destroy.call(this)},zoom:function(F){var g=this.options;if(e(F)){F=y(F,g.minZoom,g.maxZoom);if(g.zoom!==F){g.zoom=F;this._reset()}return this}else{return g.zoom}},center:function(g){if(g){this.options.center=d.create(g).toArray();this._reset();return this}else{return d.create(this.options.center)}},extent:function(g){if(g){this._setExtent(g);return this}else{return this._getExtent()}},setOptions:function(g){f.fn.setOptions.call(this,g);this._reset()},locationToLayer:function(g,F){var G=!this.options.wraparound;g=d.create(g);return this.crs.toPoint(g,this._layerSize(F),G)},layerToLocation:function(g,F){var G=!this.options.wraparound;g=C.create(g);return this.crs.toLocation(g,this._layerSize(F),G)},locationToView:function(F){F=d.create(F);var G=this.locationToLayer(this._viewOrigin);var g=this.locationToLayer(F);return g.translateWith(G.scale(-1))},viewToLocation:function(g,G){var F=this.locationToLayer(this._getOrigin(),G);g=C.create(g);g=g.clone().translateWith(F);return this.layerToLocation(g,G)},eventOffset:function(G){var H=this.element.offset();var F=G.originalEvent||G;var g=q(F.pageX,F.clientX)-H.left;var I=q(F.pageY,F.clientY)-H.top;return new w.Point(g,I)},eventToView:function(g){var F=this.eventOffset(g);return this.locationToView(this.viewToLocation(F))},eventToLayer:function(g){return this.locationToLayer(this.eventToLocation(g))},eventToLocation:function(g){var F=this.eventOffset(g);return this.viewToLocation(F)},viewSize:function(){var g=this.element;var G=this._layerSize();var F=g.width();if(!this.options.wraparound){F=u(G,F)}return{width:F,height:u(G,g.height())}},exportVisual:function(){this._reset();return false},_setOrigin:function(g,H){var F=this.viewSize(),G;g=this._origin=d.create(g);G=this.locationToLayer(g,H);G.x+=F.width/2;G.y+=F.height/2;this.options.center=this.layerToLocation(G,H).toArray();return this},_getOrigin:function(G){var g=this.viewSize(),F;if(G||!this._origin){F=this.locationToLayer(this.center());F.x-=g.width/2;F.y-=g.height/2;this._origin=this.layerToLocation(F)}return this._origin},_setExtent:function(H){H=D.create(H);this.center(H.center());var G=this.element.width();var g=this.element.height();for(var J=this.options.maxZoom;J>=this.options.minZoom;J--){var F=this.locationToLayer(H.nw,J);var K=this.locationToLayer(H.se,J);var I=h.abs(K.x-F.x);var L=h.abs(K.y-F.y);if(I<=G&&L<=g){break}}this.zoom(J)},_getExtent:function(){var g=this._getOrigin();var G=this.locationToLayer(g);var F=this.viewSize();G.x+=F.width;G.y+=F.height;var H=this.layerToLocation(G);return new D(g,H)},_zoomAround:function(g,F){this._setOrigin(this.layerToLocation(g,F),F);this.zoom(F)},_initControls:function(){var g=this.options.controls;if(s.Attribution&&g.attribution){this._createAttribution(g.attribution)}if(!t.support.mobileOS){if(s.Navigator&&g.navigator){this._createNavigator(g.navigator)}if(s.ZoomControl&&g.zoom){this._createZoomControl(g.zoom)}}},_createControlElement:function(G,F){var I=G.position||F;var g="."+n(I).replace(" ",".");var H=k(".k-map-controls"+g,this.element);if(H.length===0){H=k("<div>").addClass("k-map-controls "+n(I)).appendTo(this.element)}return k("<div>").appendTo(H)},_createAttribution:function(g){var F=this._createControlElement(g,"bottomRight");this.attribution=new s.Attribution(F,g)},_createNavigator:function(F){var G=this._createControlElement(F,"topLeft");var g=this.navigator=new s.Navigator(G,F);this._navigatorPan=v(this._navigatorPan,this);g.bind("pan",this._navigatorPan);this._navigatorCenter=v(this._navigatorCenter,this);g.bind("center",this._navigatorCenter)},_navigatorPan:function(K){var J=this;var G=J.scroller;var F=G.scrollLeft+K.x;var L=G.scrollTop-K.y;var I=this._virtualSize;var g=this.element.height();var H=this.element.width();F=y(F,I.x.min,I.x.max-H);L=y(L,I.y.min,I.y.max-g);J.scroller.one("scroll",function(M){J._scrollEnd(M)});J.scroller.scrollTo(-F,-L)},_navigatorCenter:function(){this.center(this.options.center)},_createZoomControl:function(F){var G=this._createControlElement(F,"topLeft");var g=this.zoomControl=new s.ZoomControl(G,F);this._zoomControlChange=v(this._zoomControlChange,this);g.bind("change",this._zoomControlChange)},_zoomControlChange:function(g){if(!this.trigger("zoomStart",{originalEvent:g})){this.zoom(this.zoom()+g.delta);this.trigger("zoomEnd",{originalEvent:g})}},_initScroller:function(){var G=t.support.mobileOS?c:A;var F=this.options.zoomable!==false;var g=this.scroller=new t.mobile.ui.Scroller(this.element.children(0),{friction:G,velocityMultiplier:m,zoom:F,mousewheelScrolling:false});g.bind("scroll",v(this._scroll,this));g.bind("scrollEnd",v(this._scrollEnd,this));g.userEvents.bind("gesturestart",v(this._scaleStart,this));g.userEvents.bind("gestureend",v(this._scale,this));this.scrollElement=g.scrollElement},_initLayers:function(){var g=this.options.layers,K=this.layers=[];for(var H=0;H<g.length;H++){var G=g[H];var I=G.type||"shape";var J=this.options.layerDefaults[I];var F=o.map.layers[I];K.push(new F(this,p({},J,G)))}},_initMarkers:function(){this.markers=new B.layers.MarkerLayer(this,this.options.markerDefaults);this.markers.add(this.options.markers)},_scroll:function(G){var g=this.locationToLayer(this._viewOrigin).round();var F=G.sender.movable;var H=new w.Point(F.x,F.y).scale(-1).scale(1/F.scale);g.x+=H.x;g.y+=H.y;this._setOrigin(this.layerToLocation(g));this.trigger("pan",{originalEvent:G,origin:this._getOrigin(),center:this.center()})},_scrollEnd:function(g){this.trigger("panEnd",{originalEvent:g,origin:this._getOrigin(),center:this.center()})},_scaleStart:function(g){if(this.trigger("zoomStart",{originalEvent:g})){var F=g.touches[1];if(F){F.cancel()}}},_scale:function(I){var J=this.scroller.movable.scale;var F=this._scaleToZoom(J);var H=new w.Point(I.center.x,I.center.y);var g=this.viewToLocation(H,F);var K=this.locationToLayer(g,F);var G=K.translate(-H.x,-H.y);this._zoomAround(G,F);this.trigger("zoomEnd",{originalEvent:I})},_scaleToZoom:function(F){var H=this._layerSize()*F;var g=H/this.options.minSize;var G=h.log(g)/h.log(2);return h.round(G)},_reset:function(){if(this.attribution){this.attribution.filter(this.center(),this.zoom())}this._viewOrigin=this._getOrigin(true);this._resetScroller();this.trigger("beforeReset");this.trigger("reset")},_resetScroller:function(){var H=this.scroller;var N=H.dimensions.x;var L=H.dimensions.y;var G=this._layerSize();var g=20*G;var I=this.extent().nw;var O=this.locationToLayer(I).round();H.movable.round=true;H.reset();H.userEvents.cancel();var M=this.options.maxZoom-this.zoom();H.dimensions.maxScale=i(2,M);var F={min:-O.x,max:G-O.x};var J={min:-O.y,max:G-O.y};if(this.options.wraparound){F.min=-g;F.max=g}if(this.options.pannable===false){var K=this.viewSize();F.min=J.min=0;F.max=K.width;J.max=K.height}N.makeVirtual();L.makeVirtual();N.virtualSize(F.min,F.max);L.virtualSize(J.min,J.max);this._virtualSize={x:F,y:J}},_renderLayers:function(){var g=this.options.layers,L=this.layers=[],J=this.scrollWrap;J.empty();for(var H=0;H<g.length;H++){var G=g[H];var I=G.type||"shape";var K=this.options.layerDefaults[I];var F=o.map.layers[I];L.push(new F(this,p({},K,G)))}},_layerSize:function(g){g=q(g,this.options.zoom);return this.options.minSize*i(2,g)},_click:function(g){var F=this.eventOffset(g);this.trigger("click",{originalEvent:g,location:this.viewToLocation(F)})},_mousewheel:function(G){G.preventDefault();var K=o.mwDelta(G)>0?-1:1;var M=this.options;var F=this.zoom();var g=y(F+K,M.minZoom,M.maxZoom);if(M.zoomable!==false&&g!==F){if(!this.trigger("zoomStart",{originalEvent:G})){var L=this.eventOffset(G);var J=this.viewToLocation(L);var H=this.locationToLayer(J,g);var I=H.translate(-L.x,-L.y);this._zoomAround(I,g);this.trigger("zoomEnd",{originalEvent:G})}}}});o.ui.plugin(j)})(window.kendo.jQuery);(function(i,e){var m=window.kendo,h=m.dataviz.diagram={},c=m.Class,g=m.deepExtend,j=i.isArray,f=0.000001;var k={};g(k,{isNearZero:function(p){return Math.abs(p)<f},isDefined:function(p){return typeof p!=="undefined"},isUndefined:function(p){return(typeof p==="undefined")||p===null},isObject:function(p){return p===Object(p)},has:function(q,p){return Object.hasOwnProperty.call(q,p)},isString:function(p){return Object.prototype.toString.call(p)=="[object String]"},isBoolean:function(p){return Object.prototype.toString.call(p)=="[object Boolean]"},isType:function(q,p){return Object.prototype.toString.call(q)=="[object "+p+"]"},isNumber:function(p){return !isNaN(parseFloat(p))&&isFinite(p)},isEmpty:function(q){if(q===null){return true}if(j(q)||k.isString(q)){return q.length===0}for(var p in q){if(k.has(q,p)){return false}}return true},simpleExtend:function(p,r){if(!k.isObject(r)){return}for(var q in r){p[q]=r[q]}},initArray:function n(q,r){var s=[];for(var p=0;p<q;++p){s[p]=r}return s},serializePoints:function(s){var r=[];for(var q=0;q<s.length;q++){var t=s[q];r.push(t.x+";"+t.y)}return r.join(";")},deserializePoints:function(t){var p=t.split(";"),r=[];if(p.length%2!==0){throw"Not an array of points."}for(var q=0;q<p.length;q+=2){r.push(new h.Point(parseInt(p[q],10),parseInt(p[q+1],10)))}return r},randomInteger:function(p,q){return parseInt(Math.floor(Math.random()*q)+p,10)},DFT:function(q,s){s(q);if(q.childNodes){for(var p=0;p<q.childNodes.length;p++){var r=q.childNodes[p];this.DFT(r,s)}}},getMatrixAngle:function(p){if(p===null||p.d===0){return 0}return Math.atan2(p.b,p.d)*180/Math.PI},getMatrixScaling:function(p){var r=Math.sqrt(p.a*p.a+p.c*p.c);var q=Math.sqrt(p.b*p.b+p.d*p.d);return[r,q]}});function d(w,t,u){if(typeof w=="undefined"||typeof t=="undefined"){return[]}if(u&&k.sign(t-w)!=k.sign(u)){throw"The sign of the increment should allow to reach the stop-value."}u=u||1;w=w||0;t=t||w;if((t-w)/u===Infinity){throw"Infinite range defined."}var q=[],s=-1,r;function v(y){var z=1;while(y*z%1){z*=10}return z}var p=v(Math.abs(u));w*=p;t*=p;u*=p;if(w>t&&u>0){u=-u}if(u<0){while((r=w+u*++s)>=t){q.push(r/p)}}else{while((r=w+u*++s)<=t){q.push(r/p)}}return q}function o(t,q){if(t==q){return 0}var p=q.x-t.x,r=t.y-q.y,s=Math.atan(p/r);if(r>=0){return p<0?s+(2*Math.PI):s}return s+Math.PI}k.sign=function(p){return p?p<0?-1:1:0};k.findAngle=function(p,q){return o(p,q)*180/Math.PI};k.forEach=function(p,r,s){for(var q=0;q<p.length;q++){r.call(s,p[q],q,p)}};k.any=function(q,p){for(var r=0;r<q.length;++r){if(p(q[r])){return q[r]}}return null};k.remove=function(p,r){var q;while((q=k.indexOf(p,r))!==-1){p.splice(q,1)}return p};k.contains=function(p,q){return k.indexOf(p,q)!==-1};k.indexOf=function(p,q){return i.inArray(q,p)};k.fold=function(v,s,u,r){var p=arguments.length>2;for(var q=0;q<v.length;q++){var t=v[q];if(!p){u=t;p=true}else{u=s.call(r,u,t,q,v)}}if(!p){throw"Reduce of empty array with no initial value"}return u};k.find=function(q,s,r){var p;k.any(q,function(v,t,u){if(s.call(r,v,t,u)){p=v;return true}return false});return p};k.first=function(p,r,q){if(p.length===0){return null}if(k.isUndefined(r)){return p[0]}return k.find(p,r,q)};k.insert=function(q,r,p){q.splice(p,0,r);return q};k.all=function(q,t,s){var p=true;var u;for(var r=0;r<q.length;r++){u=q[r];p=p&&t.call(s,u,r,q);if(!p){break}}return p};k.clear=function(p){p.splice(0,p.length)};k.bisort=function(q,p,r){if(k.isUndefined(q)){throw"First array is not specified."}if(k.isUndefined(p)){throw"Second array is not specified."}if(q.length!=p.length){throw"The two arrays should have equal length"}var t=[],s;for(s=0;s<q.length;s++){t.push({x:q[s],y:p[s]})}if(k.isUndefined(r)){t.sort(function(u,v){return u.x-v.x})}else{t.sort(function(u,v){return r(u.x,v.x)})}k.clear(q);k.clear(p);for(s=0;s<t.length;s++){q.push(t[s].x);p.push(t[s].y)}};k.addRange=function(p,q){p.push.apply(p,q)};var l={easeInOut:function(p){return((-Math.cos(p*Math.PI)/2)+0.5)}};var b=m.Class.extend({init:function(){this.adapters=[];this.target=0;this.tick=0;this.interval=20;this.duration=800;this.lastTime=null;this.handlers=[];var p=this;this.transition=l.easeInOut;this.timerDelegate=function(){p.onTimerEvent()}},addAdapter:function(p){this.adapters.push(p)},onComplete:function(p){this.handlers.push(p)},removeHandler:function(p){this.handlers=i.grep(this.handlers,function(q){return q!==p})},trigger:function(){var p=this;if(this.handlers){k.forEach(this.handlers,function(q){return q.call(p.caller!==null?p.caller:p)})}},onStep:function(){},seekTo:function(p){this.seekFromTo(this.tick,p)},seekFromTo:function(q,p){this.target=Math.max(0,Math.min(1,p));this.tick=Math.max(0,Math.min(1,q));this.lastTime=new Date().getTime();if(!this.intervalId){this.intervalId=window.setInterval(this.timerDelegate,this.interval)}},stop:function(){if(this.intervalId){window.clearInterval(this.intervalId);this.intervalId=null;this.trigger()}},play:function(p){if(this.adapters.length===0){return}if(p!==null){this.caller=p}this.initState();this.seekFromTo(0,1)},reverse:function(){this.seekFromTo(1,0)},initState:function(){if(this.adapters.length===0){return}for(var p=0;p<this.adapters.length;p++){this.adapters[p].initState()}},propagate:function(){var q=this.transition(this.tick);for(var p=0;p<this.adapters.length;p++){this.adapters[p].update(q)}},onTimerEvent:function(){var r=new Date().getTime();var p=r-this.lastTime;this.lastTime=r;var q=(p/this.duration)*(this.tick<this.target?1:-1);if(Math.abs(q)>=Math.abs(this.tick-this.target)){this.tick=this.target}else{this.tick+=q}try{this.propagate()}finally{this.onStep.call(this);if(this.target==this.tick){this.stop()}}}});m.deepExtend(h,{init:function(p){m.init(p,h.ui)},Utils:k,Range:d,Ticker:b})})(window.kendo.jQuery);(function(A,l){var B=window.kendo,g=B.dataviz.diagram,c=B.Class,D=B.deepExtend,i=B.dataviz,F=g.Utils,q=i.Point2D,p=B.isFunction,z=F.contains,x=A.map;var K=3,m=0.000001;D(q.fn,{plus:function(L){return new q(this.x+L.x,this.y+L.y)},minus:function(L){return new q(this.x-L.x,this.y-L.y)},offset:function(L){return new q(this.x-L,this.y-L)},times:function(L){return new q(this.x*L,this.y*L)},normalize:function(){if(this.length()===0){return new q()}return this.times(1/this.length())},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},toString:function(){return"("+this.x+","+this.y+")"},lengthSquared:function(){return(this.x*this.x+this.y*this.y)},middleOf:function o(M,L){return new q(L.x-M.x,L.y-M.y).times(0.5).plus(M)},toPolar:function(O){var N=1;if(O){N=180/Math.PI}var M=Math.atan2(Math.abs(this.y),Math.abs(this.x));var P=Math.PI/2;var L=this.length();if(this.x===0){if(this.y===0){return new n(0,0)}if(this.y>0){return new n(L,N*P)}if(this.y<0){return new n(L,N*3*P)}}else{if(this.x>0){if(this.y===0){return new n(L,0)}if(this.y>0){return new n(L,N*M)}if(this.y<0){return new n(L,N*(4*P-M))}}else{if(this.y===0){return new n(L,2*P)}if(this.y>0){return new n(L,N*(2*P-M))}if(this.y<0){return new n(L,N*(2*P+M))}}}},isOnLine:function(R,Q){if(R.x>Q.x){var N=Q;Q=R;R=N}var M=new s(R.x,R.y).inflate(K,K),L=new s(Q.x,Q.y).inflate(K,K),O,P;if(M.union(L).contains(this)){if(R.x===Q.x||R.y===Q.y){return true}else{if(R.y<Q.y){O=M.x+(((L.x-M.x)*(this.y-(M.y+M.height)))/((L.y+L.height)-(M.y+M.height)));P=(M.x+M.width)+((((L.x+L.width)-(M.x+M.width))*(this.y-M.y))/(L.y-M.y))}else{O=M.x+(((L.x-M.x)*(this.y-M.y))/(L.y-M.y));P=(M.x+M.width)+((((L.x+L.width)-(M.x+M.width))*(this.y-(M.y+M.height)))/((L.y+L.height)-(M.y+M.height)))}}return(this.x>O&&this.x<P)}return false}});D(q,{parse:function(O){var M=O.slice(1,O.length-1),N=M.split(","),L=parseInt(N[0],10),P=parseInt(N[1],10);if(!isNaN(L)&&!isNaN(P)){return new q(L,P)}}});var k=c.extend({init:function(N,M,L){this.point=N;this.left=M;this.right=L}});var s=c.extend({init:function(M,O,N,L){this.x=M||0;this.y=O||0;this.width=N||0;this.height=L||0},contains:function(L){return((L.x>=this.x)&&(L.x<=(this.x+this.width))&&(L.y>=this.y)&&(L.y<=(this.y+this.height)))},inflate:function(M,L){if(L===l){L=M}this.x-=M;this.y-=L;this.width+=2*M+1;this.height+=2*L+1;return this},offset:function(N,M){var L=N,O=M;if(N instanceof q){L=N.x;O=N.y}this.x+=L;this.y+=O;return this},union:function(P){var M=Math.min(this.x,P.x);var O=Math.min(this.y,P.y);var L=Math.max((this.x+this.width),(P.x+P.width));var N=Math.max((this.y+this.height),(P.y+P.height));return new s(M,O,L-M,N-O)},center:function(){return new q(this.x+this.width/2,this.y+this.height/2)},top:function(){return new q(this.x+this.width/2,this.y)},right:function(){return new q(this.x+this.width,this.y+this.height/2)},bottom:function(){return new q(this.x+this.width/2,this.y+this.height)},left:function(){return new q(this.x,this.y+this.height/2)},topLeft:function(){return new q(this.x,this.y)},topRight:function(){return new q(this.x+this.width,this.y)},bottomLeft:function(){return new q(this.x,this.y+this.height)},bottomRight:function(){return new q(this.x+this.width,this.y+this.height)},clone:function(){return new s(this.x,this.y,this.width,this.height)},isEmpty:function(){return !this.width&&!this.height},equals:function(L){return this.x===L.x&&this.y===L.y&&this.width===L.width&&this.height===L.height},rotatedBounds:function(Q){var O=this.clone(),N=this.rotatedPoints(Q),L=N[0],P=N[1],M=N[2],R=N[3];O.x=Math.min(M.x,L.x,P.x,R.x);O.y=Math.min(M.y,L.y,P.y,R.y);O.width=Math.max(M.x,L.x,P.x,R.x)-O.x;O.height=Math.max(M.y,L.y,P.y,R.y)-O.y;return O},rotatedPoints:function(P){var N=this,R=N.center(),M=N.bottomRight().rotate(R,360-P),L=N.topLeft().rotate(R,360-P),O=N.topRight().rotate(R,360-P),Q=N.bottomLeft().rotate(R,360-P);return[L,O,M,Q]},toString:function(L){L=L||" ";return this.x+L+this.y+L+this.width+L+this.height},scale:function(S,Q,U,P,L){var T=this.topLeft();var N=this.center();T.rotate(N,360-L).rotate(P,L);var R=U.minus(T);var M=new q(R.x*S,R.y*Q);var O=R.minus(M);T=T.plus(O);T.rotate(P,360-L).rotate(N,L);this.x=T.x;this.y=T.y;this.width*=S;this.height*=Q},zoom:function(L){this.x*=L;this.y*=L;this.width*=L;this.height*=L;return this}});var d=c.extend({init:function(M,L){this.width=M;this.height=L}});d.prototype.Empty=new d(0,0);s.toRect=function(L){if(!(L instanceof s)){L=new s(L.x,L.y,L.width,L.height)}return L};s.empty=function(){return new s(0,0,0,0)};s.fromPoints=function(M,L){if(isNaN(M.x)||isNaN(M.y)||isNaN(L.x)||isNaN(L.y)){throw"Some values are NaN."}return new s(Math.min(M.x,L.x),Math.min(M.y,L.y),Math.abs(M.x-L.x),Math.abs(M.y-L.y))};function H(L){return Math.abs(L)<m}function E(N,Q,M,O,T){var U=((Q.x-N.x)*(O.y-M.y))-((Q.y-N.y)*(O.x-M.x));if(H(U)){return}var R=((N.y-M.y)*(O.x-M.x))-((N.x-M.x)*(O.y-M.y));var P=((N.y-M.y)*(Q.x-N.x))-((N.x-M.x)*(Q.y-N.y));var L=R/U;var S=P/U;if(T&&(L<0||L>1||S<0||S>1)){return}return new q(N.x+(L*(Q.x-N.x)),N.y+(L*(Q.y-N.y)))}var I={lines:function(O,M,N,L){return E(O,M,N,L)},segments:function(O,M,N,L){return E(O,M,N,L,true)},rectWithLine:function(M,N,L){return I.segments(N,L,M.topLeft(),M.topRight())||I.segments(N,L,M.topRight(),M.bottomRight())||I.segments(N,L,M.bottomLeft(),M.bottomRight())||I.segments(N,L,M.topLeft(),M.bottomLeft())},rects:function(S,R,O){var U=R.topLeft(),Q=R.topRight(),N=R.bottomLeft(),T=R.bottomRight();var L=R.center();if(O){U=U.rotate(L,O);Q=Q.rotate(L,O);N=N.rotate(L,O);T=T.rotate(L,O)}var M=S.contains(U)||S.contains(Q)||S.contains(N)||S.contains(T)||I.rectWithLine(S,U,Q)||I.rectWithLine(S,U,N)||I.rectWithLine(S,Q,T)||I.rectWithLine(S,N,T);if(!M){U=S.topLeft();Q=S.topRight();N=S.bottomLeft();T=S.bottomRight();if(O){var P=360-O;U=U.rotate(L,P);Q=Q.rotate(L,P);N=N.rotate(L,P);T=T.rotate(L,P)}M=R.contains(U)||R.contains(Q)||R.contains(N)||R.contains(T)}return M}};var y=c.extend({init:function(L){this.container=s.toRect(L)},align:function(N,O){var M=O.toLowerCase().split(" ");for(var L=0;L<M.length;L++){N=this._singleAlign(N,M[L])}return N},_singleAlign:function(L,M){if(p(this[M])){return this[M](L)}else{return L}},left:function(L){return this._align(L,this._left)},center:function(L){return this._align(L,this._center)},right:function(L){return this._align(L,this._right)},stretch:function(L){return this._align(L,this._stretch)},top:function(L){return this._align(L,this._top)},middle:function(L){return this._align(L,this._middle)},bottom:function(L){return this._align(L,this._bottom)},_left:function(L,M){M.x=L.x},_center:function(L,M){M.x=((L.width-M.width)/2)||0},_right:function(L,M){M.x=L.width-M.width},_top:function(L,M){M.y=L.y},_middle:function(L,M){M.y=((L.height-M.height)/2)||0},_bottom:function(L,M){M.y=L.height-M.height},_stretch:function(L,M){M.x=0;M.y=0;M.height=L.height;M.width=L.width},_align:function(M,L){M=s.toRect(M);L(this.container,M);return M}});var n=c.extend({init:function(M,L){this.r=M;this.angle=L}});var e=c.extend({init:function(M,L,Q,P,O,N){this.a=M||0;this.b=L||0;this.c=Q||0;this.d=P||0;this.e=O||0;this.f=N||0},plus:function(L){this.a+=L.a;this.b+=L.b;this.c+=L.c;this.d+=L.d;this.e+=L.e;this.f+=L.f},minus:function(L){this.a-=L.a;this.b-=L.b;this.c-=L.c;this.d-=L.d;this.e-=L.e;this.f-=L.f},times:function(L){return new e(this.a*L.a+this.c*L.b,this.b*L.a+this.d*L.b,this.a*L.c+this.c*L.d,this.b*L.c+this.d*L.d,this.a*L.e+this.c*L.f+this.e,this.b*L.e+this.d*L.f+this.f)},apply:function(L){return new q(this.a*L.x+this.c*L.y+this.e,this.b*L.x+this.d*L.y+this.f)},applyRect:function(L){return s.fromPoints(this.apply(L.topLeft()),this.apply(L.bottomRight()))},toString:function(){return"matrix("+this.a+" "+this.b+" "+this.c+" "+this.d+" "+this.e+" "+this.f+")"}});D(e,{fromSVGMatrix:function(M){var L=new e();L.a=M.a;L.b=M.b;L.c=M.c;L.d=M.d;L.e=M.e;L.f=M.f;return L},fromMatrixVector:function(M){var L=new e();L.a=M.a;L.b=M.b;L.c=M.c;L.d=M.d;L.e=M.e;L.f=M.f;return L},fromList:function(M){if(M.length!==6){throw"The given list should consist of six elements."}var L=new e();L.a=M[0];L.b=M[1];L.c=M[2];L.d=M[3];L.e=M[4];L.f=M[5];return L},translation:function(M,N){var L=new e();L.a=1;L.b=0;L.c=0;L.d=1;L.e=M;L.f=N;return L},unit:function(){return new e(1,0,0,1,0,0)},rotation:function(N,M,O){var L=new e();L.a=Math.cos(N*Math.PI/180);L.b=Math.sin(N*Math.PI/180);L.c=-L.b;L.d=L.a;L.e=(M-M*L.a+O*L.b)||0;L.f=(O-O*L.a-M*L.b)||0;return L},scaling:function(N,M){var L=new e();L.a=N;L.b=0;L.c=0;L.d=M;L.e=0;L.f=0;return L},parse:function(L){var N,M;if(L){L=L.trim();if(L.slice(0,6).toLowerCase()==="matrix"){M=L.slice(7,L.length-1).trim();N=M.split(",");if(N.length===6){return e.fromList(x(N,function(O){return parseFloat(O)}))}N=M.split(" ");if(N.length===6){return e.fromList(x(N,function(O){return parseFloat(O)}))}}if(L.slice(0,1)==="("&&L.slice(L.length-1)===")"){L=L.substr(1,L.length-1)}if(L.indexOf(",")>0){N=L.split(",");if(N.length===6){return e.fromList(x(N,function(O){return parseFloat(O)}))}}if(L.indexOf(" ")>0){N=L.split(" ");if(N.length===6){return e.fromList(x(N,function(O){return parseFloat(O)}))}}}return N}});var w=c.extend({init:function(M,L,Q,P,O,N){this.a=M||0;this.b=L||0;this.c=Q||0;this.d=P||0;this.e=O||0;this.f=N||0},fromMatrix:function f(L){var M=new w();M.a=L.a;M.b=L.b;M.c=L.c;M.d=L.d;M.e=L.e;M.f=L.f;return M}});function t(M,O){var L,P,N;do{L=Math.random()*2-1;P=Math.random()*2-1;N=L*L+P*P}while(!N||N>1);return M+O*L*Math.sqrt(-2*Math.log(N)/N)}function C(O){if(F.isUndefined(O)){O=10}var L="";var N="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var M=O;M>0;--M){L+=N.charAt(Math.round(Math.random()*(N.length-1)))}return L}var G={_distanceToLineSquared:function(R,M,L){function Q(T,S){return(T.x-S.x)*(T.x-S.x)+(T.y-S.y)*(T.y-S.y)}if(M===L){return Q(R,M)}var P=L.x-M.x,O=L.y-M.y,N=(R.x-M.x)*P+(R.y-M.y)*O;if(N<0){return Q(M,R)}N=(L.x-R.x)*P+(L.y-R.y)*O;if(N<0){return Q(L,R)}N=(L.x-R.x)*O-(L.y-R.y)*P;return N*N/(P*P+O*O)},distanceToLine:function(N,M,L){return Math.sqrt(this._distanceToLineSquared(N,M,L))},distanceToPolyline:function(P,M){var N=Number.MAX_VALUE;if(F.isUndefined(M)||M.length===0){return Number.MAX_VALUE}for(var L=0;L<M.length-1;L++){var R=M[L];var O=M[L+1];var Q=this._distanceToLineSquared(P,R,O);if(Q<N){N=Q}}return Math.sqrt(N)}};var r=B.Class.extend({init:function(){this._buckets=[];this.length=0},add:function(L,M){var N=this._createGetBucket(L);if(F.isDefined(M)){N.value=M}return N},get:function(L){if(this._bucketExists(L)){return this._createGetBucket(L)}return null},set:function(L,M){this.add(L,M)},containsKey:function(L){return this._bucketExists(L)},remove:function(L){if(this._bucketExists(L)){var M=this._hash(L);delete this._buckets[M];this.length--;return L}},forEach:function(O){var M=this._hashes();for(var N=0,L=M.length;N<L;N++){var P=M[N];var Q=this._buckets[P];if(F.isUndefined(Q)){continue}O(Q)}},clone:function(){var N=new r();var M=this._hashes();for(var O=0,L=M.length;O<L;O++){var P=M[O];var Q=this._buckets[P];if(F.isUndefined(Q)){continue}N.add(Q.key,Q.value)}return N},_hashes:function(){var L=[];for(var M in this._buckets){if(this._buckets.hasOwnProperty(M)){L.push(M)}}return L},_bucketExists:function(L){var M=this._hash(L);return F.isDefined(this._buckets[M])},_createGetBucket:function(L){var M=this._hash(L);var N=this._buckets[M];if(F.isUndefined(N)){N={key:L};this._buckets[M]=N;this.length++}return N},_hash:function(L){if(F.isNumber(L)){return L}if(F.isString(L)){return this._hashString(L)}if(F.isObject(L)){return this._objectHashId(L)}throw"Unsupported key type."},_hashString:function(O){var L=0;if(O.length===0){return L}for(var M=0;M<O.length;M++){var N=O.charCodeAt(M);L=((L*32)-L)+N}return L},_objectHashId:function(L){var M=L._hashId;if(F.isUndefined(M)){M=C();L._hashId=M}return M}});var h=B.Observable.extend({init:function(N){var M=this;B.Observable.fn.init.call(M);this._hashTable=new r();this.length=0;if(F.isDefined(N)){if(A.isArray(N)){for(var L=0;L<N.length;L++){this.add(N[L])}}else{N.forEach(function(P,O){this.add(P,O)},this)}}},add:function(L,N){var M=this._hashTable.get(L);if(!M){M=this._hashTable.add(L);this.length++;this.trigger("changed")}M.value=N},set:function(L,M){this.add(L,M)},get:function(L){var M=this._hashTable.get(L);if(M){return M.value}throw new Error("Cannot find key "+L)},containsKey:function(L){return this._hashTable.containsKey(L)},remove:function(L){if(this.containsKey(L)){this.trigger("changed");this.length--;return this._hashTable.remove(L)}},forEach:function(L,M){this._hashTable.forEach(function(N){L.call(M,N.key,N.value)})},forEachValue:function(L,M){this._hashTable.forEach(function(N){L.call(M,N.value)})},forEachKey:function(L,M){this._hashTable.forEach(function(N){L.call(M,N.key)})},keys:function(){var L=[];this.forEachKey(function(M){L.push(M)});return L}});var J=B.Class.extend({init:function(){this._tail=null;this._head=null;this.length=0},enqueue:function(M){var L={value:M,next:null};if(!this._head){this._head=L;this._tail=this._head}else{this._tail.next=L;this._tail=this._tail.next}this.length++},dequeue:function(){if(this.length<1){throw new Error("The queue is empty.")}var L=this._head.value;this._head=this._head.next;this.length--;return L},contains:function(L){var M=this._head;while(M){if(M.value===L){return true}M=M.next}return false}});var j=B.Observable.extend({init:function(M){var L=this;B.Observable.fn.init.call(L);this._hashTable=new r();this.length=0;if(F.isDefined(M)){if(M instanceof r){M.forEach(function(N){this.add(N)})}else{if(M instanceof h){M.forEach(function(O,N){this.add({key:O,value:N})},this)}}}},contains:function(L){return this._hashTable.containsKey(L)},add:function(M){var L=this._hashTable.get(M);if(!L){this._hashTable.add(M,M);this.length++;this.trigger("changed")}},get:function(L){if(this.contains(L)){return this._hashTable.get(L).value}else{return null}},hash:function(L){return this._hashTable._hash(L)},remove:function(L){if(this.contains(L)){this._hashTable.remove(L);this.length--;this.trigger("changed")}},forEach:function(M,L){this._hashTable.forEach(function(N){M(N.value)},L)},toArray:function(){var L=[];this.forEach(function(M){L.push(M)});return L}});var u=B.Class.extend({init:function(N,M){this.links=[];this.outgoing=[];this.incoming=[];this.weight=1;if(F.isDefined(N)){this.id=N}else{this.id=C()}if(F.isDefined(M)){this.associatedShape=M;var L=M.bounds();this.width=L.width;this.height=L.height;this.x=L.x;this.y=L.y}else{this.associatedShape=null}this.data=null;this.type="Node";this.shortForm="Node '"+this.id+"'";this.isVirtual=false},isIsolated:function(){return F.isEmpty(this.links)},bounds:function(L){if(!F.isDefined(L)){return new g.Rect(this.x,this.y,this.width,this.height)}this.x=L.x;this.y=L.y;this.width=L.width;this.height=L.height},isLinkedTo:function(M){var L=this;return F.any(L.links,function(N){return N.getComplement(L)===M})},getChildren:function(){if(this.outgoing.length===0){return[]}var N=[];for(var M=0,L=this.outgoing.length;M<L;M++){var O=this.outgoing[M];N.push(O.getComplement(this))}return N},getParents:function(){if(this.incoming.length===0){return[]}var M=[];for(var N=0,L=this.incoming.length;N<L;N++){var O=this.incoming[N];M.push(O.getComplement(this))}return M},clone:function(){var L=new u();if(F.isDefined(this.weight)){L.weight=this.weight}if(F.isDefined(this.balance)){L.balance=this.balance}if(F.isDefined(this.owner)){L.owner=this.owner}L.associatedShape=this.associatedShape;L.x=this.x;L.y=this.y;L.width=this.width;L.height=this.height;return L},adjacentTo:function(L){return this.isLinkedTo(L)!==null},removeLink:function(L){if(L.source===this){F.remove(this.links,L);F.remove(this.outgoing,L);L.source=null}if(L.target===this){F.remove(this.links,L);F.remove(this.incoming,L);L.target=null}},hasLinkTo:function(L){return F.any(this.outgoing,function(M){return M.target===L})},degree:function(){return this.links.length},incidentWith:function(L){return z(this.links,L)},getLinksWith:function(L){return F.all(this.links,function(M){return M.getComplement(this)===L},this)},getNeighbors:function(){var L=[];F.forEach(this.incoming,function(M){L.push(M.getComplement(this))},this);F.forEach(this.outgoing,function(M){L.push(M.getComplement(this))},this);return L}});var b=B.Class.extend({init:function(O,P,Q,L){if(F.isUndefined(O)){throw"The source of the new link is not set."}if(F.isUndefined(P)){throw"The target of the new link is not set."}var M,N;if(F.isString(O)){M=new u(O)}else{M=O}if(F.isString(P)){N=new u(P)}else{N=P}this.source=M;this.target=N;this.source.links.push(this);this.target.links.push(this);this.source.outgoing.push(this);this.target.incoming.push(this);if(F.isDefined(Q)){this.id=Q}else{this.id=C()}if(F.isDefined(L)){this.associatedConnection=L}else{this.associatedConnection=null}this.type="Link";this.shortForm="Link '"+this.source.id+"->"+this.target.id+"'"},getComplement:function(L){if(this.source!==L&&this.target!==L){throw"The given node is not incident with this link."}return this.source===L?this.target:this.source},getCommonNode:function(L){if(this.source===L.source||this.source===L.target){return this.source}if(this.target===L.source||this.target===L.target){return this.target}return null},isBridging:function(M,L){return this.source===M&&this.target===L||this.source===L&&this.target===M},getNodes:function(){return[this.source,this.target]},incidentWith:function(L){return this.source===L||this.target===L},adjacentTo:function(L){return z(this.source.links,L)||z(this.target.links,L)},changeSource:function(L){F.remove(this.source.links,this);F.remove(this.source.outgoing,this);L.links.push(this);L.outgoing.push(this);this.source=L},changeTarget:function(L){F.remove(this.target.links,this);F.remove(this.target.incoming,this);L.links.push(this);L.incoming.push(this);this.target=L},changesNodes:function(M,L){if(this.source===M){this.changeSource(L)}else{if(this.target===M){this.changeTarget(L)}}},reverse:function(){var L=this.source;var M=this.target;this.source=M;F.remove(L.outgoing,this);this.source.outgoing.push(this);this.target=L;F.remove(M.incoming,this);this.target.incoming.push(this);return this},directTo:function(L){if(this.source!==L&&this.target!==L){throw"The given node is not incident with this link."}if(this.target!==L){this.reverse()}},createReverseEdge:function(){var L=this.clone();L.reverse();L.reversed=true;return L},clone:function(){var L=new b(this.source,this.target);return L}});var v=B.Class.extend({init:function(L){this.links=[];this.nodes=[];this.diagram=null;this._root=null;if(F.isDefined(L)){if(F.isString(L)){this.id=L}else{this.diagram=L;this.id=L.id}}else{this.id=C()}this.bounds=new s();this._hasCachedRelationships=false;this.type="Graph"},cacheRelationships:function(N){if(F.isUndefined(N)){N=false}if(this._hasCachedRelationships&&!N){return}for(var M=0,L=this.nodes.length;M<L;M++){var O=this.nodes[M];O.children=this.getChildren(O);O.parents=this.getParents(O)}this._hasCachedRelationships=true},assignLevels:function(N,Q,M){if(!N){throw"Start node not specified."}if(F.isUndefined(Q)){Q=0}this.cacheRelationships();if(F.isUndefined(M)){M=new h();F.forEach(this.nodes,function(S){M.add(S,false)})}M.set(N,true);N.level=Q;var P=N.children;for(var O=0,L=P.length;O<L;O++){var R=P[O];if(!R||M.get(R)){continue}this.assignLevels(R,Q+1,M)}},root:function(M){if(F.isUndefined(M)){if(!this._root){var L=F.first(this.nodes,function(N){return N.incoming.length===0});if(L){return L}return F.first(this.nodes)}else{return this._root}}else{this._root=M}},getConnectedComponents:function(){this.componentIndex=0;this.setItemIndices();var M=F.initArray(this.nodes.length,-1);for(var L=0;L<this.nodes.length;L++){if(M[L]===-1){this._collectConnectedNodes(M,L);this.componentIndex++}}var O=[],N;for(N=0;N<this.componentIndex;++N){O[N]=new v()}for(N=0;N<M.length;++N){var P=O[M[N]];P.addNodeAndOutgoings(this.nodes[N])}O.sort(function(R,Q){return Q.nodes.length-R.nodes.length});return O},_collectConnectedNodes:function(L,N){L[N]=this.componentIndex;var M=this.nodes[N];F.forEach(M.links,function(Q){var P=Q.getComplement(M);var O=P.index;if(L[O]===-1){this._collectConnectedNodes(L,O)}},this)},calcBounds:function(){if(this.isEmpty()){this.bounds=new s();return this.bounds}var M=null;for(var N=0,L=this.nodes.length;N<L;N++){var O=this.nodes[N];if(!M){M=O.bounds()}else{M=M.union(O.bounds())}}this.bounds=M;return this.bounds},getSpanningTree:function(W){var Z=new v();var M=new h(),L,T;Z.root=W.clone();Z.root.level=0;Z.root.id=W.id;M.add(W,Z.root);W.level=0;var U=[];var Q=[];Z.nodes.push(Z.root);U.push(W);Q.push(W);var O=1;while(Q.length>0){var S=Q.pop();for(var N=0;N<S.links.length;N++){var V=S.links[N];var X=V.getComplement(S);if(z(U,X)){continue}X.level=S.level+1;if(O<X.level+1){O=X.level+1}if(!z(Q,X)){Q.push(X)}if(!z(U,X)){U.push(X)}if(M.containsKey(S)){L=M.get(S)}else{L=S.clone();L.level=S.level;L.id=S.id;M.add(S,L)}if(M.containsKey(X)){T=M.get(X)}else{T=X.clone();T.level=X.level;T.id=X.id;M.add(X,T)}var P=new b(L,T);Z.addLink(P)}}var Y=[];for(var R=0;R<O;R++){Y.push([])}F.forEach(Z.nodes,function(aa){Y[aa.level].push(aa)});Z.treeLevels=Y;Z.cacheRelationships();return Z},takeRandomNode:function(M,N){if(F.isUndefined(M)){M=[]}if(F.isUndefined(N)){N=4}if(this.nodes.length===0){return null}if(this.nodes.length===1){return z(M,this.nodes[0])?null:this.nodes[0]}var L=A.grep(this.nodes,function(O){return !z(M,O)&&O.degree()<=N});if(F.isEmpty(L)){return null}return L[F.randomInteger(0,L.length)]},isEmpty:function(){return F.isEmpty(this.nodes)},isHealthy:function(){return F.all(this.links,function(L){return z(this.nodes,L.source)&&z(this.nodes,L.target)},this)},getParents:function(L){if(!this.hasNode(L)){throw"The given node is not part of this graph."}return L.getParents()},getChildren:function(L){if(!this.hasNode(L)){throw"The given node is not part of this graph."}return L.getChildren()},addLink:function(N,Q,L){if(F.isUndefined(N)){throw"The source of the link is not defined."}if(F.isUndefined(Q)){if(F.isDefined(N.type)&&N.type==="Link"){this.addExistingLink(N);return}else{throw"The target of the link is not defined."}}var M=this.getNode(N);if(F.isUndefined(M)){M=this.addNode(N)}var O=this.getNode(Q);if(F.isUndefined(O)){O=this.addNode(Q)}var P=new b(M,O);if(F.isDefined(L)){P.owner=L}this.links.push(P);return P},removeAllLinks:function(){while(this.links.length>0){var L=this.links[0];this.removeLink(L)}},addExistingLink:function(N){if(this.hasLink(N)){return}this.links.push(N);if(this.hasNode(N.source.id)){var M=this.getNode(N.source.id);N.changeSource(M)}else{this.addNode(N.source)}if(this.hasNode(N.target.id)){var L=this.getNode(N.target.id);N.changeTarget(L)}else{this.addNode(N.target)}},hasLink:function(L){if(F.isString(L)){return F.any(this.links,function(M){return M.id===L})}if(L.type==="Link"){return z(this.links,L)}throw"The given object is neither an identifier nor a Link."},getNode:function(L){if(F.isUndefined(L)){throw"No identifier or Node specified."}if(F.isString(L)){return F.find(this.nodes,function(M){return M.id==L})}else{if(this.hasNode(L)){return L}else{return null}}},hasNode:function(L){if(F.isString(L)){return F.any(this.nodes,function(M){return M.id===L})}if(F.isObject(L)){return F.any(this.nodes,function(M){return M===L})}throw"The identifier should be a Node or the Id (string) of a node."},removeNode:function(M){var Q=M;if(F.isString(M)){Q=this.getNode(M)}if(F.isDefined(Q)){var N=Q.links;Q.links=[];for(var O=0,L=N.length;O<L;O++){var P=N[O];this.removeLink(P)}F.remove(this.nodes,Q)}else{throw"The identifier should be a Node or the Id (string) of a node."}},areConnected:function(M,L){return F.any(this.links,function(N){return N.source==M&&N.target==L||N.source==L&&N.target==M})},removeLink:function(L){F.remove(this.links,L);F.remove(L.source.outgoing,L);F.remove(L.source.links,L);F.remove(L.target.incoming,L);F.remove(L.target.links,L)},addNode:function(M,O,L){var N=null;if(!F.isDefined(M)){throw"No Node or identifier for a new Node is given."}if(F.isString(M)){if(this.hasNode(M)){return this.getNode(M)}N=new u(M)}else{if(this.hasNode(M)){return this.getNode(M)}N=M}if(F.isDefined(O)){N.bounds(O)}if(F.isDefined(L)){N.owner=L}this.nodes.push(N);return N},addNodeAndOutgoings:function(M){if(!z(this.nodes,M)){this.nodes.push(M)}var L=M.outgoing;M.outgoing=[];F.forEach(L,function(N){this.addExistingLink(N)},this)},setItemIndices:function(){var L;for(L=0;L<this.nodes.length;++L){this.nodes[L].index=L}for(L=0;L<this.links.length;++L){this.links[L].index=L}},clone:function(L){var O=new v();var M=F.isDefined(L)&&L===true;if(M){O.nodeMap=new h();O.linkMap=new h()}var N=new h();F.forEach(this.nodes,function(Q){var P=Q.clone();N.set(Q,P);O.nodes.push(P);if(M){O.nodeMap.set(P,Q)}});F.forEach(this.links,function(P){if(N.containsKey(P.source)&&N.containsKey(P.target)){var Q=O.addLink(N.get(P.source),N.get(P.target));if(M){O.linkMap.set(Q,P)}}});return O},linearize:function(L){return v.Utils.linearize(this,L)},depthFirstTraversal:function(N,O){if(F.isUndefined(N)){throw"You need to supply a starting node."}if(F.isUndefined(O)){throw"You need to supply an action."}if(!this.hasNode(N)){throw"The given start-node is not part of this graph"}var L=this.getNode(N);var M=[];this._dftIterator(L,O,M)},_dftIterator:function(P,Q,M){Q(P);M.push(P);var O=P.getChildren();for(var N=0,L=O.length;N<L;N++){var R=O[N];if(z(M,R)){continue}this._dftIterator(R,Q,M)}},breadthFirstTraversal:function(N,P){if(F.isUndefined(N)){throw"You need to supply a starting node."}if(F.isUndefined(P)){throw"You need to supply an action."}if(!this.hasNode(N)){throw"The given start-node is not part of this graph"}var R=this.getNode(N);var S=new J();var U=[];S.enqueue(R);while(S.length>0){var O=S.dequeue();P(O);U.push(O);var M=O.getChildren();for(var Q=0,T=M.length;Q<T;Q++){var L=M[Q];if(z(U,L)||z(S,L)){continue}S.enqueue(L)}}},_stronglyConnectedComponents:function(W,N,V,L,O,U,S){V.add(N,S);L.add(N,S);S++;U.push(N);var M=N.getChildren(),Q;for(var P=0,R=M.length;P<R;P++){Q=M[P];if(!V.containsKey(Q)){this._stronglyConnectedComponents(W,Q,V,L,O,U,S);L.add(N,Math.min(L.get(N),L.get(Q)))}else{if(z(U,Q)){L.add(N,Math.min(L.get(N),V.get(Q)))}}}if(L.get(N)===V.get(N)){var T=[];do{Q=U.pop();T.push(Q)}while(Q!==N);if(!W||(T.length>1)){O.push(T)}}},findCycles:function(O){if(F.isUndefined(O)){O=true}var S=new h();var N=new h();var R=[];var M=[];for(var P=0,L=this.nodes.length;P<L;P++){var Q=this.nodes[P];if(S.containsKey(Q)){continue}this._stronglyConnectedComponents(O,Q,S,N,R,M,0)}return R},isAcyclic:function(){return F.isEmpty(this.findCycles())},isSubGraph:function(L){var N=L.linearize();var M=this.linearize();return F.all(N,function(O){return z(M,O)})},makeAcyclic:function(){if(this.isEmpty()||this.nodes.length<=1||this.links.length<=1){return[]}if(this.nodes.length==2){var V=[];if(this.links.length>1){var Q=this.links[0];var ab=Q.source;for(var ai=0,aj=this.links.length;ai<aj;ai++){var S=this.links[ai];if(S.source==ab){continue}var ap=S.reverse();V.push(ap)}}return V}var af=this.clone(true);var T=this.nodes.length;var ad=new h();var M=function(N){if(N.outgoing.length===0){return(2-T)}else{if(N.incoming.length===0){return(T-2)}else{return N.outgoing.length-N.incoming.length}}};var ah=function(au,at){var N=M(au,T);if(!at.containsKey(N)){at.set(N,[])}at.get(N).push(au)};F.forEach(af.nodes,function(N){ah(N,ad)});var P=[];var aq=[];while(af.nodes.length>0){var ae,ar,R;if(ad.containsKey(2-T)){var ao=ad.get(2-T);while(ao.length>0){ar=ao.pop();for(var aa=0;aa<ar.links.length;aa++){var al=ar.links[aa];ae=al.getComplement(ar);R=M(ae,T);F.remove(ad.get(R),ae);ae.removeLink(al);ah(ae,ad)}F.remove(af.nodes,ar);aq.unshift(ar)}}if(ad.containsKey(T-2)){var L=ad.get(T-2);while(L.length>0){ae=L.pop();for(var an=0;an<ae.links.length;an++){var X=ae.links[an];ar=X.getComplement(ae);R=M(ar,T);F.remove(ad.get(R),ar);ar.removeLink(X);ah(ar,ad)}P.push(ae);F.remove(af.nodes,ae)}}if(af.nodes.length>0){for(var ag=T-3;ag>2-T;ag--){if(ad.containsKey(ag)&&ad.get(ag).length>0){var ak=ad.get(ag);var W=ak.pop();for(var ac=0;ac<W.links.length;ac++){var Z=W.links[ac];var Y=Z.getComplement(W);R=M(Y,T);F.remove(ad.get(R),Y);Y.removeLink(Z);ah(Y,ad)}P.push(W);F.remove(af.nodes,W);break}}}}P=P.concat(aq);var am=new h();for(var O=0;O<this.nodes.length;O++){am.set(af.nodeMap.get(P[O]),O)}var U=[];F.forEach(this.links,function(N){if(am.get(N.source)>am.get(N.target)){N.reverse();U.push(N)}});return U}});v.Predefined={EightGraph:function(){return v.Utils.parse(["1->2","2->3","3->4","4->1","3->5","5->6","6->7","7->3"])},Mindmap:function(){return v.Utils.parse(["0->1","0->2","0->3","0->4","0->5","1->6","1->7","7->8","2->9","9->10","9->11","3->12","12->13","13->14","4->15","4->16","15->17","15->18","18->19","18->20","14->21","14->22","5->23","23->24","23->25","6->26"])},ThreeGraph:function(){return v.Utils.parse(["1->2","2->3","3->1"])},BinaryTree:function(L){if(F.isUndefined(L)){L=5}return v.Utils.createBalancedTree(L,2)},Linear:function(L){if(F.isUndefined(L)){L=10}return v.Utils.createBalancedTree(L,1)},Tree:function(M,L){return v.Utils.createBalancedTree(M,L)},Forest:function(N,M,L){return v.Utils.createBalancedForest(N,M,L)},Workflow:function(){return v.Utils.parse(["0->1","1->2","2->3","1->4","4->3","3->5","5->6","6->3","6->7","5->4"])},Grid:function(S,L){var Q=new g.Graph();if(S<=0&&L<=0){return Q}for(var N=0;N<S+1;N++){var P=null;for(var M=0;M<L+1;M++){var O=new u(N.toString()+"."+M.toString());Q.addNode(O);if(P){Q.addLink(P,O)}if(N>0){var R=Q.getNode((N-1).toString()+"."+M.toString());Q.addLink(R,O)}P=O}}return Q}};v.Utils={parse:function(P){var M,Q=new g.Graph(),S=P.slice();for(var O=0,L=S.length;O<L;O++){var N=S[O];if(F.isString(N)){if(N.indexOf("->")<0){throw"The link should be specified as 'a->b'."}var R=N.split("->");if(R.length!=2){throw"The link should be specified as 'a->b'."}M=new b(R[0],R[1]);Q.addLink(M)}if(F.isObject(N)){if(!M){throw"Specification found before Link definition."}B.deepExtend(M,N)}}return Q},linearize:function(O,Q){if(F.isUndefined(O)){throw"Expected an instance of a Graph object in slot one."}if(F.isUndefined(Q)){Q=false}var P=[];for(var M=0,L=O.links.length;M<L;M++){var N=O.links[M];P.push(N.source.id+"->"+N.target.id);if(Q){P.push({id:N.id})}}return P},_addShape:function(O,M,N,L){if(F.isUndefined(M)){M=new g.Point(0,0)}if(F.isUndefined(N)){N=C()}L=B.deepExtend({width:20,height:20,id:N,radius:10,fill:"#778899",data:"circle",undoable:false,x:M.x,y:M.y},L);return O.addShape(L)},_addConnection:function(M,O,N,L){return M.connect(O,N,L)},createDiagramFromGraph:function(ac,O,M,R){if(F.isUndefined(ac)){throw"The diagram surface is undefined."}if(F.isUndefined(O)){throw"No graph specification defined."}if(F.isUndefined(M)){M=true}if(F.isUndefined(R)){R=false}var V=ac.element.clientWidth||200;var T=ac.element.clientHeight||200;var ad=[],W,N;for(var Z=0,ab=O.nodes.length;Z<ab;Z++){W=O.nodes[Z];var U=W.position;if(F.isUndefined(U)){if(F.isDefined(W.x)&&F.isDefined(W.y)){U=new q(W.x,W.y)}else{U=new q(F.randomInteger(10,V-20),F.randomInteger(10,T-20))}}var L={};if(W.id==="0"){}else{if(R){B.deepExtend(L,{width:Math.random()*150+20,height:Math.random()*80+50,data:"rectangle",fill:{color:"#778899"}})}}N=this._addShape(ac,U,W.id,L);var P=N.bounds();if(F.isDefined(P)){W.x=P.x;W.y=P.y;W.width=P.width;W.height=P.height}ad[W.id]=N}for(var S=0;S<O.links.length;S++){var Q=O.links[S];var ae=ad[Q.source.id];if(F.isUndefined(ae)){continue}var Y=ad[Q.target.id];if(F.isUndefined(Y)){continue}this._addConnection(ac,ae,Y,{id:Q.id})}if(M){var X=new ac.SpringLayout(ac);X.layoutGraph(O,{limitToView:false});for(var aa=0;aa<O.nodes.length;aa++){W=O.nodes[aa];N=ad[W.id];N.bounds(new s(W.x,W.y,W.width,W.height))}}},createBalancedTree:function(W,Q){if(F.isUndefined(W)){W=3}if(F.isUndefined(Q)){Q=3}var P=new g.Graph(),L=-1,R=[],U;if(W<=0||Q<=0){return P}var S=new u((++L).toString());P.addNode(S);P.root=S;R.push(S);for(var O=0;O<W;O++){U=[];for(var N=0;N<R.length;N++){var T=R[N];for(var M=0;M<Q;M++){var V=new u((++L).toString());P.addLink(T,V);U.push(V)}}R=U}return P},createBalancedForest:function(W,Q,Y){if(F.isUndefined(W)){W=3}if(F.isUndefined(Q)){Q=3}if(F.isUndefined(Y)){Y=5}var P=new g.Graph(),L=-1,R=[],U;if(W<=0||Q<=0||Y<=0){return P}for(var X=0;X<Y;X++){var S=new u((++L).toString());P.addNode(S);R=[S];for(var O=0;O<W;O++){U=[];for(var N=0;N<R.length;N++){var T=R[N];for(var M=0;M<Q;M++){var V=new u((++L).toString());P.addLink(T,V);U.push(V)}}R=U}}return P},createRandomConnectedGraph:function(N,M,S){if(F.isUndefined(N)){N=40}if(F.isUndefined(M)){M=4}if(F.isUndefined(S)){S=false}var Q=new g.Graph(),L=-1;if(N<=0){return Q}var V=new u((++L).toString());Q.addNode(V);if(N===1){return Q}if(N>1){for(var O=1;O<N;O++){var P=Q.takeRandomNode([],M);if(!P){break}var X=Q.addNode(O.toString());Q.addLink(P,X)}if(!S&&N>1){var U=F.randomInteger(1,N);for(var W=0;W<U;W++){var T=Q.takeRandomNode([],M);var R=Q.takeRandomNode([],M);if(T&&R&&!Q.areConnected(T,R)){Q.addLink(T,R)}}}return Q}},randomDiagram:function(N,Q,P,M,L){var O=B.dataviz.diagram.Graph.Utils.createRandomConnectedGraph(Q,P,M);v.Utils.createDiagramFromGraph(N,O,false,L)}};B.deepExtend(g,{init:function(L){B.init(L,g.ui)},Point:q,Intersect:I,Geometry:G,Rect:s,Size:d,RectAlign:y,Matrix:e,MatrixVector:w,normalVariable:t,randomId:C,Dictionary:h,HashTable:r,Queue:J,Set:j,Node:u,Link:b,Graph:v,PathDefiner:k})})(window.kendo.jQuery);(function(K,s){var M=window.kendo,j=M.Observable,n=M.dataviz.diagram,b=M.Class,R=M.deepExtend,o=M.dataviz,y=n.Point,z=n.Rect,H=n.RectAlign,i=n.Matrix,S=n.Utils,x=S.isUndefined,ak=S.isNumber,q=S.isString,E=n.MatrixVector,af=M.geometry,ai=M.drawing,V=M.util.defined,ae=K.inArray;var F="transparent",ad={none:"none",arrowStart:"ArrowStart",filledCircle:"FilledCircle",arrowEnd:"ArrowEnd"},t=100,ag=100,D=360,I="start",Z="end",k="width",J="height",f="x",e="y";n.Markers=ad;var w=b.extend({init:function(d,g){this.x=d;this.y=g},toMatrix:function(){return i.scaling(this.x,this.y)},toString:function(){return M.format("scale({0},{1})",this.x,this.y)},invert:function(){return new w(1/this.x,1/this.y)}});var W=b.extend({init:function(d,g){this.x=d;this.y=g},toMatrixVector:function(){return new E(0,0,0,0,this.x,this.y)},toMatrix:function(){return i.translation(this.x,this.y)},toString:function(){return M.format("translate({0},{1})",this.x,this.y)},plus:function(d){this.x+=d.x;this.y+=d.y},times:function(d){this.x*=d;this.y*=d},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){if(this.Length===0){return}this.times(1/this.length())},invert:function(){return new W(-this.x,-this.y)}});var l=b.extend({init:function(g,d,X){this.x=d||0;this.y=X||0;this.angle=g},toString:function(){if(this.x&&this.y){return M.format("rotate({0},{1},{2})",this.angle,this.x,this.y)}else{return M.format("rotate({0})",this.angle)}},toMatrix:function(){return i.rotation(this.angle,this.x,this.y)},center:function(){return new y(this.x,this.y)},invert:function(){return new l(D-this.angle,this.x,this.y)}});l.create=function(d){return new l(d.angle,d.x,d.y)};l.parse=function(al){var g=al.slice(1,al.length-1).split(","),Y=g[0],d=g[1],am=g[2];var X=new l(Y,d,am);return X};var U=b.extend({init:function(g,am,Y,X,al,d){this.translate=new W(g,am);if(Y!==s&&X!==s){this.scale=new w(Y,X)}if(al!==s){this.rotate=d?new l(al,d.x,d.y):new l(al)}},toString:function(){var d=function(g){return g?g.toString():""};return d(this.translate)+d(this.rotate)+d(this.scale)},render:function(d){d._transform=this;d._renderTransform()},toMatrix:function(){var d=i.unit();if(this.translate){d=d.times(this.translate.toMatrix())}if(this.rotate){d=d.times(this.rotate.toMatrix())}if(this.scale){d=d.times(this.scale.toMatrix())}return d},invert:function(){var X=this.rotate?this.rotate.invert():s,an=X?X.toMatrix():i.unit(),am=this.scale?this.scale.invert():s,Y=am?am.toMatrix():i.unit();var d=new y(-this.translate.x,-this.translate.y);d=an.times(Y).apply(d);var al=new W(d.x,d.y);var g=new U();g.translate=al;g.rotate=X;g.scale=am;return g}});var P={_setScale:function(){var Y=this.options;var d=this._originWidth;var al=this._originHeight;var X=Y.width/d;var g=Y.height/al;if(!ak(X)){X=1}if(!ak(g)){g=1}this._transform.scale=new w(X,g)},_setTranslate:function(){var g=this.options;var d=g.x||0;var X=g.y||0;this._transform.translate=new W(d,X)},_initSize:function(){var g=this.options;var d=false;if(g.autoSize!==false&&(V(g.width)||V(g.height))){this._measure(true);this._setScale();d=true}if(V(g.x)||V(g.y)){this._setTranslate();d=true}if(d){this._renderTransform()}},_updateSize:function(d){var g=false;if(this.options.autoSize!==false&&this._diffNumericOptions(d,[k,J])){g=true;this._measure(true);this._setScale()}if(this._diffNumericOptions(d,[f,e])){g=true;this._setTranslate()}if(g){this._renderTransform()}return g}};var p=b.extend({init:function(d){var g=this;g.options=R({},g.options,d);g.id=g.options.id;g._originSize=z.empty();g._transform=new U()},visible:function(d){return this.drawingContainer().visible(d)},redraw:function(d){if(d&&d.id){this.id=d.id}},position:function(d,X){var g=this.options;if(!V(d)){return new y(g.x,g.y)}if(V(X)){g.x=d;g.y=X}else{if(d instanceof y){g.x=d.x;g.y=d.y}}this._transform.translate=new W(g.x,g.y);this._renderTransform()},rotate:function(g,d){if(V(g)){this._transform.rotate=new l(g,d.x,d.y);this._renderTransform()}return this._transform.rotate||new l(0)},drawingContainer:function(){return this.drawingElement},_renderTransform:function(){var d=this._transform.toMatrix();this.drawingContainer().transform(new af.Matrix(d.a,d.b,d.c,d.d,d.e,d.f))},_hover:function(){},_diffNumericOptions:r,_measure:function(Y){var X;if(!this._measured||Y){var g=this._boundingBox()||new af.Rect();var d=g.topLeft();X=new z(d.x,d.y,g.width(),g.height());this._originSize=X;this._originWidth=X.width;this._originHeight=X.height;this._measured=true}else{X=this._originSize}return X},_boundingBox:function(){return this.drawingElement.rawBBox()}});var N=p.extend({init:function(d){p.fn.init.call(this,d);d=this.options;d.fill=G(d.fill);d.stroke=G(d.stroke)},options:{stroke:{color:"gray",width:1},fill:{color:F}},fill:function(d,g){this._fill({color:B(d),opacity:g})},stroke:function(d,X,g){this._stroke({color:B(d),width:X,opacity:g})},redraw:function(d){if(d){var X=d.stroke;var g=d.fill;if(X){this._stroke(G(X))}if(g){this._fill(G(g))}p.fn.redraw.call(this,d)}},_hover:function(d){var X=this.drawingElement;var g=this.options;var Y=g.hover;if(Y&&Y.fill){var al=d?G(Y.fill):g.fill;X.fill(al.color,al.opacity)}},_stroke:function(g){var d=this.options;R(d,{stroke:g});g=d.stroke;var X=null;if(g.width>0){X={color:g.color,width:g.width,opacity:g.opacity,dashType:g.dashType}}this.drawingElement.options.set("stroke",X)},_fill:function(d){var g=this.options;R(g,{fill:d});var X=g.fill;this.drawingElement.fill(X.color,X.opacity)}});var ab=N.extend({init:function(d){this._textColor(d);N.fn.init.call(this,d);this._font();this._initText();this._initSize()},options:{fontSize:15,fontFamily:"sans-serif",stroke:{width:0},fill:{color:"black"},autoSize:true},_initText:function(){var d=this.options;this.drawingElement=new ai.Text(V(d.text)?d.text:"",new af.Point(),{fill:d.fill,font:d.font});this._stroke()},_textColor:function(d){if(d&&d.color){R(d,{fill:{color:d.color}})}},_font:function(){var d=this.options;if(d.fontFamily&&V(d.fontSize)){d.font=d.fontSize+"px "+d.fontFamily}else{delete d.font}},content:function(d){return this.drawingElement.content(d)},redraw:function(X){if(X){var d=false;var g=this.options;this._textColor(X);N.fn.redraw.call(this,X);if(X.fontFamily||V(X.fontSize)){R(g,{fontFamily:X.fontFamily,fontSize:X.fontSize});this._font();this.drawingElement.options.set("font",g.font);d=true}if(X.text){this.content(X.text);d=true}if(!this._updateSize(X)&&d){this._initSize()}}}});R(ab.fn,P);var u=N.extend({init:function(d){N.fn.init.call(this,d);this._initPath();this._setPosition()},_setPosition:function(){var g=this.options;var d=g.x;var X=g.y;if(V(d)||V(X)){this.position(d||0,X||0)}},redraw:function(d){if(d){N.fn.redraw.call(this,d);if(this._diffNumericOptions(d,[k,J])){this._drawPath()}if(this._diffNumericOptions(d,[f,e])){this._setPosition()}}},_initPath:function(){var g=this.options;var d=this.drawingElement=new ai.Path({fill:g.fill,stroke:g.stroke,closed:true});this._drawPath()},_drawPath:function(){var g=this.drawingElement;var Y=aj(this.options);var X=Y.width;var d=Y.height;g.segments.elements([A(0,0),A(X,0),A(X,d),A(0,d)])}});var Q=N.extend({init:function(g){N.fn.init.call(this,g);var d=this.options.anchor;this.anchor=new af.Point(d.x,d.y);this.createElement()},options:{stroke:{color:F,width:0},fill:{color:"black"}},_transformToPath:function(d,X){var g=X.transform();if(d&&g){d=d.transformCopy(g)}return d},redraw:function(d){if(d){if(d.position){this.options.position=d.position}N.fn.redraw.call(this,d)}}});var ah=Q.extend({options:{radius:4,anchor:{x:0,y:0}},createElement:function(){var d=this.options;this.drawingElement=new ai.Circle(new af.Circle(this.anchor,d.radius),{fill:d.fill,stroke:d.stroke})},positionMarker:function(am){var Y=this.options;var g=Y.position;var X=am.segments;var al;var d;if(g==I){al=X[0]}else{al=X[X.length-1]}if(al){d=this._transformToPath(al.anchor(),am);this.drawingElement.transform(af.transform().translate(d.x,d.y))}}});var c=Q.extend({options:{path:"M 0 0 L 10 5 L 0 10 L 3 5 z",anchor:{x:10,y:5}},createElement:function(){var d=this.options;this.drawingElement=ai.Path.parse(d.path,{fill:d.fill,stroke:d.stroke})},positionMarker:function(al){var Y=this._linePoints(al);var an=Y.start;var d=Y.end;var X=af.transform();if(an){X.rotate(T(an,d),d)}if(d){var g=this.anchor;var am=d.clone().translate(-g.x,-g.y);X.translate(am.x,am.y)}this.drawingElement.transform(X)},_linePoints:function(ao){var g=this.options;var d=ao.segments;var am,X,al;if(g.position==I){al=d[0];if(al){X=al.anchor();am=al.controlOut();var an=d[1];if(!am&&an){am=an.anchor()}}}else{al=d[d.length-1];if(al){X=al.anchor();am=al.controlIn();var Y=d[d.length-2];if(!am&&Y){am=Y.anchor()}}}if(X){return{start:this._transformToPath(am,ao),end:this._transformToPath(X,ao)}}}});var C={_getPath:function(d){var g=this.drawingElement;if(g instanceof ai.MultiPath){if(d==I){g=g.paths[0]}else{g=g.paths[g.paths.length-1]}}if(g&&g.segments.length){return g}},_normalizeMarkerOptions:function(d){var X=d.startCap;var g=d.endCap;if(q(X)){d.startCap={type:X}}if(q(g)){d.endCap={type:g}}},_removeMarker:function(d){var g=this._markers[d];if(g){this.drawingContainer().remove(g.drawingElement);delete this._markers[d]}},_createMarkers:function(){var d=this.options;this._normalizeMarkerOptions(d);this._markers={};this._markers[I]=this._createMarker(d.startCap,I);this._markers[Z]=this._createMarker(d.endCap,Z)},_createMarker:function(Y,g){var al=(Y||{}).type;var am=this._getPath(g);var d,X;if(!am){this._removeMarker(g);return}if(al==ad.filledCircle){d=ah}else{if(al==ad.arrowStart||al==ad.arrowEnd){d=c}else{this._removeMarker(g)}}if(d){X=new d(R({},Y,{position:g}));X.positionMarker(am);this.drawingContainer().append(X.drawingElement);return X}},_positionMarker:function(d){var g=this._markers[d];if(g){var X=this._getPath(d);if(X){g.positionMarker(X)}else{this._removeMarker(d)}}},_capMap:{start:"startCap",end:"endCap"},_redrawMarker:function(an,g,Y){this._normalizeMarkerOptions(Y);var am=this.options;var al=this._capMap[g];var X=(am[al]||{}).type;var d=Y[al];var ao=false;if(d){am[al]=R({},am[al],d);if(d.type&&X!=d.type){this._removeMarker(g);this._markers[g]=this._createMarker(am[al],g);ao=true}else{if(this._markers[g]){this._markers[g].redraw(d)}}}else{if(an&&!this._markers[g]&&am[al]){this._markers[g]=this._createMarker(am[al],g);ao=true}}return ao},_redrawMarkers:function(g,d){if(!this._redrawMarker(g,I,d)&&g){this._positionMarker(I)}if(!this._redrawMarker(g,Z,d)&&g){this._positionMarker(Z)}}};var O=N.extend({init:function(d){N.fn.init.call(this,d);this.container=new ai.Group();this._createElements();this._initSize()},options:{autoSize:true},drawingContainer:function(){return this.container},data:function(g){var d=this.options;if(g){if(d.data!=g){d.data=g;this._setData(g);this._initSize();this._redrawMarkers(true,{})}}else{return d.data}},redraw:function(d){if(d){N.fn.redraw.call(this,d);var g=this.options;var X=d.data;if(V(X)&&g.data!=X){g.data=X;this._setData(X);if(!this._updateSize(d)){this._initSize()}this._redrawMarkers(true,d)}else{this._updateSize(d);this._redrawMarkers(false,d)}}},_createElements:function(){var d=this.options;this.drawingElement=ai.Path.parse(d.data||"",{fill:d.fill,stroke:d.stroke});this.container.append(this.drawingElement);this._createMarkers()},_setData:function(X){var d=this.drawingElement;var g=ai.Path.parse(X||"");var Y=g.paths.slice(0);g.paths.elements([]);d.paths.elements(Y)}});R(O.fn,P);R(O.fn,C);var h=N.extend({init:function(d){N.fn.init.call(this,d);this.container=new ai.Group();this._initPath();this._createMarkers()},drawingContainer:function(){return this.container},redraw:function(d){if(d){d=d||{};var X=d.from;var g=d.to;if(X){this.options.from=X}if(g){this.options.to=g}if(X||g){this._drawPath();this._redrawMarkers(true,d)}else{this._redrawMarkers(false,d)}N.fn.redraw.call(this,d)}},_initPath:function(){var g=this.options;var d=this.drawingElement=new ai.Path({fill:g.fill,stroke:g.stroke});this._drawPath();this.container.append(d)},_drawPath:function(){var g=this.options;var d=this.drawingElement;var Y=g.from||new y();var X=g.to||new y();d.segments.elements([A(Y.x,Y.y),A(X.x,X.y)])}});R(h.fn,C);var v=N.extend({init:function(d){N.fn.init.call(this,d);this.container=new ai.Group();this._initPath();this._createMarkers()},drawingContainer:function(){return this.container},points:function(g){var d=this.options;if(g){d.points=g;this._updatePath()}else{return d.points}},redraw:function(d){if(d){var g=d.points;N.fn.redraw.call(this,d);if(g&&this._pointsDiffer(g)){this.points(g);this._redrawMarkers(true,d)}else{this._redrawMarkers(false,d)}}},_initPath:function(){var d=this.options;this.drawingElement=new ai.Path({fill:d.fill,stroke:d.stroke});this.container.append(this.drawingElement);if(d.points){this._updatePath()}},_pointsDiffer:function(Y){var X=this.options.points;var g=X.length!==Y.length;if(!g){for(var d=0;d<Y.length;d++){if(X[d].x!==Y[d].x||X[d].y!==Y[d].y){g=true;break}}}return g},_updatePath:function(){var Y=this.drawingElement;var X=this.options;var am=X.points;var g=[];var d;for(var al=0;al<am.length;al++){d=am[al];g.push(A(d.x,d.y))}Y.segments.elements(g)},options:{points:[]}});R(v.fn,C);var ac=p.extend({init:function(d){p.fn.init.call(this,d);this._initImage()},redraw:function(d){if(d){if(d.source){this.drawingElement.src(d.source)}if(this._diffNumericOptions(d,[k,J,f,e])){this.drawingElement.rect(this._rect())}p.fn.redraw.call(this,d)}},_initImage:function(){var d=this.options;var g=this._rect();this.drawingElement=new ai.Image(d.source,g,{})},_rect:function(){var X=aj(this.options);var d=new af.Point(X.x,X.y);var g=new af.Size(X.width,X.height);return new af.Rect(d,g)}});var m=p.extend({init:function(d){this.children=[];p.fn.init.call(this,d);this.drawingElement=new ai.Group();this._initSize()},options:{autoSize:false},append:function(d){this.drawingElement.append(d.drawingContainer());this.children.push(d);this._childrenChange=true},remove:function(d){if(this._remove(d)){this._childrenChange=true}},_remove:function(g){var d=ae(g,this.children);if(d>=0){this.drawingElement.removeAt(d);this.children.splice(d,1);return true}},clear:function(){this.drawingElement.clear();this.children=[];this._childrenChange=true},toFront:function(X){var g;for(var d=0;d<X.length;d++){g=X[d];if(this._remove(g)){this.append(g)}}},toBack:function(d){this._reorderChildren(d,0)},toIndex:function(d,g){this._reorderChildren(d,g)},_reorderChildren:function(X,ar){var aq=this.drawingElement;var am=aq.children.slice(0);var g=this.children;var ao=ak(ar);var al,ap,Y,an,d;for(al=0;al<X.length;al++){d=X[al];an=d.drawingContainer();ap=ae(d,g);if(ap>=0){am.splice(ap,1);g.splice(ap,1);Y=ao?ar:ar[al];am.splice(Y,0,an);g.splice(Y,0,d)}}aq.clear();aq.append.apply(aq,am)},redraw:function(d){if(d){if(this._childrenChange){this._childrenChange=false;if(!this._updateSize(d)){this._initSize()}}else{this._updateSize(d)}p.fn.redraw.call(this,d)}},_boundingBox:function(){var Y=this.children;var d;var al,X;for(var g=0;g<Y.length;g++){al=Y[g];if(al.visible()&&al._includeInBBox!==false){X=al.drawingContainer().clippedBBox(null);if(X){if(d){d=z.union(d,X)}else{d=X}}}}return d}});R(m.fn,P);var aa=N.extend({init:function(d){N.fn.init.call(this,d);this._initCircle();this._initSize()},redraw:function(d){if(d){var g=this.options;if(d.center){R(g,{center:d.center});this._center.move(g.center.x,g.center.y)}if(this._diffNumericOptions(d,["radius"])){this._circle.setRadius(g.radius)}this._updateSize(d);N.fn.redraw.call(this,d)}},_initCircle:function(){var Y=this.options;var al=Y.width;var X=Y.height;var g=Y.radius;if(!V(g)){if(!V(al)){al=X}if(!V(X)){X=al}Y.radius=g=Math.min(al,X)/2}var d=Y.center||{x:g,y:g};this._center=new af.Point(d.x,d.y);this._circle=new af.Circle(this._center,g);this.drawingElement=new ai.Circle(this._circle,{fill:Y.fill,stroke:Y.stroke})}});R(aa.fn,P);var L=b.extend({init:function(g,d){d=d||{};this.element=g;this.surface=ai.Surface.create(g,d);if(M.isFunction(this.surface.translate)){this.translate=this._translate}this.drawingElement=new ai.Group();this._viewBox=new z(0,0,d.width,d.height);this.size(this._viewBox)},bounds:function(){var d=this.drawingElement.clippedBBox();return new z(0,0,d.width(),d.height())},size:function(d){var g=this._viewBox;if(V(d)){g.width=d.width;g.height=d.height;this.surface.setSize(d)}return{width:g.width,height:g.height}},_translate:function(d,X){var g=this._viewBox;if(V(d)&&V(X)){g.x=d;g.y=X;this.surface.translate({x:d,y:X})}return{x:g.x,y:g.y}},draw:function(){this.surface.draw(this.drawingElement)},append:function(d){this.drawingElement.append(d.drawingContainer());return this},remove:function(d){this.drawingElement.remove(d.drawingContainer())},insertBefore:function(g,d){},clear:function(){this.drawingElement.clear()},destroy:function(d){this.surface.destroy();if(d){K(this.element).remove()}}});function aj(d){return{x:d.x||0,y:d.y||0,width:d.width||0,height:d.height||0}}function G(g){if(g){var d=g;if(q(d)){d={color:d}}if(d.color){d.color=B(d.color)}return d}}function B(g){var d;if(g!=F){d=new ai.Color(g).toHex()}else{d=g}return d}function T(Y,g){var al=g.x-Y.x;var d=g.y-Y.y;var X=M.util.deg(Math.atan2(d,al));return X}function r(Y,g){var X=this.options;var d=false;var am,an;for(var al=0;al<g.length;al++){an=g[al];am=Y[an];if(ak(am)&&X[an]!==am){X[an]=am;d=true}}return d}function A(d,g){return new ai.Segment(new af.Point(d,g))}M.deepExtend(n,{init:function(d){M.init(d,n.ui)},diffNumericOptions:r,Element:p,Scale:w,Translation:W,Rotation:l,Circle:aa,Group:m,Rectangle:u,Canvas:L,Path:O,Line:h,MarkerBase:Q,ArrowMarker:c,CircleMarker:ah,Polyline:v,CompositeTransform:U,TextBlock:ab,Image:ac,VisualBase:N})})(window.kendo.jQuery);(function(au,z){var x=window.kendo,aj=x.dataviz,l=aj.diagram,aA=x.Class,ad=l.Group,P=l.TextBlock,E=l.Rect,D=l.Rectangle,ai=l.Utils,Q=ai.isUndefined,k=l.Point,af=l.Circle,an=l.Path,X=l.Ticker,aF=x.deepExtend,aq=x.ui.Movable,aw=x.support.browser,m=x.util.defined,C=au.proxy;var w={arrow:"default",grip:"pointer",cross:"pointer",add:"pointer",move:"move",select:"pointer",south:"s-resize",east:"e-resize",west:"w-resize",north:"n-resize",rowresize:"row-resize",colresize:"col-resize"},f=10,aJ="Auto",t="Top",q="Right",d="Left",av="Bottom",v=[t,q,av,d,aJ],r=10,L=10,W="itemRotate",o="itemBoundsChange",aa=5,aH=5,n="mouseEnter",O="mouseLeave",H="zoomStart",j="zoomEnd",at=-20000,h=20000,U=0.9,V=0.93,ag=5,ao="transparent",Y="pan",M="rotated",I="width",ay="height";l.Cursors=w;function u(aK,aL){if(aK.isSelected){if(aL.ctrlKey){aK.select(false)}}else{aK.diagram.select(aK,{addToSelection:aL.ctrlKey})}}var ae=x.Class.extend({init:function(aK){this.layoutState=aK;this.diagram=aK.diagram},initState:function(){this.froms=[];this.tos=[];this.subjects=[];function aK(aN,aM){var aL=this.diagram.getShapeById(aN);if(aL){this.subjects.push(aL);this.froms.push(aL.bounds().topLeft());this.tos.push(aM.topLeft())}}this.layoutState.nodeMap.forEach(aK,this)},update:function(aL){if(this.subjects.length<=0){return}for(var aK=0;aK<this.subjects.length;aK++){this.subjects[aK].position(new k(this.froms[aK].x+(this.tos[aK].x-this.froms[aK].x)*aL,this.froms[aK].y+(this.tos[aK].y-this.froms[aK].y)*aL))}}});var ab=aA.extend({init:function(aK,aM,aL){if(Q(aL)){this.animate=false}else{this.animate=aL}this._initialState=aK;this._finalState=aM;this.title="Diagram layout"},undo:function(){this.setState(this._initialState)},redo:function(){this.setState(this._finalState)},setState:function(aL){var aK=aL.diagram;if(this.animate){aL.linkMap.forEach(function(aP,aN){var aO=aK.getShapeById(aP);aO.visible(false);if(aO){aO.points(aN)}});var aM=new X();aM.addAdapter(new ae(aL));aM.onComplete(function(){aL.linkMap.forEach(function(aO){var aN=aK.getShapeById(aO);aN.visible(true)})});aM.play()}else{aL.nodeMap.forEach(function(aP,aO){var aN=aK.getShapeById(aP);if(aN){aN.position(aO.topLeft())}});aL.linkMap.forEach(function(aP,aN){var aO=aK.getShapeById(aP);if(aO){aO.points(aN)}})}}});var ap=aA.extend({init:function(aK){this.units=[];this.title="Composite unit";if(aK!==z){this.units.push(aK)}},add:function(aK){this.units.push(aK)},undo:function(){for(var aK=0;aK<this.units.length;aK++){this.units[aK].undo()}},redo:function(){for(var aK=0;aK<this.units.length;aK++){this.units[aK].redo()}}});var F=aA.extend({init:function(aK,aL,aM){this.item=aK;this._redoSource=aL;this._redoTarget=aM;if(m(aL)){this._undoSource=aK.source()}if(m(aM)){this._undoTarget=aK.target()}this.title="Connection Editing"},undo:function(){if(this._undoSource!==z){this.item._updateConnector(this._undoSource,"source")}if(this._undoTarget!==z){this.item._updateConnector(this._undoTarget,"target")}this.item.updateModel()},redo:function(){if(this._redoSource!==z){this.item._updateConnector(this._redoSource,"source")}if(this._redoTarget!==z){this.item._updateConnector(this._redoTarget,"target")}this.item.updateModel()}});var e=aA.extend({init:function(aM,aK,aL){this.item=aM;this._undoSource=aK;this._undoTarget=aL;this._redoSource=aM.source();this._redoTarget=aM.target();this.title="Connection Editing"},undo:function(){this.item._updateConnector(this._undoSource,"source");this.item._updateConnector(this._undoTarget,"target");this.item.updateModel()},redo:function(){this.item._updateConnector(this._redoSource,"source");this.item._updateConnector(this._redoTarget,"target");this.item.updateModel()}});var aD=aA.extend({init:function(aK){this.connection=aK;this.diagram=aK.diagram;this.targetConnector=aK.targetConnector;this.title="Delete connection"},undo:function(){this.diagram._addConnection(this.connection,false)},redo:function(){this.diagram.remove(this.connection,false)}});var Z=aA.extend({init:function(aK){this.shape=aK;this.diagram=aK.diagram;this.title="Deletion"},undo:function(){this.diagram._addShape(this.shape,false);this.shape.select(false)},redo:function(){this.shape.select(false);this.diagram.remove(this.shape,false)}});var ac=aA.extend({init:function(aK,aO,aN){this.shapes=aK;this.undoStates=aO;this.title="Transformation";this.redoStates=[];this.adorner=aN;for(var aM=0;aM<this.shapes.length;aM++){var aL=this.shapes[aM];this.redoStates.push(aL.bounds())}},undo:function(){for(var aL=0;aL<this.shapes.length;aL++){var aK=this.shapes[aL];aK.bounds(this.undoStates[aL]);if(aK.hasOwnProperty("layout")){aK.layout(aK,this.redoStates[aL],this.undoStates[aL])}aK.updateModel()}if(this.adorner){this.adorner.refreshBounds();this.adorner.refresh()}},redo:function(){for(var aL=0;aL<this.shapes.length;aL++){var aK=this.shapes[aL];aK.bounds(this.redoStates[aL]);if(aK.hasOwnProperty("layout")){aK.layout(aK,this.undoStates[aL],this.redoStates[aL])}aK.updateModel()}if(this.adorner){this.adorner.refreshBounds();this.adorner.refresh()}}});var aI=aA.extend({init:function(aK,aL){this.connection=aK;this.diagram=aL;this.title="New connection"},undo:function(){this.diagram.remove(this.connection,false)},redo:function(){this.diagram._addConnection(this.connection,false)}});var ah=aA.extend({init:function(aK,aL){this.shape=aK;this.diagram=aL;this.title="New shape"},undo:function(){this.diagram.deselect();this.diagram.remove(this.shape,false)},redo:function(){this.diagram._addShape(this.shape,false)}});var B=aA.extend({init:function(aK,aM,aL){this.initial=aK;this.finalPos=aM;this.diagram=aL;this.title="Pan Unit"},undo:function(){this.diagram.pan(this.initial)},redo:function(){this.diagram.pan(this.finalPos)}});var N=aA.extend({init:function(aO,aK,aM){this.shapes=aK;this.undoRotates=aM;this.title="Rotation";this.redoRotates=[];this.redoAngle=aO._angle;this.adorner=aO;this.center=aO._innerBounds.center();for(var aN=0;aN<this.shapes.length;aN++){var aL=this.shapes[aN];this.redoRotates.push(aL.rotate().angle)}},undo:function(){var aL,aK;for(aL=0;aL<this.shapes.length;aL++){aK=this.shapes[aL];aK.rotate(this.undoRotates[aL],this.center,false);if(aK.hasOwnProperty("layout")){aK.layout(aK)}aK.updateModel()}if(this.adorner){this.adorner._initialize();this.adorner.refresh()}},redo:function(){var aL,aK;for(aL=0;aL<this.shapes.length;aL++){aK=this.shapes[aL];aK.rotate(this.redoRotates[aL],this.center,false);if(aK.hasOwnProperty("layout")){aK.layout(aK)}aK.updateModel()}if(this.adorner){this.adorner._initialize();this.adorner.refresh()}}});var S=aA.extend({init:function(aL,aK,aM){this.diagram=aL;this.indices=aM;this.items=aK;this.title="Rotate Unit"},undo:function(){this.diagram._toIndex(this.items,this.indices)},redo:function(){this.diagram.toFront(this.items,false)}});var K=aA.extend({init:function(aL,aK,aM){this.diagram=aL;this.indices=aM;this.items=aK;this.title="Rotate Unit"},undo:function(){this.diagram._toIndex(this.items,this.indices)},redo:function(){this.diagram.toBack(this.items,false)}});var aE=x.Observable.extend({init:function(aK){x.Observable.fn.init.call(this,aK);this.bind(this.events,aK);this.stack=[];this.index=0;this.capacity=100},events:["undone","redone"],begin:function(){this.composite=new ap()},cancel:function(){this.composite=z},commit:function(aK){if(this.composite.units.length>0){this._restart(this.composite,aK)}this.composite=z},addCompositeItem:function(aK){if(this.composite){this.composite.add(aK)}else{this.add(aK)}},add:function(aK,aL){this._restart(aK,aL)},count:function(){return this.stack.length},undo:function(){if(this.index>0){this.index--;this.stack[this.index].undo();this.trigger("undone")}},redo:function(){if(this.stack.length>0&&this.index<this.stack.length){this.stack[this.index].redo();this.index++;this.trigger("redone")}},_restart:function(aL,aK){this.stack.splice(this.index,this.stack.length-this.index);this.stack.push(aL);if(aK!==false){this.redo()}else{this.index++}if(this.stack.length>this.capacity){this.stack.splice(0,this.stack.length-this.capacity);this.index=this.capacity}},clear:function(){this.stack=[];this.index=0}});var ak=aA.extend({init:function(aK){this.toolService=aK},start:function(){},move:function(){},end:function(){},tryActivate:function(aL,aK){return false},getCursor:function(){return w.arrow}});function ar(aK){return aK.ctrlKey===false&&aK.altKey===false&&aK.shiftKey===false}function y(aL,aM){var aK=aL!==false;if(aL.key&&aL.key!="none"){aK=aM[aL.key+"Key"]}return aK}var ax=ak.extend({init:function(aO){var aN=this;var aQ=x.support.mobileOS?V:U;ak.fn.init.call(aN,aO);var aM=aN.toolService.diagram,aL=aM.canvas;var aK=aM.scroller=aN.scroller=au(aM.scrollable).kendoMobileScroller({friction:aQ,velocityMultiplier:ag,mousewheelScrolling:false,zoom:false,scroll:C(aN._move,aN)}).data("kendoMobileScroller");if(aL.translate){aN.movableCanvas=new aq(aL.element)}var aP=function(aT,aS,aR){aT.makeVirtual();aT.virtualSize(aS||at,aR||h)};aP(aK.dimensions.x);aP(aK.dimensions.y);aK.disable()},tryActivate:function(aO,aN){var aM=this.toolService;var aL=aM.diagram.options.pannable;var aK=aN.ctrlKey;if(m(aL.key)){if(!aL.key||aL.key=="none"){aK=ar(aN)}else{aK=aN[aL.key+"Key"]&&!(aN.ctrlKey&&m(aM.hoveredItem))}}return aL!==false&&aK&&!m(aM.hoveredAdorner)&&!m(aM._hoveredConnector)},start:function(){this.scroller.enable()},move:function(){},_move:function(aN){var aM=this,aL=aM.toolService.diagram,aK=aL.canvas,aO=new k(aN.scrollLeft,aN.scrollTop);if(aK.translate){aL._storePan(aO.times(-1));aM.movableCanvas.moveTo(aO);aK.translate(aO.x,aO.y)}else{aO=aO.plus(aL._pan.times(-1))}aL.trigger(Y,{pan:aO})},end:function(){this.scroller.disable()},getCursor:function(){return w.move}});var T=aA.extend({init:function(aK){this.toolService=aK},tryActivate:function(aL,aK){return true},start:function(aO,aN){var aM=this.toolService,aL=aM.diagram,aP=aM.hoveredItem,aK=aL.options.selectable;if(aP){if(y(aK,aN)){u(aP,aN)}if(aP.adorner){this.adorner=aP.adorner;this.handle=this.adorner._hitTest(aO)}}if(!this.handle){this.handle=aL._resizingAdorner._hitTest(aO);if(this.handle){this.adorner=aL._resizingAdorner}}if(this.adorner){this.adorner.start(aO)}},move:function(aL){var aK=this;if(this.adorner){this.adorner.move(aK.handle,aL)}},end:function(aO,aN){var aL=this.toolService.diagram,aK=this.toolService,aM;if(this.adorner){aM=this.adorner.stop();if(aM){aL.undoRedoService.add(aM,false)}}if(aK.hoveredItem){this.toolService.triggerClick({item:aK.hoveredItem,point:aO,meta:aN})}this.adorner=z;this.handle=z},getCursor:function(aK){return this.toolService.hoveredItem?this.toolService.hoveredItem._getCursor(aK):w.arrow}});var p=aA.extend({init:function(aK){this.toolService=aK},tryActivate:function(aN,aM){var aL=this.toolService;var aK=y(aL.diagram.options.selectable,aM);return aK&&!m(aL.hoveredItem)&&!m(aL.hoveredAdorner)},start:function(aL){var aK=this.toolService.diagram;aK.deselect();aK.selector.start(aL)},move:function(aL){var aK=this.toolService.diagram;aK.selector.move(aL)},end:function(aN,aM){var aK=this.toolService.diagram,aO=this.toolService.hoveredItem;var aL=aK.selector.bounds();if((!aO||!aO.isSelected)&&!aM.ctrlKey){aK.deselect()}if(!aL.isEmpty()){aK.selectArea(aL)}aK.selector.end()},getCursor:function(){return w.arrow}});var al=aA.extend({init:function(aK){this.toolService=aK;this.type="ConnectionTool"},tryActivate:function(aL,aK){return this.toolService._hoveredConnector},start:function(aO,aN){var aM=this.toolService.diagram,aK=this.toolService._hoveredConnector,aL=aM._createConnection({},aK._c,aO);if(aM._addConnection(aL)){this.toolService._connectionManipulation(aL,aK._c.shape,true);this.toolService._removeHover();u(this.toolService.activeConnection,aN)}else{aL.source(null);this.toolService.end()}},move:function(aK){this.toolService.activeConnection.target(aK);return true},end:function(aN){var aL=this.toolService.activeConnection,aO=this.toolService.hoveredItem,aK=this.toolService._hoveredConnector,aM;if(!aL){return}if(aK&&aK._c!=aL.sourceConnector){aM=aK._c}else{if(aO&&aO instanceof l.Shape){aM=aO.getConnector(aJ)||aO.getConnector(aN)}else{aM=aN}}aL.target(aM);aL.updateModel(true);this.toolService._connectionManipulation()},getCursor:function(){return w.arrow}});var G=aA.extend({init:function(aK){this.toolService=aK;this.type="ConnectionTool"},tryActivate:function(aQ,aP){var aO=this.toolService,aL=aO.diagram,aK=aL.options.selectable,aN=aO.hoveredItem,aM=y(aK,aP)&&aN&&aN.path&&!(aN.isSelected&&aP.ctrlKey);if(aM){this._c=aN}return aM},start:function(aM,aL){u(this._c,aL);var aK=this._c.adorner;if(aK){this.handle=aK._hitTest(aM);aK.start(aM)}},move:function(aL){var aK=this._c.adorner;if(aK){aK.move(this.handle,aL);return true}},end:function(aN,aM){var aK=this._c.adorner;if(aK){this.toolService.triggerClick({item:this._c,point:aN,meta:aM});var aL=aK.stop(aN);this.toolService.diagram.undoRedoService.add(aL,false)}},getCursor:function(){return w.move}});function c(aK,aL){return aL.charCodeAt(0)==aK||aL.toUpperCase().charCodeAt(0)==aK}var aC=aA.extend({init:function(aK){this.diagram=aK;this.tools=[new ax(this),new G(this),new al(this),new p(this),new T(this)];this.activeTool=z},start:function(aL,aK){aK=aF({},aK);if(this.activeTool){this.activeTool.end(aL,aK)}this._updateHoveredItem(aL);this._activateTool(aL,aK);this.activeTool.start(aL,aK);this._updateCursor(aL);this.diagram.focus();this.startPoint=aL;return true},move:function(aM,aL){aL=aF({},aL);var aK=true;if(this.activeTool){aK=this.activeTool.move(aM,aL)}if(aK){this._updateHoveredItem(aM)}this._updateCursor(aM);return true},end:function(aL,aK){aK=aF({},aK);if(this.activeTool){this.activeTool.end(aL,aK)}this.activeTool=z;this._updateCursor(aL);return true},keyDown:function(aL,aN){var aK=this.diagram;aN=aF({ctrlKey:false,metaKey:false,altKey:false},aN);if((aN.ctrlKey||aN.metaKey)&&!aN.altKey){if(c(aL,"a")){aK.selectAll();aK._destroyToolBar();return true}else{if(c(aL,"z")){aK.undo();aK._destroyToolBar();return true}else{if(c(aL,"y")){aK.redo();aK._destroyToolBar();return true}else{if(c(aL,"c")){aK.copy();aK._destroyToolBar()}else{if(c(aL,"x")){aK.cut();aK._destroyToolBar()}else{if(c(aL,"v")){aK.paste();aK._destroyToolBar()}else{if(c(aL,"l")){aK.layout();aK._destroyToolBar()}else{if(c(aL,"d")){aK._destroyToolBar();aK.copy();aK.paste()}}}}}}}}}else{if(aL===46||aL===8){var aM=this.diagram._triggerRemove(aK.select());if(aM.length){this.diagram.remove(aM,true);this.diagram._syncChanges();this.diagram._destroyToolBar()}return true}else{if(aL===27){this._discardNewConnection();aK.deselect();aK._destroyToolBar();return true}}}},wheel:function(aP,aO){var aM=this.diagram,aR=aO.delta,aQ=aM.zoom(),aL=aM.options,aK=aL.zoomRate,aN={point:aP,meta:aO,zoom:aQ};if(aM.trigger(H,aN)){return}if(aR<0){aQ+=aK}else{aQ-=aK}aQ=x.dataviz.round(Math.max(aL.zoomMin,Math.min(aL.zoomMax,aQ)),2);aN.zoom=aQ;aM.zoom(aQ,aN);aM.trigger(j,aN);return true},setTool:function(aL,aK){aL.toolService=this;this.tools[aK]=aL},triggerClick:function(aK){if(this.startPoint.equals(aK.point)){this.diagram.trigger("click",aK)}},_discardNewConnection:function(){if(this.newConnection){this.diagram.remove(this.newConnection);this.newConnection=z}},_activateTool:function(aN,aM){for(var aL=0;aL<this.tools.length;aL++){var aK=this.tools[aL];if(aK.tryActivate(aN,aM)){this.activeTool=aK;break}}},_updateCursor:function(aL){var aK=this.diagram.element;var aM=this.activeTool?this.activeTool.getCursor(aL):(this.hoveredAdorner?this.hoveredAdorner._getCursor(aL):(this.hoveredItem?this.hoveredItem._getCursor(aL):w.arrow));aK.css({cursor:aM});if(aw.msie&&aw.version==7){aK[0].style.cssText=aK[0].style.cssText}},_connectionManipulation:function(aL,aM,aK){this.activeConnection=aL;this.disabledShape=aM;if(aK){this.newConnection=this.activeConnection}else{this.newConnection=z}},_updateHoveredItem:function(aM){var aL=this._hitTest(aM);var aK=this.diagram;if(aL!=this.hoveredItem&&(!this.disabledShape||aL!=this.disabledShape)){if(this.hoveredItem){aK.trigger(O,{item:this.hoveredItem});this.hoveredItem._hover(false)}if(aL&&aL.options.enable){aK.trigger(n,{item:aL});this.hoveredItem=aL;this.hoveredItem._hover(true)}else{this.hoveredItem=z}}},_removeHover:function(){if(this.hoveredItem){this.hoveredItem._hover(false);this.hoveredItem=z}},_hitTest:function(aL){var aO,aP=this.diagram,aN,aM;if(this._hoveredConnector){this._hoveredConnector._hover(false);this._hoveredConnector=z}if(aP._connectorsAdorner._visible){aO=aP._connectorsAdorner._hitTest(aL);if(aO){return aO}}aO=this.diagram._resizingAdorner._hitTest(aL);if(aO){this.hoveredAdorner=aP._resizingAdorner;if(aO.x!==0||aO.y!==0){return}aO=z}else{this.hoveredAdorner=z}if(!this.activeTool||this.activeTool.type!=="ConnectionTool"){var aK=[];for(aM=0;aM<aP._selectedItems.length;aM++){aN=aP._selectedItems[aM];if(aN instanceof l.Connection){aK.push(aN)}}aO=this._hitTestItems(aK,aL)}return aO||this._hitTestItems(aP.shapes,aL)||this._hitTestItems(aP.connections,aL)},_hitTestItems:function(aO,aK){var aL,aM,aN;for(aL=aO.length-1;aL>=0;aL--){aM=aO[aL];aN=aM._hitTest(aK);if(aN){return aN}}}});var b=x.Class.extend({init:function(){}});var g=b.extend({init:function(aK){var aL=this;b.fn.init.call(aL);this.connection=aK},hitTest:function(aK){var aL=this.getBounds().inflate(10);if(!aL.contains(aK)){return false}return l.Geometry.distanceToPolyline(aK,this.connection.allPoints())<f},getBounds:function(){var aO=this.connection.allPoints(),aN=aO[0],aR=aO[aO.length-1],aM=Math.max(aN.x,aR.x),aQ=Math.min(aN.x,aR.x),aP=Math.min(aN.y,aR.y),aK=Math.max(aN.y,aR.y);for(var aL=1;aL<aO.length-1;++aL){aM=Math.max(aM,aO[aL].x);aQ=Math.min(aQ,aO[aL].x);aP=Math.min(aP,aO[aL].y);aK=Math.max(aK,aO[aL].y)}return new E(aQ,aP,aM-aQ,aK-aP)}});var A=g.extend({init:function(aK){var aL=this;g.fn.init.call(aL);this.connection=aK},route:function(){}});var aG=g.extend({SAME_SIDE_DISTANCE_RATIO:5,init:function(aK){var aL=this;g.fn.init.call(aL);this.connection=aK},routePoints:function(aO,aL,aN,aM){var aK;if(aN&&aM){aK=this._connectorPoints(aO,aL,aN,aM)}else{aK=this._floatingPoints(aO,aL,aN)}return aK},route:function(){var aN=this.connection._resolvedSourceConnector;var aM=this.connection._resolvedTargetConnector;var aO=this.connection.sourcePoint();var aK=this.connection.targetPoint();var aL=this.routePoints(aO,aK,aN,aM);this.connection.points(aL)},_connectorSides:[{name:"Top",axis:"y",boundsPoint:"topLeft",secondarySign:1},{name:"Left",axis:"x",boundsPoint:"topLeft",secondarySign:1},{name:"Bottom",axis:"y",boundsPoint:"bottomRight",secondarySign:-1},{name:"Right",axis:"x",boundsPoint:"bottomRight",secondarySign:-1}],_connectorSide:function(aN,aP){var aQ=aN.position();var aR=aN.shape.bounds(M);var aK={topLeft:aR.topLeft(),bottomRight:aR.bottomRight()};var aL=this._connectorSides;var aO=x.util.MAX_NUM;var aV;var aT;var aM;var aS;for(var aU=0;aU<aL.length;aU++){aS=aL[aU];aM=aS.axis;aV=Math.round(Math.abs(aQ[aM]-aK[aS.boundsPoint][aM]));if(aV<aO){aO=aV;aT=aS}else{if(aV===aO&&(aQ[aM]-aP[aM])*aS.secondarySign>(aQ[aT.axis]-aP[aT.axis])*aT.secondarySign){aT=aS}}}return aT.name},_sameSideDistance:function(aK){var aL=aK.shape.bounds(M);return Math.min(aL.width,aL.height)/this.SAME_SIDE_DISTANCE_RATIO},_connectorPoints:function(aM,aO,aL,aS){var aR=this._connectorSide(aL,aO);var aT=this._connectorSide(aS,aM);var aQ=aO.x-aM.x;var aP=aO.y-aM.y;var aN=this._sameSideDistance(aL);var aV=[];var aK,aU;if(aR===t||aR==av){if(aT==t||aT==av){if(aR==aT){if(aR==t){aU=Math.min(aM.y,aO.y)-aN}else{aU=Math.max(aM.y,aO.y)+aN}aV=[new k(aM.x,aU),new k(aO.x,aU)]}else{aV=[new k(aM.x,aM.y+aP/2),new k(aO.x,aM.y+aP/2)]}}else{aV=[new k(aM.x,aO.y)]}}else{if(aT==d||aT==q){if(aR==aT){if(aR==d){aK=Math.min(aM.x,aO.x)-aN}else{aK=Math.max(aM.x,aO.x)+aN}aV=[new k(aK,aM.y),new k(aK,aO.y)]}else{aV=[new k(aM.x+aQ/2,aM.y),new k(aM.x+aQ/2,aM.y+aP)]}}else{aV=[new k(aO.x,aM.y)]}}return aV},_floatingPoints:function(aL,aN,aK){var aQ=aK?this._connectorSide(aK,aN):null;var aV=this._startHorizontal(aL,aN,aQ);var aU=[aL,aL,aN,aN];var aP=aN.x-aL.x;var aO=aN.y-aL.y;var aM=aU.length;var aT;var aR;for(var aS=1;aS<aM-1;++aS){if(aV){if(aS%2!==0){aT=aP/(aM/2);aR=0}else{aT=0;aR=aO/((aM-1)/2)}}else{if(aS%2!==0){aT=0;aR=aO/(aM/2)}else{aT=aP/((aM-1)/2);aR=0}}aU[aS]=new k(aU[aS-1].x+aT,aU[aS-1].y+aR)}aS--;if((aV&&(aS%2!==0))||(!aV&&(aS%2===0))){aU[aM-2]=new k(aU[aM-1].x,aU[aM-2].y)}else{aU[aM-2]=new k(aU[aM-2].x,aU[aM-1].y)}return[aU[1],aU[2]]},_startHorizontal:function(aN,aL,aM){var aK;if(aM!==null&&(aM===q||aM===d)){aK=true}else{aK=Math.abs(aN.x-aL.x)>Math.abs(aN.y-aL.y)}return aK}});var aB=aA.extend({init:function(aL,aK){var aM=this;aM.diagram=aL;aM.options=aF({},aM.options,aK);aM.visual=new ad();aM.diagram._adorners.push(aM)},refresh:function(){}});var J=aB.extend({init:function(aK,aM){var aN=this,aL;aN.connection=aK;aL=aN.connection.diagram;aN._ts=aL.toolService;aB.fn.init.call(aN,aL,aM);var aO=aN.connection.sourcePoint();var aP=aN.connection.targetPoint();aN.spVisual=new af(aF(aN.options.handles,{center:aO}));aN.epVisual=new af(aF(aN.options.handles,{center:aP}));aN.visual.append(aN.spVisual);aN.visual.append(aN.epVisual)},options:{handles:{}},_getCursor:function(){return w.move},start:function(aK){this.handle=this._hitTest(aK);this.startPoint=aK;this._initialSource=this.connection.source();this._initialTarget=this.connection.target();switch(this.handle){case -1:if(this.connection.targetConnector){this._ts._connectionManipulation(this.connection,this.connection.targetConnector.shape)}break;case 1:if(this.connection.sourceConnector){this._ts._connectionManipulation(this.connection,this.connection.sourceConnector.shape)}break}},move:function(aK,aL){switch(aK){case -1:this.connection.source(aL);break;case 1:this.connection.target(aL);break;default:var aM=aL.minus(this.startPoint);this.startPoint=aL;if(!this.connection.sourceConnector){this.connection.source(this.connection.sourcePoint().plus(aM))}if(!this.connection.targetConnector){this.connection.target(this.connection.targetPoint().plus(aM))}break}this.refresh();return true},stop:function(aN){var aL=this.diagram.toolService,aK=aL.hoveredItem,aM;if(aL._hoveredConnector){aM=aL._hoveredConnector._c}else{if(aK&&aK instanceof l.Shape){aM=aK.getConnector(aJ)||aK.getConnector(aN)}else{aM=aN}}if(this.handle===-1){this.connection.source(aM)}else{if(this.handle===1){this.connection.target(aM)}}this.connection.updateModel(true);this.handle=z;this._ts._connectionManipulation();return new e(this.connection,this._initialSource,this._initialTarget)},_hitTest:function(aO){var aM=this.connection.sourcePoint(),aP=this.connection.targetPoint(),aN=this.options.handles.width/2,aL=this.options.handles.height/2,aQ=new E(aM.x,aM.y).inflate(aN,aL),aK=new E(aP.x,aP.y).inflate(aN,aL);return aQ.contains(aO)?-1:(aK.contains(aO)?1:0)},refresh:function(){this.spVisual.redraw({center:this.diagram.modelToLayer(this.connection.sourcePoint())});this.epVisual.redraw({center:this.diagram.modelToLayer(this.connection.targetPoint())})}});var R=aB.extend({init:function(aL,aK){var aM=this;aB.fn.init.call(aM,aL,aK);aM._refreshHandler=function(aN){if(aN.item==aM.shape){aM.refresh()}}},show:function(aL){var aN=this,aK,aM,aO;aN._visible=true;aN.shape=aL;aN.diagram.bind(o,aN._refreshHandler);aK=aL.connectors.length;aN.connectors=[];aN.visual.clear();for(aM=0;aM<aK;aM++){aO=new s(aL.connectors[aM]);aN.connectors.push(aO);aN.visual.append(aO.visual)}aN.visual.visible(true);aN.refresh()},destroy:function(){var aK=this;aK.diagram.unbind(o,aK._refreshHandler);aK.shape=z;aK._visible=z;aK.visual.visible(false)},_hitTest:function(aM){var aL,aK;for(aK=0;aK<this.connectors.length;aK++){aL=this.connectors[aK];if(aL._hitTest(aM)){aL._hover(true);this.diagram.toolService._hoveredConnector=aL;break}}},refresh:function(){if(this.shape){var aK=this.shape.bounds();aK=this.diagram.modelToLayer(aK);this.visual.position(aK.topLeft());au.each(this.connectors,function(){this.refresh()})}}});function i(aM,aL){var aK;if(aM.x==-1&&aM.y==-1){aK=aL.bottomRight()}else{if(aM.x==1&&aM.y==1){aK=aL.topLeft()}else{if(aM.x==-1&&aM.y==1){aK=aL.topRight()}else{if(aM.x==1&&aM.y==-1){aK=aL.bottomLeft()}else{if(aM.x===0&&aM.y==-1){aK=aL.bottom()}else{if(aM.x===0&&aM.y==1){aK=aL.top()}else{if(aM.x==1&&aM.y===0){aK=aL.left()}else{if(aM.x==-1&&aM.y===0){aK=aL.right()}}}}}}}}return aK}var am=aB.extend({init:function(aL,aK){var aM=this;aB.fn.init.call(aM,aL,aK);aM._manipulating=false;aM.map=[];aM.shapes=[];aM._initSelection();aM._createHandles();aM.redraw();aM.diagram.bind("select",function(aN){aM._initialize(aN.selected)});aM._refreshHandler=function(){if(!aM._internalChange){aM.refreshBounds();aM.refresh()}};aM._rotatedHandler=function(){if(aM.shapes.length==1){aM._angle=aM.shapes[0].rotate().angle}aM._refreshHandler()};aM.diagram.bind(o,aM._refreshHandler).bind(W,aM._rotatedHandler);aM.refreshBounds();aM.refresh()},options:{editable:{},selectable:{stroke:{color:"#778899",width:1,dashType:"dash"},fill:{color:ao}},offset:10},_initSelection:function(){var aN=this;var aM=aN.diagram;var aL=aM.options.selectable;var aK=aF({},aN.options.selectable,aL);aN.rect=new D(aK);aN.visual.append(aN.rect)},_createHandles:function(){var aN=this.options.editable,aM,aO,aL,aP,aK;if(aN&&aN.resize){aM=aN.resize.handles;for(aK=-1;aK<=1;aK++){for(aP=-1;aP<=1;aP++){if((aK!==0)||(aP!==0)){aO=new D(aM);aO.drawingElement._hover=C(this._hover,this);this.map.push({x:aK,y:aP,visual:aO});this.visual.append(aO)}}}}},bounds:function(aK){if(aK){this._innerBounds=aK.clone();this._bounds=this.diagram.modelToLayer(aK).inflate(this.options.offset,this.options.offset)}else{return this._bounds}},_hitTest:function(aP){var aQ=this.diagram.modelToLayer(aP),aM=this.options.editable,aL,aO,aR,aK=this.map.length,aN;if(this._angle){aQ=aQ.clone().rotate(this._bounds.center(),this._angle)}if(aM&&aM.rotate&&this._rotationThumbBounds){if(this._rotationThumbBounds.contains(aQ)){return new k(-1,-2)}}if(aM&&aM.resize){for(aL=0;aL<aK;aL++){aN=this.map[aL];aO=new k(aN.x,aN.y);aR=this._getHandleBounds(aO);aR.offset(this._bounds.x,this._bounds.y);if(aR.contains(aQ)){return aO}}}if(this._bounds.contains(aQ)){return new k(0,0)}},_getHandleBounds:function(aP){var aM=this.options.editable;if(aM&&aM.resize){var aL=aM.resize.handles||{},aK=aL.width,aN=aL.height,aO=new E(0,0,aK,aN);if(aP.x<0){aO.x=-aK/2}else{if(aP.x===0){aO.x=Math.floor(this._bounds.width/2)-aK/2}else{if(aP.x>0){aO.x=this._bounds.width+1-aK/2}}}if(aP.y<0){aO.y=-aN/2}else{if(aP.y===0){aO.y=Math.floor(this._bounds.height/2)-aN/2}else{if(aP.y>0){aO.y=this._bounds.height+1-aN/2}}}return aO}},_getCursor:function(aK){var aL=this._hitTest(aK);if(aL&&(aL.x>=-1)&&(aL.x<=1)&&(aL.y>=-1)&&(aL.y<=1)&&this.options.editable&&this.options.editable.resize){var aM=this._angle;if(aM){aM=360-aM;aL.rotate(new k(0,0),aM);aL=new k(Math.round(aL.x),Math.round(aL.y))}if(aL.x==-1&&aL.y==-1){return"nw-resize"}if(aL.x==1&&aL.y==1){return"se-resize"}if(aL.x==-1&&aL.y==1){return"sw-resize"}if(aL.x==1&&aL.y==-1){return"ne-resize"}if(aL.x===0&&aL.y==-1){return"n-resize"}if(aL.x===0&&aL.y==1){return"s-resize"}if(aL.x==1&&aL.y===0){return"e-resize"}if(aL.x==-1&&aL.y===0){return"w-resize"}}return this._manipulating?w.move:w.select},_initialize:function(){var aN=this,aL,aM,aK=aN.diagram.select();aN.shapes=[];for(aL=0;aL<aK.length;aL++){aM=aK[aL];if(aM instanceof l.Shape){aN.shapes.push(aM);aM._rotationOffset=new k()}}aN._angle=aN.shapes.length==1?aN.shapes[0].rotate().angle:0;aN._startAngle=aN._angle;aN._rotates();aN._positions();aN.refreshBounds();aN.refresh();aN.redraw()},_rotates:function(){var aM=this,aL,aK;aM.initialRotates=[];for(aL=0;aL<aM.shapes.length;aL++){aK=aM.shapes[aL];aM.initialRotates.push(aK.rotate().angle)}},_positions:function(){var aM=this,aL,aK;aM.initialStates=[];for(aL=0;aL<aM.shapes.length;aL++){aK=aM.shapes[aL];aM.initialStates.push(aK.bounds())}},_hover:function(aO,aL){var aK=this.options.editable;if(aK&&aK.resize){var aN=aK.resize.handles,aM=aN.hover,aQ=aN.stroke,aP=aN.fill;if(aO&&ai.isDefined(aM.stroke)){aQ=aF({},aQ,aM.stroke)}if(aO&&ai.isDefined(aM.fill)){aP=aM.fill}aL.stroke(aQ.color,aQ.width,aQ.opacity);aL.fill(aP.color,aP.opacity)}},start:function(aM){this._sp=aM;this._cp=aM;this._lp=aM;this._manipulating=true;this._internalChange=true;this.shapeStates=[];for(var aL=0;aL<this.shapes.length;aL++){var aK=this.shapes[aL];this.shapeStates.push(aK.bounds())}},redraw:function(){var aQ=this,aP,aR,aO=aQ.options.editable,aN=aO.resize,aM=aO.rotate,aL=aO&&aN?true:false,aK=aO&&aM?true:false;for(aP=0;aP<this.map.length;aP++){aR=this.map[aP];aR.visual.visible(aL)}if(aQ.rotationThumb){aQ.rotationThumb.visible(aK)}},angle:function(aK){if(m(aK)){this._angle=aK}return this._angle},rotate:function(){var aK=this._innerBounds.center();var aN=this.angle();this._internalChange=true;for(var aM=0;aM<this.shapes.length;aM++){var aL=this.shapes[aM];aN=(aN+this.initialRotates[aM]-this._startAngle)%360;aL.rotate(aN,aK)}this.refresh()},move:function(aZ,aT){var a0,aU,aS=new k(),aO=new k(),aQ,a2,aL,aV,aX,aR,aP=0,aW,a1,aY;if(aZ.y===-2&&aZ.x===-1){a2=this._innerBounds.center();this._angle=this._truncateAngle(ai.findAngle(a2,aT));for(aV=0;aV<this.shapes.length;aV++){aL=this.shapes[aV];aX=(this._angle+this.initialRotates[aV]-this._startAngle)%360;aL.rotate(aX,a2);if(aL.hasOwnProperty("layout")){aL.layout(aL)}this._rotating=true}this.refresh()}else{if(this.diagram.options.snap){var aN=this._truncateDistance(aT.minus(this._lp));if(aN.x===0&&aN.y===0){this._cp=aT;return}a0=aN;this._lp=new k(this._lp.x+aN.x,this._lp.y+aN.y)}else{a0=aT.minus(this._cp)}if(aZ.x===0&&aZ.y===0){aO=aS=a0;aU=true}else{if(this._angle){a0.rotate(new k(0,0),this._angle)}if(aZ.x==-1){aS.x=a0.x}else{if(aZ.x==1){aO.x=a0.x}}if(aZ.y==-1){aS.y=a0.y}else{if(aZ.y==1){aO.y=a0.y}}}if(!aU){aW=i(aZ,this._innerBounds);a1=(this._innerBounds.width+a0.x*aZ.x)/this._innerBounds.width;aY=(this._innerBounds.height+a0.y*aZ.y)/this._innerBounds.height}for(aV=0;aV<this.shapes.length;aV++){aL=this.shapes[aV];aQ=aL.bounds();if(aU){aR=this._displaceBounds(aQ,aS,aO,aU)}else{aR=aQ.clone();aR.scale(a1,aY,aW,this._innerBounds.center(),aL.rotate().angle);var aK=aR.center();aK.rotate(aQ.center(),-this._angle);aR=new E(aK.x-aR.width/2,aK.y-aR.height/2,aR.width,aR.height)}if(aR.width>=aL.options.minWidth&&aR.height>=aL.options.minHeight){var aM=aQ;aL.bounds(aR);if(aL.hasOwnProperty("layout")){aL.layout(aL,aM,aR)}if(aM.width!==aR.width||aM.height!==aR.height){aL.rotate(aL.rotate().angle)}aP+=1}}if(aP==aV){aR=this._displaceBounds(this._innerBounds,aS,aO,aU);this.bounds(aR);this.refresh()}this._positions()}this._cp=aT},_truncatePositionToGuides:function(aK){if(this.diagram.ruler){return this.diagram.ruler.truncatePositionToGuides(aK)}return aK},_truncateSizeToGuides:function(aK){if(this.diagram.ruler){return this.diagram.ruler.truncateSizeToGuides(aK)}return aK},_truncateAngle:function(aL){var aK=this.diagram.options.snap;var aM=Math.max(aK.angle||L,aH);return aK?Math.floor((aL%360)/aM)*aM:(aL%360)},_truncateDistance:function(aL){if(aL instanceof l.Point){return new l.Point(this._truncateDistance(aL.x),this._truncateDistance(aL.y))}else{var aK=this.diagram.options.snap;var aM=Math.max(aK.size||r,aa);return aK?Math.floor(aL/aM)*aM:aL}},_displaceBounds:function(aO,aR,aK,aQ){var aM=aO.topLeft().plus(aR),aN=aO.bottomRight().plus(aK),aP=E.fromPoints(aM,aN),aL;if(!aQ){aL=aP.center();aL.rotate(aO.center(),-this._angle);aP=new E(aL.x-aP.width/2,aL.y-aP.height/2,aP.width,aP.height)}return aP},stop:function(){var aN,aL,aK;if(this._cp!=this._sp){if(this._rotating){aN=new N(this,this.shapes,this.initialRotates);this._rotating=false}else{if(this._diffStates()){if(this.diagram.ruler){for(aL=0;aL<this.shapes.length;aL++){aK=this.shapes[aL];var aM=aK.bounds();aM=this._truncateSizeToGuides(this._truncatePositionToGuides(aM));aK.bounds(aM);this.refreshBounds();this.refresh()}}for(aL=0;aL<this.shapes.length;aL++){aK=this.shapes[aL];aK.updateModel()}aN=new ac(this.shapes,this.shapeStates,this);this.diagram._syncShapeChanges()}}}this._manipulating=z;this._internalChange=z;this._rotating=z;return aN},_diffStates:function(){var aL=this.shapes;var aM=this.shapeStates;var aN;for(var aK=0;aK<aL.length;aK++){if(!aL[aK].bounds().equals(aM[aK])){return true}}return false},refreshBounds:function(){var aK=this.shapes.length==1?this.shapes[0].bounds().clone():this.diagram.boundingBox(this.shapes,true);this.bounds(aK)},refresh:function(){var aO=this,aL,aN;if(this.shapes.length>0){aN=this.bounds();this.visual.visible(true);this.visual.position(aN.topLeft());au.each(this.map,function(){aL=aO._getHandleBounds(new k(this.x,this.y));this.visual.position(aL.topLeft())});this.visual.position(aN.topLeft());var aK=new k(aN.width/2,aN.height/2);this.visual.rotate(this._angle,aK);this.rect.redraw({width:aN.width,height:aN.height});if(this.rotationThumb){var aM=this.options.editable.rotate.thumb;this._rotationThumbBounds=new E(aN.center().x,aN.y+aM.y,0,0).inflate(aM.width);this.rotationThumb.redraw({x:aN.width/2-aM.width/2})}}else{this.visual.visible(false)}}});var az=aA.extend({init:function(aL){var aK=aL.options.selectable;this.options=aF({},this.options,aK);this.visual=new D(this.options);this.diagram=aL},options:{stroke:{color:"#778899",width:1,dashType:"dash"},fill:{color:ao}},start:function(aK){this._sp=this._ep=aK;this.refresh();this.diagram._adorn(this,true)},end:function(){this._sp=this._ep=z;this.diagram._adorn(this,false)},bounds:function(aK){if(aK){this._bounds=aK}return this._bounds},move:function(aK){this._ep=aK;this.refresh()},refresh:function(){if(this._sp){var aK=E.fromPoints(this.diagram.modelToLayer(this._sp),this.diagram.modelToLayer(this._ep));this.bounds(E.fromPoints(this._sp,this._ep));this.visual.position(aK.topLeft());this.visual.redraw({height:aK.height+1,width:aK.width+1})}}});var s=aA.extend({init:function(aK){this.options=aF({},aK.options);this._c=aK;this.visual=new af(this.options);this.refresh()},_hover:function(aM){var aK=this.options,aL=aK.hover,aO=aK.stroke,aN=aK.fill;if(aM&&ai.isDefined(aL.stroke)){aO=aF({},aO,aL.stroke)}if(aM&&ai.isDefined(aL.fill)){aN=aL.fill}this.visual.redraw({stroke:aO,fill:aN})},refresh:function(){var aM=this._c.shape.diagram.modelToView(this._c.position()),aL=aM.minus(this._c.shape.bounds("transformed").topLeft()),aK=new E(aM.x,aM.y,0,0);aK.inflate(this.options.width/2,this.options.height/2);this._visualBounds=aK;this.visual.redraw({center:new k(aL.x,aL.y)})},_hitTest:function(aK){var aL=this._c.shape.diagram.modelToView(aK);return this._visualBounds.contains(aL)}});aF(l,{CompositeUnit:ap,TransformUnit:ac,PanUndoUnit:B,AddShapeUnit:ah,AddConnectionUnit:aI,DeleteShapeUnit:Z,DeleteConnectionUnit:aD,ConnectionEditAdorner:J,ConnectionTool:al,ConnectorVisual:s,UndoRedoService:aE,ResizingAdorner:am,Selector:az,ToolService:aC,ConnectorsAdorner:R,LayoutUndoUnit:ab,ConnectionEditUnit:F,ToFrontUnit:S,ToBackUnit:K,ConnectionRouterBase:b,PolylineRouter:A,CascadingRouter:aG,SelectionTool:p,ScrollerTool:ax,PointerTool:T,ConnectionEditTool:G,RotateUnit:N})})(window.kendo.jQuery);(function(e,f){var r=window.kendo,y=r.dataviz.diagram,h=y.Graph,z=y.Node,q=y.Link,p=r.deepExtend,w=y.Size,g=y.Rect,x=y.Dictionary,v=y.Set,u=y.Graph,c=y.Utils,A=y.Point,s=0.000001,o=Math.PI/180,j=c.contains,m=e.grep;var n=r.Class.extend({defaultOptions:{type:"Tree",subtype:"Down",roots:null,animate:false,limitToView:false,friction:0.9,nodeDistance:50,iterations:300,horizontalSeparation:90,verticalSeparation:50,underneathVerticalTopOffset:15,underneathHorizontalOffset:15,underneathVerticalSeparation:15,grid:{width:1500,offsetX:50,offsetY:50,componentSpacingX:20,componentSpacingY:20},layerSeparation:50,layeredIterations:2,startRadialAngle:0,endRadialAngle:360,radialSeparation:150,radialFirstLevelSeparation:200,keepComponentsInOneRadialLayout:false,ignoreContainers:true,layoutContainerChildren:false,ignoreInvisible:true,animateTransitions:false},init:function(){},gridLayoutComponents:function(K){if(!K){throw"No components supplied."}c.forEach(K,function(R){R.calcBounds()});K.sort(function(S,R){return R.bounds.width-S.bounds.width});var O=this.options.grid.width,I=this.options.grid.componentSpacingX,F=this.options.grid.componentSpacingY,Q=0,H=this.options.grid.offsetX,G=this.options.grid.offsetY,N=H,M=G,E,J=[],P=[];while(K.length>0){if(N>=O){N=H;M+=Q+F;Q=0}var L=K.pop();this.moveToOffset(L,new A(N,M));for(E=0;E<L.nodes.length;E++){P.push(L.nodes[E])}for(E=0;E<L.links.length;E++){J.push(L.links[E])}var C=L.bounds;var D=C.height;if(D<=0||isNaN(D)){D=0}var B=C.width;if(B<=0||isNaN(B)){B=0}if(D>=Q){Q=D}N+=B+I}return{nodes:P,links:J}},moveToOffset:function(I,C){var G,F,B=I.bounds,N=C.x-B.x,K=C.y-B.y;for(G=0;G<I.nodes.length;G++){var E=I.nodes[G];var D=E.bounds();if(D.width===0&&D.height===0&&D.x===0&&D.y===0){D=new g(0,0,0,0)}D.x+=N;D.y+=K;E.bounds(D)}for(G=0;G<I.links.length;G++){var H=I.links[G];if(H.points){var M=[];var J=H.points;for(F=0;F<J.length;F++){var L=J[F];L.x+=N;L.y+=K;M.push(L)}H.points=M}}this.currentHorizontalOffset+=B.width+this.options.grid.offsetX;return new A(N,K)},transferOptions:function(B){this.options=r.deepExtend({},this.defaultOptions);if(c.isUndefined(B)){return}this.options=r.deepExtend(this.options,B||{})}});var d=r.Class.extend({init:function(B){this.nodeMap=new x();this.shapeMap=new x();this.nodes=[];this.edges=[];this.edgeMap=new x();this.finalNodes=[];this.finalLinks=[];this.ignoredConnections=[];this.ignoredShapes=[];this.hyperMap=new x();this.hyperTree=new h();this.finalGraph=null;this.diagram=B},convert:function(B){if(c.isUndefined(this.diagram)){throw"No diagram to convert."}this.options=r.deepExtend({ignoreInvisible:true,ignoreContainers:true,layoutContainerChildren:false},B||{});this.clear();this._renormalizeShapes();this._renormalizeConnections();this.finalNodes=new x(this.nodes);this.finalLinks=new x(this.edges);this.finalGraph=new h();this.finalNodes.forEach(function(C){this.finalGraph.addNode(C)},this);this.finalLinks.forEach(function(C){this.finalGraph.addExistingLink(C)},this);return this.finalGraph},mapConnection:function(B){return this.edgeMap.first(function(C){return j(this.edgeMap.get(C),B)})},mapShape:function(C){var F=this.nodeMap.keys();for(var E=0,B=F.length;E<B;E++){var D=F[E];if(j(this.nodeMap.get(D),C)){return D}}},getEdge:function(C,B){return c.first(C.links,function(D){return D.getComplement(C)===B})},clear:function(){this.finalGraph=null;this.hyperTree=(!this.options.ignoreContainers&&this.options.layoutContainerChildren)?new u():null;this.hyperMap=(!this.options.ignoreContainers&&this.options.layoutContainerChildren)?new x():null;this.nodeMap=new x();this.shapeMap=new x();this.nodes=[];this.edges=[];this.edgeMap=new x();this.ignoredConnections=[];this.ignoredShapes=[];this.finalNodes=[];this.finalLinks=[]},listToRoot:function(D){var C=[];var B=D.container;if(!B){return C}C.push(B);while(B.parentContainer){B=B.parentContainer;C.push(B)}C.reverse();return C},firstNonIgnorableContainer:function(B){if(B.isContainer&&!this._isIgnorableItem(B)){return B}return !B.parentContainer?null:this.firstNonIgnorableContainer(B.parentContainer)},isContainerConnection:function(C,B){if(C.isContainer&&this.isDescendantOf(C,B)){return true}return B.isContainer&&this.isDescendantOf(B,C)},isDescendantOf:function(E,C){if(!E.isContainer){throw"Expecting a container."}if(E===C){return false}if(j(E.children,C)){return true}var F=[];for(var D=0,B=E.children.length;D<B;D++){var G=E.children[D];if(G.isContainer&&this.isDescendantOf(G,C)){F.push(G)}}return F.length>0},isIgnorableItem:function(B){if(this.options.ignoreInvisible){if(B.isCollapsed&&this._isVisible(B)){return false}if(!B.isCollapsed&&this._isVisible(B)){return false}return true}else{return B.isCollapsed&&!this._isTop(B)}},isShapeMapped:function(B){return B.isCollapsed&&!this._isVisible(B)&&!this._isTop(B)},leastCommonAncestor:function(C,B){if(!C){throw"Parameter should not be null."}if(!B){throw"Parameter should not be null."}if(!this.hyperTree){throw"No hypertree available."}var F=this.listToRoot(C);var I=this.listToRoot(B);var E=null;if(c.isEmpty(F)||c.isEmpty(I)){return this.hyperTree.root.data}var H=F[0];var G=I[0];var D=0;while(H===G){E=F[D];D++;if(D>=F.length||D>=I.length){break}H=F[D];G=I[D]}if(!E){return this.hyperTree.root.data}else{return m(this.hyperTree.nodes,function(J){return J.data.container===E})}},_isTop:function(B){return !B.parentContainer},_isVisible:function(B){if(!B.visible()){return false}return !B.parentContainer?B.visible():this._isVisible(B.parentContainer)},_isCollapsed:function(B){if(B.isContainer&&B.isCollapsed){return true}return B.parentContainer&&this._isCollapsed(B.parentContainer)},_renormalizeShapes:function(){if(this.options.ignoreContainers){for(var D=0,B=this.diagram.shapes.length;D<B;D++){var C=this.diagram.shapes[D];if((this.options.ignoreInvisible&&!this._isVisible(C))||C.isContainer){this.ignoredShapes.push(C);continue}var E=new z(C.id,C);E.isVirtual=false;this.nodeMap.add(E,[C]);this.nodes.push(E)}}else{throw"Containers are not supported yet, but stay tuned."}},_renormalizeConnections:function(){if(this.diagram.connections.length===0){return}for(var D=0,B=this.diagram.connections.length;D<B;D++){var F=this.diagram.connections[D];if(this.isIgnorableItem(F)){this.ignoredConnections.push(F);continue}var H=!F.sourceConnector?null:F.sourceConnector.shape;var G=!F.targetConnector?null:F.targetConnector.shape;if(!H||!G){this.ignoredConnections.push(F);continue}if(j(this.ignoredShapes,H)&&!this.shapeMap.containsKey(H)){this.ignoredConnections.push(F);continue}if(j(this.ignoredShapes,G)&&!this.shapeMap.containsKey(G)){this.ignoredConnections.push(F);continue}if(this.shapeMap.containsKey(H)){H=this.shapeMap[H]}if(this.shapeMap.containsKey(G)){G=this.shapeMap[G]}var E=this.mapShape(H);var I=this.mapShape(G);if((E===I)||this.areConnectedAlready(E,I)){this.ignoredConnections.push(F);continue}if(E===null||I===null){throw"A shape was not mapped to a node."}if(this.options.ignoreContainers){if(E.isVirtual||I.isVirtual){this.ignoredConnections.push(F);continue}var C=new q(E,I,F.id,F);this.edgeMap.add(C,[F]);this.edges.push(C)}else{throw"Containers are not supported yet, but stay tuned."}}},areConnectedAlready:function(C,B){return c.any(this.edges,function(D){return D.source===C&&D.target===B||D.source===B&&D.target===C})}});var b=n.extend({init:function(B){var C=this;n.fn.init.call(C);if(c.isUndefined(B)){throw"Diagram is not specified."}this.diagram=B},layout:function(E){this.transferOptions(E);var C=new d(this.diagram);var H=C.convert(E);if(H.isEmpty()){return}var G=H.getConnectedComponents();if(c.isEmpty(G)){return}for(var F=0;F<G.length;F++){var D=G[F];this.layoutGraph(D,E)}var B=this.gridLayoutComponents(G);return new y.LayoutState(this.diagram,B)},layoutGraph:function(F,B){if(c.isDefined(B)){this.transferOptions(B)}this.graph=F;var C=this.options.nodeDistance*9;this.temperature=C;var D=this._expectedBounds();this.width=D.width;this.height=D.height;for(var E=0;E<this.options.iterations;E++){this.refineStage=E>=this.options.iterations*5/6;this.tick();this.temperature=this.refineStage?C/30:C*(1-E/(2*this.options.iterations))}},tick:function(){var B;for(B=0;B<this.graph.nodes.length;B++){this._repulsion(this.graph.nodes[B])}for(B=0;B<this.graph.links.length;B++){this._attraction(this.graph.links[B])}for(B=0;B<this.graph.nodes.length;B++){var C=this.graph.nodes[B];var D=Math.sqrt(C.dx*C.dx+C.dy*C.dy);if(D===0){return}C.x+=Math.min(D,this.temperature)*C.dx/D;C.y+=Math.min(D,this.temperature)*C.dy/D;if(this.options.limitToView){C.x=Math.min(this.width,Math.max(C.width/2,C.x));C.y=Math.min(this.height,Math.max(C.height/2,C.y))}}},_shake:function(C){var B=Math.random()*this.options.nodeDistance/4;var D=Math.random()*2*Math.PI;C.x+=B*Math.cos(D);C.y-=B*Math.sin(D)},_InverseSquareForce:function(G,E,F){var D;if(!this.refineStage){D=Math.pow(G,2)/Math.pow(this.options.nodeDistance,2)}else{var K=E.x-F.x;var J=E.y-F.y;var H=E.width/2;var B=E.height/2;var I=F.width/2;var C=F.height/2;D=(Math.pow(K,2)/Math.pow(H+I+this.options.nodeDistance,2))+(Math.pow(J,2)/Math.pow(B+C+this.options.nodeDistance,2))}return D*4/3},_SquareForce:function(C,D,B){return 1/this._InverseSquareForce(C,D,B)},_repulsion:function(B){B.dx=0;B.dy=0;c.forEach(this.graph.nodes,function(C){if(C===B){return}while(B.x===C.x&&B.y===C.y){this._shake(C)}var E=B.x-C.x;var D=B.y-C.y;var G=Math.sqrt(E*E+D*D);var F=this._SquareForce(G,B,C)*2;B.dx+=(E/G)*F;B.dy+=(D/G)*F},this)},_attraction:function(D){var H=D.target;var I=D.source;if(I===H){return}while(I.x===H.x&&I.y===H.y){this._shake(H)}var E=I.x-H.x;var C=I.y-H.y;var B=Math.sqrt(E*E+C*C);var F=this._InverseSquareForce(B,I,H)*5;var J=(E/B)*F;var G=(C/B)*F;H.dx+=J;H.dy+=G;I.dx-=J;I.dy-=G},_expectedBounds:function(){var D,H=this.graph.nodes.length,F=1.5,I=4;if(H===0){return D}D=c.fold(this.graph.nodes,function(J,L){var K=L.width*L.height;if(K>0){J+=Math.sqrt(K);return J}return 0},0,this);var G=D/H;var C=G*Math.ceil(Math.sqrt(H));var E=C*Math.sqrt(F);var B=C/Math.sqrt(F);return{width:E*I,height:B*I}}});var i=r.Class.extend({init:function(B){this.center=null;this.options=B},layout:function(C,B){this.graph=C;if(!this.graph.nodes||this.graph.nodes.length===0){return}if(!j(this.graph.nodes,B)){throw"The given root is not in the graph."}this.center=B;this.graph.cacheRelationships();this.layoutSwitch()},layoutLeft:function(C){this.setChildrenDirection(this.center,"Left",false);this.setChildrenLayout(this.center,"Default",false);var F=0,I=0,G,E,D;for(E=0;E<C.length;E++){D=C[E];D.TreeDirection="Left";var J=this.measure(D,w.Empty);I=Math.max(I,J.Width);F+=J.height+this.options.verticalSeparation}F-=this.options.verticalSeparation;var H=this.center.x-this.options.horizontalSeparation;G=this.center.y+((this.center.height-F)/2);for(E=0;E<C.length;E++){D=C[E];var B=new A(H-D.Size.width,G);this.arrange(D,B);G+=D.Size.height+this.options.verticalSeparation}},layoutRight:function(I){this.setChildrenDirection(this.center,"Right",false);this.setChildrenLayout(this.center,"Default",false);var E=0,H=0,F,D,C;for(D=0;D<I.length;D++){C=I[D];C.TreeDirection="Right";var J=this.measure(C,w.Empty);H=Math.max(H,J.Width);E+=J.height+this.options.verticalSeparation}E-=this.options.verticalSeparation;var G=this.center.x+this.options.horizontalSeparation+this.center.width;F=this.center.y+((this.center.height-E)/2);for(D=0;D<I.length;D++){C=I[D];var B=new A(G,F);this.arrange(C,B);F+=C.Size.height+this.options.verticalSeparation}},layoutUp:function(C){this.setChildrenDirection(this.center,"Up",false);this.setChildrenLayout(this.center,"Default",false);var D=0,I,G,E;for(E=0;E<C.length;E++){G=C[E];G.TreeDirection="Up";var F=this.measure(G,w.Empty);D+=F.width+this.options.horizontalSeparation}D-=this.options.horizontalSeparation;var B=this.center.x+(this.center.width/2)-(D/2);for(E=0;E<C.length;E++){G=C[E];I=this.center.y-this.options.verticalSeparation-G.Size.height;var H=new A(B,I);this.arrange(G,H);B+=G.Size.width+this.options.horizontalSeparation}},layoutDown:function(I){var F,D;this.setChildrenDirection(this.center,"Down",false);this.setChildrenLayout(this.center,"Default",false);var C=0,H;for(D=0;D<I.length;D++){F=I[D];F.treeDirection="Down";var E=this.measure(F,w.Empty);C+=E.width+this.options.horizontalSeparation}C-=this.options.horizontalSeparation;var B=this.center.x+(this.center.width/2)-(C/2);H=this.center.y+this.options.verticalSeparation+this.center.height;for(D=0;D<I.length;D++){F=I[D];var G=new A(B,H);this.arrange(F,G);B+=F.Size.width+this.options.horizontalSeparation}},layoutRadialTree:function(){this.setChildrenDirection(this.center,"Radial",false);this.setChildrenLayout(this.center,"Default",false);this.previousRoot=null;var C=this.options.startRadialAngle*o;var B=this.options.endRadialAngle*o;if(B<=C){throw"Final angle should not be less than the start angle."}this.maxDepth=0;this.origin=new A(this.center.x,this.center.y);this.calculateAngularWidth(this.center,0);if(this.maxDepth>0){this.radialLayout(this.center,this.options.radialFirstLevelSeparation,C,B)}this.center.Angle=B-C},tipOverTree:function(I,C){if(c.isUndefined(C)){C=0}this.setChildrenDirection(this.center,"Down",false);this.setChildrenLayout(this.center,"Default",false);this.setChildrenLayout(this.center,"Underneath",false,C);var H=0,F,D,E;for(E=0;E<I.length;E++){D=I[E];D.TreeDirection="Down";var J=this.measure(D,w.Empty);H+=J.width+this.options.horizontalSeparation}H-=this.options.horizontalSeparation;H-=I[I.length-1].width;H+=I[I.length-1].associatedShape.bounds().width;var G=this.center.x+(this.center.width/2)-(H/2);F=this.center.y+this.options.verticalSeparation+this.center.height;for(E=0;E<I.length;E++){D=I[E];var B=new A(G,F);this.arrange(D,B);G+=D.Size.width+this.options.horizontalSeparation}},calculateAngularWidth:function(D,H){if(H>this.maxDepth){this.maxDepth=H}var B=0,I=1000,F=1000,J=H===0?0:Math.sqrt((I*I)+(F*F))/H;if(D.children.length>0){for(var E=0,G=D.children.length;E<G;E++){var C=D.children[E];B+=this.calculateAngularWidth(C,H+1)}B=Math.max(J,B)}else{B=J}D.sectorAngle=B;return B},sortChildren:function(F){var G=0,K;if(F.parents.length>1){throw"Node is not part of a tree."}var C=F.parents[0];if(C){var J=new A(C.x,C.y);var B=new A(F.x,F.y);G=this.normalizeAngle(Math.atan2(J.y-B.y,J.x-B.x))}var L=F.children.length;if(L===0){return null}var I=[];var N=[];for(K=0;K<L;++K){var M=F.children[K];var H=new A(M.x,M.y);N[K]=K;I[K]=this.normalizeAngle(-G+Math.atan2(H.y-H.y,H.x-H.x))}c.bisort(I,N);var E=[];var D=F.children;for(K=0;K<L;++K){E.push(D[N[K]])}return E},normalizeAngle:function(B){while(B>Math.PI*2){B-=2*Math.PI}while(B<0){B+=Math.PI*2}return B},radialLayout:function(D,H,J,C){var O=C-J;var M=O/2;var N=D.sectorAngle;var L=0;var I=this.sortChildren(D);for(var F=0,G=I.length;F<G;F++){var B=I[F];var K=B;var E=K.sectorAngle/N;if(B.children.length>0){this.radialLayout(B,H+this.options.radialSeparation,J+(L*O),J+((L+E)*O))}this.setPolarLocation(B,H,J+(L*O)+(E*M));K.angle=E*O;L+=E}},setPolarLocation:function(C,B,D){C.x=this.origin.x+(B*Math.cos(D));C.y=this.origin.y+(B*Math.sin(D));C.BoundingRectangle=new g(C.x,C.y,C.width,C.height)},setChildrenDirection:function(D,E,C){var B=D.treeDirection;this.graph.depthFirstTraversal(D,function(F){F.treeDirection=E});if(!C){D.treeDirection=B}},setChildrenLayout:function(F,E,C,D){if(c.isUndefined(D)){D=0}var B=F.childrenLayout;if(D>0){this.graph.assignLevels(F);this.graph.depthFirstTraversal(F,function(G){if(G.level>=D+1){G.childrenLayout=E}})}else{this.graph.depthFirstTraversal(F,function(G){G.childrenLayout=E});if(!C){F.childrenLayout=B}}},measure:function(C,F){var K=0,G=0,L;var M=new w(0,0);if(!C){throw""}var I=C.associatedShape.bounds();var H=I.width;var D=I.height;if(C.parents.length!==1){throw"Node not in a spanning tree."}var J=C.parents[0];if(C.treeDirection==="Undefined"){C.treeDirection=J.treeDirection}if(c.isEmpty(C.children)){M=new w(Math.abs(H)<s?50:H,Math.abs(D)<s?25:D)}else{if(C.children.length===1){switch(C.treeDirection){case"Radial":L=this.measure(C.children[0],F);K=H+(this.options.radialSeparation*Math.cos(C.AngleToParent))+L.width;G=D+Math.abs(this.options.radialSeparation*Math.sin(C.AngleToParent))+L.height;break;case"Left":case"Right":switch(C.childrenLayout){case"TopAlignedWithParent":break;case"BottomAlignedWithParent":break;case"Underneath":L=this.measure(C.children[0],F);K=H+L.width+this.options.underneathHorizontalOffset;G=D+this.options.underneathVerticalTopOffset+L.height;break;case"Default":L=this.measure(C.children[0],F);K=H+this.options.horizontalSeparation+L.width;G=Math.max(D,L.height);break;default:throw"Unhandled TreeDirection in the Radial layout measuring."}break;case"Up":case"Down":switch(C.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":L=this.measure(C.children[0],F);K=Math.max(H,L.width+this.options.underneathHorizontalOffset);G=D+this.options.underneathVerticalTopOffset+L.height;break;case"Default":L=this.measure(C.children[0],F);G=D+this.options.verticalSeparation+L.height;K=Math.max(H,L.width);break;default:throw"Unhandled TreeDirection in the Down layout measuring."}break;default:throw"Unhandled TreeDirection in the layout measuring."}M=new w(K,G)}else{var E,B;switch(C.treeDirection){case"Left":case"Right":switch(C.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":K=H;G=D+this.options.underneathVerticalTopOffset;for(E=0;E<C.children.length;E++){B=C.children[E];L=this.measure(B,F);K=Math.max(K,L.width+this.options.underneathHorizontalOffset);G+=L.height+this.options.underneathVerticalSeparation}G-=this.options.underneathVerticalSeparation;break;case"Default":K=H;G=0;for(E=0;E<C.children.length;E++){B=C.children[E];L=this.measure(B,F);K=Math.max(K,H+this.options.horizontalSeparation+L.width);G+=L.height+this.options.verticalSeparation}G-=this.options.verticalSeparation;break;default:throw"Unhandled TreeDirection in the Right layout measuring."}break;case"Up":case"Down":switch(C.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":K=H;G=D+this.options.underneathVerticalTopOffset;for(E=0;E<C.children.length;E++){B=C.children[E];L=this.measure(B,F);K=Math.max(K,L.width+this.options.underneathHorizontalOffset);G+=L.height+this.options.underneathVerticalSeparation}G-=this.options.underneathVerticalSeparation;break;case"Default":K=0;G=0;for(E=0;E<C.children.length;E++){B=C.children[E];L=this.measure(B,F);K+=L.width+this.options.horizontalSeparation;G=Math.max(G,L.height+this.options.verticalSeparation+D)}K-=this.options.horizontalSeparation;break;default:throw"Unhandled TreeDirection in the Down layout measuring."}break;default:throw"Unhandled TreeDirection in the layout measuring."}M=new w(K,G)}}C.SectorAngle=Math.sqrt((K*K/4)+(G*G/4));C.Size=M;return M},arrange:function(E,B){var I,D,C,G,F,M=E.associatedShape.bounds();var K=M.width;var H=M.height;if(c.isEmpty(E.children)){E.x=B.x;E.y=B.y;E.BoundingRectangle=new g(B.x,B.y,K,H)}else{var N,L;var J;switch(E.treeDirection){case"Left":switch(E.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":J=B;E.x=J.x;E.y=J.y;E.BoundingRectangle=new g(E.x,E.y,E.width,E.height);L=B.y+H+this.options.underneathVerticalTopOffset;for(I=0;I<G.children.length;I++){G=G.children[I];N=J.x-G.associatedShape.width-this.options.underneathHorizontalOffset;D=new A(N,L);this.arrange(G,D);L+=G.Size.height+this.options.underneathVerticalSeparation}break;case"Default":J=new A(B.x+E.Size.width-K,B.y+((E.Size.height-H)/2));E.x=J.x;E.y=J.y;E.BoundingRectangle=new g(E.x,E.y,E.width,E.height);N=J.x-this.options.horizontalSeparation;L=B.y;for(I=0;I<E.children.length;I++){G=E.children[I];D=new A(N-G.Size.width,L);this.arrange(G,D);L+=G.Size.height+this.options.verticalSeparation}break;default:throw"Unsupported TreeDirection"}break;case"Right":switch(E.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":J=B;E.x=J.x;E.y=J.y;E.BoundingRectangle=new g(E.x,E.y,E.width,E.height);N=B.x+K+this.options.underneathHorizontalOffset;L=B.y+H+this.options.underneathVerticalTopOffset;for(I=0;I<E.children.length;I++){G=E.children[I];D=new A(N,L);this.arrange(G,D);L+=G.Size.height+this.options.underneathVerticalSeparation}break;case"Default":J=new A(B.x,B.y+((E.Size.height-H)/2));E.x=J.x;E.y=J.y;E.BoundingRectangle=new g(E.x,E.y,E.width,E.height);N=B.x+K+this.options.horizontalSeparation;L=B.y;for(I=0;I<E.children.length;I++){G=E.children[I];D=new A(N,L);this.arrange(G,D);L+=G.Size.height+this.options.verticalSeparation}break;default:throw"Unsupported TreeDirection"}break;case"Up":J=new A(B.x+((E.Size.width-K)/2),B.y+E.Size.height-H);E.x=J.x;E.y=J.y;E.BoundingRectangle=new g(E.x,E.y,E.width,E.height);if(Math.abs(J.x-B.x)<s){F=0;for(I=0;I<E.children.length;I++){C=E.children[I];F+=C.Size.width+this.options.horizontalSeparation}F-=this.options.horizontalSeparation;N=B.x+((K-F)/2)}else{N=B.x}for(I=0;I<E.children.length;I++){G=E.children[I];L=J.y-this.options.verticalSeparation-G.Size.height;D=new A(N,L);this.arrange(G,D);N+=G.Size.width+this.options.horizontalSeparation}break;case"Down":switch(E.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":J=B;E.x=J.x;E.y=J.y;E.BoundingRectangle=new g(E.x,E.y,E.width,E.height);N=B.x+this.options.underneathHorizontalOffset;L=B.y+H+this.options.underneathVerticalTopOffset;for(I=0;I<E.children.length;I++){G=E.children[I];D=new A(N,L);this.arrange(G,D);L+=G.Size.height+this.options.underneathVerticalSeparation}break;case"Default":J=new A(B.x+((E.Size.width-K)/2),B.y);E.x=J.x;E.y=J.y;E.BoundingRectangle=new g(E.x,E.y,E.width,E.height);if(Math.abs(J.x-B.x)<s){F=0;for(I=0;I<E.children.length;I++){C=E.children[I];F+=C.Size.width+this.options.horizontalSeparation}F-=this.options.horizontalSeparation;N=B.x+((K-F)/2)}else{N=B.x}for(I=0;I<E.children.length;I++){G=E.children[I];L=J.y+this.options.verticalSeparation+H;D=new A(N,L);this.arrange(G,D);N+=G.Size.width+this.options.horizontalSeparation}break;default:throw"Unsupported TreeDirection"}break;case"None":break;default:throw"Unsupported TreeDirection"}}},layoutSwitch:function(){if(!this.center){return}if(c.isEmpty(this.center.children)){return}var F=this.options.subtype;if(c.isUndefined(F)){F="Down"}var G,E,D,B;var C=this.center.children;switch(F.toLowerCase()){case"radial":case"radialtree":this.layoutRadialTree();break;case"mindmaphorizontal":case"mindmap":G=this.center.children;if(this.center.children.length===1){this.layoutRight(G)}else{B=C.length/2;E=m(this.center.children,function(H){return c.indexOf(C,H)<B});D=m(this.center.children,function(H){return c.indexOf(C,H)>=B});this.layoutLeft(E);this.layoutRight(D)}break;case"mindmapvertical":G=this.center.children;if(this.center.children.length===1){this.layoutDown(G)}else{B=C.length/2;E=m(this.center.children,function(H){return c.indexOf(C,H)<B});D=m(this.center.children,function(H){return c.indexOf(C,H)>=B});this.layoutUp(E);this.layoutDown(D)}break;case"right":this.layoutRight(this.center.children);break;case"left":this.layoutLeft(this.center.children);break;case"up":case"bottom":this.layoutUp(this.center.children);break;case"down":case"top":this.layoutDown(this.center.children);break;case"tipover":case"tipovertree":if(this.options.tipOverTreeStartLevel<0){throw"The tip-over level should be a positive integer."}this.tipOverTree(this.center.children,this.options.tipOverTreeStartLevel);break;case"undefined":case"none":break}}});var l=n.extend({init:function(B){var C=this;n.fn.init.call(C);if(c.isUndefined(B)){throw"No diagram specified."}this.diagram=B},layout:function(D){this.transferOptions(D);var C=new d(this.diagram);this.graph=C.convert();var B=this.layoutComponents();return new y.LayoutState(this.diagram,B)},layoutComponents:function(){if(this.graph.isEmpty()){return}var I=this.graph.getConnectedComponents();if(c.isEmpty(I)){return}var H=new i(this.options);var F=[];for(var G=0;G<I.length;G++){var E=I[G];var D=this.getTree(E);if(!D){throw"Failed to find a spanning tree for the component."}var C=D.root;var B=D.tree;H.layout(B,C);F.push(B)}return this.gridLayoutComponents(F)},getTree:function(G){var C=null;if(this.options.roots&&this.options.roots.length>0){for(var E=0,B=G.nodes.length;E<B;E++){var F=G.nodes[E];for(var D=0;D<this.options.roots.length;D++){var H=this.options.roots[D];if(H===F.associatedShape){C=F;break}}}}if(!C){C=G.root();if(!C){throw"Unable to find a root for the tree."}}return this.getTreeForRoot(G,C)},getTreeForRoot:function(D,C){var B=D.getSpanningTree(C);if(c.isUndefined(B)||B.isEmpty()){return null}return{tree:B,root:B.root}}});var t=n.extend({init:function(B){var C=this;n.fn.init.call(C);if(c.isUndefined(B)){throw"Diagram is not specified."}this.diagram=B},layout:function(E){this.transferOptions(E);var C=new d(this.diagram);var H=C.convert(E);if(H.isEmpty()){return}var G=H.getConnectedComponents();if(c.isEmpty(G)){return}for(var F=0;F<G.length;F++){var D=G[F];this.layoutGraph(D,E)}var B=this.gridLayoutComponents(G);return new y.LayoutState(this.diagram,B)},_initRuntimeProperties:function(){for(var B=0;B<this.graph.nodes.length;B++){var C=this.graph.nodes[B];C.layer=-1;C.downstreamLinkCount=0;C.upstreamLinkCount=0;C.isVirtual=false;C.uBaryCenter=0;C.dBaryCenter=0;C.upstreamPriority=0;C.downstreamPriority=0;C.gridPosition=0}},_prepare:function(N){var K=[],F,E,M;for(E=0;E<N.links.length;E++){N.links[E].depthOfDumminess=0}var O=new x();c.forEach(N.nodes,function(P){if(P.incoming.length===0){O.set(P,0);K.push(P)}});while(K.length>0){var H=K.shift();for(F=0;F<H.outgoing.length;F++){M=H.outgoing[F];var L=M.target;if(O.containsKey(L)){O.set(L,Math.max(O.get(H)+1,O.get(L)))}else{O.set(L,O.get(H)+1)}if(!j(K,L)){K.push(L)}}}var J=0;O.forEachValue(function(P){J=Math.max(J,P)});var C=[];c.addRange(C,O.keys());C.sort(function(S,R){var Q=O.get(S);var P=O.get(R);return c.sign(P-Q)});for(var B=0;B<C.length;++B){var D=C[B];var G=Number.MAX_VALUE;if(D.outgoing.length===0){continue}for(E=0;E<D.outgoing.length;++E){M=D.outgoing[E];G=Math.min(G,O.get(M.target))}if(G>1){O.set(D,G-1)}}this.layers=[];for(F=0;F<J+1;F++){this.layers.push([])}O.forEach(function(Q,P){Q.layer=P;this.layers[P].push(Q)},this);for(E=0;E<this.layers.length;E++){var I=this.layers[E];for(F=0;F<I.length;F++){I[F].gridPosition=F}}},layoutGraph:function(D,B){if(c.isUndefined(D)){throw"No graph given or graph analysis of the diagram failed."}if(c.isDefined(B)){this.transferOptions(B)}this.graph=D;D.setItemIndices();var C=D.makeAcyclic();this._initRuntimeProperties();this._prepare(D,B);this._dummify();this._optimizeCrossings();this._swapPairs();this.arrangeNodes();this._moveThingsAround();this._dedummify();c.forEach(C,function(E){if(E.points){E.points.reverse()}})},setMinDist:function(B,F,D){var C=B.layer;var E=B.layerIndex;this.minDistances[C][E]=D},getMinDist:function(C,B){var I=0,G=C.layerIndex,D=B.layerIndex,E=C.layer,H=Math.min(G,D),J=Math.max(G,D);for(var F=H;F<J;++F){I+=this.minDistances[E][F]}return I},placeLeftToRight:function(F){var G=new x(),C,E;for(var L=0;L<this.layers.length;++L){var I=F[L];if(!I){continue}for(C=0;C<I.length;C++){E=I[C];if(!G.containsKey(E)){this.placeLeft(E,G,L)}}var K=Number.POSITIVE_INFINITY;for(C=0;C<I.length;C++){E=I[C];var H=this.rightSibling(E);if(H&&this.nodeLeftClass.get(H)!==L){K=Math.min(K,G.get(H)-G.get(E)-this.getMinDist(E,H))}}if(K===Number.POSITIVE_INFINITY){var B=[];for(C=0;C<I.length;C++){E=I[C];var N=[];c.addRange(N,this.upNodes.get(E));c.addRange(N,this.downNodes.get(E));for(var J=0;J<N.length;J++){var M=N[J];if(this.nodeLeftClass.get(M)<L){B.push(G.get(M)-G.get(E))}}}B.sort();if(B.length===0){K=0}else{if(B.length%2===1){K=B[this.intDiv(B.length,2)]}else{K=(B[this.intDiv(B.length,2)-1]+B[this.intDiv(B.length,2)])/2}}}for(C=0;C<I.length;C++){E=I[C];G.set(E,G.get(E)+K)}}return G},placeRightToLeft:function(L){var I=new x(),E,F;for(var K=0;K<this.layers.length;++K){var G=L[K];if(!G){continue}for(E=0;E<G.length;E++){F=G[E];if(!I.containsKey(F)){this.placeRight(F,I,K)}}var J=Number.NEGATIVE_INFINITY;for(E=0;E<G.length;E++){F=G[E];var C=this.leftSibling(F);if(C&&this.nodeRightClass.get(C)!==K){J=Math.max(J,I.get(C)-I.get(F)+this.getMinDist(C,F))}}if(J===Number.NEGATIVE_INFINITY){var B=[];for(E=0;E<G.length;E++){F=G[E];var N=[];c.addRange(N,this.upNodes.get(F));c.addRange(N,this.downNodes.get(F));for(var H=0;H<N.length;H++){var M=N[H];if(this.nodeRightClass.get(M)<K){B.push(I.get(F)-I.get(M))}}}B.sort();if(B.length===0){J=0}else{if(B.length%2===1){J=B[this.intDiv(B.length,2)]}else{J=(B[this.intDiv(B.length,2)-1]+B[this.intDiv(B.length,2)])/2}}}for(E=0;E<G.length;E++){F=G[E];I.set(F,I.get(F)+J)}}return I},_getLeftWing:function(){var C={value:null};var B=this.computeClasses(C,1);this.nodeLeftClass=C.value;return B},_getRightWing:function(){var C={value:null};var B=this.computeClasses(C,-1);this.nodeRightClass=C.value;return B},computeClasses:function(D,K){var M=0,B=D.value=new x();for(var G=0;G<this.layers.length;++G){M=G;var J=this.layers[G];for(var E=K===1?0:J.length-1;0<=E&&E<J.length;E+=K){var F=J[E];if(!B.containsKey(F)){B.set(F,M);if(F.isVirtual){var L=this._nodesInLink(F);for(var C=0;C<L.length;C++){var N=L[C];B.set(N,M)}}}else{M=B.get(F)}}}var H=[];for(var I=0;I<this.layers.length;I++){H.push(null)}B.forEach(function(P,O){if(H[O]===null){H[O]=[]}H[O].push(P)});return H},_isVerticalLayout:function(){return this.options.subtype.toLowerCase()==="up"||this.options.subtype.toLowerCase()==="down"||this.options.subtype.toLowerCase()==="vertical"},_isHorizontalLayout:function(){return this.options.subtype.toLowerCase()==="right"||this.options.subtype.toLowerCase()==="left"||this.options.subtype.toLowerCase()==="horizontal"},_isIncreasingLayout:function(){return this.options.subtype.toLowerCase()==="right"||this.options.subtype.toLowerCase()==="down"},_moveThingsAround:function(){var X,U,R,ac,P,J;for(U=0;U<this.layers.length;++U){ac=this.layers[U];ac.sort(this._gridPositionComparer)}this.minDistances=[];for(U=0;U<this.layers.length;++U){ac=this.layers[U];this.minDistances[U]=[];for(P=0;P<ac.length;++P){R=ac[P];R.layerIndex=P;this.minDistances[U][P]=this.options.nodeDistance;if(P<ac.length-1){if(this._isVerticalLayout()){this.minDistances[U][P]+=(R.width+ac[P+1].width)/2}else{this.minDistances[U][P]+=(R.height+ac[P+1].height)/2}}}}this.downNodes=new x();this.upNodes=new x();c.forEach(this.graph.nodes,function(ad){this.downNodes.set(ad,[]);this.upNodes.set(ad,[])},this);c.forEach(this.graph.links,function(ag){var ae=ag.source;var af=ag.target;var ah=null,ad=null;if(ae.layer>af.layer){ah=ag.source;ad=ag.target}else{ad=ag.source;ah=ag.target}this.downNodes.get(ad).push(ah);this.upNodes.get(ah).push(ad)},this);this.downNodes.forEachValue(function(ad){ad.sort(this._gridPositionComparer)},this);this.upNodes.forEachValue(function(ad){ad.sort(this._gridPositionComparer)},this);for(U=0;U<this.layers.length-1;++U){ac=this.layers[U];for(J=0;J<ac.length-1;J++){var C=ac[J];if(!C.isVirtual){continue}var ab=this.downNodes.get(C)[0];if(!ab.isVirtual){continue}for(P=J+1;P<ac.length;++P){R=ac[P];if(!R.isVirtual){continue}var S=this.downNodes.get(R)[0];if(!S.isVirtual){continue}if(ab.gridPosition>S.gridPosition){var H=ab.gridPosition;ab.gridPosition=S.gridPosition;S.gridPosition=H;var T=ab.layerIndex;var Q=S.layerIndex;this.layers[U+1][T]=S;this.layers[U+1][Q]=ab;ab.layerIndex=Q;S.layerIndex=T}}}}var L=this._getLeftWing();var E=this._getRightWing();var O=this.placeLeftToRight(L);var Y=this.placeRightToLeft(E);var I=new x();c.forEach(this.graph.nodes,function(ad){I.set(ad,(O.get(ad)+Y.get(ad))/2)});var V=new x();var aa=new x();for(U=0;U<this.layers.length;++U){ac=this.layers[U];var W=-1,D=-1;for(P=0;P<ac.length;++P){R=ac[P];V.set(R,0);aa.set(R,false);if(R.isVirtual){if(W===-1){W=P}else{if(W===P-1){W=P}else{D=P;V.set(ac[W],0);if(I.get(R)-I.get(ac[W])===this.getMinDist(ac[W],R)){aa.set(ac[W],true)}else{aa.set(ac[W],false)}W=P}}}}}var K=[1,-1];c.forEach(K,function(aj){var ad=aj===1?0:this.layers.length-1;for(var af=ad;0<=af&&af<this.layers.length;af+=aj){var ah=this.layers[af];var ak=this._firstVirtualNode(ah);var ai=null;var ag=null;if(ak!==-1){ai=ah[ak];ag=[];for(X=0;X<ak;X++){ag.push(ah[X])}}else{ai=null;ag=ah}if(ag.length>0){this._sequencer(I,null,ai,aj,ag);for(X=0;X<ag.length-1;++X){this.setMinDist(ag[X],ag[X+1],I.get(ag[X+1])-I.get(ag[X]))}if(ai){this.setMinDist(ag[ag.length-1],ai,I.get(ai)-I.get(ag[ag.length-1]))}}while(ai){var al=this.nextVirtualNode(ah,ai);if(!al){ak=ai.layerIndex;ag=[];for(X=ak+1;X<ah.length;X++){ag.push(ah[X])}if(ag.length>0){this._sequencer(I,ai,null,aj,ag);for(X=0;X<ag.length-1;++X){this.setMinDist(ag[X],ag[X+1],I.get(ag[X+1])-I.get(ag[X]))}this.setMinDist(ai,ag[0],I.get(ag[0])-I.get(ai))}}else{if(V.get(ai)===aj){ak=ai.layerIndex;var ae=al.layerIndex;ag=[];for(X=ak+1;X<ae;X++){ag.push(ah[X])}if(ag.length>0){this._sequencer(I,ai,al,aj,ag)}aa.set(ai,true)}}ai=al}this.adjustDirections(af,aj,V,aa)}},this);var B=this._isIncreasingLayout()?0:this.layers.length-1;var N=function(ae,ad){if(ad._isIncreasingLayout()){return ae<ad.layers.length}else{return ae>=0}};var Z=this._isIncreasingLayout()?+1:-1,G=0;function F(af,ae){var ad=Number.MIN_VALUE;for(var ah=0;ah<af.length;++ah){var ag=af[ah];if(ae._isVerticalLayout()){ad=Math.max(ad,ag.height)}else{ad=Math.max(ad,ag.width)}}return ad}for(X=B;N(X,this);X+=Z){ac=this.layers[X];var M=F(ac,this);for(P=0;P<ac.length;++P){R=ac[P];if(this._isVerticalLayout()){R.x=I.get(R);R.y=G+M/2}else{R.x=G+M/2;R.y=I.get(R)}}G+=this.options.layerSeparation+M}},adjustDirections:function(L,R,N,Q){if(L+R<0||L+R>=this.layers.length){return}var E=null,P=null;var S=this.layers[L+R];for(var I=0;I<S.length;++I){var F=S[I];if(F.isVirtual){var H=this.getNeighborOnLayer(F,L);if(H.isVirtual){if(E){var G=Q.get(P);var D=this.layers[L];var K=P.layerIndex;var J=H.layerIndex;for(var O=K+1;O<J;++O){if(D[O].isVirtual){G=G&&Q.get(D[O])}}if(G){N.set(E,R);var C=E.layerIndex;var B=F.layerIndex;for(var M=C+1;M<B;++M){if(S[M].isVirtual){N.set(S[M],R)}}}}E=F;P=H}}}},getNeighborOnLayer:function(C,B){var D=this.upNodes.get(C)[0];if(D.layer===B){return D}D=this.downNodes.get(C)[0];if(D.layer===B){return D}return null},_sequencer:function(B,H,F,C,G){if(G.length===1){this._sequenceSingle(B,H,F,C,G[0])}if(G.length>1){var E=G.length,D=this.intDiv(E,2);this._sequencer(B,H,F,C,G.slice(0,D));this._sequencer(B,H,F,C,G.slice(D));this.combineSequences(B,H,F,C,G)}},_sequenceSingle:function(B,H,F,C,E){var D=C===-1?this.downNodes.get(E):this.upNodes.get(E);var G=D.length;if(G!==0){if(G%2===1){B.set(E,B.get(D[this.intDiv(G,2)]))}else{B.set(E,(B.get(D[this.intDiv(G,2)-1])+B.get(D[this.intDiv(G,2)]))/2)}if(H){B.set(E,Math.max(B.get(E),B.get(H)+this.getMinDist(H,E)))}if(F){B.set(E,Math.min(B.get(E),B.get(F)-this.getMinDist(E,F)))}}},combineSequences:function(H,D,B,M,G){var K=G.length,J=this.intDiv(K,2);var C=[],R,S,O,Q,F,N;for(R=0;R<J;++R){S=0;Q=M===-1?this.downNodes.get(G[R]):this.upNodes.get(G[R]);for(O=0;O<Q.length;++O){F=Q[O];if(H.get(F)>=H.get(G[R])){S++}else{S--;C.push({k:H.get(F)+this.getMinDist(G[R],G[J-1]),v:2})}}C.push({k:H.get(G[R])+this.getMinDist(G[R],G[J-1]),v:S})}if(D){C.push({k:H.get(D)+this.getMinDist(D,G[J-1]),v:Number.MAX_VALUE})}C.sort(this._positionDescendingComparer);var L=[];for(R=J;R<K;++R){S=0;Q=M===-1?this.downNodes.get(G[R]):this.upNodes.get(G[R]);for(O=0;O<Q.length;++O){F=Q[O];if(H.get(F)<=H.get(G[R])){S++}else{S--;L.push({k:H.get(F)-this.getMinDist(G[R],G[J]),v:2})}}L.push({k:H.get(G[R])-this.getMinDist(G[R],G[J]),v:S})}if(B){L.push({k:H.get(B)-this.getMinDist(B,G[J]),v:Number.MAX_VALUE})}L.sort(this._positionAscendingComparer);var E=0,I=0;var P=this.getMinDist(G[J-1],G[J]);while(H.get(G[J])-H.get(G[J-1])<P){if(E<I){if(C.length===0){H.set(G[J-1],H.get(G[J])-P);break}else{N=C.shift();E=E+N.v;H.set(G[J-1],N.k);H.set(G[J-1],Math.max(H.get(G[J-1]),H.get(G[J])-P))}}else{if(L.length===0){H.set(G[J],H.get(G[J-1])+P);break}else{N=L.shift();I=I+N.v;H.set(G[J],N.k);H.set(G[J],Math.min(H.get(G[J]),H.get(G[J-1])+P))}}}for(R=J-2;R>=0;R--){H.set(G[R],Math.min(H.get(G[R]),H.get(G[J-1])-this.getMinDist(G[R],G[J-1])))}for(R=J+1;R<K;R++){H.set(G[R],Math.max(H.get(G[R]),H.get(G[J])+this.getMinDist(G[R],G[J])))}},placeLeft:function(C,B,D){var E=Number.NEGATIVE_INFINITY;c.forEach(this._getComposite(C),function(G){var F=this.leftSibling(G);if(F&&this.nodeLeftClass.get(F)===this.nodeLeftClass.get(G)){if(!B.containsKey(F)){this.placeLeft(F,B,D)}E=Math.max(E,B.get(F)+this.getMinDist(F,G))}},this);if(E===Number.NEGATIVE_INFINITY){E=0}c.forEach(this._getComposite(C),function(F){B.set(F,E)})},placeRight:function(D,C,B){var E=Number.POSITIVE_INFINITY;c.forEach(this._getComposite(D),function(F){var G=this.rightSibling(F);if(G&&this.nodeRightClass.get(G)===this.nodeRightClass.get(F)){if(!C.containsKey(G)){this.placeRight(G,C,B)}E=Math.min(E,C.get(G)-this.getMinDist(F,G))}},this);if(E===Number.POSITIVE_INFINITY){E=0}c.forEach(this._getComposite(D),function(F){C.set(F,E)})},leftSibling:function(D){var C=this.layers[D.layer],B=D.layerIndex;return B===0?null:C[B-1]},rightSibling:function(D){var C=this.layers[D.layer];var B=D.layerIndex;return B===C.length-1?null:C[B+1]},_getComposite:function(B){return B.isVirtual?this._nodesInLink(B):[B]},arrangeNodes:function(){var E,B,D,C,H;for(B=0;B<this.layers.length;B++){C=this.layers[B];for(D=0;D<C.length;D++){H=C[D];H.upstreamPriority=H.upstreamLinkCount;H.downstreamPriority=H.downstreamLinkCount}}var G=2;for(var F=0;F<G;F++){for(E=this.layers.length-1;E>=1;E--){this.layoutLayer(false,E)}for(E=0;E<this.layers.length-1;E++){this.layoutLayer(true,E)}}var I=Number.MAX_VALUE;for(B=0;B<this.layers.length;B++){C=this.layers[B];for(D=0;D<C.length;D++){H=C[D];I=Math.min(I,H.gridPosition)}}if(I<0){for(B=0;B<this.layers.length;B++){C=this.layers[B];for(D=0;D<C.length;D++){H=C[D];H.gridPosition=H.gridPosition-I}}}},layoutLayer:function(G,D){var C;var E;if(G){E=this.layers[C=D+1]}else{E=this.layers[C=D-1]}var B=[];for(var F=0;F<E.length;F++){B.push(E[F])}B.sort(function(I,H){var K=(I.upstreamPriority+I.downstreamPriority)/2;var J=(H.upstreamPriority+H.downstreamPriority)/2;if(Math.abs(K-J)<0.0001){return 0}if(K<J){return 1}return -1});c.forEach(B,function(K){var J=K.gridPosition;var H=this.calcBaryCenter(K);var I=(K.upstreamPriority+K.downstreamPriority)/2;if(Math.abs(J-H)<0.0001){return}if(Math.abs(J-H)<0.25+0.0001){return}if(J<H){while(J<H){if(!this.moveRight(K,E,I)){break}J=K.gridPosition}}else{while(J>H){if(!this.moveLeft(K,E,I)){break}J=K.gridPosition}}},this);if(C>0){this.calcDownData(C-1)}if(C<this.layers.length-1){this.calcUpData(C+1)}},moveRight:function(G,F,E){var D=c.indexOf(F,G);if(D===F.length-1){G.gridPosition=G.gridPosition+0.5;return true}var C=F[D+1];var B=(C.upstreamPriority+C.downstreamPriority)/2;if(C.gridPosition>G.gridPosition+1){G.gridPosition=G.gridPosition+0.5;return true}if(B>E||Math.abs(B-E)<0.0001){return false}if(this.moveRight(C,F,E)){G.gridPosition=G.gridPosition+0.5;return true}return false},moveLeft:function(F,D,C){var B=c.indexOf(D,F);if(B===0){F.gridPosition=F.gridPosition-0.5;return true}var G=D[B-1];var E=(G.upstreamPriority+G.downstreamPriority)/2;if(G.gridPosition<F.gridPosition-1){F.gridPosition=F.gridPosition-0.5;return true}if(E>C||Math.abs(E-C)<0.0001){return false}if(this.moveLeft(G,D,C)){F.gridPosition=F.gridPosition-0.5;return true}return false},mapVirtualNode:function(C,B){this.nodeToLinkMap.set(C,B);if(!this.linkToNodeMap.containsKey(B)){this.linkToNodeMap.set(B,[])}this.linkToNodeMap.get(B).push(C)},_nodesInLink:function(B){return this.linkToNodeMap.get(this.nodeToLinkMap.get(B))},_dummify:function(){this.linkToNodeMap=new x();this.nodeToLinkMap=new x();var S,E,C,M,J,P,O,N,B=this.graph.links.slice(0);for(N=0;N<B.length;N++){var G=B[N];var L=G.source;var R=G.target;var Q=L.layer;var H=R.layer;var D=L.gridPosition;var I=R.gridPosition;var F=(I-D)/Math.abs(H-Q);var K=L;if(Q-H>1){for(O=Q-1;O>H;O--){C=new z();C.x=L.x;C.y=L.y;C.width=L.width/100;C.height=L.height/100;S=this.layers[O];E=(O-H)*F+D;if(E>S.length){E=S.length}if(D>=this.layers[Q].length-1&&I>=this.layers[H].length-1){E=S.length}else{if(D===0&&I===0){E=0}}C.layer=O;C.uBaryCenter=0;C.dBaryCenter=0;C.upstreamLinkCount=0;C.downstreamLinkCount=0;C.gridPosition=E;C.isVirtual=true;c.insert(S,C,E);for(J=E+1;J<S.length;J++){M=S[J];M.gridPosition=M.gridPosition+1}P=new q(K,C);P.depthOfDumminess=0;K=C;this.graph.nodes.push(C);this.graph.addLink(P);C.index=this.graph.nodes.length-1;this.mapVirtualNode(C,G)}G.changeSource(K);G.depthOfDumminess=Q-H-1}if(Q-H<-1){for(O=Q+1;O<H;O++){C=new z();C.x=L.x;C.y=L.y;C.width=L.width/100;C.height=L.height/100;S=this.layers[O];E=(O-Q)*F+D;if(E>S.length){E=S.length}if(D>=this.layers[Q].length-1&&I>=this.layers[H].length-1){E=S.length}else{if(D===0&&I===0){E=0}}C.layer=O;C.uBaryCenter=0;C.dBaryCenter=0;C.upstreamLinkCount=0;C.downstreamLinkCount=0;C.gridPosition=E;C.isVirtual=true;E&=E;c.insert(S,C,E);for(J=E+1;J<S.length;J++){M=S[J];M.gridPosition=M.gridPosition+1}P=new q(K,C);P.depthOfDumminess=0;K=C;this.graph.nodes.push(C);this.graph.addLink(P);C.index=this.graph.nodes.length-1;this.mapVirtualNode(C,G)}G.changeSource(K);G.depthOfDumminess=H-Q-1}}},_dedummify:function(){var B=true;while(B){B=false;for(var D=0;D<this.graph.links.length;D++){var H=this.graph.links[D];if(H.depthOfDumminess===0){continue}var I=[];I.unshift({x:H.target.x,y:H.target.y});I.unshift({x:H.source.x,y:H.source.y});var J=H;var E=H.depthOfDumminess;for(var G=0;G<E;G++){var C=J.source;var F=C.incoming[0];I.unshift({x:F.source.x,y:F.source.y});J=F}H.changeSource(J.source);H.depthOfDumminess=0;if(I.length>2){I.splice(0,1);I.splice(I.length-1);H.points=I}else{H.points=[]}B=true;break}}},_optimizeCrossings:function(){var C=-1,E;var D=3;var B=0;while(C!==0){if(B++>D){break}C=0;for(E=this.layers.length-1;E>=1;E--){C+=this.optimizeLayerCrossings(false,E)}for(E=0;E<this.layers.length-1;E++){C+=this.optimizeLayerCrossings(true,E)}}},calcUpData:function(F){if(F===0){return}var I=this.layers[F],E,D,J;var B=new v();var K=this.layers[F-1];for(E=0;E<K.length;E++){B.add(K[E])}for(E=0;E<I.length;E++){var C=I[E];var G=0;var H=0;for(D=0;D<C.incoming.length;D++){J=C.incoming[D];if(B.contains(J.source)){H++;G+=J.source.gridPosition}}for(D=0;D<C.outgoing.length;D++){J=C.outgoing[D];if(B.contains(J.target)){H++;G+=J.target.gridPosition}}if(H>0){C.uBaryCenter=G/H;C.upstreamLinkCount=H}else{C.uBaryCenter=E;C.upstreamLinkCount=0}}},calcDownData:function(E){if(E===this.layers.length-1){return}var H=this.layers[E],D,C,I;var J=new v();var K=this.layers[E+1];for(D=0;D<K.length;D++){J.add(K[D])}for(D=0;D<H.length;D++){var B=H[D];var F=0;var G=0;for(C=0;C<B.incoming.length;C++){I=B.incoming[C];if(J.contains(I.source)){G++;F+=I.source.gridPosition}}for(C=0;C<B.outgoing.length;C++){I=B.outgoing[C];if(J.contains(I.target)){G++;F+=I.target.gridPosition}}if(G>0){B.dBaryCenter=F/G;B.downstreamLinkCount=G}else{B.dBaryCenter=D;B.downstreamLinkCount=0}}},optimizeLayerCrossings:function(K,H){var D;var J;if(K){J=this.layers[D=H+1]}else{J=this.layers[D=H-1]}var F=J.slice(0);if(K){this.calcUpData(D)}else{this.calcDownData(D)}var I=this;J.sort(function(O,N){var P=I.calcBaryCenter(O),M=I.calcBaryCenter(N);if(Math.abs(P-M)<0.0001){if(O.degree()===N.degree()){return I.compareByIndex(O,N)}else{if(O.degree()<N.degree()){return 1}}return -1}var L=(M-P)*1000;if(L>0){return -1}else{if(L<0){return 1}}return I.compareByIndex(O,N)});var G,B=0;for(G=0;G<J.length;G++){if(J[G]!==F[G]){B++}}if(B>0){var C=0;for(G=0;G<J.length;G++){var E=J[G];E.gridPosition=C++}}return B},_swapPairs:function(){var M=this.options.layeredIterations;var O=0;while(true){if(O++>M){break}var S=(O%4<=1);var Q=(O%4===1);for(var N=(S?0:this.layers.length-1);S?N<=this.layers.length-1:N>=0;N+=(S?1:-1)){var T=this.layers[N];var F=false;var G=true;var I=0;for(var L=0;L<T.length-1;L++){var J=0;var K=0;var D=0;if(G){if(N!==0){J=this.countLinksCrossingBetweenTwoLayers(N-1,N)}if(N!==this.layers.length-1){K=this.countLinksCrossingBetweenTwoLayers(N,N+1)}if(S){J*=2}else{K*=2}D=J+K}else{D=I}if(D===0){continue}var C=T[L];var B=T[L+1];var H=C.gridPosition;var P=B.gridPosition;T[L]=B;T[L+1]=C;C.gridPosition=P;B.gridPosition=H;J=0;if(N!==0){J=this.countLinksCrossingBetweenTwoLayers(N-1,N)}K=0;if(N!==this.layers.length-1){K=this.countLinksCrossingBetweenTwoLayers(N,N+1)}if(S){J*=2}else{K*=2}var R=J+K;var E=false;if(Q){E=R>=D}else{E=R>D}if(E){C=T[L];B=T[L+1];H=C.gridPosition;P=B.gridPosition;T[L]=B;T[L+1]=C;C.gridPosition=P;B.gridPosition=H;I=D;G=false}else{F=true;G=true}}if(F){if(N!==this.layers.length-1){this.calcUpData(N+1)}if(N!==0){this.calcDownData(N-1)}}}}},countLinksCrossingBetweenTwoLayers:function(J,D){var T,P=0;var I=new v();var Z=this.layers[J];for(T=0;T<Z.length;T++){I.add(Z[T])}var E=new v();var Y=this.layers[D];for(T=0;T<Y.length;T++){E.add(Y[T])}var G=new v();var C=[];var W=[];I.forEach(function(aa){c.addRange(W,aa.incoming);c.addRange(W,aa.outgoing)});for(var F=0;F<W.length;F++){var H=W[F];if(I.contains(H.source)&&E.contains(H.target)){G.add(H);C.push(H)}else{if(E.contains(H.source)&&I.contains(H.target)){C.push(H)}}}for(var S=0;S<C.length;S++){var O=C[S];for(var R=0;R<C.length;R++){if(S===R){continue}var M=C[R];var L,K;var V,U;if(G.contains(O)){L=O.source;K=O.target}else{L=O.target;K=O.source}if(G.contains(M)){V=M.source;U=M.target}else{V=M.target;U=M.source}var X=L.gridPosition;var N=K.gridPosition;var B=V.gridPosition;var Q=U.gridPosition;if((X-B)*(N-Q)<0){P++}}}return P/2},calcBaryCenter:function(F){var E=F.upstreamLinkCount;var B=F.downstreamLinkCount;var D=F.uBaryCenter;var C=F.dBaryCenter;if(E>0&&B>0){return(D+C)/2}if(E>0){return D}if(B>0){return C}return 0},_gridPositionComparer:function(B,C){if(B.gridPosition<C.gridPosition){return -1}if(B.gridPosition>C.gridPosition){return 1}return 0},_positionAscendingComparer:function(B,C){return B.k<C.k?-1:B.k>C.k?1:0},_positionDescendingComparer:function(B,C){return B.k<C.k?1:B.k>C.k?-1:0},_firstVirtualNode:function(B){for(var C=0;C<B.length;C++){if(B[C].isVirtual){return C}}return -1},compareByIndex:function(E,D){var C=E.index;var B=D.index;if(C<B){return 1}if(C>B){return -1}return 0},intDiv:function(B,C){return(B-B%C)/C},nextVirtualNode:function(C,D){var E=D.layerIndex;for(var B=E+1;B<C.length;++B){if(C[B].isVirtual){return C[B]}}return null}});var k=r.Class.extend({init:function(B,C){if(c.isUndefined(B)){throw"No diagram given"}this.diagram=B;this.nodeMap=new x();this.linkMap=new x();this.capture(C?C:B)},capture:function(B){var E,C,H,G,F,I,J;if(B instanceof y.Graph){for(G=0;G<B.nodes.length;G++){E=B.nodes[G];H=E.associatedShape;this.nodeMap.set(H.visual.id,new g(E.x,E.y,E.width,E.height))}for(G=0;G<B.links.length;G++){I=B.links[G];F=I.associatedConnection;this.linkMap.set(F.visual.id,I.points())}}else{if(B instanceof Array){C=B;for(G=0;G<C.length;G++){E=C[G];H=E.associatedShape;if(H){this.nodeMap.set(H.visual.id,new g(E.x,E.y,E.width,E.height))}}}else{if(B.hasOwnProperty("links")&&B.hasOwnProperty("nodes")){C=B.nodes;J=B.links;for(G=0;G<C.length;G++){E=C[G];H=E.associatedShape;if(H){this.nodeMap.set(H.visual.id,new g(E.x,E.y,E.width,E.height))}}for(G=0;G<J.length;G++){I=J[G];F=I.associatedConnection;if(F){this.linkMap.set(F.visual.id,I.points)}}}else{var D=this.diagram.shapes;var K=this.diagram.connections;for(G=0;G<D.length;G++){H=D[G];this.nodeMap.set(H.visual.id,H.bounds())}for(G=0;G<K.length;G++){F=K[G];this.linkMap.set(F.visual.id,F.points())}}}}}});p(y,{init:function(B){r.init(B,y.ui)},SpringLayout:b,TreeLayout:l,GraphAdapter:d,LayeredLayout:t,LayoutBase:n,LayoutState:k})})(window.kendo.jQuery);(function(a5,E){var aH=kendo.dataviz,aR=kendo.drawing,bi=kendo.geometry,p=aH.diagram,x=kendo.ui.Widget,bc=kendo.Class,J=a5.proxy,bn=kendo.deepExtend,aL=a5.extend,al=kendo.data.HierarchicalDataSource,m=p.Canvas,aD=p.Group,aM=p.Visual,K=p.Rectangle,aE=p.Circle,d=p.CompositeTransform,M=p.Rect,aT=p.Path,az=p.DeleteShapeUnit,bk=p.DeleteConnectionUnit,aj=p.TextBlock,a3=p.Image,n=p.Point,G=p.Intersect,aa=p.ConnectionEditAdorner,bm=p.UndoRedoService,bj=p.ToolService,ba=p.Selector,aU=p.ResizingAdorner,ao=p.ConnectorsAdorner,y=p.Cursors,aG=p.Utils,U=kendo.Observable,ax=p.Ticker,ab=p.ToBackUnit,ar=p.ToFrontUnit,a1=p.Dictionary,H=p.PolylineRouter,bo=p.CascadingRouter,an=aG.isUndefined,aQ=aG.isDefined,q=kendo.util.defined,h=a5.isArray,a7=kendo.isFunction,bf=aG.isString,N=a5.isPlainObject,ah=Math;var bd=".kendoDiagram",aJ="cascading",g="polyline",s="itemBoundsChange",P="change",a4="click",r="mouseEnter",ai="mouseLeave",O="error",bp="Auto",v="Top",t="Right",e="Left",a6="Bottom",aP=9007199254740992,ae="select",au="itemRotate",ay="pan",T="zoomStart",l="zoomEnd",ak="k-connection",bb="k-shape",I="single",aC="none",aw="multiple",u=600,bh=600,a2="rectangle",C=100,Z=100,aY=20,aF=20,ac=0,f="SteelBlue",aW="Yellow",w=8,R="#70CAFF",at=Number.MAX_VALUE,k=-Number.MAX_VALUE,B="all",be="absolute",aZ="transformed",ag="rotated",aS="transparent",W="width",a8="height",aB="x",aA="y",b="DOMMouseScroll"+bd+" mousewheel"+bd,bg=0.05,c=5,F='<a class="k-button k-button-icontext #=className#" href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>';p.DefaultConnectors=[{name:v},{name:a6},{name:e},{name:t},{name:bp,position:function(X){return X.getPosition("center")}}];var i={cancel:{text:"Cancel",imageClass:"k-cancel",className:"k-diagram-cancel",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-diagram-update",iconClass:"k-icon"}};p.shapeDefaults=function(X){var Y={type:a2,path:"",autoSize:true,visual:null,x:ac,y:ac,minWidth:aY,minHeight:aF,width:C,height:Z,hover:{},editable:{connect:true,tools:[]},connectors:p.DefaultConnectors,rotation:{angle:0}};aG.simpleExtend(Y,X);return Y};function A(Y){var X=Y.originalEvent,bs=0;if(X.wheelDelta){bs=-X.wheelDelta/40;bs=bs>0?ah.ceil(bs):ah.floor(bs)}else{if(X.detail){bs=X.detail}}return bs}function aO(X){return X.options.name.toLowerCase()===bp.toLowerCase()}function av(Y,bs){var bt=aP,bx,X=bs.connectors;for(var bu=0;bu<X.length;bu++){var bv=X[bu];if(!aO(bv)){var bw=Y.distanceTo(bv.position());if(bw<bt){bt=bw;bx=bv}}}return bx}function L(bw,bv){var bs,bx=[],bu;var Y=bw.drawingContainer().children;var bt=Y.length;for(bs=0;bs<bv.length;bs++){bu=bv[bs];for(var X=0;X<bt;X++){if(Y[X]==bu.drawingContainer()){bx.push(X);break}}}return bx}function aI(Y,bt){var X=n.parse(bt),bs;if(X){return X}bs=j.parse(Y,bt);if(bs){return bs}}var aK=U.extend({init:function(X){var Y=this;Y.dataItem=(X||{}).dataItem;U.fn.init.call(Y);Y.options=bn({id:p.randomId()},Y.options,X);Y.isSelected=false;Y.visual=new aD({id:Y.options.id,autoSize:Y.options.autoSize});Y._template()},options:{hover:{},cursor:y.grip,content:{align:"center middle"},selectable:true,serializable:true,enable:true},_getCursor:function(X){if(this.adorner){return this.adorner._getCursor(X)}return this.options.cursor},visible:function(X){if(an(X)){return this.visual.visible()}else{this.visual.visible(X)}},bounds:function(){},refresh:function(){this.visual.redraw()},position:function(X){this.options.x=X.x;this.options.y=X.y;this.visual.position(X)},toString:function(){return this.options.id},serialize:function(){var X=bn({},{options:this.options});if(this.dataItem){X.dataItem=this.dataItem.toString()}return X},_content:function(bt){if(bt!==E){var Y=this.options;var bs=this.bounds();if(p.Utils.isString(bt)){Y.content.text=bt}else{bn(Y.content,bt)}var bu=Y.content;var X=this._contentVisual;if(!X&&bu.text){this._contentVisual=new aj(bu);this._contentVisual._includeInBBox=false;this.visual.append(this._contentVisual)}else{if(X){X.redraw(bu)}}}return this.options.content.text},_hitTest:function(X){var Y=this.bounds();return this.visible()&&Y.contains(X)&&this.options.enable},_template:function(){var Y=this;if(Y.options.content.template){var bs=Y.dataItem||{},X=kendo.template(Y.options.content.template,{paramName:"dataItem"});Y.options.content.text=X(bs)}},_canSelect:function(){return this.options.selectable!==false},toJSON:function(){return{id:this.options.id}}});var j=bc.extend({init:function(X,Y){this.options=bn({},this.options,Y);this.connections=[];this.shape=X},options:{width:7,height:7,fill:{color:aW},hover:{}},position:function(){if(this.options.position){return this.options.position(this.shape)}else{return this.shape.getPosition(this.options.name)}},toJSON:function(){return{shapeId:this.shape.toString(),connector:this.options.name}}});j.parse=function(bt,bv){var Y=bv.split(":"),bw=Y[0],bs=Y[1]||bp;for(var bu=0;bu<bt.shapes.length;bu++){var X=bt.shapes[bu];if(X.options.id==bw){return X.getConnector(bs.trim())}}};var Q=aK.extend({init:function(Y,X){var bs=this;aK.fn.init.call(bs,Y);this.diagram=X;this.updateOptionsFromModel();Y=bs.options;bs.connectors=[];bs.type=Y.type;bs.shapeVisual=Q.createShapeVisual(bs.options);bs.visual.append(this.shapeVisual);bs.updateBounds();bs.content(bs.content());bs._createConnectors();bs.parentContainer=null;bs.isContainer=false;bs.isCollapsed=false;bs.id=bs.visual.id;if(Y.hasOwnProperty("layout")&&Y.layout!==E){bs.layout=Y.layout.bind(Y)}},options:p.shapeDefaults(),_setOptionsFromModel:function(X){var Y=aq(X||this.dataItem);this.options=bn({},this.options,Y);this.redrawVisual();if(this.options.content){this._template();this.content(this.options.content)}},updateOptionsFromModel:function(X,bs){if(this.diagram&&this.diagram._isEditable){var bt=aq(X||this.dataItem);if(X&&bs){if(!aH.inArray(bs,["x","y","width","height"])){if(this.options.visual){this.redrawVisual()}else{if(bt.type){this.options=bn({},this.options,bt);this.redrawVisual()}}if(this.options.content){this._template();this.content(this.options.content)}}else{var Y=this.bounds();Y[bs]=X[bs];this.bounds(Y)}}else{this.options=bn({},this.options,bt)}}},redrawVisual:function(){this.visual.clear();this._contentVisual=null;this.options.dataItem=this.dataItem;this.shapeVisual=Q.createShapeVisual(this.options);this.visual.append(this.shapeVisual);this.updateBounds()},updateModel:function(bt){var Y=this.diagram;if(Y&&Y._isEditable){var bs=this._bounds;var X=this.dataItem;if(X){Y._suspendModelRefresh();if(q(X.x)&&bs.x!==X.x){X.set("x",bs.x)}if(q(X.y)&&bs.y!==X.y){X.set("y",bs.y)}if(q(X.width)&&bs.width!==X.width){X.set("width",bs.width)}if(q(X.height)&&bs.height!==X.height){X.set("height",bs.height)}this.dataItem=X;Y._resumeModelRefresh();if(bt){Y._syncShapeChanges()}}}},updateBounds:function(){var Y=this.visual._measure(true);var X=this.options;this.bounds(new M(X.x,X.y,Y.width,Y.height));this._rotate();this._alignContent()},content:function(Y){var X=this._content(Y);this._alignContent();return X},_alignContent:function(){var bv=this.options.content||{};var bt=this._contentVisual;if(bt&&bv.align){var Y=this.visual._measure();var bu=new p.RectAlign(Y);var bs=bt.drawingElement.bbox(null);var X=new M(0,0,bs.width(),bs.height());var bw=bu.align(X,bv.align);bt.position(bw.topLeft())}},_createConnectors:function(){var Y=this.options,bt=Y.connectors.length,bu=Y.connectorDefaults,X,bs;for(bs=0;bs<bt;bs++){X=new j(this,bn({},bu,Y.connectors[bs]));this.connectors.push(X)}},bounds:function(Y){var X;if(Y){if(bf(Y)){switch(Y){case aZ:X=this._transformedBounds();break;case be:X=this._transformedBounds();var bs=this.diagram._pan;X.x+=bs.x;X.y+=bs.y;break;case ag:X=this._rotatedBounds();break;default:X=this._bounds}}else{this._setBounds(Y);this._triggerBoundsChange();this.refreshConnections()}}else{X=this._bounds}return X},_setBounds:function(bv){var bs=this.options;var bu=bv.topLeft();var Y=bs.x=bu.x;var bw=bs.y=bu.y;var bt=bs.width=ah.max(bv.width,bs.minWidth);var X=bs.height=ah.max(bv.height,bs.minHeight);this._bounds=new M(Y,bw,bt,X);this.visual.redraw({x:Y,y:bw,width:bt,height:X})},position:function(X){if(X){this.bounds(new M(X.x,X.y,this._bounds.width,this._bounds.height))}else{return this._bounds.topLeft()}},clone:function(){var X=this.serialize();X.options.id=p.randomId();if(this.diagram&&this.diagram._isEditable&&q(this.dataItem)){X.options.dataItem=aV(this.dataItem)}return new Q(X.options)},select:function(bt){var X=this.diagram,Y,bs;if(an(bt)){bt=true}if(this._canSelect()){if(this.isSelected!=bt){Y=[];bs=[];this.isSelected=bt;if(this.isSelected){X._selectedItems.push(this);Y.push(this)}else{aG.remove(X._selectedItems,this);bs.push(this)}if(!X._internalSelection){X._selectionChanged(Y,bs)}return true}}},rotate:function(bw,Y,bs){var bt=this.visual.rotate();if(bw!==E){if(bs!==false&&this.diagram&&this.diagram.undoRedoService&&bw!==bt.angle){this.diagram.undoRedoService.add(new p.RotateUnit(this.diagram._resizingAdorner,[this],[bt.angle]),false)}var X=this.bounds(),bv=new n(X.width/2,X.height/2),bx,bu;if(Y){bx=bw-bt.angle;bu=X.center().rotate(Y,360-bx).minus(bv);this._rotationOffset=this._rotationOffset.plus(bu.minus(X.topLeft()));this.position(bu)}this.visual.rotate(bw,bv);this.options.rotation.angle=bw;if(this.diagram&&this.diagram._connectorsAdorner){this.diagram._connectorsAdorner.refresh()}this.refreshConnections();if(this.diagram){this.diagram.trigger(au,{item:this})}}return bt},connections:function(bx){var by=[],bv,bu,bs,Y,bt;for(bv=0;bv<this.connectors.length;bv++){bt=this.connectors[bv];Y=bt.connections;for(bu=0,Y;bu<Y.length;bu++){bs=Y[bu];if(bx=="out"){var X=bs.source();if(X.shape&&X.shape==this){by.push(bs)}}else{if(bx=="in"){var bw=bs.target();if(bw.shape&&bw.shape==this){by.push(bs)}}else{by.push(bs)}}}}return by},refreshConnections:function(){a5.each(this.connections(),function(){this.refresh()})},getConnector:function(bs){var X,Y;if(bf(bs)){bs=bs.toLocaleLowerCase();for(X=0;X<this.connectors.length;X++){Y=this.connectors[X];if(Y.options.name.toLocaleLowerCase()==bs){return Y}}}else{if(bs instanceof n){return av(bs,this)}else{return this.connectors.length?this.connectors[0]:null}}},getPosition:function(Y){var X=this.bounds(),bs=Y.charAt(0).toLowerCase()+Y.slice(1);if(a7(X[bs])){return this._transformPoint(X[bs]())}return X.center()},redraw:function(bs){if(bs){var Y=this.options;var X;this.shapeVisual.redraw(this._visualOptions(bs));if(this._diffNumericOptions(bs,[W,a8,aB,aA])){this.bounds(new M(Y.x,Y.y,Y.width,Y.height));X=true}if(bs.connectors){Y.connectors=bs.connectors;this._updateConnectors()}Y=bn(Y,bs);if(bs.rotation||X){this._rotate()}if(Y.content){this.content(Y.content)}}},_updateConnectors:function(){var bs=this.connections();this.connectors=[];this._createConnectors();var Y;var bt;var bu;for(var X=0;X<bs.length;X++){Y=bs[X];bt=Y.source();bu=Y.target();if(bt.shape&&bt.shape===this){Y.source(this.getConnector(bt.options.name)||null)}else{if(bu.shape&&bu.shape===this){Y.target(this.getConnector(bu.options.name)||null)}}Y.updateModel()}},_diffNumericOptions:p.diffNumericOptions,_visualOptions:function(X){return{data:X.path,source:X.source,hover:X.hover,fill:X.fill,stroke:X.stroke,startCap:X.startCap,endCap:X.endCap}},_triggerBoundsChange:function(){if(this.diagram){this.diagram.trigger(s,{item:this,bounds:this._bounds.clone()})}},_transformPoint:function(X){var bs=this.rotate(),bt=this.bounds(),Y=bt.topLeft();if(bs.angle){X.rotate(bs.center().plus(Y),360-bs.angle)}return X},_transformedBounds:function(){var bs=this.bounds(),X=bs.topLeft(),Y=bs.bottomRight();return M.fromPoints(this.diagram.modelToView(X),this.diagram.modelToView(Y))},_rotatedBounds:function(){var bs=this.bounds().rotatedBounds(this.rotate().angle),X=bs.topLeft(),Y=bs.bottomRight();return M.fromPoints(X,Y)},_rotate:function(){var X=this.options.rotation;if(X&&X.angle){this.rotate(X.angle)}this._rotationOffset=new n()},_hover:function(bs){var X=this.options,Y=X.hover,bu=X.stroke,bt=X.fill;if(bs&&aQ(Y.stroke)){bu=bn({},bu,Y.stroke)}if(bs&&aQ(Y.fill)){bt=Y.fill}this.shapeVisual.redraw({stroke:bu,fill:bt});if(X.editable&&X.editable.connect){this.diagram._showConnectors(this,bs)}},_hitTest:function(bs){if(this.visible()){var Y=this.bounds(),X,bt=this.rotate().angle;if(bs.isEmpty&&!bs.isEmpty()){return G.rects(bs,Y,bt?bt:0)}else{X=bs.clone().rotate(Y.center(),bt);if(Y.contains(X)){return this}}}},toJSON:function(){return{shapeId:this.options.id}}});Q.createShapeVisual=function(bs){var Y=bs.diagram;delete bs.diagram;var bu=bn({},bs,{x:0,y:0});var bv=bu.visual;var bt=(bu.type+"").toLocaleLowerCase();var X;if(a7(bv)){X=bv.call(this,bu)}else{if(bu.path){bu.data=bu.path;X=new aT(bu);am(X)}else{if(bt=="rectangle"){X=new K(bu)}else{if(bt=="circle"){X=new aE(bu)}else{if(bt=="text"){X=new aj(bu)}else{if(bt=="image"){X=new a3(bu)}else{X=new aT(bu)}}}}}}return X};function am(X){var Y=X.drawingContainer().clippedBBox(null);if(Y.origin.x!==0||Y.origin.y!==0){X.position(-Y.origin.x,-Y.origin.y)}}var ad=aK.extend({init:function(bt,bs,X){var Y=this;aK.fn.init.call(Y,X);this.updateOptionsFromModel();this._initRouter();Y.path=new p.Polyline(Y.options);Y.path.fill(aS);Y.visual.append(Y.path);Y._sourcePoint=Y._targetPoint=new n();Y.source(bt);Y.target(bs);Y.content(Y.options.content);Y.definers=[];if(q(X)&&X.points){Y.points(X.points)}Y.refresh()},options:{hover:{stroke:{}},startCap:aC,endCap:aC,points:[],selectable:true},_setOptionsFromModel:function(X){this.updateOptionsFromModel(X||this.dataItem)},updateOptionsFromModel:function(bs){if(this.diagram&&this.diagram._isEditable){var X=this.diagram._dataMap;var Y=z(bs||this.dataItem);if(bs){if(q(Y.from)){this.source(X[Y.from])}else{if(q(Y.fromX)&&q(Y.fromY)){this.source(new n(Y.fromX,Y.fromY))}}if(q(Y.to)){this.target(X[Y.to])}else{if(q(Y.toX)&&q(Y.toY)){this.target(new n(Y.toX,Y.toY))}}this.dataItem=bs;this._template();this.redraw(this.options)}else{this.options=bn({},Y,this.options)}}},updateModel:function(Y){if(this.diagram&&this.diagram._isEditable){if(this.diagram.connectionsDataSource){var X=this.diagram.connectionsDataSource.getByUid(this.dataItem.uid);if(X){this.diagram._suspendModelRefresh();if(q(this.options.fromX)&&this.options.fromX!==null){X.set("from",null);X.set("fromX",this.options.fromX);X.set("fromY",this.options.fromY)}else{X.set("from",this.options.from);X.set("fromX",null);X.set("fromY",null)}if(q(this.options.toX)&&this.options.toX!==null){X.set("to",null);X.set("toX",this.options.toX);X.set("toY",this.options.toY)}else{X.set("to",this.options.to);X.set("toX",null);X.set("toY",null)}this.dataItem=X;this.diagram._resumeModelRefresh();if(Y){this.diagram._syncConnectionChanges()}}}}},sourcePoint:function(){return this._resolvedSourceConnector?this._resolvedSourceConnector.position():this._sourcePoint},source:function(bt,Y){var bs;if(aQ(bt)){var X=bt instanceof Q;if(X&&!bt.getConnector(bp)){return}if(Y&&this.diagram){this.diagram.undoRedoService.addCompositeItem(new p.ConnectionEditUnit(this,bt))}if(bt!==E){this.from=bt}if(bt===null){if(this.sourceConnector){this._sourcePoint=this._resolvedSourceConnector.position();this._clearSourceConnector();this._setFromOptions(null,this._sourcePoint)}}else{if(bt instanceof j){bs=bt.shape.dataItem;if(bs){this._setFromOptions(bs.id)}this.sourceConnector=bt;this.sourceConnector.connections.push(this)}else{if(bt instanceof n){this._setFromOptions(null,bt);this._sourcePoint=bt;if(this.sourceConnector){this._clearSourceConnector()}}else{if(X){bs=bt.dataItem;if(bs){this._setFromOptions(bs.id)}this.sourceConnector=bt.getConnector(bp);this.sourceConnector.connections.push(this)}}}}this.refresh()}return this.sourceConnector?this.sourceConnector:this._sourcePoint},_setFromOptions:function(Y,X){this.options.from=Y;if(X){this.options.fromX=X.x;this.options.fromY=X.y}else{this.options.fromX=null;this.options.fromY=null}},sourceDefiner:function(X){if(X){if(X instanceof p.PathDefiner){X.left=null;this._sourceDefiner=X;this.source(X.point)}else{throw"The sourceDefiner needs to be a PathDefiner."}}else{if(!this._sourceDefiner){this._sourceDefiner=new p.PathDefiner(this.sourcePoint(),null,null)}return this._sourceDefiner}},targetPoint:function(){return this._resolvedTargetConnector?this._resolvedTargetConnector.position():this._targetPoint},target:function(bt,X){var bs;if(aQ(bt)){var Y=bt instanceof Q;if(Y&&!bt.getConnector(bp)){return}if(X&&this.diagram){this.diagram.undoRedoService.addCompositeItem(new p.ConnectionEditUnit(this,E,bt))}if(bt!==E){this.to=bt}if(bt===null){if(this.targetConnector){this._targetPoint=this._resolvedTargetConnector.position();this._clearTargetConnector();this._setToOptions(null,this._targetPoint)}}else{if(bt instanceof j){bs=bt.shape.dataItem;if(bs){this._setToOptions(bs.id)}this.targetConnector=bt;this.targetConnector.connections.push(this)}else{if(bt instanceof n){this._setToOptions(null,bt);this._targetPoint=bt;if(this.targetConnector){this._clearTargetConnector()}}else{if(Y){bs=bt.dataItem;if(bs){this._setToOptions(bs.id)}this.targetConnector=bt.getConnector(bp);this.targetConnector.connections.push(this)}}}}this.refresh()}return this.targetConnector?this.targetConnector:this._targetPoint},_setToOptions:function(Y,X){this.options.to=Y;if(X){this.options.toX=X.x;this.options.toY=X.y}else{this.options.toX=null;this.options.toY=null}},targetDefiner:function(X){if(X){if(X instanceof p.PathDefiner){X.right=null;this._targetDefiner=X;this.target(X.point)}else{throw"The sourceDefiner needs to be a PathDefiner."}}else{if(!this._targetDefiner){this._targetDefiner=new p.PathDefiner(this.targetPoint(),null,null)}return this._targetDefiner}},_updateConnectors:function(){this._updateConnector(this.source(),"source");this._updateConnector(this.target(),"target")},_updateConnector:function(X,bu){var bw=this;var bt=bw.diagram;if(X instanceof j&&!bt.getShapeById(X.shape.id)){var bs=X.shape.dataItem;var bx=X.options.name;var Y=function(){var by=bt._dataMap[bs.id];X=by.getConnector(bx);bw[bu](X,false);bw.updateModel()};if(bt._dataMap[bs.id]){Y()}else{var bv=bt._inactiveShapeItems.getByUid(bs.uid);if(bv){bt._deferredConnectionUpdates.push(bv.onActivate(Y))}}}else{bw[bu](X,false)}},content:function(X){return this._content(X)},select:function(bt){var X=this.diagram,Y,bs;if(this._canSelect()){if(this.isSelected!==bt){this.isSelected=bt;Y=[];bs=[];if(this.isSelected){this.adorner=new aa(this,this.options.selection);X._adorn(this.adorner,true);X._selectedItems.push(this);Y.push(this)}else{if(this.adorner){X._adorn(this.adorner,false);aG.remove(X._selectedItems,this);this.adorner=E;bs.push(this)}}this.refresh();if(!X._internalSelection){X._selectionChanged(Y,bs)}return true}}},bounds:function(X){if(X&&!bf(X)){this._bounds=X}else{return this._bounds}},type:function(Y){var X=this.options;if(Y){if(Y!==X.type){X.type=Y;this._initRouter();this.refresh()}}else{return X.type}},_initRouter:function(){var X=(this.options.type||"").toLowerCase();if(X==aJ){this._router=new bo(this)}else{this._router=new H(this)}},points:function(bt){if(bt){this.definers=[];for(var bs=0;bs<bt.length;bs++){var Y=bt[bs];if(Y instanceof p.Point){this.definers.push(new p.PathDefiner(Y))}else{if(Y.hasOwnProperty("x")&&Y.hasOwnProperty("y")){this.definers.push(new p.PathDefiner(new n(Y.x,Y.y)))}else{throw"A Connection point needs to be a Point or an object with x and y properties."}}}}else{var bu=[];if(aQ(this.definers)){for(var X=0;X<this.definers.length;X++){bu.push(this.definers[X].point)}}return bu}},allPoints:function(){var Y=[this.sourcePoint()];if(this.definers){for(var X=0;X<this.definers.length;X++){Y.push(this.definers[X].point)}}Y.push(this.targetPoint());return Y},refresh:function(){this._resolveConnectors();var bu=this.sourcePoint(),Y=this.targetPoint(),X,bv,bs,bt;this._refreshPath();X=this._bounds.topLeft();bv=bu.minus(X);bs=Y.minus(X);if(this._contentVisual){bt=n.fn.middleOf(bv,bs);this._contentVisual.position(new n(bt.x+X.x,bt.y+X.y))}if(this.adorner){this.adorner.refresh()}},_resolveConnectors:function(){var bs=this,bv,bw,bt=bs.source(),bu=bs.target(),Y,X;if(bt instanceof n){bv=bt}else{if(bt instanceof j){if(aO(bt)){Y=bt.shape}else{bs._resolvedSourceConnector=bt;bv=bt.position()}}}if(bu instanceof n){bw=bu}else{if(bu instanceof j){if(aO(bu)){X=bu.shape}else{bs._resolvedTargetConnector=bu;bw=bu.position()}}}if(bv){if(X){bs._resolvedTargetConnector=av(bv,X)}}else{if(Y){if(bw){bs._resolvedSourceConnector=av(bw,Y)}else{if(X){this._resolveAutoConnectors(Y,X)}}}}},_resolveAutoConnectors:function(bC,Y){var bw=aP;var bD=aP;var by=bC.connectors;var bx;var bF,bv;var bB,bu;var bt,bE;var X,bA;var bs,bG;var bz;for(bs=0;bs<by.length;bs++){X=by[bs];if(!aO(X)){bB=X.position();bx=Y.connectors;for(bG=0;bG<bx.length;bG++){bA=bx[bG];if(!aO(bA)){bu=bA.position();bz=ah.round(bB.distanceTo(bu));if(bz<bw&&this.diagram&&this._testRoutePoints(bB,bu,X,bA)){bw=bz;bF=X;bv=bA}if(bz<bD){bt=X;bE=bA;bD=bz}}}}}if(bF){bt=bF;bE=bv}this._resolvedSourceConnector=bt;this._resolvedTargetConnector=bE},_testRoutePoints:function(bz,bv,X,bw){var bB=this._router;var bt=true;if(bB instanceof bo){var bA=bB.routePoints(bz,bv,X,bw),bs,bu,Y,bx;bA.unshift(bz);bA.push(bv);Y=[X.shape,bw.shape];for(var by=1;by<bA.length;by++){bs=bA[by-1];bu=bA[by];bx=new M(ah.min(bs.x,bu.x),ah.min(bs.y,bu.y),ah.abs(bs.x-bu.x),ah.abs(bs.y-bu.y));if(this.diagram._shapesQuadTree.hitTestRect(bx,Y)){bt=false;break}}}return bt},redraw:function(X){if(X){this.options=bn({},this.options,X);var Y=this.options.points;if((X&&X.content)||X.text){this.content(X.content)}if(q(Y)&&Y.length>0){this.points(Y);this._refreshPath()}this.path.redraw({fill:X.fill,stroke:X.stroke,startCap:X.startCap,endCap:X.endCap})}},clone:function(){var X=this.serialize();if(this.diagram&&this.diagram._isEditable&&q(this.dataItem)){X.options.dataItem=aV(this.dataItem)}return new ad(this.from,this.to,X.options)},serialize:function(){var bs=this.from.toJSON?this.from.toJSON:this.from.toString(),Y=this.to.toJSON?this.to.toJSON:this.to.toString();var X=bn({},{options:this.options,from:bs,to:Y});if(q(this.dataItem)){X.dataItem=this.dataItem.toString()}X.options.points=this.points();return X},_hitTest:function(X){if(this.visible()){var Y=new n(X.x,X.y),bt=this.sourcePoint(),bs=this.targetPoint();if(X.isEmpty&&!X.isEmpty()&&X.contains(bt)&&X.contains(bs)){return this}if(this._router.hitTest(Y)){return this}}},_hover:function(Y){var X=(this.options.stroke||{}).color;if(Y&&aQ(this.options.hover.stroke.color)){X=this.options.hover.stroke.color}this.path.redraw({stroke:{color:X}})},_refreshPath:function(){if(!q(this.path)){return}this._drawPath();this.bounds(this._router.getBounds())},_drawPath:function(){if(this._router){this._router.route()}var Y=this.sourcePoint();var bs=this.targetPoint();var X=this.points();this.path.redraw({points:[Y].concat(X,[bs])})},_clearSourceConnector:function(){aG.remove(this.sourceConnector.connections,this);this.sourceConnector=E;this._resolvedSourceConnector=E},_clearTargetConnector:function(){aG.remove(this.targetConnector.connections,this);this.targetConnector=E;this._resolvedTargetConnector=E}});var a0=x.extend({init:function(X,bs){var Y=this;kendo.destroy(X);x.fn.init.call(Y,X,bs);Y._initTheme();Y._initElements();Y._extendLayoutOptions(Y.options);Y._initDefaults(bs);Y._initCanvas();Y.mainLayer=new aD({id:"main-layer"});Y.canvas.append(Y.mainLayer);Y._shapesQuadTree=new bq(Y);Y._pan=new n();Y._adorners=[];Y.adornerLayer=new aD({id:"adorner-layer"});Y.canvas.append(Y.adornerLayer);Y._createHandlers();Y._initialize();Y._fetchFreshData();Y._createGlobalToolBar();Y._resizingAdorner=new aU(Y,{editable:Y.options.editable});Y._connectorsAdorner=new ao(Y);Y._adorn(Y._resizingAdorner,true);Y._adorn(Y._connectorsAdorner,true);Y.selector=new ba(Y);Y._clipboard=[];Y.pauseMouseHandlers=false;Y._createShapes();Y._createConnections();if(Y.options.layout){Y.layout(Y.options.layout)}Y.zoom(Y.options.zoom);Y.canvas.draw()},options:{name:"Diagram",theme:"default",layout:"",zoomRate:0.1,zoom:1,zoomMin:0,zoomMax:2,dataSource:{},draggable:true,template:"",autoBind:true,editable:{rotate:{},resize:{},text:true,tools:[]},pannable:{key:"ctrl"},selectable:{key:"none"},tooltip:{enabled:true,format:"{0}"},copy:{enabled:true,offsetX:20,offsetY:20},snap:{size:10,angle:10},shapeDefaults:p.shapeDefaults({undoable:true}),connectionDefaults:{editable:{tools:[]}},shapes:[],connections:[]},events:[l,T,ay,ae,au,s,P,a4,r,ai,"toolBarClick","save","cancel","edit","remove","add","dataBound"],_createGlobalToolBar:function(){var X=this.options.editable;if(X){var Y=X.tools;if(this._isEditable&&Y.length===0){Y=["createShape","undo","redo","rotateClockwise","rotateAnticlockwise"]}if(Y&&Y.length){this.toolBar=new aX(this,{tools:Y||{},click:J(this._toolBarClick,this),modal:false});this.toolBar.element.css({position:"absolute",top:0,left:0,width:this.element.width(),textAlign:"left"});this.element.append(this.toolBar.element)}}},createShape:function(){if((this.editor&&this.editor.end())||!this.editor){var bv=this.dataSource;var X=bv.view()||[];var bt=X.length;var bs=V(bv,{});var Y=this._createShape(bs,{});if(!this.trigger("add",{shape:Y})){bv.insert(bt,bs);var bu=this._inactiveShapeItems.getByUid(bs.uid);bu.element=Y;this.edit(Y)}}},_createShape:function(bs,Y){Y=bn({},this.options.shapeDefaults,Y);Y.dataItem=bs;var X=new Q(Y,this);return X},createConnection:function(){if(((this.editor&&this.editor.end())||!this.editor)){var X=this.connectionsDataSource;var Y=X.view()||[];var bu=Y.length;var bt=V(X,{});var bs=this._createConnection(bt);if(!this.trigger("add",{connection:bs})){this._connectionsDataMap[bt.uid]=bs;X.insert(bu,bt);this.addConnection(bs,false);this.edit(bs)}}},_createConnection:function(bs,bt,bu){var Y=bn({},this.options.connectionDefaults);Y.dataItem=bs;var X=new ad(bt||new n(),bu||new n(),Y);return X},editModel:function(Y,X){this.cancelEdit();var bu,bt;var bs=this.options.editable;if(X=="shape"){bu=bs.shapeEditors;bt=bs.shapeTemplate}else{if(X=="connection"){var bv=J(o,this);bu=bn({},{from:bv,to:bv},bs.connectionEditors);bt=bs.connectionTemplate}else{return}}this.editor=new a9(this.element,{update:J(this._update,this),cancel:J(this._cancel,this),model:Y,type:X,target:this,editors:bu,template:bt});this.trigger("edit",this._editArgs())},edit:function(Y){if(Y.dataItem){var X=Y instanceof Q?"shape":"connection";this.editModel(Y.dataItem,X)}},cancelEdit:function(){if(this.editor){this._getEditDataSource().cancelChanges(this.editor.model);this._destroyEditor()}},saveEdit:function(){if(this.editor&&this.editor.end()&&!this.trigger("save",this._editArgs())){this._getEditDataSource().sync()}},_update:function(){if(this.editor&&this.editor.end()&&!this.trigger("save",this._editArgs())){this._getEditDataSource().sync();this._destroyEditor()}},_cancel:function(){if(this.editor&&!this.trigger("cancel",this._editArgs())){var X=this.editor.model;this._getEditDataSource().cancelChanges(X);var Y=this._connectionsDataMap[X.uid]||this._dataMap[X.id];if(Y){Y._setOptionsFromModel(X)}this._destroyEditor()}},_getEditDataSource:function(){return this.editor.options.type==="shape"?this.dataSource:this.connectionsDataSource},_editArgs:function(){var X={container:this.editor.element};X[this.editor.options.type]=this.editor.model;return X},_destroyEditor:function(){if(this.editor){this.editor.close();this.editor=null}},_initElements:function(){this.wrapper=this.element.empty().css("position","relative").attr("tabindex",0).addClass("k-widget k-diagram");this.scrollable=a5("<div />").appendTo(this.element)},_initDefaults:function(bs){var Y=this.options;var X=(bs||{}).shapeDefaults;if(Y.editable===false){Y.shapeDefaults.editable=false;Y.connectionDefaults.editable=false}if(X&&X.connectors){Y.shapeDefaults.connectors=X.connectors}},_initCanvas:function(){var Y=a5("<div class='k-layer'></div>").appendTo(this.scrollable)[0];var X=this.viewport();this.canvas=new m(Y,{width:X.width||u,height:X.height||bh})},_createHandlers:function(){var Y=this;var X=Y.element;X.on(b,J(Y._wheel,Y));if(!kendo.support.touch&&!kendo.support.mobileOS){Y.toolService=new bj(Y);this.scroller.wrapper.on("mousemove"+bd,J(Y._mouseMove,Y)).on("mouseup"+bd,J(Y._mouseUp,Y)).on("mousedown"+bd,J(Y._mouseDown,Y)).on("mouseover"+bd,J(Y._mouseover,Y)).on("mouseout"+bd,J(Y._mouseout,Y));X.on("keydown"+bd,J(Y._keydown,Y))}else{Y._userEvents=new kendo.UserEvents(X,{multiTouch:true,tap:J(Y._tap,Y)});Y._userEvents.bind(["gesturestart","gesturechange","gestureend"],{gesturestart:J(Y._gestureStart,Y),gesturechange:J(Y._gestureChange,Y),gestureend:J(Y._gestureEnd,Y)});Y.toolService=new bj(Y);if(Y.options.pannable!==false){Y.scroller.enable()}}this._syncHandler=J(Y._syncChanges,Y);Y._resizeHandler=J(Y.resize,Y,false);kendo.onResize(Y._resizeHandler);this.bind(T,J(Y._destroyToolBar,Y));this.bind(ay,J(Y._destroyToolBar,Y))},_tap:function(bt){var Y=this.toolService;var bs=this._caculateMobilePosition(bt);Y._updateHoveredItem(bs);if(Y.hoveredItem){var X=Y.hoveredItem;if(this.options.selectable!==false){this._destroyToolBar();if(X.isSelected){X.select(false)}else{this.select(X,{addToSelection:true})}this._createToolBar()}this.trigger("click",{item:X,point:bs})}},_caculateMobilePosition:function(X){return this.documentToModel(n(X.x.location,X.y.location))},_gestureStart:function(bs){this._destroyToolBar();this.scroller.disable();var Y=this.documentToModel(new n(bs.center.x,bs.center.y));var X={point:Y,zoom:this.zoom()};if(this.trigger(T,X)){return}this._gesture=bs;this._initialCenter=Y},_gestureChange:function(bu){var X=this._gesture;var bv=this._initialCenter;var Y=this.documentToView(new n(bu.center.x,bu.center.y));var bw=bu.distance/X.distance;var by=this._zoom;var bt=false;if(ah.abs(bw-1)>=bg){this._zoom=by=this._getValidZoom(by*bw);this.options.zoom=by;this._gesture=bu;bt=true}var bs=bv.times(by);var bx=Y.minus(bs);if(bt||this._pan.distanceTo(bx)>=c){this._panTransform(bx);this._updateAdorners()}bu.preventDefault()},_gestureEnd:function(){if(this.options.pannable!==false){this.scroller.enable()}this.trigger(l,{point:this._initialCenter,zoom:this.zoom()})},_resize:function(X){if(this.canvas){this.canvas.size(X)}if(this.toolBar){this.toolBar._toolBar.element.width(this.element.width())}},_mouseover:function(Y){var X=Y.target._kendoNode;if(X&&X.srcElement._hover){X.srcElement._hover(true,X.srcElement)}},_mouseout:function(Y){var X=Y.target._kendoNode;if(X&&X.srcElement._hover){X.srcElement._hover(false,X.srcElement)}},_initTheme:function(){var bs=this,X=aH.ui.themes||{},bt=((bs.options||{}).theme||"").toLowerCase(),Y=(X[bt]||{}).diagram;bs.options=bn({},Y,bs.options)},_createShapes:function(){var bu=this,bs=bu.options,X=bs.shapes,Y,bt;for(bt=0;bt<X.length;bt++){Y=X[bt];bu.addShape(Y)}},_createConnections:function(){var Y=this,X=Y.options,bx=X.connectionDefaults,bt=X.connections,bu,bv,bw,bs;for(bs=0;bs<bt.length;bs++){bu=bt[bs];bv=Y._findConnectionShape(bu.from);bw=Y._findConnectionShape(bu.to);Y.connect(bv,bw,bn({},bx,bu))}},_findConnectionShape:function(bs){var Y=this,bt=bf(bs)?bs:bs.shapeId;var X=Y.getShapeById(bt);return X.getConnector(bs.connector||bp)},destroy:function(){var X=this;x.fn.destroy.call(X);if(this._userEvents){this._userEvents.destroy()}kendo.unbindResize(X._resizeHandler);X.clear();X.element.off(bd);X.scroller.wrapper.off(bd);X.canvas.destroy(true);X.canvas=E;X._destroyEditor();X.destroyScroller();X._destroyGlobalToolBar();X._destroyToolBar()},destroyScroller:function(){var X=this.scroller;if(!X){return}X.destroy();X.element.remove();this.scroller=null},save:function(){var bt={},bs;bt.shapes=[];bt.connections=[];for(bs=0;bs<this.shapes.length;bs++){var Y=this.shapes[bs];if(Y.options.serializable){bt.shapes.push(Y.options)}}for(bs=0;bs<this.connections.length;bs++){var X=this.connections[bs];var bu=bn({},X.options,{from:X.from.toJSON(),to:X.to.toJSON()});bt.connections.push(bu)}return bt},focus:function(){if(!this.element.is(kendo._activeElement())){var bs=this.element,Y=bs[0],bv=[],bt=[],bu=document.documentElement,X;do{Y=Y.parentNode;if(Y.scrollHeight>Y.clientHeight){bv.push(Y);bt.push(Y.scrollTop)}}while(Y!=bu);bs.focus();for(X=0;X<bv.length;X++){bv[X].scrollTop=bt[X]}}},load:function(X){this.clear();this.setOptions(X);this._createShapes();this._createConnections()},setOptions:function(X){bn(this.options,X)},clear:function(){var X=this;X.select(false);X.mainLayer.clear();X._shapesQuadTree.clear();X._initialize()},connect:function(bt,bu,bs){var X;if(this.connectionsDataSource&&this._isEditable){var Y=this.connectionsDataSource.add({});X=this._connectionsDataMap[Y.uid];X.source(bt);X.target(bu);X.redraw(bs);X.updateModel()}else{X=new ad(bt,bu,bn({},this.options.connectionDefaults,bs));this.addConnection(X)}return X},connected:function(Y,bs){for(var X=0;X<this.connections.length;X++){var bt=this.connections[X];if(bt.from==Y&&bt.to==bs){return true}}return false},addConnection:function(Y,X){if(X!==false){this.undoRedoService.add(new p.AddConnectionUnit(Y,this),false)}Y.diagram=this;Y.updateOptionsFromModel();Y.refresh();this.mainLayer.append(Y.visual);this.connections.push(Y);this.trigger(P,{added:[Y],removed:[]});return Y},_addConnection:function(bs,Y){var X=this.connectionsDataSource;var bt;if(X&&this._isEditable){bt=V(X,aV(bs.dataItem));bs.dataItem=bt;bs.updateModel();if(!this.trigger("add",{connection:bs})){this._connectionsDataMap[bt.uid]=bs;X.add(bt);this.addConnection(bs,Y);bs._updateConnectors();return bs}}else{if(!this.trigger("add",{connection:bs})){this.addConnection(bs,Y);bs._updateConnectors();return bs}}},addShape:function(bt,Y){var X,bs=this.options.shapeDefaults;if(bt instanceof Q){bs=bn({},bs,Y);bt.redraw(Y);X=bt}else{if(!(bt instanceof kendo.Class)){bs=bn({},bs,bt||{});X=new Q(bs)}else{return}}if(bs.undoable){this.undoRedoService.add(new p.AddShapeUnit(X,this),false)}this.shapes.push(X);X.diagram=this;this.mainLayer.append(X.visual);this._shapesQuadTree.insert(X);this.trigger(P,{added:[X],removed:[]});if(X.hasOwnProperty("layout")){X.layout(X)}return X},_addShape:function(Y,X){var bu=this;var bv=bu.dataSource;var bs;if(bv&&this._isEditable){bs=V(bv,aV(Y.dataItem));Y.dataItem=bs;Y.updateModel();if(!this.trigger("add",{shape:Y})){this.dataSource.add(bs);var bt=this._inactiveShapeItems.getByUid(bs.uid);bt.element=Y;bt.undoable=X;return Y}}else{if(!this.trigger("add",{shape:Y})){return this.addShape(Y,{undoable:X})}}},remove:function(bs,Y){bs=h(bs)?bs.slice(0):[bs];var bv=bl(bs);var X=bv.shapes;var bu=bv.connections;var bt;if(!q(Y)){Y=true}if(Y){this.undoRedoService.begin()}this._suspendModelRefresh();for(bt=X.length-1;bt>=0;bt--){this._removeItem(X[bt],Y,bu)}for(bt=bu.length-1;bt>=0;bt--){this._removeItem(bu[bt],Y)}this._resumeModelRefresh();if(Y){this.undoRedoService.commit(false)}this.trigger(P,{added:[],removed:bs})},_removeShapeDataItem:function(X){if(this._isEditable){this.dataSource.remove(X.dataItem);delete this._dataMap[X.dataItem.id]}},_removeConnectionDataItem:function(X){if(this._isEditable){this.connectionsDataSource.remove(X.dataItem);delete this._connectionsDataMap[X.dataItem.uid]}},_triggerRemove:function(Y){var bt=[];var bu,bs;for(var X=0;X<Y.length;X++){bu=Y[X];if(bu instanceof Q){bs={shape:bu}}else{bs={connection:bu}}if(!this.trigger("remove",bs)){bt.push(bu)}}return bt},undo:function(){this.undoRedoService.undo()},redo:function(){this.undoRedoService.redo()},select:function(bw,Y){if(aQ(bw)){Y=bn({addToSelection:false},Y);var bv=Y.addToSelection,X=[],bu=[],bt,bs;if(!bv){this.deselect()}this._internalSelection=true;if(bw instanceof Array){X=bw}else{if(bw instanceof aK){X=[bw]}}for(bt=0;bt<X.length;bt++){bs=X[bt];if(bs.select(true)){bu.push(bs)}}this._selectionChanged(bu,[]);this._internalSelection=false}else{return this._selectedItems}},selectAll:function(){this.select(this.shapes.concat(this.connections))},selectArea:function(bu){var Y,X,bt;this._internalSelection=true;var bs=[];if(bu instanceof M){X=this.shapes.concat(this.connections);for(Y=0;Y<X.length;Y++){bt=X[Y];if((!bu||bt._hitTest(bu))&&bt.options.enable){if(bt.select(true)){bs.push(bt)}}}}this._selectionChanged(bs,[]);this._internalSelection=false},deselect:function(bt){this._internalSelection=true;var bu=[],X=[],bs,Y;if(bt instanceof Array){X=bt}else{if(bt instanceof aK){X.push(bt)}else{if(!aQ(bt)){X=this._selectedItems.slice(0)}}}for(Y=0;Y<X.length;Y++){bs=X[Y];if(bs.select(false)){bu.push(bs)}}this._selectionChanged([],bu);this._internalSelection=false},toFront:function(bs,Y){if(!bs){bs=this._selectedItems.slice()}var X=this._getDiagramItems(bs),bu;if(!q(Y)||Y){bu=L(this.mainLayer,X.visuals);var bt=new ar(this,bs,bu);this.undoRedoService.add(bt)}else{this.mainLayer.toFront(X.visuals);this._fixOrdering(X,true)}},toBack:function(bs,Y){if(!bs){bs=this._selectedItems.slice()}var X=this._getDiagramItems(bs),bu;if(!q(Y)||Y){bu=L(this.mainLayer,X.visuals);var bt=new ab(this,bs,bu);this.undoRedoService.add(bt)}else{this.mainLayer.toBack(X.visuals);this._fixOrdering(X,false)}},bringIntoView:function(bw,bs){var X=this.viewport();var bu=new p.RectAlign(X);var bx,bv,bt,Y;if(X.width===0||X.height===0){return}bs=bn({animate:false,align:"center middle"},bs);if(bs.align=="none"){bs.align="center middle"}if(bw instanceof aK){bv=bw.bounds(aZ)}else{if(h(bw)){bv=this.boundingBox(bw)}else{if(bw instanceof M){bv=bw.clone()}}}bt=bv.clone();bv.zoom(this._zoom);this._storePan(new n());if(bv.width>X.width||bv.height>X.height){this._zoom=this._getValidZoom(ah.min(X.width/bt.width,X.height/bt.height));bv=bt.clone().zoom(this._zoom)}this._zoomMainLayer();bx=bv.clone();bu.align(bv,bs.align);Y=bv.topLeft().minus(bx.topLeft());this.pan(Y.times(-1),bs.animate)},alignShapes:function(bv){if(an(bv)){bv="Left"}var Y=this.select(),bw,bu,bs;if(Y.length===0){return}switch(bv.toLowerCase()){case"left":case"top":bw=at;break;case"right":case"bottom":bw=k;break}for(bs=0;bs<Y.length;bs++){bu=Y[bs];if(bu instanceof Q){switch(bv.toLowerCase()){case"left":bw=ah.min(bw,bu.options.x);break;case"top":bw=ah.min(bw,bu.options.y);break;case"right":bw=ah.max(bw,bu.options.x);break;case"bottom":bw=ah.max(bw,bu.options.y);break}}}var bx=[];var X=[];for(bs=0;bs<Y.length;bs++){bu=Y[bs];if(bu instanceof Q){X.push(bu);bx.push(bu.bounds());switch(bv.toLowerCase()){case"left":case"right":bu.position(new n(bw,bu.options.y));break;case"top":case"bottom":bu.position(new n(bu.options.x,bw));break}}}var bt=new p.TransformUnit(X,bx);this.undoRedoService.add(bt,false)},zoom:function(bv,bu){if(bv){var Y=bu?bu.point:new p.Point(0,0);bv=this._zoom=this._getValidZoom(bv);if(!an(Y)){Y=new p.Point(ah.round(Y.x),ah.round(Y.y));var X=Y.times(bv);var bt=this.modelToView(Y);var bs=bt.minus(X);this._storePan(new p.Point(ah.round(bs.x),ah.round(bs.y)))}if(bu){bu.zoom=bv}this._panTransform();this._updateAdorners()}return this._zoom},_getPan:function(Y){var X=this.canvas;if(!X.translate){Y=Y.plus(this._pan)}return Y},pan:function(bt,Y){if(bt instanceof n){var bs=this;var X=bs.scroller;bt=bs._getPan(bt);bt=bt.times(-1);if(Y){X.animatedScrollTo(bt.x,bt.y,function(){bs._updateAdorners()})}else{X.scrollTo(bt.x,bt.y);bs._updateAdorners()}}},viewport:function(){var X=this.element;return new M(0,0,X.width(),X.height())},copy:function(){if(this.options.copy.enabled){this._clipboard=[];this._copyOffset=1;for(var X=0;X<this._selectedItems.length;X++){var Y=this._selectedItems[X];this._clipboard.push(Y)}}},cut:function(){if(this.options.copy.enabled){this._clipboard=[];this._copyOffset=0;for(var X=0;X<this._selectedItems.length;X++){var Y=this._selectedItems[X];this._clipboard.push(Y)}this.remove(this._clipboard,true)}},paste:function(){if(this._clipboard.length>0){var bv,Y,bu;var bs={};var bw=bl(this._clipboard);var bt=bw.connections;var X=bw.shapes;var bx={x:this._copyOffset*this.options.copy.offsetX,y:this._copyOffset*this.options.copy.offsetY};this.deselect();for(bu=0;bu<X.length;bu++){bv=X[bu];Y=bv.clone();bs[bv.id]=Y;Y.position(new n(bv.options.x+bx.x,bv.options.y+bx.y));Y.diagram=this;Y=this._addShape(Y);if(Y){Y.select()}}for(bu=0;bu<bt.length;bu++){bv=bt[bu];Y=this._addConnection(bv.clone());if(Y){this._updateCopiedConnection(Y,bv,"source",bs,bx);this._updateCopiedConnection(Y,bv,"target",bs,bx);Y.select(true);Y.updateModel()}}this._syncChanges();this._copyOffset+=1}},_updateCopiedConnection:function(Y,bw,bz,X,bv){var bt,by,bs;var bx=bw[bz]();var bu=this;if(bx instanceof j&&X[bx.shape.id]){bs=X[bx.shape.id];if(bu.getShapeById(bs.id)){Y[bz](bs.getConnector(bx.options.name))}else{by=bu._inactiveShapeItems.getByUid(bs.dataItem.uid);if(by){bt=function(bA){bs=bu._dataMap[bA.id];Y[bz](bs.getConnector(bx.options.name));Y.updateModel()};bu._deferredConnectionUpdates.push(by.onActivate(bt))}}}else{Y[bz](new n(bw[bz+"Point"]().x+bv.x,bw[bz+"Point"]().y+bv.y))}},boundingBox:function(bs,Y){var bw=M.empty(),X,bv=aQ(bs)?this._getDiagramItems(bs):{shapes:this.shapes};if(bv.shapes.length>0){var bu=bv.shapes[0];bw=bu.bounds(ag);for(var bt=1;bt<bv.shapes.length;bt++){bu=bv.shapes[bt];X=bu.bounds(ag);if(Y===true){X.x-=bu._rotationOffset.x;X.y-=bu._rotationOffset.y}bw=bw.union(X)}}return bw},documentToView:function(X){var Y=this.element.offset();return new n(X.x-Y.left,X.y-Y.top)},viewToDocument:function(X){var Y=this.element.offset();return new n(X.x+Y.left,X.y+Y.top)},viewToModel:function(X){return this._transformWithMatrix(X,this._matrixInvert)},modelToView:function(X){return this._transformWithMatrix(X,this._matrix)},modelToLayer:function(X){return this._transformWithMatrix(X,this._layerMatrix)},layerToModel:function(X){return this._transformWithMatrix(X,this._layerMatrixInvert)},documentToModel:function(Y){var X=this.documentToView(Y);if(!this.canvas.translate){X.x=X.x+this.scroller.scrollLeft;X.y=X.y+this.scroller.scrollTop}return this.viewToModel(X)},modelToDocument:function(X){return this.viewToDocument(this.modelToView(X))},_transformWithMatrix:function(Y,bt){var X=Y;if(Y instanceof n){if(bt){X=bt.apply(Y)}}else{var bs=this._transformWithMatrix(Y.topLeft(),bt),bu=this._transformWithMatrix(Y.bottomRight(),bt);X=M.fromPoints(bs,bu)}return X},setDataSource:function(X){this.options.dataSource=X;this._dataSource();if(this.options.autoBind){this.dataSource.fetch()}},setConnectionsDataSource:function(X){this.options.connectionsDataSource=X;this._connectionDataSource();if(this.options.autoBind){this.connectionsDataSource.fetch()}},layout:function(bs){this.isLayouting=true;var bt;if(an(bs)){bs=this.options.layout}if(an(bs)||an(bs.type)){bt="Tree"}else{bt=bs.type}var Y;switch(bt.toLowerCase()){case"tree":Y=new p.TreeLayout(this);break;case"layered":Y=new p.LayeredLayout(this);break;case"forcedirected":case"force":case"spring":case"springembedder":Y=new p.SpringLayout(this);break;default:throw"Layout algorithm '"+bt+"' is not supported."}var X=new p.LayoutState(this);var bv=Y.layout(bs);if(bv){var bu=new p.LayoutUndoUnit(X,bv,bs?bs.animate:null);this.undoRedoService.add(bu)}this.isLayouting=false},getShapeById:function(Y){var X;X=aG.first(this.shapes,function(bs){return bs.visual.id===Y});if(X){return X}X=aG.first(this.connections,function(bs){return bs.visual.id===Y});return X},_extendLayoutOptions:function(X){if(X.layout){X.layout=bn(p.LayoutBase.fn.defaultOptions||{},X.layout)}},_selectionChanged:function(X,Y){if(X.length||Y.length){this.trigger(ae,{selected:X,deselected:Y})}},_getValidZoom:function(X){return ah.min(ah.max(X,this.options.zoomMin),this.options.zoomMax)},_panTransform:function(bs){var X=this,Y=bs||X._pan;if(X.canvas.translate){X.scroller.scrollTo(Y.x,Y.y);X._zoomMainLayer()}else{X._storePan(Y);X._transformMainLayer()}},_finishPan:function(){this.trigger(ay,{total:this._pan,delta:Number.NaN})},_storePan:function(X){this._pan=X;this._storeViewMatrix()},_zoomMainLayer:function(){var Y=this._zoom;var X=new d(0,0,Y,Y);X.render(this.mainLayer);this._storeLayerMatrix(X);this._storeViewMatrix()},_transformMainLayer:function(){var bs=this._pan,Y=this._zoom;var X=new d(bs.x,bs.y,Y,Y);X.render(this.mainLayer);this._storeLayerMatrix(X);this._storeViewMatrix()},_storeLayerMatrix:function(X){this._layerMatrix=X.toMatrix();this._layerMatrixInvert=X.invert().toMatrix()},_storeViewMatrix:function(){var bs=this._pan,Y=this._zoom;var X=new d(bs.x,bs.y,Y,Y);this._matrix=X.toMatrix();this._matrixInvert=X.invert().toMatrix()},_toIndex:function(Y,bs){var X=this._getDiagramItems(Y);this.mainLayer.toIndex(X.visuals,bs);this._fixOrdering(X,false)},_fixOrdering:function(Y,X){var bs=X?this.shapes.length-1:0,bt=X?this.connections.length-1:0,bu,bv;for(bu=0;bu<Y.shapes.length;bu++){bv=Y.shapes[bu];aG.remove(this.shapes,bv);aG.insert(this.shapes,bv,bs)}for(bu=0;bu<Y.cons.length;bu++){bv=Y.cons[bu];aG.remove(this.connections,bv);aG.insert(this.connections,bv,bt)}},_getDiagramItems:function(Y){var bt,X={},bs=Y;X.visuals=[];X.shapes=[];X.cons=[];if(!Y){bs=this._selectedItems.slice()}else{if(!h(Y)){bs=[Y]}}for(bt=0;bt<bs.length;bt++){var bu=bs[bt];if(bu instanceof Q){X.shapes.push(bu);X.visuals.push(bu.visual)}else{if(bu instanceof ad){X.cons.push(bu);X.visuals.push(bu.visual)}}}return X},_removeItem:function(bs,Y,X){bs.select(false);if(bs instanceof Q){this._removeShapeDataItem(bs);this._removeShape(bs,Y,X)}else{if(bs instanceof ad){this._removeConnectionDataItem(bs);this._removeConnection(bs,Y)}}this.mainLayer.remove(bs.visual)},_removeShape:function(bx,by,bt){var bv,Y,bs,X=[],bw=[];this.toolService._removeHover();if(by){this.undoRedoService.addCompositeItem(new az(bx))}aG.remove(this.shapes,bx);this._shapesQuadTree.remove(bx);for(bv=0;bv<bx.connectors.length;bv++){bs=bx.connectors[bv];for(var bu=0;bu<bs.connections.length;bu++){Y=bs.connections[bu];if(!bt||!aH.inArray(Y,bt)){if(Y.sourceConnector==bs){X.push(Y)}else{if(Y.targetConnector==bs){bw.push(Y)}}}}}for(bv=0;bv<X.length;bv++){X[bv].source(null,by);X[bv].updateModel()}for(bv=0;bv<bw.length;bv++){bw[bv].target(null,by);bw[bv].updateModel()}},_removeConnection:function(Y,X){if(Y.sourceConnector){aG.remove(Y.sourceConnector.connections,Y)}if(Y.targetConnector){aG.remove(Y.targetConnector.connections,Y)}if(X){this.undoRedoService.addCompositeItem(new bk(Y))}aG.remove(this.connections,Y)},_removeDataItems:function(bs,bt){var bv,bu,Y,X;bs=h(bs)?bs:[bs];while(bs.length){bv=bs.shift();Y=this._dataMap[bv.uid];if(Y){this._removeShapeConnections(Y);this._removeItem(Y,false);delete this._dataMap[bv.uid];if(bt&&bv.hasChildren&&bv.loaded()){bu=bv.children.data();for(X=0;X<bu.length;X++){bs.push(bu[X])}}}}},_removeShapeConnections:function(Y){var bs=Y.connections();var X;if(bs){for(X=0;X<bs.length;X++){this._removeItem(bs[X],false)}}},_addDataItem:function(bt,X){if(!q(bt)){return}var Y=this._dataMap[bt.id];if(Y){return Y}var bs=bn({},this.options.shapeDefaults);bs.dataItem=bt;Y=new Q(bs,this);this.addShape(Y,{undoable:X!==false});this._dataMap[bt.id]=Y;return Y},_addDataItemByUid:function(bs){if(!q(bs)){return}var X=this._dataMap[bs.uid];if(X){return X}var Y=bn({},this.options.shapeDefaults);Y.dataItem=bs;X=new Q(Y,this);this.addShape(X);this._dataMap[bs.uid]=X;return X},_addDataItems:function(bu,bv){var bw,X,bt,bs,Y;for(X=0;X<bu.length;X++){bw=bu[X];bt=this._addDataItemByUid(bw);bs=this._addDataItemByUid(bv);if(bs&&!this.connected(bs,bt)){Y=this.connect(bs,bt);Y.type(aJ)}}},_refreshSource:function(bw){var bu=this,bt=bw.node,bv=bw.action,Y=bw.items,bs=bu.options,X;if(bw.field){return}if(bv=="remove"){this._removeDataItems(bw.items,true)}else{if(!bv&&!bt){bu.clear()}this._addDataItems(Y,bt);for(X=0;X<Y.length;X++){Y[X].load()}}if(bs.layout){bu.layout(bs.layout)}},_mouseDown:function(Y){var X=this._calculatePosition(Y);if(Y.which==1&&this.toolService.start(X,this._meta(Y))){this._destroyToolBar();Y.preventDefault()}},_addItem:function(X){if(X instanceof Q){this.addShape(X)}else{if(X instanceof ad){this.addConnection(X)}}},_mouseUp:function(Y){var X=this._calculatePosition(Y);if(Y.which==1&&this.toolService.end(X,this._meta(Y))){this._createToolBar();Y.preventDefault()}},_createToolBar:function(){var Y=this.toolService.diagram;if(!this.singleToolBar&&Y.select().length===1){var bs=Y.select()[0];if(bs&&bs.options.editable!==false){var bu=bs.options.editable.tools;if(this._isEditable&&bu.length===0){if(bs instanceof Q){bu=["edit","rotateClockwise","rotateAnticlockwise","delete"]}else{if(bs instanceof ad){bu=["edit","delete"]}}}if(bu&&bu.length){var bw=20;var by;this.singleToolBar=new aX(Y,{tools:bu,click:J(this._toolBarClick,this),modal:true});var X=this.singleToolBar.element;var bx=this.singleToolBar._popup.element.outerWidth();var bv=this.singleToolBar._popup.element.outerHeight();if(bs instanceof Q){var bt=this.modelToView(bs.bounds(ag));by=n(bt.x,bt.y).minus(n((bx-bt.width)/2,bv+bw))}else{if(bs instanceof ad){var bz=this.modelToView(bs.bounds());by=n(bz.x,bz.y).minus(n((bx-bz.width-20)/2,bv+bw))}}if(by){if(!this.canvas.translate){by=by.minus(n(this.scroller.scrollLeft,this.scroller.scrollTop))}by=this.viewToDocument(by);by=n(ah.max(by.x,0),ah.max(by.y,0));this.singleToolBar.showAt(by)}else{this._destroyToolBar()}}}}},_toolBarClick:function(X){this.trigger("toolBarClick",X);this._destroyToolBar()},_mouseMove:function(Y){if(this.pauseMouseHandlers){return}var X=this._calculatePosition(Y);if((Y.which===0||Y.which==1)&&this.toolService.move(X,this._meta(Y))){Y.preventDefault()}},_keydown:function(X){if(this.toolService.keyDown(X.keyCode,this._meta(X))){X.preventDefault()}},_wheel:function(bs){var bt=A(bs),Y=this._calculatePosition(bs),X=bn(this._meta(bs),{delta:bt});if(this.toolService.wheel(Y,X)){bs.preventDefault()}},_meta:function(X){return{ctrlKey:X.ctrlKey,metaKey:X.metaKey,altKey:X.altKey,shiftKey:X.shiftKey}},_calculatePosition:function(Y){var bt=(Y.pageX===E?Y.originalEvent:Y),X=new n(bt.pageX,bt.pageY),bs=this.documentToModel(X);return bs},_normalizePointZoom:function(X){return X.times(1/this.zoom())},_initialize:function(){this.shapes=[];this._selectedItems=[];this.connections=[];this._dataMap={};this._connectionsDataMap={};this._inactiveShapeItems=new S();this._deferredConnectionUpdates=[];this.undoRedoService=new bm({undone:this._syncHandler,redone:this._syncHandler});this.id=p.randomId()},_fetchFreshData:function(){var Y=this;Y._dataSource();if(Y._isEditable){Y._connectionDataSource()}if(Y.options.autoBind){if(Y._isEditable){Y._preventRefresh=true;Y._preventConnectionsRefresh=true;var X=a5.map([Y.dataSource,Y.connectionsDataSource],function(bs){return bs.fetch()});a5.when.apply(null,X).done(function(){Y._preventRefresh=false;Y._preventConnectionsRefresh=false;Y.refresh()})}else{Y.dataSource.fetch()}}},_dataSource:function(){if(q(this.options.connectionsDataSource)){this._isEditable=true;var Y=this.options.dataSource||{};var X=h(Y)?{data:Y}:Y;if(this.dataSource&&this._shapesRefreshHandler){this.dataSource.unbind("change",this._shapesRefreshHandler).unbind("error",this._shapesErrorHandler)}else{this._shapesRefreshHandler=J(this._refreshShapes,this);this._shapesErrorHandler=J(this._error,this)}this.dataSource=kendo.data.DataSource.create(X).bind("change",this._shapesRefreshHandler).bind("error",this._shapesErrorHandler)}else{this._treeDataSource();this._isEditable=false}},_connectionDataSource:function(){var Y=this.options.connectionsDataSource;if(Y){var X=h(Y)?{data:Y}:Y;if(this.connectionsDataSource&&this._connectionsRefreshHandler){this.connectionsDataSource.unbind("change",this._connectionsRefreshHandler).unbind("error",this._connectionsErrorHandler)}else{this._connectionsRefreshHandler=J(this._refreshConnections,this);this._connectionsErrorHandler=J(this._error,this)}this.connectionsDataSource=kendo.data.DataSource.create(X).bind("change",this._connectionsRefreshHandler).bind("error",this._connectionsErrorHandler)}},_refreshShapes:function(X){if(X.action==="remove"){if(this._shouldRefresh()){this._removeShapes(X.items)}}else{if(X.action==="itemchange"){if(this._shouldRefresh()){this._updateShapes(X.items,X.field)}}else{if(X.action==="add"){this._inactiveShapeItems.add(X.items)}else{if(X.action==="sync"){this._syncShapes(X.items)}else{this.refresh()}}}}},_shouldRefresh:function(){return !this._suspended},_suspendModelRefresh:function(){this._suspended=(this._suspended||0)+1},_resumeModelRefresh:function(){this._suspended=ah.max((this._suspended||0)-1,0)},refresh:function(){if(this._preventRefresh){return}this.trigger("dataBound");this.clear();this._addShapes(this.dataSource.view());if(this.connectionsDataSource){this._addConnections(this.connectionsDataSource.view(),false)}if(this.options.layout){this.layout(this.options.layout)}},refreshConnections:function(){if(this._preventConnectionsRefresh){return}this.trigger("dataBound");this._addConnections(this.connectionsDataSource.view(),false);if(this.options.layout){this.layout(this.options.layout)}},_removeShapes:function(Y){var X=this._dataMap;var bt,bs;for(bs=0;bs<Y.length;bs++){bt=Y[bs];if(X[bt.id]){this.remove(X[bt.id],false);X[bt.id]=null}}},_syncShapes:function(X){var bs=this;var Y=bs._inactiveShapeItems;Y.forEach(function(bv){var bu=bv.dataItem;var bt=bv.element;if(!bu.isNew()){if(bt){bt._setOptionsFromModel();bs.addShape(bt,{undoable:bv.undoable});bs._dataMap[bu.id]=bt}else{bs._addDataItem(bu)}bv.activate();Y.remove(bu)}})},_updateShapes:function(Y,bu){for(var bt=0;bt<Y.length;bt++){var bs=Y[bt];var X=this._dataMap[bs.id];if(X){X.updateOptionsFromModel(bs,bu)}}},_addShapes:function(X){for(var Y=0;Y<X.length;Y++){this._addDataItem(X[Y],false)}},_refreshConnections:function(X){if(X.action==="remove"){if(this._shouldRefresh()){this._removeConnections(X.items)}}else{if(X.action==="add"){this._addConnections(X.items)}else{if(X.action==="sync"){}else{if(X.action==="itemchange"){if(this._shouldRefresh()){this._updateConnections(X.items)}}else{this.refreshConnections()}}}}},_removeConnections:function(X){for(var Y=0;Y<X.length;Y++){this.remove(this._connectionsDataMap[X[Y].uid],false);this._connectionsDataMap[X[Y].uid]=null}},_updateConnections:function(Y){for(var bt=0;bt<Y.length;bt++){var bs=Y[bt];var X=this._connectionsDataMap[bs.uid];X.updateOptionsFromModel(bs);var bv=this._validateConnector(bs.from);if(bv){X.source(bv)}var bu=this._validateConnector(bs.to);if(bu){X.target(bu)}}},_addConnections:function(bt,X){var bu=bt.length;for(var bs=0;bs<bu;bs++){var Y=bt[bs];this._addConnectionDataItem(Y,X)}},_addConnectionDataItem:function(bt,X){if(!this._connectionsDataMap[bt.uid]){var bv=this._validateConnector(bt.from);if(!q(bv)||bv===null){bv=new n(bt.fromX,bt.fromY)}var bu=this._validateConnector(bt.to);if(!q(bu)||bu===null){bu=new n(bt.toX,bt.toY)}if(q(bv)&&q(bu)){var bs=bn({},this.options.connectionDefaults);bs.dataItem=bt;var Y=new ad(bv,bu,bs);Y.type(bs.type||aJ);this._connectionsDataMap[bt.uid]=Y;this.addConnection(Y,X)}}},_validateConnector:function(Y){var X;if(q(Y)&&Y!==null){X=this._dataMap[Y]}return X},_treeDataSource:function(){var Y=this,X=Y.options,bs=X.dataSource;bs=h(bs)?{data:bs}:bs;if(!bs.fields){bs.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]}if(Y.dataSource&&Y._refreshHandler){Y._unbindDataSource()}Y._refreshHandler=J(Y._refreshSource,Y);Y._errorHandler=J(Y._error,Y);Y.dataSource=al.create(bs).bind(P,Y._refreshHandler).bind(O,Y._errorHandler)},_unbindDataSource:function(){var X=this;X.dataSource.unbind(P,X._refreshHandler).unbind(O,X._errorHandler)},_error:function(){},_adorn:function(X,Y){if(Y!==E&&X){if(Y){this._adorners.push(X);this.adornerLayer.append(X.visual)}else{aG.remove(this._adorners,X);this.adornerLayer.remove(X.visual)}}},_showConnectors:function(X,Y){if(Y){this._connectorsAdorner.show(X)}else{this._connectorsAdorner.destroy()}},_updateAdorners:function(){var X=this._adorners;for(var bs=0;bs<X.length;bs++){var Y=X[bs];if(Y.refreshBounds){Y.refreshBounds()}Y.refresh()}},_refresh:function(){for(var X=0;X<this.connections.length;X++){this.connections[X].refresh()}},_destroyToolBar:function(){if(this.singleToolBar){this.singleToolBar.hide();this.singleToolBar.destroy();this.singleToolBar=null}},_destroyGlobalToolBar:function(){if(this.toolBar){this.toolBar.hide();this.toolBar.destroy();this.toolBar=null}},exportDOMVisual:function(){var bv=this.canvas._viewBox;var bs=bi.transform().translate(-bv.x,-bv.y);var Y=new bi.Rect([0,0],[bv.width,bv.height]);var bu=aR.Path.fromRect(Y);var bt=new aR.Group({transform:bs,clip:bu});var X=this.canvas.drawingElement.children[0];bt.children.push(X);return bt},exportVisual:function(){var bs=bi.transform().scale(1/this._zoom);var Y=new aR.Group({transform:bs});var X=this.canvas.drawingElement.children[0];Y.children.push(X);return Y},_syncChanges:function(){this._syncShapeChanges();this._syncConnectionChanges()},_syncShapeChanges:function(){if(this.dataSource&&this._isEditable){this.dataSource.sync()}},_syncConnectionChanges:function(){var X=this;if(X.connectionsDataSource&&X._isEditable){a5.when.apply(a5,X._deferredConnectionUpdates).then(function(){X.connectionsDataSource.sync()});X.deferredConnectionUpdates=[]}}});aH.ExportMixin.extend(a0.fn,true);if(kendo.PDFMixin){kendo.PDFMixin.extend(a0.fn)}function aq(Y){var X={};Y=Y||{};if(q(Y.text)&&Y.text!==null){X.text=Y.text}if(q(Y.x)&&Y.x!==null){X.x=Y.x}if(q(Y.y)&&Y.y!==null){X.y=Y.y}if(q(Y.width)&&Y.width!==null){X.width=Y.width}if(q(Y.height)&&Y.height!==null){X.height=Y.height}if(q(Y.type)&&Y.type!==null){X.type=Y.type}return X}function z(Y){var X={};Y=Y||{};if(q(Y.text)&&Y.text!==null){X.content=Y.text}if(q(Y.type)&&Y.type!==null){X.type=Y.type}if(q(Y.from)&&Y.from!==null){X.from=Y.from}if(q(Y.fromX)&&Y.fromX!==null){X.fromX=Y.fromX}if(q(Y.fromY)&&Y.fromY!==null){X.fromY=Y.fromY}if(q(Y.to)&&Y.to!==null){X.to=Y.to}if(q(Y.toX)&&Y.toX!==null){X.toX=Y.toX}if(q(Y.toY)&&Y.toY!==null){X.toY=Y.toY}return X}function af(X){return typeof X==="number"&&!isNaN(X)}var aX=kendo.Observable.extend({init:function(Y,X){kendo.Observable.fn.init.call(this);this.diagram=Y;this.options=bn({},this.options,X);this._tools=[];this.createToolBar();this.createTools();this.appendTools();if(this.options.modal){this.createPopup()}this.bind(this.events,X)},events:["click"],createPopup:function(){this.container=a5("<div/>").append(this.element);this._popup=this.container.kendoPopup({}).getKendoPopup()},appendTools:function(){for(var Y=0;Y<this._tools.length;Y++){var X=this._tools[Y];if(X.buttons&&X.buttons.length||!q(X.buttons)){this._toolBar.add(X)}}},createToolBar:function(){this.element=a5("<div/>");this._toolBar=this.element.kendoToolBar({click:J(this.click,this),resizable:false}).getKendoToolBar();this.element.css("border","none")},createTools:function(){for(var X=0;X<this.options.tools.length;X++){this.createTool(this.options.tools[X])}},createTool:function(X){var Y=(N(X)?X.name:X)+"Tool";if(this[Y]){this[Y](X)}else{this._tools.push(X)}},showAt:function(X){if(this._popup){this._popup.open(X.x,X.y)}},hide:function(){if(this._popup){this._popup.close()}},newGroup:function(){return{type:"buttonGroup",buttons:[]}},editTool:function(){this._tools.push({spriteCssClass:"k-icon k-i-pencil",showText:"overflow",type:"button",text:"Edit",attributes:this._setAttributes({action:"edit"})})},deleteTool:function(){this._tools.push({spriteCssClass:"k-icon k-i-close",showText:"overflow",type:"button",text:"Delete",attributes:this._setAttributes({action:"delete"})})},rotateAnticlockwiseTool:function(X){this._appendGroup("rotate");this._rotateGroup.buttons.push({spriteCssClass:"k-icon k-i-rotateccw",showText:"overflow",text:"RotateAnticlockwise",group:"rotate",attributes:this._setAttributes({action:"rotateAnticlockwise",step:X.step})})},rotateClockwiseTool:function(X){this._appendGroup("rotate");this._rotateGroup.buttons.push({spriteCssClass:"k-icon k-i-rotatecw",attributes:this._setAttributes({action:"rotateClockwise",step:X.step}),showText:"overflow",text:"RotateClockwise",group:"rotate"})},createShapeTool:function(){this._appendGroup("create");this._createGroup.buttons.push({spriteCssClass:"k-icon k-i-shape",showText:"overflow",text:"CreateShape",group:"create",attributes:this._setAttributes({action:"createShape"})})},createConnectionTool:function(){this._appendGroup("create");this._createGroup.buttons.push({spriteCssClass:"k-icon k-i-connector",showText:"overflow",text:"CreateConnection",group:"create",attributes:this._setAttributes({action:"createConnection"})})},undoTool:function(){this._appendGroup("history");this._historyGroup.buttons.push({spriteCssClass:"k-icon k-i-undo",showText:"overflow",text:"Undo",group:"history",attributes:this._setAttributes({action:"undo"})})},redoTool:function(){this._appendGroup("history");this._historyGroup.buttons.push({spriteCssClass:"k-icon k-i-redo",showText:"overflow",text:"Redo",group:"history",attributes:this._setAttributes({action:"redo"})})},_appendGroup:function(X){var Y="_"+X+"Group";if(!this[Y]){this[Y]=this.newGroup();this._tools.push(this[Y])}},_setAttributes:function(Y){var X={};if(Y.action){X[kendo.attr("action")]=Y.action}if(Y.step){X[kendo.attr("step")]=Y.step}return X},_getAttributes:function(Y){var X={};var bt=Y.attr(kendo.attr("action"));if(bt){X.action=bt}var bs=Y.attr(kendo.attr("step"));if(bs){X.step=bs}return X},click:function(bs){var X=this._getAttributes(a5(bs.target));var Y=X.action;if(Y){this[Y](X)}this.trigger("click",this.eventData(Y))},eventData:function(bt){var bs=this.selectedElements(),X=[],Y=[];if(bs instanceof Q){X.push(bs)}else{Y.push(bs)}return{shapes:X,connections:Y,action:bt}},"delete":function(){var X=this.diagram;var Y=X._triggerRemove(this.selectedElements());if(Y.length){this.diagram.remove(Y,true);this.diagram._syncChanges()}},edit:function(){this.diagram.edit(this.selectedElements()[0])},rotateClockwise:function(X){var Y=this.selectedElements();var bs=parseFloat(X.step||90);this._rotate(bs)},rotateAnticlockwise:function(X){var Y=this.selectedElements();var bs=parseFloat(X.step||90);this._rotate(-bs)},_rotate:function(Y){var X=this.diagram._resizingAdorner;X.angle(X.angle()+Y);X.rotate()},selectedElements:function(){return this.diagram.select()},createShape:function(){this.diagram.createShape()},createConnection:function(){this.diagram.createConnection()},undo:function(){this.diagram.undo()},redo:function(){this.diagram.redo()},destroy:function(){this.diagram=null;this.element=null;this.options=null;if(this._toolBar){this._toolBar.destroy()}if(this._popup){this._popup.destroy()}}});var ap=kendo.Observable.extend({init:function(Y,X){kendo.Observable.fn.init.call(this);this.options=aL(true,{},this.options,X);this.element=Y;this.model=this.options.model;this.fields=this._getFields();this._initContainer();this.createEditable()},options:{editors:{}},_initContainer:function(){this.wrapper=this.element},createEditable:function(){var X=this.options;this.editable=new kendo.ui.Editable(this.wrapper,{fields:this.fields,target:X.target,clearContainer:false,model:this.model})},_isEditable:function(X){return this.model.editable&&this.model.editable(X)},_getFields:function(){var Y=[];var bs=this.model.fields;for(var bu in bs){var X={};if(this._isEditable(bu)){var bt=this.options.editors[bu];if(bt){X.editor=bt}X.field=bu;Y.push(X)}}return Y},end:function(){return this.editable.end()},destroy:function(){this.editable.destroy();this.editable.element.find("["+kendo.attr("container-for")+"]").empty();this.model=this.wrapper=this.element=this.columns=this.editable=null}});var a9=ap.extend({init:function(Y,X){ap.fn.init.call(this,Y,X);this.bind(this.events,this.options);this.open()},events:["update","cancel"],options:{window:{modal:true,resizable:false,draggable:true,title:"Edit",visible:false}},_initContainer:function(){var X=this;this.wrapper=a5('<div class="k-popup-edit-form"/>').attr(kendo.attr("uid"),this.model.uid);var Y="";if(this.options.template){Y+=this._renderTemplate();this.fields=[]}else{Y+=this._renderFields()}Y+=this._renderButtons();this.wrapper.append(a5('<div class="k-edit-form-container"/>').append(Y));this.window=new kendo.ui.Window(this.wrapper,this.options.window);this.window.bind("close",function(bs){if(bs.userTriggered){bs.sender.element.focus();X._cancelClick(bs)}});this._attachButtonEvents()},_renderTemplate:function(){var X=this.options.template;if(typeof X==="string"){X=window.unescape(X)}X=kendo.template(X)(this.model);return X},_renderFields:function(){var Y="";for(var X=0;X<this.fields.length;X++){var bs=this.fields[X];Y+='<div class="k-edit-label"><label for="'+bs.field+'">'+(bs.field||"")+"</label></div>";if(this._isEditable(bs.field)){Y+="<div "+kendo.attr("container-for")+'="'+bs.field+'" class="k-edit-field"></div>'}}return Y},_renderButtons:function(){var X='<div class="k-edit-buttons k-state-default">';X+=this._createButton("update");X+=this._createButton("cancel");X+="</div>";return X},_createButton:function(X){return kendo.template(F)(i[X])},_attachButtonEvents:function(){this._cancelClickHandler=J(this._cancelClick,this);this.window.element.on(a4+bd,"a.k-diagram-cancel",this._cancelClickHandler);this._updateClickHandler=J(this._updateClick,this);this.window.element.on(a4+bd,"a.k-diagram-update",this._updateClickHandler)},_updateClick:function(X){X.preventDefault();this.trigger("update")},_cancelClick:function(X){X.preventDefault();this.trigger("cancel")},open:function(){this.window.center().open()},close:function(){this.window.bind("deactivate",J(this.destroy,this)).close()},destroy:function(){this.window.close().destroy();this.window.element.off(a4+bd,"a.k-diagram-cancel",this._cancelClickHandler);this.window.element.off(a4+bd,"a.k-diagram-update",this._updateClickHandler);this._cancelClickHandler=null;this._editUpdateClickHandler=null;this.window=null;ap.fn.destroy.call(this)}});function o(Y,bt){var bu=bt.model.fields[bt.field];var bs=this.dataSource.reader.model;if(bs){var X=bs.fn.fields.text?"text":bs.idField;a5("<input name='"+bt.field+"' />").appendTo(Y).kendoDropDownList({dataValueField:bs.idField,dataTextField:X,dataSource:this.dataSource.data().toJSON(),optionLabel:" ",valuePrimitive:true})}}function aN(X){this.dataItem=X;this.callbacks=[]}aN.fn=aN.prototype={onActivate:function(Y){var X=a5.Deferred();this.callbacks.push({callback:Y,deferred:X});return X},activate:function(){var bs=this.callbacks;var Y;for(var X=0;X<bs.length;X++){Y=this.callbacks[X];Y.callback(this.dataItem);Y.deferred.resolve()}this.callbacks=[]}};function S(){this.items={}}S.fn=S.prototype={add:function(Y){for(var X=0;X<Y.length;X++){this.items[Y[X].uid]=new aN(Y[X])}},forEach:function(Y){for(var X in this.items){Y(this.items[X])}},getByUid:function(X){return this.items[X]},remove:function(X){delete this.items[X.uid]}};var D=bc.extend({init:function(){this.shapes=[]},_add:function(X,Y){this.shapes.push({bounds:Y,shape:X});X._quadNode=this},insert:function(X,Y){this._add(X,Y)},remove:function(bs){var Y=this.shapes;var bt=Y.length;for(var X=0;X<bt;X++){if(Y[X].shape===bs){Y.splice(X,1);break}}},hitTestRect:function(bu,Y){var X=this.shapes;var bt=X.length;var bv=false;for(var bs=0;bs<bt;bs++){if(this._overlaps(X[bs].bounds,bu)&&!aH.inArray(X[bs].shape,Y)){bv=true;break}}return bv},_overlaps:function(Y,X){var bs=Y.bottomRight();var bu=X.bottomRight();var bt=!(bs.x<X.x||bs.y<X.y||bu.x<Y.x||bu.y<Y.y);return bt}});var br=D.extend({init:function(X){D.fn.init.call(this);this.children=[];this.rect=X},inBounds:function(bt){var Y=this.rect;var bu=Y.bottomRight();var bs=bt.bottomRight();var X=Y.x<=bt.x&&Y.y<=bt.y&&bs.x<=bu.x&&bs.y<=bu.y;return X},overlapsBounds:function(X){return this._overlaps(this.rect,X)},insert:function(Y,bv){var bt=false;var bs=this.children;var bu=bs.length;if(this.inBounds(bv)){if(!bu&&this.shapes.length<4){this._add(Y,bv)}else{if(!bu){this._initChildren()}for(var X=0;X<bs.length;X++){if(bs[X].insert(Y,bv)){bt=true;break}}if(!bt){this._add(Y,bv)}}bt=true}return bt},_initChildren:function(){var bw=this.rect,bv=this.children,bs=this.shapes,Y=bw.center(),bx=bw.width/2,X=bw.height/2,bt,bu;bv.push(new br(new M(bw.x,bw.y,bx,X)),new br(new M(Y.x,bw.y,bx,X)),new br(new M(bw.x,Y.y,bx,X)),new br(new M(Y.x,Y.y,bx,X)));for(bu=bs.length-1;bu>=0;bu--){for(bt=0;bt<bv.length;bt++){if(bv[bt].insert(bs[bu].shape,bs[bu].bounds)){bs.splice(bu,1);break}}}},hitTestRect:function(bv,bs){var Y,X=[];var bt=this.children;var bu=bt.length;var bw=false;if(this.overlapsBounds(bv)){if(D.fn.hitTestRect.call(this,bv,bs)){bw=true}else{for(Y=0;Y<bu;Y++){if(bt[Y].hitTestRect(bv,bs)){bw=true;break}}}}return bw}});var bq=bc.extend({ROOT_SIZE:1000,init:function(X){X.bind(s,J(this._boundsChange,this));X.bind(au,J(this._boundsChange,this));this.initRoots()},initRoots:function(){this.rootMap={};this.root=new D()},clear:function(){this.initRoots()},_boundsChange:function(X){if(X.item._quadNode){X.item._quadNode.remove(X.item);this.insert(X.item)}},insert:function(bs){var bt=bs.bounds(ag);var Y=this.ROOT_SIZE;var bu=this.getSectors(bt);var X=bu[0][0];var bv=bu[1][0];if(this.inRoot(bu)){this.root.insert(bs,bt)}else{if(!this.rootMap[X]){this.rootMap[X]={}}if(!this.rootMap[X][bv]){this.rootMap[X][bv]=new br(new M(X*Y,bv*Y,Y,Y))}this.rootMap[X][bv].insert(bs,bt)}},remove:function(X){if(X._quadNode){X._quadNode.remove(X)}},inRoot:function(X){return X[0].length>1||X[1].length>1},getSectors:function(bv){var Y=this.ROOT_SIZE;var bu=bv.bottomRight();var X=Math.floor(bv.x/Y);var bx=Math.floor(bv.y/Y);var bt=Math.floor(bu.x/Y);var bs=Math.floor(bu.y/Y);var bw=[[X],[bx]];if(X!==bt){bw[0].push(bt)}if(bx!==bs){bw[1].push(bs)}return bw},hitTestRect:function(bt,bs){var bv=this.getSectors(bt);var bx,bu,X,bw;var Y;if(this.root.hitTestRect(bt,bs)){return true}for(bx=0;bx<bv[0].length;bx++){X=bv[0][bx];for(bu=0;bu<bv[1].length;bu++){bw=bv[1][bu];Y=(this.rootMap[X]||{})[bw];if(Y&&Y.hitTestRect(bt,bs)){return true}}}return false}});function aV(Y){var X=Y;if(Y instanceof kendo.data.Model){X=Y.toJSON();X[Y.idField]=Y._defaultId}return X}function bl(bu){var bt=[];var Y=[];var bs,X;for(X=0;X<bu.length;X++){bs=bu[X];if(bs instanceof Q){Y.push(bs)}else{bt.push(bs)}}return{shapes:Y,connections:bt}}function V(Y,X){if(Y.reader.model){return new Y.reader.model(X)}return new kendo.data.ObservableObject(X)}aH.ui.plugin(a0);bn(p,{Shape:Q,Connection:ad,Connector:j,DiagramToolBar:aX,QuadNode:br,QuadRoot:D,ShapesQuadTree:bq})})(window.kendo.jQuery);(function(z,p){var w=Math,J=z.proxy,C=window.kendo,e=C.Class,h=C.ui.Widget,i=C.template,G=C.deepExtend,m=C.data.HierarchicalDataSource,u=C.getter,l=C.dataviz;var D=".kendoTreeMap",x="change",M="dataBound",L="itemCreated",c=Number.MAX_VALUE,y=-Number.MAX_VALUE,r="mouseover"+D,q="mouseleave"+D,A="undefined";var j=h.extend({init:function(O,N){C.destroy(O);z(O).empty();h.fn.init.call(this,O,N);this._initTheme(this.options);this.element.addClass("k-widget k-treemap");this._setLayout();this._originalOptions=G({},this.options);this._initDataSource();this._attachEvents();C.notify(this,l.ui)},options:{name:"TreeMap",theme:"default",autoBind:true,textField:"text",valueField:"value",colorField:"color"},events:[M,L],_initTheme:function(P){var Q=this,N=l.ui.themes||{},R=((P||{}).theme||"").toLowerCase(),O=(N[R]||{}).treeMap;Q.options=G({},O,P)},_attachEvents:function(){this.element.on(r,J(this._mouseover,this)).on(q,J(this._mouseleave,this))},_setLayout:function(){if(this.options.type==="horizontal"){this._layout=new F(false);this._view=new d(this,this.options)}else{if(this.options.type==="vertical"){this._layout=new F(true);this._view=new d(this,this.options)}else{this._layout=new v();this._view=new t(this,this.options)}}},_initDataSource:function(){var O=this,N=O.options,P=N.dataSource;O._dataChangeHandler=J(O._onDataChange,O);O.dataSource=m.create(P).bind(x,O._dataChangeHandler);if(P){if(O.options.autoBind){O.dataSource.fetch()}}},setDataSource:function(O){var N=this;N.dataSource.unbind(x,N._dataChangeHandler);N.dataSource=O.bind(x,N._dataChangeHandler);if(O){if(N.options.autoBind){N.dataSource.fetch()}}},_onDataChange:function(S){var O=S.node;var T=S.items;var W=this.options;var V,Q,N;if(!O){this.element.empty();V=this._wrapItem(T[0]);this._layout.createRoot(V,this.element.outerWidth(),this.element.outerHeight(),this.options.type==="vertical");this._view.createRoot(V);this._root=V}else{if(T.length){var U=this._getByUid(O.uid);U.children=[];if(!I(U.minColor)&&!I(U.maxColor)){N=W.colors||[]}else{N=E(U.minColor,U.maxColor,T.length)||[]}for(Q=0;Q<T.length;Q++){V=T[Q];U.children.push(this._wrapItem(V))}var R=this._view.htmlSize(U);this._layout.compute(U.children,U.coord,R);for(Q=0;Q<U.children.length;Q++){V=U.children[Q];if(!I(V.color)){if(typeof(N[0])==="string"){V.color=N[Q%N.length]}else{var P=N[Q%N.length];if(P){V.color=P[0];V.minColor=P[0];V.maxColor=P[1]}}}}this._view.render(U)}}for(Q=0;Q<T.length;Q++){T[Q].load()}if(O){this.trigger(M,{node:O})}},_contentSize:function(N){this.view.renderHeight(N)},_wrapItem:function(O){var N={};if(I(this.options.valueField)){N.value=k(this.options.valueField,O)}if(I(this.options.colorField)){N.color=k(this.options.colorField,O)}if(I(this.options.textField)){N.text=k(this.options.textField,O)}N.level=O.level();N.dataItem=O;return N},_getByUid:function(O){var N=[this._root];var P;while(N.length){P=N.pop();if(P.dataItem.uid===O){return P}if(P.children){N=N.concat(P.children)}}},dataItem:function(O){var N=z(O).attr(C.attr("uid")),P=this.dataSource;return P&&P.getByUid(N)},findByUid:function(N){return this.element.find(".k-treemap-tile["+C.attr("uid")+"='"+N+"']")},_mouseover:function(O){var N=z(O.target);if(N.hasClass("k-leaf")){this._removeActiveState();N.removeClass("k-state-hover").addClass("k-state-hover")}},_removeActiveState:function(){this.element.find(".k-state-hover").removeClass("k-state-hover")},_mouseleave:function(){this._removeActiveState()},destroy:function(){h.fn.destroy.call(this);this.element.off(D);if(this.dataSource){this.dataSource.unbind(x,this._dataChangeHandler)}this._root=null;C.destroy(this.element)},items:function(){return z()},getSize:function(){return C.dimensions(this.element)},_resize:function(){this.dataSource.fetch()},setOptions:function(N){var O=N.dataSource;N.dataSource=p;this._originalOptions=G(this._originalOptions,N);this.options=G({},this._originalOptions);this._setLayout();this._initTheme(this.options);h.fn._setEvents.call(this,N);if(O){this.setDataSource(m.create(O))}if(this.options.autoBind){this.dataSource.fetch()}}});var v=e.extend({createRoot:function(O,P,N){O.coord={width:P,height:N,top:0,left:0}},leaf:function(N){return !N.children},layoutChildren:function(U,R){var N=R.width*R.height;var V=0,P=[],Q;for(Q=0;Q<U.length;Q++){P[Q]=parseFloat(U[Q].value);V+=P[Q]}for(Q=0;Q<P.length;Q++){U[Q].area=N*P[Q]/V}var O=this.layoutHorizontal()?R.height:R.width;U=new C.data.Query(U)._sortForGrouping("value","desc");var T=[U[0]];var S=U.slice(1);this.squarify(S,T,O,R)},squarify:function(N,P,O,Q){this.computeDim(N,P,O,Q)},computeDim:function(N,R,Q,T){if(N.length+R.length==1){var O=N.length==1?N:R;this.layoutLast(O,Q,T);return}if(N.length>=2&&R.length===0){R=[N[0]];N=N.slice(1)}if(N.length===0){if(R.length>0){this.layoutRow(R,Q,T)}return}var P=N[0];if(this.worstAspectRatio(R,Q)>=this.worstAspectRatio([P].concat(R),Q)){this.computeDim(N.slice(1),R.concat([P]),Q,T)}else{var S=this.layoutRow(R,Q,T);this.computeDim(N,[],S.dim,S)}},layoutLast:function(O,N,P){O[0].coord=P},layoutRow:function(N,O,P){if(this.layoutHorizontal()){return this.layoutV(N,O,P)}else{return this.layoutH(N,O,P)}},orientation:"h",layoutVertical:function(){return this.orientation==="v"},layoutHorizontal:function(){return this.orientation==="h"},layoutChange:function(){this.orientation=this.layoutVertical()?"h":"v"},worstAspectRatio:function(O,R){if(!O||O.length===0){return c}var Q=0,N=0,T=c;for(var P=0;P<O.length;P++){var S=O[P].area;Q+=S;T=(T<S)?T:S;N=(N>S)?N:S}return w.max((R*R*N)/(Q*Q),(Q*Q)/(R*R*T))},compute:function(O,Q,P){if(!(Q.width>=Q.height&&this.layoutHorizontal())){this.layoutChange()}if(O&&O.length>0){var N={width:Q.width,height:Q.height-P.text,top:0,left:0};this.layoutChildren(O,N)}},layoutV:function(P,S,U){var Q=this._totalArea(P),T=0;S=K(Q/S);for(var R=0;R<P.length;R++){var N=K(P[R].area/S);P[R].coord={height:N,width:S,top:U.top+T,left:U.left};T+=N}var O={height:U.height,width:U.width-S,top:U.top,left:U.left+S};O.dim=w.min(O.width,O.height);if(O.dim!=O.height){this.layoutChange()}return O},layoutH:function(R,N,Q){var V=this._totalArea(R);var U=K(V/N),S=Q.top,O=0;for(var P=0;P<R.length;P++){R[P].coord={height:U,width:K(R[P].area/U),top:S,left:Q.left+O};O+=R[P].coord.width}var T={height:Q.height-U,width:Q.width,top:Q.top+U,left:Q.left};T.dim=w.min(T.width,T.height);if(T.dim!=T.width){this.layoutChange()}return T},_totalArea:function(N){var P=0;for(var O=0;O<N.length;O++){P+=N[O].area}return P}});var t=e.extend({init:function(O,N){this.options=G({},this.options,N);this.treeMap=O;this.element=z(O.element);this.offset=0},htmlSize:function(O){var N=this._getByUid(O.dataItem.uid);var P={text:0};if(O.children){this._clean(N);var R=this._getText(O);if(R){var Q=this._createTitle(O);N.append(Q);P.text=Q.height()}N.append(this._createWrap());this.offset=(N.outerWidth()-N.innerWidth())/2}return P},_getByUid:function(N){return this.element.find(".k-treemap-tile["+C.attr("uid")+"='"+N+"']")},render:function(Q){var N=this._getByUid(Q.dataItem.uid);var S=Q.children;if(S){var P=N.find(".k-treemap-wrap");for(var R=0;R<S.length;R++){var O=S[R];var T=this._createLeaf(O);P.append(T);this.treeMap.trigger(L,{element:T})}}},createRoot:function(N){var O=this._createLeaf(N);this.element.append(O);this.treeMap.trigger(L,{element:O})},_clean:function(N){N.css("background-color","");N.removeClass("k-leaf");N.removeClass("k-inverse");N.empty()},_createLeaf:function(N){return this._createTile(N).css("background-color",N.color).addClass("k-leaf").toggleClass("k-inverse",this._tileColorBrightness(N)>180).append(z("<div></div>").html(this._getText(N)))},_createTile:function(P){var N={width:P.coord.width,height:P.coord.height,left:P.coord.left,top:P.coord.top};if(N.left&&this.offset){N.width+=this.offset*2}else{N.width+=this.offset}if(N.top){N.height+=this.offset*2}else{N.height+=this.offset}var O=z("<div class='k-treemap-tile'></div>").css({width:N.width,height:N.height,left:N.left,top:N.top});if(I(P.dataItem)&&I(P.dataItem.uid)){O.attr(C.attr("uid"),P.dataItem.uid)}return O},_getText:function(N){var O=N.text;if(this.options.template){O=this._renderTemplate(N)}return O},_renderTemplate:function(O){var N=i(this.options.template);return N({dataItem:O.dataItem,text:O.text})},_createTitle:function(N){return z("<div class='k-treemap-title'></div>").append(z("<div></div>").html(this._getText(N)))},_createWrap:function(){return z("<div class='k-treemap-wrap'></div>")},_tileColorBrightness:function(N){return n(N.color)}});var F=e.extend({createRoot:function(O,Q,N,P){O.coord={width:Q,height:N,top:0,left:0};O.vertical=P},init:function(N){this.vertical=N;this.quotient=N?1:0},compute:function(P,S,R){if(P.length>0){var Q=S.width;var N=S.height;if(this.vertical){N-=R.text}else{Q-=R.text}var O={width:Q,height:N,top:0,left:0};this.layoutChildren(P,O)}},layoutChildren:function(O,T){var N=T.width*T.height;var P=0;var S=[];var Q;for(Q=0;Q<O.length;Q++){var R=O[Q];S[Q]=parseFloat(O[Q].value);P+=S[Q];R.vertical=this.vertical}for(Q=0;Q<S.length;Q++){O[Q].area=N*S[Q]/P}O=new C.data.Query(O)._sortForGrouping("value","desc");this.sliceAndDice(O,T)},sliceAndDice:function(N,P){var O=this._totalArea(N);if(N[0].level%2===this.quotient){this.layoutHorizontal(N,P,O)}else{this.layoutVertical(N,P,O)}},layoutHorizontal:function(N,T,O){var S=0;for(var P=0;P<N.length;P++){var R=N[P];var Q=R.area/(O/T.width);R.coord={height:T.height,width:Q,top:T.top,left:T.left+S};S+=Q}},layoutVertical:function(O,T,P){var S=0;for(var Q=0;Q<O.length;Q++){var R=O[Q];var N=R.area/(P/T.height);R.coord={height:N,width:T.width,top:T.top+S,left:T.left};S+=N}},_totalArea:function(N){var P=0;for(var O=0;O<N.length;O++){P+=N[O].area}return P}});var d=t.extend({htmlSize:function(O){var N=this._getByUid(O.dataItem.uid);var P={text:0,offset:0};if(O.children){this._clean(N);var R=this._getText(O);if(R){var Q=this._createTitle(O);N.append(Q);if(O.vertical){P.text=Q.height()}else{P.text=Q.width()}}N.append(this._createWrap());this.offset=(N.outerWidth()-N.innerWidth())/2}return P},_createTitle:function(N){var O;if(N.vertical){O=z("<div class='k-treemap-title'></div>")}else{O=z("<div class='k-treemap-title-vertical'></div>")}return O.append(z("<div></div>").html(this._getText(N)))}});function f(O,N){return I(O)?O:N}function k(O,P){if(P===null){return P}var N=u(O,true);return N(P)}function I(N){return typeof N!==A}function E(Q,U,O){var V=g(Q);var R=g(U);var P=n(Q)-n(U)<0;var N=[];N.push(Q);for(var S=0;S<O;S++){var T={r:s(V.r,R.r,S,O,P),g:s(V.g,R.g,S,O,P),b:s(V.b,R.b,S,O,P)};N.push(b(T))}N.push(U);return N}function s(U,W,V,P,R){var S=w.min(w.abs(U),w.abs(W));var O=w.max(w.abs(U),w.abs(W));var Q=(O-S)/(P+1);var N=Q*(V+1);var T;if(R){T=S+N}else{T=O-N}return T}function b(N){return"#"+o(N.r)+o(N.g)+o(N.b)}function g(N){N=N.replace("#","");var O=B(N);return{r:H(O.r),g:H(O.g),b:H(O.b)}}function o(O){var N=w.round(O).toString(16).toUpperCase();if(N.length===1){N="0"+N}return N}function B(N){var O=N.length;var P={};if(O===3){P.r=N[0];P.g=N[1];P.b=N[2]}else{P.r=N.substring(0,2);P.g=N.substring(2,4);P.b=N.substring(4,6)}return P}function H(N){return parseInt(N.toString(16),16)}function n(N){var O=0;if(N){N=g(N);O=w.sqrt(0.241*N.r*N.r+0.691*N.g*N.g+0.068*N.b*N.b)}return O}function K(O){var N=w.pow(10,4);return w.round(O*N)/N}l.ui.plugin(j)})(window.kendo.jQuery);(function(e,c){var g=window.kendo,i=g.mobile.ui,h=i.Shim,j=i.Widget,l="beforeOpen",d="open",f="close",k="init",b='<div class="km-modalview-wrapper" />';var m=i.View.extend({init:function(p,o){var r=this,q,n;j.fn.init.call(r,p,o);r._id();r._wrap();r._shim();if(!this.options.$angular){r._layout();r._scroller();r._model()}r.element.css("display","");r.trigger(k)},events:[k,l,d,f],options:{name:"ModalView",modal:true,width:null,height:null},destroy:function(){j.fn.destroy.call(this);this.shim.destroy()},open:function(o){var n=this;n.target=e(o);n.shim.show();n._invokeNgController();n.trigger("show",{view:n})},openFor:function(n){if(!this.trigger(l,{target:n})){this.open(n);this.trigger(d,{target:n})}},close:function(){if(this.element.is(":visible")&&!this.trigger(f)){this.shim.hide()}},_wrap:function(){var r=this,p=r.element,o=r.options,q,n;q=p[0].style.width||"auto";n=p[0].style.height||"auto";p.addClass("km-modalview").wrap(b);r.wrapper=p.parent().css({width:o.width||q||300,height:o.height||n||300}).addClass(n=="auto"?" km-auto-height":"");p.css({width:"",height:""})},_shim:function(){var n=this;n.shim=new h(n.wrapper,{modal:n.options.modal,position:"center center",align:"center center",effect:"fade:in",className:"km-modalview-root",hide:function(o){if(n.trigger(f)){o.preventDefault()}}})}});i.plugin(m)})(window.kendo.jQuery);(function(k,g){var n=window.kendo,b=n.mobile,i=n.support.mobileOS,m=n.effects.Transition,r=n.roleSelector,c="x",p=b.ui,f=!(i.ios&&i.majorVersion==7&&!i.appMode),e="beforeShow",q="init",o="show",j="hide",l="afterHide",h={enable:k.noop};var d=p.View.extend({init:function(v,t){k(v).parent().prepend(v);b.ui.Widget.fn.init.call(this,v,t);if(!this.options.$angular){this._layout();this._scroller()}this._model();var y=this.element.closest(r("pane")).data("kendoMobilePane"),x;if(y){this.pane=y;this.pane.bind("viewShow",function(z){w._viewShow(z)});this.pane.bind("sameViewRequested",function(){w.hide()});x=this.userEvents=new n.UserEvents(y.element,{filter:r("view splitview"),allowSelection:true})}else{this.currentView=h;var s=k(this.options.container);if(!s){throw new Error("The drawer needs a container configuration option set.")}x=this.userEvents=new n.UserEvents(s,{allowSelection:true});this._attachTransition(s)}var w=this;var u=function(z){if(w.visible){w.hide();z.preventDefault()}};if(this.options.swipeToOpen&&f){x.bind("press",function(z){w.transition.cancel()});x.bind("start",function(z){w._start(z)});x.bind("move",function(z){w._update(z)});x.bind("end",function(z){w._end(z)});x.bind("tap",u)}else{x.bind("press",u)}this.leftPositioned=this.options.position==="left";this.visible=false;this.element.hide().addClass("km-drawer").addClass(this.leftPositioned?"km-left-drawer":"km-right-drawer");this.trigger(q)},options:{name:"Drawer",position:"left",views:[],swipeToOpenViews:[],swipeToOpen:true,title:"",container:null},events:[e,j,l,q,o],show:function(){if(this._activate()){this._show()}},hide:function(){if(!this.currentView){return}this.currentView.enable();d.current=null;this._moveViewTo(0);this.trigger(j,{view:this})},openFor:function(){if(this.visible){this.hide()}else{this.show()}},destroy:function(){p.View.fn.destroy.call(this);this.userEvents.destroy()},_activate:function(){if(this.visible){return true}var s=this._currentViewIncludedIn(this.options.views);if(!s||this.trigger(e,{view:this})){return false}this._setAsCurrent();this.element.show();this.trigger(o,{view:this});this._invokeNgController();return true},_currentViewIncludedIn:function(t){if(!this.pane||!t.length){return true}var s=this.pane.view();return k.inArray(s.id.replace("#",""),t)>-1||k.inArray(s.element.attr("id"),t)>-1},_show:function(){this.currentView.enable(false);this.visible=true;var s=this.element.width();if(!this.leftPositioned){s=-s}this._moveViewTo(s)},_setAsCurrent:function(){if(d.last!==this){if(d.last){d.last.element.hide()}this.element.show()}d.last=this;d.current=this},_moveViewTo:function(s){this.userEvents.cancel();this.transition.moveTo({location:s,duration:400,ease:m.easeOutExpo})},_viewShow:function(s){if(this.currentView){this.currentView.enable()}if(this.currentView===s.view){this.hide();return}this.currentView=s.view;this._attachTransition(s.view.element)},_attachTransition:function(s){var t=this,v=this.movable,u=v&&v.x;if(this.transition){this.transition.cancel();this.movable.moveAxis("x",0)}v=this.movable=new n.ui.Movable(s);this.transition=new m({axis:c,movable:this.movable,onEnd:function(){if(v[c]===0){s[0].style.cssText="";t.element.hide();t.trigger(l);t.visible=false}}});if(u){s.addClass("k-fx-hidden");n.animationFrame(function(){s.removeClass("k-fx-hidden");t.movable.moveAxis(c,u);t.hide()})}},_start:function(x){var w=x.sender;if(Math.abs(x.x.velocity)<Math.abs(x.y.velocity)||n.triggeredByInput(x.event)||!this._currentViewIncludedIn(this.options.swipeToOpenViews)){w.cancel();return}var v=this.leftPositioned,y=this.visible,s=v&&y||!v&&!d.current,t=!v&&y||v&&!d.current,u=x.x.velocity<0;if((s&&u)||(t&&!u)){if(this._activate()){w.capture();return}}w.cancel()},_update:function(v){var u=this.movable,s=u.x+v.x.delta,t;if(this.leftPositioned){t=Math.min(Math.max(0,s),this.element.width())}else{t=Math.max(Math.min(0,s),-this.element.width())}this.movable.moveAxis(c,t);v.event.preventDefault();v.event.stopPropagation()},_end:function(w){var v=w.x.velocity,t=Math.abs(this.movable.x)>this.element.width()/2,u=0.8,s;if(this.leftPositioned){s=v>-u&&(v>u||t)}else{s=v<u&&(v<-u||t)}if(s){this._show()}else{this.hide()}}});p.plugin(d)})(window.kendo.jQuery);(function(f,i){var h=window.kendo,e=h.mobile.ui,d=e.Widget,b="<div class='km-expanded-pane-shim' />",g=e.View;var c=g.extend({init:function(k,j){var l=this,n,m;d.fn.init.call(l,k,j);k=l.element;f.extend(l,j);l._id();if(!l.options.$angular){l._layout();l._overlay()}else{l._overlay()}l._style();m=k.children(l._locate("modalview"));if(!l.options.$angular){h.mobile.init(m)}else{m.each(function(o,p){h.compileMobileDirective(f(p),j.$angular[0])})}l.panes=[];l._paramsHistory=[];if(!l.options.$angular){l.content.children(h.roleSelector("pane")).each(function(){n=h.initWidget(this,{},e.roles);l.panes.push(n)})}else{l.element.children(h.directiveSelector("pane")).each(function(){n=h.compileMobileDirective(f(this),j.$angular[0]);l.panes.push(n)});l.element.children(h.directiveSelector("header footer")).each(function(){h.compileMobileDirective(f(this),j.$angular[0])})}l.expandedPaneShim=f(b).appendTo(l.element);l._shimUserEvents=new h.UserEvents(l.expandedPaneShim,{tap:function(){l.collapsePanes()}})},_locate:function(j){return this.options.$angular?h.directiveSelector(j):h.roleSelector(j)},options:{name:"SplitView",style:"horizontal"},expandPanes:function(){this.element.addClass("km-expanded-splitview")},collapsePanes:function(){this.element.removeClass("km-expanded-splitview")},_layout:function(){var k=this,j=k.element;k.transition=h.attrValue(j,"transition");h.mobile.ui.View.prototype._layout.call(this);h.mobile.init(this.header.add(this.footer));k.element.addClass("km-splitview");k.content.addClass("km-split-content")},_style:function(){var k=this.options.style,j=this.element,l;if(k){l=k.split(" ");f.each(l,function(){j.addClass("km-split-"+this)})}},showStart:function(){var j=this;j.element.css("display","");if(!j.inited){j.inited=true;f.each(j.panes,function(){if(this.options.initial){this.navigateToInitial()}else{this.navigate("")}});j.trigger("init",{view:j})}else{this._invokeNgController()}j.trigger("show",{view:j})}});e.plugin(c)})(window.kendo.jQuery);(function(v,k){var w=window.kendo,y=w.mobile,G=w.support,g=y.ui.Widget,z=y.ui.Pane,c="ios7",n=G.mobileOS,e=n.device=="blackberry"&&n.flatVersion>=600&&n.flatVersion<1000&&n.appMode,q="km-vertical",t=n.browser==="chrome",u=n.ios&&n.flatVersion>=700&&n.flatVersion<800&&(n.appMode||t),r=(Math.abs(window.orientation)/90==1),m="km-horizontal",H={ios7:{ios:true,browser:"default",device:"iphone",flatVersion:"700",majorVersion:"7",minorVersion:"0.0",name:"ios",tablet:false},ios:{ios:true,browser:"default",device:"iphone",flatVersion:"612",majorVersion:"6",minorVersion:"1.2",name:"ios",tablet:false},android:{android:true,browser:"default",device:"android",flatVersion:"442",majorVersion:"4",minorVersion:"4.2",name:"android",tablet:false},blackberry:{blackberry:true,browser:"default",device:"blackberry",flatVersion:"710",majorVersion:"7",minorVersion:"1.0",name:"blackberry",tablet:false},meego:{meego:true,browser:"default",device:"meego",flatVersion:"850",majorVersion:"8",minorVersion:"5.0",name:"meego",tablet:false},wp:{wp:true,browser:"default",device:"wp",flatVersion:"800",majorVersion:"8",minorVersion:"0.0",name:"wp",tablet:false}},h=w.template('<meta content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no#=data.height#" name="viewport" />',{usedWithBlock:false}),d=w.template('<meta name="apple-mobile-web-app-capable" content="#= data.webAppCapable === false ? \'no\' : \'yes\' #" /> <meta name="apple-mobile-web-app-status-bar-style" content="#=data.statusBarStyle#" /> <meta name="msapplication-tap-highlight" content="no" /> ',{usedWithBlock:false}),A=w.template("<style>.km-view { clip: rect(0 #= data.width #px #= data.height #px 0); }</style>",{usedWithBlock:false}),b=n.android&&n.browser!="chrome"||n.blackberry,l=h({height:""}),D=w.template('<link rel="apple-touch-icon'+(n.android?"-precomposed":"")+'" # if(data.size) { # sizes="#=data.size#" #}# href="#=data.icon#" />',{usedWithBlock:false}),I=(n.device=="iphone"||n.device=="ipod")&&n.majorVersion<7,s=(n.device=="iphone"||n.device=="ipod")&&n.majorVersion>=7,F=s?"none":null,N=n.browser=="mobilesafari"?60:0,B=20,o=v(window),J=window.screen,x=v("head"),i="init",K=v.proxy;function M(Q,O){var P=[];if(n){P.push("km-on-"+n.name)}if(Q.skin){P.push("km-"+Q.skin)}else{if(Q.name=="ios"&&Q.majorVersion>6){P.push("km-ios7")}else{P.push("km-"+Q.name)}}if((Q.name=="ios"&&Q.majorVersion<7)||Q.name!="ios"){P.push("km-"+Q.name+Q.majorVersion)}P.push("km-"+Q.majorVersion);P.push("km-m"+(Q.minorVersion?Q.minorVersion[0]:0));if(Q.variant&&((Q.skin&&Q.skin===Q.name)||!Q.skin||Q.setDefaultPlatform===false)){P.push("km-"+(Q.skin?Q.skin:Q.name)+"-"+Q.variant)}if(Q.cordova){P.push("km-cordova")}if(Q.appMode){P.push("km-app")}else{P.push("km-web")}if(O&&O.statusBarStyle){P.push("km-"+O.statusBarStyle+"-status-bar")}return P.join(" ")}function j(O){return"km-wp-"+(O.noVariantSet?(parseInt(v("<div style='background: Background' />").css("background-color").split(",")[1],10)===0?"dark":"light"):O.variant+" km-wp-"+O.variant+"-force")}function p(O){return n.wp?O.css("animation-name")=="-kendo-landscape":(Math.abs(window.orientation)/90==1)}function L(O){return p(O)?m:q}function C(O){O.parent().addBack().css("min-height",window.innerHeight)}function f(){v("meta[name=viewport]").remove();x.append(h({height:", width=device-width"+(p()?", height="+window.innerHeight+"px":(G.mobileOS.flatVersion>=600&&G.mobileOS.flatVersion<700)?", height="+window.innerWidth+"px":", height=device-height")}))}var E=g.extend({init:function(P,O){y.application=this;v(v.proxy(this,"bootstrap",P,O))},bootstrap:function(P,O){P=v(P);if(!P[0]){P=v(document.body)}g.fn.init.call(this,P,O);this.element.removeAttr("data-"+w.ns+"role");this._setupPlatform();this._attachMeta();this._setupElementClass();this._attachHideBarHandlers();var R=v.extend({},this.options);delete R.name;var Q=this,S=function(){Q.pane=new z(Q.element,R);Q.pane.navigateToInitial();if(Q.options.updateDocumentTitle){Q._setupDocumentTitle()}Q._startHistory();Q.trigger(i)};if(this.options.$angular){setTimeout(S)}else{S()}},options:{name:"Application",hideAddressBar:true,browserHistory:true,historyTransition:F,modelScope:window,statusBarStyle:"black",transition:"",platform:null,skin:null,updateDocumentTitle:true,useNativeScrolling:false},events:[i],navigate:function(O,P){this.pane.navigate(O,P)},replace:function(O,P){this.pane.replace(O,P)},scroller:function(){return this.view().scroller},hideLoading:function(){if(this.pane){this.pane.hideLoading()}else{throw new Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.")}},showLoading:function(){if(this.pane){this.pane.showLoading()}else{throw new Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.")}},changeLoadingMessage:function(O){if(this.pane){this.pane.changeLoadingMessage(O)}else{throw new Error("The mobile application instance is not fully instantiated. Please consider changing the message in the application init event handler.")}},view:function(){return this.pane.view()},skin:function(P){var O=this;if(!arguments.length){return O.options.skin}O.options.skin=P||"";O.element[0].className="km-pane";O._setupPlatform();O._setupElementClass();return O.options.skin},destroy:function(){g.fn.destroy.call(this);this.pane.destroy();this.router.destroy()},_setupPlatform:function(){var Q=this,O=Q.options.platform,S=Q.options.skin,P=[],R=n||H[c];if(O){R.setDefaultPlatform=true;if(typeof O==="string"){P=O.split("-");R=v.extend({variant:P[1]},R,H[P[0]])}else{R=O}}if(S){P=S.split("-");if(!n){R.setDefaultPlatform=false}R=v.extend({},R,{skin:P[0],variant:P[1]})}if(!R.variant){R.noVariantSet=true;R.variant="dark"}Q.os=R;Q.osCssClass=M(Q.os,Q.options);if(R.name=="wp"){if(!Q.refreshBackgroundColorProxy){Q.refreshBackgroundColorProxy=v.proxy(function(){if(Q.os.variant&&(Q.os.skin&&Q.os.skin===Q.os.name)||!Q.os.skin){Q.element.removeClass("km-wp-dark km-wp-light km-wp-dark-force km-wp-light-force").addClass(j(Q.os))}},Q)}v(document).off("visibilitychange",Q.refreshBackgroundColorProxy);v(document).off("resume",Q.refreshBackgroundColorProxy);if(!R.skin){Q.element.parent().css("overflow","hidden");v(document).on("visibilitychange",Q.refreshBackgroundColorProxy);v(document).on("resume",Q.refreshBackgroundColorProxy);Q.refreshBackgroundColorProxy()}}},_startHistory:function(){if(this.options.browserHistory){this.router=new w.Router({pushState:this.options.pushState,root:this.options.root,hashBang:this.options.hashBang});this.pane.bindToRouter(this.router);this.router.start()}else{if(!this.options.initial){this.pane.navigate("")}}},_resizeToScreenHeight:function(){var Q=v("meta[name=apple-mobile-web-app-status-bar-style]").attr("content").match(/black-translucent|hidden/),P=this.element,O;if(t){O=window.innerHeight}else{if(p(P)){if(Q){if(r){O=J.availWidth+B}else{O=J.availWidth}}else{if(r){O=J.availWidth}else{O=J.availWidth-B}}}else{if(Q){if(r){O=J.availHeight}else{O=J.availHeight+B}}else{if(r){O=J.availHeight-B}else{O=J.availHeight}}}}P.height(O)},_setupElementClass:function(){var Q=this,P,O=Q.element;O.parent().addClass("km-root km-"+(Q.os.tablet?"tablet":"phone"));O.addClass(Q.osCssClass+" "+L(O));if(this.options.useNativeScrolling){O.parent().addClass("km-native-scrolling")}if(t){O.addClass("km-ios-chrome")}if(G.wpDevicePixelRatio){O.parent().css("font-size",G.wpDevicePixelRatio+"em")}if(e){f()}if(Q.options.useNativeScrolling){O.parent().addClass("km-native-scrolling")}else{if(b){P=(screen.availWidth>screen.availHeight?screen.availWidth:screen.availHeight)+200;v(A({width:P,height:P})).appendTo(x)}}if(u){Q._resizeToScreenHeight()}w.onResize(function(){O.removeClass("km-horizontal km-vertical").addClass(L(O));if(Q.options.useNativeScrolling){C(O)}if(u){Q._resizeToScreenHeight()}if(e){f()}w.resize(O)})},_clearExistingMeta:function(){x.find("meta").filter("[name|='apple-mobile-web-app'],[name|='msapplication-tap'],[name='viewport']").remove()},_attachMeta:function(){var O=this.options,Q=O.icon,P;this._clearExistingMeta();if(!e){x.prepend(l)}x.prepend(d(O));if(Q){if(typeof Q==="string"){Q={"":Q}}for(P in Q){x.prepend(D({icon:Q[P],size:P}))}}if(O.useNativeScrolling){C(this.element)}},_attachHideBarHandlers:function(){var P=this,O=K(P,"_hideBar");if(G.mobileOS.appMode||!P.options.hideAddressBar||!I||P.options.useNativeScrolling){return}P._initialHeight={};o.on("load",O);w.onResize(function(){setTimeout(window.scrollTo,0,0,1)})},_setupDocumentTitle:function(){var P=this,O=document.title;P.pane.bind("viewShow",function(Q){var R=Q.view.title;document.title=R!==k?R:O})},_hideBar:function(){var P=this,O=P.element;O.height(w.support.transforms.css+"calc(100% + "+N+"px)");v(window).trigger(w.support.resize)}});w.mobile.Application=E;w.ui.plugin(E,w.mobile,"Mobile")})(window.kendo.jQuery);(function(e,c){var j=window.kendo,b=j.mobile,l=b.ui,m=l.Widget,q=j.support,d=q.mobileOS,p=d.android&&d.flatVersion>=300,i="click",h="disabled",k="km-state-disabled";function r(u,t,s){e(t.target).closest(".km-button,.km-detail").toggleClass("km-state-active",s);if(p&&u.deactivateTimeoutID){clearTimeout(u.deactivateTimeoutID);u.deactivateTimeoutID=0}}function g(s){return e('<span class="km-badge">'+s+"</span>")}var f=m.extend({init:function(t,s){var v=this;m.fn.init.call(v,t,s);var u=v.options.clickOn==="up";v._wrap();v._style();if(!u){v.element.attr("data-navigate-on-press",true)}v.options.enable=v.options.enable&&!v.element.attr(h);v.enable(v.options.enable);v._userEvents=new j.UserEvents(v.element,{press:function(w){v._activate(w)},release:function(w){r(v,w,false)}});v._userEvents.bind(u?"tap":"press",function(w){v._release(w)});if(p){v.element.on("move",function(w){v._timeoutDeactivate(w)})}},destroy:function(){m.fn.destroy.call(this);this._userEvents.destroy()},events:[i],options:{name:"Button",icon:"",style:"",badge:"",clickOn:"up",enable:true},badge:function(t){var s=this.badgeElement=this.badgeElement||g(t).appendTo(this.element);if(t||t===0){s.html(t);return this}if(t===false){s.empty().remove();this.badgeElement=false;return this}return s.html()},enable:function(s){var t=this.element;if(typeof s=="undefined"){s=true}this.options.enable=s;if(s){t.removeAttr(h)}else{t.attr(h,h)}t.toggleClass(k,!s)},_timeoutDeactivate:function(s){if(!this.deactivateTimeoutID){this.deactivateTimeoutID=setTimeout(r,500,this,s,false)}},_activate:function(t){var s=document.activeElement,u=s?s.nodeName:"";if(this.options.enable){r(this,t,true);if(u=="INPUT"||u=="TEXTAREA"){s.blur()}}},_release:function(t){var s=this;if(t.which>1){return}if(!s.options.enable){t.preventDefault();return}if(s.trigger(i,{target:e(t.target),button:s.element})){t.preventDefault()}},_style:function(){var t=this.options.style,s=this.element,u;if(t){u=t.split(" ");e.each(u,function(){s.addClass("km-"+this)})}},_wrap:function(){var x=this,w=x.options.icon,t=x.options.badge,s='<span class="km-icon km-'+w,u=x.element.addClass("km-button"),v=u.children("span:not(.km-icon)").addClass("km-text"),y=u.find("img").addClass("km-image");if(!v[0]&&u.html()){v=u.wrapInner('<span class="km-text" />').children("span.km-text")}if(!y[0]&&w){if(!v[0]){s+=" km-notext"}x.iconElement=u.prepend(e(s+'" />'))}if(t||t===0){x.badgeElement=g(t).appendTo(u)}}});var o=f.extend({options:{name:"BackButton",style:"back"},init:function(t,s){var u=this;f.fn.init.call(u,t,s);if(typeof u.element.attr("href")==="undefined"){u.element.attr("href","#:back")}}});var n=f.extend({options:{name:"DetailButton",style:""},init:function(t,s){f.fn.init.call(this,t,s)},_style:function(){var t=this.options.style+" detail",s=this.element;if(t){var u=t.split(" ");e.each(u,function(){s.addClass("km-"+this)})}},_wrap:function(){var w=this,v=w.options.icon,s='<span class="km-icon km-'+v,t=w.element,u=t.children("span"),x=t.find("img").addClass("km-image");if(!x[0]&&v){if(!u[0]){s+=" km-notext"}t.prepend(e(s+'" />'))}}});l.plugin(f);l.plugin(o);l.plugin(n)})(window.kendo.jQuery);(function(e,c){var h=window.kendo,j=h.mobile.ui,k=j.Widget,l="km-state-active",b="km-state-disabled",i="select",d="li:not(."+l+")";function f(m){return e('<span class="km-badge">'+m+"</span>")}var g=k.extend({init:function(n,m){var o=this;k.fn.init.call(o,n,m);o.element.addClass("km-buttongroup").find("li").each(o._button);o.element.on(o.options.selectOn,d,"_select");o._enable=true;o.select(o.options.index);if(!o.options.enable){o._enable=false;o.wrapper.addClass(b)}},events:[i],options:{name:"ButtonGroup",selectOn:"down",index:-1,enable:true},current:function(){return this.element.find("."+l)},select:function(m){var o=this,n=-1;if(m===c||m===-1||!o._enable||e(m).is("."+b)){return}o.current().removeClass(l);if(typeof m==="number"){n=m;m=e(o.element[0].children[m])}else{if(m.nodeType){m=e(m);n=m.index()}}m.addClass(l);o.selectedIndex=n},badge:function(n,p){var o=this.element,m;if(!isNaN(n)){n=o.children().get(n)}n=o.find(n);m=e(n.children(".km-badge")[0]||f(p).appendTo(n));if(p||p===0){m.html(p);return this}if(p===false){m.empty().remove();return this}return m.html()},enable:function(m){var n=this.wrapper;if(typeof m=="undefined"){m=true}if(m){n.removeClass(b)}else{n.addClass(b)}this._enable=this.options.enable=m},_button:function(){var n=e(this).addClass("km-button"),p=h.attrValue(n,"icon"),m=h.attrValue(n,"badge"),o=n.children("span"),q=n.find("img").addClass("km-image");if(!o[0]){o=n.wrapInner("<span/>").children("span")}o.addClass("km-text");if(!q[0]&&p){n.prepend(e('<span class="km-icon km-'+p+'"/>'))}if(m||m===0){f(m).appendTo(n)}},_select:function(m){if(m.which>1||m.isDefaultPrevented()||!this._enable){return}this.select(m.currentTarget);this.trigger(i,{index:this.selectedIndex})}});j.plugin(g)})(window.kendo.jQuery);(function(e,g){var q=window.kendo,p=q.mobile.ui,c=p.Widget,o="km-collapsible",u="km-collapsible-header",h="km-collapsible-content",f="km-collapsibleinset",r="<div data-role='collapsible-header' class='"+u+"'></div>",s="<div data-role='collapsible-content' class='"+h+"'></div>",j="km-collapsed",i="km-expanded",l="km-animated",n="left",m="right",t="top",d="expand",b="collapse";var k=c.extend({init:function(x,w){var y=this,v=e(x);c.fn.init.call(y,v,w);v.addClass(o);y._buildHeader();y.content=v.children().not(y.header).wrapAll(s).parent();y._userEvents=new q.UserEvents(y.header,{tap:function(){y.toggle()}});v.addClass(y.options.collapsed?j:i);if(y.options.inset){v.addClass(f)}if(y.options.animation){y.content.addClass(l);y.content.height(0);if(y.options.collapsed){y.content.hide()}}else{if(y.options.collapsed){y.content.hide()}}},events:[d,b],options:{name:"Collapsible",collapsed:true,collapseIcon:"arrow-n",expandIcon:"arrow-s",iconPosition:n,animation:true,inset:false},destroy:function(){c.fn.destroy.call(this);this._userEvents.destroy()},expand:function(v){var x=this.options.collapseIcon,y=this.content,w=q.support.mobileOS.ios;if(!this.trigger(d)){if(x){this.header.find(".km-icon").removeClass().addClass("km-icon km-"+x)}this.element.removeClass(j).addClass(i);if(this.options.animation&&!v){y.off("transitionend");y.show();if(w){y.removeClass(l)}y.height(this._getContentHeight());if(w){y.addClass(l)}q.resize(y)}else{y.show()}}},collapse:function(v){var w=this.options.expandIcon,x=this.content;if(!this.trigger(b)){if(w){this.header.find(".km-icon").removeClass().addClass("km-icon km-"+w)}this.element.removeClass(i).addClass(j);if(this.options.animation&&!v){x.one("transitionend",function(){x.hide()});x.height(0)}else{x.hide()}}},toggle:function(v){if(this.isCollapsed()){this.expand(v)}else{this.collapse(v)}},isCollapsed:function(){return this.element.hasClass(j)},resize:function(){if(!this.isCollapsed()&&this.options.animation){this.content.height(this._getContentHeight())}},_buildHeader:function(){var y=this.element.children(":header").wrapAll(r),v=e('<span class="km-icon"/>'),w=this.options.collapsed?this.options.expandIcon:this.options.collapseIcon,x=this.options.iconPosition;if(w){y.prepend(v);v.addClass("km-"+w)}this.header=y.parent();this.header.addClass("km-icon-"+x)},_getContentHeight:function(){var w=this.content.attr("style"),v;this.content.css({position:"absolute",visibility:"hidden",height:"auto"});v=this.content.height();this.content.attr("style",w?w:"");return v}});p.plugin(k)})(window.kendo.jQuery);(function(E,o){var F=window.kendo,s=window.Node,G=F.mobile,L=G.ui,J=F.data.DataSource,h=L.DataBoundWidget,j=".km-list > li, > li:not(.km-group-container)",K=".km-listview-link, .km-listview-label",z="["+F.attr("icon")+"]",R=E.proxy,e=F.attrValue,T="km-group-title",i="km-state-active",y='<div class="'+T+'"><div class="km-text"></div></div>',k=F.template('<li><div class="'+T+'"><div class="km-text">#= this.headerTemplate(data) #</div></div><ul>#= kendo.render(this.template, data.items)#</ul></li>'),U='<div class="km-listview-wrapper" />',H=F.template('<form class="km-filter-form"><div class="km-filter-wrap"><input type="search" placeholder="#=placeholder#"/><a href="\\#" class="km-filter-reset" title="Clear"><span class="km-icon km-clear"></span><span class="km-text">Clear</span></a></div></form>'),I=".kendoMobileListView",p="styled",l="dataBound",Q="dataBinding",B="itemChange",P="click",D="change",u="progress",f="function",M=/^\s+$/,W=/button/;function x(){return this.nodeType===s.TEXT_NODE&&this.nodeValue.match(M)}function C(Y,X){if(X&&!Y[0].querySelector(".km-icon")){Y.prepend('<span class="km-icon km-'+X+'"/>')}}function c(X){C(X,e(X,"icon"));C(X,e(X.children(z),"icon"))}function S(Y){var X=Y.parent(),Z=Y.add(X.children(F.roleSelector("detailbutton"))),aa=X.contents().not(Z).not(x);if(aa.length){return}Y.addClass("km-listview-link").attr(F.attr("role"),"listview-link");C(Y,e(X,"icon"));C(Y,e(Y,"icon"))}function b(X){if(!X[0].querySelector("input[type=checkbox],input[type=radio]")){return}var Y=X.parent();if(Y.contents().not(X).not(function(){return this.nodeType==3})[0]){return}X.addClass("km-listview-label");X.children("[type=checkbox],[type=radio]").addClass("km-widget km-icon km-check")}function v(X,Y){E(X).css("transform","translate3d(0px, "+Y+"px, 0px)")}var w=F.Class.extend({init:function(Z){var X=Z.scroller();if(!X){return}this.options=Z.options;this.element=Z.element;this.scroller=Z.scroller();this._shouldFixHeaders();var Y=this;var aa=function(){Y._cacheHeaders()};Z.bind("resize",aa);Z.bind(p,aa);Z.bind(l,aa);X.bind("scroll",function(ab){Y._fixHeader(ab)})},_fixHeader:function(ab){if(!this.fixedHeaders){return}var Y=0,X=this.scroller,ad=this.headers,aa=ab.scrollTop,Z,ac,ae;do{Z=ad[Y++];if(!Z){ae=E("<div />");break}ac=Z.offset;ae=Z.header}while(ac+1>aa);if(this.currentHeader!=Y){X.fixedContainer.html(ae.clone());this.currentHeader=Y}},_shouldFixHeaders:function(){this.fixedHeaders=this.options.type==="group"&&this.options.fixedHeaders},_cacheHeaders:function(){this._shouldFixHeaders();if(!this.fixedHeaders){return}var Y=[],X=this.scroller.scrollTop;this.element.find("."+T).each(function(Z,aa){aa=E(aa);Y.unshift({offset:aa.position().top+X,header:aa})});this.headers=Y;this._fixHeader({scrollTop:X})}});var q=function(){return{page:1}};var V=F.Class.extend({init:function(Y){var aa=this,Z=Y.options,X=Y.scroller(),ab=Z.pullParameters||q;this.listView=Y;this.scroller=X;Y.bind("_dataSource",function(ac){aa.setDataSource(ac.dataSource)});X.setOptions({pullToRefresh:true,pull:function(){if(!aa._pulled){aa._pulled=true;aa.dataSource.read(ab.call(Y,aa._first))}},messages:{pullTemplate:Z.messages.pullTemplate,releaseTemplate:Z.messages.releaseTemplate,refreshTemplate:Z.messages.refreshTemplate}})},setDataSource:function(Y){var X=this;this._first=Y.view()[0];this.dataSource=Y;Y.bind("change",function(){X._change()});Y.bind("error",function(){X._change()})},_change:function(){var X=this.scroller,Z=this.dataSource;if(this._pulled){X.pullHandled()}if(this._pulled||!this._first){var Y=Z.view();if(Y[0]){this._first=Y[0]}}this._pulled=false}});var g=F.Observable.extend({init:function(X){var Y=this;F.Observable.fn.init.call(Y);Y.buffer=X.buffer;Y.height=X.height;Y.item=X.item;Y.items=[];Y.footer=X.footer;Y.buffer.bind("reset",function(){Y.refresh()})},refresh:function(){var aa=this.buffer,ab=this.items,ad=false;while(ab.length){ab.pop().destroy()}this.offset=aa.offset;var Z=this.item,Y,ac;for(var X=0;X<aa.viewSize;X++){if(X===aa.total()){ad=true;break}ac=Z(this.content(this.offset+ab.length));ac.below(Y);Y=ac;ab.push(ac)}this.itemCount=ab.length;this.trigger("reset");this._resize();if(ad){this.trigger("endReached")}},totalHeight:function(){if(!this.items[0]){return 0}var ab=this,aa=ab.items,ac=aa[0].top,Z=aa[aa.length-1].bottom,Y=(Z-ac)/ab.itemCount,X=ab.buffer.length-ab.offset-ab.itemCount;return(this.footer?this.footer.height:0)+Z+X*Y},batchUpdate:function(ac){var Y=this.height(),Z=this.items,ab,aa=this.offset;if(!Z[0]){return}if(this.lastDirection){while(Z[Z.length-1].bottom>ac+Y*2){if(this.offset===0){break}this.offset--;ab=Z.pop();ab.update(this.content(this.offset));ab.above(Z[0]);Z.unshift(ab)}}else{while(Z[0].top<ac-Y){var X=this.offset+this.itemCount;if(X===this.buffer.total()){this.trigger("endReached");break}if(X===this.buffer.length){break}ab=Z.shift();ab.update(this.content(this.offset+this.itemCount));ab.below(Z[Z.length-1]);Z.push(ab);this.offset++}}if(aa!==this.offset){this._resize()}},update:function(ae){var ac=this,ad=this.items,aj,af,ah,ai=this.height(),X=this.itemCount,ag=ai/2,aa=(this.lastTop||0)>ae,Z=ae-ag,Y=ae+ai+ag;if(!ad[0]){return}this.lastTop=ae;this.lastDirection=aa;if(aa){if(ad[0].top>Z&&ad[ad.length-1].bottom>Y+ag&&this.offset>0){this.offset--;aj=ad.pop();af=ad[0];aj.update(this.content(this.offset));ad.unshift(aj);aj.above(af);ac._resize()}}else{if(ad[ad.length-1].bottom<Y&&ad[0].top<Z-ag){var ab=this.offset+X;if(ab===this.buffer.total()){this.trigger("endReached")}else{if(ab!==this.buffer.length){aj=ad.shift();ah=ad[ad.length-1];ad.push(aj);aj.update(this.content(this.offset+this.itemCount));ac.offset++;aj.below(ah);ac._resize()}}}}},content:function(X){return this.buffer.at(X)},destroy:function(){this.unbind()},_resize:function(){var Y=this.items,ab=0,X=0,aa=Y[0],Z=Y[Y.length-1];if(aa){ab=aa.top;X=Z.bottom}this.trigger("resize",{top:ab,bottom:X});if(this.footer){this.footer.below(Z)}}});F.mobile.ui.VirtualList=g;var d=F.Class.extend({init:function(Y,Z){var aa=Y.append([Z],true)[0],X=aa.offsetHeight;E.extend(this,{top:0,element:aa,listView:Y,height:X,bottom:X})},update:function(X){this.element=this.listView.setDataItem(this.element,X)},above:function(X){if(X){this.height=this.element.offsetHeight;this.top=X.top-this.height;this.bottom=X.top;v(this.element,this.top)}},below:function(X){if(X){this.height=this.element.offsetHeight;this.top=X.bottom;this.bottom=this.top+this.height;v(this.element,this.top)}},destroy:function(){F.destroy(this.element);E(this.element).remove()}});var r='<div><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span></div>';var n=F.Class.extend({init:function(X){this.element=E('<li class="km-load-more km-scroller-refresh" style="display: none"></li>').appendTo(X.element);this._loadIcon=E(r).appendTo(this.element)},enable:function(){this.element.show();this.height=this.element.outerHeight(true)},disable:function(){this.element.hide();this.height=0},below:function(X){if(X){this.top=X.bottom;this.bottom=this.height+this.top;v(this.element,this.top)}}});var t=n.extend({init:function(Y,X){this._loadIcon=E(r).hide();this._loadButton=E('<a class="km-load">'+Y.options.messages.loadMoreText+"</a>").hide();this.element=E('<li class="km-load-more" style="display: none"></li>').append(this._loadIcon).append(this._loadButton).appendTo(Y.element);var Z=this;this._loadButton.kendoMobileButton().data("kendoMobileButton").bind("click",function(){Z._hideShowButton();X.next()});X.bind("resize",function(){Z._showLoadButton()});this.height=this.element.outerHeight(true);this.disable()},_hideShowButton:function(){this._loadButton.hide();this.element.addClass("km-scroller-refresh");this._loadIcon.css("display","block")},_showLoadButton:function(){this._loadButton.show();this.element.removeClass("km-scroller-refresh");this._loadIcon.hide()}});var m=F.Class.extend({init:function(Y){var X=this;this.chromeHeight=Y.wrapper.children().not(Y.element).outerHeight()||0;this.listView=Y;this.scroller=Y.scroller();this.options=Y.options;Y.bind("_dataSource",function(Z){X.setDataSource(Z.dataSource,Z.empty)});Y.bind("resize",function(){if(!X.list.items.length){return}X.scroller.reset();X.buffer.range(0);X.list.refresh()});this.scroller.makeVirtual();this.scroller.bind("scroll",function(Z){X.list.update(Z.scrollTop)});this.scroller.bind("scrollEnd",function(Z){X.list.batchUpdate(Z.scrollTop)})},destroy:function(){this.list.unbind();this.buffer.unbind()},setDataSource:function(X,Z){var ag=this,ah=this.options,af=this.listView,aa=af.scroller(),ad=ah.loadMore,ac,Y,ae;this.dataSource=X;ac=X.pageSize()||ah.virtualViewSize;if(!ac&&!Z){throw new Error("the DataSource does not have page size configured. Page Size setting is mandatory for the mobile listview virtual scrolling to work as expected.")}if(this.buffer){this.buffer.destroy()}Y=new F.data.Buffer(X,Math.floor(ac/2),ad);if(ad){ae=new t(af,Y)}else{ae=new n(af)}if(this.list){this.list.destroy()}var ab=new g({buffer:Y,footer:ae,item:function(ai){return new d(af,ai)},height:function(){return aa.height()}});ab.bind("resize",function(){ag.updateScrollerSize();af.updateSize()});ab.bind("reset",function(){ag.footer.enable()});ab.bind("endReached",function(){ae.disable();ag.updateScrollerSize()});Y.bind("expand",function(){ab.lastDirection=false;ab.batchUpdate(aa.scrollTop)});E.extend(this,{buffer:Y,scroller:aa,list:ab,footer:ae})},updateScrollerSize:function(){this.scroller.virtualSize(0,this.list.totalHeight()+this.chromeHeight)},refresh:function(){this.list.refresh()},reset:function(){this.buffer.range(0);this.list.refresh()}});var N=F.Class.extend({init:function(Z){var Y=this;this.listView=Z;this.options=Z.options;var X=this;this._refreshHandler=function(aa){X.refresh(aa)};this._progressHandler=function(){Z.showLoading()};Z.bind("_dataSource",function(aa){Y.setDataSource(aa.dataSource)})},destroy:function(){this._unbindDataSource()},reset:function(){},refresh:function(ag){var ad=ag&&ag.action,ak=ag&&ag.items,aj=this.listView,X=this.dataSource,ab=this.options.appendOnRefresh,ah=X.view(),aa=X.group(),ai=aa&&aa[0],am;if(ad==="itemchange"&&!aj._hasBindingTarget()){am=aj.findByDataItem(ak)[0];if(am){aj.setDataItem(am,ak[0])}return}var al,Z,ae;var Y=(ad==="add"&&!ai)||(ab&&!aj._filter);var ac=ad==="remove"&&!ai;if(Y){al=[]}else{if(ac){al=aj.findByDataItem(ak)}}if(aj.trigger(Q,{action:ad||"rebind",items:ak,removedItems:al,index:ag&&ag.index})){if(this._shouldShowLoading()){aj.hideLoading()}return}if(ad==="add"&&!ai){var af=ah.indexOf(ak[0]);if(af>-1){Z=aj.insertAt(ak,af);ae=ak}}else{if(ad==="remove"&&!ai){Z=[];aj.remove(ak)}else{if(ai){aj.replaceGrouped(ah)}else{if(ab&&!aj._filter){Z=aj.prepend(ah);ae=ah}else{aj.replace(ah)}}}}if(this._shouldShowLoading()){aj.hideLoading()}aj.trigger(l,{ns:L,addedItems:Z,addedDataItems:ae})},setDataSource:function(X){if(this.dataSource){this._unbindDataSource()}this.dataSource=X;X.bind(D,this._refreshHandler);if(this._shouldShowLoading()){this.dataSource.bind(u,this._progressHandler)}},_unbindDataSource:function(){this.dataSource.unbind(D,this._refreshHandler).unbind(u,this._progressHandler)},_shouldShowLoading:function(){var X=this.options;return !X.pullToRefresh&&!X.loadMore&&!X.endlessScroll}});var A=F.Class.extend({init:function(X){var Z=this,ab=X.options.filterable,Y="change paste",aa=this;this.listView=X;this.options=ab;X.element.before(H({placeholder:ab.placeholder||"Search..."}));if(ab.autoFilter!==false){Y+=" keyup"}this.element=X.wrapper.find(".km-search-form");this.searchInput=X.wrapper.find("input[type=search]").closest("form").on("submit"+I,function(ac){ac.preventDefault()}).end().on("focus"+I,function(){Z._oldFilter=Z.searchInput.val()}).on(Y.split(" ").join(I+" ")+I,R(this._filterChange,this));this.clearButton=X.wrapper.find(".km-filter-reset").on(P,R(this,"_clearFilter")).hide();this._dataSourceChange=E.proxy(this._refreshInput,this);X.bind("_dataSource",function(ac){ac.dataSource.bind("change",aa._dataSourceChange)})},_refreshInput:function(){var Y=this.listView.dataSource.filter();var X=this.listView._filter.searchInput;if(!Y||Y.filters[0].field!==this.listView.options.filterable.field){X.val("")}else{X.val(Y.filters[0].value)}},_search:function(X){this._filter=true;this.clearButton[X?"show":"hide"]();this.listView.dataSource.filter(X)},_filterChange:function(Y){var X=this;if(Y.type=="paste"&&this.options.autoFilter!==false){setTimeout(function(){X._applyFilter()},1)}else{this._applyFilter()}},_applyFilter:function(){var X=this.options,Y=this.searchInput.val(),Z=Y.length?{field:X.field,operator:X.operator||"startswith",ignoreCase:X.ignoreCase,value:Y}:null;if(Y===this._oldFilter){return}this._oldFilter=Y;this._search(Z)},_clearFilter:function(X){this.searchInput.val("");this._search(null);X.preventDefault()}});var O=h.extend({init:function(Z,Y){var X=this;h.fn.init.call(this,Z,Y);Z=this.element;Y=this.options;if(Y.scrollTreshold){Y.scrollThreshold=Y.scrollTreshold}Z.on("down",K,"_highlight").on("move up cancel",K,"_dim");this._userEvents=new F.UserEvents(Z,{filter:j,allowSelection:true,tap:function(aa){X._click(aa)}});Z.css("-ms-touch-action","auto");Z.wrap(U);this.wrapper=this.element.parent();this._headerFixer=new w(this);this._itemsCache={};this._templates();this.virtual=Y.endlessScroll||Y.loadMore;this._style();if(this.options.filterable){this._filter=new A(this)}if(this.virtual){this._itemBinder=new m(this)}else{this._itemBinder=new N(this)}if(this.options.pullToRefresh){this._pullToRefreshHandler=new V(this)}this.setDataSource(Y.dataSource);this._enhanceItems(this.items());F.notify(this,L)},events:[P,Q,l,B],options:{name:"ListView",style:"",type:"flat",autoBind:true,fixedHeaders:false,template:"#:data#",headerTemplate:'<span class="km-text">#:value#</span>',appendOnRefresh:false,loadMore:false,endlessScroll:false,scrollThreshold:30,pullToRefresh:false,messages:{loadMoreText:"Press to load more",pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"},pullOffset:140,filterable:false,virtualViewSize:null},refresh:function(){this._itemBinder.refresh()},reset:function(){this._itemBinder.reset()},setDataSource:function(Y){var X=!Y;this.dataSource=J.create(Y);this.trigger("_dataSource",{dataSource:this.dataSource,empty:X});if(this.options.autoBind&&!X){this.items().remove();this.dataSource.fetch()}},destroy:function(){h.fn.destroy.call(this);F.destroy(this.element);this._userEvents.destroy();if(this._itemBinder){this._itemBinder.destroy()}this.element.unwrap();delete this.element;delete this.wrapper;delete this._userEvents},items:function(){if(this.options.type==="group"){return this.element.find(".km-list").children()}else{return this.element.children().not(".km-load-more")}},scroller:function(){if(!this._scrollerInstance){this._scrollerInstance=this.element.closest(".km-scroll-wrapper").data("kendoMobileScroller")}return this._scrollerInstance},showLoading:function(){var X=this.view();if(X&&X.loader){X.loader.show()}},hideLoading:function(){var X=this.view();if(X&&X.loader){X.loader.hide()}},insertAt:function(aa,Z,Y){var X=this;return X._renderItems(aa,function(ab){if(Z===0){X.element.prepend(ab)}else{if(Z===-1){X.element.append(ab)}else{X.items().eq(Z-1).after(ab)}}if(Y){for(var ac=0;ac<ab.length;ac++){X.trigger(B,{item:ab.eq(ac),data:aa[ac],ns:L})}}})},append:function(Y,X){return this.insertAt(Y,-1,X)},prepend:function(Y,X){return this.insertAt(Y,0,X)},replace:function(X){this.options.type="flat";this._angularItems("cleanup");this.element.empty();this._style();return this.insertAt(X,0)},replaceGrouped:function(X){this.options.type="group";this._angularItems("cleanup");this.element.empty();var Y=E(F.render(this.groupTemplate,X));this._enhanceItems(Y.children("ul").children("li"));this.element.append(Y);G.init(Y);this._style();this._angularItems("compile")},remove:function(Y){var X=this.findByDataItem(Y);this.angular("cleanup",function(){return{elements:X}});F.destroy(X);X.remove()},findByDataItem:function(Y){var Z=[];for(var X=0,aa=Y.length;X<aa;X++){Z[X]="[data-"+F.ns+"uid="+Y[X].uid+"]"}return this.element.find(Z.join(","))},setDataItem:function(Z,Y){var X=this,aa=function(ab){var ac=E(ab[0]);F.destroy(Z);E(Z).replaceWith(ac);X.trigger(B,{item:ac,data:Y,ns:L})};return this._renderItems([Y],aa)[0]},updateSize:function(){this._size=this.getSize()},_renderItems:function(Y,Z){var X=E(F.render(this.template,Y));this.angular("compile",function(){return{elements:X,data:Y.map(function(aa){return{dataItem:aa}})}});Z(X);G.init(X);this._enhanceItems(X);return X},_dim:function(X){this._toggle(X,false)},_highlight:function(X){this._toggle(X,true)},_toggle:function(ac,Y){if(ac.which>1){return}var Z=E(ac.currentTarget),aa=Z.parent(),ad=e(Z,"role")||"",X=(!ad.match(W)),ab=ac.isDefaultPrevented();if(X){aa.toggleClass(i,Y&&!ab)}},_templates:function(){var Y=this.options.template,ab=this.options.headerTemplate,aa=' data-uid="#=arguments[0].uid || ""#"',Z={},X={};if(typeof Y===f){Z.template=Y;Y="#=this.template(data)#"}this.template=R(F.template("<li"+aa+">"+Y+"</li>"),Z);X.template=this.template;if(typeof ab===f){X._headerTemplate=ab;ab="#=this._headerTemplate(data)#"}X.headerTemplate=F.template(ab);this.groupTemplate=R(k,X)},_click:function(ab){if(ab.event.which>1||ab.event.isDefaultPrevented()){return}var X,Z=ab.target,aa=E(ab.event.target),ac=aa.closest(F.roleSelector("button","detailbutton","backbutton")),Y=F.widgetInstance(ac,L),ad=Z.attr(F.attr("uid"));if(ad){X=this.dataSource.getByUid(ad)}if(this.trigger(P,{target:aa,item:Z,dataItem:X,button:Y})){ab.preventDefault()}},_styleGroups:function(){var X=this.element.children();X.children("ul").addClass("km-list");X.each(function(){var Y=E(this),Z=Y.contents().first();Y.addClass("km-group-container");if(!Z.is("ul")&&!Z.is("div."+T)){Z.wrap(y)}})},_style:function(){var Y=this.options,aa=Y.type==="group",Z=this.element,X=Y.style==="inset";Z.addClass("km-listview").toggleClass("km-list",!aa).toggleClass("km-virtual-list",this.virtual).toggleClass("km-listinset",!aa&&X).toggleClass("km-listgroup",aa&&!X).toggleClass("km-listgroupinset",aa&&X);if(!Z.parents(".km-listview")[0]){Z.closest(".km-content").toggleClass("km-insetcontent",X)}if(aa){this._styleGroups()}this.trigger(p)},_enhanceItems:function(X){X.each(function(){var Z=E(this),aa,Y=false;Z.children().each(function(){aa=E(this);if(aa.is("a")){S(aa);Y=true}else{if(aa.is("label")){b(aa);Y=true}}});if(!Y){c(Z)}})}});L.plugin(O)})(window.kendo.jQuery);(function(f,c){var g=window.kendo,b=g.mobile,i=b.ui,j=i.Widget;function h(m,l){var k=l.find("["+g.attr("align")+"="+m+"]");if(k[0]){return f('<div class="km-'+m+'item" />').append(k).prependTo(l)}}function d(l){var o=l.siblings(),n=!!l.children("ul")[0],m=(!!o[0]&&f.trim(l.text())===""),k=!!(g.mobile.application&&g.mobile.application.element.is(".km-android"));l.prevAll().toggleClass("km-absolute",n);l.toggleClass("km-show-title",m);l.toggleClass("km-fill-title",m&&!f.trim(l.html()));l.toggleClass("km-no-title",n);l.toggleClass("km-hide-title",k&&!o.children().is(":visible"))}var e=j.extend({init:function(l,k){var m=this;j.fn.init.call(m,l,k);l=m.element;m.container().bind("show",f.proxy(this,"refresh"));l.addClass("km-navbar").wrapInner(f('<div class="km-view-title km-show-title" />'));m.leftElement=h("left",l);m.rightElement=h("right",l);m.centerElement=l.find(".km-view-title")},options:{name:"NavBar"},title:function(k){this.element.find(g.roleSelector("view-title")).text(k);d(this.centerElement)},refresh:function(l){var k=l.view;if(k.options.title){this.title(k.options.title)}else{d(this.centerElement)}},destroy:function(){j.fn.destroy.call(this);g.destroy(this.element)}});i.plugin(e)})(window.kendo.jQuery);(function(w,h){var y=window.kendo,z=y.mobile,D=z.ui,L=w.proxy,s=y.effects.Transition,A=y.ui.Pane,I=y.ui.PaneDimensions,d=D.DataBoundWidget,B=y.data.DataSource,O=y.data.Buffer,i=y.data.BatchBuffer,q=Math,r=q.abs,o=q.ceil,M=q.round,l=q.max,R=q.min,f=q.floor,v="change",e="changing",m="refresh",n="km-current-page",J="km-virtual-page",c="function",t="itemChange",p="cleanup",j=3,E=-1,G=0,x=1,u=-1,F=0,H=1;var K=y.Class.extend({init:function(T){var V=this,U=w("<ol class='km-pages'/>");T.element.append(U);this._changeProxy=L(V,"_change");this._refreshProxy=L(V,"_refresh");T.bind(v,this._changeProxy);T.bind(m,this._refreshProxy);w.extend(V,{element:U,scrollView:T})},items:function(){return this.element.children()},_refresh:function(U){var V="";for(var T=0;T<U.pageCount;T++){V+="<li/>"}this.element.html(V);this.items().eq(U.page).addClass(n)},_change:function(T){this.items().removeClass(n).eq(T.page).addClass(n)},destroy:function(){this.scrollView.unbind(v,this._changeProxy);this.scrollView.unbind(m,this._refreshProxy);this.element.remove()}});y.mobile.ui.ScrollViewPager=K;var g="transitionEnd",Q="dragStart",k="dragEnd";var N=y.Observable.extend({init:function(W,ab){var X=this;y.Observable.fn.init.call(this);this.element=W;this.container=W.parent();var aa,Z,Y,T,V,U;aa=new y.ui.Movable(X.element);Z=new s({axis:"x",movable:aa,onEnd:function(){X.trigger(g)}});Y=new y.UserEvents(W,{start:function(ac){if(r(ac.x.velocity)*2>=r(ac.y.velocity)){Y.capture()}else{Y.cancel()}X.trigger(Q,ac);Z.cancel()},allowSelection:true,end:function(ac){X.trigger(k,ac)}});T=new I({element:X.element,container:X.container});V=T.x;V.bind(v,function(){X.trigger(v)});U=new A({dimensions:T,userEvents:Y,movable:aa,elastic:true});w.extend(X,{duration:ab&&ab.duration||1,movable:aa,transition:Z,userEvents:Y,dimensions:T,dimension:V,pane:U});this.bind([g,Q,k,v],ab)},size:function(){return{width:this.dimensions.x.getSize(),height:this.dimensions.y.getSize()}},total:function(){return this.dimension.getTotal()},offset:function(){return -this.movable.x},updateDimension:function(){this.dimension.update(true)},refresh:function(){this.dimensions.refresh()},moveTo:function(T){this.movable.moveAxis("x",-T)},transitionTo:function(V,U,T){if(T){this.moveTo(-V)}else{this.transition.moveTo({location:V,duration:this.duration,ease:U})}}});y.mobile.ui.ScrollViewElasticPane=N;var S=y.Observable.extend({init:function(U,W,T){var V=this;y.Observable.fn.init.call(this);V.element=U;V.pane=W;V._getPages();this.page=0;this.pageSize=T.pageSize||1;this.contentHeight=T.contentHeight;this.enablePager=T.enablePager},scrollTo:function(U,T){this.page=U;this.pane.transitionTo(-U*this.pane.size().width,s.easeOutExpo,T)},paneMoved:function(ac,ad,ab,U){var Y=this,V=Y.pane,T=V.size().width*Y.pageSize,aa=M,X=ad?s.easeOutBack:s.easeOutExpo,W,Z;if(ac===u){aa=o}else{if(ac===H){aa=f}}Z=aa(V.offset()/T);W=l(Y.minSnap,R(-Z*T,Y.maxSnap));if(Z!=Y.page){if(ab&&ab({currentPage:Y.page,nextPage:Z})){W=-Y.page*V.size().width}}V.transitionTo(W,X,U)},updatePage:function(){var U=this.pane,T=M(U.offset()/U.size().width);if(T!=this.page){this.page=T;return true}return false},forcePageUpdate:function(){return this.updatePage()},resizeTo:function(U){var X=this.pane,V=U.width;this.pageElements.width(V);if(this.contentHeight==="100%"){var W=this.element.parent().height();if(this.enablePager===true){var T=this.element.parent().find("ol.km-pages");if(T.length){W-=T.outerHeight(true)}}this.element.css("height",W);this.pageElements.css("height",W)}X.updateDimension();if(!this._paged){this.page=f(X.offset()/V)}this.scrollTo(this.page,true);this.pageCount=o(X.total()/V);this.minSnap=-(this.pageCount-1)*V;this.maxSnap=0},_getPages:function(){this.pageElements=this.element.find(y.roleSelector("page"));this._paged=this.pageElements.length>0}});y.mobile.ui.ScrollViewContent=S;var b=y.Observable.extend({init:function(U,W,T){var V=this;y.Observable.fn.init.call(this);V.element=U;V.pane=W;V.options=T;V._templates();V.page=T.page||0;V.pages=[];V._initPages();V.resizeTo(V.pane.size());V.pane.dimension.forceEnabled()},setDataSource:function(T){this.dataSource=B.create(T);this._buffer();this._pendingPageRefresh=false;this._pendingWidgetRefresh=false},_viewShow:function(){var T=this;if(T._pendingWidgetRefresh){setTimeout(function(){T._resetPages()},0);T._pendingWidgetRefresh=false}},_buffer:function(){var T=this.options.itemsPerPage;if(this.buffer){this.buffer.destroy()}if(T>1){this.buffer=new i(this.dataSource,T)}else{this.buffer=new O(this.dataSource,T*3)}this._resizeProxy=L(this,"_onResize");this._resetProxy=L(this,"_onReset");this._endReachedProxy=L(this,"_onEndReached");this.buffer.bind({resize:this._resizeProxy,reset:this._resetProxy,endreached:this._endReachedProxy})},_templates:function(){var U=this.options.template,T=this.options.emptyTemplate,W={},V={};if(typeof U===c){W.template=U;U="#=this.template(data)#"}this.template=L(y.template(U),W);if(typeof T===c){V.emptyTemplate=T;T="#=this.emptyTemplate(data)#"}this.emptyTemplate=L(y.template(T),V)},_initPages:function(){var T=this.pages,V=this.element,W;for(var U=0;U<j;U++){W=new P(V);T.push(W)}this.pane.updateDimension()},resizeTo:function(W){var T=this.pages,Y=this.pane;for(var V=0;V<T.length;V++){T[V].setWidth(W.width)}if(this.options.contentHeight==="auto"){this.element.css("height",this.pages[1].element.height())}else{if(this.options.contentHeight==="100%"){var X=this.element.parent().height();if(this.options.enablePager===true){var U=this.element.parent().find("ol.km-pages");if(U.length){X-=U.outerHeight(true)}}this.element.css("height",X);T[0].element.css("height",X);T[1].element.css("height",X);T[2].element.css("height",X)}}Y.updateDimension();this._repositionPages();this.width=W.width},scrollTo:function(V){var T=this.buffer,U;T.syncDataSource();U=T.at(V);if(!U){return}this._updatePagesContent(V);this.page=V},paneMoved:function(ae,af,ad,V){var aa=this,W=aa.pane,U=W.size().width,Y=W.offset(),Z=Math.abs(Y)>=U/3,X=af?y.effects.Transition.easeOutBack:y.effects.Transition.easeOutExpo,T=aa.page+2>aa.buffer.total(),ab,ac=0;if(ae===H){if(aa.page!==0){ac=-1}}else{if(ae===u&&!T){ac=1}else{if(Y>0&&(Z&&!T)){ac=1}else{if(Y<0&&Z){if(aa.page!==0){ac=-1}}}}}ab=aa.page;if(ac){ab=(ac>0)?ab+1:ab-1}if(ad&&ad({currentPage:aa.page,nextPage:ab})){ac=0}if(ac===0){aa._cancelMove(X,V)}else{if(ac===-1){aa._moveBackward(V)}else{if(ac===1){aa._moveForward(V)}}}},updatePage:function(){var T=this.pages;if(this.pane.offset()===0){return false}if(this.pane.offset()>0){T.push(this.pages.shift());this.page++;this.setPageContent(T[2],this.page+1)}else{T.unshift(this.pages.pop());this.page--;this.setPageContent(T[0],this.page-1)}this._repositionPages();this._resetMovable();return true},forcePageUpdate:function(){var U=this.pane.offset(),T=this.pane.size().width*3/4;if(r(U)>T){return this.updatePage()}return false},_resetMovable:function(){this.pane.moveTo(0)},_moveForward:function(T){this.pane.transitionTo(-this.width,y.effects.Transition.easeOutExpo,T)},_moveBackward:function(T){this.pane.transitionTo(this.width,y.effects.Transition.easeOutExpo,T)},_cancelMove:function(U,T){this.pane.transitionTo(0,U,T)},_resetPages:function(){this.page=this.options.page||0;this._updatePagesContent(this.page);this._repositionPages();this.trigger("reset")},_onResize:function(){this.pageCount=o(this.dataSource.total()/this.options.itemsPerPage);if(this._pendingPageRefresh){this._updatePagesContent(this.page);this._pendingPageRefresh=false}this.trigger("resize")},_onReset:function(){this.pageCount=o(this.dataSource.total()/this.options.itemsPerPage);this._resetPages()},_onEndReached:function(){this._pendingPageRefresh=true},_repositionPages:function(){var T=this.pages;T[0].position(E);T[1].position(G);T[2].position(x)},_updatePagesContent:function(V){var T=this.pages,U=V||0;this.setPageContent(T[0],U-1);this.setPageContent(T[1],U);this.setPageContent(T[2],U+1)},setPageContent:function(Y,W){var V=this.buffer,X=this.template,T=this.emptyTemplate,U=null;if(W>=0){U=V.at(W);if(w.isArray(U)&&!U.length){U=null}}this.trigger(p,{item:Y.element});if(U!==null){Y.content(X(U))}else{Y.content(T({}))}y.mobile.init(Y.element);this.trigger(t,{item:Y.element,data:U,ns:y.mobile.ui})}});y.mobile.ui.VirtualScrollViewContent=b;var P=y.Class.extend({init:function(T){this.element=w("<div class='"+J+"'></div>");this.width=T.width();this.element.width(this.width);T.append(this.element)},content:function(T){this.element.html(T)},position:function(T){this.element.css("transform","translate3d("+this.width*T+"px, 0, 0)")},setWidth:function(T){this.width=T;this.element.width(T)}});y.mobile.ui.VirtualPage=P;var C=d.extend({init:function(V,U){var X=this;d.fn.init.call(X,V,U);U=X.options;V=X.element;y.stripWhitespace(V[0]);V.wrapInner("<div/>").addClass("km-scrollview");if(this.options.enablePager){this.pager=new K(this)}X.inner=V.children().first();X.page=0;X.inner.css("height",U.contentHeight);X.pane=new N(X.inner,{duration:this.options.duration,transitionEnd:L(this,"_transitionEnd"),dragStart:L(this,"_dragStart"),dragEnd:L(this,"_dragEnd"),change:L(this,m)});X.bind("resize",function(){X.pane.refresh()});X.page=U.page;var Y=this.inner.children().length===0;var W=Y?new b(X.inner,X.pane,U):new S(X.inner,X.pane,U);W.page=X.page;W.bind("reset",function(){X._syncWithContent();X.trigger(m,{pageCount:W.pageCount,page:W.page})});W.bind("resize",function(){X.trigger(m,{pageCount:W.pageCount,page:W.page})});W.bind(t,function(Z){X.trigger(t,Z);X.angular("compile",function(){return{elements:Z.item,data:[{dataItem:Z.data}]}})});W.bind(p,function(Z){X.angular("cleanup",function(){return{elements:Z.item}})});X._content=W;X.setDataSource(U.dataSource);var T=X.container();if(T.nullObject){X.viewInit();X.viewShow()}else{T.bind("show",L(this,"viewShow")).bind("init",L(this,"viewInit"))}},options:{name:"ScrollView",page:0,duration:400,velocityThreshold:0.8,contentHeight:"auto",pageSize:1,itemsPerPage:1,bounceVelocityThreshold:1.6,enablePager:true,autoBind:true,template:"",emptyTemplate:""},events:[e,v,m],destroy:function(){d.fn.destroy.call(this);y.destroy(this.element)},viewInit:function(){if(this.options.autoBind){this._content.scrollTo(this._content.page,true)}},viewShow:function(){this.pane.refresh()},refresh:function(){var T=this._content;T.resizeTo(this.pane.size());this.page=T.page;this.trigger(m,{pageCount:T.pageCount,page:T.page})},content:function(T){this.element.children().first().html(T);this._content._getPages();this.pane.refresh()},value:function(T){var U=this.dataSource;if(T){this.scrollTo(U.indexOf(T),true)}else{return U.at(this.page)}},scrollTo:function(U,T){this._content.scrollTo(U,T);this._syncWithContent()},prev:function(){var U=this,T=U.page-1;if(U._content instanceof b){U._content.paneMoved(H,h,function(V){return U.trigger(e,V)})}else{if(T>-1){U.scrollTo(T)}}},next:function(){var U=this,T=U.page+1;if(U._content instanceof b){U._content.paneMoved(u,h,function(V){return U.trigger(e,V)})}else{if(T<U._content.pageCount){U.scrollTo(T)}}},setDataSource:function(U){if(!(this._content instanceof b)){return}var T=!U;this.dataSource=B.create(U);this._content.setDataSource(this.dataSource);if(this.options.autoBind&&!T){this.dataSource.fetch()}},items:function(){return this.element.find("."+J)},_syncWithContent:function(){var T=this._content.pages,U=this._content.buffer,W,V;this.page=this._content.page;W=U?U.at(this.page):h;if(!(W instanceof Array)){W=[W]}V=T?T[1].element:h;this.trigger(v,{page:this.page,element:V,data:W})},_dragStart:function(){if(this._content.forcePageUpdate()){this._syncWithContent()}},_dragEnd:function(Y){var W=this,V=Y.x.velocity,U=this.options.velocityThreshold,T=F,X=r(V)>this.options.bounceVelocityThreshold;if(V>U){T=H}else{if(V<-U){T=u}}this._content.paneMoved(T,X,function(Z){return W.trigger(e,Z)})},_transitionEnd:function(){if(this._content.updatePage()){this._syncWithContent()}}});D.plugin(C)})(window.kendo.jQuery);(function(d,f){var o=window.kendo,n=o.mobile.ui,c=n.Widget,j=o.support,m="change",k="km-switch-on",i="km-switch-off",b="margin-left",s="km-state-active",g="km-state-disabled",r="disabled",e=j.transitions.css+"transform",q=d.proxy;function l(v,t,u){return Math.max(t,Math.min(u,v))}var h='<span class="km-switch km-widget">        <span class="km-switch-wrapper"><span class="km-switch-background"></span></span>         <span class="km-switch-container"><span class="km-switch-handle" >             <span class="km-switch-label-on">{0}</span>             <span class="km-switch-label-off">{1}</span>         </span>     </span>';var p=c.extend({init:function(u,t){var w=this,v;c.fn.init.call(w,u,t);t=w.options;w.wrapper=d(o.format(h,t.onLabel,t.offLabel));w.handle=w.wrapper.find(".km-switch-handle");w.background=w.wrapper.find(".km-switch-background");w.wrapper.insertBefore(w.element).prepend(w.element);w._drag();w.origin=parseInt(w.background.css(b),10);w.constrain=0;w.snapPoint=0;u=w.element[0];u.type="checkbox";w._animateBackground=true;v=w.options.checked;if(v===null){v=u.checked}w.check(v);w.options.enable=w.options.enable&&!w.element.attr(r);w.enable(w.options.enable);w.refresh();o.notify(w,o.mobile.ui)},refresh:function(){var u=this,t=u.handle.outerWidth(true);u.width=u.wrapper.width();u.constrain=u.width-t;u.snapPoint=u.constrain/2;if(typeof u.origin!="number"){u.origin=parseInt(u.background.css(b),10)}u.background.data("origin",u.origin);u.check(u.element[0].checked)},events:[m],options:{name:"Switch",onLabel:"on",offLabel:"off",checked:null,enable:true},check:function(t){var v=this,u=v.element[0];if(t===f){return u.checked}v._position(t?v.constrain:0);u.checked=t;v.wrapper.toggleClass(k,t).toggleClass(i,!t)},value:function(){return this.check.apply(this,arguments)},destroy:function(){c.fn.destroy.call(this);this.userEvents.destroy()},toggle:function(){var t=this;t.check(!t.element[0].checked)},enable:function(t){var u=this.element,v=this.wrapper;if(typeof t=="undefined"){t=true}this.options.enable=t;if(t){u.removeAttr(r)}else{u.attr(r,r)}v.toggleClass(g,!t)},_resize:function(){this.refresh()},_move:function(u){var t=this;u.preventDefault();t._position(l(t.position+u.x.delta,0,t.width-t.handle.outerWidth(true)))},_position:function(t){var u=this;u.position=t;u.handle.css(e,"translatex("+t+"px)");if(u._animateBackground){u.background.css(b,u.origin+t)}},_start:function(){if(!this.options.enable){this.userEvents.cancel()}else{this.userEvents.capture();this.handle.addClass(s)}},_stop:function(){var t=this;t.handle.removeClass(s);t._toggle(t.position>t.snapPoint)},_toggle:function(v){var u=this,x=u.handle,t=u.element[0],w=t.checked,y=o.mobile.application&&o.mobile.application.os.wp?100:200,z;u.wrapper.toggleClass(k,v).toggleClass(i,!v);u.position=z=v*u.constrain;if(u._animateBackground){u.background.kendoStop(true,true).kendoAnimate({effects:"slideMargin",offset:z,reset:true,reverse:!v,axis:"left",duration:y})}x.kendoStop(true,true).kendoAnimate({effects:"slideTo",duration:y,offset:z+"px,0",reset:true,complete:function(){if(w!==v){t.checked=v;u.trigger(m,{checked:v})}}})},_drag:function(){var t=this;t.userEvents=new o.UserEvents(t.wrapper,{tap:function(){if(t.options.enable){t._toggle(!t.element[0].checked)}},start:q(t._start,t),move:q(t._move,t),end:q(t._stop,t)})}});n.plugin(p)})(window.kendo.jQuery);(function(c,b){var g=window.kendo,i=g.mobile.ui,j=i.Widget,f="km-state-active",h="select";function e(k){return c('<span class="km-badge">'+k+"</span>")}var d=j.extend({init:function(l,k){var m=this;j.fn.init.call(m,l,k);m.container().bind("show",c.proxy(this,"refresh"));m.element.addClass("km-tabstrip").find("a").each(m._buildButton).eq(m.options.selectedIndex).addClass(f);m.element.on("down","a","_release")},events:[h],switchTo:function(l){var m=this.element.find("a"),n,p,k=0,o=m.length;if(isNaN(l)){for(;k<o;k++){n=m[k];p=n.href.replace(/(\#.+)(\?.+)$/,"$1");if(p.indexOf(l,p.length-l.length)!==-1){this._setActiveItem(c(n));return true}}}else{this._setActiveItem(m.eq(l));return true}return false},switchByFullUrl:function(k){var l;l=this.element.find("a[href$='"+k+"']");this._setActiveItem(l)},clear:function(){this.currentItem().removeClass(f)},currentItem:function(){return this.element.children("."+f)},badge:function(l,n){var m=this.element,k;if(!isNaN(l)){l=m.children().get(l)}l=m.find(l);k=c(l.find(".km-badge")[0]||e(n).insertAfter(l.children(".km-icon")));if(n||n===0){k.html(n);return this}if(n===false){k.empty().remove();return this}return k.html()},_release:function(m){if(m.which>1){return}var l=this,k=c(m.currentTarget);if(k[0]===l.currentItem()[0]){return}if(l.trigger(h,{item:k})){m.preventDefault()}else{l._setActiveItem(k)}},_setActiveItem:function(k){if(!k[0]){return}this.clear();k.addClass(f)},_buildButton:function(){var m=c(this),n=g.attrValue(m,"icon"),l=g.attrValue(m,"badge"),o=m.find("img"),k=c('<span class="km-icon"/>');m.addClass("km-button").attr(g.attr("role"),"tab").contents().not(o).wrapAll('<span class="km-text"/>');if(o[0]){o.addClass("km-image").prependTo(m)}else{m.prepend(k);if(n){k.addClass("km-"+n);if(l||l===0){e(l).insertAfter(k)}}}},refresh:function(l){var k=l.view.element.attr(g.attr("url"));if(!this.switchTo(l.view.id)&&k){this.switchTo(k)}},options:{name:"TabStrip",selectedIndex:0,enable:true}});i.plugin(d)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b){b()});