<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\default_typedef.xml"/>
  <Form id="DL50000104" classname="DL50000104" inheritanceid="" position="absolute 0 0 745 329" titletext="상품 상세정보" onload="PS02000104_onload" scrollbars="none" ontimer="fn_recDualHr_ontimer" visible="false">
    <Layouts>
      <Layout>
        <Static id="stc_16" class="sta_workData" position2="absolute l:27.65% r:0 t:276 h:26" positiontype="position2" visible="true"/>
        <Static id="stc_15" class="sta_workData" position2="absolute l:27.65% r:0 t:251 h:26" positiontype="position2" visible="true"/>
        <Static id="stc_14" class="sta_workData" position2="absolute l:27.65% r:0 t:226 h:26" positiontype="position2" visible="true"/>
        <Static id="stc_86" class="sta_workData" position2="absolute l:27.65% r:0 t:201 h:26" positiontype="position2" visible="true"/>
        <Static id="stc_09" class="sta_workData" position2="absolute l:27.65% r:0 t:176 h:26" positiontype="position2" visible="true"/>
        <Static id="stc_kydate01" text="삭제된 컴퍼넌트 (NEWTYPE)" class="sta_workLabel1" position2="absolute l:114.9% w:89.93% t:34 h:438" positiontype="position2" validate=""/>
        <Calendar id="cal_kydate" taborder="197" enable="false" position2="absolute l:129.53% w:89 t:188 h:20" positiontype="position2" oneditclick="cal_kydate_oneditclick" visible="false"/>
        <Static id="stc_48" class="sta_workData" position2="absolute l:27.52% r:0 t:51px h:26" positiontype="position2" visible="true"/>
        <Button id="btn_updateCardCms" taborder="112" text="CMS/카드수정" onclick="btn_onclick" class="btn_WF_Common" tooltiptext="CMS/카드 수정" style="padding:0 0 0 0;" position2="absolute l:1008 w:90 t:246 h:20" positiontype="position2" visible="false"/>
        <Button id="btn_cnctRgsn" taborder="111" text="해약" onclick="btn_onclick" class="btn_WF_Common" tooltiptext="해약등록" style="padding:0 0 0 0;" position2="absolute l:71.41% w:40 t:279 h:20" positiontype="position2" visible="true"/>
        <Button id="btn_srchEvent" taborder="110" text="행사조회" class="btn_WF_Common" tooltiptext="행사조회" style="padding:0 0 0 0;" position2="absolute l:880 w:111 t:261 h:17" positiontype="position2" onclick="btn_onclick" visible="false" enable="false"/>
        <Static id="stc_49" class="sta_workData" position2="absolute l:27.52% r:0px t:76px h:26" positiontype="position2" visible="true"/>
        <Static id="stc_47" class="sta_workData" position2="absolute l:27.52% r:0 t:26 h:26" positiontype="position2" visible="true"/>
        <Static id="stc_50" class="sta_workData" position2="absolute l:27.52% r:0px t:101px h:26" positiontype="position2" visible="true"/>
        <Static id="stc_55" class="sta_workData" position2="absolute l:27.52% r:0 t:126 h:26" positiontype="position2" visible="true"/>
        <Static id="stc_54" class="sta_workData" position2="absolute l:27.52% r:0px t:151px h:26" positiontype="position2" visible="true"/>
        <Static id="stc_52" class="stc_product_end" position2="absolute l:27.52% r:0px t:176px h:26" positiontype="position2" visible="true"/>
        <Static id="sta_GrayLine00" class="sta_WF_Line1" position2="absolute l:16.64% r:0px t:25px h:1" positiontype="position2" visible="true"/>
        <Button id="btn_memberAddr" taborder="59" text="주소관리" style="padding:0 0 0 0;" position2="absolute l:51.68% w:7.38% t:204 h:20" positiontype="position2" onclick="btn_onclick" visible="true"/>
        <Edit id="edt_inspl_addr2" taborder="58" position2="absolute l:71.41% w:28.05% t:179 h:20" positiontype="position2" visible="true"/>
        <Static id="stc_87" text="설치장소" class="sta_workLabel1" validate="" position2="absolute l:16.64% w:11.14% t:176 h:26" positiontype="position2" visible="true"/>
        <Edit id="edt_appfm_no" taborder="51" position2="absolute l:55.44% w:12.62% t:29 h:20" positiontype="position2" imemode="alpha" lengthunit="utf8" maxlength="6" inputmode="upper" inputtype="numberandenglish" visible="true"/>
        <Static id="stc_64" text="신청서" class="sta_workLabel1" validate="" position2="absolute l:44.03% w:11.14% t:26 h:26" positiontype="position2" visible="true"/>
        <Static id="stc_prod_start" text="회원번호" class="sta_workLabel1" validate="" position2="absolute l:16.64% w:11.14% t:26px h:26" positiontype="position2" visible="true"/>
        <Static id="stc_43" text="상품내용" class="sta_workLabel1_P" validate="" position2="absolute l:16.64% w:11.14% t:51px h:26" positiontype="position2" visible="true"/>
        <Grid id="grd_list_prod" taborder="48" binddataset="ds_list_prod" useinputpanel="false" autofittype="col" position2="absolute l:0 r:83.49% t:25 h:302" positiontype="position2" oncellclick="grd_list_oncellclick" style="align:left middle;" onmousemove="grd_onmousemove">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="118"/>
              </Columns>
              <Rows>
                <Row size="25" band="head"/>
                <Row size="25"/>
              </Rows>
              <Band id="head">
                <Cell text="가입상품"/>
              </Band>
              <Band id="body">
                <Cell style="align:left middle;color:EXPR(getColumn(currow, &quot;mem_order&quot;) == &quot;1&quot; ? &quot;lightgrey&quot; : &quot;black&quot;);color2:EXPR(getColumn(currow, &quot;mem_order&quot;) == &quot;1&quot; ? &quot;lightgrey&quot; : &quot;black&quot;);" text="bind:prod_nm"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="stc_58" text="상품 상세정보" class="sta_workTitle2" position="absolute 0 5 144 25"/>
        <Static id="stc_74" text="상담사명" class="sta_workLabel1" validate="" position2="absolute l:117.05% w:11.14% t:65 h:26" positiontype="position2" style="color:#555555ff;" visible="false"/>
        <Edit id="edt_cnsl_man" taborder="46" position2="absolute l:128.46% w:16.64% t:68 h:20" positiontype="position2" class="edt_clssEnable" readonly="true" visible="false"/>
        <Static id="stc_76" text="만기일자" class="sta_workLabel1" validate="" position2="absolute l:44.03% w:11.14% t:126px h:26" positiontype="position2" style="color:#555555ff;" visible="true"/>
        <Static id="stc_77" text="특별할인" class="sta_workLabel1" validate="" position2="absolute l:71.41% w:11.14% t:126 h:26" positiontype="position2" visible="true"/>
        <Spin id="spn_new_chan_gunsu" taborder="43" position2="absolute l:82.82% w:16.64% t:129 h:20" positiontype="position2" value="0" max="999" ontextchanged="spn_ontextchanged" onkillfocus="spn_onkillfocus" visible="true"/>
        <Static id="stc_1" class="sta_workLabel1_P" validate="" position2="absolute l:44.03% w:11.14% t:101 h:26" positiontype="position2" style="color:saddlebrown;" text="승인상태" visible="true"/>
        <Combo id="cbo_prod_kind" taborder="41" innerdataset="@ds_cbo_prdtKind" codecolumn="seq" datacolumn="prod_kind_nm" position2="absolute l:82.82% w:16.64% t:78 h:22" positiontype="position2" displaynulltext="선택" visible="true" onitemchanged="cbo_prod_kind_onitemchanged"/>
        <Static id="stc_79" text="상품종류" class="sta_workLabel1" validate="" position2="absolute l:71.41% w:11.14% t:76px h:26" positiontype="position2" visible="true"/>
        <Static id="stc_81" text="모집사원" class="sta_workLabel1_P" validate="" position2="absolute l:71.41% w:11.14% t:51px h:26" positiontype="position2" visible="true"/>
        <Static id="stc_99" text="모델분류" class="sta_workLabel1_P" validate="" position2="absolute l:16.64% w:11.14% t:76px h:26" positiontype="position2" visible="true"/>
        <Static id="stc_94" text="가입구분" class="sta_workLabel1_P" validate="" position2="absolute l:16.64% w:11.14% t:126 h:26" positiontype="position2" visible="true"/>
        <Combo id="cbo_join_cl" taborder="40" innerdataset="@ds_joinTypCd" codecolumn="cd" datacolumn="cd_nm" position2="absolute l:28.05% w:15.7% t:128 h:22" positiontype="position2" displaynulltext="선택" visible="true" ontextchanged="cbo_join_cl_ontextchanged" ontextchange="cbo_join_cl_ontextchange"/>
        <Combo id="cbo_prod_model_kind" taborder="38" innerdataset="@ds_cbo_modlTyp" codecolumn="prod_kind" datacolumn="prod_kind_nm" position2="absolute l:28.05% w:15.7% t:78px h:22" positiontype="position2" displaynulltext="선택" onitemchanged="cbo_onitemchanged" visible="true"/>
        <Static id="stc_62" text="모델명" class="sta_workLabel1" validate="" position2="absolute l:44.03% w:11.14% t:76px h:26" positiontype="position2" visible="true"/>
        <Combo id="cbo_prod_model_cd" taborder="37" innerdataset="@ds_cbo_modlNm" codecolumn="modl_cd" datacolumn="modl_nm" position2="absolute l:55.44% w:15.7% t:78 h:22" positiontype="position2" displaynulltext="선택" visible="true" onitemchanged="cbo_prod_model_cd_onitemchanged"/>
        <Static id="stc_61" text="납입방법" class="sta_workLabel1_P" validate="" position2="absolute l:71.41% w:11.14% t:101px h:26" positiontype="position2" visible="true"/>
        <Combo id="cbo_pay_mthd" taborder="36" innerdataset="@ds_pyinMthdCd" codecolumn="cd" datacolumn="cd_nm" position2="absolute l:82.82% w:16.64% t:103 h:22" positiontype="position2" displaynulltext="선택" onitemchanged="cbo_onitemchanged" visible="true"/>
        <Static id="stc_68" text="가입일자" class="sta_workLabel1_P" validate="" position2="absolute l:16.64% w:11.14% t:101 h:26" positiontype="position2" visible="true"/>
        <Static id="stc_69" text="승인관계" class="sta_workLabel1" validate="" position2="absolute l:117.18% w:11.14% t:93 h:26" positiontype="position2" style="color:#555555ff;" visible="false"/>
        <Edit id="edt_appr_reltn" taborder="32" position2="absolute l:128.59% w:15.7% t:96 h:20" positiontype="position2" class="edt_clssEnable" readonly="true" style="color:red;" visible="false"/>
        <Static id="stc_93" text="B2B회사명" class="sta_workLabel1" validate="" position2="absolute l:16.64% w:11.14% t:151 h:26" positiontype="position2" style="font:Dotum,8,bold;" visible="true"/>
        <Edit id="edt_b2b_comp_nm" taborder="31" position2="absolute l:28.05% w:15.7% t:154 h:20" positiontype="position2" onkeydown="edt_onkeydown" imemode="hangul" style="font:Dotum,9;" visible="true"/>
        <Button id="btn_srchB2bComp" taborder="30" class="btn_workSrcPop" position2="absolute l:41.21% w:2.68% t:154 h:20" positiontype="position2" onclick="btn_onclick" visible="true"/>
        <Static id="stc_91" text="B2B사원코드" class="sta_workLabel1" style="padding:6 0 0 6;font:Dotum,8,bold;" validate="" position2="absolute l:44.03% w:11.14% t:151 h:26" positiontype="position2" visible="true"/>
        <Edit id="edt_b2b_emple_no" taborder="29" position2="absolute l:55.44% w:6.71% t:154 h:20" positiontype="position2" imemode="alpha" style="font:Dotum,9;" visible="true"/>
        <Static id="stc_63" text="해약금" class="sta_workLabel1" validate="" position2="absolute l:141.48% w:11.14% t:160 h:26" positiontype="position2" style="color:saddlebrown;" visible="false"/>
        <Static id="stc_82" text="담당사원" class="sta_workLabel1_P" validate="" position2="absolute l:71.41% w:11.14% t:26px h:26" positiontype="position2" visible="true"/>
        <Static id="stc_42" text="삼성매장정보" class="sta_workLabel1" validate="" position2="absolute l:71.41% w:11.14% t:151 h:26" positiontype="position2" style="color:#555555ff;padding:6 1 0 5;font:Dotum,8,bold;" visible="true"/>
        <Button id="btn_srchPhoneTyp" taborder="16" text="가져오기" style="padding:0 0 0 0;" position2="absolute l:44.03% w:7.38% t:204 h:20" positiontype="position2" onclick="btn_onclick" visible="true"/>
        <Button id="btn_save_prod" taborder="8" onclick="btn_dsps_onclick" class="btn_WF_Save" tooltiptext="저장" style="padding:0 0 0 0;" position2="absolute r:-81 w:72 t:3 h:20" positiontype="position2" visible="false"/>
        <Button id="btn_cancel_prod" taborder="7" text="취소" onclick="btn_dsps_onclick" class="btn_Cancel" tooltiptext="취소" style="border:0 none #000000ff ;padding:0 0 0 0;" position2="absolute r:-156 w:72 t:3 h:20" positiontype="position2" visible="false"/>
        <Button id="btn_Search00" taborder="1" onclick="btn_Search_onclick" class="btn_WF_Del" position="absolute -591 176 -519 196" tooltiptext="삭제" style="shadow:drop 0,0 0 #00000033;"/>
        <Button id="btn_samsung" taborder="115" text="삼성인증" onclick="btn_onclick" tooltiptext="삼성인증" style="padding:0 0 0 0;" position2="absolute r:-381 w:50 t:274 h:20" positiontype="position2" visible="false"/>
        <Button id="btn_del_prod" taborder="117" onclick="btn_dsps_onclick" class="btn_WF_Del" tooltiptext="삭제" style="shadow:drop 0,0 0 #00000033;" position2="absolute r:4 w:72 t:3 h:20" positiontype="position2" visible="false"/>
        <Edit id="edt_inspl_phone" taborder="119" position2="absolute l:28.05% w:15.7% t:204 h:20" positiontype="position2" lengthunit="utf8" inputtype="number,symbol" maxlength="13" onkillfocus="phone_onkillfocus" ontextchanged="phone_ontextchanged" visible="true"/>
        <Static id="stc_126" text="연락처" class="sta_workLabel1" validate="" position2="absolute l:16.64% w:11.14% t:201 h:26" positiontype="position2" visible="true"/>
        <Static id="stc_00" text="상조납입상태" class="sta_workLabel1" position2="absolute l:117.05% w:11.14% t:126 h:26" positiontype="position2" validate="" style="color:saddlebrown;padding:6 0 0 7;font:Dotum,8,bold;" visible="false"/>
        <Edit id="edt_pay_state" taborder="129" position2="absolute l:128.46% w:10.34% t:129 h:20" positiontype="position2" enable="true" readonly="true" class="edt_clssEnable" style="color:red;font:Dotum,9,bold;" visible="false"/>
        <Static id="stc_02" text="행사상태" class="sta_workLabel1" position2="absolute l:161.21% w:9.13% t:126 h:26" positiontype="position2" validate="" style="color:saddlebrown;align:middle;font:Dotum,8,bold;" visible="false"/>
        <Edit id="edt_event_nm" taborder="130" position2="absolute l:170.47% w:12.89% t:129 h:20" positiontype="position2" enable="true" class="edt_clssEnable" readonly="true" style="color:red;font:Dotum,9,bold;" visible="false"/>
        <Static id="stc_03" text="결합납입상태" class="sta_workLabel1" position2="absolute l:139.06% w:11.14% t:126 h:26" positiontype="position2" validate="" style="color:darkorchid;padding:6 0 0 7;font:Dotum,8,bold;" visible="false"/>
        <Edit id="edt_union_pay_state" taborder="131" position2="absolute l:150.47% w:10.34% t:129 h:20" positiontype="position2" enable="true" class="edt_clssEnable" readonly="true" style="color:red;font:Dotum,9,bold;" visible="false"/>
        <Grid id="grd_list_prodSrvc" taborder="136" useinputpanel="false" autofittype="col" position2="absolute l:880 r:-50.34% t:307 h:126" positiontype="position2" binddataset="ds_list_prodSrvc" cellsizingtype="col" oncellclick="grd_list_oncellclick" onmousemove="grd_onmousemove" visible="false">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="25"/>
                <Column size="40"/>
                <Column size="40"/>
                <Column size="131"/>
              </Columns>
              <Rows>
                <Row size="25" band="head"/>
                <Row size="25"/>
              </Rows>
              <Band id="head">
                <Cell displaytype="normal" edittype="none" style="checkboxsize: ;"/>
                <Cell col="1" text="구분"/>
                <Cell col="2" text="회차"/>
                <Cell col="3" text="부가서비스"/>
              </Band>
              <Band id="body">
                <Cell displaytype="checkbox" edittype="expr:vital_service==&quot;Y&quot; ||  isu_yn == &quot;Y&quot; ? &quot;none&quot; : &quot;checkbox&quot;" style="background:expr:vital_service==&quot;Y&quot; ||  isu_yn == &quot;Y&quot; ? &quot;#dededeff&quot; : &quot;&quot;;background2:expr:vital_service==&quot;Y&quot; ||  isu_yn == &quot;Y&quot; ? &quot;#dededeff&quot; : &quot;&quot;;selectbackground:expr:vital_service==&quot;Y&quot; ||  isu_yn == &quot;Y&quot; ? &quot;#dededeff&quot; : &quot;&quot;;" text="bind:_chk"/>
                <Cell col="1" text="bind:svc_event_bf_cl"/>
                <Cell col="2" text="bind:app_no"/>
                <Cell col="3" style="align:left middle;" text="bind:opt_svc_nm_ex"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="stc_prod_srvc_start" text="리조트구분" class="sta_workLabel1" style="padding:6 0 0 12;" validate="" position2="absolute l:150.6% w:10.74% t:307 h:26" positiontype="position2" visible="false"/>
        <Static id="stc_66" class="sta_workData" position2="absolute l:161.21% r:-880 t:307 h:26" positiontype="position2" visible="false"/>
        <Static id="stc_67" text="리조트번호" class="sta_workLabel1" validate="" position2="absolute l:173.96% w:10.74% t:307 h:26" positiontype="position2" style="padding:6 1 0 12;" visible="false"/>
        <Combo id="cbo_pay_gubun" taborder="137" codecolumn="codecolumn" datacolumn="datacolumn" position2="absolute l:161.61% w:12.08% t:310 h:20" positiontype="position2" displaynulltext="비회원" onitemchanged="cbo_onitemchanged" visible="false">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn">00</Col>
                <Col id="datacolumn">비회원</Col>
              </Row>
              <Row>
                <Col id="codecolumn">01</Col>
                <Col id="datacolumn">회원(기명)</Col>
              </Row>
              <Row>
                <Col id="codecolumn">02</Col>
                <Col id="datacolumn">회원(무기명)</Col>
              </Row>
            </Rows>
          </Dataset>
        </Combo>
        <Edit id="edt_resort_mem_no" taborder="138" position2="absolute l:184.97% w:10.74% t:310 h:20" positiontype="position2" enable="false" maxlength="20" lengthunit="ascii" visible="false"/>
        <Static id="stc_04" class="sta_workData" position2="absolute l:161.21% r:-880 t:332 h:26" positiontype="position2" visible="false"/>
        <Edit id="edt_kb_no" taborder="139" position2="absolute l:55.44% w:15.57% t:228 h:20" positiontype="position2" style="font:Dotum,9;" lengthunit="ascii" maxlength="50" visible="true" inputtype="digit"/>
        <Static id="stc_05" class="sta_workData" position2="absolute l:161.21% r:-880 t:357 h:26" positiontype="position2" visible="false"/>
        <Static id="stc_11" class="sta_workData" position2="absolute l:161.21% r:-880 t:382 h:26" positiontype="position2" visible="false"/>
        <Static id="stc_10" class="sta_workData" position2="absolute l:161.21% r:-880 t:407 h:26" positiontype="position2" visible="false"/>
        <Static id="stc_80" text="포인트산출" class="sta_workLabel1" style="color:#555555ff;padding:6 0 0 12;" validate="" position2="absolute l:195.97% w:10.74% t:382 h:26" positiontype="position2" visible="false"/>
        <Static id="stc_17" class="sta_workLabel1" style="padding:6 0 0 15;" validate="" position2="absolute l:150.6% w:10.74% t:407 h:26" positiontype="position2" text="OCB발급일" visible="false"/>
        <Static id="stc_19" text="구독여부" class="sta_workLabel1" style="padding:6 0 0 15;" validate="" position2="absolute l:173.96% w:10.74% t:357 h:26" positiontype="position2" visible="false"/>
        <Static id="stc_20" text="등록사원" class="sta_workLabel1" style="color:#555555ff;padding:6 0 0 15;" validate="" position2="absolute l:16.64% w:11.14% t:276 h:26" positiontype="position2" visible="true"/>
        <Static id="stc_21" text="ID NO." class="sta_workLabel1" validate="" position2="absolute l:16.64% w:11.14% t:226 h:26" positiontype="position2" style="color:#555555ff;font:Dotum,8;" visible="true"/>
        <Edit id="edt_id_no" taborder="151" position2="absolute l:28.05% w:15.7% t:229 h:20" positiontype="position2" style="font:Dotum,9;" maxlength="20" lengthunit="ascii" visible="true"/>
        <Static id="stc_101" text="KB NO." class="sta_workLabel1" validate="" position2="absolute l:44.03% w:11.14% t:226 h:26" positiontype="position2" style="color:#555555ff;font:Dotum,8;" visible="true"/>
        <Static id="stc_22" text="할인우대권" class="sta_workLabel1" validate="" position2="absolute l:195.97% w:10.74% t:332 h:26" positiontype="position2" style="padding:6 1 0 12;" visible="false"/>
        <Edit id="edt_rand_num" taborder="152" position2="absolute l:206.98% w:10.74% t:335 h:20" positiontype="position2" lengthunit="ascii" ontextchanged="edt_ontextchanged" maxlength="10" imemode="alpha" inputmode="upper" inputtype="numberandenglish" visible="false"/>
        <Static id="stc_24" text="주문번호" class="sta_workLabel1" validate="" position2="absolute l:71.41% w:11.14% t:226 h:26" positiontype="position2" visible="true"/>
        <Static id="stc_25" text="OCB상태" class="sta_workLabel1" validate="" position2="absolute l:150.6% w:10.74% t:382 h:26" positiontype="position2" style="color:#555555ff;" visible="false"/>
        <Edit id="edt_reg_man" taborder="161" position2="absolute l:28.05% w:15.7% t:279 h:20" positiontype="position2" readonly="true" class="edt_clssEnable" visible="true"/>
        <Edit id="edt_order_num" taborder="162" position2="absolute l:82.82% w:16.64% t:229 h:20" positiontype="position2" lengthunit="ascii" maxlength="30" visible="true"/>
        <Combo id="cbo_ja_subscrpt_yn" taborder="167" codecolumn="codecolumn" datacolumn="datacolumn" position2="absolute l:184.97% w:10.6% t:360 h:20" positiontype="position2" index="-1" displaynulltext="아니오" visible="false">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn">Y</Col>
                <Col id="datacolumn">예</Col>
              </Row>
              <Row>
                <Col id="codecolumn">N</Col>
                <Col id="datacolumn">아니오</Col>
              </Row>
            </Rows>
          </Dataset>
        </Combo>
        <Button id="btn_add_prod" taborder="169" text="상품추가" onclick="btn_dsps_onclick" class="btn_WF_Common" position2="absolute r:154 w:72 t:3 h:20" positiontype="position2" tooltiptext="상품추가" style="border:0 none #000000ff ;padding:0 0 0 0;" visible="false"/>
        <MaskEdit id="mae_inspl_zip_1" taborder="170" enable="true" position2="absolute l:100.67% w:7.11% t:206 h:20" positiontype="position2" type="string" style="align:center middle; :disabled {align:center middle;}" readonly="true" class="mae_clssEnable" visible="false"/>
        <Button id="btn_insplAddrPop" taborder="56" class="btn_workSrcPop" position2="absolute l:35.44% w:23 t:179 h:20" positiontype="position2" onclick="btn_onclick" visible="true"/>
        <Edit id="edt_prod_kind" taborder="173" position2="absolute l:100.54% w:13.83% t:127 h:20" positiontype="position2" visible="false" readonly="true" class="edt_clssEnable"/>
        <Static id="stc_12" text="우대번호" class="sta_workLabel1" position2="absolute l:71.41% w:11.14% t:251 h:26" positiontype="position2" style="color:#555555ff;padding:6 0 0 15;" validate="" visible="true"/>
        <Static id="stc_13" text="OCB여부" class="sta_workLabel1" position2="absolute l:71.41% w:11.14% t:201 h:26" positiontype="position2" style="color:#555555ff;" validate="" visible="true"/>
        <Combo id="cbo_ocb_reg_yn" taborder="175" position2="absolute l:82.82% w:16.64% t:204 h:20" positiontype="position2" codecolumn="codecolumn" datacolumn="datacolumn" displaynulltext="아니오" visible="true">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn">Y</Col>
                <Col id="datacolumn">예</Col>
              </Row>
              <Row>
                <Col id="codecolumn">N</Col>
                <Col id="datacolumn">아니오</Col>
              </Row>
            </Rows>
          </Dataset>
        </Combo>
        <Edit id="edt_ocb_gubn" taborder="176" position2="absolute l:161.61% w:12.08% t:385 h:20" positiontype="position2" class="edt_clssEnable" readonly="true" visible="false"/>
        <Static id="stc_06" text="리조트회원명" class="sta_workLabel1" position2="absolute l:195.97% w:10.74% t:307 h:26" positiontype="position2" validate="" style="padding:6 1 0 7;font:Dotum,8;" visible="false"/>
        <Edit id="edt_resort_mem_nm" taborder="177" position2="absolute l:206.98% w:10.74% t:310 h:20" positiontype="position2" enable="false" lengthunit="ascii" maxlength="100" visible="false"/>
        <Static id="sta_GrayLine03" class="sta_WF_Line1" position2="absolute l:1122 r:-879 t:307 h:1" positiontype="position2" visible="false"/>
        <Button id="btn_update_prod" taborder="178" onclick="btn_dsps_onclick" class="btn_WF_Modif" position2="absolute r:79 w:72 t:3 h:20" positiontype="position2" tooltiptext="수정" style="border:0 none #000000ff ;padding:0 0 0 0;" visible="false"/>
        <Static id="stc_08" text="등록일" class="sta_workLabel1" validate="" position2="absolute l:44.03% w:11.14% t:276 h:26" positiontype="position2" style="color:#555555ff;" visible="true"/>
        <Combo id="cbo_ocb_point_yn" taborder="181" displaynulltext="아니오" codecolumn="codecolumn" datacolumn="datacolumn" position2="absolute l:206.98% w:10.6% t:385 h:20" positiontype="position2" enable="false" visible="false">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn">Y</Col>
                <Col id="datacolumn">예</Col>
              </Row>
              <Row>
                <Col id="codecolumn">N</Col>
                <Col id="datacolumn">아니오</Col>
              </Row>
            </Rows>
          </Dataset>
        </Combo>
        <MaskEdit id="mae_edt_reg_dm" taborder="182" readonly="true" type="string" class="mae_clssEnable" position2="absolute l:55.44% w:15.57% t:279 h:20" positiontype="position2" style="align:center middle; :disabled {align:center middle;}" visible="true"/>
        <PopupDiv id="pdv_inspl_phone" visible="false" position="absolute 301 419 376 512" dragscrolltype="both" scrollbars="none" taborder="0">
          <Layouts>
            <Layout>
              <ListBox id="lb_consTyp" taborder="0" innerdataset="ds_pdvConsTyp" codecolumn="full_cons_typ_cd" datacolumn="full_cons_typ_nm" onitemchanged="lb_onitemchanged" position="absolute -183 467 172 614" anchor="default"/>
              <ListBox id="lb_inspl_phone" taborder="1" position="absolute 2 9 71 53" anchor="default" codecolumn="codecolumn" datacolumn="datacolumn" scrollbars="none" onitemchanged="inspl_onitemchanged">
                <Dataset id="innerdataset">
                  <ColumnInfo>
                    <Column id="codecolumn" size="256"/>
                    <Column id="datacolumn" size="256"/>
                  </ColumnInfo>
                  <Rows>
                    <Row>
                      <Col id="codecolumn">10</Col>
                      <Col id="datacolumn">휴대전화</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">20</Col>
                      <Col id="datacolumn">기타전화</Col>
                    </Row>
                  </Rows>
                </Dataset>
              </ListBox>
            </Layout>
          </Layouts>
        </PopupDiv>
        <Button id="btn_bugaInfo" taborder="183" text="부가서비스 등록" onclick="btn_onclick" class="btn_WF_Common" position2="absolute l:954 w:111 t:3 h:17" positiontype="position2" tooltiptext="부가서비스 등록" style="padding:0 0 0 0;" visible="false" enable="true"/>
        <Button id="btn_smartLifeReg" taborder="184" text="삼성카드 등록" onclick="btn_onclick" class="btn_WF_Common" position2="absolute l:880 w:111 t:242 h:17" positiontype="position2" tooltiptext="삼성카드 등록" style="padding:0 0 0 0;" visible="false" enable="false"/>
        <Button id="btn_recDual" taborder="185" text="부분시작" onclick="btn_onclick" class="btn_WF_Common" visible="true" position2="absolute r:325 w:60 t:3 h:20" positiontype="position2" tooltiptext="부분녹취시작" style="padding:0 0 0 0;"/>
        <Edit id="edt_rec_dual_hr" taborder="187" tabstop="false" readonly="true" style="align:center middle;font:Dotum,10;" position2="absolute r:387 w:60 t:3 h:20" positiontype="position2" class="edt_clssEnable"/>
        <Combo id="cbo_hpcl_stat_cd" taborder="188" displaynulltext="선택" innerdataset="ds_hpcl_cd" codecolumn="cd" datacolumn="cd_nm" enable="true" position2="absolute l:55.44% w:15.7% t:103 h:22" positiontype="position2" visible="true" style="color:blue;font:arial,9,bold;"/>
        <Button id="btn_recDualEnd" taborder="189" text="부분종료" onclick="btn_onclick" class="btn_WF_Common" position2="absolute r:271 w:60 t:3 h:20" positiontype="position2" tooltiptext="부분녹취종료" style="padding:0 0 0 0;" visible="false" enable="true"/>
        <Edit id="edt_prod_amt" taborder="192" imemode="alpha" onkeydown="edt_onkeydown" position2="absolute l:134.23% w:9.8% t:224 h:20" positiontype="position2" class="edt_clssEnable1" readonly="true" style="align:right middle;" visible="false"/>
        <Button id="btn_appfmNo" taborder="50" class="btn_workSrcPop" position2="absolute l:68.32% w:20 t:29 h:20" positiontype="position2" onclick="btn_onclick" visible="false"/>
        <Div id="div_prod_srvc_disable" taborder="194" position2="absolute l:101.21% r:-48 t:280 h:26" positiontype="position2" style="background:#ffff99ff;color:#ffffffff;">
          <Layouts>
            <Layout/>
          </Layouts>
        </Div>
        <Edit id="edt_prod_cd" taborder="53" position2="absolute l:28.05% w:3.87% t:54 h:20" positiontype="position2" onkeydown="edt_onkeydown" imemode="alpha" style="color:red;font:Dotum,9;" class="edt_clssEnable1" inputmode="upper" maxlength="2" inputtype="numberandenglish" visible="true" readonly="true"/>
        <Edit id="edt_inspl_addr" taborder="57" position2="absolute l:38.39% w:32.62% t:179 h:20" positiontype="position2" enable="true" readonly="true" tooltiptype="hover,mouseleave" class="edt_clssEnable" visible="true"/>
        <MaskEdit id="mae_ocb_crt_dt" taborder="196" readonly="true" type="string" class="mae_clssEnable" position2="absolute l:161.61% w:12.08% t:410 h:20" positiontype="position2" style="align:center middle; :disabled {align:center middle;}" mask="####-##-##" visible="false"/>
        <Edit id="edt_resort_no" taborder="174" position2="absolute l:82.82% w:16.64% t:254 h:20" positiontype="position2" readonly="true" class="edt_clssEnable" lengthunit="ascii" maxlength="10" visible="true"/>
        <Edit id="edt_resn_amt" taborder="35" position2="absolute l:152.89% w:15.7% t:163 h:20" positiontype="position2" class="edt_clssEnable1" readonly="true" style="align:right middle;" visible="false"/>
        <Calendar id="cal_join_dt" taborder="165" dateformat="yyyy-MM-dd" position2="absolute l:28.05% w:117 t:104 h:20" positiontype="position2" enable="false" readonly="false" autoselect="false" oneditclick="cal_join_dt_oneditclick" visible="true"/>
        <Calendar id="cal_man_day" taborder="180" dateformat="yyyy-MM-dd" position2="absolute l:55.44% w:12.62% t:129 h:20" positiontype="position2" enable="false" visible="true" value="null"/>
        <Static id="stc_kydate" text="설치완료일자" class="sta_workLabel1" position2="absolute l:117.18% w:11.68% t:187 h:22" positiontype="position2" validate="" style="align:left;" visible="false"/>
        <Edit id="edt_accnt_no" taborder="49" position2="absolute l:28.05% r:57.45% t:29 h:20" positiontype="position2" enable="true" readonly="true" visible="true"/>
        <Edit id="edt_prod_nm" taborder="198" class="edt_clssEnable1" position2="absolute l:32.21% w:25.91% t:54 h:20" positiontype="position2" style="color:red;font:Dotum,9;" visible="true" readonly="true"/>
        <Static id="stc_kydate00" text="회원상태" class="sta_workLabel1" position2="absolute l:16.64% w:11.14% t:251 h:26" positiontype="position2" validate="" visible="true"/>
        <Button id="btn_evnt_ip" taborder="201" text="행사" onclick="btn_onclick" class="btn_WF_Common" visible="true" position2="absolute l:77.18% w:40 t:279 h:20" positiontype="position2" tooltiptext="행사등록" style="padding:0 0 0 0;" transparenthittest="false"/>
        <Edit id="edt_emple_nm" taborder="23" position2="absolute l:82.82% w:16.64% t:29 h:20" positiontype="position2" onkeydown="edt_onkeydown" imemode="hangul" onmouseenter="tooltip_emp" onmousemove="tooltip_emp" tooltiptype="hover" readonly="true" style="border:0 none #4c8de4ff ;" visible="true" enable="true" class="edt_clssEnable1" oneditdblclick="edt_emple_nm_oneditdblclick"/>
        <Button id="btn_srchEmple" taborder="22" class="btn_workSrcPop" position2="absolute l:96.91% w:20 t:29 h:20" positiontype="position2" onclick="btn_onclick" visible="false"/>
        <Edit id="edt_bef_emple_cell" taborder="195" imemode="hangul" position2="absolute l:148.32% w:7.38% t:68 h:20" positiontype="position2" enable="true" class="edt_clssEnable" readonly="true" onmouseenter="tooltip_bef" onmousemove="tooltip_bef" style="border:1 solid #a9a9a90c transparent;" visible="false"/>
        <Button id="btn_srchshow" taborder="202" text="공연혜택" onclick="btn_onclick" class="btn_WF_Common" enable="true" visible="false" position2="absolute l:880 w:111 t:281 h:17" positiontype="position2" tooltiptext="행사조회" style="padding:0 0 0 0;"/>
        <Button id="btn_shinhan" taborder="203" text="신한인증" onclick="btn_onclick" visible="false" position2="absolute r:-321 w:58 t:274 h:20" positiontype="position2" tooltiptext="신한인증" style="padding:0 0 0 0;"/>
        <Button id="btn_concCmpl" taborder="204" text="계약완료" onclick="btn_onclick" class="btn_WF_Common" enable="false" position2="absolute l:91.41% w:8.05% t:280 h:20" positiontype="position2" tooltiptext="계약완료" style="padding:0 0 0 0;"/>
        <Static id="stc_07" text="단체건수" class="sta_workLabel1" position2="absolute l:117.05% w:9.13% t:155 h:26" positiontype="position2" style="color:saddlebrown;align:middle;font:Dotum,8,bold;" validate="" visible="false"/>
        <Edit id="edt_insert_cnt11" taborder="205" imemode="alpha" position2="absolute l:126.44% w:7.11% t:158 h:20" positiontype="position2" style="font:Dotum,9;" enable="false" inputtype="number" maxlength="3" visible="false"/>
        <Edit id="mae_inspl_zip" taborder="206" readonly="true" style="background:URL('theme://images/bg_compD.png') stretch 5,5;color:#999999ff;align:center middle;" position2="absolute l:28.05% w:7.11% t:179 h:20" positiontype="position2" visible="true"/>
        <Button id="btn_amtUseshow" taborder="207" text="쇼핑몰연동" onclick="btn_onclick" position2="absolute r:191 w:72 t:3 h:20" positiontype="position2" visible="false"/>
        <Button id="btn_niceSecondSend" taborder="208" text="계약문자발송" position2="absolute r:249 w:78 t:3 h:20" positiontype="position2" visible="false" onclick="btn_niceSecondSend_onclick"/>
        <Edit id="edt_prod_model_kind" taborder="210" readonly="true" class="edt_clssEnable1" visible="false" position2="absolute l:100.54% w:13.83% t:79 h:20" positiontype="position2" style="color:red;font:Dotum,9;"/>
        <Edit id="edt_prod_model_cd" taborder="211" readonly="true" class="edt_clssEnable" visible="false" position2="absolute l:100.54% w:13.83% t:103 h:20" positiontype="position2"/>
        <Edit id="edt_b2b_emple_ci" taborder="212" imemode="alpha" position2="absolute l:62.42% w:8.59% t:154 h:20" positiontype="position2" style="font:Dotum,9;" enable="false" visible="true"/>
        <Button id="btn_main_contract" taborder="215" text="주계약" position2="absolute l:45.1% w:9.4% t:29 h:20" positiontype="position2" onclick="btn_main_contract_onclick" enable="false" visible="true"/>
        <Button id="btn_srchProd" taborder="120" class="btn_workSrcPop" position2="absolute l:55.57% w:20 t:54 h:20" positiontype="position2" visible="false" onclick="btn_onclick"/>
        <Edit id="edt_main_contract" taborder="218" position2="absolute l:55.44% w:15.7% t:29 h:20" positiontype="position2" readonly="true" enable="true" class="edt_clssEnable" visible="true"/>
        <Edit id="edt_sm_shop_nm" taborder="19" position2="absolute l:82.82% w:16.64% t:154 h:20" positiontype="position2" visible="true" onkeydown="edt_onkeydown" imemode="hangul" style="font:Dotum,9;" readonly="false" class="edt_clssEnable1"/>
        <Button id="btn_srchSmShop" taborder="18" class="btn_workSrcPop" position2="absolute l:96.91% w:20 t:154 h:20" positiontype="position2" visible="true" onclick="btn_onclick"/>
        <Static id="stc_18" class="sta_workLabel1" position2="absolute l:16.64% w:11.14% t:301 h:26" positiontype="position2" style="color:#555555ff;padding:6 0 0 15;" validate="" text="알림"/>
        <Static id="stc_23" class="sta_workData" position2="absolute l:27.65% r:0 t:301 h:26" positiontype="position2"/>
        <Combo id="Combo_kstbit" taborder="200" index="-1" innerdataset="@ds_kstbit" codecolumn="kscode" datacolumn="ksname" position2="absolute l:28.05% w:15.7% t:254 h:20" positiontype="position2" enable="true" imemode="alpha,full" readonly="true" visible="true" style="color:red;font:Dotum,9,bold;"/>
        <Button id="btn_userOption" taborder="219" text="임의필드" onclick="btn_onclick" position2="absolute l:82.82% w:16.64% t:336 h:20" positiontype="position2" style="padding:0 0 0 0;" enable="false" visible="false"/>
        <Edit id="edt_info" taborder="220" lengthunit="ascii" maxlength="20" position2="absolute l:28.05% w:26.58% t:304 h:20" positiontype="position2" style="font:Dotum,9; :disabled {color:orangered;font:arial,10,bold;}" enable="false"/>
        <Div id="div_prod_disable" taborder="193" style="background:#ffff99ff;color:#ffffffff;" transparenthittest="false" position2="absolute l:753 r:-47 t:107 h:26" positiontype="position2">
          <Layouts>
            <Layout width="39" height="26"/>
          </Layouts>
        </Div>
        <Static id="stc_kydate02" text="가입상태" class="sta_workLabel1" position2="absolute l:44.03% w:11.14% t:251 h:26" positiontype="position2" validate=""/>
        <Edit id="edt_acc_stat" taborder="223" readonly="true" lengthunit="ascii" maxlength="10" class="edt_clssEnable" position2="absolute l:55.44% w:15.57% t:254 h:20" positiontype="position2" style="color:red;font:Dotum,9,bold;"/>
        <Button id="btn_event_stat" taborder="222" class="btn_workSrcPop" position2="absolute l:41.07% w:22 t:254 h:20" positiontype="position2" style="padding:0 0 0 0;" onclick="btn_event_stat_onclick" visible="false"/>
        <Edit id="edt_mangiPeriod" taborder="224" readonly="true" class="edt_clssEnable" visible="false" position2="absolute l:100.54% w:13.83% t:151 h:20" positiontype="position2"/>
        <Button id="btn_certf" taborder="190" text="증서" onclick="btn_onclick" position2="absolute l:58.26% w:12.89% t:54 h:20" positiontype="position2" style="padding:0 0 0 0;" visible="true" enable="true"/>
        <Button id="btn_mangiExt" taborder="213" visible="true" position2="absolute l:68.46% w:22 t:129 h:20" positiontype="position2" style="padding:0 0 0 0;" onclick="btn_mangiExt_onclick" class="btn_workSrcPop"/>
        <Edit id="edt_bef_emple_nm" taborder="21" position2="absolute l:82.82% w:16.64% t:54 h:20" positiontype="position2" onkeydown="edt_onkeydown" imemode="hangul" onmouseenter="tooltip_bef" onmousemove="tooltip_bef" readonly="true" style="border:0 none #4c8de4ff ;" visible="true" class="edt_clssEnable1" oneditdblclick="edt_bef_emple_nm_oneditdblclick"/>
        <Button id="btn_befEmple" taborder="20" class="btn_workSrcPop" position2="absolute l:96.91% w:20 t:54 h:20" positiontype="position2" onclick="btn_onclick" visible="false"/>
        <Button id="btn_adminUserOption" taborder="225" text="관리자임의필드" onclick="btn_onclick" position2="absolute l:86.04% w:13.42% t:304 h:20" positiontype="position2" style="padding:0 0 0 0;" visible="false"/>
        <Static id="stc_26" text="단체건수" class="sta_workLabel1" position2="absolute l:55.03% w:11.14% t:301 h:26" positiontype="position2" style="color:#555555ff;padding:6 0 0 15;" validate=""/>
        <Edit id="edt_insert_cnt" taborder="226" imemode="alpha" inputtype="number" maxlength="3" enable="false" position2="absolute l:66.44% w:15.97% t:304 h:20" positiontype="position2" style="font:Dotum,9;"/>
        <Button id="btn_direct" taborder="227" text="다이렉트" onclick="btn_onclick" class="btn_WF_Common" position2="absolute r:453 w:60 t:3 h:20" positiontype="position2" tooltiptext="부분녹취시작" style="padding:0 0 0 0;" visible="false"/>
        <Button id="btn_accntRecList" taborder="228" text="고객녹취" onclick="btn_onclick" class="btn_WF_Common" visible="true" position2="absolute r:516 w:60 t:3 h:20" positiontype="position2" tooltiptext="고객녹취" style="padding:0 0 0 0;"/>
        <Button id="btn_elecSign" taborder="229" text="전자서명" onclick="btn_onclick" class="btn_WF_Common" style="padding:0 0 0 0;" position2="absolute l:82.82% w:8.19% t:368 h:20" positiontype="position2" visible="false"/>
        <Button id="btn_double" taborder="230" text="두구좌" onclick="btn_onclick" class="btn_WF_Common" tooltiptext="부분녹취시작" style="padding:0 0 0 0;" position2="absolute l:82.82% w:8.32% t:304 h:20" positiontype="position2"/>
        <Button id="btn_uplus" taborder="231" text="유플러스" onclick="btn_onclick" class="btn_WF_Common" visible="false" position2="absolute r:453 w:60 t:3 h:20" positiontype="position2" style="padding:0 0 0 0;"/>
        <Button id="btn_elecSignNew" taborder="232" text="전자서명" onclick="btn_onclick" class="btn_WF_Common" position2="absolute l:91.28% w:8.19% t:304 h:20" positiontype="position2" style="padding:0 0 0 0;"/>
      </Layout>
    </Layouts>
    <Bind>
      <BindItem id="item3" compid="cal_join_dt" propid="value" datasetid="ds_prod" columnid="join_dt"/>
      <BindItem id="item0" compid="edt_accnt_no" propid="value" datasetid="ds_prod" columnid="accnt_no"/>
      <BindItem id="item1" compid="edt_appfm_no" propid="value" datasetid="ds_prod" columnid="appfm_no"/>
      <BindItem id="item2" compid="edt_emple_nm" propid="value" datasetid="ds_prod" columnid="emple_nm"/>
      <BindItem id="item4" compid="edt_prod_cd" propid="value" datasetid="ds_prod" columnid="prod_cd"/>
      <BindItem id="item6" compid="edt_bef_emple_nm" propid="value" datasetid="ds_prod" columnid="bef_emple_nm"/>
      <BindItem id="item8" compid="cbo_pay_mthd" propid="value" datasetid="ds_prod" columnid="pay_mthd"/>
      <BindItem id="item9" compid="cbo_join_cl" propid="value" datasetid="ds_prod" columnid="join_cl"/>
      <BindItem id="item10" compid="spn_new_chan_gunsu" propid="value" datasetid="ds_prod" columnid="new_chan_gunsu"/>
      <BindItem id="item11" compid="edt_b2b_comp_nm" propid="value" datasetid="ds_prod" columnid="b2b_comp_nm"/>
      <BindItem id="item12" compid="edt_b2b_emple_no" propid="value" datasetid="ds_prod" columnid="b2b_emple_no"/>
      <BindItem id="item13" compid="edt_sm_shop_nm" propid="value" datasetid="ds_prod" columnid="sm_shop_nm"/>
      <BindItem id="item15" compid="edt_inspl_addr" propid="value" datasetid="ds_prod" columnid="inspl_addr"/>
      <BindItem id="item16" compid="edt_inspl_addr2" propid="value" datasetid="ds_prod" columnid="inspl_addr2"/>
      <BindItem id="item17" compid="edt_inspl_phone" propid="value" datasetid="ds_prod" columnid="inspl_phone"/>
      <BindItem id="item18" compid="cbo_pay_gubun" propid="value" datasetid="ds_prod" columnid="pay_gubun"/>
      <BindItem id="item19" compid="edt_resort_mem_no" propid="value" datasetid="ds_prod" columnid="resort_mem_no"/>
      <BindItem id="item20" compid="edt_rand_num" propid="value" datasetid="ds_prod" columnid="rand_num"/>
      <BindItem id="item21" compid="edt_order_num" propid="value" datasetid="ds_prod" columnid="order_num"/>
      <BindItem id="item22" compid="cbo_ja_subscrpt_yn" propid="value" datasetid="ds_prod" columnid="ja_subscrpt_yn"/>
      <BindItem id="item23" compid="edt_id_no" propid="value" datasetid="ds_prod" columnid="id_no"/>
      <BindItem id="item24" compid="edt_kb_no" propid="value" datasetid="ds_prod" columnid="kb_no"/>
      <BindItem id="item14" compid="mae_inspl_zip_1" propid="value" datasetid="ds_prod" columnid="inspl_zip"/>
      <BindItem id="item25" compid="edt_inspl_addr" propid="tooltiptext" datasetid="ds_prod" columnid="inspl_addr"/>
      <BindItem id="item28" compid="edt_prod_kind" propid="value" datasetid="ds_prod" columnid="prod_kind_nm"/>
      <BindItem id="item29" compid="edt_resort_mem_nm" propid="value" datasetid="ds_prod" columnid="resort_mem_nm"/>
      <BindItem id="item30" compid="edt_event_nm" propid="value" datasetid="ds_prod" columnid="event_nm"/>
      <BindItem id="item31" compid="edt_pay_state" propid="value" datasetid="ds_prod" columnid="pay_state"/>
      <BindItem id="item32" compid="cal_man_day" propid="value" datasetid="ds_prod" columnid="man_day"/>
      <BindItem id="item33" compid="edt_cnsl_man" propid="value" datasetid="ds_prod" columnid="cnsl_man"/>
      <BindItem id="item34" compid="edt_appr_reltn" propid="value" datasetid="ds_prod" columnid="appr_reltn"/>
      <BindItem id="item35" compid="edt_reg_man" propid="value" datasetid="ds_prod" columnid="reg_man"/>
      <BindItem id="item38" compid="cbo_ocb_reg_yn" propid="value" datasetid="ds_prod" columnid="ocb_reg_yn"/>
      <BindItem id="item39" compid="edt_ocb_gubn" propid="value" datasetid="ds_prod" columnid="ocb_gubn"/>
      <BindItem id="item40" compid="edt_resort_no" propid="value" datasetid="ds_prod" columnid="resort_no"/>
      <BindItem id="item41" compid="cbo_ocb_point_yn" propid="value" datasetid="ds_prod" columnid="ocb_point_yn"/>
      <BindItem id="item37" compid="mae_edt_reg_dm" propid="value" datasetid="ds_prod" columnid="reg_dm"/>
      <BindItem id="item7" compid="cbo_hpcl_stat_cd" propid="value" datasetid="ds_prod" columnid="hpcl_stat_cd"/>
      <BindItem id="item36" compid="edt_prod_amt" propid="value" datasetid="ds_prod" columnid=""/>
      <BindItem id="item42" compid="edt_union_pay_state" propid="value" datasetid="ds_prod" columnid="union_pay_state"/>
      <BindItem id="item43" compid="edt_bef_emple_cell" propid="value" datasetid="ds_prod" columnid="bef_emple_cell"/>
      <BindItem id="item44" compid="mae_ocb_crt_dt" propid="value" datasetid="ds_prod" columnid="ocb_crt_dt"/>
      <BindItem id="item45" compid="cal_kydate" propid="value" datasetid="ds_prod" columnid="kydate"/>
      <BindItem id="item5" compid="edt_prod_nm" propid="value" datasetid="ds_prod" columnid="prod_nm"/>
      <BindItem id="item47" compid="Combo_kstbit" propid="value" datasetid="ds_prod" columnid="kstbit"/>
      <BindItem id="item46" compid="edt_insert_cnt11" propid="value" datasetid="ds_prod" columnid="insert_cnt"/>
      <BindItem id="item48" compid="mae_inspl_zip" propid="value" datasetid="ds_prod" columnid="inspl_zip"/>
      <BindItem id="item51" compid="edt_prod_model_kind" propid="value" datasetid="ds_prod" columnid="prod_model_kind_nm"/>
      <BindItem id="item52" compid="edt_prod_model_kind" propid="tooltiptext" datasetid="ds_prod" columnid="prod_model_kind_nm"/>
      <BindItem id="item53" compid="edt_prod_model_cd" propid="value" datasetid="ds_prod" columnid="prod_model_nm"/>
      <BindItem id="item54" compid="edt_prod_model_cd" propid="tooltiptext" datasetid="ds_prod" columnid="prod_model_nm"/>
      <BindItem id="item26" compid="edt_b2b_emple_ci" propid="value" datasetid="ds_prod" columnid="b2b_emple_ci"/>
      <BindItem id="item27" compid="edt_main_contract" propid="value" datasetid="ds_prod" columnid="main_contract_nm"/>
      <BindItem id="item49" compid="edt_acc_stat" propid="value" datasetid="ds_prod" columnid="event_detail"/>
      <BindItem id="item50" compid="edt_mangiPeriod" propid="value" datasetid="ds_prod" columnid="mangi_period"/>
      <BindItem id="item55" compid="edt_insert_cnt" propid="value" datasetid="ds_prod" columnid="insert_cnt"/>
    </Bind>
    <Style url="CSS::main.css"/>
    <Objects>
      <Dataset id="ds_trans_info" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="strSvcID" type="STRING" size="256"/>
          <Column id="strURL" type="STRING" size="256"/>
          <Column id="strInDatasets" type="STRING" size="256"/>
          <Column id="strOutDatasets" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_dwl_cds" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd_set_cd" type="STRING" size="256"/>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cd_nm" type="STRING" size="256"/>
          <Column id="adtl_cd" type="STRING" size="256"/>
          <Column id="adtl_cd_nm" type="STRING" size="256"/>
          <Column id="use_yn" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_pyinMthdCd" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cd_nm" type="STRING" size="256"/>
          <Column id="adtl_cd" type="STRING" size="256"/>
          <Column id="adtl_cd_nm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_joinTypCd" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cd_nm" type="STRING" size="256"/>
          <Column id="adtl_cd" type="STRING" size="256"/>
          <Column id="adtl_cd_nm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cbo_modlTyp" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="prod_kind" type="STRING" size="256"/>
          <Column id="prod_kind_nm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cbo_modlNm" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="modl_cd" type="STRING" size="256"/>
          <Column id="modl_nm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cbo_prdtKind" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="seq" type="STRING" size="256"/>
          <Column id="prod_kind_nm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_list_prodSrvc" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="_chk" type="STRING" size="256"/>
          <Column id="seq" type="STRING" size="256"/>
          <Column id="prod_cd" type="STRING" size="256"/>
          <Column id="prod_nm" type="STRING" size="256"/>
          <Column id="mem_cl" type="STRING" size="256"/>
          <Column id="mem_cl_nm" type="STRING" size="256"/>
          <Column id="resort_mem_cl" type="STRING" size="256"/>
          <Column id="opt_svc_nm" type="STRING" size="256"/>
          <Column id="opt_svc_nm_ex" type="STRING" size="256"/>
          <Column id="svc_cd" type="STRING" size="256"/>
          <Column id="app_no" type="STRING" size="256"/>
          <Column id="use_yn" type="STRING" size="256"/>
          <Column id="use_yn_nm" type="STRING" size="256"/>
          <Column id="svc_event_bf_cl" type="STRING" size="256"/>
          <Column id="vital_service" type="STRING" size="256"/>
          <Column id="online_app_gubun" type="STRING" size="256"/>
          <Column id="start_dt" type="STRING" size="256"/>
          <Column id="end_dt" type="STRING" size="256"/>
          <Column id="isu_yn" type="STRING" size="256"/>
          <Column id="opt_svc_cd" type="STRING" size="256"/>
          <Column id="isu_cnt" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_list_prod" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <ConstColumn id="ConstColumn0" type="STRING" size="30" value=""/>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="prod_nm" type="STRING" size="256"/>
          <Column id="mem_order" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_inqCndt_procSrvc" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="prod_cd" type="STRING" size="256"/>
          <Column id="pay_gubun" type="STRING" size="256"/>
          <Column id="use_yn" type="STRING" size="256"/>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="gubun" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_inqCndt_prod" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="mem_no" type="STRING" size="256"/>
          <Column id="etc_yn" type="STRING" size="256"/>
          <Column id="ci_val" type="STRING" size="256"/>
          <Column id="accnt_no" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_prod" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="mem_no" type="STRING" size="256"/>
          <Column id="emple_no" type="STRING" size="256"/>
          <Column id="emple_nm" type="STRING" size="256"/>
          <Column id="prod_cd" type="STRING" size="256"/>
          <Column id="prod_nm" type="STRING" size="256"/>
          <Column id="prod_amt" type="STRING" size="256"/>
          <Column id="bef_emple_cd" type="STRING" size="256"/>
          <Column id="bef_emple_nm" type="STRING" size="256"/>
          <Column id="emple_dept_nm" type="STRING" size="256"/>
          <Column id="bef_emple_dept_nm" type="STRING" size="256"/>
          <Column id="prod_model_kind_nm" type="STRING" size="256"/>
          <Column id="prod_model_nm" type="STRING" size="256"/>
          <Column id="prod_kind_nm" type="STRING" size="256"/>
          <Column id="hpcl_stat_cd" type="STRING" size="256"/>
          <Column id="pay_mthd" type="STRING" size="256"/>
          <Column id="pay_mthd_nm" type="STRING" size="256"/>
          <Column id="join_dt" type="STRING" size="256"/>
          <Column id="man_day" type="STRING" size="256"/>
          <Column id="mangi_period" type="STRING" size="256"/>
          <Column id="cnsl_man" type="STRING" size="256"/>
          <Column id="join_cl" type="STRING" size="256"/>
          <Column id="new_chan_gunsu" type="STRING" size="256"/>
          <Column id="main_contract" type="STRING" size="256"/>
          <Column id="main_contract_nm" type="STRING" size="256"/>
          <Column id="b2b_comp_nm" type="STRING" size="256"/>
          <Column id="b2b_emple_no" type="STRING" size="256"/>
          <Column id="b2b_emple_ci" type="STRING" size="256"/>
          <Column id="sm_shop_info" type="STRING" size="256"/>
          <Column id="sm_shop_nm" type="STRING" size="256"/>
          <Column id="inspl_zip" type="STRING" size="256"/>
          <Column id="inspl_addr" type="STRING" size="256"/>
          <Column id="inspl_addr2" type="STRING" size="256"/>
          <Column id="inspl_phone" type="STRING" size="256"/>
          <Column id="kydate" type="STRING" size="256"/>
          <Column id="kstbit" type="STRING" size="256"/>
          <Column id="id_no" type="STRING" size="256"/>
          <Column id="kb_no" type="STRING" size="256"/>
          <Column id="order_num" type="STRING" size="256"/>
          <Column id="resort_no" type="STRING" size="256"/>
          <Column id="reg_man" type="STRING" size="256"/>
          <Column id="reg_dm" type="STRING" size="256"/>
          <Column id="resn_cl" type="STRING" size="256"/>
          <Column id="event_cl" type="STRING" size="256"/>
          <Column id="event_detail" type="STRING" size="256"/>
          <Column id="b2b_comp_cd" type="STRING" size="256"/>
          <Column id="prod_model_kind" type="STRING" size="256"/>
          <Column id="prod_model_cd" type="STRING" size="256"/>
          <Column id="prod_kind" type="STRING" size="256"/>
          <Column id="expr_no" type="STRING" size="256"/>
          <Column id="event_seq" type="STRING" size="256"/>
          <Column id="insert_cnt" type="STRING" size="256"/>
          <Column id="prod_cd_dbl" type="STRING" size="256"/>
          <Column id="accnt_no_dbl" type="STRING" size="256"/>
          <Column id="special_bit" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_resnAmt" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="r_gubn" type="STRING" size="256"/>
          <Column id="resn_amt" type="STRING" size="256"/>
          <Column id="ci_val" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_list_tmp_prodSrvc" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="_chk" type="STRING" size="256"/>
          <Column id="seq" type="STRING" size="256"/>
          <Column id="prod_cd" type="STRING" size="256"/>
          <Column id="prod_nm" type="STRING" size="256"/>
          <Column id="mem_cl" type="STRING" size="256"/>
          <Column id="mem_cl_nm" type="STRING" size="256"/>
          <Column id="resort_mem_cl" type="STRING" size="256"/>
          <Column id="opt_svc_nm" type="STRING" size="256"/>
          <Column id="opt_svc_nm_ex" type="STRING" size="256"/>
          <Column id="svc_cd" type="STRING" size="256"/>
          <Column id="app_no" type="STRING" size="256"/>
          <Column id="use_yn" type="STRING" size="256"/>
          <Column id="use_yn_nm" type="STRING" size="256"/>
          <Column id="svc_event_bf_cl" type="STRING" size="256"/>
          <Column id="vital_service" type="STRING" size="256"/>
          <Column id="online_app_gubun" type="STRING" size="256"/>
          <Column id="start_dt" type="STRING" size="256"/>
          <Column id="end_dt" type="STRING" size="256"/>
          <Column id="isu_yn" type="STRING" size="256"/>
          <Column id="opt_svc_cd" type="STRING" size="256"/>
          <Column id="isu_cnt" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_randNum" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="resultMsg" type="STRING" size="256"/>
          <Column id="newChanGunsu" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_prodList" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="page_indx" type="STRING" size="6"/>
          <Column id="prod_cd" type="STRING" size="256"/>
          <Column id="prod_nm" type="STRING" size="256"/>
          <Column id="mon_pay_amt" type="STRING" size="256"/>
          <Column id="expr_no" type="STRING" size="256"/>
          <Column id="prod_amt" type="STRING" size="256"/>
          <Column id="use_cnt" type="STRING" size="256"/>
          <Column id="reg_dm" type="STRING" size="256"/>
          <Column id="prod_cl" type="STRING" size="256"/>
          <Column id="prod_cl_nm" type="STRING" size="256"/>
          <Column id="sale_gubn" type="STRING" size="256"/>
          <Column id="sale_cl" type="STRING" size="256"/>
          <Column id="sale_close_day" type="STRING" size="256"/>
          <Column id="prod_save_point" type="STRING" size="256"/>
          <Column id="pay_type" type="STRING" size="256"/>
          <Column id="pay_type_nm" type="STRING" size="256"/>
          <Column id="join_type" type="STRING" size="256"/>
          <Column id="join_type_nm" type="STRING" size="256"/>
          <Column id="join_gift_card_sort" type="STRING" size="256"/>
          <Column id="join_gift_card_sort_nm" type="STRING" size="256"/>
          <Column id="join_gift_card_amt" type="STRING" size="256"/>
          <Column id="prod_dc_cnt" type="STRING" size="256"/>
          <Column id="membership" type="STRING" size="256"/>
          <Column id="ocb_point" type="STRING" size="256"/>
          <Column id="ocb_fee" type="STRING" size="256"/>
          <Column id="upd_man" type="STRING" size="256"/>
          <Column id="lgbestcl" type="STRING" size="256"/>
          <Column id="order_seq" type="STRING" size="256"/>
          <Column id="acuon_yn" type="STRING" size="256"/>
          <Column id="prod_longterm_yn" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_resortInfo" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="mem_no" type="STRING" size="256"/>
          <Column id="pay_gubun" type="STRING" size="256"/>
          <Column id="resort_mem_no" type="STRING" size="256"/>
          <Column id="resort_mem_nm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_saleAccnt" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="prod_cd" type="STRING" size="256"/>
          <Column id="emple_no" type="STRING" size="256"/>
          <Column id="gubun" type="STRING" size="256"/>
          <Column id="result_flag" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_bugaInfo" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_chbfProd" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="mem_no" type="STRING" size="256"/>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="appfm_no" type="STRING" size="256"/>
          <Column id="emple_no" type="STRING" size="256"/>
          <Column id="emple_nm" type="STRING" size="256"/>
          <Column id="prod_cd" type="STRING" size="256"/>
          <Column id="prod_nm" type="STRING" size="256"/>
          <Column id="bef_emple_cd" type="STRING" size="256"/>
          <Column id="bef_emple_nm" type="STRING" size="256"/>
          <Column id="prod_model_kind" type="STRING" size="256"/>
          <Column id="prod_model_kind_nm" type="STRING" size="256"/>
          <Column id="prod_model_cd" type="STRING" size="256"/>
          <Column id="prod_model_nm" type="STRING" size="256"/>
          <Column id="prod_kind" type="STRING" size="256"/>
          <Column id="prod_kind_nm" type="STRING" size="256"/>
          <Column id="bank_accnt_no" type="STRING" size="256"/>
          <Column id="pay_mthd" type="STRING" size="256"/>
          <Column id="join_dt" type="STRING" size="256"/>
          <Column id="man_day" type="STRING" size="256"/>
          <Column id="mangi_period" type="STRING" size="256"/>
          <Column id="cnsl_man" type="STRING" size="256"/>
          <Column id="join_cl" type="STRING" size="256"/>
          <Column id="appr_reltn" type="STRING" size="256"/>
          <Column id="new_chan_gunsu" type="STRING" size="256"/>
          <Column id="b2b_comp_cd" type="STRING" size="256"/>
          <Column id="b2b_comp_nm" type="STRING" size="256"/>
          <Column id="b2b_emple_no" type="STRING" size="256"/>
          <Column id="smcl" type="STRING" size="256"/>
          <Column id="sm_shop_info" type="STRING" size="256"/>
          <Column id="sm_shop_nm" type="STRING" size="256"/>
          <Column id="inspl_zip" type="STRING" size="256"/>
          <Column id="inspl_addr" type="STRING" size="256"/>
          <Column id="inspl_addr2" type="STRING" size="256"/>
          <Column id="inspl_phone" type="STRING" size="256"/>
          <Column id="pay_state" type="STRING" size="256"/>
          <Column id="납입내역" type="STRING" size="256"/>
          <Column id="event_nm" type="STRING" size="256"/>
          <Column id="pay_gubun" type="STRING" size="256"/>
          <Column id="resort_mem_gubun" type="STRING" size="256"/>
          <Column id="resort_mem_no" type="STRING" size="256"/>
          <Column id="resort_mem_nm" type="STRING" size="256"/>
          <Column id="id_no" type="STRING" size="256"/>
          <Column id="kb_no" type="STRING" size="256"/>
          <Column id="rand_num" type="STRING" size="256"/>
          <Column id="order_num" type="STRING" size="256"/>
          <Column id="reg_dm" type="STRING" size="256"/>
          <Column id="card_gubun" type="STRING" size="256"/>
          <Column id="ocb_gubun" type="STRING" size="256"/>
          <Column id="ocb_reg_yn" type="STRING" size="256"/>
          <Column id="ocb_point_yn" type="STRING" size="256"/>
          <Column id="ja_subscrpt_yn" type="STRING" size="256"/>
          <Column id="reg_man" type="STRING" size="256"/>
          <Column id="resort_no" type="STRING" size="256"/>
          <Column id="resn_yn" type="STRING" size="256"/>
          <Column id="resn_amt" type="STRING" size="256"/>
          <Column id="r_gubn" type="STRING" size="256"/>
          <Column id="start_dt" type="STRING" size="256"/>
          <Column id="mem_prod_accnt_svc" type="STRING" size="256"/>
          <Column id="expr_no" type="STRING" size="256"/>
          <Column id="pay_no" type="STRING" size="256"/>
          <Column id="cms_yn" type="STRING" size="256"/>
          <Column id="event_seq" type="STRING" size="256"/>
          <Column id="hpcl_stat_nm" type="STRING" size="256"/>
          <Column id="hpcl_stat_cd" type="STRING" size="256"/>
          <Column id="prod_amt" type="STRING" size="256"/>
          <Column id="union_pay_state" type="STRING" size="256"/>
          <Column id="main_contract_nm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_hpcl_cd" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd_set_cd" type="STRING" size="256"/>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cd_nm" type="STRING" size="256"/>
          <Column id="adtl_cd" type="STRING" size="256"/>
          <Column id="adtl_cd_nm" type="STRING" size="256"/>
          <Column id="use_yn" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_deleteProdInfo" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="mem_no" type="STRING" size="256"/>
          <Column id="cti_crnc_dtl_id" type="STRING" size="256"/>
          <Column id="prod_cd" type="STRING" size="256"/>
          <Column id="prod_nm" type="STRING" size="256"/>
          <Column id="emple_no" type="STRING" size="256"/>
          <Column id="empel_nm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_kstbit" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="kscode" type="STRING" size="256"/>
          <Column id="ksname" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="kscode">01</Col>
            <Col id="ksname">대기</Col>
          </Row>
          <Row>
            <Col id="kscode">02</Col>
            <Col id="ksname">가입</Col>
          </Row>
          <Row>
            <Col id="kscode">03</Col>
            <Col id="ksname">해약</Col>
          </Row>
          <Row>
            <Col id="kscode">04</Col>
            <Col id="ksname">행사</Col>
          </Row>
          <Row>
            <Col id="kscode">09</Col>
            <Col id="ksname">만기</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_list" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_niceReSend2" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="trgt_cust_dtpt_id" type="STRING" size="256"/>
          <Column id="mem_no" type="STRING" size="256"/>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="ci_val" type="STRING" size="256"/>
          <Column id="upp_tx_type" type="STRING" size="256"/>
          <Column id="nice_no" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_pdfFileInfo" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="trgt_cust_dtpt_id" type="STRING" size="256"/>
          <Column id="img_file_nm" type="STRING" size="256"/>
          <Column id="img_file_path" type="STRING" size="256"/>
          <Column id="nice_no2" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_pdfTemp" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="trgt_cust_dtpt_id" type="STRING" size="256"/>
          <Column id="img_file_path" type="STRING" size="256"/>
          <Column id="img_file_nm" type="STRING" size="256"/>
          <Column id="nice_no2" type="STRING" size="256"/>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="join_dt" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_listWdrwReq" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="prod_cd" type="STRING" size="256"/>
          <Column id="pay_mthd" type="STRING" size="256"/>
          <Column id="req_bit" type="STRING" size="256"/>
          <Column id="stat" type="STRING" size="256"/>
          <Column id="kstbit" type="STRING" size="256"/>
          <Column id="true_cnt" type="STRING" size="256"/>
          <Column id="req_pay_no" type="STRING" size="256"/>
          <Column id="pay_bit" type="STRING" size="256"/>
          <Column id="ichae_no" type="STRING" size="256"/>
          <Column id="ichae_cd" type="STRING" size="256"/>
          <Column id="req_day" type="STRING" size="256"/>
          <Column id="bank_filin_brkdn" type="STRING" size="256"/>
          <Column id="pay_amt" type="STRING" size="256"/>
          <Column id="reg_dm" type="STRING" size="256"/>
          <Column id="reg_man" type="STRING" size="256"/>
          <Column id="ichae_dt" type="STRING" size="256"/>
          <Column id="req_pay_gunsu" type="STRING" size="256"/>
          <Column id="upd_dm" type="STRING" size="256"/>
          <Column id="upd_man" type="STRING" size="256"/>
          <Column id="del_fg" type="STRING" size="256"/>
          <Column id="birth" type="STRING" size="256"/>
          <Column id="bill_gubun" type="STRING" size="256"/>
          <Column id="result_key" type="STRING" size="256"/>
          <Column id="result_kind" type="STRING" size="256"/>
          <Column id="month_cnt" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_listMemberMangiExt" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="page_indx" type="STRING" size="256"/>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="cell" type="STRING" size="256"/>
          <Column id="zip_code" type="STRING" size="256"/>
          <Column id="adress" type="STRING" size="256"/>
          <Column id="ext_yn" type="STRING" size="256"/>
          <Column id="ext_period" type="STRING" size="256"/>
          <Column id="ext_day" type="STRING" size="256"/>
          <Column id="insert_gbn" type="STRING" size="256"/>
          <Column id="tx_etc" type="STRING" size="256"/>
          <Column id="del_fg" type="STRING" size="256"/>
          <Column id="reg_dm" type="STRING" size="256"/>
          <Column id="cancel_dt" type="STRING" size="256"/>
          <Column id="man_stat" type="STRING" size="256"/>
          <Column id="man_day" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_main_contract" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cd_nm" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="cd">01</Col>
            <Col id="cd_nm">상조</Col>
          </Row>
          <Row>
            <Col id="cd">02</Col>
            <Col id="cd_nm">해외여행</Col>
          </Row>
          <Row>
            <Col id="cd">03</Col>
            <Col id="cd_nm">크루즈</Col>
          </Row>
          <Row>
            <Col id="cd">04</Col>
            <Col id="cd_nm">골프</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_accnt_chk" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_prod_old" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="mem_no" type="STRING" size="256"/>
          <Column id="emple_no" type="STRING" size="256"/>
          <Column id="emple_nm" type="STRING" size="256"/>
          <Column id="prod_cd" type="STRING" size="256"/>
          <Column id="prod_nm" type="STRING" size="256"/>
          <Column id="prod_amt" type="STRING" size="256"/>
          <Column id="bef_emple_cd" type="STRING" size="256"/>
          <Column id="bef_emple_nm" type="STRING" size="256"/>
          <Column id="emple_dept_nm" type="STRING" size="256"/>
          <Column id="bef_emple_dept_nm" type="STRING" size="256"/>
          <Column id="prod_model_kind_nm" type="STRING" size="256"/>
          <Column id="prod_model_nm" type="STRING" size="256"/>
          <Column id="prod_kind_nm" type="STRING" size="256"/>
          <Column id="hpcl_stat_cd" type="STRING" size="256"/>
          <Column id="pay_mthd" type="STRING" size="256"/>
          <Column id="pay_mthd_nm" type="STRING" size="256"/>
          <Column id="join_dt" type="STRING" size="256"/>
          <Column id="man_day" type="STRING" size="256"/>
          <Column id="mangi_period" type="STRING" size="256"/>
          <Column id="cnsl_man" type="STRING" size="256"/>
          <Column id="join_cl" type="STRING" size="256"/>
          <Column id="new_chan_gunsu" type="STRING" size="256"/>
          <Column id="main_contract" type="STRING" size="256"/>
          <Column id="b2b_comp_nm" type="STRING" size="256"/>
          <Column id="b2b_emple_no" type="STRING" size="256"/>
          <Column id="b2b_emple_ci" type="STRING" size="256"/>
          <Column id="sm_shop_info" type="STRING" size="256"/>
          <Column id="sm_shop_nm" type="STRING" size="256"/>
          <Column id="inspl_zip" type="STRING" size="256"/>
          <Column id="inspl_addr" type="STRING" size="256"/>
          <Column id="inspl_addr2" type="STRING" size="256"/>
          <Column id="inspl_phone" type="STRING" size="256"/>
          <Column id="kydate" type="STRING" size="256"/>
          <Column id="kstbit" type="STRING" size="256"/>
          <Column id="id_no" type="STRING" size="256"/>
          <Column id="kb_no" type="STRING" size="256"/>
          <Column id="order_num" type="STRING" size="256"/>
          <Column id="resort_no" type="STRING" size="256"/>
          <Column id="reg_man" type="STRING" size="256"/>
          <Column id="reg_dm" type="STRING" size="256"/>
          <Column id="resn_cl" type="STRING" size="256"/>
          <Column id="event_cl" type="STRING" size="256"/>
          <Column id="event_detail" type="STRING" size="256"/>
          <Column id="b2b_comp_cd" type="STRING" size="256"/>
          <Column id="prod_model_kind" type="STRING" size="256"/>
          <Column id="prod_model_cd" type="STRING" size="256"/>
          <Column id="prod_kind" type="STRING" size="256"/>
          <Column id="expr_no" type="STRING" size="256"/>
          <Column id="event_seq" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_list_direct" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="ci_val" type="STRING" size="256"/>
          <Column id="mem_nm" type="STRING" size="256"/>
          <Column id="cell" type="STRING" size="256"/>
          <Column id="brth_mon_day" type="STRING" size="256"/>
          <Column id="sex" type="STRING" size="256"/>
          <Column id="home_zip" type="STRING" size="256"/>
          <Column id="home_addr" type="STRING" size="256"/>
          <Column id="home_addr2" type="STRING" size="256"/>
          <Column id="home_tel" type="STRING" size="256"/>
          <Column id="email" type="STRING" size="256"/>
          <Column id="markt_agr_yn" type="STRING" size="256"/>
          <Column id="dm_yn" type="STRING" size="256"/>
          <Column id="email_yn" type="STRING" size="256"/>
          <Column id="sms_yn" type="STRING" size="256"/>
          <Column id="tel_yn" type="STRING" size="256"/>
          <Column id="marry_yn" type="STRING" size="256"/>
          <Column id="child_cnt" type="STRING" size="256"/>
          <Column id="rdp_mst_idx" type="STRING" size="256"/>
          <Column id="ord_mst_idx" type="STRING" size="256"/>
          <Column id="b2b_cd" type="STRING" size="256"/>
          <Column id="b2b_nm" type="STRING" size="256"/>
          <Column id="prod_cd" type="STRING" size="256"/>
          <Column id="prod_nm" type="STRING" size="256"/>
          <Column id="prod_kind" type="STRING" size="256"/>
          <Column id="model_cd" type="STRING" size="256"/>
          <Column id="inspl_zip" type="STRING" size="256"/>
          <Column id="inspl_addr" type="STRING" size="256"/>
          <Column id="inspl_addr2" type="STRING" size="256"/>
          <Column id="hpcall_time" type="STRING" size="256"/>
          <Column id="main_contract" type="STRING" size="256"/>
          <Column id="main_contract_nm" type="STRING" size="256"/>
          <Column id="reg_dm" type="STRING" size="256"/>
          <Column id="alct_yn" type="STRING" size="256"/>
          <Column id="cnsr_id" type="STRING" size="256"/>
          <Column id="user_nm" type="STRING" size="256"/>
          <Column id="dpms_resl_nm" type="STRING" size="256"/>
          <Column id="dpms_stat_nm" type="STRING" size="256"/>
          <Column id="dpms_stat_cd" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_list_uplus" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="id_no" type="STRING" size="256"/>
          <Column id="home_prd_num" type="STRING" size="256"/>
          <Column id="u_dlr_cd" type="STRING" size="256"/>
          <Column id="u_dlr_nm" type="STRING" size="256"/>
          <Column id="u_indc_empno" type="STRING" size="256"/>
          <Column id="u_intg_user_id" type="STRING" size="256"/>
          <Column id="wh_pos_cd" type="STRING" size="256"/>
          <Column id="wh_store_nm" type="STRING" size="256"/>
          <Column id="main_cont_type" type="STRING" size="256"/>
          <Column id="u_cmmn_cd_nm" type="STRING" size="256"/>
          <Column id="sales_type" type="STRING" size="256"/>
          <Column id="prdct_nm" type="STRING" size="256"/>
          <Column id="prdct_nm2" type="STRING" size="256"/>
          <Column id="prdct_nm3" type="STRING" size="256"/>
          <Column id="name" type="STRING" size="256"/>
          <Column id="hp" type="STRING" size="256"/>
          <Column id="discount_ctn" type="STRING" size="256"/>
          <Column id="u_prod_no" type="STRING" size="256"/>
          <Column id="u_prod_nm" type="STRING" size="256"/>
          <Column id="reg_dtm" type="STRING" size="256"/>
          <Column id="call_stts" type="STRING" size="256"/>
          <Column id="memo" type="STRING" size="256"/>
          <Column id="agent_emp_nm" type="STRING" size="256"/>
          <Column id="prdct_cd" type="STRING" size="256"/>
          <Column id="prdct_cd2" type="STRING" size="256"/>
          <Column id="prdct_cd3" type="STRING" size="256"/>
          <Column id="agent_emp_tel" type="STRING" size="256"/>
          <Column id="cnslr" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Script type="xscript4.0"><![CDATA[/********************************************************************************************/
/* 1. Include Library include, variables Declaration 영역                                  */
/********************************************************************************************/
include "LIB::lib_All.xjs"; // 공통라이브러리
var gv_jobsel          ="" ; // 신규 & 수정 구분
var gv_emple_no        = ""; // 담당사원
var gv_bef_emple_cd    = ""; // 모집사원
var gv_emple_cell    = "";   // 담당사원번호
var gv_b2b_comp_cd     = ""; // B2B 회사코드
var gv_sm_shop_info    = ""; // 삼성 매장코드
   
var gv_mem_no          = ""; // 고유아이디
var gv_accnt_no        = ""; // 회원아이디

var gv_cival           = ""; // 회원CI

var isChgPayGubun      = "Y"; // 리조트 회원에 따른 부가서비스 변경시 사용
var gv_oldCboPayGubunIdx = 0; // old 리조트회원 구분

var gv_smartLifeFg     = "N"; // 스마트라이프 여부
var gv_regFg           = "N"; // 상품 등록 여부 => 팝업 호출(CMS/카드/삼성카드)

var delBtnFlag         = false; // 삭제버튼 표출여부
var wdrwReqSrchFlag    = "";  // 상품정보 삭제 여부 체크

var gv_bugaCmsFg       = "N"; // 부가서비스 등록 팝업전에 회원CMS 체크
var gv_bugaCardFg      = "N"; // 부가서비스 등록 팝업전에 회원Card 체크
var fv_acuon_valid_days	= 30; // 애큐온신용등급유효기간(일수)

var gv_able_prod_update = ""; //청구고객

var gv_sbit = ""; // 사원조회 E:엔터 / C:클릭
//var niceSendingFlag = "N"; // NICE 전송중 여부

var gv_athrCd = gfn_getUserInfo("athr_cd");		// 2018.03.20  TM40 추가

var gv_niceNo = "";		// 선택된 회원의 nice key
var gv_Auth01 = "";		// 선택된 회원의 회원 인증 값
var gv_Auth02 = "";		// 선택된 회원의 계약 인증 값

var gv_updData = ""; 	// 업데이트 시 변경된 데이트 array

var gv_join_stat = ""; 	// 가입상태(KSTBIT) (납입상태 단 납입취소 후 납입이 0이되었어도 KSTBIT값이 변경되지 않음

var gv_double_accnt = ""; //두구좌 회원번호 상품추가시 기존회원번호 저장

/********************************************************************************************/
/* 2. Form 관련(onload 및 Form 이벤트) 처리                                           	*/
/********************************************************************************************/
function PS02000104_onload(obj:Form, e:LoadEventInfo)
{
	gfn_getList("dlwCd", "01,113,81", null, null, "PS02000104DLWCD", "ds_dwl_cds");  // 공통코드조회
	var sUserId = gds_UserInfo.getColumn(0, "user_id");
	if( sUserId == "2011030007" || sUserId == "2010120001" || sUserId == "2011030009" || sUserId == "2011040027" ||
        sUserId == "2011060324" || sUserId == '2011040028' || sUserId == '2011040008' || sUserId == '2011120024' || 
        sUserId == '2011100009' || sUserId == '2011060475' || sUserId == '2013060011' ||	//콜센터 채현정 매니저 2013/11/05
        sUserId == '2013060017') {
        delBtnFlag = true;
	}
		
	fn_setComponent("NULL");
	
	// 2018.03.20  TM40 추가
	if (gv_athrCd == "TM40"){
		fn_setComponent("TM40");
	}
	/*
	전자서명 버튼 권한 추가
	1. 위보미 2020060041 (2021.04.06)
	2. 오정훈 2020030021 (2021.04.06)
	3. 신혜진 2020030018 (2021.04.06)
	4. 김국화 2020100002 (2021.04.06)
	5. 이국원 2020100005 (2021.04.06)
	6. 박수희 2020100004 (2021.04.06)
	7 .박애진 2020100006 (2021.04.06)
	8 .김순희 2020100003 (2021.04.06)
	9. 김혜인 2021010002 (2021.04.06)
	20210408권한 전체 추가
	*/
// 	if(gv_athrCd == "AT01" || gv_athrCd == "AT02" || 
// 	   sUserId == "2019090026" || sUserId == "2018100003" || sUserId == "2020030013" ||
// 	   sUserId == "2020060041" || sUserId == "2020030021" || sUserId == "2020030018" ||
// 	   sUserId == "2020100002" || sUserId == "2020100005" || sUserId == "2020100004" ||
// 	   sUserId == "2020100006" || sUserId == "2020100003" || sUserId == "2021010002") {
// 		btn_elecSign.visible = true;
// 	} else {
// 		btn_elecSign.visible = false;
// 	}
	
// 	if(gv_athrCd == "AT01" || gv_athrCd == "AT02") {
// 		btn_elecSignNew.visible = true;
// 	}
// 	if(gv_athrCd == "AT01" || gv_athrCd == "AT02") {
// 		btn_double.visible = true;
// 	} else {
// 		btn_double.visible = false;
// 	}	
}

/********************************************************************************************/
/* 3. Callback(gfn_Transaction 호출 후 처리내용)                                   		*/
/********************************************************************************************/
function fn_callBack(svcid, errcd, errmsg) 
{
	if (errcd != 0) {
		trace(errcd)
		return false;
	} else {
		switch (svcid) {
			case "PS02000104DLWCD":
			gfn_getCode("01", "SELECT", ds_pyinMthdCd, ds_dwl_cds);	// 납입방법
			gfn_getCode("113", "SELECT", ds_joinTypCd, ds_dwl_cds); // 가입구분
			gfn_getCode("81", "SELECT", ds_hpcl_cd, ds_dwl_cds);	// 해피콜 상담상태
			fn_init(); // 초기화
			break;
			
			case "srchProdList":
				fn_postSearch();
			break;
			
			case "srchProdListDetail":
				// 컴퍼넌트 초기화 설정(NEWTYPE)
				fn_setComponent("SEARCH");	
								
				// 2018.03.20  TM40 추가
				if (gv_athrCd == "TM40"){
					fn_setComponent("TM40");
				}
			break;
			
			case "srchResnAmt":
			fn_SetNiceBtn();
			edt_resn_amt.value = gfn_setComma(ds_resnAmt.getColumn(0, "resn_amt"));
			fn_insertSrchHist(); // 금일 조회 이력 추가  ------- 임동진매니져 요청 20161108
			break;
			
			case "srchProdSrvc":
			fn_setProdSrvc(); // 부가서비스 설정
			break;
			
			// 할인우대권 확인 결과
			case "chkRandNum":
			if (ds_randNum.getColumn(0, "resultMsg") == "success") {
				var sNewChanGunsu = ds_randNum.getColumn(0, "new_chan_gunsu");
				var sProdDcCnt = ds_prodList.getColumn(0, "prod_dc_cnt");
				var tmp = Number(sNewChanGunsu) + Number(sProdDcCnt);
				spn_new_chan_gunsu.value = tmp;
			} else {
				alert("잘못된 할인우대권입니다.");
				edt_rand_num.value = "";
				return false;
			}
			break;
			
			// 모델분류 설정
			case "srchModlTyp":
				ds_cbo_modlNm.clearData();
				ds_cbo_prdtKind.clearData();
			
				if (ds_cbo_modlTyp.rowcount > 0) {
					ds_cbo_modlTyp.insertRow(0);
					ds_cbo_modlTyp.setColumn(0, "prod_kind", "");
					ds_cbo_modlTyp.setColumn(0, "prod_kind_nm", "선택");
					
					if (gfn_isNull(edt_accnt_no.value)) {
						if (ds_cbo_modlTyp.rowcount == 2) {
							cbo_prod_model_kind.index = 1;  // 단일건일 경우 자동선택
							fn_srchModlNm();                // 모델명 상품종류 조회
							
							// 모델 (단일건) 선택 후, 주계약 버튼 enable
							btn_main_contract.enable = true;
						} else {
							cbo_prod_model_kind.index = 0;
							// 모델 선택되지 않은 경우, 주계약 버튼 enable
							btn_main_contract.enable = false;
							
							if(parent.div_member.ds_member.getColumn(0, "cl") == "DRCT") {
								cbo_prod_model_kind.value = ds_list_direct.getColumn(0, "prod_kind");
								fn_srchModlNm();
								//cbo_prod_model_cd.value = ds_list_direct.getColumn(0, "model_cd");
								
								btn_main_contract.enable = true;
							}
						}
					} else {
						if (!gfn_isNull(ds_prod.getColumn(0, "prod_model_kind"))) {
							cbo_prod_model_kind.value = ds_prod.getColumn(0, "prod_model_kind");
							fn_srchModlNm();
							
							// 모델이 있는 경우, 주계약 버튼 enable
							btn_main_contract.enable = true;
						}
					}
				}
				
				fn_setEnableCombo();
			break;
			
			// 모델명, 상품종류 설정
			case "srchModlNm":
			if (ds_cbo_modlNm.rowcount > 0) {
				ds_cbo_modlNm.insertRow(0);
				ds_cbo_modlNm.setColumn(0, "modl_cd", "");
				ds_cbo_modlNm.setColumn(0, "modl_nm", "선택");
				
				if (gfn_isNull(edt_accnt_no.value)) {
					if (ds_cbo_modlNm.rowcount == 2) {
						cbo_prod_model_cd.index = 1; // 단일건일 경우 자동선택
					} else {
						//cbo_prod_model_kind.index = 0;
						cbo_prod_model_cd.index = 0;
						
						if(parent.div_member.ds_member.getColumn(0, "cl") == "DRCT") {
							cbo_prod_model_cd.value = ds_list_direct.getColumn(0, "model_cd");
						}
					}
				} else {
					if (!gfn_isNull(ds_prod.getColumn(0, "prod_model_cd"))) {
						cbo_prod_model_cd.value = ds_prod.getColumn(0, "prod_model_cd");
					}
				}
			}
			
			if (ds_cbo_prdtKind.rowcount > 0) {
				ds_cbo_prdtKind.insertRow(0);
				ds_cbo_prdtKind.setColumn(0, "seq", "");
				ds_cbo_prdtKind.setColumn(0, "prod_kind_nm", "선택");
				
				if (gfn_isNull(edt_accnt_no.value)) {
					if (ds_cbo_prdtKind.rowcount == 2) {
						cbo_prod_kind.index = 1; // 단일건일 경우 자동선택
					} else {
						cbo_prod_kind.index = 0;
					}
				} else {
					if (!gfn_isNull(ds_prod.getColumn(0, "prod_kind"))) {
						cbo_prod_kind.value = ds_prod.getColumn(0, "prod_kind");
					}
				}
			}
			
			fn_setEnableCombo();
			break;
			
			// 회원 리조트 정보 조회 결과
			case "srchResortInfo":
			cbo_pay_gubun.value = ds_resortInfo.getColumn(0, "pay_gubun");
			edt_resort_mem_no.value = ds_resortInfo.getColumn(0, "resort_mem_no");
			edt_resort_mem_nm.value = ds_resortInfo.getColumn(0, "resort_mem_nm");
			
			fn_chngResort();
			break;
			
			// 회원 상품 정보 수정 시 체크 해야 할 데이터 결과(청구중 및 등등)
			case "srchAccntCheck":
				gv_able_prod_update = ds_accnt_chk.getColumn(0,"req_stat");		
				gv_join_stat = ds_prod.getColumn(ds_prod.rowposition,"kstbit");		
				
				fn_setComponent("UPDATE");									
			break;
			
			case "srchPayMthdCheck":
				gv_able_prod_update = ds_accnt_chk.getColumn(0,"req_stat");						
			break;
			
			// 2구좌 가입 제한 확인 결과
			case "srchNoSaleAccnt":
				if(ds_saleAccnt.getColumn(0, "result_flag") == "Y") {  // 구좌 등록가능 
					if(ds_saleAccnt.getColumn(0, "gubun") == "prod") { // 상품 선택시
						fn_chngResort();                                   // 리조트 회원 설정
						if (ds_prod.getColumn(0, "accnt_no") != "00000") { // 기타문의 일 경우는 제외
							fn_srchProdSrvc();                             // 부가서비스 조회
						}
					}
				} else {                                               // 구좌 등록 불가건
					alert("3구좌 이상 가입불가 건입니다.");
					
					edt_emple_nm.value = "";
					gv_emple_no = "";
					edt_bef_emple_nm.value = "";
					gv_bef_emple_cd = "";
					edt_prod_cd.value = "";
					edt_prod_nm.value = "";
				}
			break;
			
			// 저장 콜백 (업데이트)
			case "saveMemProdAccnt":
				fn_setComponent("SEARCH_C");	
				parent.div_cons_hstr.fn_init();
				//fn_srch_prod_info("research"); // 상품 재조회
				
				//parent.div_cons_hstr.fn_srch_mem_cons_hstr(); // 상담이력조회
				
				
				//fn_vatSvcSync(); //저장 후 부가서비스 관리 이력과 동기화 처리 로직 호출
			break;
			
			// 저장 콜백 (신규저장)
			case "insertMemProdAccnt":
				//회원 상품 리스트 조회
				fn_srch_prod_info();
			break;

			// 2018.02.20 전자 서명 관련 콜백
			case "insertNiceInfomation2":
				alert("계약문자 발송이 완료 되었습니다!");
				fn_srch_prod_info("research");
				//niceSendingFlag = "N";
			break;
			
			case "getNicePdfFile":
				if(ds_pdfFileInfo.getRowCount() == 0)
				{
					alert("2차전송이 수행되지 않은 고객입니다. 계약문자전송을 실행하여 주십시오.");
				}
				else
				{
					var sImg_file_nm = ds_pdfFileInfo.getColumn(ds_pdfFileInfo.rowposition, "img_file_nm");
					var sImg_file_path = ds_pdfFileInfo.getColumn(ds_pdfFileInfo.rowposition, "img_file_path");
					var param = {pdfFileName : sImg_file_nm, pdfFilePath : sImg_file_path};
					var reVal = gfn_diaLog("전자서명증서", -1, -1, 800, 600, "PS990000::PS999000.xfdl", false, param, true, false, true, null, null, true);
				}
			break;
			
			case "resendKaKao2" :
				alert("계약문자 재전송이 완료되었습니다!");
				fn_srch_prod_info("research");
			break;
			
			case "sendNiceCancel" :
				alert("2차접수 취소가 완료되었습니다!");
				fn_srch_prod_info("research");
			break;
			
			case "resendNicePdfFile" :
				alert("전자서명재전송이 완료되었습니다.");
				fn_srch_prod_info("research");
			break; 
			
			case "getMemberMangiExtConfirmList" :
				/*
				var smanDay = ds_listMemberMangiExt.getColumn(0, "man_day"); //만기일자
				var smanStat = ds_listMemberMangiExt.getColumn(0, "man_stat"); //만기상태
				
				//만기일 callback 등록
				cal_man_day.value = smanDay;
				
				//만기상태 알림 선택
				switch(smanStat){
					case "MAN" :
						strInfo = "만기환급대상확인";			
					break;				
					case "NOR" :
						strInfo = "";			
					break;				
					default:
						strInfo = smanStat + "대상";			
					break;
				}
				edt_info.value = strInfo;
				*/
			break;
		}
	}
}

/********************************************************************************************/
/**   4. Validation 처리                                                                   	*/
/********************************************************************************************/
// 상품 조회전
function fn_preSrchProdInfo(sType)
{
	gv_mem_no = parent.div_member.ds_member.getColumn(0, "mem_no");
	gv_cival = parent.div_member.ds_member.getColumn(0, "ci_val");
	
	if (gfn_isNull(gv_mem_no)) {
		alert("회원정보가 없습니다.");
		return false;
	}
	
	ds_inqCndt_prod.clearData();
	ds_inqCndt_prod.addRow();
	ds_inqCndt_prod.setColumn(0, "mem_no", gv_mem_no);
	ds_inqCndt_prod.setColumn(0, "etc_yn", "Y");
	
	// 전자서명 인증값을 가져오기 위한 ci값 입력
	ds_inqCndt_prod.setColumn(0, "ci_val", gv_cival);
	return true;
}

// 부가서비스 리스트 조회전
function fn_preSrchProdSrvc()
{
	ds_inqCndt_procSrvc.clearData();
	ds_inqCndt_procSrvc.addRow();
	ds_inqCndt_procSrvc.setColumn(0, "prod_cd", ds_prod.getColumn(0, "prod_cd"));
	ds_inqCndt_procSrvc.setColumn(0, "pay_gubun", ds_prod.getColumn(0, "pay_gubun")); // 리조트 회원구분
	if (gfn_isNull(ds_prod.getColumn(0, "accnt_no"))) { // 신규등록 여부에 따라 use_yn 설정
		ds_inqCndt_procSrvc.setColumn(0, "use_yn", "Y");
		ds_inqCndt_procSrvc.setColumn(0, "accnt_no", "");
		ds_inqCndt_procSrvc.setColumn(0, "gubun", "");
	} else {
		ds_inqCndt_procSrvc.setColumn(0, "use_yn", "");
		ds_inqCndt_procSrvc.setColumn(0, "accnt_no", ds_prod.getColumn(0, "accnt_no"));
		ds_inqCndt_procSrvc.setColumn(0, "gubun", "inq");
	}
	
	return true;
}

// 추가버튼 체크
function fn_preAddProd()
{
	if (gfn_isNull(parent.div_member.mem_no.value)) {
		alert("회원정보가 없습니다.");
		return false;
	}

	if (!parent.div_member.business_yn.value) { // 사업자가 아닐 경우
		if (gfn_isNull(parent.div_member.ci_val.value)) {
			alert("본인인증을 하셔야 합니다.");
			return false;
		}
	}
	if (gfn_isNull(parent.div_member.home_zip.value) || gfn_isNull(parent.div_member.home_addr.value)) {
		alert("회원의 수령지 주소를 입력하세요.");
		return false;
	} else if (gfn_isNull(parent.div_member.home_addr2.value)) {
		alert("회원의 수령지 상세주소를 입력하세요.");
		parent.div_member.home_addr2.setFocus();
		return false;
	}
	
	if (!parent.div_member.gv_memberHomeAddrFlag) {
		alert("회원의 수령지 정보를 저장하여야 합니다.");
		return false;
	}
	
	return true;
}

// 저장 전
function fn_preSaveProd()
{
	
	// 신규 회원 등록 gv_jobsel = 1 : 상품추가, gv_jobsel = 2 : 상품수정	
	if (gv_jobsel == '1'){
		
		/*
		if(!confirm("마케팅 동의 하시겠습니까?")) {
			parent.div_member.cbo_markt_agr_yn.value ="N"
		} else {
			parent.div_member.cbo_markt_agr_yn.value ="Y"
		}
		*/
		
	
		// 회원정보의 여부 확인
		if (gfn_isNull(parent.div_member.mem_no.value)) {
			alert("회원정보가 없습니다.");
			return false;
		}
		
		// 사업자가 아닐 경우		
		if (!parent.div_member.business_yn.value) { 
			if (gfn_isNull(parent.div_member.ci_val.value)) {
				alert("본인인증을 하십시요.");
				parent.div_member.ci_val.setFocus();
				return false;
			}
		}
		
		// 사업자가 아닐 경우	(현재 사용 안함)
		/*
		if (!gfn_isNull(edt_appfm_no.value)) {
		if (String(edt_appfm_no.value).length != 6) {
			alert("신청서 번호를 6자리로 입력하여 주십시요.");
			edt_appfm_no.setFocus();
			return false;
		}
		*/
		
		if (gfn_isNull(parent.div_member.home_zip.value) || gfn_isNull(parent.div_member.home_addr.value)) {
			alert("회원의 수령지 주소를 입력하세요.");
			return false;
		} else if (gfn_isNull(parent.div_member.home_addr2.value)) {
			alert("회원의 수령지 상세주소를 입력하세요.");
			parent.div_member.home_addr2.setFocus();
			return false;
		}
		
		if (!parent.div_member.gv_memberHomeAddrFlag) {
			alert("회원의 수령지 정보를 저장하여야 합니다.");
			return false;
		}
	} 
					
	if (gfn_isNull(edt_prod_cd.value) || gfn_isNull(edt_prod_nm.value)) {
		alert("상품을 선택하십시요.");
		return false;
	}
	
	if (ds_cbo_modlTyp.rowcount > 1 && gfn_isNull(cbo_prod_model_kind.value)) {
		alert("모델분류를 선택하세요.");
		return false;
	}
	
	if (ds_cbo_modlNm.rowcount > 1 && gfn_isNull(cbo_prod_model_cd.value)) {
		alert("모델명을 선택하세요.");
		return false;
	}
	
	if (ds_cbo_prdtKind.rowcount > 1 && gfn_isNull(cbo_prod_kind.value)) {
		alert("상품종류를 선택하세요.");
		return false;
	}
		
	if (gfn_isNull(edt_emple_nm.value) || gfn_isNull(gv_emple_no)) {
		alert("담당사원 정보를 입력하십시요.");
		return false;
	}
	
	if (gfn_isNull(edt_bef_emple_nm.value) || gfn_isNull(gv_bef_emple_cd)) {
		alert("모집사원 정보를 입력하십시요.");
		return false;
	}
	
	if (gfn_isNull(cbo_join_cl.value)) {
		alert("가입구분을 선택하십시요.");
		return false;
	}
	
	if (gfn_isNull(cbo_pay_mthd.value)) {
		alert("납입방법을 선택하십시요.");
		return false;
	}
	
	if (gfn_isNull(cal_join_dt.value)) {
		alert("가입일자를 입력하십시요.");
		return false;
	}
	
	// SDP상품의 경우 B2B사원(판매사원) CI값을 체크 해야 함
	var sSectionThr = ds_prod.getColumn(ds_prod.rowposition, "section_thr");
	var sB2bEmpleCi = new String(edt_b2b_emple_ci.value);
	
	if(sSectionThr == "0010"){
		if(gfn_isNull(sB2bEmpleCi) || sB2bEmpleCi.length != 88){
			if(confirm("B2B사원의 CI가 정상적이지 않습니다. 그래도 저장하시겠습니까?") == false){
				return false;
			}
		}
	}	
		
	if (gfn_isNull(edt_b2b_comp_nm.value)) { // B2B회사명 없다면 코드 초기화
		gv_b2b_comp_cd = "";
	}
	
	if (gfn_isNull(edt_sm_shop_nm.value)) {  // 매장명 없다면 코드 초기화
		gv_sm_shop_info = "";
	}
	
	if (gfn_isNull(edt_b2b_emple_ci.value)) { // B2B회사 사원 CI 없다면 CI 초기화
		edt_b2b_emple_ci.value = "";
	}
	
	//후 할인 회차
	if(gfn_isNull(spn_new_chan_gunsu.value)) spn_new_chan_gunsu.value = 0;

	if (gfn_isNull(edt_accnt_no.value)) {  	
		// 상품 등록		
		gv_regFg = "Y";
	} else {
		// 상품 수정
		gv_regFg = "N";
	}
	
	// CTI통화이력ID가 TOP에 있을 경우(통화중)
	// 없다면 현재 상담의 CTI통화이력ID로 설정
	var sCtiCrncDtlId = ap_TopFrame.form.gv_cti_crnc_dtl_id;
	if (gfn_isNull(sCtiCrncDtlId)) {
		if (parent.div_cons_memo.tab_cons.tp_cons1.div_cons1.ds_cons.rowcount > 0) {
			sCtiCrncDtlId = parent.div_cons_memo.tab_cons.tp_cons1.div_cons1.ds_cons.getColumn(0, "cti_crnc_dtl_id");
		}
	}
	
	ds_prod.addColumn("cti_crnc_dtl_id", "string", 256);
	ds_prod.setColumn(0, "cti_crnc_dtl_id", sCtiCrncDtlId);	// CTI 통화 내역 ID
	
	ds_prod.addColumn("mem_nm", "string", 256);	
	
	gv_mem_no = parent.div_member.ds_member.getColumn(0, "mem_no");
	ds_prod.setColumn(0, "mem_no", gv_mem_no);
	ds_prod.setColumn(0, "emple_no", gv_emple_no);
	ds_prod.setColumn(0, "bef_emple_cd", gv_bef_emple_cd);
	ds_prod.setColumn(0, "prod_model_kind", cbo_prod_model_kind.value);
	ds_prod.setColumn(0, "prod_model_cd", cbo_prod_model_cd.value);
	ds_prod.setColumn(0, "prod_kind", cbo_prod_kind.value);
	ds_prod.setColumn(0, "b2b_comp_cd", gv_b2b_comp_cd);
	ds_prod.setColumn(0, "sm_shop_info", gv_sm_shop_info);
	ds_prod.setColumn(0, "kydate", cal_kydate.value);
	ds_prod.setColumn(0, "kstbit", Combo_kstbit.value);
	ds_prod.setColumn(0, "order_num" , gfn_Trim(edt_order_num.value));	
	ds_prod.setColumn(0, "b2b_emple_ci", edt_b2b_emple_ci.value); // B2B사원CI
	
	if (gv_jobsel == '2'){
		//업데이트 시 변경된 컬럼정보 MAKE
		if(gv_accnt_no != ""){
			if(!fn_changedColumn()){
				alert("변경된 정보가 없습니다.");
				return false;
			}
		}
	}
	
	ds_prod.setColumn(0, "mem_nm", parent.div_member.ds_member.getColumn(0, "mem_nm")); // 회원명(주소관리-설치장소 처리위해)
	
	// 납입주기
	return true;
}

//데이터 업데이트시 ASIS데이터와 TOBE데이터 비교 후 변경된 데이터를 넘김
function fn_changedColumn(){	
	var arrText = "";
	var asisData = "";
	var tobeData = "";
	var returnVal = false;
	for(var i=0; i<ds_prod.colcount; i++){
		asisData = ds_prod.getOrgColumn(0,i);	
		tobeData = ds_prod.getColumn(0,i);		
		if(asisData == undefined) asisData = "";
		if(tobeData == undefined) tobeData = "";	
	
		if(asisData != tobeData){
			//b2b회사명 변경된건 체크 안함
			if (ds_prod.getColID(i) != "b2b_comp_nm") {
				arrText = arrText + ds_prod.getColID(i) + "\\|";	
				returnVal = true;
			}					
		} 		
	}	
	//변경된 컬럼 정보 global var
	gv_updData = arrText;			
	return returnVal;
}

/********************************************************************************************/
/**   5. 서비스 호출(gfn_Transaction)                                                   	*/
/********************************************************************************************/
// 상품 조회
function fn_commSearch(sType) {
    fn_srch_prod_info(sType);
}

//가입상품 리스트 조회
function fn_srch_prod_info(sType)
{	
	if (!fn_preSrchProdInfo(sType)) return false;
	
	var szSvcid       = "srchProdList";
    var szController  = "/dlw/newTypeCons/list";
    var szInDs        = "ds_input=ds_inqCndt_prod";
    var szOutDs       = "ds_list_prod=ds_output";
    var szParam       = "";
    var szRetCallback = "fn_callBack";
	
    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

//선택 된 가입상품 데이터 조회
function fn_srch_prod_dtl()
{		
	ds_inqCndt_prod.clearData();
	ds_inqCndt_prod.addRow();	
	ds_inqCndt_prod.setColumn(0,"accnt_no",gv_accnt_no);
	
	var szSvcid       = "srchProdListDetail";
    var szController  = "/dlw/newTypeCons/list_dtl";
    var szInDs        = "ds_input=ds_inqCndt_prod";
    var szOutDs       = "ds_prod=ds_output";
    var szParam       = "";
    var szRetCallback = "fn_callBack";
	
    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

// 해약금 조회
function fn_srchResnAmt()
{
	ds_resnAmt.clearData();
	ds_resnAmt.addRow();
	ds_resnAmt.setColumn(0, "accnt_no", ds_prod.getColumn(0, "accnt_no"));
	ds_resnAmt.setColumn(0, "ci_val", parent.div_member.ds_member.getColumn(0, "ci_val"));
	ds_resnAmt.setColumn(0, "r_gubn", ds_prod.getColumn(0, "r_gubn"));
	
	var szSvcid       = "srchResnAmt";
//    var szController  = "/dlw/cons-prod/resn-amt";
    var szController  = "/dlw/newTypeCons/resn-amt";
    var szInDs        = "ds_input=ds_resnAmt";
    var szOutDs       = "ds_resnAmt=ds_output";
    var szParam       = ""
    var szRetCallback = "fn_callBack";
	
    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

// 부가서비스 리스트 조회
function fn_srchProdSrvc()
{
	if (!fn_preSrchProdSrvc()) return false;
	
	var szSvcid       = "srchProdSrvc";
//    var szController  = "/dlw/cons-prod/srvc-list";
    var szController  = "/dlw/newTypeCons/srvc-list";
    var szInDs        = "ds_input=ds_inqCndt_procSrvc";
    var szOutDs       = "ds_list_tmp_prodSrvc=ds_output";
    var szParam       = ""
    var szRetCallback = "fn_callBack";
	
    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

// 할인우대권 체크
function fn_chkRandNum()
{
	if (gfn_isNull(edt_rand_num.value)) return false;
	
	var szSvcid       = "chkRandNum";
    var szController  = "/dlw/newTypeCons/chk-rand-num";
    var szInDs        = "";
    var szOutDs       = "ds_randNum=ds_output";
    var szParam       = "rand_num="+edt_rand_num.value;
    var szRetCallback = "fn_callBack";
	
    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

// 모델분류 조회
function fn_srchModelTyp(sType)
{
	var sProdCd = "";
	sProdCd = ds_prod.getColumn(0, "prod_cd");
	
	if (gfn_isNull(sProdCd)) {
		alert("상품코드가 없습니다.");
		return false;
	}	
	var szSvcid       = "srchModlTyp";
    var szController  = "/dlw/newTypeCons/modl-list/modlTyp";
    var szInDs        = "";
    var szOutDs       = "ds_cbo_modlTyp=ds_output";
    var szParam       = "prod_cd=" + sProdCd;
    var szRetCallback = "fn_callBack";
	
    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

// 모델분류에 따른 모델명, 상품종류 조회
function fn_srchModlNm()
{
	if (gfn_isNull(edt_prod_cd.value)) {
		alert("상품코드가 없습니다.");
		return false;
	} else if (gfn_isNull(cbo_prod_model_kind.value)) {
		alert("모델분류가 없습니다.");
		return false;
	}
		
	var szSvcid       = "srchModlNm";
    var szController  = "/dlw/newTypeCons/modl-list/modlNm";
    var szInDs        = "";
    var szOutDs       = "ds_cbo_modlNm=ds_output ds_cbo_prdtKind=ds_subOutput";
    var szParam       = "prod_cd="+edt_prod_cd.value+" prod_kind="+cbo_prod_model_kind.value+" continued=Y";
    var szRetCallback = "fn_callBack";
	
    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

// 회원의 리조트 정보 조회
function fn_srchResortInfo()
{	
	var szSvcid       = "srchResortInfo";
    var szController  = "/dlw/newTypeCons/resort-info";
    var szInDs        = "";
    var szOutDs       = "ds_resortInfo=ds_output";
    var szParam       = "mem_no="+parent.div_member.mem_no.value;
    var szRetCallback = "fn_callBack";
	
    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

// 회원 상품 정보 수정 시 체크 해야 할 사항 (청구중 및 등등)
function fn_srchAccntCheck(sType)
{	
	//회원상품 체크 데이터셋 초기화
	ds_accnt_chk.clearData();
	
	var szSvcid       =  "";
	if (sType == "UPDATE"){
		szSvcid = "srchAccntCheck";
	} else {
		szSvcid = "srchPayMthdCheck";
	}
		
    var szController  = "/dlw/newTypeCons/accnt_chk";
    var szInDs        = "";
    var szOutDs       = "ds_accnt_chk=ds_output";
    var szParam       = "accnt_no="+gv_accnt_no;
    var szRetCallback = "fn_callBack";
	
    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

// 2구좌 가입 제한 확인
function fn_srchNoSaleAccnt(sType)
{
	ds_saleAccnt.clearData();
	ds_saleAccnt.addRow();
	ds_saleAccnt.setColumn(0, "prod_cd", edt_prod_cd.value);
	ds_saleAccnt.setColumn(0, "emple_no", gv_emple_no);
	ds_saleAccnt.setColumn(0, "gubun", sType);
	ds_saleAccnt.setColumn(0, "result_flag", "N");

	var szSvcid       = "srchNoSaleAccnt";
//    var szController  = "/dlw/cons-prod/no-sale-accnt";
    var szController  = "/dlw/newTypeCons/no-sale-accnt";
    var szInDs        = "ds_input=ds_saleAccnt";
    var szOutDs       = "ds_saleAccnt=ds_output";
    var szParam       = "";
    var szRetCallback = "fn_callBack";
	
    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

// 상품 저장
function fn_saveProd()
{			
	if (!fn_preSaveProd()) return false;	

	var szSvcid       = "saveMemProdAccnt";
	var sMarktYn = "";
	
	if(gv_jobsel=="1"){
		var szSvcid       = "insertMemProdAccnt";	
		var sProdCd = edt_prod_cd.value;
		var sProdNm = edt_prod_nm.value;
		sMarktYn = parent.div_member.cbo_markt_agr_yn.value;
		
		if(confirm("등록하시는 상품은 [" + sProdCd + "] " + sProdNm + " 입니다. 등록하시겠습니까?") == false)
		{
			return false;
		}
		
	}
	
	
	var szController  = "/dlw/newTypeCons/prod_save";
	var szInDs        = "ds_input=ds_prod ds_subInput=ds_list_prodSrvc ds_prod_old_input=ds_prod_old";
	var szOutDs       = "ds_prod=ds_output";
	var szParam       = "pUpdData=" + gv_updData +" double_accnt="+gv_double_accnt +" markt_agr_yn="+sMarktYn;
	var szRetCallback = "fn_callBack";
	
	// 트랜젝션 공통함수 호출
	gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

// 상품 삭제 여부 체크
function fn_delProd()
{
	if (ds_prod.getColumn(0, "accnt_no") == "00000") {
		alert("기타문의는 삭제할 수 없습니다.");
		return false;
	}
	
	if (confirm("해당 상품을 삭제하시겠습니까?")) {
		if (gfn_isNull(ds_prod.getColumn(0, "mem_no"))) {
			alert("회원고유번호가 없습니다.");
			return false;
		}
		
		if (gfn_isNull(ds_prod.getColumn(0, "accnt_no"))) {
			alert("회원번호가 없습니다.");
			return false;
		}
	
		var szSvcid       = "wdrwReqSrch";
		var szController  = "/dlw/cons-prod/wdrw-req-srch";
		var szInDs        = "";
		var szOutDs       = "";
		var szParam       = "accnt_no="+ds_prod.getColumn(0, "accnt_no");
		var szRetCallback = "fn_callBack";
			
		// 트랜젝션 공통함수 호출
		gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
	}
}

// 상품정보 삭제
function fn_deleteMemProdAccnt()
{
	// CTI통화이력ID가 TOP에 있을 경우(통화중)
	// 없다면 현재 상담의 CTI통화이력ID로 설정
	var sCtiCrncDtlId = ap_TopFrame.form.gv_cti_crnc_dtl_id;
	if (gfn_isNull(sCtiCrncDtlId)) {
		if (parent.div_cons_memo.tab_cons.tp_cons1.div_cons1.ds_cons.rowcount > 0) {
			sCtiCrncDtlId = parent.div_cons_memo.tab_cons.tp_cons1.div_cons1.ds_cons.getColumn(0, "cti_crnc_dtl_id");
		}
	}

	ds_deleteProdInfo.clearData();
	ds_deleteProdInfo.addRow();
	ds_deleteProdInfo.setColumn(0, "accnt_no", ds_prod.getColumn(0, "accnt_no"));
	ds_deleteProdInfo.setColumn(0, "mem_no", ds_prod.getColumn(0, "mem_no"));
	ds_deleteProdInfo.setColumn(0, "cti_crnc_dtl_id", sCtiCrncDtlId);
	ds_deleteProdInfo.setColumn(0, "prod_cd", ds_prod.getColumn(0, "prod_cd"));
	ds_deleteProdInfo.setColumn(0, "prod_nm", ds_prod.getColumn(0, "prod_nm"));
	ds_deleteProdInfo.setColumn(0, "emple_no", ds_prod.getColumn(0, "emple_no"));
	ds_deleteProdInfo.setColumn(0, "emple_nm", ds_prod.getColumn(0, "emple_nm"));
	
	var szSvcid       = "deleteMemProdAccnt";
//	var szController  = "/dlw/cons-prod/delete";
	var szController  = "/dlw/newTypeCons/delete";
	var szInDs        = "ds_input=ds_deleteProdInfo";
	var szOutDs       = "";
	var szParam       = "";
	var szRetCallback = "fn_callBack";
			
	// 트랜젝션 공통함수 호출
	gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

// 부가정보 조회
function fn_srchBugaInfo()
{
	var szSvcid       = "srchBugaInfo";
//    var szController  = "/dlw/card/buga-info";
    var szController  = "/dlw/newTypeCons/buga-info";
    var szInDs        = "";
    var szOutDs       = "ds_bugaInfo=ds_output";
    var szParam       = "accnt_no=" + edt_accnt_no.value;
    var szRetCallback = "fn_callBack";
	
    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback, false);
}

// 금일 조회 이력 저장
function fn_insertSrchHist()
{
	var szSvcid       = "insertSrchHist";
//    var szController  = "/dlw/cons-prod/hist/insert";
    var szController  = "/dlw/newTypeCons/hist/insert";
    var szInDs        = "";
    var szOutDs       = "";
    var szParam       = "accnt_no=" + edt_accnt_no.value;
    var szRetCallback = "";
	
    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

/********************************************************************************************/
/**   6. 사용자 함수                                                                   	*/
/********************************************************************************************/
// 초기화
function fn_init(sType)
{
	ds_prod.clearData();
	ds_list_prodSrvc.clearData(); // 상품에 따른 부가서비스 리스트
	ds_cbo_modlTyp.clearData();
	
	parent.div_buga.fn_initOdrg(); // 발주정보 초기화
	parent.div_cms_hstr.fn_init(); // 해약정보/납입이력/결제정보/청구내역 초기화
	
	if (sType != "ADD"){
		ds_list_prod.clearData(); // 상품 리스트
	}	
	cal_join_dt.enable = false;
		
	cbo_pay_mthd.index = 1;       // 납입방법
	cbo_join_cl.index = 1;        // 가입구분
	cbo_pay_gubun.index = 0;      // 리조트 회원구분
	cbo_ja_subscrpt_yn.index = 1; // 구독여부
	cbo_ocb_point_yn.index = 1;
	cbo_hpcl_stat_cd.index = 0;	  // 해피콜 상태
	
	spn_new_chan_gunsu.value = 0;
	edt_resn_amt.value = "";
	
	//mae_inspl_zip.mask = "";
	mae_edt_reg_dm.mask = "";
	mae_ocb_crt_dt.mask = "";
	
	// 상품가격 초기화 (현재 사용 안함)
	//edt_prod_amt.value = "";
	
	//설치완료일자초기화 (현재 사용 안함)
	//cal_kydate.value =""
	
	// 알림창 초기화 
	edt_info.value = "";
	
	// 전역변수 초기화
	gv_mem_no = "";          // 고유번호
	gv_accnt_no = "";        // 회원번호
	gv_emple_no = "";        // 담당사원
	gv_bef_emple_cd = "";    // 모집사원
	gv_b2b_comp_cd = "";     // B2B 회사코드
	gv_sm_shop_info = "";    // 삼성 매정코드
	isChgPayGubun = "Y";
	gv_oldCboPayGubunIdx = 0;
	gv_smartLifeFg = "N";
	gv_regFg = "N";
	
		
	// 보기모드 상품 정보 변경 제한 처리
	// 1. "div_prod_disable" DIV "BringToFront" 실행!
	// 2. 보기모드에서 클릭 가능한 회원번호 상품내용, 증서 버튼, 설치장소 우편주소 항목 "BringToFront" 실행!!!
	div_prod_disable.style.background = "#ffffffff";
	div_prod_disable.style.opacity = "15%";
//	div_prod_disable.style.opacity = "90%";
	div_prod_disable.position.top = 101;
	div_prod_disable.position.bottom = 277;
	div_prod_disable.position2.left = stc_prod_start.position2.left;
	div_prod_disable.visible = true;
}

// 컴퍼넌트제어(NEWTYPE)
function fn_setComponent(sType)
{
	trace("#########컴퍼넌트(" + sType +") 세팅############");
	switch(sType){
		// 초기화 (회원 상품 정보 없을 때 세팅)
		case "NULL" :
			btn_save_prod.visible = false;		// 상품 저장 버튼
			btn_cancel_prod.visible = false;	// 취소 버튼
			btn_del_prod.visible = false;		// 삭제 버튼
			btn_update_prod.visible = false;	// 수정 버트	
			btn_srchProd.visible = false;		// 상품 검색 돋보기 버튼			
			btn_srchEmple.visible = false;    	// 담당사원
			btn_befEmple.visible = false;     	// 모집사원
			btn_srchB2bComp.visible = false;  	// B2B회사						
			btn_cnctRgsn.visible = false;     	// 해약등록
			btn_evnt_ip.visible = false;      	// 행사등록
			btn_certf.enable = false;		  	// 증서
			//btn_amtUseshow.visible = false;		//쇼핑몰연동
			btn_accntRecList.enable = false;
						
			// 2차전송 버튼 여부 초기엔 계약문자발송을 제외한 모든 버튼은 안보이는걸로 세팅
			btn_niceSecondSend.visible = false;	//계약문자발송
			edt_b2b_emple_ci.enable = false;	
					
			// 2019. 05. 22 김주용
			// 상품 조회시 만기연장 버튼활성화
			btn_mangiExt.enable = false;	
							
			// 임의필드 버튼 활성화 
			btn_userOption.enable = false;
			
			btn_updateCardCms.visible = false;	// CMS/카드 수정		(※현재 사용안함)
			btn_srchEvent.visible = false;   	// 행사조회 			(※현재 사용안함)
			btn_smartLifeReg.visible = false;	// 삼성카드 등록 		(※현재 사용안함)
			btn_srchshow.visible = false;   	// 공연혜택 			(※현재 사용안함)
			btn_appfmNo.visible = false;      	// 신청서 				(※현재 사용안함)
			btn_samsung.visible = false;		// 삼성카드 확인 		(※현재 사용안함)
			btn_shinhan.visible = false; 		// 신한카드 확인		(※현재 사용안함)
			
			// 상품 추가 버튼 위치 초기화 및 VISIBLE
			btn_add_prod.position2 = "absolute r:4 w:72 t:3 h:20";
			btn_add_prod.visible = true;
			
			// 단체건수
			edt_insert_cnt.enable = false;
			
			// 데이터 초기화
			fn_init();
			
		break;
		
		// 선택된 상품 조회 후 컴퍼넌트 처리
		case "SEARCH" :
			// 단체건수
			edt_insert_cnt.enable = false;
			
			//선택되어 조회된 회원의 상품 컴퍼넌트 재배치
			fn_SelCompArray();
			
			//선택된 상품의 하단 정보(발주 및 결제정보)
			fn_selBottomList();
				
			//만기연장 조회
			//fn_getMemberMangiExtConfirmList();
			
			if(parent.name == "DL500002") {
				fn_setBtnVisible();
			}
			
			var strInfo = "";
			var sLtermYn = ds_prod.getColumn(0, "prod_longterm_yn"); //장기할부
			var smanDay = ds_prod.getColumn(0, "man_day"); //만기일자
			var smanStat = ds_prod.getColumn(0, "man_stat"); //만기상태
			
			if(gfn_isNull(edt_info.value) && sLtermYn == "Y") {
				strInfo = "장기할부상품 입니다.";				
			}
			
			//만기상태 알림 선택
			switch(smanStat){
				case "MAN" :
					strInfo = "만기환급대상확인";			
				break;	
				case "MAN02" :
					strInfo = "만기연장대상(방어X)";			
				break;										
				case "NOR" :
					strInfo = "";			
				break;								
				default:
					strInfo = smanStat + "신청완료";			
				break;
			}
						
			edt_info.value = strInfo;			
		break;
		
		// 선택된 상품 조회 후 컴퍼넌트 처리 단 하단 정보는 호출하지 않는다 (단순 저장이거나, 수정 취소)
		case "SEARCH_C" :
			// 단체건수
			edt_insert_cnt.enable = false;
			
			//선택되어 조회된 회원의 상품 컴퍼넌트 재배치
			fn_SelCompArray();
			
		break;		
		
		case "UPDATE":						
			btn_save_prod.position2 = "absolute r:79 w:72 t:3 h:20";
			btn_cancel_prod.position2 = "absolute r:4 w:72 t:3 h:20";

			btn_add_prod.visible = false;		//상품추가
			btn_update_prod.visible = false;	//수정					
			//btn_certf.visible = true;		  // 증서
			
			//btn_amtUseshow.visible = true;		//쇼핑몰연동
			edt_b2b_emple_ci.enable = true;
			btn_main_contract.enable = true;     //주계약
			btn_accntRecList.enable = false;
			
			// 2019. 05. 22 김주용
			// 상품 조회시 만기연장 버튼활성화
			btn_mangiExt.enable = true;
			
			btn_save_prod.visible = true;
			btn_cancel_prod.visible = true;
			btn_srchB2bComp.visible = true;  // B2B회사	
				
			//모델분류 컴퍼넌트 재배치
			cbo_prod_model_kind.visible = true;
			edt_prod_model_kind.visible = false;
			
			cbo_prod_model_cd.value = true;
			edt_prod_model_cd.visible = false;
			
			cbo_prod_kind.value = true;
			edt_prod_kind.visible = false;	
			
			
			// 수정모드 상품 정보 변경 제한 해제
			div_prod_disable.visible = false;
			
			// 단체건수
			edt_insert_cnt.enable = false;
										
			// 수정 시 회원상품이 청구중이면 청구에 영향을 주는 컴퍼넌트를 막는다
			if(gv_able_prod_update != "NONE"){				
				edt_info.value = "산출(청구) 중 [변경 불가능 컴퍼넌트 있음]";									
				cbo_pay_mthd.enable = false;
				spn_new_chan_gunsu.enable = false;
			} else {										
				cbo_pay_mthd.enable = true;
				spn_new_chan_gunsu.enable = true;
			}
			
			// 수정 시 회원 상태가 가입상태(1회이상 납입)이면 상품 정보 수정 못하게 한다						
			if (gv_join_stat == "01"){
// 				edt_prod_cd.readonly = false;
// 				edt_prod_nm.readonly = false;
//				btn_srchProd.visible = true;
				cbo_prod_model_kind.readonly = false;
				
				// 담당사원&모집사원 변경 제한
				edt_emple_nm.readonly = false;
				edt_bef_emple_nm.readonly = false;	
								
				btn_srchEmple.visible = true; 
				btn_befEmple.visible = true;  
			} else {
				edt_prod_cd.readonly = true;
				edt_prod_nm.readonly = true;
				btn_srchProd.visible = false;
				cbo_prod_model_kind.readonly = true;
				
				// 담당사원&모집사원 변경 제한
				edt_emple_nm.readonly = true;
				edt_bef_emple_nm.readonly = true;	
				
				btn_srchEmple.visible = false;
				btn_befEmple.visible = false;
			}
			
			//SDP상품 용 컴퍼넌트 수정 
			var sdpSection = ds_prod.getColumn(0,"section_thr");
						
			if (sdpSection == "0010"){
				fn_setSmShopInfo("Y", true); // 삼성매정 표출 여부
			} else {
				fn_setSmShopInfo("N", true); // 삼성매정 표출 여부
			}
			
			/*장기할부상품 수정시 장기할부관리 조건에 따른 납입방법 처리*/
			var sLtermYn = ds_prod.getColumn(0, "prod_longterm_yn");
			var sLtermUse = ds_prod.getColumn(0, "lti_use_yn");
			
			if (sLtermYn == "Y" && sLtermUse == "Y"){
				cbo_pay_mthd.value = "06";
				cbo_pay_mthd.enable = false;
				cbo_hpcl_stat_cd.enable = false;
			}else {
				cbo_pay_mthd.enable = true;
				cbo_hpcl_stat_cd.enable = true;
			}															
		break;
		
		case "ADD":						
			ds_prod.addRow();		
			cal_join_dt.enable = true;
			cal_join_dt.value = gfn_getToday();
		
			btn_save_prod.position2 = "absolute r:79 w:72 t:3 h:20";
			btn_cancel_prod.position2 = "absolute r:4 w:72 t:3 h:20";		
			btn_del_prod.visible = false;
			btn_add_prod.visible = false;
			btn_update_prod.visible = false;		
			btn_srchProd.visible = true;
			btn_certf.enable = false;		  	// 증서
			btn_srchEmple.visible = true;    	// 담당사원
			btn_befEmple.visible = true;     	// 모집사원						
			//btn_amtUseshow.visible = false;		// 쇼핑몰연동
			btn_save_prod.visible = true;
			btn_cancel_prod.visible = true;
			btn_srchB2bComp.visible = true;  	// B2B회사
			btn_accntRecList.enable = false;
							
			// 2019. 05. 22 김주용
			// 상품 조회시 만기연장 버튼활성화
			btn_mangiExt.enable = false;
			
			//납입방법 
			cbo_pay_mthd.enable =true;		  
									
			// 담당사원&모집사원 변경 제한 해제
			edt_emple_nm.readonly = false;
			edt_bef_emple_nm.readonly = false;
			edt_b2b_emple_ci.enable = true;	
			
			//btn_appfmNo.visible = true;      // 신청서
			
			// 단체건수
			edt_insert_cnt.enable = true;
			
			//상품 모델 데이터셋 초기화
			edt_prod_cd.readonly = false;
			edt_prod_nm.readonly = false;
			
			ds_cbo_modlTyp.clearData();
			ds_cbo_modlNm.clearData();
			ds_cbo_prdtKind.clearData();
			
			//모델분류 컴퍼넌트 재배치
			cbo_prod_model_kind.visible = true;
			edt_prod_model_kind.visible = false;
			cbo_prod_model_kind.readonly = false;
			
			cbo_prod_model_cd.value = true;
			edt_prod_model_cd.visible = false;
			
			cbo_prod_kind.value = true;
			edt_prod_kind.visible = false;	
								
			//btn_bugaInfo.visible = false;
	
			// 수정모드 상품 정보 변경 제한 해제
			div_prod_disable.visible = false;
			
			// 수정모드 부가서비스 정보 변경 제한 처리
			div_prod_srvc_disable.visible = false;	
			
			// 상품추가 시 기초데이터 setting				
			var emple_nm = "";
			cbo_join_cl.value = "04";			// 가입구분
			cbo_hpcl_stat_cd.index = "0";			// 해피콜상태
										
			gv_emple_no = gds_UserInfo.getColumn(0, "user_id"); // 담당사원
			emple_nm	= gds_UserInfo.getColumn(0, "user_nm"); // 담당사원명
			gv_bef_emple_cd    = gv_emple_no; // 모집사원
						
			/* 
			// 등록을 따로 할수 있도록 자동 등록을 삭제
			ds_prod.setColumn(0,"emple_no",gv_emple_no);
			ds_prod.setColumn(0,"emple_nm",emple_nm);
			
			ds_prod.setColumn(0,"bef_emple_cd",gv_bef_emple_cd);
			ds_prod.setColumn(0,"bef_emple_nm",emple_nm);
			*/	
		break;
		
		// 새마을금고 채권 관리 용 컴퍼넌트 세팅
		case "TM40" :
			btn_cnctRgsn.enable = false;		// 해약등록
			btn_evnt_ip.enable = false;			// 행사등록	
			//btn_amtUseshow.enable = false;		// 쇼핑몰연동	
			btn_add_prod.enable = false;		// 상품 추가
			btn_update_prod.enable = false;		// 상품 수정
			btn_del_prod.enable = false;		// 상품 삭제
			btn_save_prod.enable = false;		// 상품 저장
			btn_cancel_prod.enable = false;		// 상품 취소
			btn_srchEmple.enable = false;		// 담당사원
			btn_befEmple.enable = false;		// 모집사원
			btn_srchB2bComp.enable = false;		// B2B회사
			btn_srchSmShop.enable = false;		// 삼디프 매장
			btn_srchPhoneTyp.enable = false;	// 전화번호 가져오기
			btn_memberAddr.enable = false;		// 주소 가져오기
			btn_certf.enable = false;			// 증서	
			btn_accntRecList.enable = false;
			
			// 단체건수
			edt_insert_cnt.enable = false;
		break;
	
	}	
}

//선택되어 조회된 회원의 상품 컴퍼넌트 재배치 
function fn_SelCompArray(){

	//ASIS 데이터 담기 
	ds_prod_old.clearData();
	ds_prod_old.addRow();
	ds_prod_old.copyRow(0, ds_prod, ds_prod.rowposition); // 상품정보 변경전 데이터셋 저장
	
	// 모델 분류 설정 (COMBO -> EDIT)
	fn_setModelCombo("VIEW");

	// 리조트 회원 설정 (※현재 사용안함)
	//fn_chngResort();          
		
	//버튼 정렬		
	//btn_amtUseshow.position2 = "absolute r:154 w:72 t:3 h:20" 		// 쇼핑몰연동
	btn_niceSecondSend.position2 = "absolute r:154 w:78 t:3 h:20";	// 나이스 전자계약 발송(쇼핑몰키 활성화시 r:230)
	//btn_concCmpl.position2 = "absolute l:429 w:60 t:3 h:20";		// 계약 완료
	btn_add_prod.position2 = "absolute r:79 w:72 t:3 h:20";			// 상품추가 버튼
	btn_update_prod.position2 = "absolute r:4 w:72 t:3px h:20";		// 상품 수정 버튼						
	//edt_rec_dual_hr.position2 = "absolute l:366 w:60 t:3 h:20";		// 녹취
	gfn_phoneNumObj(edt_inspl_phone);
	mae_edt_reg_dm.mask = "####-##-##";
	mae_ocb_crt_dt.mask = "####-##-##";
	
	//알림창 초기화
	edt_info.value = "";
				
	// 2018.05.28 EC,ED,EE,EF,EG,EH 상품코드 일 경우는 파란색 볼드 처리...	
	var sProdCd = edt_prod_cd.value ;
	if(sProdCd == "EC" || sProdCd == "ED"||sProdCd == "EE"|| sProdCd == "EF" || sProdCd == "EG" || sProdCd == "EH")
	{
		edt_prod_cd.style.color = "blue";
		edt_prod_cd.style.font = "Dotum,9,bold";
		edt_prod_nm.style.color = "blue";
		edt_prod_nm.style.font = "Dotum,9,bold";
		edt_prod_model_kind.style.color = "blue";
		edt_prod_model_kind.style.font = "Dotum,9,bold";
	}
	// 2019.02.19 FV,FW,FX,FY 상품코드 일 경우는 초록색 볼드 처리...	
	else if(sProdCd == "FV" || sProdCd == "FW" || sProdCd == "FX" || sProdCd == "FY")
	{
		edt_prod_cd.style.color = "green";
		edt_prod_cd.style.font = "Dotum,9,bold";
		edt_prod_nm.style.color = "green";
		edt_prod_nm.style.font = "Dotum,9,bold";
		edt_prod_model_kind.style.color = "green";
		edt_prod_model_kind.style.font = "Dotum,9,bold";
	}
	// 2019.02.19 FV,FW,FX,FY 상품코드 일 경우는 초록색 볼드 처리...	
	else if(sProdCd == "HA" || sProdCd == "HB" || sProdCd == "HC" || sProdCd == "HD")
	{
		edt_prod_cd.style.color = "maroon";
		edt_prod_cd.style.font = "Dotum,9,bold";
		edt_prod_nm.style.color = "maroon";
		edt_prod_nm.style.font = "Dotum,9,bold";
		edt_prod_model_kind.style.color = "maroon";
		edt_prod_model_kind.style.font = "Dotum,9,bold";
	}	
	else
	{
		edt_prod_cd.style.color = "red";
		edt_prod_cd.style.font = "Dotum,9";
		edt_prod_nm.style.color = "red";
		edt_prod_nm.style.font = "Dotum,9";
		edt_prod_model_kind.style.color = "red";
		edt_prod_model_kind.style.font = "Dotum,9";
	}
	
	var nMangiPeriod = toNumber(edt_mangiPeriod.value);
	
	if(nMangiPeriod > 0)
	{
		cal_man_day.style.font = "Dotum,9,bold";
		cal_man_day.style.color = "red";
	}
	else
	{
		cal_man_day.style.font = "Dotum,9";
		cal_man_day.style.color = "#333333ff";
	}

	edt_accnt_no.visible = true;	
	btn_add_prod.visible = true;
	edt_prod_cd.readonly = true;	
	edt_prod_nm.readonly = true;	
	btn_update_prod.visible = true;
	btn_srchProd.visible = false;
	btn_srchEmple.visible = false;    // 담당사원
	btn_befEmple.visible = false;     // 모집사원
	//btn_amtUseshow.visible = true;		//쇼핑몰연동		
	btn_certf.enable = true;		  // 증서
	btn_accntRecList.enable = true;
	
	btn_srchB2bComp.visible = false;  // B2B회사						
	edt_sm_shop_nm.readonly = true	  // 삼성매장정보 
	btn_srchSmShop.visible = false;
	edt_b2b_emple_ci.enable = false;
	btn_main_contract.enable = false; // 주계약
		
	// 임의필드 버튼 활성화 
	btn_userOption.enable = true;
	
	// 2019. 05. 22 김주용
	// 상품 조회시 만기연장 버튼활성화
	btn_mangiExt.enable = true;

	gv_emple_no = ds_prod.getColumn(0, "emple_no");
	gv_bef_emple_cd = ds_prod.getColumn(0, "bef_emple_cd");
	gv_b2b_comp_cd = ds_prod.getColumn(0, "b2b_comp_cd");	
	gv_join_stat = ds_prod.getColumn(0, "kstbit");	
		
	//fn_srchProdSrvc(); // 부가서비스 리스트 조회
	//fn_srchBugaInfo(); // 부가 정보 조회
	
	btn_event_stat.visible = false;
	if (gv_join_stat == "02"){		
		btn_cnctRgsn.visible = true;
		btn_evnt_ip.visible = true;
	} else {
		btn_event_stat.visible = true;
		btn_cnctRgsn.visible = false;
		btn_evnt_ip.visible = false;
	}
	if (gv_join_stat == "01"){		
		btn_event_stat.visible = false;
		btn_evnt_ip.visible = true;
	}
	
	// 보기모드 상품 정보 변경 제한 처리
	// 보기모드에서 클릭 가능한 증서(btn_certf) 버튼은 맨 앞으로 가져와야 함!
	div_prod_disable.visible = true;
	
	//나이스 전자계약 버튼 PROCESS 실행
	fn_SetNiceBtn();	
	
	parent.div_cons_hstr.fn_srch_mem_cons_hstr(); // 상담이력 조회
}

//선택된 회원의 상품 정보의 발주 정보 및 하단 결제정보 조회 function
function fn_selBottomList(){
	//발주정보 조회
	parent.div_buga.fn_srchOdrgInfo(gv_accnt_no);
	
	//결제정보조회
	parent.div_cms_hstr.gv_accnt_no = gv_accnt_no;
	parent.div_cms_hstr.tab_cms.tabindex = 4;
	if(!gfn_isNull(ds_prod.getColumn(0, "special_bit"))) {
		parent.div_cms_hstr.sta_specialBit.text = ds_prod.getColumn(0, "special_bit");
	} else {
		parent.div_cms_hstr.sta_specialBit.text = "";
	}
	
	parent.div_cms_hstr.fn_srchPayTotInfo();		
	
	//결제정보조회 하단 버튼 재배치
	parent.div_cms_hstr.fn_setVisibleTabDtl();
}

// 콤보 값이 없을 경우 enable 처리
function fn_setEnableCombo()
{	
	// 모델분류
	if (ds_cbo_modlTyp.rowcount == 0) 
	{ 
		cbo_prod_model_kind.enable = false;
	}
	else 
	{
		cbo_prod_model_kind.enable = true;
	}
	
	// 모델명
	if (ds_cbo_modlNm.rowcount == 0) 
	{
		cbo_prod_model_cd.enable = false;
	}
	else 
	{
		cbo_prod_model_cd.enable = true;
	}
	
	// 상품 종류
	if (ds_cbo_prdtKind.rowcount == 0) 
	{
		cbo_prod_kind.enable = false;
	}
	else 
	{
		cbo_prod_kind.enable = true;
	}

}

function fn_SetNiceBtn()
{			
	// 2018.02.19 전자서명 2차 발송 관련 버튼 유무
	
	var sJoinCl     = ds_prod.getColumn(0, "join_cl");
	var sHpclStatCd = ds_prod.getColumn(0, "hpcl_stat_cd");
	var sAuthCode1 = gv_Auth01;
	var sAuthCode2 = gv_Auth02;
		
	if (sJoinCl == "06") // 가입구분이 전자서명인지 아닌지를 먼저 체크함. 20181010
	{
		if(gfn_IsNull(sAuthCode1) == true)
		{
			sAuthCode1 = "";
		}

		if(gfn_IsNull(sAuthCode2) == true)
		{
			sAuthCode2 = "";
		}

		if(gfn_IsNull(sHpclStatCd) == true)
		{
			sHpclStatCd = "";
		}
	
		// 전자서명 인증 이력이 없으면 버튼 삭제
		if (sAuthCode1 == "")
		{
			btn_niceSecondSend.visible = false;
		}
		// 전자서명 인증값이 진행중일때 버튼을 띄우고 계약서 전송 막음
		if (sAuthCode1 == "01" || sAuthCode1 == "02")
		{
			btn_niceSecondSend.text = "계약문자발송";
			btn_niceSecondSend.visible = true;
			btn_niceSecondSend.enable = false;			
		}
	
		// 전자서명 인증값이 완료이고 계약서가 신규일때 계약서 전송 허락 
		if (sAuthCode1 == "03" && sAuthCode2 == "신규")
		{
			btn_niceSecondSend.text = "계약문자발송";
			btn_niceSecondSend.visible = true;
			btn_niceSecondSend.enable = true;			
		}
	
		// 계약서가 진행중일때 버튼을 재전송 변경(인증이 나이스키로 연동 된다)
		if (sAuthCode2 == "04" || sAuthCode2 == "05"){
			btn_niceSecondSend.text = "재전송";
			btn_niceSecondSend.visible = true;
			btn_niceSecondSend.enable = true;			
		}
	
		if (sAuthCode2 == "06"){
			btn_niceSecondSend.text = "증서열람";
			btn_niceSecondSend.visible = true;
			btn_niceSecondSend.enable = true;			
		}
	
		if (sAuthCode2 == "06" && sHpclStatCd == "21")
		{
			btn_niceSecondSend.text = "계약재전송";
			btn_niceSecondSend.visible = true;
			btn_niceSecondSend.enable = true;			
		}	
	}
	else
	{
		btn_niceSecondSend.visible = false;
	}
}		

// 상품 조회 결과
function fn_postSearch()
{
	var setRow = 0;
 	if (ds_list_prod.rowcount <= 1) {
 		mae_edt_reg_dm.mask = "";
 		mae_ocb_crt_dt.mask = "";
 		
 		// 컴퍼넌트 초기화 설정(NEWTYPE)
 		fn_setComponent("NULL");	
 	} else { 	
		// 회원 상품 조회	
		if (gv_accnt_no=="" || gv_accnt_no==null){
			ds_list_prod.rowposition = 0;			
		} else {
			setRow = ds_list_prod.findRow("accnt_no", gv_accnt_no);	
			ds_list_prod.rowposition = setRow;
		}	
		gv_accnt_no = ds_list_prod.getColumn(ds_list_prod.rowposition,"accnt_no");
		fn_setProdAccntNo(gv_accnt_no); // accnt_no로 그리드 선택후 상품 상세정보 설정
 	} 	 
 		
 	if(gv_jobsel == "1") {
		gv_jobsel = "";
		if(confirm("모바일 멤버십 알림톡을\n 발송 하시겠습니까?") == true)
		{
// 			var sPrmr = {mem_no:parent.div_member.ds_member.getColumn(0, "mem_no")
// 			           , mem_nm:parent.div_member.ds_member.getColumn(0, "mem_nm")
// 			           , cell:div_member.ds_member.getColumn(0, "cell")};
// 			var reVal = gfn_diaLog("문자발송", -1, -1, 884, 601, "PS990000::PS994000.xfdl", false, sPrmr, false, false, true);
			
			var sPrmr = {mem_no:parent.div_member.ds_member.getColumn(0, "mem_no")
			           , mem_nm:parent.div_member.ds_member.getColumn(0, "mem_nm")
			           , cell:parent.div_member.ds_member.getColumn(0, "cell")
			           , p_accnt_no : edt_accnt_no.value  
			           , p_gubun : "DL05000104" 
			           , delay :  edt_pay_state.value };
			var reVal = gfn_diaLog("문자발송", -1, -1, 884, 601, "PS990000::PS994000_1.xfdl", false, sPrmr, false, false, true);
		}
 	}
}

// 상품 상세정보 설정
function fn_setProdDtl()
{
	//niceSendingFlag = "N";
	ds_prod.clearData();
	ds_prod.addRow();
	ds_prod.copyRow(0, ds_list_prod, ds_list_prod.rowposition);
	
	ds_chbfProd.clearData();
	ds_chbfProd.addRow();
	ds_chbfProd.copyRow(0, ds_list_prod, ds_list_prod.rowposition); // 상품정보 변경전 데이터셋 저장
	
	//gfn_SetHomeZipMask(mae_inspl_zip);
	gfn_phoneNumObj(edt_inspl_phone);
	
	fn_chngResort();          // 리조트 회원 설정
	fn_setModelCombo("VIEW"); // 모델 설정	
	
	//20180605 LDJ 하드코딩
	//fn_setSmShopInfo(ds_prod.getColumn(0, "smcl"), true); // 삼성매정 표출 여부
	// 2019.02.18 FV,FW,FX,FY 상품코드도 삼성카드 등록버튼 활성화
	var sProdCd = edt_prod_cd.value;
	if(sProdCd == "S7" || sProdCd == "S8" || sProdCd == "S9" || sProdCd == "T0" || sProdCd == "X5" || 
	   sProdCd == "X6" || sProdCd == "EC" || sProdCd == "ED" || sProdCd == "EE" || sProdCd == "EF" || 
	   sProdCd == "EG" || sProdCd == "EH" || sProdCd == "FV" || sProdCd == "FW" || sProdCd == "FX" || sProdCd == "FY" ||
	   sProdCd == "HA" || sProdCd == "HB" || sProdCd == "HC" || sProdCd == "HD"
	   ) {		
		fn_setSmShopInfo("Y", true); // 삼성매정 표출 여부
	} else {		
		fn_setSmShopInfo("N", true); // 삼성매정 표출 여부
	}
	
	//fn_chngPayMthd();         // 카드번호, 계좌번호 설정
	
	cal_join_dt.enable = false;
	
	if (gv_regFg == "Y") {
		fn_newProdAccntPayPopup();
	}
	gv_regFg = "N";
	
	// 상품가격 표시
	edt_prod_amt.value = gfn_setComma(ds_prod.getColumn(0, "prod_amt"));
	
	// 2016. 07. 15 부가서비스 버튼 항시 표출
	//fn_bugaSrvcMemChk(); // 부가서비스 등록 버튼 표출 여부 체크
	btn_bugaInfo.visible = true;
	btn_bugaInfo.enable = true;
	
	if (ds_prod.getColumn(0, "accnt_no") == "00000") { // 기타문의일 경우 회원번호 미표출
		edt_accnt_no.visible = false;
		
		edt_resn_amt.value = "";
		mae_edt_reg_dm.mask = "";
		mae_ocb_crt_dt.mask = "";
		
		ds_list_prodSrvc.clearData();
		
		// 전역변수 초기화
		gv_emple_no = "";
		gv_bef_emple_cd = "";
		gv_b2b_comp_cd = "";
		
		fn_setBtnConr("NULL");
		
		parent.div_buga.fn_init();     // 납입정보 부가서비스 초기화
		parent.div_buga.fn_initOdrg(); // 발주정보 초기화
		parent.div_cms_hstr.fn_init(); // 해약정보/납입이력/결제정보/청구내역 초기화
	} else {
		edt_accnt_no.visible = true;
		mae_edt_reg_dm.mask = "####-##-##";
		mae_ocb_crt_dt.mask = "####-##-##";
		
		gv_emple_no = ds_prod.getColumn(0, "emple_no");
		gv_bef_emple_cd = ds_prod.getColumn(0, "bef_emple_cd");
		gv_b2b_comp_cd = ds_prod.getColumn(0, "b2b_comp_cd");
		
		/*if (ds_prod.getColumn(0, "cms_yn") == "Y") {	// CMS정보수정 버튼 표출
			btn_updateCardCms.text = "CMS정보 수정";
		}
		if (ds_prod.getColumn(0, "pay_mthd") == "06") {	// 카드정보수정 버튼 표출
			btn_updateCardCms.text = "카드정보 수정";
		}*/
		
		fn_setBtnConr("SEARCH");
		
		fn_srchProdSrvc(); // 부가서비스 리스트 조회
		fn_srchBugaInfo(); // 부가 정보 조회
		
		var sType = "";
		if (ds_prod.getColumn(0, "pay_mthd") == "06") sType = "card";
		else sType = "cms";
		
		parent.div_buga.fn_srchBugaSrvcMemInfo(sType, ds_prod.getColumn(0, "accnt_no")); // CMS/카드 회원관리 개별목록 조회
		parent.div_buga.fn_srchOdrgInfo(ds_prod.getColumn(0, "accnt_no"));				 // 발주정보 조회
		//parent.div_cms_hstr.fn_srchCmsHstr(); 											 // 해약정보 조회
		parent.div_cms_hstr.fn_init();
		
		//fn_getWdrwReqAccntConfirm(); //청구고객
	    // 회원조회시 산출 또는 청구중인지 체크
	    fn_getWdrwReqAccntConfirm2();
	    
	    //만기 조회
	    //fn_getMemberMangiExtConfirmList();
	}
	
	// 보기모드 상품 정보 변경 제한 처리
	// 보기모드에서 클릭 가능한 증서(btn_certf) 버튼은 맨 앞으로 가져와야 함!
	div_prod_disable.visible = true;
	
	// 보기모드 부가서비스 정보 변경 제한 처리
	div_prod_srvc_disable.visible = true;
	
	
		
	// 2018.05.28 EC,ED,EE,EF,EG,EH 상품코드 일 경우는 파란색 볼드 처리...	
	var sProdCd = edt_prod_cd.value ;
	if(sProdCd == "EC" || sProdCd == "ED"||sProdCd == "EE"|| sProdCd == "EF" || sProdCd == "EG" || sProdCd == "EH")
	{
		edt_prod_cd.style.color = "blue";
		edt_prod_cd.style.font = "Dotum,9,bold";
		edt_prod_nm.style.color = "blue";
		edt_prod_nm.style.font = "Dotum,9,bold";
		edt_prod_model_kind.style.color = "blue";
		edt_prod_model_kind.style.font = "Dotum,9,bold";
	}
	// 2019.02.19 FV,FW,FX,FY 상품코드 일 경우는 초록색 볼드 처리...	
	else if(sProdCd == "FV" || sProdCd == "FW" || sProdCd == "FX" || sProdCd == "FY")
	{
		edt_prod_cd.style.color = "green";
		edt_prod_cd.style.font = "Dotum,9,bold";
		edt_prod_nm.style.color = "green";
		edt_prod_nm.style.font = "Dotum,9,bold";
		edt_prod_model_kind.style.color = "green";
		edt_prod_model_kind.style.font = "Dotum,9,bold";
	}
	// 2019.02.19 FV,FW,FX,FY 상품코드 일 경우는 초록색 볼드 처리...	
	else if(sProdCd == "HA" || sProdCd == "HB" || sProdCd == "HC" || sProdCd == "HD")
	{
		edt_prod_cd.style.color = "maroon";
		edt_prod_cd.style.font = "Dotum,9,bold";
		edt_prod_nm.style.color = "maroon";
		edt_prod_nm.style.font = "Dotum,9,bold";
		edt_prod_model_kind.style.color = "maroon";
		edt_prod_model_kind.style.font = "Dotum,9,bold";
	}	
	else
	{
		edt_prod_cd.style.color = "red";
		edt_prod_cd.style.font = "Dotum,9";
		edt_prod_nm.style.color = "red";
		edt_prod_nm.style.font = "Dotum,9";
		edt_prod_model_kind.style.color = "red";
		edt_prod_model_kind.style.font = "Dotum,9";
	}		
	

}
   
function fn_niceSendMemberStatus()
{
	ds_niceReSend2.clearData();
	var nRow = ds_niceReSend2.addRow();
		
	//ds_niceReSend2.setColumn(nRow, "ci_val", parent.div_member.ci_val.value);
	ds_niceReSend2.setColumn(nRow, "mem_no", ds_list_prod.getColumn(ds_list_prod.rowposition, "mem_no"));
	ds_niceReSend2.setColumn(nRow, "accnt_no", ds_list_prod.getColumn(ds_list_prod.rowposition, "accnt_no"));
		
	var szSvcid       = "getAcuonLatelyAuth";
//	var szController  = "/web/nice/getAcuonLatelyAuth";
	var szController  = "/dlw/newTypeCons/getAcuonLatelyAuth";
	var szInDs        = "ds_input1=ds_niceReSend2";
	var szOutDs       = "ds_acuonLatelyAuth=ds_output";
	var szParam       = "";
	var szRetCallback = "fn_callBack";

	// 트랜젝션 공통함수 호출
	gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback, false);
}

// 납입 방법에 따른 변경
// 2016. 04. 15 계좌번호 카드번호 숨김 요청
// function fn_chngPayMthd()
// {
// 	if (ds_prod.getColumn(0, "pay_mthd") == "06") { // 납입방법이 카드일 경우
// 		stc_txt_payMthd.text = "카드번호";
// 	} else {
// 		stc_txt_payMthd.text = "계좌번호";
// 	}
// }

// 리조트 구분에 따른 변경
function fn_chngResort()
{
	var sPayGubun = ds_prod.getColumn(0, "pay_gubun");
	if (sPayGubun == "01" || sPayGubun == "02") {
		edt_resort_mem_no.enable = true;
		edt_resort_mem_nm.enable = true;
	} else { // 리조트 비회원일 경우
		edt_resort_mem_no.enable = false;
		edt_resort_mem_nm.enable = false;
		edt_resort_mem_no.value = "";
		edt_resort_mem_nm.value = "";
	}
}

// 모델 Edit or Combo 설정
function fn_setModelCombo(sType)
{
	if (sType == "CBO") {
		cbo_prod_model_kind.visible = true;
		edt_prod_model_kind.visible = false;
		
		cbo_prod_model_cd.value = true;
		edt_prod_model_cd.visible = false;
		
		cbo_prod_kind.value = true;
		edt_prod_kind.visible = false;
	} else {
		// 조회일 경우 모델분류 edit 표출
		cbo_prod_model_kind.visible = false;
		edt_prod_model_kind.position2 = "absolute l:28.05% w:15.7% t:78px h:22";
		edt_prod_model_kind.visible = true;
		// 조회일 경우 모델명 edit 표출
		cbo_prod_model_cd.value = false;
		edt_prod_model_cd.position2 = "absolute l:55.44% w:15.7% t:78px h:22";
		edt_prod_model_cd.visible = true;
		// 조회일 경우 상품종류 edit 표출
		cbo_prod_kind.value = false;
		edt_prod_kind.position2 = "absolute l:82.82% w:16.64% t:78 h:22";
		edt_prod_kind.visible = true;
	}
}

// 회원정보에 따른 상품정보 그리드 선택
function fn_setProdAccntNo(p_accnt_no)
{
	// 상담정보 탭 선택시 상담의 accnt_no 로 값 설정
 	if (!gfn_isNull(p_accnt_no)) {
 		gv_accnt_no = p_accnt_no;
 		p_accnt_no = null;
 		
 		//선택된 상품 조회 		
 		fn_srch_prod_dtl();
 	}
 	
 	/*
 	if (!gfn_isNull(gv_accnt_no)) {
 		for (var i=0; i<ds_list_prod.rowcount; i++) {
  			if (gv_accnt_no == ds_list_prod.getColumn(i, "accnt_no")) {
  				ds_list_prod.selectRow(i);
  				break;
  			}
 		}
 	} else {
 		ds_list_prod.selectRow(0);
 	}
 	*/
 	
 	//fn_setProdDtl();
}

// 상품에 따른 부가서비스 설정
// 상품추가시 부가서비스 선택 / 상품조회 / 리조트구분에 따라 조회
function fn_setProdSrvc()
{
	var tmpAllSvcNm = "",
		tmpSvcNm = "",
		x;
	
	for (var i=0; i<ds_list_tmp_prodSrvc.rowcount; ++i) {
		tmpSvcNm = ds_list_tmp_prodSrvc.getColumn(i, "opt_svc_nm_ex");			
		if ( !gfn_isEmpty(tmpSvcNm) ) {
			tmpAllSvcNm += + ds_list_tmp_prodSrvc.getColumn(i, "opt_svc_nm_ex");
		}
	}
	
	ds_list_prodSrvc.clearData();
	
	if (gfn_isNull(ds_prod.getColumn(0, "accnt_no"))) { // 상품 등록일 경우
		
		if ( !gfn_isEmpty(tmpAllSvcNm) ) {
			gfn_appendSearchDs(ds_list_prodSrvc, ds_list_tmp_prodSrvc);
		}
		
		if (ds_list_prodSrvc.rowcount > 0) {
			var bfCnt = 0;
			var afCnt = 0;
			
			ds_prod.setColumn(0, "resort_mem_gubun", ds_list_prodSrvc.getColumn(0, "resort_mem_cl"));
			
			for (var i=0; i<ds_list_prodSrvc.rowcount; i++) {
				if (ds_list_prodSrvc.getColumn(i, "svc_event_bf_cl") == "전방") {
					bfCnt += 1;
				} else {
					afCnt += 1;
				}
			}
			
			if (bfCnt == 1 || afCnt == 1) {
				for (var i=0; i<ds_list_prodSrvc.rowcount; i++) {
					if (ds_list_prodSrvc.getColumn(i, "svc_event_bf_cl") == "전방" && bfCnt == 1) {
						ds_list_prodSrvc.setColumn(i, "_chk", 1);
					} else if (ds_list_prodSrvc.getColumn(i, "svc_event_bf_cl") == "후방" && afCnt == 1) {
						ds_list_prodSrvc.setColumn(i, "_chk", 1);
					}
				}
			}
			
			// 필수 항목이면 무조건 체크
			for (var i=0; i<ds_list_prodSrvc.rowcount; i++) {
				if (ds_list_prodSrvc.getColumn(i, "vital_service") == "Y") {
					ds_list_prodSrvc.setColumn(i, "_chk", 1);
				}
			}
		}
	} else {                                            // 상품 수정일 경우
		if (isChgPayGubun == "N") {
			cbo_pay_gubun.index = gv_oldCboPayGubunIdx; // 이전 상태로 변경
			alert("발급된 부가서비스가 있습니다.\n발급 취소 후 변경하세요");
			return false;
		}
		
		ds_list_prodSrvc.clearData();
		
		var sJoinDt = ds_prod.getColumn(0, "join_dt");
		var copyIdx = 0;
		
		if ( !gfn_isEmpty(tmpAllSvcNm) ) {
			for (var i=0; i<ds_list_tmp_prodSrvc.rowcount; i++) {
				if (ds_list_tmp_prodSrvc.getColumn(i, "start_dt") <= sJoinDt && ds_list_tmp_prodSrvc.getColumn(i, "end_dt") >= sJoinDt) {
					ds_list_prodSrvc.addRow();
					ds_list_prodSrvc.copyRow(copyIdx, ds_list_tmp_prodSrvc, i);
					++copyIdx;
				}
			}		
		}
		
		if (ds_list_prodSrvc.rowcount > 0) {
			ds_prod.setColumn(0, "resort_mem_gubun", ds_list_prodSrvc.getColumn(0, "resort_mem_cl"));
		}
		
		var sArrMemProdAccntSvc = String(ds_prod.getColumn(0, "mem_prod_accnt_svc")).split(",");
		var sPayGubun = ds_prod.getColumn(0, "pay_gubun");
		var mem_cl = "";
		var bfCnt = 0;
		var afCnt = 0;
		if (gfn_isNull(sPayGubun) || sPayGubun == "00") {
			mem_cl = "L";
		} else {
			mem_cl = "T";
		}
		
		for (var i=0; i<sArrMemProdAccntSvc.length; i++) {
			for (var j=0; j<ds_list_prodSrvc.rowcount; j++) {
				if (ds_list_prodSrvc.getColumn(j, "seq") == sArrMemProdAccntSvc[i]
				   && mem_cl == ds_list_prodSrvc.getColumn(j, "mem_cl")) {
				   
					ds_list_prodSrvc.setColumn(j, "_chk", 1);
					bfCnt += 1;
				}
				if (ds_list_prodSrvc.getColumn(j, "vital_service") == "Y") {
					ds_list_prodSrvc.setColumn(j, "_chk", 1);
				}
				if (ds_list_prodSrvc.getColumn(j, "isu_yn") == "Y") {
					for (var k=0; k<ds_list_prodSrvc.rowcount; k++) {
						if (ds_list_prodSrvc.getColumn(k, "app_no") == ds_list_prodSrvc.getColumn(j, "app_no")
						   && ds_list_prodSrvc.getColumn(j, "vital_service") != "Y") {
						   ds_list_prodSrvc.setColumn(k, "isu_yn", "Y");
						}
					}
				}
			}
		}
		
		if (bfCnt == 0) {
			for (var i=0; i<ds_list_prodSrvc.rowcount; i++) {
				if (ds_list_prodSrvc.getColumn(i, "svc_event_bf_cl") == "전방") {
					bfCnt += 1;
				} else {
					afCnt += 1;
				}
			}
			if (bfCnt == 1 || afCnt == 1)  {
				for (var i=0; i<ds_list_prodSrvc.rowcount; i++) {
					if (ds_list_prodSrvc.getColumn(i, "svc_event_bf_cl") == "전방" && bfCnt == 1) {
						ds_list_prodSrvc.setColumn(i, "_chk", 1);
					} else  if (ds_list_prodSrvc.getColumn(i, "svc_event_bf_cl") == "후방" && afCnt == 1) {
						ds_list_prodSrvc.setColumn(i, "_chk", 1);
					}
				}
			}
		}
	}
}

// 팝업 호출
function fn_openPopup(sType)
{
	// 신청서 등록
	if (sType == "btn_appfmNo") {
		if (edt_accnt_no.value == "00000" || gfn_isNull(edt_accnt_no.value)) {
			alert("회원번호가 없습니다.");
			return;
		}
		var sPrmr = {p_accnt_no:edt_accnt_no.value};
		var reVal = gfn_diaLog("가입신청서 이미지", -1, -1, -1, -1, "PS990000::PS993600.xfdl", true, sPrmr, true, false, true, null, null, true);
	}
	// 담당사원조회
	else if (sType == "btn_srchEmple" || sType == "edt_emple_nm") {
		var sPrmr = {p_empl_nm:edt_emple_nm.value, p_pageTyp:"DL50000104", p_typ:"emp", p_sbit:gv_sbit};
		var reVal = gfn_diaLog("담당사원 조회", -1, -1, -1, -1, "PS990000::PS992000.xfdl", false, sPrmr, true, false, true, null, null, true);
	}
	// 모집사원조회
	else if (sType == "btn_befEmple" || sType == "edt_bef_emple_nm") {
		var sPrmr = {p_empl_nm:edt_bef_emple_nm.value, p_pageTyp:"DL50000104", p_typ:"bef", p_sbit:gv_sbit};
		var reVal = gfn_diaLog("모집사원 조회", -1, -1, -1, -1, "PS990000::PS992000.xfdl", false, sPrmr, true, false, true, null, null, true);
	}
	// 상품조회 버튼
	else if (sType == "btn_srchProd") {
		var sPrmr = {p_prod_cd:"", p_prod_nm:"", p_mode:"button"};
		var reVal = gfn_diaLog("상품조회", -1, -1, -1, -1, "DL500000::DL50992200.xfdl", false, sPrmr, true, false, true, null, null, true);
	}
	// 상품조회 상품코드
	else if (sType == "edt_prod_cd" && !edt_prod_cd.readonly) {
		var sPrmr = {p_prod_cd:edt_prod_cd.value, p_prod_nm:"", p_mode:"edit"};
		var reVal = gfn_diaLog("상품조회", -1, -1, -1, -1, "DL500000::DL50992200.xfdl", false, sPrmr, true, false, true, null, null, true);
	}
	// 상품조회 상품명
	else if (sType == "edt_prod_nm" && !edt_prod_nm.readonly) {
		var sPrmr = {p_prod_cd:"", p_prod_nm:edt_prod_nm.value, p_mode:"reg"};
		var reVal = gfn_diaLog("상품조회", -1, -1, -1, -1, "PS990000::PS992200.xfdl", false, sPrmr, true, false, true, null, null, true);
	}
	// B2B회사조회
	else if (sType == "btn_srchB2bComp" || sType == "edt_b2b_comp_nm") {
		var sPrmr = {p_com_nm:edt_b2b_comp_nm.value};
		var reVal = gfn_diaLog("B2B회사 조회", -1, -1, -1, -1, "PS990000::PS993400.xfdl", false, sPrmr, true, false, true, null, null, true);
	}
	// 매장조회
	else if (sType == "btn_srchSmShop" || sType == "edt_sm_shop_nm") {
		var sPrmr = {p_sm_shop_nm:edt_sm_shop_nm.value};
		var reVal = gfn_diaLog("매장 조회", -1, -1, -1, -1, "PS990000::PS993500.xfdl", false, sPrmr, true, false, true, null, null, true);
	}
	// 설치장소
	else if (sType == "btn_insplAddrPop") {
		var sMemNo = parent.div_member.ds_member.getColumn(0, "mem_no");
		if (gfn_isNull(sMemNo) || edt_accnt_no.value == "00000") {
			return false;
		}
		//var reVal = gfn_diaLog("우편번호조회", -1, -1, -1, -1, "PS990000::PS994100.xfdl", false, {}, true, false, true, null, null, true);
		// 기존 주소검색 폐지 / 2017.04.10 부로 다음API사용
		var sPrmr = {};
		var reVal = gfn_diaLog("주소 조회", -1, -1, 884, 601, "PS990000::PS992099.xfdl", false, sPrmr, false, false, true);		
	} 
	// 주소관리
	else if (sType == "btn_memberAddr") {
		var sMemNo = parent.div_member.ds_member.getColumn(0, "mem_no");
		var sMemNm = parent.div_member.ds_member.getColumn(0, "mem_nm");
		if (gfn_isNull(sMemNo) || edt_accnt_no.value == "00000") {
			return false;
		}
		
		var reVal = gfn_diaLog("회원주소관리", -1, -1, -1, -1, "PS990000::PS993900.xfdl", false, {p_mem_no:sMemNo, p_mem_nm:sMemNm}, true, false, true, null, null, true);
	} 
	// 연락처 가져오기
	else if (sType == "btn_srchPhoneTyp") {
		pdv_inspl_phone.trackPopupByComponent(edt_inspl_phone, -1, 12);
	} 
	// 신한인증
	else if (sType == "btn_shinhan") {
// 		수정자 : 정훈연구원
// 		요청자 : 정성안팀장
// 		수정이유 : 신한인증 사용안함
		//var reVal = gfn_diaLog("신한인증", -1, -1, -1, -1, "PS990000::PS993800.xfdl", false, {}, false, false, true);
	} 
	// 삼성인증
	else if (sType == "btn_samsung") {
		var url = "https://www.samsungcard.com/hpsub/hpsub/UHPPSU0701P0.jsp";
		system.execBrowser(url);
	}
	// 카드정보 수정 / CMS정보 수정
	else if (sType == "btn_updateCardCms") {
		var gubun = "";
		if (ds_prod.getColumn(0, "cms_yn") == "Y") {	// CMS정보수정
			gubun = "cms";
		}
		if (ds_prod.getColumn(0, "pay_mthd") == "06") {	// 카드정보수정
			gubun = "card";
		}
	
		var sPrmr = {p_accnt_no:edt_accnt_no.value, p_gubun:gubun};
		var reVal = gfn_diaLog("CMS/카드정보 수정", -1, -1, -1, -1, "DL410000::DL410101.xfdl", false, sPrmr, false, false, true);
	}
	// 부가서비스 등록
	else if (sType == "btn_bugaInfo") {
		fn_bugaSrvcPop();
	}
	// 삼성카드 등록
	else if (sType == "btn_smartLifeReg") {
		var sAccntNo = edt_accnt_no.value;
		if (gfn_isNull(sAccntNo) || sAccntNo == "00000") {
			alert("회원번호가 없습니다.");
			return;
		}
		var sMemNm = parent.div_member.ds_member.getColumn(0, "mem_nm");
		var sBrthMonDay = parent.div_member.ds_member.getColumn(0, "brth_mon_day");
	
		if (gv_smartLifeFg == "Y") {
			var sPrmr = {p_accnt_no:sAccntNo, p_mem_nm:sMemNm, p_brth_mon_day:sBrthMonDay};
//			var reVal = gfn_diaLog("삼성카드등록", -1, -1, -1, -1, "PS990000::PS993700.xfdl", false, sPrmr, false, false, true);
			var reVal = gfn_diaLog("삼성카드등록", -1, -1, -1, -1, "DL500000::DL50000104P01.xfdl", false, sPrmr, false, false, true);
		}
	}
	// 해약등록
	else if (sType == "btn_cnctRgsn") {
	
		
		var card_openFg = gfn_cardPop();
		
			if (card_openFg == "N")
			{
				alert("청구 중입니다!\n청구 종료 후 해약 등록을 하시기 바랍니다! ");
				return false;
			}
			else
			{
				var sAccntNo = edt_accnt_no.value;
				if (gfn_isNull(sAccntNo) || sAccntNo == "00000") {
					sAccntNo = "";
				}
				var sGubun = (Combo_kstbit.value == "03") ? "update" : "reg";
				
				var sPrmr = {p_accnt_no:sAccntNo, p_prod_cd:edt_prod_cd.value, p_gubun:sGubun, p_mainYn:"Y"};
				var reVal = gfn_diaLog("해약등록", -1, -1, -1, -1, "PS020000::PS020302.xfdl", false, sPrmr, false, false, true);
				//var reVal = gfn_diaLog("해약등록", -1, -1, -1, -1, "DL440000::DL440900P01.xfdl", false, sPrmr, false, false, true);
			}	
	
// //       2017년 9월 8일 수정	정기청구 중입니다!\n정기청구 종료 후 해약 등록을 하시기 바랍니다
// // 		var sAccntNo = edt_accnt_no.value;
// // 		if (gfn_isNull(sAccntNo) || sAccntNo == "00000") {
// // 			sAccntNo = "";
// // 		}
// // 		var sGubun = (btn_cnctRgsn.text == "해약수정") ? "update" : "reg";
// // 		
// // 		var sPrmr = {p_accnt_no:sAccntNo, p_prod_cd:edt_prod_cd.value, p_gubun:sGubun, p_mainYn:"Y"};
// // 		var reVal = gfn_diaLog("해약등록", -1, -1, -1, -1, "PS020000::PS020302.xfdl", false, sPrmr, false, false, true);
	}
	// 행사등록
	else if (sType == "btn_evnt_ip") {
	
		var card_openFg = gfn_cardPop();
		
			if (card_openFg == "N")
			{
				alert("청구 중입니다!\n청구 종료 후 행사 등록을 하시기 바랍니다! ");
				return false;
			}
			else
			{
				var mode = "new";
				var sAccntNo = edt_accnt_no.value;
				if (gfn_isNull(sAccntNo) || sAccntNo == "00000") {
					sAccntNo = "";
				}
				//var sGubun = (btn_cnctRgsn.text == "해약수정") ? "update" : "reg";
				var	sPrmr = {p_mode:mode, p_btn_en:"", p_event_stat_fg:"", p_accnt_no:sAccntNo, p_seq:""};
				var reVal = gfn_diaLog("행사등록", -1, -1, 884, 601, "DL430000::DL430102.xfdl", false, sPrmr, true, false, true, null, true, true);
				//var reVal = gfn_diaLog("해약등록", -1, -1, -1, -1, "PS020000::PS020302.xfdl", false, sPrmr, false, false, true);
			}		
			
// //       2017년 9월 8일 수정 정기청구 중입니다!\n정기청구 종료 후 행사 등록을 하시기 바랍니다			
// // 		var mode = "new";
// // 		var sAccntNo = edt_accnt_no.value;
// // 		if (gfn_isNull(sAccntNo) || sAccntNo == "00000") {
// // 			sAccntNo = "";
// // 		}
// // 		//var sGubun = (btn_cnctRgsn.text == "해약수정") ? "update" : "reg";
// // 
// // 		var	sPrmr = {p_mode:mode, p_btn_en:"", p_event_stat_fg:"", p_accnt_no:sAccntNo, p_seq:""};
// // 		var reVal = gfn_diaLog("행사등록", -1, -1, 884, 601, "DL430000::DL430102.xfdl", false, sPrmr, true, false, true, null, true, true);
// // 		//var reVal = gfn_diaLog("해약등록", -1, -1, -1, -1, "PS020000::PS020302.xfdl", false, sPrmr, false, false, true);
	}	
	// 행사조회
	else if (sType == "btn_srchEvent") {
		var sAccntNo = edt_accnt_no.value;
		var sSeq = ds_prod.getColumn(ds_prod.rowposition, "event_seq");
		var	sPrmr = {p_mode:"updateMain", p_btn_en:"N", p_event_stat_fg:"N", p_accnt_no:sAccntNo, p_seq:sSeq};
		var reVal = gfn_diaLog("행사 등록/수정", -1, -1, 884, 601, "DL430000::DL430102.xfdl", false, sPrmr, true, false, true, null, null, true);	
	}
	// 부분 녹취 시작/취소
	else if (sType == "btn_recDual") {
		var sCtiStatus = ap_TopFrame.form.ctiStatus;	
		if (sCtiStatus != ap_TopFrame.form.CTI_STATUS_BUSY) {	// 통화 중 체크
			alert("[통화중]일 경우에만 부분 녹취가 가능합니다.");
			return;
		}
		
		if (btn_recDual.text == ap_TopFrame.form.CTI_STATUS_STARTRECDUAL) {
			fn_startRecHr();
		} else {
			fn_endRecHr("1");
		}
	}
	// 부분 녹취 종료
	else if (sType == "btn_recDualEnd") {
		fn_endRecHr();
	}
	// 증서
	else if (sType == "btn_certf") {
		var sPrmr = {prod_cd : edt_prod_cd.value, prod_nm : edt_prod_nm.value, join_dt : cal_join_dt.value};
		gfn_diaLog("증서관리", -1, -1, 673,655, "DL450000::PS994500.xfdl", false, sPrmr, false, false, true, null, null, true);
	}
	// 계약완료
	else if (sType == "btn_concCmpl") {
		var sAccntNo = edt_accnt_no.value;
		var sMemNo = parent.div_member.ds_member.getColumn(0, "mem_no");
		var sMemNm = parent.div_member.ds_member.getColumn(0, "mem_nm");
		var sProdCd = edt_prod_cd.value;
		
		ap_TopFrame.form.gfn_recUpdateCloseCallDual(sAccntNo, sMemNo, sProdCd, sMemNm); // 부분녹취 부가정보 업데이트
		
		btn_concCmpl.enable = false;
	}
	//공연혜택 
	else if (sType == "btn_srchshow" ) {
	    
	    if (parent.div_member.business_yn.value == true ) {
			alert("법인회원에게는 제공 되지 않습니다.!!");
			return ;
	    }
	    
		var sAccntNo = edt_accnt_no.value;
		var sMemNm = parent.div_member.ds_member.getColumn(0, "mem_nm");
		var sCell = parent.div_member.ds_member.getColumn(0, "cell");
		var	sPrmr = {p_accnt_no:sAccntNo,p_MemNm : sMemNm , p_Cell :sCell };
		var reVal = gfn_diaLog("공연혜택", -1, -1, 884, 601, "PS990000::PS996200.xfdl", false, sPrmr, true, false, true, null, null, true);	
	}
	// 쇼핑몰연동
	/* ================================================================
     * 날짜 : 20171221
     * 이름 : 송준빈
     * 추가내용 : 쇼핑몰적립금사용금상세조회
     * ================================================================
     * */
    /*
	else if (sType == "btn_amtUseshow") {		
		if(gfn_isNull(parent.div_member.ds_member.getColumn(0, "mem_no")) == false || gfn_isNull(edt_accnt_no.value) == false)
		{
			var sParams = {p_mem_no   : parent.div_member.ds_member.getColumn(0, "mem_no"), 
						   p_accent_no: edt_accnt_no.value, 
						   p_res_amt  : edt_resn_amt.value,
		                   p_ci_val   : parent.div_member.ds_member.getColumn(0, "ci_val")};
			var reVal = gfn_diaLog("쇼핑몰적립금사용금상세조회", -1, -1, -1, -1, "PS030000::PS030100P01.xfdl", false, sParams, true, false, true, null, null, true);
		}
		else
		{
			alert("회원정보가 없습니다.");
		}
	}
	*/
	else if(sType == "btn_mangiExt")
	{
		if(gfn_isNull(ds_prod.getColumn(ds_prod.rowposition, "accnt_no"))) {
			alert("회원번호 정보가 없습니다.	");
			return;
		}		
		var sAccntNo    = ds_prod.getColumn(ds_prod.rowposition, "accnt_no");
		/*
		var sCell       = ds_listMemberMangiExt.getColumn(ds_listMemberMangiExt.rowposition, "cell");
		var sZipCode    = ds_listMemberMangiExt.getColumn(ds_listMemberMangiExt.rowposition, "zip_code");
		var sAdress     = ds_listMemberMangiExt.getColumn(ds_listMemberMangiExt.rowposition, "adress");
		var sExtYn      = ds_listMemberMangiExt.getColumn(ds_listMemberMangiExt.rowposition, "ext_yn");
		var sExtPeriod  = ds_listMemberMangiExt.getColumn(ds_listMemberMangiExt.rowposition, "ext_period");
		var sExtDay     = ds_listMemberMangiExt.getColumn(ds_listMemberMangiExt.rowposition, "ext_day");
		var sInsertGbn  = ds_listMemberMangiExt.getColumn(ds_listMemberMangiExt.rowposition, "insert_gbn");
		var sTxEtc      = ds_listMemberMangiExt.getColumn(ds_listMemberMangiExt.rowposition, "tx_etc");
		var sRegDm      = ds_listMemberMangiExt.getColumn(ds_listMemberMangiExt.rowposition, "reg_dm");
		var sCancelDt   = ds_listMemberMangiExt.getColumn(ds_listMemberMangiExt.rowposition, "cancel_dt");
		var sManstat   = ds_listMemberMangiExt.getColumn(ds_listMemberMangiExt.rowposition, "man_stat");
		

		var sPrmr = {"pAccntNo" : sAccntNo, "pCell" : sCell,           "pZipCode" : sZipCode, 
					 "pAdress" : sAdress,   "pExtYn" : sExtYn,         "pExtPeriod" : sExtPeriod, 
					 "pExtDay" : sExtDay,   "pInsertGbn" : sInsertGbn, "pTxEtc" : sTxEtc, 
					 "pRegDm" : sRegDm, 	"pManStat" : sManstat,    "pCancelDt" : sCancelDt, "pPlug" : "U"};
		
		*/
		
		var sPrmr = {"pAccntNo" : sAccntNo, "pPlug" : "U"};
		gfn_diaLog("설정", -1, -1, 500, 500, "DL450000::DL451300_02.xfdl", false, sPrmr, true, false, true, null, null, true);
	
		/*
		if(ds_listMemberMangiExt.getRowCount() > 0)
		{
			var sAccntNo    = ds_listMemberMangiExt.getColumn(ds_listMemberMangiExt.rowposition, "accnt_no");
			var sCell       = ds_listMemberMangiExt.getColumn(ds_listMemberMangiExt.rowposition, "cell");
			var sZipCode    = ds_listMemberMangiExt.getColumn(ds_listMemberMangiExt.rowposition, "zip_code");
			var sAdress     = ds_listMemberMangiExt.getColumn(ds_listMemberMangiExt.rowposition, "adress");
			var sExtYn      = ds_listMemberMangiExt.getColumn(ds_listMemberMangiExt.rowposition, "ext_yn");
			var sExtPeriod  = ds_listMemberMangiExt.getColumn(ds_listMemberMangiExt.rowposition, "ext_period");
			var sExtDay     = ds_listMemberMangiExt.getColumn(ds_listMemberMangiExt.rowposition, "ext_day");
			var sInsertGbn  = ds_listMemberMangiExt.getColumn(ds_listMemberMangiExt.rowposition, "insert_gbn");
			var sTxEtc      = ds_listMemberMangiExt.getColumn(ds_listMemberMangiExt.rowposition, "tx_etc");
			var sRegDm      = ds_listMemberMangiExt.getColumn(ds_listMemberMangiExt.rowposition, "reg_dm");
			var sCancelDt   = ds_listMemberMangiExt.getColumn(ds_listMemberMangiExt.rowposition, "cancel_dt");
	
			var sPrmr = {"pAccntNo" : sAccntNo, "pCell" : sCell,           "pZipCode" : sZipCode, 
						 "pAdress" : sAdress,   "pExtYn" : sExtYn,         "pExtPeriod" : sExtPeriod, 
						 "pExtDay" : sExtDay,   "pInsertGbn" : sInsertGbn, "pTxEtc" : sTxEtc, 
						 "pRegDm" : sRegDm,     "pCancelDt" : sCancelDt,          "pPlug" : "U"};
	             
			gfn_diaLog("설정", -1, -1, 500, 500, "DL450000::DL451300_02.xfdl", false, sPrmr, true, false, true, null, null, true);
		}
		else
		{
			if(gfn_isNull(ds_prod.getColumn(ds_prod.rowposition, "accnt_no"))) {
				alert("회원번호 정보가 없습니다.	");
				return;
			}
			var sAccntNo    = ds_prod.getColumn(ds_prod.rowposition, "accnt_no");
			var sCell		= parent.div_member.ds_member.getColumn(0, "cell");
			var sZipCode    = parent.div_member.ds_member.getColumn(0, "home_zip");
			var sAdress     = parent.div_member.ds_member.getColumn(0, "home_addr");		
				
			var sPrmr = {"pAccntNo" : sAccntNo, "pCell" : sCell,           "pZipCode" : sZipCode, 
						 "pAdress" : sAdress,   "pExtYn" : "",             "pExtPeriod" : "", 
						 "pExtDay" : "",        "pInsertGbn" : "",         "pTxEtc" : "", 
						 "pRegDm" : "",         "pCancelDt" : "",          "pPlug" : "D" };
	             
			gfn_diaLog("설정", -1, -1, 500, 500, "DL450000::DL451300_02.xfdl", false, sPrmr, true, false, true, null, null, true);
		
		}
		*/
	}else if(sType == "btn_userOption") {
		alert('개발중입니다.');
		return;
		if(ds_prod.getRowCount() > 0)
		{
			var sAccntNo    = ds_prod.getColumn(ds_prod.rowposition, "accnt_no");
			var sPrmr = {"pAccntNo" : sAccntNo};
	        
			gfn_diaLog("설정", -1, -1, 500, 500, "DL500000::DL50000104P02.xfdl", false, sPrmr, true, false, true, null, null, true);
		}
	}else if(sType == "btn_adminUserOption") {
		gfn_diaLog("설정", -1, -1, 500, 500, "DL500000::DL50000104P06.xfdl", false, sPrmr, true, false, true, null, null, true);
	}else if(sType == "btn_direct") {
		
		if(gfn_isNull(gv_cival)) {
			alert('CI값이 없습니다.');
			return;
		}
		var ci_val = gv_cival;
		var sPrmr = {p_ci_val:ci_val, p_ord_mst_idx:"", p_url:'DL50000104'};	
		var reVal = gfn_diaLog("다이렉트 상품관리", -1, -1, 719, 388, "PS210000::PS21000101P01.xfdl", true, sPrmr, false, true, true, null ,null ,true);
		
		if(!gfn_isNull(reVal)) {
			ds_list_direct.loadXML(reVal);
			fn_direct_copy();
		}
	} else if(sType == "btn_accntRecList") {
		if(ds_prod.getRowCount() > 0)
		{
			var sAccntNo    = ds_prod.getColumn(ds_prod.rowposition, "accnt_no");
			var sPrmr = {"pAccntNo" : sAccntNo};
	        
			gfn_diaLog("설정", -1, -1, -1, -1, "DL420000::DL422201.xfdl", false, sPrmr, true, false, true, null, null, true);
		}
	} else if(sType == "btn_elecSign") {
		if(ds_prod.getRowCount() > 0)
		{
			if(!gfn_isNull(ds_prod.getColumn(ds_prod.rowposition, "prod_cd_dbl")) && gfn_isNull(ds_prod.getColumn(ds_prod.rowposition, "accnt_no_dbl"))) {
				alert('두구좌를 등록하시기 바랍니다.');
				return;
			}
			
			var sAccntNo = ds_prod.getColumn(ds_prod.rowposition, "accnt_no");
			var sMemNo = parent.div_member.ds_member.getColumn(0, "mem_no");
			var sMemNm = parent.div_member.ds_member.getColumn(0, "mem_nm");
			var sProdCd = ds_prod.getColumn(ds_prod.rowposition, "prod_cd");
			var sProdNm = ds_prod.getColumn(ds_prod.rowposition, "prod_nm");
			var sSectionThr = ds_prod.getColumn(ds_prod.rowposition, "section_thr");
			var sKstbit = ds_prod.getColumn(ds_prod.rowposition, "kstbit");
			var sPayMthd = ds_prod.getColumn(ds_prod.rowposition, "pay_mthd");
			var sAccntNoDbl = ds_prod.getColumn(ds_prod.rowposition, "accnt_no_dbl");
			
			var sPrmr = {"pAccntNo" : sAccntNo, "pMemNo" : sMemNo, "pMemNm" : sMemNm, 
			             "pProdCd" : sProdCd, "pProdNm" : sProdNm, "pSectionThr" : sSectionThr,
			             "pKstbit" : sKstbit, "pPayMthd" : sPayMthd};
	        
			gfn_diaLog("설정", -1, -1, -1, -1, "DL500000::DL50000104P09.xfdl", false, sPrmr, true, false, true, null, null, true);
			//테스트
			//gfn_diaLog("설정", -1, -1, -1, -1, "DL500000::DL50000104P19.xfdl", false, sPrmr, true, false, true, null, null, true);
		}
	} else if(sType == "btn_elecSignNew") {
		if(ds_prod.getRowCount() > 0)
		{
			if(!gfn_isNull(ds_prod.getColumn(ds_prod.rowposition, "prod_cd_dbl")) && gfn_isNull(ds_prod.getColumn(ds_prod.rowposition, "accnt_no_dbl"))) {
				alert('두구좌를 등록하시기 바랍니다.');
				return;
			}
			
			var sAccntNo = ds_prod.getColumn(ds_prod.rowposition, "accnt_no");
			var sMemNo = parent.div_member.ds_member.getColumn(0, "mem_no");
			var sMemNm = parent.div_member.ds_member.getColumn(0, "mem_nm");
			var sProdCd = ds_prod.getColumn(ds_prod.rowposition, "prod_cd");
			var sProdNm = ds_prod.getColumn(ds_prod.rowposition, "prod_nm");
			var sSectionThr = ds_prod.getColumn(ds_prod.rowposition, "section_thr");
			var sKstbit = ds_prod.getColumn(ds_prod.rowposition, "kstbit");
			var sPayMthd = ds_prod.getColumn(ds_prod.rowposition, "pay_mthd");
			var sAccntNoDbl = ds_prod.getColumn(ds_prod.rowposition, "accnt_no_dbl");
			
			trace(sKstbit);
			
			var sPrmr = {"pAccntNo" : sAccntNo, "pMemNo" : sMemNo, "pMemNm" : sMemNm, 
			             "pProdCd" : sProdCd, "pProdNm" : sProdNm, "pSectionThr" : sSectionThr,
			             "pKstbit" : sKstbit, "pPayMthd" : sPayMthd, "pAccntNoDbl" : sAccntNoDbl};
	        
			//gfn_diaLog("설정", -1, -1, -1, -1, "DL500000::DL50000104P09.xfdl", false, sPrmr, true, false, true, null, null, true);
			//테스트
			gfn_diaLog("설정", -1, -1, -1, -1, "DL500000::DL50000104P19.xfdl", false, sPrmr, true, false, true, null, null, true);
		}
	}  else if(sType == "btn_double") {
		if(ds_prod.getRowCount() > 0)
		{
			if(gfn_isNull(ds_prod.getColumn(ds_prod.rowposition, "prod_cd_dbl"))) {
				alert('두구좌상품이 아닙니다.');
				return;
			}
			
			var sAccntNo    = ds_prod.getColumn(ds_prod.rowposition, "accnt_no");
			var sProdCd = ds_prod.getColumn(ds_prod.rowposition, "prod_cd");
			var sProdNm = ds_prod.getColumn(ds_prod.rowposition, "prod_nm");
			var sEmpleNm = ds_prod.getColumn(ds_prod.rowposition, "emple_nm");
			var sJoinDt = ds_prod.getColumn(ds_prod.rowposition, "join_dt");
			
			
			
			var sPrmr = {"pAccntNo" : sAccntNo, "pProdCd" : sProdCd, "pProdNm" : sProdNm, "pEmpleNm" : sEmpleNm, "pJoinDt" : sJoinDt};

			//var reVal = gfn_diaLog("두구좌관리", -1, -1, 500, 500, "DL500000::DL50000104P07.xfdl", false, sPrmr, false, true, true, null, null, true);
			var reVal = gfn_diaLog("두구좌관리", -1, -1, 500, 500, "DL500000::DL50000104P10.xfdl", false, sPrmr, false, true, true, null, null, true);
			if(!gfn_isNull(reVal)) {
				fn_double_copy();
			}
		}
	} else if(sType == "btn_uplus") {
		var sCell = parent.div_member.ds_member.getColumn(0, "cell");
		if(gfn_isNull(sCell)) {
			alert('휴대전화번호가 없습니다.');
			return;
		}
		var sMemNm = parent.div_member.ds_member.getColumn(0, "mem_nm");
		var ci_val = gv_cival;
		var sPrmr = {p_cell:sCell, p_mem_nm:sMemNm, p_url:'DL50000104'};	
		var reVal = gfn_diaLog("유플러스 상품관리", -1, -1, 719, 388, "PS210000::PS21000101P03.xfdl", true, sPrmr, false, true, true, null ,null ,true);
		
		if(!gfn_isNull(reVal)) {
			ds_list_uplus.loadXML(reVal);
			fn_uplus_copy();
		}
	}
}

// 주소 값 등록(팝업창 호출)
function fn_daum_addr()
{
	mae_inspl_zip.value = gv_dpost; 
	edt_inspl_addr.value = gv_daddr;	
}

// 상품 추가
function fn_addProd()
{
	if (!fn_preAddProd()) return false;
	
	fn_init("ADD");          	// 상품 정보 초기화
	fn_setComponent("ADD");		// 컴퍼넌트설정 
	//fn_setBtnConr("ADD);    	// 버튼 설정 
	//fn_setModelCombo("CBO"); // 상품 Edit 를 Combo로 변경
	//fn_srchResortInfo();     // 상품 추가시 리조트구분 자동 설정
	

}

// 상품 수정
function fn_updateProd()
{	
	if (ds_list_prod.getColumn(ds_list_prod.rowposition, "accnt_no") == "00000") {
		alert("기타문의는 수정할 수 없습니다.");
		return false;
	}
	
	// 모델분류, 모델명, 상품종류 조회
	fn_srchModelTyp("AMNT"); 
	
	// 상품 수정 시 청구중등등의 데이터 처리
	
	fn_srchAccntCheck("UPDATE");
	
	// gv_oldCboPayGubunIdx = cbo_pay_gubun.index; // 리조트구분
}

// 상품 취소
function fn_cancelProd()
{
	if (ds_list_prod.rowcount > 1) {
		//fn_setBtnConr("SEARCH");
						
		//취소시 첫번째  상품 상세 조회
		gv_accnt_no = ds_list_prod.getColumn(ds_list_prod.rowposition,"accnt_no");
		fn_srch_prod_dtl();		
	} else { // 기타문의		
		fn_setComponent("NULL");
	}
	
	// 담당사원&모집사원 변경 제한
	edt_emple_nm.readonly = true;
	edt_bef_emple_nm.readonly = true;	
			
}

// 담당사원 설정시 호출
function setEmpleInfo()
{
	if (gfn_isNull(edt_accnt_no.value) && edt_accnt_no.value != "00000") { // 등록일 경우 담당사원 설정시 모집사원 자동설정
		gv_bef_emple_cd = gv_emple_no;
		edt_bef_emple_nm.value = edt_emple_nm.value;
		edt_bef_emple_cell.value = gv_emple_cell;
	}
	
	if (!gfn_isNull(edt_prod_cd.value) && !gfn_isNull(gv_emple_no)) {    // 제품코드가 있을 경우
		fn_srchNoSaleAccnt("emp");           // 2구좌 가입제한 확인
	}
}

// 매장정보 설정
function fn_setSmShopInfo(sType, setFg)
{
	if (sType == "Y") {
		btn_srchSmShop.visible = true;
		gv_sm_shop_info = ds_prod.getColumn(0, "sm_shop_info");
		
		if (!setFg) {
			cbo_pay_mthd.value = "06"; // 납입 방법 : 카드
		}
		gv_smartLifeFg = "Y";
		
	} else {
		edt_sm_shop_nm.value = "";
		btn_srchSmShop.visible = false;
		gv_sm_shop_info = "";
		
		if (!setFg) {
			cbo_pay_mthd.value = "01"; // 납입 방법 : 손수
		}
	}
}

// 상품 등록 후 처리
function fn_newProdAccntPayPopup()
{
	var sMemNo = parent.div_member.ds_member.getColumn(0, "mem_no");
	var sMemNm = parent.div_member.ds_member.getColumn(0, "mem_nm");
	var sBrthMonDay = parent.div_member.ds_member.getColumn(0, "brth_mon_day");
	var sIdnNo = parent.div_member.ds_member.getColumn(0, "idn_no");
	var sProdCd = edt_prod_cd.value;
	var sProdNm = edt_prod_nm.value;
	
	var sBusinessYn = parent.div_member.business_yn.value;
	
	if (gv_smartLifeFg == "Y") {
		if (confirm("삼성카드 등록하시겠습니까?")) {
			var sPrmr = {p_accnt_no:edt_accnt_no.value, p_mem_nm:sMemNm, p_brth_mon_day:sBrthMonDay};
			var reVal = gfn_diaLog("삼성카드등록", -1, -1, -1, -1, "PS990000::PS993700.xfdl", false, sPrmr, false, false, true);
		}
	} else {
		if (cbo_pay_mthd.value == "06") {
			if (confirm("카드 등록 하시겠습니까?")) {
				var reVal = gfn_diaLog("카드등록", -1, -1, -1, -1, "PS990000::PS992601.xfdl", false, {}, false, false, true);
			}
		} else {
			if (confirm("CMS등록 하시겠습니까?")) {
				if (sBusinessYn) {
					sBrthMonDay = sIdnNo
				} else {
					sBrthMonDay = sBrthMonDay.substring(2, 8);
				}
				
				var sPrmr = {p_accnt_no:edt_accnt_no.value, p_mem_no:sMemNo, p_mem_nm:sMemNm, p_idn_no:sBrthMonDay};
				var reVal = gfn_diaLog("CMS등록", -1, -1, -1, -1, "PS990000::PS992600.xfdl", false, sPrmr, false, false, true);
			}
		}
	}
}

// 상품 선택팝업에서 상품 선택시 호출
function fn_prodChcResl()
{
	var sProdCd = ds_prodList.getColumn(0, "prod_cd");
	var sLtermYn = ds_prodList.getColumn(0, "prod_longterm_yn");  //장기할부 상품 여부 
	
	edt_prod_cd.value = sProdCd;
	edt_prod_nm.value = ds_prodList.getColumn(0, "prod_nm");

	fn_srchModelTyp("CHC");
	
	// 2018.05.28 EC,ED,EE,EF,EG,EH 상품코드 일 경우는 파란색 볼드 처리...
	if(sProdCd == "EC" || sProdCd == "ED"||sProdCd == "EE"|| sProdCd == "EF" || sProdCd == "EG" || sProdCd == "EH")
	{
		edt_prod_cd.style.color = "blue";
		edt_prod_cd.style.font = "Dotum,9,bold";
		edt_prod_nm.style.color = "blue";
		edt_prod_nm.style.font = "Dotum,9,bold";
	}
	// 2019.02.19 FV,FW,FX,FY 상품코드 일 경우는 초록색 볼드 처리...
	else if(sProdCd == "FV" || sProdCd == "FW" || sProdCd == "FX" || sProdCd == "FY")
	{
		edt_prod_cd.style.color = "green";
		edt_prod_cd.style.font = "Dotum,9,bold";
		edt_prod_nm.style.color = "green";
		edt_prod_nm.style.font = "Dotum,9,bold";
	}
	// 2019.05.09 HA,HB,HC,HD 상품코드 일 경우는 초록색 볼드 처리...
	else if(sProdCd == "HA" || sProdCd == "HB" || sProdCd == "HC" || sProdCd == "HD")
	{
		edt_prod_cd.style.color = "maroon";
		edt_prod_cd.style.font = "Dotum,9,bold";
		edt_prod_nm.style.color = "maroon";
		edt_prod_nm.style.font = "Dotum,9,bold";
	}	
	else
	{
		edt_prod_cd.style.color = "red";
		edt_prod_cd.style.font = "Dotum,9";
		edt_prod_nm.style.color = "red";
		edt_prod_nm.style.font = "Dotum,9";
	}
		
	/*장기할부 상품선택 시 카드정보 & 승인상태(장기초회미납) 강제 등록*/
	if(sLtermYn=="Y"){
		cbo_pay_mthd.value = "06";
		cbo_hpcl_stat_cd.value = "15";
		cbo_pay_mthd.enable = false;
		cbo_hpcl_stat_cd.enable = false;
	} else {
		cbo_pay_mthd.enable = true;
		cbo_hpcl_stat_cd.enable = true;
	}
}

// 부가서비스 등록 팝업
function fn_bugaSrvcPop()
{
// 	if (gv_bugaCmsFg == "N" && gv_bugaCardFg == "N") {
// 		alert("부가서비스 등록을 할 수 없습니다.");
// 		return;
// 	}
	var sMemNo = parent.div_member.ds_member.getColumn(0, "mem_no");
	var sMemNm = parent.div_member.ds_member.getColumn(0, "mem_nm");
	var sBrthMonDay = parent.div_member.ds_member.getColumn(0, "brth_mon_day");
	var sIdnNo = parent.div_member.ds_member.getColumn(0, "idn_no");
	var sEmail = parent.div_member.ds_member.getColumn(0, "email");
	
	var sBusinessYn = parent.div_member.business_yn.value;
	
	var sPayMthd = cbo_pay_mthd.value;
	var pProdCd = edt_prod_cd.value;
	var sProdNm = edt_prod_nm.value;
    var sInsPlPhone = edt_inspl_phone.value;
    var sBankAccntNo = ds_prod.getColumn(0, "bank_accnt_no");
	
	if (sBusinessYn) {
		sBrthMonDay = sIdnNo
	} else {
		sBrthMonDay = sBrthMonDay.substring(2, 8);
	}
	
	var sUrl = "";
	if(cbo_pay_mthd.value == "04") {
		sUrl = "DL500000::DL50000104P04.xfdl";
	} else {
		sUrl = "DL410000::DL410201.xfdl";
	}
		
	var sPrmr = {p_accnt_no:edt_accnt_no.value, p_mem_no:sMemNo, p_mem_nm:sMemNm, p_idn_no:sBrthMonDay, p_email:sEmail, p_pay_mthd:sPayMthd, p_prod_cd:pProdCd, p_prod_nm:sProdNm, p_inspl_phone:sInsPlPhone, p_bank_accnt_no:sBankAccntNo};
	var reVal = gfn_diaLog("부가서비스등록", -1, -1, -1, -1, "PS020000::PS020301.xfdl", false, sPrmr, false, false, true);
	//var reVal = gfn_diaLog("부가서비스등록", -1, -1, -1, -1, sUrl, false, sPrmr, true, false, true, null, null, true); 

}

// 신한카드 인증결과 호출
function fn_ShinHanAppComplete(pCardNo) {
	cbo_pay_mthd.value = "06";
	//stc_txt_payMthd.text = "카드번호";
	//edt_bankAccntNo.text = pCardNo;
	ds_prod.setColumn(0, "bank_accnt_no", pCardNo);
}

/********************************************************************************************/
/**   7. 이벤트(Event) Function                                                          	*/
/********************************************************************************************/
// 전화번호 설정
function phone_ontextchanged(obj:Edit,  e:TextChangedEventInfo)
{
	obj.value = gfn_phoneNumStr(obj.value);
	obj.setCaretPos(-1);
}

function phone_onkillfocus(obj:Edit, e:KillFocusEventInfo)
{
	obj.value = gfn_phoneNumStr(obj.value);
}

// 그리드 셀 선택
function grd_list_oncellclick(obj:Grid, e:GridClickEventInfo)
{
	var selProdCd = ""; // 선택된 상품이 정상 상품인지 체크 (기타문의 체크) 
	if (obj.name == "grd_list_prod") {		
		selProdCd = ds_list_prod.getColumn(ds_list_prod.rowposition, "prod_nm");		
		gv_accnt_no = ds_list_prod.getColumn(ds_list_prod.rowposition, "accnt_no");
		
		//기타업무 선택시 아무것도 하지 않음
		if (gv_accnt_no == "00000"){
			gv_accnt_no = ds_list_prod.getColumn(0,"accnt_no");
			ds_list_prod.rowposition = 0;			
		}

		//선택된 상품 상세 조회
		fn_srch_prod_dtl();
		
		if (parent.div_cons_hstr.btn_accnt_yn.class == "btn_productS1") {
 			parent.div_cons_hstr.fn_setConsHstrFilter("Y");
 		}
	} else if (obj.name == "grd_list_prodSrvc") {
		if (e.cell == 0) {
			if (ds_list_prodSrvc.getColumn(obj.currentrow, "_chk") == 1) {
				fn_chkProcSrvcToggle();
			}
		}
	}
}

// 콤보 선택시
function cbo_onitemchanged(obj:Combo, e:ItemChangeEventInfo)
{
	if (obj.name == "cbo_pay_gubun") {              // 리조트 회원구분
		fn_chngResort();
		if (ds_prod.getColumn(0, "accnt_no") != "00000") { // 기타문의 일 경우는 제외
			fn_srchProdSrvc();                             // 부가서비스 조회
		}
	} else if (obj.name == "cbo_pay_mthd") {        // 납입방법
		//fn_chngPayMthd();                           // 카드번호, 계좌번호 설정
	} else if (obj.name == "cbo_prod_model_kind") { // 모델분류
		if (gfn_isNull(obj.value)) {
			ds_cbo_modlNm.clearData();
			ds_cbo_prdtKind.clearData();
			
			// 모델 선택되지 않은 경우, 주계약 버튼 enable
            btn_main_contract.enable = false;
		} else {
			fn_srchModlNm();
			
			// 모델 선택된 경우, 주계약 버튼 enable
            btn_main_contract.enable = true;
			
		}
	}
}

// 그리드 헤더 사이즈 초기화
function btn_gdInit_onclick(obj:Button,  e:ClickEventInfo)
{
	if (obj.name == "btn_gdInit_prodSrvc") {
		gfn_resetColsize(grd_list_prodSrvc);
	}
}

function inspl_onitemchanged(obj:ListBox, e:ItemChangeEventInfo)
{
	if (obj.value == "10") { // 휴대전화
		if (!gfn_isNull(parent.div_member.cell.value)) {
			edt_inspl_phone.value = parent.div_member.cell.value;
		} else {
			edt_inspl_phone.value = "";
		}
	} else if (obj.value == "20") { // 자택전화
		if (!gfn_isNull(parent.div_member.home_tel.value)) {
			edt_inspl_phone.value = parent.div_member.home_tel.value;
		} else {
			edt_inspl_phone.value = "";
		}
	} else if (obj.value == "30") { // 회사전화
		if (!gfn_isNull(parent.div_member.wrpl_tel.value)) {
			edt_inspl_phone.value = parent.div_member.wrpl_tel.value;
		} else {
			edt_inspl_phone.value = "";
		}
	}
	pdv_inspl_phone.closePopup();
}

// edit ontextchanged
function edt_ontextchanged(obj:Edit,  e:TextChangedEventInfo)
{
	if (obj.name = "edt_rand_num") { // 할인우대권
		if (String(obj.value).length == 10) {
			fn_chkRandNum();
		}
	}
}

// 버튼 클릭
function btn_onclick(obj:Button,  e:ClickEventInfo)
{
	gv_sbit = "C";
	fn_openPopup(obj.name);
}

// edit onkeydown
function edt_onkeydown(obj:Edit, e:KeyEventInfo)
{
	
	if (e.keycode == 13) { // 엔터
		gv_sbit = "E";
		fn_openPopup(obj.name);
	}
}

// 버튼 클릭
function btn_dsps_onclick(obj:Button,  e:ClickEventInfo)
{
	if (obj.name == "btn_add_prod") {            // 추가
	    gv_jobsel ="1";
		fn_addProd();
	} else if (obj.name == "btn_update_prod") {  // 수정
	    gv_jobsel ="2";
		fn_updateProd();
	} else if (obj.name == "btn_del_prod") {     // 삭제
		fn_delProd();
	} else if (obj.name == "btn_save_prod") {    // 저장
		fn_saveProd();
	} else if (obj.name == "btn_cancel_prod") {  // 취소
		fn_cancelProd();
	}
}

// spin
function spn_ontextchanged(obj:Spin, e:TextChangedEventInfo)
{
	if (obj.value > obj.max) {
		obj.value = obj.max;
	}
}

function spn_onkillfocus(obj:Spin, e:KillFocusEventInfo)
{
	if (obj.value > obj.max) {
		obj.value = obj.max;
	}
}

var gv_recHr_flag = false;

// ontimer
function fn_recDualHr_ontimer(obj:Form, e:TimerEventInfo)
{
	if (gv_recHr_flag) {
		fn_setRecDualHr();
	}
}

function fn_setRecDualHr()
{
	var sTm = edt_rec_dual_hr.value;
	
	var aTm = String(sTm).split(":");
	var nTm = (Number(aTm[0]) * 3600)
            + (Number(aTm[1]) * 60)
            + (Number(aTm[2]) - 1); // 1초 감소

	var nHH = Math.floor(nTm / 3600);
    nTm = nTm % 3600;
    var nMM = Math.floor(nTm / 60);
    var nSS = nTm % 60;
	
    sTm = (nHH < 10 ? "0" : "") + nHH + ":"
        + (nMM < 10 ? "0" : "") + nMM + ":"
        + (nSS < 10 ? "0" : "") + nSS;
    
    if (sTm == "00:00:00") { // 자동 종료
		fn_endRecHr();
    }
    
	edt_rec_dual_hr.value = sTm;
}

function fn_clearRecHr(sType)
{
	var nTm = edt_rec_dual_hr.value;
	if (nTm == null || nTm == "" || isNaN(Number(nTm))) {
		nTm = 90;
	}
    nTm = Number(nTm);

    var nHH = Math.floor(nTm / 3600);
    nTm = nTm % 3600;
    var nMM = Math.floor(nTm / 60);
    var nSS = nTm % 60;

	sTm = (nHH < 10 ? "0" : "") + nHH + ":"
        + (nMM < 10 ? "0" : "") + nMM + ":"
        + (nSS < 10 ? "0" : "") + nSS

	edt_rec_dual_hr.value = sTm;
	
	gv_recHr_flag = true;
	
	if (gfn_isNull(sType)) {
		setTimer("recDualHrId", 1000);
	}
}

// 시간 설정 종료/취소
function fn_endRecHr(sCancFg)
{
	gv_recHr_flag = false;
	
	var sAccntNo = edt_accnt_no.value;
	var sMemNo = parent.div_member.ds_member.getColumn(0, "mem_no");
	var sMemNm = parent.div_member.ds_member.getColumn(0, "mem_nm");
	var sProdCd = edt_prod_cd.value;
	
	ap_TopFrame.form.gfn_recEndDual(sAccntNo, sMemNo, sProdCd, sMemNm, sCancFg); // 부분 녹취 종료/취소
	btn_recDual.text = ap_TopFrame.form.CTI_STATUS_STARTRECDUAL;
	btn_recDualEnd.visible = false;
	
	if (sCancFg == "1") {
		edt_rec_dual_hr.value = "";
	}
}

function fn_startRecHr()
{
	var sAccntNo = edt_accnt_no.value;
	var sMemNo = parent.div_member.ds_member.getColumn(0, "mem_no");
	var sMemNm = parent.div_member.ds_member.getColumn(0, "mem_nm");
	var sProdCd = edt_prod_cd.value;
		
	fn_clearRecHr();				// 부분 녹취 타이머 시작
	btn_recDual.text = ap_TopFrame.form.CTI_STATUS_CANCELRECDUAL;
	btn_recDualEnd.visible = true;
	ap_TopFrame.form.gfn_recStartDual(sAccntNo, sMemNo, sProdCd, sMemNm); // 부분 녹취 시작
}

// grid onmousemove
function grd_onmousemove(obj:Grid, e:GridMouseEventInfo)
{
	if(e.row >= 0) {
		if (obj.name == "grd_list_prod") {
			obj.tooltiptext = obj.getCellText(e.row, e.cell);
		} else if (obj.name == "grd_list_prodSrvc") {
			obj.tooltiptext = ds_list_prodSrvc.getColumn(e.row, "opt_svc_nm_ex");
		}
	}
}


// 회원별 부가서비스 이력과 부가서비스 관리 키번호를 동기화 시키는 로직
function fn_vatSvcSync()
{
	if (ds_prod.getColumn(0, "accnt_no") == "00000") {
		alert("기타문의는 저장할 수 없습니다.");
		return false;
	}

	var szSvcid       = "updateCallCenterVatSvcHist";
//	var szController  = "/dlw/vatSvc/updateCallCenterVatSvcHist";
	var szController  = "/dlw/newTypeCons/updateCallCenterVatSvcHist";
	var szInDs        = "ds_input=ds_prod ";
	var szOutDs       = " ";
	var szParam       = "";
	var szRetCallback = "fn_callBack";

	// 트랜젝션 공통함수 호출
	gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
	
}

// 담당사원 툴팁
function tooltip_emp(obj:Edit, e:MouseEventInfo)
{
	var emple_nm = ds_prod.getColumn(0, "emple_nm");
	var emple_dept_nm = ds_prod.getColumn(0, "emple_dept_nm");
	
	var emple_text = emple_nm + "/" + emple_dept_nm;
	
	obj.tooltiptext = emple_text;
}

// 모집사원 툴팁
function tooltip_bef(obj:Edit, e:MouseEventInfo)
{
	var emple_nm = ds_prod.getColumn(0, "bef_emple_nm");
	var emple_dept_nm = ds_prod.getColumn(0, "bef_emple_dept_nm");
	
	var bef_emple_text = emple_nm + "/" + emple_dept_nm;
	
	obj.tooltiptext = bef_emple_text;	
}


//////////////////////////////////////////////////////////
//2018.02.12 전자서명 2차 NICE 전문 발송....
/////////////////////////////////////////////////////////
function fn_niceSecondSendValidation()
{
	var sB2bComp = gv_b2b_comp_cd;      //b2b가 있는지 체크 
	var cardChk =  parent.div_buga.edt_card_no.value; //카드번호가 있는지 체크
	var cmsChk =  parent.div_buga.edt_bankaccnt_no.value; //CMS번호가 있는지 체크
	
	/* CMS 인경우 정보 */
	var sIdnNo       = parent.div_buga.edt_brdt.value;         // 생년월일
	var sBankCd      = parent.div_buga.edt_bank_cd.value;      // 은행코드
	var sBankAccntNo = parent.div_buga.edt_bankaccnt_no.value; // 은행계좌번호
	
	/* CARD 인경우 정보 */
	var sCardNm      = parent.div_buga.edt_card_nm.value;      // 카드사명
	var sCardNo      = parent.div_buga.edt_card_no.value;      // 카드번호
	
	if(gfn_isNull(parent.div_member.ci_val.value) == true)
	{
		alert("본인인증을 하지 않은 고객입니다. 2차 접수가 불가능 합니다.")
		return false;
	}
		
	//trace("카드여부 체크 : " + cardChk);
	//trace("B2B 체크 : " + sB2bComp);
		
	if(cbo_pay_mthd.value == "04")
	{
		/*/
		if(cmsChk == "" || gfn_isNull(cmsChk) == true)
		{
			alert("CMS 등록을 해주십시요!![CMS 미등록]");
			return false;			
		}
		
		if((gfn_isNull(sIdnNo) == true) || (gfn_isNull(sBankCd) == true) || 
		   (gfn_isNull(sBankAccntNo) == true))
		{
			alert("납입정보의 생년월일, 은행코드, 계좌번호를 정확하게 입력하여 주십시오.");
			return false;
		}
		*/
	}
	else if(cbo_pay_mthd.value == "06")
	{
		trace("sIdnNo : " +  sIdnNo);
		trace("sIdnNo : " +  sCardNm);
		trace("sIdnNo : " +  sCardNo);
		/*
		if(cardChk == "" || gfn_isNull(cardChk) == true)
		{
			alert("카드 등록을 해주십시요!![카드 미등록]");
			return false;			
		}
		
		if((gfn_isNull(sIdnNo) == true) || (gfn_isNull(sCardNm) == true) || 
		   (gfn_isNull(sCardNo) == true))
		{
			alert("납입정보의 생년월일, 카드사명, 카드번호를 정확하게 입력하여 주십시오.");
			return false;
		}
		*/
	}
	else
	{
		alert("전자서명 계약의 납입방식은 CMS 또는 카드 결제만 가능합니다.");
		return false;
	}
		
	if(sB2bComp != "6018" || gfn_isNull(sB2bComp) == true)
	{
		alert("b2b회사명을 확인 하여 주십시요");
		return false;
	}	
		
	if(cbo_hpcl_stat_cd.value != "21")
	{
		alert("계약문자 전송시에는 해피콜상태를 [전자서명대기]로 설정하여 주십시오.");
		return false;
	}					
	return true;
}

function fn_niceSecondResendValidation()
{
	var sAuthCode1 = ds_acuonLatelyAuth.getColumn(0, "auth_01"); // 03
	var sAuthCode2 = ds_acuonLatelyAuth.getColumn(0, "auth_02"); // 04, 05
	
	if((sAuthCode1 == "03" && sAuthCode2 == "04") || (sAuthCode1 == "03" && sAuthCode2 == "05"))
	{
		return true;
	}
	else
	{
		alert("계약문자재발송은 [2차접수완료] 또는 [위탁처리]단계에서만 가능합니다.");
		return false;
	}
}

function btn_niceSecondSend_onclick(obj:Button,  e:ClickEventInfo)
{	
	if (gfn_isNull(obj.text) == true) 
	{
		trace("NICE 전자서명 전송을 위한 기능명이 없어 해당 작업을 수행할수 없습니다.");
		return false;
	} 
	else 
	{
		switch (obj.text) 
		{
			case "계약문자발송" :
				if(fn_niceSecondSendValidation() == true)
				{
					ds_niceReSend2.clearData();
					var nRow = ds_niceReSend2.addRow();
		
					//ds_niceReSend2.setColumn(nRow, "trgt_cust_dtpt_id", ds_list_prod.getColumn(ds_list_prod.rowposition, "trgt_id"));
					ds_niceReSend2.setColumn(nRow, "accnt_no", ds_list_prod.getColumn(ds_list_prod.rowposition, "accnt_no"));					
					ds_niceReSend2.setColumn(nRow, "nice_no", gv_niceNo);	
					gv_accnt_no = ds_list_prod.getColumn(ds_list_prod.rowposition, "accnt_no");
										
					//trace("정상");
					
					//trace("ds_niceReSend2 : " + gv_niceNo);
					//return false;
	
					var szSvcid       = "insertNiceInfomation2";
//					var szController  = "/web/nice/insertNiceInfomation2";
					var szController  = "/dlw/newTypeCons/insertNiceInfomation2";
					var szInDs        = "ds_input1=ds_niceReSend2";
					var szOutDs       = "";
					var szParam       = "";
					var szRetCallback = "fn_callBack";

					// 트랜젝션 공통함수 호출
					gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
				}
			break;
			
			case "계약재전송" :
				if(fn_niceSecondSendValidation() == true)
				{
					ds_niceReSend2.clearData();
					var nRow = ds_niceReSend2.addRow();
		
					//ds_niceReSend2.setColumn(nRow, "trgt_cust_dtpt_id", ds_list_prod.getColumn(ds_list_prod.rowposition, "trgt_id"));
					ds_niceReSend2.setColumn(nRow, "accnt_no", ds_list_prod.getColumn(ds_list_prod.rowposition, "accnt_no"));					
					ds_niceReSend2.setColumn(nRow, "nice_no", gv_niceNo);	
					gv_accnt_no = ds_list_prod.getColumn(ds_list_prod.rowposition, "accnt_no");
					
					//trace("정상");
					
					//trace("ds_niceReSend2 : " + gv_niceNo);
					//return false;
	
					var szSvcid       = "insertNiceInfomation2";
//					var szController  = "/web/nice/insertNiceInfomation2";
					var szController  = "/dlw/newTypeCons/insertNiceInfomation2";					
					var szInDs        = "ds_input1=ds_niceReSend2";
					var szOutDs       = "";
					var szParam       = "";
					var szRetCallback = "fn_callBack";

					// 트랜젝션 공통함수 호출
					gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
				}
			break;			
			
			case "재전송" :
				if(fn_niceSecondSendValidation() == true)
				{		
					ds_niceReSend2.clearData();
					var nRow = ds_niceReSend2.addRow();
			
					//ds_niceReSend2.setColumn(nRow, "trgt_cust_dtpt_id", ds_list_prod.getColumn(ds_list_prod.rowposition, "trgt_id"));
					ds_niceReSend2.setColumn(nRow, "accnt_no", ds_list_prod.getColumn(ds_list_prod.rowposition, "accnt_no"));
		
					gv_accnt_no = ds_list_prod.getColumn(ds_list_prod.rowposition, "accnt_no");
		
					var szSvcid       = "resendKaKao2";
//					var szController  = "/web/nice/resendKaKao2";
					var szController  = "/dlw/newTypeCons/resendKaKao2";
					var szInDs        = "ds_input1=ds_niceReSend2";
					var szOutDs       = "";
					var szParam       = "";
					var szRetCallback = "fn_callBack";

					// 트랜젝션 공통함수 호출
				    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
				}
			break;
			
			case "증서열람" :
				ds_pdfTemp.clearData();
				var nRow = ds_pdfTemp.addRow();
				ds_pdfTemp.setColumn(nRow, "accnt_no", ds_list_prod.getColumn(ds_list_prod.rowposition, "accnt_no"));
				ds_pdfTemp.setColumn(nRow, "join_dt", ds_list_prod.getColumn(ds_list_prod.rowposition, "join_dt"));
	
				var szSvcid       = "getNicePdfFile";
//				var szController  = "/web/nice/getNicePdfFile";
				var szController  = "/dlw/newTypeCons/getNicePdfFile";
				var szInDs        = "ds_input=ds_pdfTemp";
				var szOutDs       = "ds_pdfFileInfo=ds_output";
				var szParam       = "";
				var szRetCallback = "fn_callBack";
	
				gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
			break;
		}
	}
	
}

function cbo_hpcl_stat_cd_onitemchanged(obj:Combo, e:ItemChangeEventInfo)
{
	var sAuthCode1 = ds_acuonLatelyAuth.getColumn(0, "auth_01");
	var sAuthCode2 = ds_acuonLatelyAuth.getColumn(0, "auth_02");
	var sHpclStatCd = cbo_hpcl_stat_cd.value;
	
	if(sAuthCode1 == "03" && sAuthCode2 == "06")
	{
		if(sHpclStatCd == "21")
		{
			cbo_prod_model_kind.enable = true;
			cbo_prod_model_cd.enable = true;
			cbo_prod_kind.enable = true;
		}
		else
		{
			cbo_prod_model_kind.enable = false;
			cbo_prod_model_cd.enable = false;
			cbo_prod_kind.enable = false;
		}
	}
} 

/*************************************************************************************************************************************************
 * 현재 금액 청구중인 회원인지 아닌지 여부 확인 20181023 송준빈 청구고객
 *************************************************************************************************************************************************/

function fn_getWdrwReqAccntConfirm()
{
	var sAccntNo = edt_accnt_no.value;
	
	var szSvcid       = "getWdrwReqAccntConfirm";
//	var szController  = "/dlw/pay/getWdrwReqAccntConfirm";
	var szController  = "/dlw/newTypeCons/getWdrwReqAccntConfirm";
	var szInDs        = "";
	var szOutDs       = ""; 
	var szParam       = "accnt_no=" + sAccntNo;
	var szRetCallback = "fn_callBack";
			
	// 트랜젝션 공통함수 호출
	gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

// 변경된 데이터 YN
function fn_setAbleSave()
{
}

// 회원조회시 산출 또는 청구중인지 체크
function fn_getWdrwReqAccntConfirm2()
{
	var sAccntNo = edt_accnt_no.value;
	
	var szSvcid       = "getWdrwReqAccntEventConfirm";
	var szController  = "/dlw/newTypeCons/getWdrwReqAccntEventConfirm";
	var szInDs        = "";
	var szOutDs       = "ds_listWdrwReq=ds_output";
	var szParam       = "accnt_no=" + sAccntNo;
	var szRetCallback = "fn_callBack";
			
	// 트랜젝션 공통함수 호출
	gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

function fn_getMemberMangiExtConfirmList()
{
	var szSvcid       = "getMemberMangiExtConfirmList";
	var szController  = "/dlw/newTypeCons/getMemberMangiExtConfirmList";
	var szInDs        = "ds_input=ds_prod";
	var szOutDs       = "ds_listMemberMangiExt=ds_output";
	var szParam       = "";
	var szRetCallback = "fn_callBack";
			
	// 트랜젝션 공통함수 호출
	gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

// 주계약 팝업 추가
function btn_main_contract_onclick(obj:Button,  e:ClickEventInfo)
{
	var sPrmr = {};
	var reVal = gfn_diaLog("주계약", -1, -1, -1, -1, "PS020000::PS02000104P02.xfdl", false, sPrmr, false, false, true, null, null, true);
}

function btn_mangiExt_onclick(obj:Button,  e:ClickEventInfo)
{
	gv_sbit = "C";
	fn_openPopup(obj.name);
}

function btn_event_stat_onclick(obj:Button,  e:ClickEventInfo)
{
	var sType = ""
	if(gv_join_stat == "04"){
		sType = "btn_srchEvent";
	} else {
		sType = "btn_cnctRgsn";
	}
	fn_openPopup(sType);
}

function edt_emple_nm_oneditdblclick(obj:Edit,  e:EditClickEventInfo)
{
	var sEmpleNo = ds_prod.getColumn(ds_prod.rowposition, "emple_no");
	
	if(gfn_isNull(sEmpleNo) == true)
	{
		return false;
	}

	var sPrmr = { pEmpleNo : sEmpleNo, pBefEmpleCd : "" };
	var reVal = gfn_diaLog("담당사원기본정보", -1, -1, -1, -1, "DL500000::DL50000104P05.xfdl", false, sPrmr, false, false, true, null, null, true);
}

function edt_bef_emple_nm_oneditdblclick(obj:Edit,  e:EditClickEventInfo)
{
	var sBefEmpleCd = ds_prod.getColumn(ds_prod.rowposition, "bef_emple_cd");
	
	if(gfn_isNull(sBefEmpleCd) == true)
	{
		return false;
	}
	
	var sPrmr = { pBefEmpleCd : sBefEmpleCd, pEmpleNo : "" };
	var reVal = gfn_diaLog("모집사원기본정보", -1, -1, -1, -1, "DL500000::DL50000104P05.xfdl", false, sPrmr, false, false, true, null, null, true);
}

function cbo_prod_kind_onitemchanged(obj:Combo, e:ItemChangeEventInfo)
{
	edt_prod_kind.value = ds_cbo_prdtKind.getColumn(obj.index,"prod_kind_nm");
}

function fn_setUserOption()
{
	btn_userOption.position2 = "absolute l:71.41% w:14.36% t:304 h:20";
	btn_adminUserOption.visible = true;
}

function fn_setBtnVisible()
{
	btn_update_prod.visible = false;
	btn_add_prod.visible = false;
	btn_recDual.visible = false;
	btn_cnctRgsn.visible = false;
	btn_evnt_ip.visible = false;
	btn_concCmpl.visible = false;
	btn_userOption.visible = false;
	btn_adminUserOption.visible = false;
	btn_srchPhoneTyp.visible = false;
	btn_memberAddr.visible = false;
	btn_event_stat.visible = false;
	edt_rec_dual_hr.visible = false;
	btn_main_contract.visible = false;
}
function cbo_prod_model_cd_onitemchanged(obj:Combo, e:ItemChangeEventInfo)
{
	var sTest = obj.text;
	if(sTest.indexOf("단종") > 0) {
		alert("이 모델명은 단종된 모델입니다.");
	}
}

function fn_direct_copy()
{
	var sRdpMstIdx   = ds_list_direct.getColumn(0, "rdp_mst_idx");
	var sOrdMstIdx   = ds_list_direct.getColumn(0, "ord_mst_idx");
	var sB2bCd        = ds_list_direct.getColumn(0, "b2b_cd");
	var sB2bNm        = ds_list_direct.getColumn(0, "b2b_nm");
	var sProdCd       = ds_list_direct.getColumn(0, "prod_cd");
	var sProdNm       = ds_list_direct.getColumn(0, "prod_nm");
	var sProdKind     = ds_list_direct.getColumn(0, "prod_kind");
	var sModelCd      = ds_list_direct.getColumn(0, "model_cd");
	var sInsplZip     = ds_list_direct.getColumn(0, "inspl_zip");
	var sInsplAddr    = ds_list_direct.getColumn(0, "inspl_addr");
	var sInsplAddr2   = ds_list_direct.getColumn(0, "inspl_addr2");
	var sHpcallTime   = ds_list_direct.getColumn(0, "hpcall_time");
	var sMainContract = ds_list_direct.getColumn(0, "main_contract");
	var sMainContractNm = ds_list_direct.getColumn(0, "main_contract_nm");
	
	
	
	edt_prod_cd.value = sProdCd;
	edt_prod_nm.value = sProdNm;
	edt_id_no.value = sOrdMstIdx;
	mae_inspl_zip.value = sInsplZip;
	edt_inspl_addr.value = sInsplAddr;
	edt_inspl_addr2.value = sInsplAddr2;
	gv_b2b_comp_cd = sB2bCd;
	edt_b2b_comp_nm.value = sB2bNm;
	cbo_hpcl_stat_cd.value = '01';
	
	ds_prodList.clearData();
	ds_prodList.addRow();
	ds_prodList.setColumn(0, "prod_cd", sProdCd);
	ds_prodList.setColumn(0, "prod_nm", sProdNm);

	
	
	//ds_prodList.copyRow(0, ds_prod, nSelectRow);

	fn_prodChcResl(); // 상품 선택 결과 호출
	
	ds_prod.setColumn(0, "main_contract", sMainContract);
	ds_prod.setColumn(0, "main_contract_nm", sMainContractNm);
	
	//cbo_prod_model_kind.value = sProdKind;
	//cbo_prod_model_cd.value = sModelCd;
	
// 	edt_emple_nm.value = gds_UserInfo.getColumn(0, "user_nm");
// 	gv_emple_no = gds_UserInfo.getColumn(0, "user_id");
// 	edt_bef_emple_nm.value = gds_UserInfo.getColumn(0, "user_nm");
// 	gv_bef_emple_cd = gds_UserInfo.getColumn(0, "user_id");
	
}

function fn_double_copy()
{

	gv_sbit = "E";
 	fn_openPopup('edt_prod_cd');
//	fn_prodChcResl(); // 상품 선택 결과 호출
	/*
	edt_prod_cd.readonly = true;
	edt_prod_nm.readonly = true;
	btn_srchProd.enable = false;
	edt_emple_nm.readonly = true;
	edt_bef_emple_nm.readonly = true;
	btn_srchEmple.visible = false;
	btn_befEmple.visible = false;
	cal_join_dt.enable = false;
	
	if(!gfn_isNull(cbo_pay_mthd.value)) {
		cbo_pay_mthd.enable = false;
	}
	*/
}

function fn_uplus_copy()
{
	var sIdNo = ds_list_uplus.getColumn(0, "id_no");
	var sDiscountCtn = ds_list_uplus.getColumn(0, "discount_ctn");
	var sPayMthd = ds_list_uplus.getColumn(0, "pay_mthd");
	
	edt_id_no.value = sIdNo;
	edt_kb_no.value = gfn_Replace(sDiscountCtn, "-", "");
	if(sPayMthd == "CMS") {
		cbo_pay_mthd.value = '04';
	}
	if(sPayMthd == "CARD" || sPayMthd == "카드") {
		cbo_pay_mthd.value = '06';
	}
	
}]]></Script>
  </Form>
</FDL>
