<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\default_typedef.xml"/>
  <Form id="PS02000103" classname="PS02000103" inheritanceid="" position="absolute 0 0 600 185" titletext="고객상담이력" scrollbars="none" onload="PS02000103_onload">
    <Layouts>
      <Layout>
        <Tab id="tab_mem_cons" taborder="6" position2="absolute l:0 r:3px t:0 b:0" positiontype="position2" onchanged="tab_onchanged" scrollbars="autoboth" tabindex="0" onlbuttonup="tab_mem_cons_onlbuttonup">
          <Tabpages>
            <Tabpage id="tp_cons" text="상담">
              <Layouts>
                <Layout>
                  <Grid id="grd_cons" taborder="0" binddataset="ds_cons_list" useinputpanel="false" cellsizingtype="col" onheadclick="grd_list_onheadclick" position2="absolute l:0 r:0 t:0 b:0" positiontype="position2" onmousemove="grd_onmousemove" onrbuttondown="tab_mem_cons_tp_cons_grd_cons_onrbuttondown" oncellclick="grd_list_oncellclick" onkeydown="tab_mem_cons_tp_cons_grd_cons_onkeydown" tooltiptype="default,mouseleave">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="30"/>
                          <Column size="140"/>
                          <Column size="90"/>
                          <Column size="60"/>
                          <Column size="80"/>
                          <Column size="105"/>
                          <Column size="80"/>
                          <Column size="54"/>
                          <Column size="100"/>
                          <Column size="100"/>
                          <Column size="100"/>
                          <Column size="100"/>
                          <Column size="100"/>
                          <Column size="100"/>
                          <Column size="80"/>
                          <Column size="80"/>
                          <Column size="80"/>
                          <Column size="105"/>
                          <Column size="100"/>
                        </Columns>
                        <Rows>
                          <Row size="25" band="head"/>
                          <Row size="25"/>
                        </Rows>
                        <Band id="head">
                          <Cell displaytype="normal" edittype="none" text="NO"/>
                          <Cell col="1" text="상담번호" id="consno"/>
                          <Cell col="2" text="회원번호" expandshow="hide" expandsize="13" id="accnt_no"/>
                          <Cell col="3" text="접수자" id="actp_nm"/>
                          <Cell col="4" text="상담그룹"/>
                          <Cell col="5" text="접수일시" id="acpg_dttm"/>
                          <Cell col="6" text="접수채널" id="acpg_chnl_nm"/>
                          <Cell col="7" text="이력건수"/>
                          <Cell col="8" text="인입번호" id="inco_tlno"/>
                          <Cell col="9" text="자택전화" id="home_tel"/>
                          <Cell col="10" text="휴대전화" id="cell"/>
                          <Cell col="11" text="상담유형1" id="cons_typ1_nm"/>
                          <Cell col="12" text="상담유형2" id="cons_typ2_nm"/>
                          <Cell col="13" text="상담유형3" id="cons_typ3_nm"/>
                          <Cell col="14" text="처리방법" id="cons_dspsmddl_dtpt_nm"/>
                          <Cell col="15" text="처리상태" id="cons_stat_nm"/>
                          <Cell col="16" text="처리자" id="amnd_nm"/>
                          <Cell col="17" text="처리일시" id="amnt_dttm"/>
                          <Cell col="18" text="메모"/>
                        </Band>
                        <Band id="body">
                          <Cell text="expr:currow+1"/>
                          <Cell col="1" style="color:blue;color2:blue;font:arial,9,underline;cursor:hand;selectcolor:blue;selectfont:arial,9,underline;" text="bind:consno"/>
                          <Cell col="2" text="bind:accnt_no"/>
                          <Cell col="3" text="bind:actp_nm"/>
                          <Cell col="4" text="bind:actp_team2_nm"/>
                          <Cell col="5" style="color:tomato;color2:tomato;" text="bind:acpg_dttm" mask="####-##-## ##:##"/>
                          <Cell col="6" style="color:EXPR(acpg_chnl_nm == '의전' ? 'red': 'black');color2:EXPR(acpg_chnl_nm == '의전' ? 'red': 'black');" text="bind:acpg_chnl_nm"/>
                          <Cell col="7" text="bind:chcnt"/>
                          <Cell col="8" displaytype="expr:gfn_isNull(inco_tlno) ? &quot;none&quot; : &quot;mask&quot;" text="bind:inco_tlno" expr="expr:expr:gfn_isNull(inco_tlno) ? &quot;&quot; : inco_tlno" mask="expr:gfn_SetTelNoGrdMask(inco_tlno)"/>
                          <Cell col="9" displaytype="expr:gfn_isNull(home_tel) ? &quot;none&quot; : &quot;mask&quot;" text="bind:home_tel" expr="expr:gfn_isNull(home_tel) ? &quot;&quot; : home_tel" mask="expr:gfn_SetTelNoGrdMask(home_tel)"/>
                          <Cell col="10" displaytype="expr:gfn_isNull(cell) ? &quot;none&quot; : &quot;mask&quot;" edittype="none" text="bind:cell" expr="expr:gfn_isNull(cell) ? &quot;&quot; : cell" mask="expr:gfn_SetTelNoGrdMask(cell)"/>
                          <Cell col="11" style="align: ;" text="bind:cons_typ1_nm"/>
                          <Cell col="12" style="align: ;" text="bind:cons_typ2_nm"/>
                          <Cell col="13" style="align: ;" text="bind:cons_typ3_nm"/>
                          <Cell col="14" text="bind:cons_dspsmddl_dtpt_nm"/>
                          <Cell col="15" text="bind:cons_stat_nm"/>
                          <Cell col="16" text="bind:amnd_nm"/>
                          <Cell col="17" text="bind:amnt_dttm" mask="####-##-## ##:##"/>
                          <Cell col="18" displaytype="text" text="bind:cons_memo_cntn"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                  <Div id="div_consFilter" taborder="1" position="absolute 260 -1 406 134" style="background:white;border:1 solid black ;" visible="false">
                    <Layouts>
                      <Layout width="126" height="95">
                        <Grid id="Grid00" taborder="0" useinputpanel="false" position="absolute 0 0 144 106" binddataset="ds_cons_filter" anchor="default" scrollbars="alwaysvert" oncellclick="tab_mem_cons_tp_cons_div_consFilter_Grid00_oncellclick">
                          <Formats>
                            <Format id="default">
                              <Columns>
                                <Column size="22"/>
                                <Column size="100"/>
                              </Columns>
                              <Rows>
                                <Row size="20" band="head"/>
                                <Row size="20"/>
                              </Rows>
                              <Band id="head">
                                <Cell displaytype="checkbox"/>
                                <Cell col="1" style="font:arial,8;" text="회원번호"/>
                              </Band>
                              <Band id="body">
                                <Cell displaytype="checkbox" edittype="checkbox" text="bind:chk"/>
                                <Cell col="1" text="bind:accnt_no"/>
                              </Band>
                            </Format>
                          </Formats>
                        </Grid>
                        <Button id="btn_close" taborder="1" text="확인" position="absolute 13 110 49 128" onclick="tab_mem_cons_tp_cons_div_consFilter_btn_close_onclick" anchor="default"/>
                        <Button id="btn_cancel" taborder="2" text="취소" position="absolute 51 110 87 128" anchor="default" onclick="tab_mem_cons_tp_cons_div_consFilter_btn_cancel_onclick"/>
                        <Button id="btn_release" taborder="3" text="해제" position="absolute 89 110 125 128" onclick="tab_mem_cons_tp_cons_div_consFilter_btn_release_onclick" anchor="default"/>
                      </Layout>
                    </Layouts>
                  </Div>
                  <Div id="div_tooltiptext" taborder="2" position="absolute 0 30 143 126" style="border:1 solid #385d8aff ;" visible="false">
                    <Layouts>
                      <Layout>
                        <TextArea id="txa_tooltip" taborder="0" position2="absolute l:0 r:0 t:75 b:0" style="background:lemonchiffon stretch 5,5;font:Dotum,10;" readonly="true" onkeydown="tab_mem_cons_tp_cons_div_tooltiptext_txa_tooltip_onkeydown" wordwrap="word" positiontype="position2"/>
                        <Grid id="grd_cons" taborder="1" binddataset="ds_cons_list_tooltip" useinputpanel="false" cellsizingtype="col" position2="absolute l:0 r:0 t:0 h:74" onkeydown="tab_mem_cons_tp_cons_div_tooltiptext_grd_cons_onkeydown" positiontype="position2">
                          <Formats>
                            <Format id="default">
                              <Columns>
                                <Column size="30"/>
                                <Column size="140"/>
                                <Column size="90"/>
                                <Column size="60"/>
                                <Column size="105"/>
                                <Column size="80"/>
                                <Column size="100"/>
                                <Column size="100"/>
                                <Column size="100"/>
                                <Column size="100"/>
                                <Column size="100"/>
                                <Column size="100"/>
                                <Column size="80"/>
                                <Column size="80"/>
                                <Column size="80"/>
                                <Column size="105"/>
                              </Columns>
                              <Rows>
                                <Row size="25" band="head"/>
                                <Row size="25"/>
                              </Rows>
                              <Band id="head">
                                <Cell displaytype="normal" edittype="none" text="NO"/>
                                <Cell col="1" text="상담번호" id="consno"/>
                                <Cell col="2" text="회원번호" expandshow="hide" expandsize="13" id="accnt_no"/>
                                <Cell col="3" text="접수자" id="actp_nm"/>
                                <Cell col="4" text="접수일시" id="acpg_dttm"/>
                                <Cell col="5" text="접수채널" id="acpg_chnl_nm"/>
                                <Cell col="6" text="인입번호" id="inco_tlno"/>
                                <Cell col="7" text="자택전화" id="home_tel"/>
                                <Cell col="8" text="휴대전화" id="cell"/>
                                <Cell col="9" text="상담유형1" id="cons_typ1_nm"/>
                                <Cell col="10" text="상담유형2" id="cons_typ2_nm"/>
                                <Cell col="11" text="상담유형3" id="cons_typ3_nm"/>
                                <Cell col="12" text="처리방법" id="cons_dspsmddl_dtpt_nm"/>
                                <Cell col="13" text="처리상태" id="cons_stat_nm"/>
                                <Cell col="14" text="처리자" id="amnd_nm"/>
                                <Cell col="15" text="처리일시" id="amnt_dttm"/>
                              </Band>
                              <Band id="body">
                                <Cell text="expr:currow+1"/>
                                <Cell col="1" style="font:arial,9;cursor:auto;selectfont:arial,9;" text="bind:consno"/>
                                <Cell col="2" text="bind:accnt_no"/>
                                <Cell col="3" text="bind:actp_nm"/>
                                <Cell col="4" style="color:tomato;color2:tomato;" text="bind:acpg_dttm" mask="####-##-## ##:##"/>
                                <Cell col="5" text="bind:acpg_chnl_nm"/>
                                <Cell col="6" displaytype="expr:gfn_isNull(inco_tlno) ? &quot;none&quot; : &quot;mask&quot;" text="bind:inco_tlno" expr="expr:expr:gfn_isNull(inco_tlno) ? &quot;&quot; : inco_tlno" mask="expr:gfn_SetTelNoGrdMask(inco_tlno)"/>
                                <Cell col="7" displaytype="expr:gfn_isNull(home_tel) ? &quot;none&quot; : &quot;mask&quot;" text="bind:home_tel" expr="expr:gfn_isNull(home_tel) ? &quot;&quot; : home_tel" mask="expr:gfn_SetTelNoGrdMask(home_tel)"/>
                                <Cell col="8" displaytype="expr:gfn_isNull(cell) ? &quot;none&quot; : &quot;mask&quot;" edittype="none" text="bind:cell" expr="expr:gfn_isNull(cell) ? &quot;&quot; : cell" mask="expr:gfn_SetTelNoGrdMask(cell)"/>
                                <Cell col="9" style="align: ;" text="bind:cons_typ1_nm"/>
                                <Cell col="10" style="align: ;" text="bind:cons_typ2_nm"/>
                                <Cell col="11" style="align: ;" text="bind:cons_typ3_nm"/>
                                <Cell col="12" text="bind:cons_dspsmddl_dtpt_nm"/>
                                <Cell col="13" text="bind:cons_stat_nm"/>
                                <Cell col="14" text="bind:amnd_nm"/>
                                <Cell col="15" text="bind:amnt_dttm" mask="####-##-## ##:##"/>
                              </Band>
                            </Format>
                          </Formats>
                        </Grid>
                      </Layout>
                    </Layouts>
                  </Div>
                </Layout>
              </Layouts>
            </Tabpage>
            <Tabpage id="tp_voc" text="VOC">
              <Layouts>
                <Layout>
                  <Grid id="grd_voc" taborder="0" binddataset="ds_list_voc" useinputpanel="false" cellsizingtype="col" autofittype="none" oncellclick="grd_list_oncellclick" onheadclick="grd_list_onheadclick" position2="absolute l:0 r:0px t:0px b:0px" positiontype="position2">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="30"/>
                          <Column size="50"/>
                          <Column size="80"/>
                          <Column size="105"/>
                          <Column size="100"/>
                          <Column size="100"/>
                          <Column size="80"/>
                          <Column size="105"/>
                        </Columns>
                        <Rows>
                          <Row size="25" band="head"/>
                          <Row size="25"/>
                        </Rows>
                        <Band id="head">
                          <Cell displaytype="normal" edittype="none" text="NO"/>
                          <Cell col="1" displaytype="normal"/>
                          <Cell col="2" text="접수자" id="voc_actp_nm"/>
                          <Cell col="3" text="접수일시" id="voc_acpg_dttm"/>
                          <Cell col="4" text="VOC유형" id="voc_typ_cd"/>
                          <Cell col="5" text="처리상태" id="voc_dsps_stat_cd"/>
                          <Cell col="6" text="처리자" id="voc_dssr_nm"/>
                          <Cell col="7" text="처리일시" id="voc_dsps_dttm"/>
                        </Band>
                        <Band id="body">
                          <Cell text="expr:currow+1"/>
                          <Cell col="1" displaytype="button" text="보기"/>
                          <Cell col="2" text="bind:voc_actp_nm"/>
                          <Cell col="3" text="bind:voc_acpg_dttm" mask="####-##-## ##:##"/>
                          <Cell col="4" text="bind:voc_typ_nm"/>
                          <Cell col="5" text="bind:voc_dsps_stat_nm"/>
                          <Cell col="6" text="bind:voc_dssr_nm"/>
                          <Cell col="7" displaytype="expr:gfn_isNull(voc_dsps_dttm) ? &quot;none&quot; : &quot;mask&quot;" text="bind:voc_dsps_dttm" expr="expr:gfn_isNull(voc_dsps_dttm) ? &quot;&quot; : voc_dsps_dttm" mask="expr:gfn_SetDateGrdMask(voc_dsps_dttm)"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                </Layout>
              </Layouts>
            </Tabpage>
            <Tabpage id="tp_chat" text="SMS">
              <Layouts>
                <Layout>
                  <Grid id="grd_chat" taborder="0" binddataset="ds_list_chat" useinputpanel="false" cellsizingtype="col" autofittype="none" onheadclick="grd_list_onheadclick" position2="absolute l:0 r:0px t:0 b:0px" positiontype="position2" onmousemove="grd_onmousemove">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="30"/>
                          <Column size="105"/>
                          <Column size="80"/>
                          <Column size="100"/>
                          <Column size="100"/>
                          <Column size="85"/>
                          <Column size="379"/>
                        </Columns>
                        <Rows>
                          <Row size="25" band="head"/>
                          <Row size="25"/>
                        </Rows>
                        <Band id="head">
                          <Cell displaytype="normal" edittype="none" text="NO"/>
                          <Cell col="1" text="발송일시" id="sndg_dttm"/>
                          <Cell col="2" text="상담사" id="sndg_chpr_nm"/>
                          <Cell col="3" text="발신번호"/>
                          <Cell col="4" text="수신번호" id="cell"/>
                          <Cell col="5" text="발송유형" id="chat_sndg_div_cd"/>
                          <Cell col="6" text="내용" id="chat_msg_cntn"/>
                        </Band>
                        <Band id="body">
                          <Cell text="expr:currow+1"/>
                          <Cell col="1" text="bind:sndg_dttm" mask="####-##-## ##:##"/>
                          <Cell col="2" text="bind:sndg_chpr_nm"/>
                          <Cell col="3" displaytype="expr:gfn_isNull(cntr_rprs_tlno) ? &quot;none&quot; : &quot;mask&quot;" text="bind:cntr_rprs_tlno" expr="expr:expr:gfn_isNull(cntr_rprs_tlno) ? &quot;&quot; : cntr_rprs_tlno" mask="expr:gfn_SetTelNoGrdMask(cntr_rprs_tlno)"/>
                          <Cell col="4" displaytype="expr:gfn_isNull(cell) ? &quot;none&quot; : &quot;mask&quot;" text="bind:cell" expr="expr:expr:gfn_isNull(cell) ? &quot;&quot; : cell" mask="expr:gfn_SetTelNoGrdMask(cell)"/>
                          <Cell col="5" text="bind:chat_sndg_div_nm"/>
                          <Cell col="6" displaytype="text" edittype="readonly" style="align:left middle;" text="bind:chat_msg_cntn" expr="expr:gfn_textArea(chat_msg_cntn)" editautoselect="true" editdisplay="display"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                </Layout>
              </Layouts>
            </Tabpage>
            <Tabpage id="tp_dlw_cons" text="엔컴">
              <Layouts>
                <Layout>
                  <Grid id="grd_dlw_cons" taborder="0" binddataset="ds_list_dlw_cons" useinputpanel="false" cellsizingtype="col" onmousemove="grd_onmousemove" onheadclick="grd_list_onheadclick" position2="absolute l:0 r:0px t:0 b:0px" positiontype="position2">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="45"/>
                          <Column size="105"/>
                          <Column size="90"/>
                          <Column size="100"/>
                          <Column size="140"/>
                          <Column size="100"/>
                          <Column size="380"/>
                        </Columns>
                        <Rows>
                          <Row size="25" band="head"/>
                          <Row size="25"/>
                        </Rows>
                        <Band id="head">
                          <Cell text="순번" id="seq"/>
                          <Cell col="1" text="상담일시" id="cnsl_dt"/>
                          <Cell col="2" text="상담사" id="cnsl_man_nm"/>
                          <Cell col="3" text="전화번호" id="call_tel"/>
                          <Cell col="4" text="상품" id="prod_nm"/>
                          <Cell col="5" text="구분" id="gubn_nm"/>
                          <Cell col="6" text="상담내용" id="prod_nm"/>
                        </Band>
                        <Band id="body">
                          <Cell text="bind:seq"/>
                          <Cell col="1" text="bind:cnsl_dt" mask="####-##-## ##:##"/>
                          <Cell col="2" text="bind:cnsl_man_nm"/>
                          <Cell col="3" displaytype="expr:gfn_isNull(call_tell) ? &quot;none&quot; : &quot;mask&quot;" text="bind:call_tel" expr="expr:gfn_isNull(call_tel) ? &quot;&quot; : call_tel" mask="expr:gfn_SetTelNoGrdMask(call_tel)"/>
                          <Cell col="4" style="align:left;" text="bind:prod_nm"/>
                          <Cell col="5" text="bind:gubn_nm"/>
                          <Cell col="6" displaytype="text" edittype="readonly" style="align:left middle;" text="bind:cnsl_con_show" expr="expr:gfn_textArea(cnsl_con_show)" editautoselect="true" editdisplay="display"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                </Layout>
              </Layouts>
            </Tabpage>
            <Tabpage id="life_hist" text="홈페이지">
              <Layouts>
                <Layout>
                  <Grid id="grd_life" taborder="0" binddataset="ds_list_dlw_lifewey" useinputpanel="false" cellsizingtype="col" onmousemove="grd_onmousemove" onheadclick="grd_list_onheadclick" position2="absolute l:1 r:-1 t:1 b:-1" positiontype="position2">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="61"/>
                          <Column size="80"/>
                          <Column size="127"/>
                          <Column size="602"/>
                        </Columns>
                        <Rows>
                          <Row size="24" band="head"/>
                          <Row size="24"/>
                        </Rows>
                        <Band id="head">
                          <Cell displaytype="normal" text="순번"/>
                          <Cell col="1" displaytype="normal" text="고유번호"/>
                          <Cell col="2" displaytype="normal" text="변경일시"/>
                          <Cell col="3" displaytype="normal" style="align:left;" text="변경내역"/>
                        </Band>
                        <Band id="body">
                          <Cell displaytype="normal" text="bind:page_indx"/>
                          <Cell col="1" displaytype="normal" text="bind:mem_no"/>
                          <Cell col="2" displaytype="normal" text="bind:reg_dm" mask="####-##-## ##:##"/>
                          <Cell col="3" displaytype="normal" style="align:left;" text="bind:bigo"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                </Layout>
              </Layouts>
            </Tabpage>
            <Tabpage id="tp_trgtCustDtpt" text="아웃바운드">
              <Layouts>
                <Layout>
                  <Grid id="grd_trgtCustDtpt" taborder="0" binddataset="ds_listTrgtCustDtpt" useinputpanel="false" cellsizingtype="col" onmousemove="grd_onmousemove" onheadclick="grd_list_onheadclick" position2="absolute l:1 r:-1 t:1 b:-1" positiontype="position2">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="140"/>
                          <Column size="140"/>
                          <Column size="400"/>
                        </Columns>
                        <Rows>
                          <Row size="24" band="head"/>
                          <Row size="24"/>
                        </Rows>
                        <Band id="head">
                          <Cell displaytype="normal" text="등록일자"/>
                          <Cell col="1" displaytype="normal" text="대상고객상세ID"/>
                          <Cell col="2" displaytype="normal" text="발신결과내용"/>
                        </Band>
                        <Band id="body">
                          <Cell displaytype="text" text="bind:rgsn_dttm" mask="####/##/## ##:##:##"/>
                          <Cell col="1" displaytype="normal" text="bind:trgt_cust_dtpt_id"/>
                          <Cell col="2" displaytype="normal" text="bind:dpms_resl_cntn"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                </Layout>
              </Layouts>
            </Tabpage>
            <Tabpage id="tp_cmpg" text="캠페인">
              <Layouts>
                <Layout>
                  <Grid id="grd_cmpg" taborder="0" binddataset="ds_dpmsReslHstr" useinputpanel="false" cellsizingtype="col" onheadclick="grd_list_onheadclick" position2="absolute l:1 w:99.79% t:0 b:1" positiontype="position2">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="30"/>
                          <Column size="80"/>
                          <Column size="150"/>
                          <Column size="150"/>
                          <Column size="80"/>
                          <Column size="120"/>
                          <Column size="105"/>
                          <Column size="80"/>
                          <Column size="80"/>
                          <Column size="664"/>
                        </Columns>
                        <Rows>
                          <Row size="25" band="head"/>
                          <Row size="25"/>
                        </Rows>
                        <Band id="head">
                          <Cell text="NO"/>
                          <Cell col="1" text="상담사" id="cnsr_id"/>
                          <Cell col="2" text="캠페인명" id="cmpg_id"/>
                          <Cell col="3" text="서브목록명" id="sub_trgt_list_id"/>
                          <Cell col="4" text="전화구분" id="dpms_tlph_div_cd"/>
                          <Cell col="5" text="발신번호" id="dpms_tlno"/>
                          <Cell col="6" text="처리일시" id="chng_dttm"/>
                          <Cell col="7" text="통화결과" id="dpms_resl_cd"/>
                          <Cell col="8" text="처리결과" id="dpms_stat_cd"/>
                          <Cell col="9" text="상담메모" id="dpms_resl_cntn"/>
                        </Band>
                        <Band id="body">
                          <Cell expr="currow+1"/>
                          <Cell col="1" text="bind:cnsr_nm"/>
                          <Cell col="2" style="align:left middle;" text="bind:cmpg_nm"/>
                          <Cell col="3" style="align:left middle;" text="bind:sub_trgt_list_nm"/>
                          <Cell col="4" text="bind:dpms_tlph_div_nm"/>
                          <Cell col="5" displaytype="expr:gfn_isNull(dpms_tlno) ? &quot;none&quot; : &quot;mask&quot;" text="bind:dpms_tlno" expr="expr:gfn_isNull(dpms_tlno) ? &quot;&quot; : dpms_tlno" mask="expr:gfn_SetTelNoGrdMask(dpms_tlno)"/>
                          <Cell col="6" displaytype="date" text="bind:chng_dttm" mask="yyyy-MM-dd HH:mm"/>
                          <Cell col="7" displaytype="normal" text="bind:dpms_resl_nm"/>
                          <Cell col="8" text="bind:dpms_stat_nm"/>
                          <Cell col="9" style="align:left middle;" text="bind:dpms_resl_cntn" expr="expr:gfn_textArea(dpms_resl_cntn)" tooltiptype="mouse,mouseleave" tooltiptext="bind:dpms_resl_cntn"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                </Layout>
              </Layouts>
            </Tabpage>
            <Tabpage id="tp_altr" text="변경">
              <Layouts>
                <Layout>
                  <Grid id="grd_altrHist" taborder="0" binddataset="ds_listAltrHist" useinputpanel="false" cellsizingtype="col" onrbuttondown="tab_mem_cons_tp_cons_grd_cons_onrbuttondown" onkeydown="tab_mem_cons_tp_cons_grd_cons_onkeydown" onmousemove="grd_onmousemove" oncellclick="grd_list_oncellclick" onheadclick="grd_list_onheadclick" position2="absolute l:0 r:0 t:0 b:0" positiontype="position2" tooltiptype="default,mouseleave" autofittype="col">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="30"/>
                          <Column size="90"/>
                          <Column size="60"/>
                          <Column size="80"/>
                          <Column size="80"/>
                          <Column size="100"/>
                          <Column size="140"/>
                        </Columns>
                        <Rows>
                          <Row size="25" band="head"/>
                          <Row size="25"/>
                        </Rows>
                        <Band id="head">
                          <Cell displaytype="normal" edittype="none" text="NO"/>
                          <Cell col="1" text="회원번호" expandshow="hide" expandsize="13" id="accnt_no"/>
                          <Cell col="2" text="변경자" id="actp_nm"/>
                          <Cell col="3" text="상담그룹"/>
                          <Cell col="4" text="변경일시" id="acpg_dttm"/>
                          <Cell col="5" text="변경유형" id="cons_typ1_nm"/>
                          <Cell col="6" text="메모"/>
                        </Band>
                        <Band id="body">
                          <Cell text="expr:currow+1"/>
                          <Cell col="1" text="bind:accnt_no"/>
                          <Cell col="2" text="bind:user_nm"/>
                          <Cell col="3" text="bind:team_nm"/>
                          <Cell col="4" style="color:tomato;color2:tomato;" text="bind:upd_dm" mask="####-##-##"/>
                          <Cell col="5" style="align:left;" text="bind:altr_item"/>
                          <Cell col="6" displaytype="text" text="bind:altr_memo"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                </Layout>
              </Layouts>
            </Tabpage>
          </Tabpages>
        </Tab>
        <Button id="btn_gdInit" taborder="3" onclick="btn_gdInit_onclick" class="btn_grd_Change" position2="absolute r:4 w:16 t:8 h:16" positiontype="position2" tooltiptext="다중정렬"/>
        <Button id="btn_accnt_yn" taborder="5" onclick="btn_onclick" position2="absolute r:25 w:16 t:6 h:16" positiontype="position2" tooltiptext="상품조회" class="btn_productS2"/>
        <Button id="btn_excel" taborder="7" onclick="btn_onclick" position2="absolute r:45 w:16 t:6 h:16" positiontype="position2" tooltiptext="상품조회" text="E"/>
        <Button id="btn_enlargementLook" taborder="8" tabstop="false" text="크게보기" style="padding:0 0 0 0;" position2="absolute r:64 w:59 t:4 h:20" positiontype="position2" onclick="btn_enlargementLook_onclick"/>
        <Button id="btn_fullConsHist" taborder="9" tabstop="false" text="상담이력전체" position2="absolute r:124 w:76 t:4 h:20" positiontype="position2" style="padding:0 0 0 0;" onclick="btn_fullConsHist_onclick"/>
      </Layout>
    </Layouts>
    <Bind/>
    <Style url="CSS::main.css"/>
    <Objects>
      <Dataset id="ds_trans_info" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="strSvcID" type="STRING" size="256"/>
          <Column id="strURL" type="STRING" size="256"/>
          <Column id="strInDatasets" type="STRING" size="256"/>
          <Column id="strOutDatasets" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_inqCndt" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="mem_no" type="STRING" size="256"/>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="dept_yn" type="STRING" size="256"/>
          <Column id="orderBy" type="STRING" size="256"/>
          <Column id="orderDirection" type="STRING" size="256"/>
          <Column id="sController" type="STRING" size="256"/>
          <Column id="dsName" type="STRING" size="256"/>
          <Column id="v_cell" type="STRING" size="256"/>
          <Column id="chat_fg" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cons_list" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="page_indx" type="STRING" size="256"/>
          <Column id="consno" type="STRING" size="256"/>
          <Column id="mem_no" type="STRING" size="256"/>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="actp_nm" type="STRING" size="256"/>
          <Column id="acpg_dttm" type="STRING" size="256"/>
          <Column id="acpg_chnl_nm" type="STRING" size="256"/>
          <Column id="inco_tlno" type="STRING" size="256"/>
          <Column id="home_tel" type="STRING" size="256"/>
          <Column id="cell" type="STRING" size="256"/>
          <Column id="cons_typ1_nm" type="STRING" size="256"/>
          <Column id="cons_typ2_nm" type="STRING" size="256"/>
          <Column id="cons_typ3_nm" type="STRING" size="256"/>
          <Column id="cons_dspsmddl_dtpt_nm" type="STRING" size="256"/>
          <Column id="cons_stat_nm" type="STRING" size="256"/>
          <Column id="amnd_nm" type="STRING" size="256"/>
          <Column id="amnt_dttm" type="STRING" size="256"/>
          <Column id="chcnt" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cons_filter" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="chk" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cons_filter_tmp" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="chk" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cons_list_tooltip" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="page_indx" type="STRING" size="256"/>
          <Column id="consno" type="STRING" size="256"/>
          <Column id="mem_no" type="STRING" size="256"/>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="actp_nm" type="STRING" size="256"/>
          <Column id="acpg_dttm" type="STRING" size="256"/>
          <Column id="acpg_chnl_nm" type="STRING" size="256"/>
          <Column id="inco_tlno" type="STRING" size="256"/>
          <Column id="home_tel" type="STRING" size="256"/>
          <Column id="cell" type="STRING" size="256"/>
          <Column id="cons_typ1_nm" type="STRING" size="256"/>
          <Column id="cons_typ2_nm" type="STRING" size="256"/>
          <Column id="cons_typ3_nm" type="STRING" size="256"/>
          <Column id="cons_dspsmddl_dtpt_nm" type="STRING" size="256"/>
          <Column id="cons_stat_nm" type="STRING" size="256"/>
          <Column id="amnd_nm" type="STRING" size="256"/>
          <Column id="amnt_dttm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_dpmsReslHstr" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="xRowStatusType" type="STRING" size="1"/>
          <Column id="page_indx" type="STRING" size="256"/>
          <Column id="chng_dttm" type="STRING" size="256"/>
          <Column id="cntr_cd" type="STRING" size="256"/>
          <Column id="cmpg_id" type="STRING" size="256"/>
          <Column id="trgt_list_id" type="STRING" size="256"/>
          <Column id="sub_trgt_list_id" type="STRING" size="256"/>
          <Column id="trgt_cust_dtpt_id" type="STRING" size="256"/>
          <Column id="cnsr_id" type="STRING" size="256"/>
          <Column id="dpms_stat_cd" type="STRING" size="256"/>
          <Column id="dpms_resl_cd" type="STRING" size="256"/>
          <Column id="dpms_tlph_div_cd" type="STRING" size="256"/>
          <Column id="dpms_tlno" type="STRING" size="256"/>
          <Column id="dpms_resl_cntn" type="STRING" size="256"/>
          <Column id="dpms_tmcnt" type="STRING" size="256"/>
          <Column id="dpms_dttm" type="STRING" size="256"/>
          <Column id="prod_join_yn" type="STRING" size="256"/>
          <Column id="rgsr_id" type="STRING" size="256"/>
          <Column id="rgsn_dttm" type="STRING" size="256"/>
          <Column id="amnd_id" type="STRING" size="256"/>
          <Column id="amnt_dttm" type="STRING" size="256"/>
          <Column id="dpms_resl_nm" type="STRING" size="256"/>
          <Column id="dpms_stat_nm" type="STRING" size="256"/>
          <Column id="dpms_tlph_div_nm" type="STRING" size="256"/>
          <Column id="cnsr_nm" type="STRING" size="256"/>
          <Column id="sub_trgt_list_nm" type="STRING" size="256"/>
          <Column id="cmpg_nm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_list_voc" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="page_indx" type="STRING" size="256"/>
          <Column id="voc_id" type="STRING" size="256"/>
          <Column id="consno" type="STRING" size="256"/>
          <Column id="mem_no" type="STRING" size="256"/>
          <Column id="voc_cust_nm" type="STRING" size="256"/>
          <Column id="voc_typ_cd" type="STRING" size="256"/>
          <Column id="voc_typ_nm" type="STRING" size="256"/>
          <Column id="voc_impc_cd" type="STRING" size="256"/>
          <Column id="voc_impc_nm" type="STRING" size="256"/>
          <Column id="voc_dsps_stat_cd" type="STRING" size="256"/>
          <Column id="voc_dsps_stat_nm" type="STRING" size="256"/>
          <Column id="voc_actp_id" type="STRING" size="256"/>
          <Column id="voc_actp_nm" type="STRING" size="256"/>
          <Column id="voc_acpg_dttm" type="STRING" size="256"/>
          <Column id="voc_dssr_id" type="STRING" size="256"/>
          <Column id="voc_dssr_nm" type="STRING" size="256"/>
          <Column id="voc_dsps_dttm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_list_chat" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="page_indx" type="STRING" size="256"/>
          <Column id="chat_sndg_hstr_id" type="STRING" size="256"/>
          <Column id="mem_no" type="STRING" size="256"/>
          <Column id="mem_nm" type="STRING" size="256"/>
          <Column id="clph_no" type="STRING" size="256"/>
          <Column id="chat_sndg_div_cd" type="STRING" size="256"/>
          <Column id="chat_sndg_div_nm" type="STRING" size="256"/>
          <Column id="chat_msg_cntn" type="STRING" size="256"/>
          <Column id="msg_trnm_scs_yn" type="STRING" size="256"/>
          <Column id="sndg_chpr_id" type="STRING" size="256"/>
          <Column id="sndg_chpr_nm" type="STRING" size="256"/>
          <Column id="sndg_dttm" type="STRING" size="256"/>
          <Column id="cntr_rprs_tlno" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_list_dlw_cons" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="page_indx" type="STRING" size="256"/>
          <Column id="seq" type="STRING" size="256"/>
          <Column id="consno" type="STRING" size="256"/>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="prod_nm" type="STRING" size="256"/>
          <Column id="cnsl_dt" type="STRING" size="256"/>
          <Column id="cnsl_con" type="STRING" size="256"/>
          <Column id="cnsl_man" type="STRING" size="256"/>
          <Column id="call_tel" type="STRING" size="256"/>
          <Column id="rec_path" type="STRING" size="256"/>
          <Column id="rec_file" type="STRING" size="256"/>
          <Column id="cnsl_man_nm" type="STRING" size="256"/>
          <Column id="cnsl_man_dept_nm" type="STRING" size="256"/>
          <Column id="cnsl_seq" type="STRING" size="256"/>
          <Column id="cnsl_con_show" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_list_dlw_lifewey" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="page_indx" type="STRING" size="256"/>
          <Column id="mem_no" type="STRING" size="256"/>
          <Column id="reg_man" type="STRING" size="256"/>
          <Column id="reg_dm" type="STRING" size="256"/>
          <Column id="bigo" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_listTrgtCustDtpt" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="rgsn_dttm" type="STRING" size="256"/>
          <Column id="trgt_cust_dtpt_id" type="STRING" size="256"/>
          <Column id="dpms_resl_cntn" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_listAltrHist" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="altr_hist_id" type="STRING" size="256"/>
          <Column id="mem_no" type="STRING" size="256"/>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="upd_man" type="STRING" size="256"/>
          <Column id="user_nm" type="STRING" size="256"/>
          <Column id="team_cd" type="STRING" size="256"/>
          <Column id="team_nm" type="STRING" size="256"/>
          <Column id="upd_dm" type="STRING" size="256"/>
          <Column id="altr_item" type="STRING" size="256"/>
          <Column id="altr_memo" type="STRING" size="256"/>
          <Column id="upd_yyyymmdd" type="STRING" size="256"/>
          <Column id="del_fg" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Script type="xscript4.0"><![CDATA[/********************************************************************************************/
/* 1. Include Library include, variables Declaration 영역                                  */
/********************************************************************************************/
include "LIB::lib_All.xjs";

var gv_mem_no = "";
var gv_athrCd = "";	

/********************************************************************************************/
/* 2. Form 관련(onload 및 Form 이벤트) 처리                                           	*/
/********************************************************************************************/
function PS02000103_onload(obj:Form, e:LoadEventInfo)
{
	gfn_createPagingDataset(obj); // 페이징처리 위한 데이터셋 설정
}

/********************************************************************************************/
/* 3. Callback(gfn_Transaction 호출 후 처리내용)                                   		*/
/********************************************************************************************/

/********************************************************************************************/
/**   4. Validation 처리                                                                   	*/
/********************************************************************************************/
// 조회 전
function fn_preSrch(gubun)
{
	if (gubun == "cons" || gubun == "dlw_cons") {
		btn_accnt_yn.visible = true; // 회원정보 체크여부 visible
	} else {
		btn_accnt_yn.visible = false;
	}
	
	if(gubun == "cons")
	{
	    btn_enlargementLook.visible = true;
	    btn_fullConsHist.visible = true;
	}
	else
	{
		btn_enlargementLook.visible = false;
		btn_fullConsHist.visible = false;
	}
	
	if (gfn_isNull(gv_mem_no)) {
		return false;
	}
	
	/*
	gv_athrCd = gfn_getUserInfo("athr_cd");
	
	if(gv_athrCd == "AT01" || gv_athrCd == "AT02")
	{
		btn_fullConsHist.visible = true;
	}
	else
	{
		btn_fullConsHist.visible = false;
	}
	*/
	
	ds_inqCndt.clearData();
	ds_inqCndt.addRow();
	ds_inqCndt.setColumn(0, "mem_no", gv_mem_no);
	trace("cons : ===> " +  gubun);
	if (gubun == "cons") {
		ds_cons_list.keystring = ""; // 정렬컬럼 초기화
		tab_mem_cons.tabindex = 0;

		ds_inqCndt.setColumn(0, "accnt_no", "");
		ds_inqCndt.setColumn(0, "dept_yn", "N");
		
		///ds_inqCndt.setColumn(0, "orderBy", "amnt_dttm");   비투요청사항 !!! 2017.03.10  등록일자로 조회되게처리
		ds_inqCndt.setColumn(0, "orderBy", "rgsn_dttm");
		
		ds_inqCndt.setColumn(0, "orderDirection", "desc");
	} else {
		ds_inqCndt.setColumn(0, "accnt_no", "");
		ds_inqCndt.setColumn(0, "dept_yn", "N");
			
		if (gubun == "cmpg") {
			ds_inqCndt.setColumn(0, "orderBy", "dpms_dttm");
			ds_inqCndt.setColumn(0, "orderDirection", "desc");
		} else if (gubun == "voc") {
			ds_inqCndt.setColumn(0, "orderBy", "voc_acpg_dttm");
			ds_inqCndt.setColumn(0, "orderDirection", "desc");
		} else if (gubun == "chat" || gubun == "emil") {
			var v_cell =  div_member.cell.value;
			ds_inqCndt.setColumn(0, "v_cell", v_cell);
			ds_inqCndt.setColumn(0, "chat_fg", "Y");
			ds_inqCndt.setColumn(0, "orderBy", "sndg_dttm");
			ds_inqCndt.setColumn(0, "orderDirection", "desc");
		} else if (gubun == "dlw_cons") {
			ds_inqCndt.setColumn(0, "orderBy", "cnsl_dt");
			ds_inqCndt.setColumn(0, "orderDirection", "desc");
		} else if (gubun == "life_hist") {
			ds_inqCndt.setColumn(0, "orderBy", "a.reg_dm");
			ds_inqCndt.setColumn(0, "orderDirection", "desc");
		} else if (gubun == "trgtCustDtpt") {
			var v_cell =  div_member.cell.value;
			ds_inqCndt.setColumn(0, "v_cell", v_cell);
		}
	}
	
	return true;
}

/********************************************************************************************/
/**   5. 서비스 호출(gfn_Transaction)                                                   	*/
/********************************************************************************************/
// 상담 이력 조회
function fn_srch_mem_cons_hstr()
{	
	gv_mem_no = div_member.mem_no.value;
	
	if (!fn_preSrch("cons")) return false;
		
	gfn_setTabScrollNotPaging(50); // 페이징 건수
	
	ds_cons_list.filter("");
	
	var szSvcid       = "srchMemConsHstr";
    var szController  = "/dlw/newType/div3/cons/getNewTypeMemConsHstrList";
    var szInDs        = "ds_input=ds_inqCndt";
    var szOutDs       = "ds_cons_list=ds_output";
    var szParam       = "";
    var szRetCallback = "";
	
    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

// 캠페인 이력 조회
function fn_srch_mem_cmpg_hstr()
{
	gv_mem_no = div_member.mem_no.value;
	
	if (!fn_preSrch("cmpg")) return false;
	
	gfn_setTabScrollNotPaging(50); // 페이징 건수
	
	var szSvcid       = "srchDpmsReslHstr";
	var szController  = "/dlw/newType/div3/cmpg/getNewTypeDpmsReslHstrList";
	//var szController  = "/cons/list/history";
    var szInDs        = "ds_input=ds_inqCndt";
    var szOutDs       = "ds_dpmsReslHstr=ds_output";
    var szParam       = "";
    var szRetCallback = "";

    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback); 
}

// VOC 이력 조회
function fn_srch_mem_voc_hstr()
{
	gv_mem_no = div_member.mem_no.value;
	
	if (!fn_preSrch("voc")) return false;
		
	gfn_setTabScrollNotPaging(50); // 페이징 건수
	
	var szSvcid       = "srchVocHstr";
	var szController  = "/dlw/newType/div3/voc/getNewTypeMemVocHstrList";
	//var szController  = "/cmpg/dpms-resl-hstr/ib/list";
    var szInDs        = "ds_input=ds_inqCndt";
    var szOutDs       = "ds_list_voc=ds_output";
    var szParam       = "";
    var szRetCallback = "";
	
    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

// SMS 이력 조회
function fn_srch_mem_char_hstr()
{	
	gv_mem_no = div_member.mem_no.value;
	
	if (!fn_preSrch("chat")) return false;
		
	gfn_setTabScrollNotPaging(50); // 페이징 건수
	
	var szSvcid       = "srchMemChatHstr";
	var szController  = "/dlw/newType/div3/chat/getNewTypeChatSndgHstrList";
    //var szController  = "/chnl/chat-sndg-hstr/list";
    var szInDs        = "ds_input=ds_inqCndt";
    var szOutDs       = "ds_list_chat=ds_output";
    var szParam       = "";
    var szRetCallback = "";
	
    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

// 엔컴 상담 이력 조회
function fn_srch_mem_dlw_cons()
{
	gv_mem_no = div_member.mem_no.value;
	
	if (!fn_preSrch("dlw_cons")) return false;
		
	gfn_setTabScrollNotPaging(50); // 페이징 건수
	
	var szSvcid       = "srchDlwCons";
	var szController  = "/dlw/newType/div3/encom/getNewTypeDlwEncomList";
    //var szController  = "/cons/dlw-cons-list";
    var szInDs        = "ds_input=ds_inqCndt";
    var szOutDs       = "ds_list_dlw_cons=ds_output";
    var szParam       = "";
    var szRetCallback = "";
	
    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

function fn_srch_life_hist()
{
	gv_mem_no = div_member.mem_no.value;
	
	if (!fn_preSrch("life_hist")) return false;
		
	gfn_setTabScrollNotPaging(50); // 페이징 건수
	
	var szSvcid       = "srchDlwCons";
	var szController  = "/dlw/newType/div3/lifeway/getNewTypeLifeWayList";
    //var szController  = "/cons/dlw-lifewey-list";
    var szInDs        = "ds_input=ds_inqCndt";
    var szOutDs       = "ds_list_dlw_lifewey=ds_output";
    var szParam       = "";
    var szRetCallback = "";
	
    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

function fn_srch_trgtCustDtpt()
{
	gv_mem_no = div_member.mem_no.value;
	
	if (!fn_preSrch("trgtCustDtpt")) return false;
		
	gfn_setTabScrollNotPaging(50); // 페이징 건수
	
	var szSvcid       = "getNewTypeTrgtCustDtptList";
	var szController  = "/dlw/newType/div3/trgt/getNewTypeTrgtCustDtptList";
    var szInDs        = "ds_input=ds_inqCndt";
    var szOutDs       = "ds_listTrgtCustDtpt=ds_output";
    var szParam       = "";
    var szRetCallback = "";
	
    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

// 변경 이력 조회
function fn_srch_mem_altr_hstr()
{	
	gv_mem_no = div_member.mem_no.value;
	
	if (!fn_preSrch("altr")) return false;
		
	gfn_setTabScrollNotPaging(50); // 페이징 건수
	
	ds_cons_list.filter("");
	
	var szSvcid       = "getMemAccntAltrHistConsList";
    var szController  = "/dlw/altrHist/main/getMemAccntAltrHistConsList";
    var szInDs        = "ds_input=ds_inqCndt";
    var szOutDs       = "ds_listAltrHist=ds_output";
    var szParam       = "";
    var szRetCallback = "";
	
    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}
/********************************************************************************************/
/**   6. 사용자 함수                                                                   	*/
/********************************************************************************************/
// 초기화
function fn_init()
{
	ds_cons_list.clearData();
	ds_dpmsReslHstr.clearData();
	ds_list_voc.clearData();
	ds_list_chat.clearData();
	ds_list_dlw_cons.clearData();
	ds_list_dlw_lifewey.clearData();
	ds_listTrgtCustDtpt.clearData();
	ds_listAltrHist.clearData();
	
	fn_setConsHstrFilter("N");
	
	gv_mem_no = "";
}

// 상담이력 회원번호별 조회(회원정보 및 탭선택 - 초기화 / 상품선택)
function fn_setConsHstrFilter(sType)
{
	fn_hideConsTooltip();
	
	if (sType == "Y") {
		var sAccntNo = parent.div_product.ds_prod.getColumn(0, "accnt_no");
		if (gfn_isNull(sAccntNo)) {
			btn_accnt_yn.class = "btn_productS2";
			ds_cons_list.filter("");
			ds_list_dlw_cons.filter("");
		} else {
			var sFilter = "(accnt_no=='" + sAccntNo + "')";
			ds_cons_list.filter("");
			ds_cons_list.filter(sFilter);
			ds_list_dlw_cons.filter(sFilter);
		}
	} else {
		btn_accnt_yn.class = "btn_productS2";
		ds_cons_list.filter("");
		ds_list_dlw_cons.filter("");
	}
}

/********************************************************************************************/
/**   7. 이벤트(Event) Function                                                          	*/
/********************************************************************************************/
// 그리드 헤더 사이즈 초기화
function btn_gdInit_onclick(obj:Button,  e:ClickEventInfo)
{
	/*
	if (tab_mem_cons.tabindex == 0) {
		gfn_resetColsize(tab_mem_cons.tp_cons.grd_cons);	// 상담 이력
	} else if (tab_mem_cons.tabindex == 1) {
		gfn_resetColsize(tab_mem_cons.tp_cmpg.grd_cmpg);	// 캠페인 이력
	} else if (tab_mem_cons.tabindex == 2) {
		gfn_resetColsize(tab_mem_cons.tp_voc.grd_voc);		// VOC 이력
	} else if (tab_mem_cons.tabindex == 3) {
		gfn_resetColsize(tab_mem_cons.tp_chat.grd_chat);	// SMS 이력
	} else if (tab_mem_cons.tabindex == 4) {
		gfn_resetColsize(tab_mem_cons.tp_dlw_cons.grd_dlw_cons);	// 엔컴 상담 이력
	}
	*/
	
	if (tab_mem_cons.tabindex == 0) 
	{
		gfn_resetColsize(tab_mem_cons.tp_cons.grd_cons); // 상담 이력
	}
	else if (tab_mem_cons.tabindex == 1) 
	{
		gfn_resetColsize(tab_mem_cons.tp_voc.grd_voc); // 캠페인 이력
	}
	else if (tab_mem_cons.tabindex == 2) 
	{
		gfn_resetColsize(tab_mem_cons.tp_chat.grd_chat);	// SMS 이력
	}
	else if (tab_mem_cons.tabindex == 3) 
	{
		gfn_resetColsize(tab_mem_cons.tp_dlw_cons.grd_dlw_cons);	// 엔컴 상담 이력
	}
	else if (tab_mem_cons.tabindex == 6)
	{
		gfn_resetColsize(tab_mem_cons.tp_cmpg.grd_cmpg);	// 캠페인 이력
	} 
}

// 그리드 헤더 클릭(정렬)
function grd_list_onheadclick(obj:Grid, e:GridClickEventInfo)
{
	gfn_setTabScrollNotPaging(50); // 페이징 건수
	
	if (obj.name == "grd_cons") {
		ds_cons_list.filter("");
		ds_inqCndt.setColumn(0, "sController", "/cons/list/history"); // 재정렬 위한 DB조회
		ds_inqCndt.setColumn(0, "dsName", "ds_output");	// 결과를 받을 데이터셋명
		gfn_grdHeadClick(obj, e, ds_inqCndt, null, ds_cons_list);
	} else if (obj.name == "grd_cmpg") {
		ds_inqCndt.setColumn(0, "sController", "/cmpg/dpms-resl-hstr/ib/list"); // 재정렬 위한 DB조회
		ds_inqCndt.setColumn(0, "dsName", "ds_output");	// 결과를 받을 데이터셋명
		gfn_grdHeadClick(obj, e, ds_inqCndt, null, ds_dpmsReslHstr);
	} else if (obj.name == "grd_voc") {
		ds_inqCndt.setColumn(0, "sController", "/cons/voc-dtl/list/history"); // 재정렬 위한 DB조회
		ds_inqCndt.setColumn(0, "dsName", "ds_output");	// 결과를 받을 데이터셋명
		gfn_grdHeadClick(obj, e, ds_inqCndt, null, ds_list_voc);
	} else if (obj.name == "grd_chat") {
		ds_inqCndt.setColumn(0, "sController", "/chnl/chat-sndg-hstr/list"); // 재정렬 위한 DB조회
		ds_inqCndt.setColumn(0, "dsName", "ds_output");	// 결과를 받을 데이터셋명
		gfn_grdHeadClick(obj, e, ds_inqCndt, null, ds_list_chat);
	} else if (obj.name == "grd_dlw_cons") {
		ds_inqCndt.setColumn(0, "sController", "/cons/dlw-cons-list"); // 재정렬 위한 DB조회
		ds_inqCndt.setColumn(0, "dsName", "ds_output");	// 결과를 받을 데이터셋명
		gfn_grdHeadClick(obj, e, ds_inqCndt, null, ds_list_dlw_cons);
	} else if (obj.name == "grd_altrHist") {
		ds_inqCndt.setColumn(0, "sController", "/dlw/altrHist/main/getMemAccntAltrHistConsList"); // 재정렬 위한 DB조회
		ds_inqCndt.setColumn(0, "dsName", "ds_output");	// 결과를 받을 데이터셋명
		gfn_grdHeadClick(obj, e, ds_inqCndt, null, ds_listAltrHist);
	}
}

// 탭 선택
function tab_onchanged(obj:Tab, e:TabIndexChangeEventInfo)
{
	/*
	fn_setConsHstrFilter("N");
	
	if (obj.tabindex == 0) 
	{
		gfn_clearSortMark(tab_mem_cons.tp_cons.grd_cons);
		fn_srch_mem_cons_hstr();
	} 
	else if (obj.tabindex == 1) 
	{
		gfn_clearSortMark(tab_mem_cons.tp_cmpg.grd_cmpg);
		fn_srch_mem_cmpg_hstr();
	} 
	else if (obj.tabindex == 2) 
	{
		gfn_clearSortMark(tab_mem_cons.tp_voc.grd_voc);
		fn_srch_mem_voc_hstr();
	} 
	else if (obj.tabindex == 3) 
	{
		gfn_clearSortMark(tab_mem_cons.tp_chat.grd_chat);
		fn_srch_mem_char_hstr();
	} 
	else if (obj.tabindex == 4) 
	{
		gfn_clearSortMark(tab_mem_cons.tp_dlw_cons.grd_dlw_cons);
		fn_srch_mem_dlw_cons();
	} 
	else if (obj.tabindex == 5) 
	{
		gfn_clearSortMark(tab_mem_cons.life_hist.grd_life);
		fn_srch_life_hist();
	}
	else if (obj.tabindex == 6) 
	{
		gfn_clearSortMark(tab_mem_cons.tp_trgtCustDtpt.grd_trgtCustDtpt);
		fn_srch_trgtCustDtpt();
	}
	else
	{
	
	}
	*/
}

// cell click
function grd_list_oncellclick(obj:Grid, e:GridClickEventInfo)
{
	if (obj.name == "grd_voc") {
		if (e.cell == "1") { // 보기버튼
			var sPrmr = {p_mem_no:ds_list_voc.getColumn(tab_mem_cons.tp_voc.grd_voc.selectendrow, "mem_no"), p_voc_id:ds_list_voc.getColumn(tab_mem_cons.tp_voc.grd_voc.selectendrow, "voc_id")};
	        var reVal = gfn_diaLog("VOC상세정보", -1, -1, 884, 601, "PS020000::PS020505.xfdl", false, sPrmr, true, false, true, null, null, true);
		}
	} else if (obj.name == "grd_cons") {
		if (e.cell == "1") { // 상담번호
			var sPrmr = {p_consno:ds_cons_list.getColumn(tab_mem_cons.tp_cons.grd_cons.selectendrow, "consno")};
	        var reVal = gfn_diaLog("상담상세정보", -1, -1, 884, 601, "PS020000::PS020503.xfdl", false, sPrmr, true, false, true, null, null, true);
		}
	}
}

// button onclick
function btn_onclick(obj:Button,  e:ClickEventInfo)
{
	if (obj.name == "btn_accnt_yn") {
		if (obj.class == "btn_productS2") {
			obj.class = "";
			obj.class = "btn_productS1";
			fn_setConsHstrFilter("Y");
		} else {
			obj.class = "";
			obj.class = "btn_productS2";
			fn_setConsHstrFilter("N");
		}
	} else if (obj.name == "btn_trgt_cust_hstr") {
		var sPrmr = "";
		var bModal = true;
		var bSingle = true;
		var reVal = gfn_diaLog("캠페인고객이력", -1, -1, -1, -1, "PS220000::PS221000.xfdl", false, sPrmr, bModal, false, true, null ,null ,bSingle);
	} else if (obj.name == "btn_excel") {
		fn_exportExcel();
	}
}

// grid onmousemove - 상담내용 툴팁 표시
function grd_onmousemove(obj:Grid, e:GridMouseEventInfo)
{
    obj.tooltiptext = "";
	if (e.row < 0) {
	    return;
	}
	
	var sConsMemoCntn = null;
	/*
	if (tab_mem_cons.tabindex == 4) {
	    sConsMemoCntn = ds_list_dlw_cons.getColumn(e.row, "cnsl_con_show");
	} else if (tab_mem_cons.tabindex == 3) {
	    sConsMemoCntn = ds_list_chat.getColumn(e.row, "chat_msg_cntn");
	} else if (tab_mem_cons.tabindex == 5) {
	    sConsMemoCntn = ds_list_dlw_lifewey.getColumn(e.row, "bigo");    
	} else if (tab_mem_cons.tabindex == 6) {
	    sConsMemoCntn = ds_listTrgtCustDtpt.getColumn(e.row, "dpms_resl_cntn");    
	}
	else {
	    sConsMemoCntn = ds_cons_list.getColumn(e.row, "cons_memo_cntn");
	}
	*/
	
	if (tab_mem_cons.tabindex == 2) 
	{
		sConsMemoCntn = ds_list_chat.getColumn(e.row, "chat_msg_cntn");
	}
	else if (tab_mem_cons.tabindex == 3) 
	{
		sConsMemoCntn = ds_list_dlw_cons.getColumn(e.row, "cnsl_con_show");
	}
	else if (tab_mem_cons.tabindex == 4) 
	{
		sConsMemoCntn = ds_list_dlw_lifewey.getColumn(e.row, "bigo");
	}
	else if (tab_mem_cons.tabindex == 5) 
	{
		sConsMemoCntn = ds_listTrgtCustDtpt.getColumn(e.row, "dpms_resl_cntn");
	}
	else if (tab_mem_cons.tabindex == 7) 
	{
		sConsMemoCntn = ds_listAltrHist.getColumn(e.row, "altr_memo");
	}
	else
	{
		 sConsMemoCntn = ds_cons_list.getColumn(e.row, "cons_memo_cntn");
	}
	
	if (gfn_isNull(sConsMemoCntn)) {
		return;
	}
	
	// 1 라인이 100 바이트 이상인 경우 줄넘김 추가
	var nBytes = 0;
	var sNewConsMemoCntn = "";
	for (var i = 0; i < sConsMemoCntn.length; i++) {
	    // 문자 복사
	    sNewConsMemoCntn += sConsMemoCntn.charAt(i);
	    // 내용에 줄넘김이 있는 경우 바이트 초기화
	    if (i + 1 < sConsMemoCntn.length &&
	        sConsMemoCntn.charAt(i) + sConsMemoCntn.charAt(i + 1) == "\r\n") {
	        i++;
	        sNewConsMemoCntn += sConsMemoCntn.charAt(i);
	        nBytes = 0;
	        continue;
	    } else if (sConsMemoCntn.charAt(i) == "\n") {
	        nBytes = 0;
	        continue;
	    }
	    // 바이트 계산 및 줄넘김 추가
	    nBytes += (sConsMemoCntn.charCodeAt(i) > 127) ? 2 : 1;
		if (nBytes >= 100) {
			sNewConsMemoCntn += "\r\n";
			nBytes = 0;
		}
	}
	obj.tooltiptext = sNewConsMemoCntn;
}

function tab_mem_cons_tp_cons_grd_cons_onrbuttondown(obj:Grid, e:GridMouseEventInfo)
{
	if (e.col == 2) {
		fn_showConsFilter();
	}
}

function fn_showConsFilter() {
	var i, j, nPos, accnt_no;
	var dict = {};	
	var arr;
	
	ds_cons_filter.clearData();	
	ds_cons_filter_tmp.assign(ds_cons_list);
	
	for (i=0; i<ds_cons_filter_tmp.rowcount; ++i) {
		accnt_no = ds_cons_filter_tmp.getColumn(i, "accnt_no");		
		if ( gfn_isEmpty(accnt_no) ) {
			accnt_no = " ";
		}
		
		if (undefined == dict[accnt_no] || null == dict[accnt_no]) {
			nPos = ds_cons_filter.addRow();
			ds_cons_filter.setColumn(nPos, "accnt_no", accnt_no);
			dict[accnt_no] = accnt_no;
		}
	}
	
	var sOld = ds_cons_list.filterstr.current;
	if (sOld.indexOf("accnt_no") >= 0) {
		sOld = sOld.replace("\|\|", "_");
		sOld = sOld.replace("accnt_no", "");
		sOld = sOld.replace("==", "");
		sOld = sOld.replace("'", "");
		sOld = sOld.replace(" ", "");
		
		sOld = sOld + "_TTT";
		arr = sOld.split("_");
		for (i=0; i<arr.length; ++i) {
			if (arr[i] != "TTT") {
				for (j=0; j<ds_cons_filter.rowcount; ++j) {
					if (ds_cons_filter.getColumn(j, "accnt_no") == arr[i]) {
						ds_cons_filter.setColumn(j, "chk", "1");
					}
				}
			}
		}
	}
	
	tab_mem_cons.tp_cons.div_consFilter.visible = true;
}

function fn_hideConsFilter() {
	tab_mem_cons.tp_cons.div_consFilter.visible = false;
}

function fn_applyConsFilter() {
	ds_cons_list.filter("");
	var i, str, sFilter;
	var lst = [];	
	var sFilter = "";	
	var accnt_no = "";
	
	for (i=0; i<ds_cons_filter.rowcount; ++i) {
		if ("1" == ds_cons_filter.getColumn(i, "chk")) {
			accnt_no = ds_cons_filter.getColumn(i, "accnt_no");
			if ( " " == accnt_no ) {
				lst.push("accnt_no==undefined");
			} else {
				lst.push("accnt_no=='" + accnt_no + "'");
			}
		}
	}
	str = lst.join(" || ");
	sFilter = sFilter + str + "";
	
	ds_cons_list.filter(sFilter);
	
	fn_hideConsFilter();
	tab_mem_cons.tp_cons.div_consFilter.visible = false;	
}

function tab_mem_cons_tp_cons_div_consFilter_btn_close_onclick(obj:Button,  e:ClickEventInfo)
{	
	fn_applyConsFilter();
}

function tab_mem_cons_tp_cons_div_consFilter_btn_cancel_onclick(obj:Button,  e:ClickEventInfo)
{
	fn_hideConsFilter();
}

function tab_mem_cons_tp_cons_div_consFilter_btn_release_onclick(obj:Button,  e:ClickEventInfo)
{
	ds_cons_list.filter("");
	fn_hideConsFilter();
}

function tab_mem_cons_tp_cons_div_consFilter_Grid00_oncellclick(obj:Grid, e:GridClickEventInfo)
{
	if (e.col == 1) {
		if ("1" == ds_cons_filter.getColumn(e.row, "chk")) {
			ds_cons_filter.setColumn(e.row, "chk", "");
		} else {
			ds_cons_filter.setColumn(e.row, "chk", "1");
		}	
	}
}

// grid onmousemove - 상담내용 툴팁 표시
function fn_showConsTooltip()
{
	tab_mem_cons.tp_cons.div_tooltiptext.visible = false;
	
	if (ds_cons_list.rowposition < 0) {
	    return;
	}
	
	tab_mem_cons.tp_cons.div_tooltiptext.visible = true;
	
	var sConsMemoCntn = ds_cons_list.getColumn(ds_cons_list.rowposition, "cons_memo_cntn");

	tab_mem_cons.tp_cons.div_tooltiptext.txa_tooltip.value = sConsMemoCntn;
	
	tab_mem_cons.tp_cons.div_tooltiptext.position.height = tab_mem_cons.tp_cons.grd_cons.position.height;
	tab_mem_cons.tp_cons.div_tooltiptext.position.width = tab_mem_cons.tp_cons.grd_cons.position.width;
    tab_mem_cons.tp_cons.div_tooltiptext.txa_tooltip.value = sConsMemoCntn;
	tab_mem_cons.tp_cons.div_tooltiptext.position.top = 0;
	
	tab_mem_cons.tp_cons.div_tooltiptext.setFocus();
	
	ds_cons_list_tooltip.filter("");
	ds_cons_list_tooltip.clearData();
	ds_cons_list_tooltip.copyData(ds_cons_list, true);
	ds_cons_list_tooltip.addColumn("chk", "string");
	ds_cons_list_tooltip.setColumn(ds_cons_list.rowposition, "chk", "1");
	ds_cons_list_tooltip.filter("chk == '1'");
}

function fn_hideConsTooltip() {
	tab_mem_cons.tp_cons.div_tooltiptext.visible = false;
	tab_mem_cons.tp_cons.grd_cons.setFocus();
}

function tab_mem_cons_tp_cons_grd_cons_onkeydown(obj:Grid, e:KeyEventInfo)
{
	if (e.keycode == 32 || e.keycode == 13) {
		fn_showConsTooltip();
	}
}

function tab_mem_cons_tp_cons_div_tooltiptext_txa_tooltip_onkeydown(obj:TextArea, e:KeyEventInfo)
{
	if (e.keycode == 32 || e.keycode == 13) {
		fn_hideConsTooltip();
	}
}

function tab_mem_cons_tp_cons_div_tooltiptext_grd_cons_onkeydown(obj:Grid, e:KeyEventInfo)
{
	if (e.keycode == 32 || e.keycode == 13) {
		fn_hideConsTooltip();
	}
}

function fn_exportExcel() {
	if (tab_mem_cons.tabindex == 0) {
		if (ds_cons_list.rowcount > 0) {
			gfn_exportGridToExcel(tab_mem_cons.tp_cons.grd_cons, "상담이력_"+gfn_getTodayFull()+"");
		} else {
			alert("엑셀다운로드 할 항목이 없습니다.");
			return;
		}
	}
	else if (tab_mem_cons.tabindex == 1) {
		if (ds_list_voc.rowcount > 0) {
			gfn_exportGridToExcel(tab_mem_cons.tp_voc.grd_voc, "VOC이력_"+gfn_getTodayFull()+"");
		} else {
			alert("엑셀다운로드 할 항목이 없습니다.");
			return;
		}
	}
	else if (tab_mem_cons.tabindex == 2) {
		if (ds_list_chat.rowcount > 0) {
			gfn_exportGridToExcel(tab_mem_cons.tp_chat.grd_chat, "SMS이력_"+gfn_getTodayFull()+"");
		} else {
			alert("엑셀다운로드 할 항목이 없습니다.");
			return;
		}
	}
	else if (tab_mem_cons.tabindex == 3) {
		if (ds_list_dlw_cons.rowcount > 0) {
			gfn_exportGridToExcel(tab_mem_cons.tp_dlw_cons.grd_dlw_cons, "엔컴이력_"+gfn_getTodayFull()+"");
		} else {
			alert("엑셀다운로드 할 항목이 없습니다.");
			return;
		}
	}
	else if (tab_mem_cons.tabindex == 4) {
		if (ds_list_dlw_lifewey.rowcount > 0) {
			gfn_exportGridToExcel(tab_mem_cons.life_hist.grd_life, "홈페이지이력_"+gfn_getTodayFull()+"");
		} else {
			alert("엑셀다운로드 할 항목이 없습니다.");
			return;
		}
	}
	else if (tab_mem_cons.tabindex == 5) {
		if (ds_listTrgtCustDtpt.rowcount > 0) {
			gfn_exportGridToExcel(tab_mem_cons.tp_trgtCustDtpt.grd_trgtCustDtpt, "아웃바운드이력_"+gfn_getTodayFull()+"");
		} else {
			alert("엑셀다운로드 할 항목이 없습니다.");
			return;
		}
	}
	else if (tab_mem_cons.tabindex == 6) {
		if (ds_dpmsReslHstr.rowcount > 0) {
			gfn_exportGridToExcel(tab_mem_cons.tp_cmpg.grd_cmpg, "캠페인이력_"+gfn_getTodayFull()+"");
		} else {
			alert("엑셀다운로드 할 항목이 없습니다.");
			return;
		}
	}
}

function btn_enlargementLook_onclick(obj:Button,  e:ClickEventInfo)
{
	var nRow = ds_cons_list.getRowCount();
	
	if (nRow > 0)
	{
 		var oParams = { pMemNo : gv_mem_no, pDsListCons : ds_cons_list };
// 		var reVal = gfn_diaLog("파일조회", -1, -1, -1, -1, "DL500000::DL50000103P01.xfdl", false, oParams, false, false, true);
		var reVal = gfn_diaLog("파일조회", -1, -1, -1, -1, "DL500000::DL50000103P01.xfdl", true, oParams, false, false, true);
	}		
}

function btn_fullConsHist_onclick(obj:Button,  e:ClickEventInfo)
{
	var nRow = ds_cons_list.getRowCount();
	
	if (nRow > 0)
	{
		var sClphTlno = div_member.cell.value;
 		var oParams = { pMemNo : gv_mem_no, pClphTlno : sClphTlno};
		var reVal = gfn_diaLog("파일조회", -1, -1, -1, -1, "DL500000::DL50000103P02.xfdl", true, oParams, false, false, true);
	}
}

function tab_mem_cons_onlbuttonup(obj:Tab, e:TabMouseEventInfo)
{
	if(e.fromobject == "[object Tab]")
	{
		
		fn_setConsHstrFilter("N");
	
		if (obj.tabindex == 0) 
		{
			gfn_clearSortMark(tab_mem_cons.tp_cons.grd_cons);
			fn_srch_mem_cons_hstr();
		} 
		else if (obj.tabindex == 1) 
		{
			gfn_clearSortMark(tab_mem_cons.tp_voc.grd_voc);
			fn_srch_mem_voc_hstr();
		} 
		else if (obj.tabindex == 2) 
		{
			gfn_clearSortMark(tab_mem_cons.tp_chat.grd_chat);
			fn_srch_mem_char_hstr();
		} 
		else if (obj.tabindex == 3) 
		{
			gfn_clearSortMark(tab_mem_cons.tp_dlw_cons.grd_dlw_cons);
			fn_srch_mem_dlw_cons();
		} 
		else if (obj.tabindex == 4) 
		{
			alert('점검중입니다');
			return;
			
			gfn_clearSortMark(tab_mem_cons.life_hist.grd_life);
			fn_srch_life_hist();
		} 
		else if (obj.tabindex == 5) 
		{
			gfn_clearSortMark(tab_mem_cons.tp_trgtCustDtpt.grd_trgtCustDtpt);
			fn_srch_trgtCustDtpt();
		}
		else if (obj.tabindex == 6) 
		{
			gfn_clearSortMark(tab_mem_cons.tp_cmpg.grd_cmpg);
			fn_srch_mem_cmpg_hstr();
		} 
		else if (obj.tabindex == 7) 
		{
			gfn_clearSortMark(tab_mem_cons.tp_altr.grd_altrHist);
			fn_srch_mem_altr_hstr();
		} 
		else
		{
		
		}
	}
}]]></Script>
  </Form>
</FDL>
