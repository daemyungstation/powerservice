<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.4">
  <TypeDefinition url="..\default_typedef.xml"/>
  <Form id="SYS0000501004" classname="SYS0000501000" inheritanceid="" position="absolute 0 0 889 692" titletext="전문로그상세조회" onload="SYS0000501004_onload">
    <Layouts>
      <Layout>
        <Static id="stc_86" class="sta_popupBg1" enable="false" position="absolute 0 0 889 692"/>
        <Static id="stc_39" class="sta_workData" position="absolute 722 383 878 409"/>
        <Static id="stc_32" class="sta_workData" position="absolute 722 223 878 249"/>
        <Static id="stc_83" text="전문 로그" class="sta_popupTitle" transparenthittest="true" position="absolute 10 8 185 28"/>
        <Button id="btn_Close25" taborder="1" onclick="btn_close_onclick" class="btn_popupClose" position="absolute 865 8 885 27"/>
        <Button id="btn_Close26" taborder="1" text="목록" position="absolute 812 45 877 65"/>
        <Static id="stc_84" text="전문ID" class="sta_workLabel1" position="absolute 11 71 146 97"/>
        <Static id="stc_85" class="sta_workData" position="absolute 145 71 301 97"/>
        <Static id="stc_87" class="sta_workData" position="absolute 433 71 589 97"/>
        <Static id="stc_88" text="업무구분" class="sta_workLabel1" position="absolute 299 71 434 97"/>
        <Edit id="Edit05" taborder="1" value="20001" readonly="true" position="absolute 148 74 289 94"/>
        <Edit id="Edit12" taborder="1" value="신용카드" readonly="true" position="absolute 436 74 578 94"/>
        <Static id="stc_00" text="전송유형" class="sta_workLabel1" position="absolute 588 71 723 97"/>
        <Edit id="Edit00" taborder="1" value="ERP 프로젝트팀" readonly="true" position="absolute 725 74 867 94"/>
        <Static id="stc_01" class="sta_workData" position="absolute 722 71 878 97"/>
        <Static id="stc_02" text="담당기관" class="sta_workLabel1" position="absolute 11 96 146 122"/>
        <Static id="stc_03" class="sta_workData" position="absolute 145 96 301 122"/>
        <Static id="stc_04" class="sta_workData" position="absolute 433 96 878 122"/>
        <Static id="stc_05" text="상세업무" class="sta_workLabel1" position="absolute 299 96 434 122"/>
        <Edit id="Edit01" taborder="1" readonly="true" position="absolute 148 99 289 119"/>
        <Edit id="Edit02" taborder="1" readonly="true" position="absolute 436 99 867 119"/>
        <Static id="stc_08" text="전송방향" class="sta_workLabel1" position="absolute 11 121 146 147"/>
        <Static id="stc_09" class="sta_workData" position="absolute 145 121 301 147"/>
        <Static id="stc_10" class="sta_workData" position="absolute 433 121 589 147"/>
        <Static id="stc_11" text="전문구분" class="sta_workLabel1" position="absolute 299 121 434 147"/>
        <Edit id="Edit04" taborder="1" readonly="true" position="absolute 148 124 289 144"/>
        <Edit id="Edit06" taborder="1" readonly="true" position="absolute 436 124 578 144"/>
        <Static id="stc_12" text="ServiceID" class="sta_workLabel1" position="absolute 588 121 723 147"/>
        <Edit id="Edit07" taborder="1" value="ERP 프로젝트팀" readonly="true" position="absolute 725 124 867 144"/>
        <Static id="stc_13" class="sta_workData" position="absolute 722 121 878 147"/>
        <Static id="stc_14" text="Source" class="sta_workLabel1" position="absolute 11 146 146 172"/>
        <Static id="stc_15" class="sta_workData" position="absolute 145 146 301 172"/>
        <Static id="stc_16" class="sta_workData" position="absolute 433 146 589 172"/>
        <Static id="stc_17" text="Target" class="sta_workLabel1" position="absolute 299 146 434 172"/>
        <Edit id="Edit08" taborder="1" readonly="true" position="absolute 148 149 289 169"/>
        <Edit id="Edit09" taborder="1" readonly="true" position="absolute 436 149 578 169"/>
        <Static id="stc_18" text="Target Port" class="sta_workLabel1" position="absolute 588 146 723 172"/>
        <Edit id="Edit10" taborder="1" value="ERP 프로젝트팀" readonly="true" position="absolute 725 149 867 169"/>
        <Static id="stc_19" class="sta_workData" position="absolute 722 146 878 172"/>
        <Static id="stc_20" text="담당자" class="sta_workLabel1" position="absolute 11 171 146 197"/>
        <Static id="stc_21" class="sta_workData" position="absolute 145 171 301 197"/>
        <Static id="stc_22" class="sta_workData" position="absolute 433 171 589 197"/>
        <Static id="stc_23" text="전화번호" class="sta_workLabel1" position="absolute 299 171 434 197"/>
        <Edit id="Edit11" taborder="1" readonly="true" position="absolute 148 174 289 194"/>
        <Edit id="Edit13" taborder="1" readonly="true" position="absolute 436 174 578 194"/>
        <Static id="stc_24" text="이메일" class="sta_workLabel1" position="absolute 588 171 723 197"/>
        <Edit id="Edit14" taborder="1" value="ERP 프로젝트팀" readonly="true" position="absolute 725 174 867 194"/>
        <Static id="stc_25" class="sta_workData" position="absolute 722 171 878 197"/>
        <Static id="stc_152" text="전문정보" class="sta_workTitle2" position="absolute 11 45 131 65"/>
        <Static id="stc_26" text="송신 Data" class="sta_workTitle2" position="absolute 10 203 130 223"/>
        <Static id="stc_27" text="송신일" class="sta_workLabel1" position="absolute 11 223 146 249"/>
        <Static id="stc_28" class="sta_workData" position="absolute 145 223 301 249"/>
        <Static id="stc_29" class="sta_workData" position="absolute 433 223 589 249"/>
        <Static id="stc_30" text="송신시간" class="sta_workLabel1" position="absolute 299 223 434 249"/>
        <Static id="stc_31" text="Data 크기" class="sta_workLabel1" position="absolute 588 223 723 249"/>
        <Edit id="Edit17" taborder="1" value="197byte" readonly="true" position="absolute 725 226 867 246"/>
        <Static id="stc_33" text="송신 Data" class="sta_workLabel1" position="absolute 11 248 146 358"/>
        <Static id="stc_34" class="sta_workData" position="absolute 145 248 878 358"/>
        <TextArea id="TextArea00" taborder="1" position="absolute 148 251 875 355" value="1234" readonly="true"/>
        <Static id="stc_35" text="수신 Data" class="sta_workTitle2" position="absolute 10 364 130 384"/>
        <Static id="stc_44" text="관련로그" class="sta_workTitle2" position="absolute 10 525 130 545"/>
        <Static id="stc_45" text="전송결과" class="sta_workLabel1" position="absolute 11 545 146 571"/>
        <Static id="stc_46" class="sta_workData" position="absolute 145 545 878 571"/>
        <Edit id="Edit21" taborder="1" value="성공" readonly="true" position="absolute 148 548 289 568"/>
        <Static id="stc_52" class="sta_workData" position="absolute 11 570 878 681"/>
        <TextArea id="TextArea02" taborder="1" position="absolute 14 573 875 677" value="1234" readonly="true"/>
        <Calendar id="cal_00" taborder="1" displaynulltext="2012-10-09" dateformat="yyyy-MM-dd" onchanged="cal_00_onchanged" oneditclick="cal_00_oneditclick" position="absolute 148 226 289 246" readonly="true"/>
        <Calendar id="cal_01" taborder="1" readonly="true" dateformat="HH:mm:ss" onchanged="cal_00_onchanged" oneditclick="cal_00_oneditclick" position="absolute 436 226 578 246" editformat="HH:mm:ss" value="120850000"/>
        <Static id="stc_06" text="수신일" class="sta_workLabel1" position="absolute 11 383 146 409"/>
        <Static id="stc_07" class="sta_workData" position="absolute 145 383 301 409"/>
        <Static id="stc_36" class="sta_workData" position="absolute 433 383 589 409"/>
        <Static id="stc_37" text="수신시간" class="sta_workLabel1" position="absolute 299 383 434 409"/>
        <Static id="stc_38" text="Data 크기" class="sta_workLabel1" position="absolute 588 383 723 409"/>
        <Edit id="Edit03" taborder="1" value="197byte" readonly="true" position="absolute 725 386 867 406"/>
        <Static id="stc_40" text="수신 Data" class="sta_workLabel1" position="absolute 11 408 146 518"/>
        <Static id="stc_41" class="sta_workData" position="absolute 145 408 878 518"/>
        <TextArea id="TextArea01" taborder="1" position="absolute 148 411 875 515" value="1234" readonly="true"/>
        <Calendar id="cal_02" taborder="1" readonly="true" displaynulltext="2012-10-09" dateformat="yyyy-MM-dd" onchanged="cal_00_onchanged" oneditclick="cal_00_oneditclick" position="absolute 148 386 289 406"/>
        <Calendar id="cal_03" taborder="1" value="120850000" readonly="true" dateformat="HH:mm:ss" editformat="HH:mm:ss" onchanged="cal_00_onchanged" oneditclick="cal_00_oneditclick" position="absolute 436 386 578 406"/>
        <Combo id="Combo02" taborder="1" readonly="true" innerdataset="ds_combo2" codecolumn="code" datacolumn="vl" position="absolute 437 124 587 144"/>
        <Combo id="Combo00" taborder="1" readonly="true" innerdataset="ds_combo1" codecolumn="code" datacolumn="vl" position="absolute 147 124 297 144"/>
        <Combo id="Combo01" taborder="1" readonly="true" innerdataset="ds_combo3" codecolumn="code" datacolumn="vl" position="absolute 727 74 877 94" style=":disabled {color:#999999ff;}"/>
      </Layout>
    </Layouts>
    <Bind>
      <BindItem id="item15" compid="Combo02" propid="value" datasetid="ds_info" columnid="spczDivCd"/>
      <BindItem id="item14" compid="Combo00" propid="value" datasetid="ds_info" columnid="trnmDrcCd"/>
      <BindItem id="item16" compid="Combo01" propid="value" datasetid="ds_info" columnid="trnmTypCd"/>
      <BindItem id="item0" compid="Edit05" propid="value" datasetid="ds_info" columnid="spczId"/>
      <BindItem id="item1" compid="Edit12" propid="value" datasetid="ds_info" columnid="bswrDivNm"/>
      <BindItem id="item2" compid="Edit01" propid="value" datasetid="ds_info" columnid="rspsInttNm"/>
      <BindItem id="item3" compid="Edit02" propid="value" datasetid="ds_info" columnid="dtptBswrCntn"/>
      <BindItem id="item4" compid="stc_13" propid="text" datasetid="ds_info" columnid="srvcId"/>
      <BindItem id="item5" compid="Edit08" propid="value" datasetid="ds_info" columnid="srcSrvrIp"/>
      <BindItem id="item6" compid="Edit09" propid="value" datasetid="ds_info" columnid="trgtSrvrIp"/>
      <BindItem id="item7" compid="stc_19" propid="text" datasetid="ds_info" columnid="trgtSrvrAcprNo"/>
      <BindItem id="item8" compid="Edit11" propid="value" datasetid="ds_info" columnid="chprNm"/>
      <BindItem id="item9" compid="Edit13" propid="value" datasetid="ds_info" columnid="chprTlno"/>
      <BindItem id="item10" compid="stc_25" propid="text" datasetid="ds_info" columnid="chprEmilAddr"/>
    </Bind>
    <Objects>
      <Dataset id="ds_info" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_list_oncolumnchanged" onvaluechanged="ds_list_onvaluechanged">
        <ColumnInfo>
          <Column id="_chk" type="INT" size="256"/>
          <Column id="xRowStatusType" type="STRING" size="256"/>
          <Column id="spczId" type="STRING" size="256"/>
          <Column id="bswrDivNm" type="STRING" size="256"/>
          <Column id="dtptBswrCntn" type="STRING" size="256"/>
          <Column id="rspsInttNm" type="STRING" size="256"/>
          <Column id="trnmTypCd" type="STRING" size="256"/>
          <Column id="trnmDrcCd" type="STRING" size="256"/>
          <Column id="spczDivCd" type="STRING" size="256"/>
          <Column id="srvcId" type="STRING" size="256"/>
          <Column id="srcSrvrIp" type="STRING" size="256"/>
          <Column id="trgtSrvrIp" type="STRING" size="256"/>
          <Column id="trgtSrvrAcprNo" type="STRING" size="256"/>
          <Column id="chprNm" type="STRING" size="256"/>
          <Column id="chprTlno" type="STRING" size="256"/>
          <Column id="chprEmilAddr" type="STRING" size="256"/>
          <Column id="useYn" type="STRING" size="256"/>
          <Column id="rplySpczId" type="STRING" size="256"/>
          <Column id="hgrnSpczId" type="STRING" size="256"/>
          <Column id="trnmAplcSrno" type="STRING" size="256"/>
          <Column id="systIdntId" type="STRING" size="256"/>
          <Column id="bzdpDivCd" type="STRING" size="256"/>
          <Column id="apltCd" type="STRING" size="256"/>
          <Column id="trscId" type="STRING" size="256"/>
          <Column id="srvcUrlAddr" type="STRING" size="256"/>
          <Column id="reslCd" type="STRING" size="256"/>
          <Column id="fileNm" type="STRING" size="256"/>
          <Column id="fileSizeCnt" type="STRING" size="256"/>
          <Column id="trnmNote" type="STRING" size="256"/>
          <Column id="reslCntn" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_combo1" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="code" type="STRING" size="256"/>
          <Column id="vl" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="code">O</Col>
            <Col id="vl">Outgoing</Col>
          </Row>
          <Row>
            <Col id="code">I</Col>
            <Col id="vl">Incoming</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_combo2" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="code" type="STRING" size="256"/>
          <Column id="vl" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="code">S</Col>
            <Col id="vl">요청</Col>
          </Row>
          <Row>
            <Col id="code">R</Col>
            <Col id="vl">응답</Col>
          </Row>
          <Row>
            <Col id="code">D</Col>
            <Col id="vl">요청/응답</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_combo3" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="code" type="STRING" size="256"/>
          <Column id="vl" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="code">1</Col>
            <Col id="vl">전문</Col>
          </Row>
          <Row>
            <Col id="code">2</Col>
            <Col id="vl">송수신</Col>
          </Row>
          <Row>
            <Col id="code">3</Col>
            <Col id="vl">송수신Data전문</Col>
          </Row>
        </Rows>
      </Dataset>
    </Objects>
    <Script type="xscript4.0"><![CDATA[include "LIB::lib_All.xjs";

var fv_pasingDatasetList1 = "ds_pagingRequestDs1:ds_pagingResponseDs1";		// 첫번째그리드 페이징처리위한데이타셋(요청:응답)

function SYS0000501004_onload(obj:Form, e:LoadEventInfo)
{
	// 시스템 공통함수 호출
	gfn_commInit(obj);
	
	// 폼 공통함수 호출
	fn_init();
	
	// 공통코드 조회
	//fn_getCommCode();	
}


function fn_init()
{
	gfn_createPagingDataset(fv_pasingDatasetList1);	// 첫번째그리드 페이징 처리를 위한 데이타셋 생성

	ds_info.copyData(pv_info);
	//fn_commSearchGrop(gfn_getCommTypeInit());

}



/***************************************************************************
 * 함  수  명		: fn_preSearch()
 * 기      능		: 조회 전 처리
 ***************************************************************************/
function fn_preSearchGrop(sType)
{
	if(!gfn_preSearchDs(ds_list, sType)) return false;

	//TO-DO:조회조건 체크

	return true;
}


/***************************************************************************
 * 함  수  명		: fn_postSearch()
 * 기      능		: 조회 후 처리
 ***************************************************************************/
function fn_postSearchGrop(sType)
{
	if(ds_list.rowcount < 1)	{

		//TO-DO: 조회 결과 메세지처리

	} else {
		
		//TO-DO: 조회 결과 메세지처리

		ds_input.clearData();
		var nRow = ds_input.addRow();
		ds_input.setColumn(nRow,"spczId",ds_list.getColumn(0,"spczId"));
		ds_input.setColumn(nRow,"spczGropId",ds_list.getColumn(0,"spczGropId"));
		fn_commSearchDetail(gfn_getCommTypeInit());
	}
}

/***************************************************************************
 * 함  수  명		: fn_commSearchGrop()
 * 기      능		: (공통버튼)조회 프로세스

 ***************************************************************************/
function fn_commSearchGrop(sType)
{
	if (!fn_preSearchGrop(sType)) return false;

// 	// 페이지 처리 기본설정
// 	if(!gfn_pageSearch(gfn_getTranTypeDIS(), sType, ds_list, div_body.sta_TotalCnt)) return;
// 
// 	// KWData 설정
// 	gfn_kwDataInit();
// 	gfn_setKwData_trscCode("SYS00005R10");
// 	gfn_setKwData_screenId("");
// 	gfn_setKwData_bizGroupCode("");
// 	gfn_setKwData_systemCode("");
// 	gfn_setKwData_nameSpace("com.kyowon.krp.sys.dc.gatewayadmnistrationsc.DCMsgAdmnSqlMap");
// 
// 	if(sType != gfn_getCommTypeAppend()) {	// 총건수 조회
// 		gfn_setKwData_sqlId("countGatewayMsgGropInfo");
// 		gfn_tranDIS(sType
// 					, "ds_input=ds_info"
// 					, ""
// 					, "fn_commSearchGrop_callBack");
// 	} else {								// 리스트 조회
// 		gfn_setKwData_sqlId("getGatewayMsgGropInfo");
// 		gfn_tranDIS(sType
// 					, "ds_input=ds_info"
// 					, "ds_list_Temp=datas"
// 					, "fn_commSearchGrop_callBack");
// 	}

	// 페이지 처리 기본설정
	if(!gfn_pageSearch(gfn_getTranTypeMultiDIS(), sType, ds_list, div_body.sta_TotalCnt, null, fv_pasingDatasetList1)) return;

	// KWData 설정
	gfn_kwDataInit();
	gfn_setKwData_trscCode("SYS00005R10");
	if (sType != gfn_getCommTypeAppend()) {
		gfn_tranMultiDIS(sType
				, "ds_input=ds_info ds_pagingRequestDs1=ds_pagingRequestDs1"
				, "ds_pagingResponseDs1=ds_count ds_list_Temp=ds_list_Temp"
				, "fn_commSearch_callBack");
	} else {
		gfn_setKwData_sqlId("getGatewayMsgGropInfo");
		gfn_tranMultiDIS(sType
				, "ds_input=ds_info ds_pagingRequestDs1=ds_pagingRequestDs1"
				, "ds_list_Temp=ds_list_Temp"
				, "fn_commSearch_callBack");
	}
}


/***************************************************************************
 * 함  수  명		: fn_commSearchGrop_callBack()
 * 기      능		: [CallBack함수] Transaction Callback함수
 ***************************************************************************/
function fn_commSearchGrop_callBack(strSvcID, nErrorCode, strErrorMsg)
{
// 	// 페이지건수 조회시 처리
// 	if(strSvcID != gfn_getCommTypeAppend()) {
// 		gfn_setTotalRowCount(ds_list, div_body.sta_TotalCnt);
// 		fn_commSearchGrop(gfn_getCommTypeAppend());
// 		return;
// 	} else {
// 		// 조회된 결과를 실제보여줄 데이타셋으로 Append처리
// 		gfn_appendSearchDs(ds_list, ds_list_Temp);
// 	}
// 	// 조회 후 처리
// 	fn_postSearchGrop(strSvcID);

	// 조회된 결과를 실제보여줄 데이타셋으로 Append처리
	gfn_appendSearchDs(ds_list, ds_list_Temp);
	
	// 검색결과 건수(현재건수 / 전체건수)
	gfn_setTotalRowCount(ds_list, div_body.sta_TotalCnt, null, fv_pasingDatasetList1);
	// 조회 후 처리
	fn_postSearch(strSvcID);
}





function btn_close_onclick(obj:Button,  e:ClickEventInfo)
{
	this.close();
}
]]></Script>
  </Form>
</FDL>
