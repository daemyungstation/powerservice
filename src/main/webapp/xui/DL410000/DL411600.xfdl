<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\default_typedef.xml"/>
  <Form id="PS040909" classname="PS030200" inheritanceid="" position="absolute 0 0 989 795" titletext="무승인청구수수료" scrollbars="none" onload="PS040909_onload">
    <Layouts>
      <Layout>
        <Static id="stc_01" class="sta_workSrcBg" position2="absolute l:0 r:0 t:7 h:41" positiontype="position2"/>
        <Button id="btn_init" taborder="25" onclick="btn_init_onclick" class="btn_WF_Return" position2="absolute r:21 w:72 t:18 h:20" positiontype="position2" tooltiptext="초기화" style="padding:0 0 0 0;"/>
        <Button id="btn_search" taborder="26" onclick="btn_search_onclick" class="btn_WF_Search" position2="absolute r:95 w:72 t:18 h:20" positiontype="position2" tooltiptext="조회" style="padding:0 0 0 0;shadow:drop 0,0 0 transparent;"/>
        <Static id="sta_totalCnt" text="검색결과   &lt;fs v='9'&gt;&lt;fc v='#f0850c'&gt;&lt;b v='true'&gt;0&lt;/b&gt;&lt;/fc&gt;&lt;/fs&gt; &lt;fc v='#a1a1a1'&gt;건&lt;/fc&gt; / 전체   &lt;fs v='9'&gt;&lt;fc v='#f0850c'&gt;&lt;b v='true'&gt;0&lt;/b&gt;&lt;/fc&gt;&lt;/fs&gt; &lt;fc v='#a1a1a1'&gt;건&lt;/fc&gt;" usedecorate="true" class="sta_workTitle5" position2="absolute l:0 w:193 t:52 h:20" positiontype="position2"/>
        <Static id="stc_25" text="조회기준일자" class="sta_workSrcLabel1" position="absolute 12 18 96 38"/>
        <Calendar id="cal_uploadDtStart" taborder="35" displaynulltext="____-__-__" dateformat="yyyy-MM-dd" class="cal_srch" position="absolute 224 18 325 38" onkeydown="srch_onkeydown"/>
        <Button id="btn_getFile" taborder="49" tabstop="false" text="파일가져오기" onclick="btn_getFile_onclick" position2="absolute r:-105 w:91 t:52 h:20" positiontype="position2" visible="false" tooltiptext="파일가져오기"/>
        <Static id="stc_03" class="sta_workSrcBg" position2="absolute l:0 r:0 b:3 h:37" positiontype="position2"/>
        <Static id="stc_00" text="총전송건수" class="sta_workSrcLabel1" position2="absolute l:6 w:78 b:11 h:20" positiontype="position2"/>
        <Static id="stc_04" text="매입금액총합" class="sta_workSrcLabel1" position2="absolute l:188 w:90 b:11 h:20" positiontype="position2"/>
        <Edit id="edt_tot_send_num" taborder="50" inputtype="number" lengthunit="utf8" maxlength="13" onkillfocus="edt_cntr_rprs_tlno_onkillfocus" position2="absolute l:86 w:96 b:11 h:20" positiontype="position2" enable="false" style=":disabled {align:right middle;}"/>
        <Edit id="edt_tot_appy_num" taborder="51" inputtype="number" lengthunit="utf8" maxlength="13" onkillfocus="edt_cntr_rprs_tlno_onkillfocus" position2="absolute l:280 w:96 b:11 h:20" positiontype="position2" enable="false" style=":disabled {align:right middle;}"/>
        <Static id="stc_02" text="가맹점수수료총합" class="sta_workSrcLabel1" position2="absolute l:380 w:105 b:11 h:20" positiontype="position2"/>
        <Edit id="edt_tot_appy_pay" taborder="52" inputtype="number" lengthunit="utf8" maxlength="13" onkillfocus="edt_cntr_rprs_tlno_onkillfocus" position2="absolute l:487 w:96 b:11 h:20" positiontype="position2" enable="false" style=":disabled {align:right middle;}"/>
        <Static id="stc_05" text="기타수수료총합" class="sta_workSrcLabel1" position2="absolute l:587 w:98 b:11 h:20" positiontype="position2"/>
        <Edit id="edt_tot_cncl_num" taborder="53" inputtype="number" lengthunit="utf8" maxlength="13" onkillfocus="edt_cntr_rprs_tlno_onkillfocus" position2="absolute l:687 w:96 b:11 h:20" positiontype="position2" enable="false" style=":disabled {align:right middle;}"/>
        <Static id="stc_06" text="지급금액총합" class="sta_workSrcLabel1" position2="absolute l:787 w:98 b:11 h:20" positiontype="position2"/>
        <Edit id="edt_tot_cncl_pay" taborder="54" inputtype="number" lengthunit="utf8" maxlength="13" onkillfocus="edt_cntr_rprs_tlno_onkillfocus" position2="absolute l:887 w:96 b:11 h:20" positiontype="position2" enable="false" style=":disabled {align:right middle;}"/>
        <Calendar id="cal_uploadDtEnd" taborder="55" displaynulltext="____-__-__" dateformat="yyyy-MM-dd" onkeydown="srch_onkeydown" class="cal_srch" position="absolute 344 18 445 38"/>
        <Static id="sta_Dash01" text="~" position="absolute 330 23 343 38"/>
        <Combo id="cbo_dtType" taborder="56" codecolumn="codecolumn" datacolumn="datacolumn" position="absolute 99 18 219 38" index="0" value="01" text="승인일자">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn">01</Col>
                <Col id="datacolumn">승인일자</Col>
              </Row>
              <Row>
                <Col id="codecolumn">02</Col>
                <Col id="datacolumn">매입일자</Col>
              </Row>
              <Row>
                <Col id="codecolumn">03</Col>
                <Col id="datacolumn">매입결과수신일</Col>
              </Row>
              <Row>
                <Col id="codecolumn">04</Col>
                <Col id="datacolumn">파일작성일</Col>
              </Row>
              <Row>
                <Col id="codecolumn">05</Col>
                <Col id="datacolumn">지급예정일</Col>
              </Row>
            </Rows>
          </Dataset>
        </Combo>
        <Button id="btn_excelExport" taborder="57" tabstop="false" text="엑셀" position2="absolute r:2 w:91 t:52 h:20" positiontype="position2" tooltiptext="엑셀" onclick="btn_excelExport_onclick"/>
        <Grid id="grd_listExcel" class="grd_list" taborder="58" binddataset="ds_listAcquRsltExcel" useinputpanel="false" cellsizingtype="col" onvscrolllastover="grd_list_onvscrolllastover" onheadclick="grd_list_onheadclick" position2="absolute l:0 r:0 t:75 b:43" positiontype="position2" visible="false">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="40"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="200"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="120"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="0"/>
                <Column size="100"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="NO"/>
                <Cell col="1" text="승인일자"/>
                <Cell col="2" text="매입일자"/>
                <Cell col="3" text="매입결과수신일"/>
                <Cell col="4" text="파일작성일" id="mem_no"/>
                <Cell col="5" text="TID" id="cell"/>
                <Cell col="6" text="승인번호"/>
                <Cell col="7" text="카드사" id="mem_nm"/>
                <Cell col="8" text="카드구분"/>
                <Cell col="9" text="카드번호"/>
                <Cell col="10" text="매입금액"/>
                <Cell col="11" text="가맹점수수료"/>
                <Cell col="12" text="기타수수료"/>
                <Cell col="13" text="지급금액"/>
                <Cell col="14" text="발송내용" id="chat_msg_cntn"/>
                <Cell col="15" text="지급예정일"/>
              </Band>
              <Band id="body">
                <Cell displaytype="text" text="bind:page_indx"/>
                <Cell col="1" displaytype="date" style="align:center middle;" text="bind:d_data_trad_dttm"/>
                <Cell col="2" displaytype="date" style="align:center middle;" text="bind:d_data_purc_dttm"/>
                <Cell col="3" displaytype="date" style="align:center middle;" text="bind:m_sta_recv_dttm"/>
                <Cell col="4" displaytype="date" style="align:center middle;" text="bind:m_sta_make_dttm"/>
                <Cell col="5" displaytype="text" style="align:center middle;" text="bind:d_data_tid"/>
                <Cell col="6" style="align:center middle;" text="bind:d_data_appy_num"/>
                <Cell col="7" displaytype="combo" style="align:center middle;" text="bind:d_data_purc_crco" combodataset="ds_codePurcCrco" combocodecol="code" combodatacol="value"/>
                <Cell col="8" displaytype="combo" style="align:center middle;" text="bind:d_data_card_gb" combodataset="ds_codeCardGb" combocodecol="code" combodatacol="value"/>
                <Cell col="9" displaytype="text" style="align:center middle;" text="bind:d_data_card_num"/>
                <Cell col="10" displaytype="number" style="align:right middle;" text="bind:d_data_purc_pay"/>
                <Cell col="11" displaytype="number" style="align:right middle;" text="bind:d_data_fran_fee" calendardisplay="edit" calendardisplaynulltype="none"/>
                <Cell col="12" displaytype="number" style="align:right middle;" text="bind:d_data_etc_fee"/>
                <Cell col="13" displaytype="number" style="align:right middle;" text="bind:d_data_amot_paid"/>
                <Cell col="14" displaytype="text"/>
                <Cell col="15" displaytype="date" style="align:center middle;" text="bind:d_data_amot_dttm"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Grid id="grd_list" class="grd_list" taborder="59" binddataset="ds_listAcquRslt" useinputpanel="false" cellsizingtype="col" onvscrolllastover="grd_list_onvscrolllastover" onheadclick="grd_list_onheadclick" position2="absolute l:0 r:0 t:75 b:43" positiontype="position2">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="40"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="200"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="120"/>
                <Column size="80"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="0"/>
                <Column size="100"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="NO"/>
                <Cell col="1" text="승인일자"/>
                <Cell col="2" text="매입일자"/>
                <Cell col="3" text="매입결과수신일"/>
                <Cell col="4" text="파일작성일" id="mem_no"/>
                <Cell col="5" text="TID" id="cell"/>
                <Cell col="6" text="승인번호"/>
                <Cell col="7" text="카드사" id="mem_nm"/>
                <Cell col="8" text="카드구분"/>
                <Cell col="9" text="카드번호"/>
                <Cell col="10" text="거래구분"/>
                <Cell col="11" text="매입금액"/>
                <Cell col="12" text="가맹점수수료"/>
                <Cell col="13" text="기타수수료"/>
                <Cell col="14" text="지급금액"/>
                <Cell col="15" text="발송내용" id="chat_msg_cntn"/>
                <Cell col="16" text="지급예정일"/>
              </Band>
              <Band id="body">
                <Cell displaytype="text" text="bind:page_indx"/>
                <Cell col="1" displaytype="date" style="align:center middle;" text="bind:d_data_trad_dttm"/>
                <Cell col="2" displaytype="date" style="align:center middle;" text="bind:d_data_purc_dttm"/>
                <Cell col="3" displaytype="date" style="align:center middle;" text="bind:m_sta_recv_dttm"/>
                <Cell col="4" displaytype="date" style="align:center middle;" text="bind:m_sta_make_dttm"/>
                <Cell col="5" displaytype="text" style="align:center middle;" text="bind:d_data_tid"/>
                <Cell col="6" style="align:center middle;" text="bind:d_data_appy_num"/>
                <Cell col="7" displaytype="combo" style="align:center middle;" text="bind:d_data_purc_crco" combodataset="ds_codePurcCrco" combocodecol="code" combodatacol="value"/>
                <Cell col="8" displaytype="combo" style="align:center middle;" text="bind:d_data_card_gb" combodataset="ds_codeCardGb" combocodecol="code" combodatacol="value"/>
                <Cell col="9" displaytype="text" style="align:center middle;" text="bind:d_data_card_num"/>
                <Cell col="10" displaytype="combo" style="align:center middle;" text="bind:d_data_trad_gb" combodataset="ds_codeTradGb" combocodecol="code" combodatacol="value"/>
                <Cell col="11" displaytype="number" style="align:right middle;" text="bind:d_data_purc_pay"/>
                <Cell col="12" displaytype="number" style="align:right middle;" text="bind:d_data_fran_fee" calendardisplay="edit" calendardisplaynulltype="none"/>
                <Cell col="13" displaytype="number" style="align:right middle;" text="bind:d_data_etc_fee"/>
                <Cell col="14" displaytype="number" style="align:right middle;" text="bind:d_data_amot_paid"/>
                <Cell col="15" displaytype="text"/>
                <Cell col="16" displaytype="date" style="align:center middle;" text="bind:d_data_amot_dttm"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="stc_07" text="거래구분" class="sta_workSrcLabel1" position="absolute 452 18 536 38"/>
        <Combo id="cbo_dataTradGb" taborder="60" text="전체" codecolumn="codecolumn" datacolumn="datacolumn" index="0" position="absolute 516 18 636 38" displayrowcount="-1">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn"/>
                <Col id="datacolumn">전체</Col>
              </Row>
              <Row>
                <Col id="codecolumn">0</Col>
                <Col id="datacolumn">매입</Col>
              </Row>
              <Row>
                <Col id="codecolumn">2</Col>
                <Col id="datacolumn">취소</Col>
              </Row>
            </Rows>
          </Dataset>
        </Combo>
        <Static id="stc_08" text="승인번호" class="sta_workSrcLabel1" position="absolute 648 18 732 38"/>
        <Edit id="edt_appyNum" taborder="61" inputmode="upper" inputfilter="dot,comma,sign,symbol" inputtype="numberandenglish" maxlength="8" onkeydown="srch_onkeydown" canchange="srch_canchange" position="absolute 712 18 817 38"/>
        <Static id="stc_09" text="카드사" class="sta_workSrcLabel1" position="absolute 832 18 916 38"/>
        <Combo id="cbo_dataPurcCrco" taborder="62" text="전체" index="0" position="absolute 884 18 1004 38" codecolumn="codecolumn" datacolumn="datacolumn">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn"/>
                <Col id="datacolumn">전체</Col>
              </Row>
              <Row>
                <Col id="codecolumn">04</Col>
                <Col id="datacolumn">삼성</Col>
              </Row>
              <Row>
                <Col id="codecolumn">06</Col>
                <Col id="datacolumn">신한</Col>
              </Row>
            </Rows>
          </Dataset>
        </Combo>
      </Layout>
    </Layouts>
    <Bind>
      <BindItem id="item0" compid="div_Work.msk_FromDate" propid="value" datasetid="ds_Date" columnid="SDate"/>
      <BindItem id="item2" compid="div_Work.msk_ToDate" propid="value" datasetid="ds_Date" columnid="EDate"/>
      <BindItem id="item1" compid="edt_tot_send_num" propid="value" datasetid="ds_singleTotal" columnid="m_tot_send_num"/>
      <BindItem id="item3" compid="edt_tot_appy_num" propid="value" datasetid="ds_singleTotal" columnid="d_data_purc_pay_sum"/>
      <BindItem id="item4" compid="edt_tot_appy_pay" propid="value" datasetid="ds_singleTotal" columnid="d_data_fran_fee_sum"/>
      <BindItem id="item5" compid="edt_tot_cncl_num" propid="value" datasetid="ds_singleTotal" columnid="d_data_etc_fee_sum"/>
      <BindItem id="item6" compid="edt_tot_cncl_pay" propid="value" datasetid="ds_singleTotal" columnid="d_data_amot_paid_sum"/>
    </Bind>
    <Objects>
      <Dataset id="ds_trans_info" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="strSvcID" type="STRING" size="256"/>
          <Column id="strURL" type="STRING" size="256"/>
          <Column id="strInDatasets" type="STRING" size="256"/>
          <Column id="strOutDatasets" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_inqCndt" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="sta_dttm" type="STRING" size="256"/>
          <Column id="end_dttm" type="STRING" size="256"/>
          <Column id="dt_type" type="STRING" size="256"/>
          <Column id="data_trad_gb" type="STRING" size="256"/>
          <Column id="data_appy_num" type="STRING" size="256"/>
          <Column id="data_purc_crco" type="STRING" size="256"/>
          <Column id="orderBy" type="STRING" size="256"/>
          <Column id="orderDirection" type="STRING" size="256"/>
          <Column id="sController" type="STRING" size="256"/>
          <Column id="dsName" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_singleTotal" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="m_tot_send_num" type="STRING" size="256"/>
          <Column id="d_data_purc_pay_sum" type="STRING" size="256"/>
          <Column id="d_data_fran_fee_sum" type="STRING" size="256"/>
          <Column id="d_data_etc_fee_sum" type="STRING" size="256"/>
          <Column id="d_data_amot_paid_sum" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_listAcquRslt" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="page_indx" type="STRING" size="256"/>
          <Column id="m_mst_serial_num" type="STRING" size="256"/>
          <Column id="m_sta_record_gb" type="STRING" size="256"/>
          <Column id="m_sta_make_dttm" type="STRING" size="256"/>
          <Column id="m_sta_send_id" type="STRING" size="256"/>
          <Column id="m_sta_recv_dttm" type="STRING" size="256"/>
          <Column id="m_sta_filler" type="STRING" size="256"/>
          <Column id="m_tot_record_gb" type="STRING" size="256"/>
          <Column id="m_tot_recv_dttm" type="STRING" size="256"/>
          <Column id="m_tot_send_id" type="STRING" size="256"/>
          <Column id="m_tot_send_num" type="STRING" size="256"/>
          <Column id="m_tot_appy_num" type="STRING" size="256"/>
          <Column id="m_tot_appy_pay" type="STRING" size="256"/>
          <Column id="m_tot_cncl_num" type="STRING" size="256"/>
          <Column id="m_tot_cncl_pay" type="STRING" size="256"/>
          <Column id="m_tot_filler" type="STRING" size="256"/>
          <Column id="m_file_name" type="STRING" size="256"/>
          <Column id="m_file_path" type="STRING" size="256"/>
          <Column id="m_calc_yn" type="STRING" size="256"/>
          <Column id="m_rgsr_id" type="STRING" size="256"/>
          <Column id="m_rgsr_dttm" type="STRING" size="256"/>
          <Column id="m_del_fg" type="STRING" size="256"/>
          <Column id="d_mst_serial_num" type="STRING" size="256"/>
          <Column id="d_dtl_serial_num" type="STRING" size="256"/>
          <Column id="d_data_gb" type="STRING" size="256"/>
          <Column id="d_data_tid" type="STRING" size="256"/>
          <Column id="d_data_fran_id" type="STRING" size="256"/>
          <Column id="d_data_trad_gb" type="STRING" size="256"/>
          <Column id="d_data_trad_dttm" type="STRING" size="256"/>
          <Column id="d_data_purc_dttm" type="STRING" size="256"/>
          <Column id="d_data_appy_num" type="STRING" size="256"/>
          <Column id="d_data_purc_crco" type="STRING" size="256"/>
          <Column id="d_data_card_gb" type="STRING" size="256"/>
          <Column id="d_data_card_num" type="STRING" size="256"/>
          <Column id="d_data_purc_pay" type="STRING" size="256"/>
          <Column id="d_data_fran_fee" type="STRING" size="256"/>
          <Column id="d_data_etc_fee" type="STRING" size="256"/>
          <Column id="d_data_amot_paid" type="STRING" size="256"/>
          <Column id="d_data_amot_dttm" type="STRING" size="256"/>
          <Column id="d_data_trad_blgb" type="STRING" size="256"/>
          <Column id="d_data_filler" type="STRING" size="256"/>
          <Column id="d_rgsr_id" type="STRING" size="256"/>
          <Column id="d_rgsr_dttm" type="STRING" size="256"/>
          <Column id="d_del_fg" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_listAcquRsltTemp" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="page_indx" type="STRING" size="256"/>
          <Column id="m_mst_serial_num" type="STRING" size="256"/>
          <Column id="m_sta_record_gb" type="STRING" size="256"/>
          <Column id="m_sta_make_dttm" type="STRING" size="256"/>
          <Column id="m_sta_send_id" type="STRING" size="256"/>
          <Column id="m_sta_recv_dttm" type="STRING" size="256"/>
          <Column id="m_sta_filler" type="STRING" size="256"/>
          <Column id="m_tot_record_gb" type="STRING" size="256"/>
          <Column id="m_tot_recv_dttm" type="STRING" size="256"/>
          <Column id="m_tot_send_id" type="STRING" size="256"/>
          <Column id="m_tot_send_num" type="STRING" size="256"/>
          <Column id="m_tot_appy_num" type="STRING" size="256"/>
          <Column id="m_tot_appy_pay" type="STRING" size="256"/>
          <Column id="m_tot_cncl_num" type="STRING" size="256"/>
          <Column id="m_tot_cncl_pay" type="STRING" size="256"/>
          <Column id="m_tot_filler" type="STRING" size="256"/>
          <Column id="m_file_name" type="STRING" size="256"/>
          <Column id="m_file_path" type="STRING" size="256"/>
          <Column id="m_calc_yn" type="STRING" size="256"/>
          <Column id="m_rgsr_id" type="STRING" size="256"/>
          <Column id="m_rgsr_dttm" type="STRING" size="256"/>
          <Column id="m_del_fg" type="STRING" size="256"/>
          <Column id="d_mst_serial_num" type="STRING" size="256"/>
          <Column id="d_dtl_serial_num" type="STRING" size="256"/>
          <Column id="d_data_gb" type="STRING" size="256"/>
          <Column id="d_data_tid" type="STRING" size="256"/>
          <Column id="d_data_fran_id" type="STRING" size="256"/>
          <Column id="d_data_trad_gb" type="STRING" size="256"/>
          <Column id="d_data_trad_dttm" type="STRING" size="256"/>
          <Column id="d_data_purc_dttm" type="STRING" size="256"/>
          <Column id="d_data_appy_num" type="STRING" size="256"/>
          <Column id="d_data_purc_crco" type="STRING" size="256"/>
          <Column id="d_data_card_gb" type="STRING" size="256"/>
          <Column id="d_data_card_num" type="STRING" size="256"/>
          <Column id="d_data_purc_pay" type="STRING" size="256"/>
          <Column id="d_data_fran_fee" type="STRING" size="256"/>
          <Column id="d_data_etc_fee" type="STRING" size="256"/>
          <Column id="d_data_amot_paid" type="STRING" size="256"/>
          <Column id="d_data_amot_dttm" type="STRING" size="256"/>
          <Column id="d_data_trad_blgb" type="STRING" size="256"/>
          <Column id="d_data_filler" type="STRING" size="256"/>
          <Column id="d_rgsr_id" type="STRING" size="256"/>
          <Column id="d_rgsr_dttm" type="STRING" size="256"/>
          <Column id="d_del_fg" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_listAcquRsltExcel" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="page_indx" type="STRING" size="256"/>
          <Column id="m_mst_serial_num" type="STRING" size="256"/>
          <Column id="m_sta_record_gb" type="STRING" size="256"/>
          <Column id="m_sta_make_dttm" type="STRING" size="256"/>
          <Column id="m_sta_send_id" type="STRING" size="256"/>
          <Column id="m_sta_recv_dttm" type="STRING" size="256"/>
          <Column id="m_sta_filler" type="STRING" size="256"/>
          <Column id="m_tot_record_gb" type="STRING" size="256"/>
          <Column id="m_tot_recv_dttm" type="STRING" size="256"/>
          <Column id="m_tot_send_id" type="STRING" size="256"/>
          <Column id="m_tot_send_num" type="STRING" size="256"/>
          <Column id="m_tot_appy_num" type="STRING" size="256"/>
          <Column id="m_tot_appy_pay" type="STRING" size="256"/>
          <Column id="m_tot_cncl_num" type="STRING" size="256"/>
          <Column id="m_tot_cncl_pay" type="STRING" size="256"/>
          <Column id="m_tot_filler" type="STRING" size="256"/>
          <Column id="m_file_name" type="STRING" size="256"/>
          <Column id="m_file_path" type="STRING" size="256"/>
          <Column id="m_calc_yn" type="STRING" size="256"/>
          <Column id="m_rgsr_id" type="STRING" size="256"/>
          <Column id="m_rgsr_dttm" type="STRING" size="256"/>
          <Column id="m_del_fg" type="STRING" size="256"/>
          <Column id="d_mst_serial_num" type="STRING" size="256"/>
          <Column id="d_dtl_serial_num" type="STRING" size="256"/>
          <Column id="d_data_gb" type="STRING" size="256"/>
          <Column id="d_data_tid" type="STRING" size="256"/>
          <Column id="d_data_fran_id" type="STRING" size="256"/>
          <Column id="d_data_trad_gb" type="STRING" size="256"/>
          <Column id="d_data_trad_dttm" type="STRING" size="256"/>
          <Column id="d_data_purc_dttm" type="STRING" size="256"/>
          <Column id="d_data_appy_num" type="STRING" size="256"/>
          <Column id="d_data_purc_crco" type="STRING" size="256"/>
          <Column id="d_data_card_gb" type="STRING" size="256"/>
          <Column id="d_data_card_num" type="STRING" size="256"/>
          <Column id="d_data_purc_pay" type="STRING" size="256"/>
          <Column id="d_data_fran_fee" type="STRING" size="256"/>
          <Column id="d_data_etc_fee" type="STRING" size="256"/>
          <Column id="d_data_amot_paid" type="STRING" size="256"/>
          <Column id="d_data_amot_dttm" type="STRING" size="256"/>
          <Column id="d_data_trad_blgb" type="STRING" size="256"/>
          <Column id="d_data_filler" type="STRING" size="256"/>
          <Column id="d_rgsr_id" type="STRING" size="256"/>
          <Column id="d_rgsr_dttm" type="STRING" size="256"/>
          <Column id="d_del_fg" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_codePurcCrco" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="code" type="STRING" size="256"/>
          <Column id="value" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="value">전체</Col>
          </Row>
          <Row>
            <Col id="code">01</Col>
            <Col id="value">비씨</Col>
          </Row>
          <Row>
            <Col id="code">02</Col>
            <Col id="value">KB국민</Col>
          </Row>
          <Row>
            <Col id="code">03</Col>
            <Col id="value">외환</Col>
          </Row>
          <Row>
            <Col id="code">04</Col>
            <Col id="value">삼성</Col>
          </Row>
          <Row>
            <Col id="code">06</Col>
            <Col id="value">신한</Col>
          </Row>
          <Row>
            <Col id="code">07</Col>
            <Col id="value">현대</Col>
          </Row>
          <Row>
            <Col id="code">08</Col>
            <Col id="value">롯데</Col>
          </Row>
          <Row>
            <Col id="code">11</Col>
            <Col id="value">씨티</Col>
          </Row>
          <Row>
            <Col id="code">12</Col>
            <Col id="value">NH채움</Col>
          </Row>
          <Row>
            <Col id="code">13</Col>
            <Col id="value">수협</Col>
          </Row>
          <Row>
            <Col id="code">14</Col>
            <Col id="value">신협</Col>
          </Row>
          <Row>
            <Col id="code">15</Col>
            <Col id="value">우리</Col>
          </Row>
          <Row>
            <Col id="code">16</Col>
            <Col id="value">하나SK</Col>
          </Row>
          <Row>
            <Col id="code">21</Col>
            <Col id="value">광주</Col>
          </Row>
          <Row>
            <Col id="code">22</Col>
            <Col id="value">전북</Col>
          </Row>
          <Row>
            <Col id="code">23</Col>
            <Col id="value">제주</Col>
          </Row>
          <Row>
            <Col id="code">24</Col>
            <Col id="value">산은캐피탈</Col>
          </Row>
          <Row>
            <Col id="code">25</Col>
            <Col id="value">해외비자</Col>
          </Row>
          <Row>
            <Col id="code">26</Col>
            <Col id="value">해외마스터</Col>
          </Row>
          <Row>
            <Col id="code">27</Col>
            <Col id="value">해외다이너스</Col>
          </Row>
          <Row>
            <Col id="code">28</Col>
            <Col id="value">해외AMX</Col>
          </Row>
          <Row>
            <Col id="code">29</Col>
            <Col id="value">해외JCB</Col>
          </Row>
          <Row>
            <Col id="code">32</Col>
            <Col id="value">우체국</Col>
          </Row>
          <Row>
            <Col id="code">33</Col>
            <Col id="value">저축은행</Col>
          </Row>
          <Row>
            <Col id="code">34</Col>
            <Col id="value">은련</Col>
          </Row>
          <Row>
            <Col id="code">35</Col>
            <Col id="value">새마을금고</Col>
          </Row>
          <Row>
            <Col id="code">36</Col>
            <Col id="value">KDB산업</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_codeCardGb" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="code" type="STRING" size="256"/>
          <Column id="value" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="value">전체</Col>
          </Row>
          <Row>
            <Col id="code">0</Col>
            <Col id="value">신용</Col>
          </Row>
          <Row>
            <Col id="code">1</Col>
            <Col id="value">체크</Col>
          </Row>
          <Row>
            <Col id="code">2</Col>
            <Col id="value">신용+체크</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_codeTradGb" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="code" type="STRING" size="256"/>
          <Column id="value" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="code">0</Col>
            <Col id="value">매입</Col>
          </Row>
          <Row>
            <Col id="code">2</Col>
            <Col id="value">취소</Col>
          </Row>
        </Rows>
      </Dataset>
    </Objects>
    <Script type="xscript4.0"><![CDATA[/********************************************************************************************/
/* 1. Include Library include, variables Declaration 영역                                  */
/********************************************************************************************/
include "LIB::lib_All.xjs";
include "LIB::lib_TeamUser.xjs";

//var nTotalListCnt = 0; // 문자발송이력 전체건수
var nTotalListCnt = 0;

var gvMenuId;  // 프로그램 로그 추가 2017.12.14
/********************************************************************************************/
/* 2. Form 관련(onload 및 Form 이벤트) 처리                                           	*/
/********************************************************************************************/
function PS040909_onload(obj:Form, e:LoadEventInfo)
{
	gfn_createPagingDataset(obj); // 페이징처리 위한 데이터셋 설정
	gvMenuId = GV_LOGMENUID;
	fn_init();
}

/********************************************************************************************/
/* 3. Callback(gfn_Transaction 호출 후 처리내용)                                   		*/
/********************************************************************************************/
function fn_callBack(svcid, errcd, errmsg)
{
	if (errcd != 0) {
		return false;
	}
	
	switch (svcid) {
		case "getAcquResultDataList" : // 문자발송이력 조회		    			
		    gfn_appendSearchDs(ds_listAcquRslt, ds_listAcquRsltTemp); // 조회된 결과를 실제보여줄 데이타셋으로 Append처리
			gfn_setTotalRowCount(ds_listAcquRslt, sta_totalCnt, nTotalListCnt); // 페이지건수 표출
			fn_postSearch();
		break;
		
		case "getAcquResultDataListExcel": 
			//trace("조회성공!!!");
		    var colDS = gfn_excelPrepareExcelDS("grd_listExcel");
		    //trace("엑셀 컬럼확장!!!");
			gfn_excelDown("수수료결과파일산출리스트", "XLS_DLCC", "DlwCmsMap.getAcquResultDataListExcel", "DlwCmsMap.getAcquResultDataListTotalCnt", ds_inqCndt, true, colDS, true);
			//trace("엑셀다운완료.");
			fn_commSearch(gfn_getCommTypeInit());
		break;
		
	}
}

/********************************************************************************************/
/**   4. Validation 처리                                                                   	*/
/********************************************************************************************/
// 조회 체크
function fn_preSearch(sType)
{
	if (sType == gfn_getCommTypeInit())
	{
		var cUploadDtStart = cal_uploadDtStart.value;
		var sUploadDtStart = new String(cUploadDtStart);
		var cUploadDtEnd   = cal_uploadDtEnd.value;
		var sUploadDtEnd   = new String(cUploadDtEnd);
		
		if(sUploadDtStart > sUploadDtEnd)
		{
			alert("조회시작일이 조회 종료일보다 클수 없습니다.");
			return false;
		}
	
		if((gfn_IsNull(sUploadDtStart) == false && sUploadDtStart.length == 8) && 
		   (gfn_IsNull(sUploadDtEnd) == false && sUploadDtEnd.length == 8))
		{
			ds_inqCndt.clearData();
			ds_listAcquRslt.keystring = ""; // 정렬컬럼 초기화
		
			ds_inqCndt.clearData();
			var nRow = ds_inqCndt.addRow();
	
			ds_inqCndt.setColumn(nRow, "sta_dttm"     , sUploadDtStart);
			ds_inqCndt.setColumn(nRow, "end_dttm"     , sUploadDtEnd);
			ds_inqCndt.setColumn(nRow, "dt_type"      , cbo_dtType.value);
			ds_inqCndt.setColumn(nRow, "data_trad_gb" , cbo_dataTradGb.value);
			ds_inqCndt.setColumn(nRow, "data_appy_num", edt_appyNum.value);
			ds_inqCndt.setColumn(nRow, "data_purc_crco", cbo_dataPurcCrco.value);
			
			ds_inqCndt.setColumn(nRow, "orderBy", "B.DATA_TID");
			ds_inqCndt.setColumn(nRow, "orderDirection", "ASC");
		}
		else
		{
			alert("조회날짜를 정확하게 입력하여주십시오.");
			return false;
		}
	}
	
	return true;
}

/********************************************************************************************/
/**   5. 서비스 호출(gfn_Transaction)                                                   	*/
/********************************************************************************************/
// 문자발송이력 조회
function fn_commSearch(sType)
{
	if (!fn_preSearch(sType)) return false;
	
	// 호출 건수 설정 및 조회여부 설정
	if (!gfn_pageSearch(sType, ds_listAcquRslt, sta_totalCnt, 100, nTotalListCnt)) return;
	
	var szSvcid       = "getAcquResultDataList";
    var szController  = "/dlw/cms/acqusamsung/getAcquResultDataList";
    var szInDs        = "ds_input=ds_inqCndt";
    var szOutDs       = "ds_singleTotal=ds_outputMst ds_listAcquRsltTemp=ds_outputDtl";
    var szParam       = "";
    var szRetCallback = "fn_callBack";
	
    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

function fn_commSearchExcel(sType)
{
	if (!fn_preSearch(sType)) return false;
	
	// 호출 건수 설정 및 조회여부 설정
	if (!gfn_pageSearch(sType, ds_listAcquRslt, sta_totalCnt, 100, nTotalListCnt)) return;
	
	var szSvcid       = "getAcquResultDataListExcel";
    var szController  = "/dlw/cms/acqusamsung/getAcquResultDataListExcel";
    var szInDs        = "ds_input=ds_inqCndt";
    var szOutDs       = "ds_listAcquRsltExcel=ds_outputExcel";
    var szParam       = "";
    var szRetCallback = "fn_callBack";
	
    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

/********************************************************************************************/
/**   6. 사용자 함수                                                                   	*/
/********************************************************************************************/
// 초기화
function fn_init()
{
	var sToday = gfn_getToday();
	var sStartDate = gfn_addDate(sToday, -3);
	cal_uploadDtStart.value = sStartDate;
	cal_uploadDtEnd.value   = sToday;
	cbo_dtType.index        = 0;
	cbo_dataTradGb.index    = 0;
	edt_appyNum.value       = "";
	
	ds_inqCndt.clearData();
	ds_singleTotal.clearData();
	ds_listAcquRslt.clearData();
	ds_listAcquRsltTemp.clearData();
	ds_listAcquRsltExcel.clearData();
}

// 조회결과
function fn_postSearch()
{
    if(ds_listAcquRslt.getRowCount() < 1)
    {
		alert("조회된 데이터가 없습니다.");
		return false;
    }
    else
    {
		var nMTotSendNum      = ds_singleTotal.getColumn(0, "m_tot_send_num");
		var nDDataPurcPaySum  = ds_singleTotal.getColumn(0, "d_data_purc_pay_sum");
		var nDDataFranFeeSum  = ds_singleTotal.getColumn(0, "d_data_fran_fee_sum");
		var nDDataEtcFeeSum   = ds_singleTotal.getColumn(0, "d_data_etc_fee_sum");
		var nDDataAmotPaidSum = ds_singleTotal.getColumn(0, "d_data_amot_paid_sum");
		
		ds_singleTotal.setColumn(0, "m_tot_send_num",       gfn_appendComma(nMTotSendNum) + "건");
		ds_singleTotal.setColumn(0, "d_data_purc_pay_sum",  gfn_appendComma(nDDataPurcPaySum) + "원");
		ds_singleTotal.setColumn(0, "d_data_fran_fee_sum",  gfn_appendComma(nDDataFranFeeSum) + "원");
		ds_singleTotal.setColumn(0, "d_data_etc_fee_sum",   gfn_appendComma(nDDataEtcFeeSum) + "원");
		ds_singleTotal.setColumn(0, "d_data_amot_paid_sum", gfn_appendComma(nDDataAmotPaidSum) + "원");
    }
}

/********************************************************************************************/
/**   7. 이벤트(Event) Function                                                          	*/
/********************************************************************************************/
// 조회
function btn_search_onclick(obj:Button,  e:ClickEventInfo)
{
	fn_commSearch(gfn_getCommTypeInit());
}

// 초기화
function btn_init_onclick(obj:Button,  e:ClickEventInfo)
{
	fn_init();
}

// 헤더 클릭(정렬)
function grd_list_onheadclick(obj:Grid, e:GridClickEventInfo)
{
	gfn_grdHeadClick(obj, e);
}

// 스크롤 페이징
function grd_list_onvscrolllastover(obj:Grid, e:ScrollEventInfo)
{
	fn_commSearch(gfn_getCommTypeAppend());
}

// onkeydown
function srch_onkeydown(obj:Calendar, e:KeyEventInfo)
{
	if (e.keycode == 13) { // 엔터
		fn_commSearch(gfn_getCommTypeInit());
	}
}

function btn_getFile_onclick(obj:Button,  e:ClickEventInfo)
{	
	var sPrmr = {};
	var cUploadDt = cal_uploadDtStart.value;
	var sUploadDt = new String(cUploadDt);
	
	if(gfn_IsNull(sUploadDt) == true)
	{
		sPrmr["p_stt_dt"] = "";
	}
	else
	{
		sPrmr["p_stt_dt"] = sUploadDt.substring(0,6);
	}
	
	var reVal = gfn_diaLog("NicePayMent", -1, -1, 884, 601, "DL410000::DL410406_01.xfdl", false, sPrmr, false, false, true);
}

function btn_excelExport_onclick(obj:Button,  e:ClickEventInfo)
{
	if(ds_listAcquRslt.rowcount > 0) {		
		var colDS = gfn_excelPrepareExcelDS("grd_list");
		gfn_excelDown("나이스카드매입데이터", "XLS_DLCC", "DlwCmsMap.getAcquResultDataList", "DlwCmsMap.getAcquResultDataListTotalCnt", ds_inqCndt, true, colDS, true);
	} else {
		alert("엑셀다운로드 할 대상이 없습니다.");
	}		
}
]]></Script>
  </Form>
</FDL>
