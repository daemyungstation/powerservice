<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.4">
  <TypeDefinition url="..\default_typedef.xml"/>
  <Form id="test" classname="test" inheritanceid="" position="absolute 0 0 681 373" titletext="고객 현금 영수증 발급 인증 IIC - Test" onload="FrmDev_onload">
    <Layouts>
      <Layout>
        <Static id="stc_142" class="sta_popupBg1" enable="false" position="absolute 0 0 679 369" transparenthittest="false" style="font:Dotum,11,bold;"/>
        <Uobj_DateBetween id="Uobj_DateBetween00" position2="absolute l:157 w:239 t:85 h:26" positiontype="position2" titletext="New Form" taborder="1" text="Uobj_DateBetween00" scrollbars="none"/>
        <Uobj_TimeBetween id="Uobj_TimeBetween00" position2="absolute l:157 w:297 t:120 h:24" positiontype="position2" titletext="New Form" taborder="1" text="Uobj_TimeBetween00" scrollbars="none"/>
        <Static id="stcp_01" class="sta_workLabel1_P" position="absolute 3 66 185 86" text="고객번호"/>
        <Static id="stcp_00" text="현금 영수증 공제 구분 코드" class="sta_workLabel1_P" position="absolute 331 66 519 86"/>
        <Static id="stcp_02" text="현금 영수증 발행 수단 코드" class="sta_workLabel1_P" position="absolute 3 92 185 112" onclick="stcp_02_onclick"/>
        <Static id="stcp_03" text="현금 영수증 발행 수단 번호" onclick="stcp_02_onclick" class="sta_workLabel1_P" position="absolute 331 94 520 114"/>
        <Static id="stcp_04" text="기본 인증 여부" onclick="stcp_02_onclick" class="sta_workLabel1_P" position="absolute 3 120 185 140" style="background:#ebebebff;"/>
        <Edit id="edt_04" taborder="1" position="absolute 193 120 306 140" style="background:URL('theme://images/bg_compN.png') stretch 5,5;" maxlength="1"/>
        <Edit id="edt_05" taborder="1" position="absolute 192 66 307 86" style="caretcolor:#000000ff;background:URL('theme://images\bg_compN.png') stretch 5,5;color:#333333ff;" maxlength="8"/>
        <Static id="stcp_06" text="발급 대상자 명" class="sta_workLabel1_P" position="absolute 331 119 520 139" onclick="stcp_06_onclick" style="background:#ebebebff;"/>
        <Static id="stc_02" text="고객 현금 영수증 발급 인증 정보(입력)" class="sta_workTitle2" position="absolute 7 43 266 63"/>
        <Combo id="Combo00" taborder="1" position="absolute 527 66 642 89" index="-1" codecolumn="codecolumn" datacolumn="datacolumn">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn">1</Col>
                <Col id="datacolumn">소득공제</Col>
              </Row>
              <Row>
                <Col id="codecolumn">2</Col>
                <Col id="datacolumn">지출증빙</Col>
              </Row>
            </Rows>
          </Dataset>
        </Combo>
        <Combo id="Combo01" taborder="1" position="absolute 193 95 306 115" index="-1" codecolumn="codecolumn" datacolumn="datacolumn">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn">01</Col>
                <Col id="datacolumn">계약자주민번호</Col>
              </Row>
              <Row>
                <Col id="codecolumn">02</Col>
                <Col id="datacolumn">휴대폰번호</Col>
              </Row>
              <Row>
                <Col id="codecolumn">03</Col>
                <Col id="datacolumn">현금영수증등록카드번호</Col>
              </Row>
              <Row>
                <Col id="codecolumn">04</Col>
                <Col id="datacolumn">지출증빙(사업자등록번호)</Col>
              </Row>
            </Rows>
          </Dataset>
        </Combo>
        <Button id="btn_search" taborder="1" text="조회(등록)" position="absolute 274 324 352 344" onclick="btn_search_onclick"/>
        <Static id="stcp_16" text="고객번호" class="sta_workLabel1_P" position="absolute 5 202 186 222" style="background:#ebebebff;"/>
        <Static id="stcp_17" text="현금 영수증 공제 구분 코드" class="sta_workLabel1_P" position="absolute 333 202 519 222" style="background:#ebebebff;"/>
        <Static id="stcp_18" text="현금 영수증 발행 수단 코드" onclick="stcp_02_onclick" class="sta_workLabel1_P" position="absolute 5 228 186 248" style="background:#ebebebff;"/>
        <Static id="stcp_19" text="현금 영수증 발행 수단 번호" onclick="stcp_02_onclick" class="sta_workLabel1_P" position="absolute 333 230 519 250" style="background:#ebebebff;"/>
        <Static id="stcp_20" text="기본 인증 여부" onclick="stcp_02_onclick" class="sta_workLabel1_P" position="absolute 5 256 185 276" style="background:#ebebebff;"/>
        <Edit id="edt_01" taborder="1" position="absolute 195 256 308 276" style="background:URL('theme://images/bg_compN.png') stretch 5,5; :disabled {background:URL('theme://images/bg_compD.png') stretch 5,5;}" enable="false"/>
        <Edit id="edt_02" taborder="1" maxlength="8" position="absolute 194 202 309 222" style="caretcolor:#000000ff;background:URL('theme://images/bg_compN.png') stretch 5,5;color:#333333ff; :disabled {background:URL('theme://images/bg_compD.png') stretch 5,5;}" enable="false"/>
        <Static id="stcp_21" text="발급 대상자 명" onclick="stcp_06_onclick" class="sta_workLabel1_P" position="absolute 333 255 519 275" style="background:#ebebebff;"/>
        <Static id="stc_00" text="고객 현금 영수증 발급 인증 정보(출력)" class="sta_workTitle2" position="absolute 9 171 261 191"/>
        <Combo id="Combo05" taborder="1" codecolumn="codecolumn" datacolumn="datacolumn" position="absolute 529 202 644 225" enable="false">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn">1</Col>
                <Col id="datacolumn">소득공제</Col>
              </Row>
              <Row>
                <Col id="codecolumn">2</Col>
                <Col id="datacolumn">지출증빙</Col>
              </Row>
            </Rows>
          </Dataset>
        </Combo>
        <Combo id="Combo06" taborder="1" codecolumn="codecolumn" datacolumn="datacolumn" position="absolute 195 231 308 251" enable="false">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn">01</Col>
                <Col id="datacolumn">계약자주민번호</Col>
              </Row>
              <Row>
                <Col id="codecolumn">02</Col>
                <Col id="datacolumn">휴대폰번호</Col>
              </Row>
              <Row>
                <Col id="codecolumn">03</Col>
                <Col id="datacolumn">현금영수증등록카드번호</Col>
              </Row>
              <Row>
                <Col id="codecolumn">04</Col>
                <Col id="datacolumn">지출증빙(사업자등록번호)</Col>
              </Row>
            </Rows>
          </Dataset>
        </Combo>
        <Static id="stcp_33" text="인증 정보 일련번호" onclick="stcp_02_onclick" class="sta_workLabel1_P" position="absolute 5 284 185 304" style="background:#ebebebff;"/>
        <Edit id="edt_24" taborder="1" enable="false" position="absolute 193 284 308 304" style="background:URL('theme://images/bg_compN.png') stretch 5,5; :disabled {background:URL('theme://images/bg_compD.png') stretch 5,5;}"/>
        <Edit id="edt_00" taborder="1" maxlength="18" position="absolute 527 94 642 114" style="caretcolor:#000000ff;background:URL('theme://images\bg_compN.png') stretch 5,5;color:#333333ff;"/>
        <Edit id="edt_03" taborder="1" maxlength="24" position="absolute 527 118 642 138" style="caretcolor:#000000ff;background:URL('theme://images\bg_compN.png') stretch 5,5;color:#333333ff;"/>
        <Edit id="edt_06" taborder="1" maxlength="8" enable="false" position="absolute 529 230 644 250" style="caretcolor:#000000ff;background:URL('theme://images/bg_compN.png') stretch 5,5;color:#333333ff; :disabled {background:URL('theme://images/bg_compD.png') stretch 5,5;}"/>
        <Edit id="edt_07" taborder="1" maxlength="8" enable="false" position="absolute 529 254 644 274" style="caretcolor:#000000ff;background:URL('theme://images/bg_compN.png') stretch 5,5;color:#333333ff; :disabled {background:URL('theme://images/bg_compD.png') stretch 5,5;}"/>
        <Static id="stc_141" text="고객 현금 영수증 발급 조회/등록" onclick="stc_141_onclick" class="sta_popupTitle" transparenthittest="true" position="absolute 10 8 265 28"/>
        <Button id="btn_Close41" taborder="1" onclick="btn_close_onclick" class="btn_popupClose" position="absolute 648 8 668 27"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_input" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="csno" type="STRING" size="256"/>
          <Column id="cashRectDctnDivCd" type="STRING" size="256"/>
          <Column id="cashRectPblcMnsCd" type="STRING" size="256"/>
          <Column id="cashRectPblcMnsNo" type="STRING" size="256"/>
          <Column id="basiAthnYn" type="STRING" size="256"/>
          <Column id="isncTrprNm" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_custCashRectIsncAthn" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="csno" type="STRING" size="256"/>
          <Column id="athnInfoSrno" type="STRING" size="256"/>
          <Column id="cashRectDctnDivCd" type="STRING" size="256"/>
          <Column id="cashRectPblcMnsCd" type="STRING" size="256"/>
          <Column id="cashRectPblcMnsNo" type="STRING" size="256"/>
          <Column id="basiAthnYn" type="STRING" size="256"/>
          <Column id="isncTrprNm" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_errorMsg" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="MSG_CD" type="STRING" size="256"/>
          <Column id="COMP_PATH" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="COMP_PATH">edt_04</Col>
            <Col id="MSG_CD">B0000043</Col>
          </Row>
        </Rows>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item1" compid="edt_05" propid="value" datasetid="ds_input" columnid="csno"/>
      <BindItem id="item5" compid="edt_04" propid="value" datasetid="ds_input" columnid="basiAthnYn"/>
      <BindItem id="item2" compid="edt_01" propid="value" datasetid="ds_custCashRectIsncAthn" columnid="basiAthnYn"/>
      <BindItem id="item3" compid="edt_02" propid="value" datasetid="ds_custCashRectIsncAthn" columnid="csno"/>
      <BindItem id="item24" compid="Combo00" propid="value" datasetid="ds_input" columnid="cashRectDctnDivCd"/>
      <BindItem id="item25" compid="Combo01" propid="value" datasetid="ds_input" columnid="cashRectPblcMnsCd"/>
      <BindItem id="item29" compid="Combo05" propid="value" datasetid="ds_custCashRectIsncAthn" columnid="cashRectDctnDivCd"/>
      <BindItem id="item32" compid="Combo06" propid="value" datasetid="ds_custCashRectIsncAthn" columnid="cashRectPblcMnsCd"/>
      <BindItem id="item34" compid="edt_24" propid="value" datasetid="ds_custCashRectIsncAthn" columnid="athnInfoSrno"/>
      <BindItem id="item0" compid="edt_00" propid="value" datasetid="ds_input" columnid="cashRectPblcMnsNo"/>
      <BindItem id="item4" compid="edt_03" propid="value" datasetid="ds_input" columnid="isncTrprNm"/>
      <BindItem id="item6" compid="edt_06" propid="value" datasetid="ds_custCashRectIsncAthn" columnid="cashRectPblcMnsNo"/>
      <BindItem id="item7" compid="edt_07" propid="value" datasetid="ds_custCashRectIsncAthn" columnid="isncTrprNm"/>
    </Bind>
    <Script type="xscript4.0"><![CDATA[//**************************************************************************
// [ PART 1 ] Form에서 Include 할 라이브러리(xjs)파일 정의
//**************************************************************************
include "LIB::lib_All.xjs";

//**************************************************************************
// [ PART 2 ] Form에서 사용될 전역변수를 선언
//**************************************************************************
//**************************************************************************
// [ PART 3 ] Form Event 정의
//**************************************************************************

/***************************************************************************
 * 기      능		: 폼 onload이벤트
 ***************************************************************************/
function FrmDev_onload(obj:Form, e:LoadEventInfo)
{
	// 시스템 공통함수 호출
	gfn_commInit(obj);

	// 폼 공통함수 호출
	fn_init();

	// 공통코드 조회
	fn_getCommCode();

}

//**************************************************************************
// [ PART 4 ] Main Process Event 정의
//**************************************************************************

/***************************************************************************
 * 함  수  명		: fn_init()
 * 기      능		: 폼 초기화 공통함수
 ***************************************************************************/
function fn_init()
{
	//고객정보
	var nRow = ds_input.rowposition;

	ds_input.setColumn(nRow, "csno"                , "20170536");      			//고객번호
	ds_input.setColumn(nRow, "cashRectDctnDivCd"   , "1");						//현금 영수증 공제 구분 코드
	ds_input.setColumn(nRow, "cashRectPblcMnsCd"   , "04");		    			//현금 영수증 발행 수단 코드
	ds_input.setColumn(nRow, "cashRectPblcMnsNo"   , "01063308799");			//현금 영수증 발행 수단 번호
	ds_input.setColumn(nRow, "basiAthnYn"          , "N");						//기본 인증 여부
	ds_input.setColumn(nRow, "isncTrprNm"          , "이병헌");				//발급 대상자 명
}

/***************************************************************************
 * 함  수  명		: fn_getCommCode()
 * 기      능 		: 공통코드 조회
 ***************************************************************************/
function fn_getCommCode()
{
	//TO-DO: 공통코드 조회
}

/***************************************************************************
 * 함  수  명		: fn_commInit()
 * 기      능		: (공통버튼)폼 초기화 프로세스
 ***************************************************************************/
function fn_commInit(sType)
{
	gfn_initDs(ds_input);
}



//**************************************************************************
// [ PART 5 ] 사용자정의함수 정의
//**************************************************************************



/***************************************************************************
 * 함  수  명		: fn_save_callBack()
 * 기      능		: [CallBack함수] Transaction Callback함수
 ***************************************************************************/
function fn_search_callBack(strSvcID, nErrorCode, strErrorMsg)
{
	if(nErrorCode != 0) {
		return;
	}

	// 저장 후 처리
	//fn_postSave(strSvcID);
	
}

/***************************************************************************
 * 함  수  명		: fn_postSave()
 * 기      능		: 저장 후 처리
 ***************************************************************************/
function fn_postSave(sType)
{
	var reslMsg = "["+ ds_reslCustInfo.getColumn(0, "custNm")+"]" + "고객님의 등록이 완료되었습니다.\n등록번호:"+ds_reslCustInfo.getColumn(0, "csno");
	
	alert(reslMsg);
	trace(ds_reslCustInfo.saveXML());
	
}


function btn_search_onclick(obj:Button,  e:ClickEventInfo)
{

		// KWData 설정
	gfn_kwDataInit();
	
	gfn_setKwData_nameSpace("");
	gfn_setKwData_trscCode("CUS0000301");
	gfn_setKwData_trscType("");
	gfn_setKwData_screenId("");
	gfn_setKwData_bizGroupCode("");
	gfn_setKwData_systemCode("KRP_TEST");	
				
	gfn_tranMCI(gfn_getCommTypeSave() 
				, "ds_input=ds_input"
				, "ds_custCashRectIsncAthn=ds_custCashRectIsncAthn"
				, "fn_search_callBack");	

}



function btn_close_onclick(obj:Button,  e:ClickEventInfo)
{
	close();
}
]]></Script>
  </Form>
</FDL>
