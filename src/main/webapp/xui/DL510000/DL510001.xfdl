<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\default_typedef.xml"/>
  <Form id="입금관리" classname="캠페인관리" inheritanceid="" position="absolute 0 0 989 795" titletext="입금관리" onload="DL420401_onload">
    <Layouts>
      <Layout>
        <Static id="stc_56" class="sta_workData" position2="absolute l:-1 w:38.42% t:534 h:26" positiontype="position2"/>
        <Static id="stc_57" class="sta_workData" position2="absolute l:-1 w:38.42% t:509 h:26" positiontype="position2"/>
        <Static id="stc_62" class="sta_workData" visible="true" position2="absolute l:-1 w:38.42% t:559 h:26" positiontype="position2"/>
        <Edit id="edt_cpdcTitlNm08" taborder="15" position="absolute 756 -531 889 -511"/>
        <Button id="btn_Init00" taborder="1" onclick="btn_Init_onclick" class="btn_WF_Return" tooltiptext="초기화" position2="absolute r:324 w:72 t:5 h:20" positiontype="position2"/>
        <Static id="stc_25" text="입금전표목록[상조부금]" class="sta_workTitle2" position="absolute 1 6 298 26"/>
        <Static id="stc_00" text="입금전표목록[결합상품할부원금]" class="sta_workTitle2" position="absolute 1 159 298 179"/>
        <Static id="stc_03" text="임금전표목록[결합상품추가부담금]" class="sta_workTitle2" position="absolute 1 311 298 331"/>
        <Grid id="grd_list2" taborder="16" binddataset="ds_payDtl_list" useinputpanel="false" autofittype="col" oncellclick="grd_list_oncellclick" position2="absolute l:0 r:517 t:179 h:126" positiontype="position2">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="44"/>
                <Column size="108"/>
                <Column size="109"/>
                <Column size="95"/>
                <Column size="96"/>
                <Column size="82"/>
                <Column size="108"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="회차"/>
                <Cell col="1" text="월분"/>
                <Cell col="2" text="납입일자"/>
                <Cell col="3" text="납입금"/>
                <Cell col="4" text="납입방법"/>
                <Cell col="5" text="상태"/>
                <Cell col="6" text="산출일"/>
              </Band>
              <Band id="body">
                <Cell text="bind:no"/>
                <Cell col="1" text="bind:mon_no" mask="####-##"/>
                <Cell col="2" text="bind:pay_day" mask="####-##-##"/>
                <Cell col="3" style="align:right;" text="bind:pay_amt" expr="gfn_commaStr(pay_amt)"/>
                <Cell col="4" text="bind:pay_mthd_nm"/>
                <Cell col="5" text="bind:stat_nm"/>
                <Cell col="6" text="bind:app_dt" mask="####-##-##"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Grid id="grd_list3" taborder="17" binddataset="ds_payDtl1_list" useinputpanel="false" autofittype="col" oncellclick="grd_list_oncellclick" position2="absolute l:0 r:517 t:331 h:126" positiontype="position2">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="44"/>
                <Column size="108"/>
                <Column size="109"/>
                <Column size="95"/>
                <Column size="96"/>
                <Column size="82"/>
                <Column size="108"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="회차"/>
                <Cell col="1" text="월분"/>
                <Cell col="2" text="납입일자"/>
                <Cell col="3" text="납입금"/>
                <Cell col="4" text="납입방법"/>
                <Cell col="5" text="상태"/>
                <Cell col="6" text="산출일"/>
              </Band>
              <Band id="body">
                <Cell text="bind:no"/>
                <Cell col="1" text="bind:mon_no" mask="####-##"/>
                <Cell col="2" text="bind:pay_day" mask="####-##-##"/>
                <Cell col="3" style="align:right;" text="bind:pay_amt" expr="gfn_commaStr(pay_amt)"/>
                <Cell col="4" text="bind:pay_mthd_nm"/>
                <Cell col="5" text="bind:stat_nm"/>
                <Cell col="6" text="bind:app_dt" mask="####-##-##"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="stc_18" class="sta_workData" position2="absolute r:1 w:436 t:53px h:26" positiontype="position2"/>
        <Static id="sta_GrayLine00" onclick="div_Work00_sta_GrayLine_onclick" class="sta_WF_Line1" position2="absolute r:2 w:506 t:27px h:1" positiontype="position2"/>
        <Static id="stc_07" text="납입방법" class="sta_workLabel1_P" validate="" position2="absolute r:257 w:72 t:53px h:26" positiontype="position2"/>
        <Static id="stc_19" text="납입일자" class="sta_workLabel1_P" validate="" position2="absolute r:436 w:72 t:53px h:26" positiontype="position2"/>
        <Static id="stc_20" text="납입회차" class="sta_workLabel1" validate="" position2="absolute r:436 w:72 t:78px h:26" positiontype="position2"/>
        <Static id="stc_21" class="sta_workData" position2="absolute r:1 w:436 t:103px h:26" positiontype="position2"/>
        <Static id="stc_22" class="sta_workData" position2="absolute r:1 w:436 t:78px h:26" positiontype="position2"/>
        <Static id="stc_24" class="sta_workData" onclick="stc_24_onclick" position2="absolute r:1 w:436 t:28px h:26" positiontype="position2"/>
        <Static id="stc_26" text="회원번호" class="sta_workLabel1_P" validate="" position2="absolute r:436 w:72 t:28px h:26" positiontype="position2"/>
        <Calendar id="cal_pay_day" taborder="14" dateformat="yyyy-MM-dd" value="null" position2="absolute r:331 w:103 t:56px h:20" positiontype="position2" enable="false" editformat="yyyy-MM-dd"/>
        <Edit id="edt_accnt_no" taborder="7" position2="absolute r:353 w:81 t:31px h:20" positiontype="position2" onkeydown="edt_accnt_onkeydown"/>
        <Edit id="edt_no_dtl" taborder="18" position2="absolute r:331 w:103 t:81px h:20" positiontype="position2" enable="false" style=":disabled {align:right middle;}" visible="true"/>
        <Static id="stc_27" text="입금 전표 정보" class="sta_workTitle2" position2="absolute r:394 w:114 t:6px h:20" positiontype="position2"/>
        <Button id="btn_accnt_no" taborder="8" onclick="btn_accnt_onclick" class="btn_workSrcPop" position2="absolute r:331 w:20 t:31px h:20" positiontype="position2"/>
        <Static id="stc_28" text="회원명" class="sta_workLabel1_P" validate="" position2="absolute r:257 w:72 t:28px h:26" positiontype="position2"/>
        <Button id="btn_mem_nm" taborder="10" onclick="btn_accnt_onclick" class="btn_workSrcPop" position2="absolute r:149 w:20 t:31px h:20" positiontype="position2"/>
        <Combo id="cbo_pay_mthd" taborder="19" innerdataset="@ds_pay_mthd" codecolumn="cd" datacolumn="cd_nm" index="-1" value="null" position2="absolute r:170 w:85 t:55px h:22" positiontype="position2" enable="false"/>
        <Static id="stc_29" text="납입건수" class="sta_workLabel1_P" validate="" position2="absolute r:257 w:72 t:78px h:26" positiontype="position2"/>
        <Spin id="spn_mon_cnt_dtl" taborder="20" value="0" position2="absolute r:170 w:85 t:81px h:20" positiontype="position2" enable="false" onkeydown="spn_onkeydown" onspin="spn_onspin"/>
        <Static id="stc_40" text="할부원금 입금 정보" class="sta_workTitle2" position2="absolute r:360 w:148 t:157 h:20" positiontype="position2"/>
        <Static id="stc_47" text="추가부담금 입금 정보" class="sta_workTitle2" position2="absolute r:348 w:161 t:309 h:20" positiontype="position2"/>
        <Button id="btn_reg_save3" taborder="21" onclick="btn_save_onclick" class="btn_WF_Save" tooltiptext="저장" position2="absolute r:-78 w:72 t:308 h:20" visible="false" positiontype="position2"/>
        <Static id="stc_17" text="납입금액" class="sta_workLabel1" validate="" position2="absolute r:96 w:72 t:78px h:26" positiontype="position2"/>
        <Edit id="edt_mem_nm" taborder="9" position2="absolute r:171 w:84 t:31px h:20" positiontype="position2" onkeydown="edt_accnt_onkeydown"/>
        <Edit id="edt_pay_amt" taborder="22" position2="absolute r:4 w:90 t:81px h:20" positiontype="position2" enable="false" style=":disabled {align:right middle;}"/>
        <Static id="stc_05" text="취소일자" class="sta_workLabel1" validate="" position2="absolute r:436 w:72 t:102px h:26" positiontype="position2"/>
        <Calendar id="cal_pay_calncel_day" taborder="23" dateformat="yyyy-MM-dd" position2="absolute r:331 w:103 t:106px h:20" positiontype="position2" enable="false"/>
        <Static id="stc_06" text="취소사유" class="sta_workLabel1" validate="" position2="absolute r:257 w:72 t:103px h:26" positiontype="position2"/>
        <Edit id="edt_pay_cancel_note" taborder="24" position2="absolute r:4 w:164 t:106px h:20" positiontype="position2" enable="false"/>
        <Static id="stc_08" class="sta_workData" position2="absolute r:1 w:436 t:179 h:26" positiontype="position2"/>
        <Static id="stc_09" text="납입방법" class="sta_workLabel1_P" position2="absolute r:257 w:72 t:179 h:26" validate="" positiontype="position2"/>
        <Static id="stc_10" text="납입일자" class="sta_workLabel1_P" position2="absolute r:436 w:72 t:179 h:26" validate="" positiontype="position2"/>
        <Static id="stc_12" text="납입회차" class="sta_workLabel1" position2="absolute r:436 w:72 t:204 h:26" validate="" positiontype="position2"/>
        <Static id="stc_13" class="sta_workData" position2="absolute r:1 w:436 t:229 h:26" positiontype="position2"/>
        <Static id="stc_14" class="sta_workData" position2="absolute r:1 w:436 t:204 h:26" positiontype="position2"/>
        <Calendar id="cal_pay_day2" taborder="25" dateformat="yyyy-MM-dd" position2="absolute r:331 w:103 t:182 h:20" enable="false" positiontype="position2"/>
        <Edit id="edt_no_dtl2" taborder="26" position2="absolute r:331 w:103 t:207 h:20" enable="false" style=":disabled {align:right middle;}" positiontype="position2"/>
        <Combo id="cbo_pay_mthd2" taborder="27" innerdataset="@ds_pay_mthd2" codecolumn="cd" datacolumn="cd_nm" position2="absolute r:170 w:85 t:181 h:22" enable="false" positiontype="position2"/>
        <Static id="stc_15" text="납입건수" class="sta_workLabel1_P" position2="absolute r:257 w:72 t:204 h:26" validate="" positiontype="position2"/>
        <Spin id="spn_mon_cnt_dtl2" taborder="28" value="0" position2="absolute r:170 w:85 t:207 h:20" enable="false" onkeydown="spn_onkeydown" onspin="spn_onspin" positiontype="position2"/>
        <Static id="stc_16" text="납입금액" class="sta_workLabel1" position2="absolute r:96 w:72 t:204 h:26" validate="" positiontype="position2"/>
        <Edit id="edt_pay_amt2" taborder="29" position2="absolute r:4 w:90 t:207 h:20" enable="false" style=":disabled {align:right middle;}" positiontype="position2"/>
        <Static id="stc_30" text="취소일자" class="sta_workLabel1" position2="absolute r:436 w:72 t:228 h:26" validate="" positiontype="position2"/>
        <Calendar id="cal_pay_calncel_day2" taborder="30" dateformat="yyyy-MM-dd" position2="absolute r:331 w:103 t:232 h:20" enable="false" positiontype="position2"/>
        <Static id="stc_31" text="취소사유" class="sta_workLabel1" position2="absolute r:257 w:72 t:229 h:26" validate="" positiontype="position2"/>
        <Static id="stc_32" class="sta_workData" position2="absolute r:2 w:436 t:331 h:26" positiontype="position2"/>
        <Static id="stc_34" text="납입방법" class="sta_workLabel1_P" position2="absolute r:258 w:72 t:331 h:26" validate="" positiontype="position2"/>
        <Static id="stc_35" text="납입일자" class="sta_workLabel1_P" position2="absolute r:437 w:72 t:331 h:26" validate="" positiontype="position2"/>
        <Static id="stc_36" text="납입회차" class="sta_workLabel1" position2="absolute r:437 w:72 t:356 h:26" validate="" positiontype="position2"/>
        <Static id="stc_37" class="sta_workData" position2="absolute r:2 w:436 t:381 h:26" positiontype="position2"/>
        <Static id="stc_38" class="sta_workData" position2="absolute r:2 w:436 t:356 h:26" positiontype="position2"/>
        <Calendar id="cal_pay_day3" taborder="31" dateformat="yyyy-MM-dd" position2="absolute r:332 w:103 t:334 h:20" enable="false" positiontype="position2"/>
        <Edit id="edt_no_dtl3" taborder="32" position2="absolute r:332 w:103 t:359 h:20" enable="false" style=":disabled {align:right middle;}" positiontype="position2"/>
        <Combo id="cbo_pay_mthd3" taborder="33" innerdataset="@ds_pay_mthd3" codecolumn="cd" datacolumn="cd_nm" position2="absolute r:171 w:85 t:333 h:22" enable="false" positiontype="position2"/>
        <Static id="stc_39" text="납입건수" class="sta_workLabel1_P" position2="absolute r:258 w:72 t:356 h:26" validate="" positiontype="position2"/>
        <Spin id="spn_mon_cnt_dtl3" taborder="34" value="0" position2="absolute r:171 w:85 t:359 h:20" enable="false" onkeydown="spn_onkeydown" onspin="spn_onspin" positiontype="position2"/>
        <Static id="stc_41" text="납입금액" class="sta_workLabel1" position2="absolute r:97 w:72 t:356 h:26" validate="" positiontype="position2"/>
        <Edit id="edt_pay_amt3" taborder="35" position2="absolute r:5 w:90 t:359 h:20" enable="false" style=":disabled {align:right middle;}" positiontype="position2"/>
        <Static id="stc_42" text="취소일자" class="sta_workLabel1" position2="absolute r:437 w:72 t:381 h:26" validate="" positiontype="position2"/>
        <Calendar id="cal_pay_calncel_day3" taborder="36" dateformat="yyyy-MM-dd" position2="absolute r:332 w:103 t:384 h:20" enable="false" positiontype="position2"/>
        <Static id="stc_43" text="취소사유" class="sta_workLabel1" position2="absolute r:258 w:72 t:381 h:26" validate="" positiontype="position2"/>
        <Static id="sta_GrayLine01" onclick="div_Work00_sta_GrayLine_onclick" class="sta_WF_Line1" position2="absolute r:2 w:506 t:179 h:1" positiontype="position2"/>
        <Static id="sta_GrayLine02" onclick="div_Work00_sta_GrayLine_onclick" class="sta_WF_Line1" position2="absolute r:3 w:506 t:331 h:1" positiontype="position2"/>
        <Static id="stc_01" text="환불 정보" class="sta_workTitle2" position2="absolute l:1 w:8.7% t:613 h:20" positiontype="position2"/>
        <Grid id="grd_list4" taborder="37" binddataset="ds_refund_list" useinputpanel="false" autofittype="none" position2="absolute l:0 w:32.05% t:633 b:15" positiontype="position2">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="44"/>
                <Column size="171"/>
                <Column size="64"/>
                <Column size="73"/>
                <Column size="82"/>
                <Column size="89"/>
                <Column size="73"/>
                <Column size="68"/>
                <Column size="74"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="순번"/>
                <Cell col="1" text="가입상품"/>
                <Cell col="2" text="납입회차"/>
                <Cell col="3" text="납입일자"/>
                <Cell col="4" text="환불구분"/>
                <Cell col="5" text="환불금액"/>
                <Cell col="6" text="환불일자"/>
                <Cell col="7" text="납입방법"/>
                <Cell col="8" text="환불사유"/>
              </Band>
              <Band id="body">
                <Cell expr="currow+1"/>
                <Cell col="1" text="bind:prod_nm"/>
                <Cell col="2" text="bind:pay_no"/>
                <Cell col="3" text="bind:pay_day" mask="####-##-##"/>
                <Cell col="4" text="bind:pay_cancel_nm"/>
                <Cell col="5" displaytype="number" style="align:right;" text="bind:pay_amt" expr="gfn_commaStr(pay_amt)"/>
                <Cell col="6" text="bind:refund_dm" mask="####-##-##"/>
                <Cell col="7" text="bind:pay_mthd"/>
                <Cell col="8" text="bind:pay_cancel_note"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="stc_02" text="할부원금 환불 정보" class="sta_workTitle2" position2="absolute l:33.87% w:149 t:613 h:20" positiontype="position2"/>
        <Grid id="grd_list5" taborder="38" binddataset="ds_refundDtl_list" useinputpanel="false" position2="absolute l:33.77% w:32.05% t:633 b:15" positiontype="position2">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="44"/>
                <Column size="172"/>
                <Column size="64"/>
                <Column size="73"/>
                <Column size="82"/>
                <Column size="89"/>
                <Column size="73"/>
                <Column size="68"/>
                <Column size="74"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="순번"/>
                <Cell col="1" text="가입상품"/>
                <Cell col="2" text="납입회차"/>
                <Cell col="3" text="납입일자"/>
                <Cell col="4" text="환불구분"/>
                <Cell col="5" text="환불금액"/>
                <Cell col="6" text="환불일자"/>
                <Cell col="7" text="납입방법"/>
                <Cell col="8" text="환불사유"/>
              </Band>
              <Band id="body">
                <Cell expr="currow+1"/>
                <Cell col="1" text="bind:prod_nm"/>
                <Cell col="2" text="bind:pay_no"/>
                <Cell col="3" text="bind:pay_day" mask="####-##-##"/>
                <Cell col="4" text="bind:pay_cancel_nm"/>
                <Cell col="5" displaytype="number" style="align:right;" text="bind:pay_amt" expr="gfn_commaStr(pay_amt)"/>
                <Cell col="6" text="bind:refund_dm" mask="####-##-##"/>
                <Cell col="7" text="bind:pay_mthd"/>
                <Cell col="8" text="bind:pay_cancel_note"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="stc_04" text="추가부담금 환불 정보" class="sta_workTitle2" position2="absolute l:67.64% w:153 t:613 h:20" positiontype="position2"/>
        <Grid id="grd_list6" taborder="39" binddataset="ds_refundDtl1_list" useinputpanel="false" position2="absolute l:67.54% r:4 t:633 b:15" positiontype="position2">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="44"/>
                <Column size="172"/>
                <Column size="64"/>
                <Column size="73"/>
                <Column size="82"/>
                <Column size="89"/>
                <Column size="73"/>
                <Column size="68"/>
                <Column size="74"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="순번"/>
                <Cell col="1" text="가입상품"/>
                <Cell col="2" text="납입회차"/>
                <Cell col="3" text="납입일자"/>
                <Cell col="4" text="환불구분"/>
                <Cell col="5" text="환불금액"/>
                <Cell col="6" text="환불일자"/>
                <Cell col="7" text="납입방법"/>
                <Cell col="8" text="환불사유"/>
              </Band>
              <Band id="body">
                <Cell expr="currow+1"/>
                <Cell col="1" text="bind:prod_nm"/>
                <Cell col="2" text="bind:pay_no"/>
                <Cell col="3" text="bind:pay_day" mask="####-##-##"/>
                <Cell col="4" text="bind:pay_cancel_nm"/>
                <Cell col="5" displaytype="number" style="align:right;" text="bind:pay_amt" expr="gfn_commaStr(pay_amt)"/>
                <Cell col="6" text="bind:refund_dm" mask="####-##-##"/>
                <Cell col="7" text="bind:pay_mthd"/>
                <Cell col="8" text="bind:pay_cancel_note"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Grid id="grd_list" taborder="6" binddataset="ds_pay_list" useinputpanel="false" autofittype="col" oncellclick="grd_list_oncellclick" position2="absolute l:0 r:517 t:27 h:126" positiontype="position2">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="44"/>
                <Column size="108"/>
                <Column size="109"/>
                <Column size="95"/>
                <Column size="96"/>
                <Column size="82"/>
                <Column size="108"/>
                <Column size="80"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="회차"/>
                <Cell col="1" text="월분"/>
                <Cell col="2" text="납입일자"/>
                <Cell col="3" text="납입금"/>
                <Cell col="4" text="납입방법"/>
                <Cell col="5" text="상태"/>
                <Cell col="6" text="산출일"/>
                <Cell col="7" text="등록자"/>
              </Band>
              <Band id="body">
                <Cell text="bind:no"/>
                <Cell col="1" displaytype="normal" style="align: ;" text="bind:mon_no" mask="####-##" calendardisplay="edit"/>
                <Cell col="2" text="bind:pay_day" mask="####-##-##"/>
                <Cell col="3" style="align:right;" text="bind:pay_amt" expr="gfn_commaStr(pay_amt)"/>
                <Cell col="4" text="bind:pay_mthd_nm"/>
                <Cell col="5" text="bind:stat_nm"/>
                <Cell col="6" text="bind:app_dt" mask="####-##-##"/>
                <Cell col="7" text="bind:reg_man"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Combo id="cbo_pay_cancel" taborder="40" innerdataset="@ds_pay_cancel" codecolumn="cd" datacolumn="cd_nm" position2="absolute r:170 w:85 t:105px h:22" positiontype="position2" enable="false"/>
        <Edit id="edt_pay_cancel_note2" taborder="41" position2="absolute r:4 w:164 t:232 h:20" enable="false" positiontype="position2"/>
        <Combo id="cbo_pay_cancel2" taborder="42" innerdataset="@ds_pay_cancel2" codecolumn="cd" datacolumn="cd_nm" position2="absolute r:170 w:85 t:231 h:22" enable="false" positiontype="position2"/>
        <Edit id="edt_pay_cancel_note3" taborder="43" position2="absolute r:5 w:164 t:384 h:20" enable="false" positiontype="position2"/>
        <Combo id="cbo_pay_cancel3" taborder="44" innerdataset="@ds_pay_cancel3" codecolumn="cd" datacolumn="cd_nm" position2="absolute r:171 w:85 t:383 h:22" enable="false" positiontype="position2"/>
        <Button id="btn_reg_cancel3" taborder="45" text="취소" onclick="btn_cancel_onclick" class="btn_WF_Common" position2="absolute r:-153 w:72 t:308 h:20" tooltiptext="삭제" style="padding:0 0 0 0;" visible="false" positiontype="position2"/>
        <Button id="btn_upd3" taborder="46" text="입금수정" onclick="btn_upd_onclick" class="btn_WF_Common" position2="absolute r:0 w:72 t:308 h:20" tooltiptext="삭제" style="padding:0 0 0 0;" positiontype="position2"/>
        <Button id="btn_reg3" taborder="47" text="입금등록" onclick="btn_reg_onclick" class="btn_WF_Common" position2="absolute r:75 w:72 t:308 h:20" tooltiptext="삭제" style="padding:0 0 0 0;" positiontype="position2"/>
        <Button id="btn_upd_save3" taborder="48" onclick="btn_save_onclick" class="btn_WF_Save" position2="absolute r:-78 w:72 t:332 h:20" tooltiptext="저장" visible="false" positiontype="position2"/>
        <Button id="btn_upd_cancel3" taborder="49" text="취소" onclick="btn_cancel_onclick" class="btn_WF_Common" position2="absolute r:-228 w:72 t:332 h:20" tooltiptext="삭제" style="padding:0 0 0 0;" visible="false" positiontype="position2"/>
        <Button id="btn_upd_del3" taborder="50" onclick="btn_del_onclick" class="btn_WF_Del" position2="absolute r:-153 w:72 t:332 h:20" tooltiptext="삭제" style="shadow:drop 0,0 0 #00000033;" visible="false" positiontype="position2"/>
        <Button id="btn_upd_cancel" taborder="13" text="취소" class="btn_WF_Common" visible="false" position2="absolute r:-228 w:72 t:29 h:20" positiontype="position2" tooltiptext="삭제" style="padding:0 0 0 0;" onclick="btn_cancel_onclick"/>
        <Button id="btn_upd_del" taborder="12" class="btn_WF_Del" visible="false" position2="absolute r:-153 w:72 t:29 h:20" positiontype="position2" tooltiptext="삭제" style="shadow:drop 0,0 0 #00000033;" onclick="btn_del_onclick"/>
        <Button id="btn_reg_cancel" taborder="5" text="취소" class="btn_WF_Common" visible="false" position2="absolute r:-153 w:72 t:5 h:20" positiontype="position2" tooltiptext="삭제" style="padding:0 0 0 0;" onclick="btn_cancel_onclick"/>
        <Button id="btn_reg_save" taborder="4" class="btn_WF_Save" visible="false" position2="absolute r:-78 w:72 t:5 h:20" positiontype="position2" tooltiptext="저장" onclick="btn_save_onclick"/>
        <Button id="btn_upd_save" taborder="11" class="btn_WF_Save" visible="false" position2="absolute r:-78 w:72 t:29 h:20" positiontype="position2" tooltiptext="저장" onclick="btn_save_onclick"/>
        <Button id="btn_upd" taborder="3" text="입금수정" class="btn_WF_Common" position2="absolute r:0 w:72 t:5 h:20" positiontype="position2" tooltiptext="삭제" style="padding:0 0 0 0;" onclick="btn_upd_onclick"/>
        <Button id="btn_reg" taborder="2" text="입금등록" class="btn_WF_Common" position2="absolute r:75 w:72 t:5 h:20" positiontype="position2" tooltiptext="삭제" style="padding:0 0 0 0;" onclick="btn_reg_onclick"/>
        <Button id="btn_upd_cancel2" taborder="52" text="취소" onclick="btn_cancel_onclick" class="btn_WF_Common" visible="false" position2="absolute r:-228 w:72 t:182 h:20" tooltiptext="삭제" style="padding:0 0 0 0;" positiontype="position2"/>
        <Button id="btn_upd_del2" taborder="53" onclick="btn_del_onclick" class="btn_WF_Del" visible="false" position2="absolute r:-153 w:72 t:182 h:20" tooltiptext="삭제" style="shadow:drop 0,0 0 #00000033;" positiontype="position2"/>
        <Button id="btn_reg_cancel2" taborder="54" text="취소" onclick="btn_cancel_onclick" class="btn_WF_Common" visible="false" position2="absolute r:-153 w:72 t:158 h:20" tooltiptext="삭제" style="padding:0 0 0 0;" positiontype="position2"/>
        <Button id="btn_reg_save2" taborder="55" onclick="btn_save_onclick" class="btn_WF_Save" visible="false" position2="absolute r:-78 w:72 t:158 h:20" tooltiptext="저장" positiontype="position2"/>
        <Button id="btn_upd_save2" taborder="56" onclick="btn_save_onclick" class="btn_WF_Save" visible="false" position2="absolute r:-78 w:72 t:182 h:20" tooltiptext="저장" positiontype="position2"/>
        <Button id="btn_upd2" taborder="57" text="입금수정" onclick="btn_upd_onclick" class="btn_WF_Common" position2="absolute r:0 w:72 t:157 h:20" tooltiptext="삭제" style="padding:0 0 0 0;" positiontype="position2"/>
        <Button id="btn_reg2" taborder="58" text="입금등록" onclick="btn_reg_onclick" class="btn_WF_Common" position2="absolute r:75 w:72 t:157 h:20" tooltiptext="삭제" style="padding:0 0 0 0;" positiontype="position2"/>
        <Static id="stc_11" text="잔여횟수" class="sta_workLabel1" position2="absolute r:436 w:72 t:127px h:26" positiontype="position2" validate="" visible="false"/>
        <Static id="stc_23" class="sta_workData" position2="absolute l:552 r:1 t:127 h:26" positiontype="position2" visible="false"/>
        <Edit id="edt_remain_cnt" taborder="59" enable="false" position2="absolute r:331 w:103 t:130px h:20" positiontype="position2" visible="false"/>
        <Static id="stc_44" text="잔여금액" class="sta_workLabel1" position2="absolute r:257 w:72 t:127px h:26" positiontype="position2" validate="" visible="false"/>
        <Edit id="edt_remain_amt" taborder="60" enable="false" position2="absolute r:165 w:90 t:130px h:20" positiontype="position2" style=":disabled {align:right middle;}" visible="false"/>
        <Static id="stc_33" class="sta_workData" position2="absolute r:1 w:436 t:253 h:26" visible="false" positiontype="position2"/>
        <Edit id="edt_remain_amt2" taborder="61" enable="false" position2="absolute r:165 w:90 t:256 h:20" style=":disabled {align:right middle;}" visible="false" positiontype="position2"/>
        <Static id="stc_45" text="잔여금액" class="sta_workLabel1" position2="absolute r:257 w:72 t:253 h:26" validate="" visible="false" positiontype="position2"/>
        <Edit id="edt_remain_cnt2" taborder="62" enable="false" position2="absolute r:331 w:103 t:256 h:20" visible="false" positiontype="position2"/>
        <Static id="stc_46" text="잔여횟수" class="sta_workLabel1" position2="absolute r:436 w:72 t:253 h:26" validate="" visible="false" positiontype="position2"/>
        <Static id="stc_48" class="sta_workData" position2="absolute r:2 w:436 t:406 h:26" visible="false" positiontype="position2"/>
        <Edit id="edt_remain_amt3" taborder="63" enable="false" position2="absolute r:166 w:90 t:409 h:20" style=":disabled {align:right middle;}" visible="false" positiontype="position2"/>
        <Static id="stc_49" text="잔여금액" class="sta_workLabel1" position2="absolute r:258 w:72 t:406 h:26" validate="" visible="false" positiontype="position2"/>
        <Static id="stc_50" text="잔여횟수" class="sta_workLabel1" position2="absolute r:437 w:72 t:406 h:26" validate="" visible="false" positiontype="position2"/>
        <Edit id="edt_remain_cnt3" taborder="64" enable="false" position2="absolute r:332 w:103 t:409 h:20" visible="false" positiontype="position2"/>
        <Calendar id="cal_pay_day_bef" taborder="65" dateformat="yyyy-MM-dd" enable="false" position2="absolute l:1005 w:103 t:55 h:20" positiontype="position2" visible="false"/>
        <Calendar id="cal_pay_day_bef2" taborder="66" dateformat="yyyy-MM-dd" enable="false" position2="absolute l:1005 w:103 t:209 h:20" visible="false" positiontype="position2"/>
        <Calendar id="cal_pay_day_bef3" taborder="67" dateformat="yyyy-MM-dd" enable="false" visible="false" position2="absolute l:995 w:103 t:365 h:20" positiontype="position2"/>
        <CheckBox id="ckb_payable" taborder="68" text="지불가능 회원" value="N" truevalue="Y" falsevalue="N" onchanged="fn_CmsprePayYnChecked" visible="true" position2="absolute r:22 w:119 t:33px h:17" positiontype="position2"/>
        <Static id="stc_51" text="상품 / 부가 정보" class="sta_workTitle2" position2="absolute l:1 w:161 t:464px h:20" positiontype="position2"/>
        <Static id="stc_52" class="sta_workData" position2="absolute l:-1 w:38.42% t:484px h:26" positiontype="position2"/>
        <Static id="stc_53" text="담당사원" class="sta_workLabel1" position2="absolute l:19.01% w:8.39% t:484px h:26" positiontype="position2" validate=""/>
        <Static id="stc_54" text="상품명" class="sta_workLabel1" position2="absolute l:0 w:72 t:484px h:26" positiontype="position2" validate=""/>
        <Static id="stc_55" text="특별할인" class="sta_workLabel1" position2="absolute l:0 w:72 t:509px h:26" positiontype="position2" validate=""/>
        <Static id="stc_58" text="행사시사용가능금액" class="sta_workLabel1" position2="absolute l:19.01% w:8.39% t:509px h:26" positiontype="position2" validate="" tooltiptext="행사시사용가능금액" tooltiptype="hover" wordwrap="none"/>
        <Static id="stc_60" text="납입상태" class="sta_workLabel1" position2="absolute l:0 w:72 t:534px h:26" positiontype="position2" validate=""/>
        <Static id="stc_61" text="당월회차" class="sta_workLabel1" position2="absolute l:19.01% w:8.39% t:534px h:26" positiontype="position2" validate=""/>
        <Static id="sta_GrayLine03" onclick="div_Work00_sta_GrayLine_onclick" class="sta_WF_Line1" position2="absolute l:0 w:38.32% t:484px h:1" positiontype="position2"/>
        <Static id="stc_64" text="가수금" class="sta_workLabel1" visible="true" position2="absolute l:0 w:72 t:559px h:26" positiontype="position2" validate=""/>
        <Edit id="edt_prod_nm" taborder="79" enable="true" position2="absolute l:73 w:11.32% t:487px h:20" positiontype="position2" style=":disabled {align:right middle;}" class="edt_clssEnable1" readonly="true"/>
        <Edit id="edt_emple_nm" taborder="83" enable="true" position2="absolute l:27.6% w:10.52% t:487px h:20" positiontype="position2" style="align:center middle; :disabled {align:right middle;}" tooltiptype="hover" class="edt_clssEnable1" readonly="true"/>
        <Edit id="edt_new_chan_gunsu" taborder="84" enable="true" position2="absolute l:74 w:27 t:512px h:20" positiontype="position2" style="align:center middle; :disabled {align:right middle;}" class="edt_clssEnable1" readonly="true"/>
        <Edit id="edt_event_use_amt" taborder="85" enable="true" position2="absolute l:27.6% w:10.52% t:512px h:20" positiontype="position2" style="align:right middle; :disabled {align:right middle;}" class="edt_clssEnable1" readonly="true"/>
        <Edit id="edt_pay_stat" taborder="86" enable="true" position2="absolute l:73 w:11.32% t:537px h:20" positiontype="position2" style="align:center middle; :disabled {align:right middle;}" class="edt_clssEnable1" readonly="true"/>
        <Edit id="edt_this_mon_no" taborder="87" enable="true" position2="absolute l:27.6% w:10.52% t:537px h:20" positiontype="position2" style="align:right middle; :disabled {align:right middle;}" class="edt_clssEnable1" readonly="true"/>
        <Edit id="edt_gasu_amt_total" taborder="88" enable="true" position2="absolute l:73 w:11.32% t:562px h:20" positiontype="position2" style="align:right middle; :disabled {align:right middle;}" class="edt_clssEnable1" readonly="true"/>
        <Edit id="edt_new_chan_gunsu_amt" taborder="89" enable="true" position2="absolute l:104 w:8.29% t:512px h:20" positiontype="position2" style="align:right middle; :disabled {align:right middle;}" class="edt_clssEnable1" readonly="true"/>
        <Grid id="grd_list00" taborder="90" binddataset="ds_prodDtl_list" useinputpanel="false" position2="absolute l:39.74% w:26.49% t:484 h:122" positiontype="position2" autofittype="col">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="44"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="순번"/>
                <Cell col="1" text="시작회차"/>
                <Cell col="2" text="종료회차"/>
                <Cell col="3" text="합계"/>
              </Band>
              <Band id="body">
                <Cell expr="currow+1"/>
                <Cell col="1" text="bind:st_no"/>
                <Cell col="2" text="bind:end_no"/>
                <Cell col="3" displaytype="number" text="bind:total_amt" expr="gfn_commaStr(total_amt)"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Grid id="grd_list01" taborder="91" binddataset="ds_payTotal_list" useinputpanel="false" position2="absolute l:67.54% w:32.05% t:484 h:122" positiontype="position2" autofittype="col">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="68"/>
                <Column size="67"/>
                <Column size="65"/>
                <Column size="68"/>
                <Column size="64"/>
              </Columns>
              <Rows>
                <Row size="20" band="head"/>
                <Row size="20"/>
              </Rows>
              <Band id="head">
                <Cell text="구분"/>
                <Cell col="1" text="상조부금"/>
                <Cell col="2" text="할부금액"/>
                <Cell col="3" text="추가부담금"/>
                <Cell col="4" text="합계"/>
              </Band>
              <Band id="body">
                <Cell style="color:EXPR(currow == 4 ? 'black' : 'red');" text="bind:section"/>
                <Cell col="1" displaytype="number" style="align:center;color:EXPR(currow == 4 ? 'black' : 'red');" text="bind:total_pay" expr="gfn_commaStr(total_pay)"/>
                <Cell col="2" displaytype="number" style="align:center;color:EXPR(currow == 4 ? 'black' : 'red');" text="bind:total_pay_dtl" expr="gfn_commaStr(total_pay_dtl)"/>
                <Cell col="3" displaytype="number" style="align:center;color:EXPR(currow == 4 ? 'black' : 'red');" text="bind:total_pay_dtl1" expr="gfn_commaStr(total_pay_dtl1)"/>
                <Cell col="4" displaytype="number" style="align:center;color:EXPR(currow == 4 ? 'black' : 'red');" text="bind:total" expr="gfn_commaStr(total)"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Button id="btn_gasu" taborder="0" text="가수금내역" class="btn_WF_Common" position2="absolute l:19.11% w:71 t:562px h:20" positiontype="position2" tooltiptext="삭제" style="padding:0 0 0 0;" onclick="btn_gasu_onclick"/>
        <Edit id="edt_gcnt" taborder="92" enable="false" visible="false" position2="absolute r:-106 w:90 t:78 h:20" positiontype="position2" style=":disabled {align:right middle;}"/>
        <Button id="btn_pay" taborder="93" text="입금조회" class="btn_WF_Common" tooltiptext="삭제" style="padding:0 0 0 0;" onclick="btn_pay_onclick" position2="absolute r:4 w:72 t:461 h:20" positiontype="position2"/>
      </Layout>
    </Layouts>
    <Bind>
      <BindItem id="item67" compid="ckb_payable" propid="value" datasetid="ds_evnt_list" columnid="cms_wdrw_req_yn"/>
      <BindItem id="item0" compid="edt_gcnt" propid="value" datasetid="ds_pay_list" columnid="gcnt"/>
    </Bind>
    <Objects>
      <Dataset id="ds_list_tmp" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="page_indx" type="STRING" size="256"/>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="seq" type="STRING" size="256"/>
          <Column id="event_reg_day" type="STRING" size="256"/>
          <Column id="event_proc_day" type="STRING" size="256"/>
          <Column id="event_comp_day" type="STRING" size="256"/>
          <Column id="event_man" type="STRING" size="256"/>
          <Column id="sort_name" type="STRING" size="256"/>
          <Column id="sort" type="STRING" size="256"/>
          <Column id="val1" type="STRING" size="256"/>
          <Column id="val2" type="STRING" size="256"/>
          <Column id="val3" type="STRING" size="256"/>
          <Column id="val4" type="STRING" size="256"/>
          <Column id="val5" type="STRING" size="256"/>
          <Column id="val6" type="STRING" size="256"/>
          <Column id="val7" type="STRING" size="256"/>
          <Column id="val8" type="STRING" size="256"/>
          <Column id="val9" type="STRING" size="256"/>
          <Column id="ent_day" type="STRING" size="256"/>
          <Column id="ent_tm" type="STRING" size="256"/>
          <Column id="accept_day" type="STRING" size="256"/>
          <Column id="accept_tm" type="STRING" size="256"/>
          <Column id="move_day" type="STRING" size="256"/>
          <Column id="move_tm" type="STRING" size="256"/>
          <Column id="wedding_opt" type="STRING" size="256"/>
          <Column id="annv" type="STRING" size="256"/>
          <Column id="event_place" type="STRING" size="256"/>
          <Column id="note" type="STRING" size="256"/>
          <Column id="pay_amt" type="STRING" size="256"/>
          <Column id="pay_amt_count" type="STRING" size="256"/>
          <Column id="join_dt" type="STRING" size="256"/>
          <Column id="emple_nm" type="STRING" size="256"/>
          <Column id="dept_nm" type="STRING" size="256"/>
          <Column id="erg_tel" type="STRING" size="256"/>
          <Column id="sex" type="STRING" size="256"/>
          <Column id="sex_nm" type="STRING" size="256"/>
          <Column id="rel" type="STRING" size="256"/>
          <Column id="agerng" type="STRING" size="256"/>
          <Column id="die_reson" type="STRING" size="256"/>
          <Column id="loc" type="STRING" size="256"/>
          <Column id="bcnm" type="STRING" size="256"/>
          <Column id="bcloc" type="STRING" size="256"/>
          <Column id="cfn_dt" type="STRING" size="256"/>
          <Column id="cfn_day" type="STRING" size="256"/>
          <Column id="cfn_tm" type="STRING" size="256"/>
          <Column id="rmk" type="STRING" size="256"/>
          <Column id="cnl_reson" type="STRING" size="256"/>
          <Column id="prod_nm" type="STRING" size="256"/>
          <Column id="mem_nm" type="STRING" size="256"/>
          <Column id="mem_no" type="STRING" size="256"/>
          <Column id="emple_no" type="STRING" size="256"/>
          <Column id="emp_cell" type="STRING" size="256"/>
          <Column id="cell" type="STRING" size="256"/>
          <Column id="sms_chk" type="STRING" size="256"/>
          <Column id="work_dept" type="STRING" size="256"/>
          <Column id="del_fg" type="STRING" size="256"/>
          <Column id="bef_emple_nm" type="STRING" size="256"/>
          <Column id="join_cl" type="STRING" size="256"/>
          <Column id="arrive_dt" type="STRING" size="256"/>
          <Column id="bur_cre_cl" type="STRING" size="256"/>
          <Column id="brplot" type="STRING" size="256"/>
          <Column id="rpt_yn" type="STRING" size="256"/>
          <Column id="rpt_no" type="STRING" size="256"/>
          <Column id="rpt_cl" type="STRING" size="256"/>
          <Column id="event_place1" type="STRING" size="256"/>
          <Column id="jidosa" type="STRING" size="256"/>
          <Column id="work_dept1" type="STRING" size="256"/>
          <Column id="yenche" type="STRING" size="256"/>
          <Column id="branch_cl" type="STRING" size="256"/>
          <Column id="mon_tr_yn" type="STRING" size="256"/>
          <Column id="model_cl_nm" type="STRING" size="256"/>
          <Column id="whmv_yn" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_list" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="prod_nm" type="STRING" size="256"/>
          <Column id="prod_amt" type="STRING" size="256"/>
          <Column id="mon_pay_amt" type="STRING" size="256"/>
          <Column id="emple_no" type="STRING" size="256"/>
          <Column id="emple_nm" type="STRING" size="256"/>
          <Column id="dept_nm" type="STRING" size="256"/>
          <Column id="expr_no" type="STRING" size="256"/>
          <Column id="remain_cnt" type="STRING" size="256"/>
          <Column id="remain_amt" type="STRING" size="256"/>
          <Column id="gasu_amt_total" type="STRING" size="256"/>
          <Column id="dc_amt_total" type="STRING" size="256"/>
          <Column id="new_chan_gunsu" type="STRING" size="256"/>
          <Column id="new_chan_gunsu_amt" type="STRING" size="256"/>
          <Column id="this_mon_no" type="STRING" size="256"/>
          <Column id="last_no" type="STRING" size="256"/>
          <Column id="new_chan_gunsu_no" type="STRING" size="256"/>
          <Column id="no_cnt" type="STRING" size="256"/>
          <Column id="pay_amt" type="STRING" size="256"/>
          <Column id="stat" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_trans_info" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="strSvcID" type="STRING" size="256"/>
          <Column id="strURL" type="STRING" size="256"/>
          <Column id="strInDatasets" type="STRING" size="256"/>
          <Column id="strOutDatasets" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_inqCndt" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="del_fg" type="STRING" size="256"/>
          <Column id="now_dm" type="STRING" size="256"/>
          <Column id="stt_dt" type="STRING" size="256"/>
          <Column id="end_dt" type="STRING" size="256"/>
          <Column id="emple_nm" type="STRING" size="256"/>
          <Column id="emple_no" type="STRING" size="256"/>
          <Column id="recom_emple_nm" type="STRING" size="256"/>
          <Column id="recom_emple_no" type="STRING" size="256"/>
          <Column id="dept_kind" type="STRING" size="256"/>
          <Column id="mem_stat" type="STRING" size="256"/>
          <Column id="prod_cl" type="STRING" size="256"/>
          <Column id="sale_typ" type="STRING" size="256"/>
          <Column id="prod_cd" type="STRING" size="256"/>
          <Column id="prod_nm" type="STRING" size="256"/>
          <Column id="event_chk" type="STRING" size="256"/>
          <Column id="exno_chk" type="STRING" size="256"/>
          <Column id="expiry_chk" type="STRING" size="256"/>
          <Column id="newamt_chk" type="STRING" size="256"/>
          <Column id="ress_chk" type="STRING" size="256"/>
          <Column id="orderBy" type="STRING" size="256"/>
          <Column id="orderDirection" type="STRING" size="256"/>
          <Column id="sController" type="STRING" size="256"/>
          <Column id="dsName" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_accnt_info" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="page_indx" type="STRING" size="6"/>
          <Column id="accnt_no" type="STRING" size="100"/>
          <Column id="mem_no" type="STRING" size="100"/>
          <Column id="mem_nm" type="STRING" size="100"/>
          <Column id="home_tel" type="STRING" size="100"/>
          <Column id="cell" type="STRING" size="100"/>
          <Column id="wrpl_tel" type="STRING" size="100"/>
          <Column id="idn_no" type="STRING" size="100"/>
          <Column id="prod_cd" type="STRING" size="100"/>
          <Column id="prod_nm" type="STRING" size="100"/>
          <Column id="prod_amt" type="STRING" size="100"/>
          <Column id="mon_pay_amt" type="STRING" size="100"/>
          <Column id="expr_no" type="STRING" size="100"/>
          <Column id="emple_no" type="STRING" size="100"/>
          <Column id="emple_nm" type="STRING" size="100"/>
          <Column id="appfm_no" type="STRING" size="100"/>
          <Column id="join_dt" type="STRING" size="100"/>
          <Column id="compt_dt" type="STRING" size="100"/>
          <Column id="bef_emple_cd" type="STRING" size="100"/>
          <Column id="pay_perd" type="STRING" size="100"/>
          <Column id="pay_mthd" type="STRING" size="100"/>
          <Column id="join_prod" type="STRING" size="100"/>
          <Column id="new_chan_gunsu" type="STRING" size="100"/>
          <Column id="certf_rcv_chk" type="STRING" size="100"/>
          <Column id="pay_stat_1no" type="STRING" size="100"/>
          <Column id="ichae_dt" type="STRING" size="100"/>
          <Column id="bank_accnt_no" type="STRING" size="100"/>
          <Column id="old_mid" type="STRING" size="100"/>
          <Column id="reg_dm" type="STRING" size="100"/>
          <Column id="reg_man" type="STRING" size="100"/>
          <Column id="upd_dm" type="STRING" size="100"/>
          <Column id="upd_man" type="STRING" size="100"/>
          <Column id="accnt_stat" type="STRING" size="100"/>
          <Column id="total_pay" type="STRING" size="100"/>
          <Column id="last_no" type="STRING" size="100"/>
          <Column id="real_pay_no" type="STRING" size="100"/>
          <Column id="ded_no" type="STRING" size="100"/>
          <Column id="join_cl" type="STRING" size="100"/>
          <Column id="trans_gubun" type="STRING" size="100"/>
          <Column id="brth_mon_day" type="STRING" size="100"/>
          <Column id="pay_mthd" type="STRING" size="100"/>
          <Column id="emp_cell" type="STRING" size="100"/>
          <Column id="join_stat" type="STRING" size="100"/>
          <Column id="pay_stat" type="STRING" size="100"/>
          <Column id="pay_no" type="STRING" size="100"/>
          <Column id="pay_allt_no" type="STRING" size="100"/>
          <Column id="pay_add_no" type="STRING" size="100"/>
          <Column id="pay_amt" type="STRING" size="100"/>
          <Column id="pay_allt_amt" type="STRING" size="100"/>
          <Column id="pay_add_amt" type="STRING" size="100"/>
          <Column id="model_cl_nm" type="STRING" size="100"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_accntInqCndt" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="srch_typ" type="STRING" size="256"/>
          <Column id="srch_vl" type="STRING" size="256"/>
          <Column id="option" type="STRING" size="256"/>
          <Column id="ns_yn" type="STRING" size="256"/>
          <Column id="popup_yn" type="STRING" size="256"/>
          <Column id="orderBy" type="STRING" size="256"/>
          <Column id="orderDirection" type="STRING" size="256"/>
          <Column id="sController" type="STRING" size="256"/>
          <Column id="dsName" type="STRING" size="256"/>
          <Column id="user_athrCd" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_pay_mthd" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cd_nm" type="STRING" size="256"/>
          <Column id="adtl_cd" type="STRING" size="256"/>
          <Column id="adtl_cd_nm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_pay_mthd2" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cd_nm" type="STRING" size="256"/>
          <Column id="adtl_cd" type="STRING" size="256"/>
          <Column id="adtl_cd_nm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_pay_mthd3" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cd_nm" type="STRING" size="256"/>
          <Column id="adtl_cd" type="STRING" size="256"/>
          <Column id="adtl_cd_nm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_pay_cancel" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cd_nm" type="STRING" size="256"/>
          <Column id="adtl_cd" type="STRING" size="256"/>
          <Column id="adtl_cd_nm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_pay_cancel2" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cd_nm" type="STRING" size="256"/>
          <Column id="adtl_cd" type="STRING" size="256"/>
          <Column id="adtl_cd_nm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_pay_cancel3" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cd_nm" type="STRING" size="256"/>
          <Column id="adtl_cd" type="STRING" size="256"/>
          <Column id="adtl_cd_nm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_pay_list" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="seq" type="STRING" size="256"/>
          <Column id="no" type="STRING" size="256"/>
          <Column id="pay_amt" type="STRING" size="256"/>
          <Column id="pay_day" type="STRING" size="256"/>
          <Column id="pay_mthd" type="STRING" size="256"/>
          <Column id="pay_mthd_nm" type="STRING" size="256"/>
          <Column id="stat" type="STRING" size="256"/>
          <Column id="stat_nm" type="STRING" size="256"/>
          <Column id="mon_no" type="STRING" size="256"/>
          <Column id="app_dt" type="STRING" size="256"/>
          <Column id="edt_yn" type="STRING" size="256"/>
          <Column id="dc_amt" type="STRING" size="256"/>
          <Column id="rc_stat" type="STRING" size="256"/>
          <Column id="gcnt" type="STRING" size="256"/>
          <Column id="reg_man" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_payDtl_list" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="seq" type="STRING" size="256"/>
          <Column id="no" type="STRING" size="256"/>
          <Column id="pay_amt" type="STRING" size="256"/>
          <Column id="pay_day" type="STRING" size="256"/>
          <Column id="pay_mthd" type="STRING" size="256"/>
          <Column id="pay_mthd_nm" type="STRING" size="256"/>
          <Column id="stat" type="STRING" size="256"/>
          <Column id="stat_nm" type="STRING" size="256"/>
          <Column id="mon_no" type="STRING" size="256"/>
          <Column id="app_dt" type="STRING" size="256"/>
          <Column id="edt_yn" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_payDtl1_list" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="seq" type="STRING" size="256"/>
          <Column id="no" type="STRING" size="256"/>
          <Column id="pay_amt" type="STRING" size="256"/>
          <Column id="pay_day" type="STRING" size="256"/>
          <Column id="pay_mthd" type="STRING" size="256"/>
          <Column id="pay_mthd_nm" type="STRING" size="256"/>
          <Column id="stat" type="STRING" size="256"/>
          <Column id="stat_nm" type="STRING" size="256"/>
          <Column id="mon_no" type="STRING" size="256"/>
          <Column id="app_dt" type="STRING" size="256"/>
          <Column id="edt_yn" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_dtl_list" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="last_no" type="STRING" size="256"/>
          <Column id="mon_pay_amt" type="STRING" size="256"/>
          <Column id="remain_cnt" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_dtl1_list" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="last_no" type="STRING" size="256"/>
          <Column id="mon_pay_amt" type="STRING" size="256"/>
          <Column id="remain_cnt" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_refund_list" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="mem_no" type="STRING" size="256"/>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="mem_nm" type="STRING" size="256"/>
          <Column id="prod_nm" type="STRING" size="256"/>
          <Column id="pay_no" type="STRING" size="256"/>
          <Column id="pay_day" type="STRING" size="256"/>
          <Column id="pay_amt" type="STRING" size="256"/>
          <Column id="refund_dm" type="STRING" size="256"/>
          <Column id="pay_cancel_note" type="STRING" size="256"/>
          <Column id="pay_cancel_nm" type="STRING" size="256"/>
          <Column id="pay_mthd" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_refundDtl_list" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="mem_no" type="STRING" size="256"/>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="mem_nm" type="STRING" size="256"/>
          <Column id="prod_nm" type="STRING" size="256"/>
          <Column id="pay_no" type="STRING" size="256"/>
          <Column id="pay_day" type="STRING" size="256"/>
          <Column id="pay_amt" type="STRING" size="256"/>
          <Column id="refund_dm" type="STRING" size="256"/>
          <Column id="pay_cancel_note" type="STRING" size="256"/>
          <Column id="pay_cancel_nm" type="STRING" size="256"/>
          <Column id="pay_mthd" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_refundDtl1_list" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="mem_no" type="STRING" size="256"/>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="mem_nm" type="STRING" size="256"/>
          <Column id="prod_nm" type="STRING" size="256"/>
          <Column id="pay_no" type="STRING" size="256"/>
          <Column id="pay_day" type="STRING" size="256"/>
          <Column id="pay_amt" type="STRING" size="256"/>
          <Column id="refund_dm" type="STRING" size="256"/>
          <Column id="pay_cancel_note" type="STRING" size="256"/>
          <Column id="pay_cancel_nm" type="STRING" size="256"/>
          <Column id="pay_mthd" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rgsnPayMng" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="mode" type="STRING" size="256"/>
          <Column id="mem_no" type="STRING" size="256"/>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="pay_day" type="STRING" size="256"/>
          <Column id="no" type="STRING" size="256"/>
          <Column id="pay_mthd" type="STRING" size="256"/>
          <Column id="mon_cnt" type="STRING" size="256"/>
          <Column id="pay_amt" type="STRING" size="256"/>
          <Column id="expr_no" type="STRING" size="256"/>
          <Column id="new_chan_gunsu" type="STRING" size="256"/>
          <Column id="del_fg" type="STRING" size="256"/>
          <Column id="seq" type="STRING" size="256"/>
          <Column id="cl1" type="STRING" size="256"/>
          <Column id="pay_cancel_cd" type="STRING" size="256"/>
          <Column id="pay_cancel_note" type="STRING" size="256"/>
          <Column id="pay_cancel_day" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_chgPayMng" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="dat1" type="STRING" size="256"/>
          <Column id="dat2" type="STRING" size="256"/>
          <Column id="dat3" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_chgPayMngDtl" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="dat1" type="STRING" size="256"/>
          <Column id="dat2" type="STRING" size="256"/>
          <Column id="dat3" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rgsnPayMngDtl" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="mode" type="STRING" size="256"/>
          <Column id="mem_no" type="STRING" size="256"/>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="pay_day" type="STRING" size="256"/>
          <Column id="no" type="STRING" size="256"/>
          <Column id="pay_mthd" type="STRING" size="256"/>
          <Column id="mon_cnt" type="STRING" size="256"/>
          <Column id="pay_amt" type="STRING" size="256"/>
          <Column id="expr_no" type="STRING" size="256"/>
          <Column id="new_chan_gunsu" type="STRING" size="256"/>
          <Column id="del_fg" type="STRING" size="256"/>
          <Column id="seq" type="STRING" size="256"/>
          <Column id="cl1" type="STRING" size="256"/>
          <Column id="pay_cancel_cd" type="STRING" size="256"/>
          <Column id="pay_cancel_note" type="STRING" size="256"/>
          <Column id="pay_cancel_day" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rgsnPayMngDtl1" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="mode" type="STRING" size="256"/>
          <Column id="mem_no" type="STRING" size="256"/>
          <Column id="accnt_no" type="STRING" size="256"/>
          <Column id="pay_day" type="STRING" size="256"/>
          <Column id="no" type="STRING" size="256"/>
          <Column id="pay_mthd" type="STRING" size="256"/>
          <Column id="mon_cnt" type="STRING" size="256"/>
          <Column id="pay_amt" type="STRING" size="256"/>
          <Column id="expr_no" type="STRING" size="256"/>
          <Column id="new_chan_gunsu" type="STRING" size="256"/>
          <Column id="del_fg" type="STRING" size="256"/>
          <Column id="seq" type="STRING" size="256"/>
          <Column id="cl1" type="STRING" size="256"/>
          <Column id="pay_cancel_cd" type="STRING" size="256"/>
          <Column id="pay_cancel_note" type="STRING" size="256"/>
          <Column id="pay_cancel_day" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_chgPayMngDtl1" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="dat1" type="STRING" size="256"/>
          <Column id="dat2" type="STRING" size="256"/>
          <Column id="dat3" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_prodDtl_list" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="prod_cd" type="STRING" size="256"/>
          <Column id="seq" type="STRING" size="256"/>
          <Column id="st_no" type="STRING" size="256"/>
          <Column id="end_no" type="STRING" size="256"/>
          <Column id="month_pay_amt" type="STRING" size="256"/>
          <Column id="allt_amt" type="STRING" size="256"/>
          <Column id="add_amt" type="STRING" size="256"/>
          <Column id="total_amt" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_payTotal_list" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="section" type="STRING" size="256"/>
          <Column id="total_pay" type="STRING" size="256"/>
          <Column id="total_pay_dtl" type="STRING" size="256"/>
          <Column id="total_pay_dtl1" type="STRING" size="256"/>
          <Column id="total" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <InitValue>
      <Static id="stc_62" visible="true"/>
      <Static id="stc_64" visible="true"/>
    </InitValue>
    <Script type="xscript4.0"><![CDATA[/********************************************************************************************/
/* 1. Include Library include, variables Declaration 영역                                  */
/********************************************************************************************/
include "LIB::lib_All.xjs";

//회원번호로 조회시 사용
var tc_custAcnt = 0;
var event_accnt_no = "";
var event_seq = "";

//납입건수 수정
var r_pay_amt = 0;
var r_pay_amt_dtl = 0;
var r_pay_amt_dtl1 = 0;

//del_fg
var del_fg = false;
var del_dtl_fg = false;
var del_dtl1_fg = false;

//결과 (paymng)
var r_resn_yn = "";
var r_new_yn = "";
var r_edt_yn = "";

var sGbn = "Y";
var gv_wdrw_req_accnt = 0;

var ksmacUse = true; // KSMAC 상조보증공제조합 사용여부
var sUserAthrCd = gds_UserInfo.getColumn(gds_UserInfo.rowposition,"athr_cd");	


/********************************************************************************************/
/* 2. Form 관련(onload 및 Form 이벤트) 처리                                           	*/
/********************************************************************************************/
function DL420401_onload(obj:Form, e:LoadEventInfo)
{
	try {
		if ( !gfn_isEmpty(p_sgbn) ) {
			sGbn = p_sgbn;
		}
	} catch (e) {
		//
	}
	gfn_initForm(obj);
    gfn_getList("dlwCd","01,0115","fn_callBack",false);   // 대명코드조회 (01:납입방법,0115:입금취소사유)
	gfn_createPagingDataset(obj); // 페이징처리 위한 데이터셋 설정
}


/********************************************************************************************/
/* 3. Callback(gfn_Transaction 호출 후 처리내용)                                   		*/
/********************************************************************************************/
function fn_callBack(svcid, errcd, errmsg) 
{
	if (errcd != 0) {
	    switch (svcid) {
	        // 공통
  			case "selectDlwCode":
			alert("코드 적재를 실패하였습니다.");
			break;
	    }
		return false;
	} else {
		switch (svcid) {
		    // 공통
			case "selectDlwCode": // 공통코드 조회 callBack Service ID
			gfn_getCode("01", "SELECT", ds_pay_mthd, gds_DmlCd); 
			gfn_getCode("01", "SELECT", ds_pay_mthd2, gds_DmlCd); 
			gfn_getCode("01", "SELECT", ds_pay_mthd3, gds_DmlCd); 
			gfn_getCode("0115", "SELECT", ds_pay_cancel, gds_DmlCd); 
			gfn_getCode("0115", "SELECT", ds_pay_cancel2, gds_DmlCd); 
			gfn_getCode("0115", "SELECT", ds_pay_cancel3, gds_DmlCd); 
			fn_init(sGbn); // 검색부 초기화
			break;

			case "selectCustaccntList":
			if(tc_custAcnt == 1) {
				fn_setAccntNo();
			} else if (tc_custAcnt > 1) {
				btn_accnt_onclick(null, "Y");
			} else {
				edt_accnt_no.value = "";
				edt_mem_nm.value = "";
			}			
			break;
			
			case "srchPayMngInfo":			
			if (ds_list.rowcount > 0) {  //상조부금 납입내역이 존재(상조부금 납입1회 해야 실 회원)
				// ds_pay_list (상조부금입금목록세팅)
				// ds_payDtl_list 결합상품할부원금 입금목록 세팅
				// ds_payDtl1_list 결합상품추가부담금 입금목록 세팅
				
				//상조부금 부가 정보 세팅 list
				if (ds_pay_list.rowcount > 0) {
					fn_setPayMngInfo(ds_list, "update");
				} else {
					fn_setPayMngInfo(null, "update");
				}
				//결합상품 할부원금 부가 정보 세팅 list4
				if (ds_dtl_list.rowcount > 0) {
					fn_setPayMngDtlInfo(ds_dtl_list, "update");
				} else {
					fn_setPayMngDtlInfo(null, "update");
				}
				//결합상품 추가부담금 부가 정보 세팅 list5
				if (ds_dtl1_list.rowcount > 0) {
					fn_setPayMngDtl1Info(ds_dtl1_list, "update");
				} else {
					fn_setPayMngDtl1Info(null, "update");
				}
				
				//수정모드(입금 조회)인 경우 세팅
				if (ds_pay_list.rowcount > 0) {
					
					if (sUserAthrCd !=  "TM40")	// 2018.03.20 권한 체크(TM40 MG새마을금고)  TM40 일 경우  등록, 수정 버튼 비활성...
					{
						btn_upd.enable = true;
					}
					ds_pay_list.selectRow(gfn_transNullToNumber(ds_pay_list.rowcount)-1);
					grd_list_oncellclick(grd_list);
				} else {
					btn_upd.enable = false;
				}
				if (ds_payDtl_list.rowcount > 0) {
					if (sUserAthrCd !=  "TM40")	// 2018.03.20 권한 체크(TM40 MG새마을금고)  TM40 일 경우  등록, 수정 버튼 비활성...
					{
						btn_upd2.enable = true;
					}	
					ds_payDtl_list.selectRow(gfn_transNullToNumber(ds_payDtl_list.rowcount)-1);
					grd_list_oncellclick(grd_list2);
				} else {
					btn_upd2.enable = false;;
				}
				if (ds_payDtl1_list.rowcount > 0) {
					if (sUserAthrCd !=  "TM40")	// 2018.03.20 권한 체크(TM40 MG새마을금고)  TM40 일 경우  등록, 수정 버튼 비활성...
					{
						btn_upd3.enable = true;
					}	
					ds_payDtl1_list.selectRow(gfn_transNullToNumber(ds_payDtl1_list.rowcount)-1);
					grd_list_oncellclick(grd_list3);
				} else {
					btn_upd3.enable = false;
				}
			
			} else {  //상조부금 납입내역이 존재하지 않는 경우
				fn_setPayMngInfo(ds_list);
				alert("조회된 자료가 없습니다.");
			}
			
			break;
			
			case "srchPayAmtByPayCnt":
			edt_pay_amt.value = gfn_commaStr(gfn_transNullToNumber(r_pay_amt));
			break;
			case "srchPayAmtDtlByPayCnt":
			edt_pay_amt2.value = gfn_commaStr(gfn_transNullToNumber(r_pay_amt_dtl));
			break;
			case "srchPayAmtDtl1ByPayCnt":
			edt_pay_amt3.value = gfn_commaStr(gfn_transNullToNumber(r_pay_amt_dtl1));
			break;
			
			case "mergePayMng":
			if (r_resn_yn == "Y") {
				alert("해약건은 변경 할 수 없습니다.");
				return false;
			}
			if (r_new_yn == "N" || r_new_yn == "S") {
				alert("공제 조합에 입금 신고된 건입니다.\n공제전송모듈에서 입금취소 전문 전송 후\n입금취소를 진행하시기 바랍니다.");
				return false;
			}
			if (r_edt_yn == "N") {
				alert("마감된 데이터는 수정할 수 없습니다.");
				return false;
			}
			fn_commSearch(gfn_getCommTypeInit(), "srchPayMngInfo"); // 조회
			del_fg = false;
			del_dtl_fg = false;
			del_dtl1_fg = false;
			break;
			
			case "mergePayMngDtl":
			if (r_edt_yn == "N") {
				alert("마감된 데이터는 수정할 수 없습니다.");
				return false;
			}
			fn_commSearch(gfn_getCommTypeInit(), "srchPayMngInfo"); // 조회
			break;
			
			case "mergePayMngDtl1":
			if (r_edt_yn == "N") {
				alert("마감된 데이터는 수정할 수 없습니다.");
				return false;
			}
			fn_commSearch(gfn_getCommTypeInit(), "srchPayMngInfo"); // 조회
			break;
		}
	}
}


/********************************************************************************************/
/**   4. Validation 처리                                                                   	*/
/********************************************************************************************/
function fn_preSearch(sType,svcid, gbn) {
	if (sType == gfn_getCommTypeInit())
	{
		switch(svcid) {
			case "selectCustaccntList":
			ds_accntInqCndt.keystring = ""; // 정렬컬럼 초기화
			ds_accntInqCndt.clearData();
			ds_accntInqCndt.addRow();
			
			var srch_typ = ""
			var srch_vl = "";
			var option = "";
			if (ckb_payable.value == "Y") {
				option = "payable";
			} else {
				option = "";
			}
			
			if (gbn == "accnt_no") {
				srch_typ = gbn;
				srch_vl = edt_accnt_no.value;
			} else if (gbn == "mem_nm"){
				srch_typ = gbn;
				srch_vl = edt_mem_nm.value;
			}
			
			ds_accntInqCndt.setColumn(0, "srch_typ", srch_typ);
			ds_accntInqCndt.setColumn(0, "srch_vl", srch_vl);
			ds_accntInqCndt.setColumn(0, "option", option);
			ds_accntInqCndt.setColumn(0, "ns_yn", "N");
			ds_accntInqCndt.setColumn(0, "popup_yn", "N");
			ds_accntInqCndt.setColumn(0, "orderBy", "mem_nm");
			ds_accntInqCndt.setColumn(0, "orderDirection", "asc");
			
			// 2018.03.20 권한 체크(TM40 MG새마을금고) 조회 시 LF_DMUSER.RESN_CREDIT_LIST 조인				
			ds_accntInqCndt.setColumn(0, "user_athrCd", sUserAthrCd)
			
			return_bool = true;
			break;
		}
	}
	return true;
}

function fn_preSave(svcid, gbn) {
	switch(svcid) {
		case "mergePayMng": //상조부금
			ds_rgsnPayMng.keystring = ""; // 정렬컬럼 초기화
			ds_rgsnPayMng.clearData();
			ds_rgsnPayMng.addRow();
		
			var accnt_no = "";
			if (ds_accnt_info.rowcount > 0) {
				accnt_no = ds_accnt_info.getColumn(0, "accnt_no");
			}
			if (gbn == "insert" || gbn == "update") {
				if(gv_wdrw_req_accnt > 0)
				{
					alert("현재 금액 청구중인 회원입니다. 청구 삭제후 등록 가능합니다.");
					return false;
				}		
				if (gfn_isNull(accnt_no)) {
					alert("회원조회를 하십시오.");
					return false;
				}
				if (gfn_isNull(cal_pay_day.value)) {
					alert("납입일자를 입력하십시오.");
					return false;
				}
				if (gfn_isNull(cbo_pay_mthd.value)) {
					alert("납입방법을 선택하십시오.");
					return false;
				}
				if (edt_remain_cnt.value == "0") {
					alert("만기회원입니다.");
					return false;
				}
				if (spn_mon_cnt_dtl.value == 0) {
					alert("납입건수를 1이상 선택해 주십시오.");
					return false;
				}
				if (gbn == "update") {
					if (ds_pay_list.rowposition == -1) {
						alert("선택된 전표가 없습니다.");
						return false;
					}
				}
			} else if (gbn == "delete") {
				if(gv_wdrw_req_accnt > 0)
				{
					alert("현재 금액 청구중인 회원입니다. 청구 삭제후 등록 가능합니다.");
					return false;
				}	
				if (!del_fg) {
					if (edt_remain_cnt.value == "0") {
						del_fg = true;
						confirm("만기회원입니다. 삭제 하시겠습니까?")
						return false;
					}
				}
				if (ds_pay_list.rowposition < 0) {
					alert("선택된 전표가 없습니다.");
					return false;
				} else {
					var bef_seq = ds_pay_list.getColumn(ds_pay_list.rowposition, "seq");
					var aft_seq = ds_pay_list.getColumn(ds_pay_list.rowcount-1, "seq");
					if (bef_seq != aft_seq) {
						alert("마지막 회차 전표만 삭제가능합니다.");
						return false;
					}
					if (gfn_isNull(cbo_pay_cancel.value)) {
						alert("입금취소사유를 선택해 주십시오.");
						return false;
					}
					if (gfn_isNull(cal_pay_calncel_day.value)) {
						alert("취소일자를 선택해 주십시오.");
						return false;
					}
				}
			} 
		
			if (gbn == "insert") {
				ds_rgsnPayMng.setColumn(0, "mode", "insert");
			} else {
				ds_rgsnPayMng.setColumn(0, "mode", "update");
			}
			ds_rgsnPayMng.setColumn(0, "mem_no", ds_accnt_info.getColumn(0, "mem_no"));
			ds_rgsnPayMng.setColumn(0, "accnt_no", ds_accnt_info.getColumn(0, "accnt_no"));
			var pay_day = cal_pay_day.value;
			ds_rgsnPayMng.setColumn(0, "pay_day", pay_day.toFormatString("%Y/%m/%d"));
			ds_rgsnPayMng.setColumn(0, "no", edt_no_dtl.value);
			ds_rgsnPayMng.setColumn(0, "pay_mthd", cbo_pay_mthd.value);
			ds_rgsnPayMng.setColumn(0, "mon_cnt", spn_mon_cnt_dtl.value);
			ds_rgsnPayMng.setColumn(0, "pay_amt", ds_list.getColumn(0, "mon_pay_amt"));
			ds_rgsnPayMng.setColumn(0, "expr_no", ds_list.getColumn(0, "expr_no"));
			ds_rgsnPayMng.setColumn(0, "new_chan_gunsu", ds_list.getColumn(0, "new_chan_gunsu"));
		
			if (gbn == "insert" || gbn == "update") {
				ds_rgsnPayMng.setColumn(0, "del_fg", "N");
				if (gbn == "insert") {
					ds_rgsnPayMng.setColumn(0, "seq", "");
				} else {
					ds_rgsnPayMng.setColumn(0, "seq", ds_pay_list.getColumn(ds_pay_list.rowposition, "seq"));
					//데이터셋 넘겨야함 (ds_pay_list >> oldMap)
					//변경데이터 입력 데이터셋 넘겨야함..(ds_chgPayMng >> chgAdg);
					ds_chgPayMng.clearData();
					var nRow = 0;
					cal_pay_day_bef.value = ds_pay_list.getColumn(ds_pay_list.rowposition, "pay_day");
					var bef_pay_day = cal_pay_day_bef.value;
					var aft_pay_day = cal_pay_day.value;
					if (bef_pay_day != aft_pay_day) {
						nRow = ds_chgPayMng.addRow();
						ds_chgPayMng.setColumn(nRow, "dat1", "납입일자");
						ds_chgPayMng.setColumn(nRow, "dat2", bef_pay_day.toFormatString("%Y/%m/%d"));
						ds_chgPayMng.setColumn(nRow, "dat3", aft_pay_day.toFormatString("%Y/%m/%d"));
					}
					var bef_pay_mthd = ds_pay_list.getColumn(ds_pay_list.rowposition, "pay_mthd");
					var aft_pay_mthd = cbo_pay_mthd.value;
					if (bef_pay_mthd != aft_pay_mthd) {
						nRow = ds_chgPayMng.addRow();
						ds_chgPayMng.setColumn(nRow, "dat1", "납입방법");
						ds_chgPayMng.setColumn(nRow, "dat2", bef_pay_mthd);
						ds_chgPayMng.setColumn(nRow, "dat3", aft_pay_mthd);
					}
					ds_rgsnPayMng.setColumn(0, "cl1", "U");
				}
			} else if (gbn == "delete") {
				ds_chgPayMng.clearData();
				var nRow = ds_chgPayMng.addRow();
				ds_chgPayMng.setColumn(nRow, "dat1", edt_no_dtl.value);
				ds_chgPayMng.setColumn(nRow, "dat2", "");
				ds_chgPayMng.setColumn(nRow, "dat3", "");
			
				ds_rgsnPayMng.setColumn(0, "del_fg", "Y");
				ds_rgsnPayMng.setColumn(0, "seq", ds_pay_list.getColumn(ds_pay_list.rowposition, "seq"));
				//ds_rgsnPayMng.setColumn(0, "cl1", "D");
				ds_rgsnPayMng.setColumn(0, "cl1", "");
				ds_rgsnPayMng.setColumn(0, "pay_cancel_cd", cbo_pay_cancel.value);
				ds_rgsnPayMng.setColumn(0, "pay_cancel_note", edt_pay_cancel_note.value);
				var pay_cancel_day = cal_pay_calncel_day.value;
				ds_rgsnPayMng.setColumn(0, "pay_cancel_day", pay_cancel_day.toFormatString("%Y/%m/%d"));
			}	
		break;
		
		case "mergePayMngDtl": //결합상품할부원금
			ds_rgsnPayMngDtl.keystring = ""; // 정렬컬럼 초기화
			ds_rgsnPayMngDtl.clearData();
			ds_rgsnPayMngDtl.addRow();
		
			var accnt_no = "";
			if (ds_accnt_info.rowcount > 0) {
				accnt_no = ds_accnt_info.getColumn(0, "accnt_no");
			}
			if (gbn == "insert" || gbn == "update") {
				if(gv_wdrw_req_accnt > 0)
				{
					alert("현재 금액 청구중인 회원입니다. 청구 삭제후 등록 가능합니다.");
					return false;
				}	
				if (gfn_isNull(accnt_no)) {
					alert("회원조회를 하십시오.");
					return false;
				}
				if (gfn_isNull(cal_pay_day2.value)) {
					alert("납입일자를 입력하십시오.");
					return false;
				}
				if (gfn_isNull(cbo_pay_mthd2.value)) {
					alert("납입방법을 선택하십시오.");
					return false;
				}
				if (edt_remain_cnt2.value == "0") {
					alert("만기회원입니다.");
					return false;
				}
				if (spn_mon_cnt_dtl2.value == 0) {
					alert("납입건수를 1이상 선택해 주십시오.");
					return false;
				}
				if (gbn == "update") {
					if (ds_payDtl_list.rowposition == -1) {
						alert("선택된 전표가 없습니다.");
						return false;
					}
				}
			} else if (gbn == "delete") {
				if(gv_wdrw_req_accnt > 0)
				{
					alert("현재 금액 청구중인 회원입니다. 청구 삭제후 등록 가능합니다.");
					return false;
				}	
				if (!del_dtl_fg) {
					if (edt_remain_cnt2.value == "0") {
						del_dtl_fg = true;
						confirm("할부금액 만기회원입니다. \n삭제 하시겠습니까?")
						return false;
					}
				}
				if (ds_payDtl_list.rowposition < 0) {
					alert("선택된 전표가 없습니다.");
					return false;
				} else {
					var bef_seq = ds_payDtl_list.getColumn(ds_payDtl_list.rowposition, "seq");
					var aft_seq = ds_payDtl_list.getColumn(ds_payDtl_list.rowcount-1, "seq");
					if (bef_seq != aft_seq) {
						alert("마지막 회차 전표만 삭제가능합니다.");
						return false;
					}
					if (gfn_isNull(cbo_pay_cancel2.value)) {
						alert("입금취소사유를 선택해 주십시오.");
						return false;
					}
					if (gfn_isNull(cal_pay_calncel_day2.value)) {
						alert("취소일자를 선택해 주십시오.");
						return false;
					}
				}
			} 
		
			if (gbn == "insert") {
				ds_rgsnPayMngDtl.setColumn(0, "mode", "insert");
			} else {
				ds_rgsnPayMngDtl.setColumn(0, "mode", "update");
			}
			ds_rgsnPayMngDtl.setColumn(0, "mem_no", ds_accnt_info.getColumn(0, "mem_no"));
			ds_rgsnPayMngDtl.setColumn(0, "accnt_no", ds_accnt_info.getColumn(0, "accnt_no"));
			var pay_day = cal_pay_day2.value;
			ds_rgsnPayMngDtl.setColumn(0, "pay_day", pay_day.toFormatString("%Y/%m/%d"));
			ds_rgsnPayMngDtl.setColumn(0, "no", edt_no_dtl2.value);
			ds_rgsnPayMngDtl.setColumn(0, "pay_mthd", cbo_pay_mthd2.value);
			ds_rgsnPayMngDtl.setColumn(0, "mon_cnt", spn_mon_cnt_dtl2.value);
			ds_rgsnPayMngDtl.setColumn(0, "pay_amt", ds_dtl_list.getColumn(0, "mon_pay_amt"));
			ds_rgsnPayMngDtl.setColumn(0, "expr_no", ds_list.getColumn(0, "expr_no"));
			ds_rgsnPayMngDtl.setColumn(0, "new_chan_gunsu", ds_list.getColumn(0, "new_chan_gunsu"));
		
			if (gbn == "insert" || gbn == "update") {
				ds_rgsnPayMngDtl.setColumn(0, "del_fg", "N");
				if (gbn == "insert") {
					ds_rgsnPayMngDtl.setColumn(0, "seq", "");
				} else {
					ds_rgsnPayMngDtl.setColumn(0, "seq", ds_payDtl_list.getColumn(ds_payDtl_list.rowposition, "seq"));
					//데이터셋 넘겨야함 (ds_pay_list >> oldMap)
					//변경데이터 입력 데이터셋 넘겨야함..(ds_chgPayMng >> chgAdg);
					ds_chgPayMngDtl.clearData();
					var nRow = 0;
					cal_pay_day_bef2.value = ds_payDtl_list.getColumn(ds_payDtl_list.rowposition, "pay_day");
					var bef_pay_day = cal_pay_day_bef2.value;
					var aft_pay_day = cal_pay_day2.value;
					if (bef_pay_day != aft_pay_day) {
						nRow = ds_chgPayMngDtl.addRow();
						ds_chgPayMngDtl.setColumn(nRow, "dat1", "납입일자");
						ds_chgPayMngDtl.setColumn(nRow, "dat2", bef_pay_day.toFormatString("%Y/%m/%d"));
						ds_chgPayMngDtl.setColumn(nRow, "dat3", aft_pay_day.toFormatString("%Y/%m/%d"));
					}
					var bef_pay_mthd = ds_payDtl_list.getColumn(ds_payDtl_list.rowposition, "pay_mthd");
					var aft_pay_mthd = cbo_pay_mthd2.value;
					if (bef_pay_mthd != aft_pay_mthd) {
						nRow = ds_chgPayMngDtl.addRow();
						ds_chgPayMngDtl.setColumn(nRow, "dat1", "납입방법");
						ds_chgPayMngDtl.setColumn(nRow, "dat2", bef_pay_mthd);
						ds_chgPayMngDtl.setColumn(nRow, "dat3", aft_pay_mthd);
					}
					ds_rgsnPayMngDtl.setColumn(0, "cl1", "U");
				}
			} else if (gbn == "delete") {
				ds_chgPayMngDtl.clearData();
				var nRow = ds_chgPayMngDtl.addRow();
				ds_chgPayMngDtl.setColumn(nRow, "dat1", edt_no_dtl2.value);
				ds_chgPayMngDtl.setColumn(nRow, "dat2", "결합상품 입금삭제");
				ds_chgPayMngDtl.setColumn(nRow, "dat3", "");
			
				ds_rgsnPayMngDtl.setColumn(0, "del_fg", "Y");
				ds_rgsnPayMngDtl.setColumn(0, "seq", ds_payDtl_list.getColumn(ds_payDtl_list.rowposition, "seq"));
				ds_rgsnPayMngDtl.setColumn(0, "cl1", "D");
				ds_rgsnPayMngDtl.setColumn(0, "pay_cancel_cd", cbo_pay_cancel2.value);
				ds_rgsnPayMngDtl.setColumn(0, "pay_cancel_note", edt_pay_cancel_note2.value);
				var pay_cancel_day = cal_pay_calncel_day2.value;
				ds_rgsnPayMngDtl.setColumn(0, "pay_cancel_day", pay_cancel_day.toFormatString("%Y/%m/%d"));
			}	
		break;
		
		case "mergePayMngDtl1": // 결합상품 추가부담금
			ds_rgsnPayMngDtl1.keystring = ""; // 정렬컬럼 초기화
			ds_rgsnPayMngDtl1.clearData();
			ds_rgsnPayMngDtl1.addRow();
		
			var accnt_no = "";
			if (ds_accnt_info.rowcount > 0) {
				accnt_no = ds_accnt_info.getColumn(0, "accnt_no");
			}
			if (gbn == "insert" || gbn == "update") {
				if(gv_wdrw_req_accnt > 0)
				{
					alert("현재 금액 청구중인 회원입니다. 청구 삭제후 등록 가능합니다.");
					return false;
				}	
				if (gfn_isNull(accnt_no)) {
					alert("회원조회를 하십시오.");
					return false;
				}
				if (gfn_isNull(cal_pay_day3.value)) {
					alert("납입일자를 입력하십시오.");
					return false;
				}
				if (gfn_isNull(cbo_pay_mthd3.value)) {
					alert("납입방법을 선택하십시오.");
					return false;
				}
				if (edt_remain_cnt3.value == "0") {
					alert("대상자가 아닙니다 확인부탁드려요");
					return false;
				}
				if (spn_mon_cnt_dtl3.value == 0) {
					alert("납입건수를 1이상 선택해 주십시오.");
					return false;
				}
				if (gbn == "update") {
					if (ds_payDtl1_list.rowposition == -1) {
						alert("선택된 전표가 없습니다.");
						return false;
					}
				}
			} else if (gbn == "delete") {
				if(gv_wdrw_req_accnt > 0)
				{
					alert("현재 금액 청구중인 회원입니다. 청구 삭제후 등록 가능합니다.");
					return false;
				}	
				if (!del_dtl1_fg) {
					if (edt_remain_cnt3.value == "0") {
						del_dtl1_fg = true;
						confirm("할부금액 만기회원입니다. \n삭제 하시겠습니까?")
						return false;
					}
				}
				if (ds_payDtl1_list.rowposition < 0) {
					alert("선택된 전표가 없습니다.");
					return false;
				} else {
					var bef_seq = ds_payDtl1_list.getColumn(ds_payDtl1_list.rowposition, "seq");
					var aft_seq = ds_payDtl1_list.getColumn(ds_payDtl1_list.rowcount-1, "seq");
					if (bef_seq != aft_seq) {
						alert("마지막 회차 전표만 삭제가능합니다.");
						return false;
					}
					if (gfn_isNull(cbo_pay_cancel3.value)) {
						alert("입금취소사유를 선택해 주십시오.");
						return false;
					}
					if (gfn_isNull(cal_pay_calncel_day3.value)) {
						alert("취소일자를 선택해 주십시오.");
						return false;
					}
				}
			} 
		
			if (gbn == "insert") {
				ds_rgsnPayMngDtl1.setColumn(0, "mode", "insert");
			} else {
				ds_rgsnPayMngDtl1.setColumn(0, "mode", "update");
			}
			ds_rgsnPayMngDtl1.setColumn(0, "mem_no", ds_accnt_info.getColumn(0, "mem_no"));
			ds_rgsnPayMngDtl1.setColumn(0, "accnt_no", ds_accnt_info.getColumn(0, "accnt_no"));
			var pay_day = cal_pay_day3.value;
			ds_rgsnPayMngDtl1.setColumn(0, "pay_day", pay_day.toFormatString("%Y/%m/%d"));
			ds_rgsnPayMngDtl1.setColumn(0, "no", edt_no_dtl3.value);
			ds_rgsnPayMngDtl1.setColumn(0, "pay_mthd", cbo_pay_mthd3.value);
			ds_rgsnPayMngDtl1.setColumn(0, "mon_cnt", spn_mon_cnt_dtl3.value);
			ds_rgsnPayMngDtl1.setColumn(0, "pay_amt", ds_dtl1_list.getColumn(0, "mon_pay_amt"));
			ds_rgsnPayMngDtl1.setColumn(0, "expr_no", ds_list.getColumn(0, "expr_no"));
			ds_rgsnPayMngDtl1.setColumn(0, "new_chan_gunsu", ds_list.getColumn(0, "new_chan_gunsu"));
		
			if (gbn == "insert" || gbn == "update") {
				ds_rgsnPayMngDtl1.setColumn(0, "del_fg", "N");
				if (gbn == "insert") {
					ds_rgsnPayMngDtl1.setColumn(0, "seq", "");
				} else {
					ds_rgsnPayMngDtl1.setColumn(0, "seq", ds_payDtl1_list.getColumn(ds_payDtl1_list.rowposition, "seq"));
					//데이터셋 넘겨야함 (ds_pay_list >> oldMap)
					//변경데이터 입력 데이터셋 넘겨야함..(ds_chgPayMng >> chgAdg);
					ds_chgPayMngDtl1.clearData();
					var nRow = 0;
					cal_pay_day_bef3.value = ds_payDtl1_list.getColumn(ds_payDtl1_list.rowposition, "pay_day");
					var bef_pay_day = cal_pay_day_bef3.value;
					var aft_pay_day = cal_pay_day3.value;
					if (bef_pay_day != aft_pay_day) {
						nRow = ds_chgPayMngDtl1.addRow();
						ds_chgPayMngDtl1.setColumn(nRow, "dat1", "납입일자");
						ds_chgPayMngDtl1.setColumn(nRow, "dat2", bef_pay_day.toFormatString("%Y/%m/%d"));
						ds_chgPayMngDtl1.setColumn(nRow, "dat3", aft_pay_day.toFormatString("%Y/%m/%d"));
					}
					var bef_pay_mthd = ds_payDtl1_list.getColumn(ds_payDtl1_list.rowposition, "pay_mthd");
					var aft_pay_mthd = cbo_pay_mthd3.value;
					if (bef_pay_mthd != aft_pay_mthd) {
						nRow = ds_chgPayMngDtl1.addRow();
						ds_chgPayMngDtl1.setColumn(nRow, "dat1", "납입방법");
						ds_chgPayMngDtl1.setColumn(nRow, "dat2", bef_pay_mthd);
						ds_chgPayMngDtl1.setColumn(nRow, "dat3", aft_pay_mthd);
					}
					ds_rgsnPayMngDtl1.setColumn(0, "cl1", "U");
				}
			} else if (gbn == "delete") {
				ds_chgPayMngDtl1.clearData();
				var nRow = ds_chgPayMngDtl1.addRow();
				ds_chgPayMngDtl1.setColumn(nRow, "dat1", edt_no_dtl3.value);
				ds_chgPayMngDtl1.setColumn(nRow, "dat2", "결합상품 입금삭제");
				ds_chgPayMngDtl1.setColumn(nRow, "dat3", "");
			
				ds_rgsnPayMngDtl1.setColumn(0, "del_fg", "Y");
				ds_rgsnPayMngDtl1.setColumn(0, "seq", ds_payDtl1_list.getColumn(ds_payDtl1_list.rowposition, "seq"));
				ds_rgsnPayMngDtl1.setColumn(0, "cl1", "D");
				ds_rgsnPayMngDtl1.setColumn(0, "pay_cancel_cd", cbo_pay_cancel3.value);
				ds_rgsnPayMngDtl1.setColumn(0, "pay_cancel_note", edt_pay_cancel_note3.value);
				var pay_cancel_day = cal_pay_calncel_day3.value;
				ds_rgsnPayMngDtl1.setColumn(0, "pay_cancel_day", pay_cancel_day.toFormatString("%Y/%m/%d"));
			}	
		break;
	}
	return true;
}
/********************************************************************************************/
/**   5. 서비스 호출(gfn_Transaction)                                                   	*/
/********************************************************************************************/
//조회
function fn_commSearch(sType, searchInfo, gbn) {
	
	var szSvcid       = "";
    var szController  = "";
    var szInDs        = "";
    var szOutDs       = "";
    var szParam       = "";
    var szRetCallback = "";
    
    switch(searchInfo) {
		case "selectCustaccntList":
        if (!fn_preSearch(sType,"selectCustaccntList", gbn)) return false;
		szSvcid       = "selectCustaccntList";
		szController  = "/dlw/newTypePayMng/cust-acnt/list";
		szInDs        = "ds_input=ds_accntInqCndt";
		szOutDs       = "ds_accnt_info=ds_output";
		szParam       = "";
		szRetCallback = "fn_callBack";
		break;
        case "srchPayMngInfo": 
	    szSvcid       = "srchPayMngInfo";
		szController  = "/dlw/newTypePayMng/pay-mng";
		szInDs        = "ds_input=ds_inqCndt";
		szOutDs       = "ds_list=ds_output ds_pay_list=ds_output1 ds_payDtl_list=ds_output2 ds_payDtl1_list=ds_output3 ds_dtl_list=ds_output4"
		              + " ds_dtl1_list=ds_output5 ds_refund_list=ds_output6 ds_refundDtl_list=ds_output7 ds_refundDtl1_list=ds_output8"
		              + " ds_payTotal_list=ds_output9 ds_prodDtl_list=ds_output10";
		szParam       = "accnt_no="+ds_accnt_info.getColumn(0, "accnt_no");
		szRetCallback = "fn_callBack";
        break;
        case "srchPayAmtByPayCnt":
		var p_Last_no1 = edt_no_dtl.value - 1 ;
	    szSvcid       = "srchPayAmtByPayCnt";
		szController  = "/dlw/newTypePayMng/payamt";
		szInDs        = "";
		szOutDs       = "";
		szParam       = "accnt_no="+ds_accnt_info.getColumn(0, "accnt_no")
		              + " mon_cnt="+spn_mon_cnt_dtl.value
		              + " no="+p_Last_no1
		szRetCallback = "fn_callBack";
        break;
        case "srchPayAmtDtlByPayCnt":
        var p_Last_no2 = edt_no_dtl2.value - 1 ;
	    szSvcid       = "srchPayAmtDtlByPayCnt";
		szController  = "/dlw/newTypePayMng/payamt-dtl";
		szInDs        = "";
		szOutDs       = "";
		szParam       = "accnt_no="+ds_accnt_info.getColumn(0, "accnt_no")
		              + " mon_cnt="+spn_mon_cnt_dtl2.value
		              + " no="+p_Last_no2
		szRetCallback = "fn_callBack";
        break;
        case "srchPayAmtDtl1ByPayCnt":
        var p_Last_no3 = edt_no_dtl3.value - 1 ;
	    szSvcid       = "srchPayAmtDtl1ByPayCnt";
		szController  = "/dlw/newTypePayMng/payamt-dtl1";
		szInDs        = "";
		szOutDs       = "";
		szParam       = "accnt_no="+ds_accnt_info.getColumn(0, "accnt_no")
		              + " mon_cnt="+spn_mon_cnt_dtl3.value
		              + " no="+p_Last_no3
		szRetCallback = "fn_callBack";
        break;
    }
    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}

//저장
function fn_commSave(saveInfo, gbn) {
    var szSvcid = "";
    var szController = "";
    var szInDs = "";
    var szOutDs = "";
    var szParam = "";
    var szRetCallback = "";
	
    switch(saveInfo) {
		case "mergePayMng":
			if (!fn_preSave(saveInfo, gbn)) return false;
			
			szSvcid       = "mergePayMng";
			szController  = "/dlw/newTypePayMng/merge-paymng";
			szInDs        = "ds_input=ds_rgsnPayMng";
			if (gbn != "insert") {
				szInDs    += " ds_input2=ds_chgPayMng";
			}
			szOutDs       = "";
			szParam       = "";
			szRetCallback = "fn_callBack";
		break;
		
		case "mergePayMngDtl":
			if (!fn_preSave(saveInfo, gbn)) return false;

			szSvcid       = "mergePayMngDtl";
			szController  = "/dlw/newTypePayMng/merge-paymng-dtl";
			szInDs        = "ds_input=ds_rgsnPayMngDtl";
			if (gbn != "insert") {
				szInDs    += " ds_input2=ds_chgPayMngDtl";
			}
			szOutDs       = "";
			szParam       = "";
			szRetCallback = "fn_callBack";
		break;
		
		case "mergePayMngDtl1":
			if (!fn_preSave(saveInfo, gbn)) return false;

			szSvcid       = "mergePayMngDtl1";
			szController  = "/dlw/newTypePayMng/merge-paymng-dtl1";
			szInDs        = "ds_input=ds_rgsnPayMngDtl1";
			if (gbn != "insert") {
				szInDs    += " ds_input2=ds_chgPayMngDtl1";
			}
			szOutDs       = "";
			szParam       = "";
			szRetCallback = "fn_callBack";
		break;
    }
    // 트랜젝션 공통함수 호출
    gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}



/********************************************************************************************/
/**   6. 사용자 함수                                                                   	*/
/********************************************************************************************/
//초기화
function fn_init(sGbn)
{
	edt_accnt_no.value = "";
	edt_mem_nm.value = "";
	
	cal_pay_day.value = "";
	cal_pay_day2.value = "";
	cal_pay_day3.value = "";
	cal_pay_calncel_day.value = gfn_getToday();
	cal_pay_calncel_day2.value = gfn_getToday();
	cal_pay_calncel_day3.value = gfn_getToday();
	cbo_pay_mthd.index = 0;
	cbo_pay_mthd2.index = 0;
	cbo_pay_mthd3.index = 0;
	cbo_pay_cancel.index = 0;
	cbo_pay_cancel2.index = 0;
	cbo_pay_cancel3.index = 0;
	
	edt_no_dtl.value = "";
	spn_mon_cnt_dtl.value = 1;
	edt_pay_amt.value = "";
	edt_pay_cancel_note.value = "";
	
	edt_no_dtl2.value = "";
	spn_mon_cnt_dtl2.value = 1;
	edt_pay_amt2.value = "";
	edt_pay_cancel_note2.value = "";
	
	edt_no_dtl3.value = "";
	spn_mon_cnt_dtl3.value = 1;
	edt_pay_amt3.value = "";
	edt_pay_cancel_note3.value = "";
	
	edt_prod_nm.value = "";
	edt_this_mon_no.value = "";
	edt_emple_nm.value = "";
	edt_pay_stat.value = "";
	edt_event_use_amt.value = "";
	edt_new_chan_gunsu.value = "";
	edt_new_chan_gunsu_amt.value = "";
	edt_gasu_amt_total.value = "";
	
	//그리드, 회원정보 초기화
	ds_accnt_info.clearData();
	ds_list.clearData();
	ds_pay_list.clearData();
	ds_payDtl_list.clearData();
	ds_payDtl1_list.clearData();
	ds_refund_list.clearData();
	ds_refundDtl_list.clearData();
	ds_refundDtl1_list.clearData();
	ds_prodDtl_list.clearData();
	ds_payTotal_list.clearData();
	
	btn_reg.enable = false;
	btn_reg2.enable = false;
	btn_reg3.enable = false;
	btn_upd.enable = false;
	btn_upd2.enable = false;
	btn_upd3.enable = false;
	
	ckb_payable.value = "N";
	
	fn_setCnpn("btn_reg_cancel");  // 초기화
	fn_setCnpn("btn_reg_cancel2"); // 초기화
	fn_setCnpn("btn_reg_cancel3"); // 초기화
	
	trace(":::::::::::::::::::::::::> sGbn  :" + sGbn);
	trace(":::::::::::::::::::::::::> GV_SYSTEMDIV  :" + GV_SYSTEMDIV);
	
	if (sGbn == "Y") {
		if (GV_SYSTEMDIV == 'DLCC') {
			for(var i=0;i<ap_WorkFrame.all.length; i++){
					trace(":::::::::::::::::::::::::> ap_WorkFrame.all[i].prgmCode : " + ap_WorkFrame.all[i].prgmCode);	
				if (ap_WorkFrame.all[i].prgmCode =='DL500001') {//if (ap_WorkFrame.all[i].prgmCode =='PS020001') {		
					sAccntNo = ap_WorkFrame.all[i].form.div_Work.div_product.edt_accnt_no.value;// 회원번호
					trace(":::::::::::::::::::::::::> sAccntNo" + sAccntNo);	
					if(!gfn_isNull(sAccntNo)) {
						edt_accnt_no.value = sAccntNo;
						fn_srchCustAcntByAccntNo();
					}
				}
			}
		}	
	}
}

function fn_setPayMngInfo(pDs, mode)
{
	var remain_cnt = "";
	var remain_amt = "";
	var last_no = "";
	var mon_pay_amt = "";
	
	var prod_nm = "";
	var this_mon_no = "";
	var emple_nm = "";
	var emple_nm_tooltip = "";
	var pay_stat = "";
	var event_use_amt = "";
	var new_chan_gunsu = "";
	var new_chan_gunsu_amt = "";
	var gasu_amt_total = "";
	
	if (pDs != null) {
		remain_cnt = gfn_transNullToNumber(pDs.getColumn(0, "remain_cnt"));
		remain_amt = gfn_transNullToNumber(pDs.getColumn(0, "remain_amt"));
		last_no = gfn_transNullToNumber(pDs.getColumn(0, "last_no"));
		mon_pay_amt = gfn_commaStr(gfn_transNullToNumber(pDs.getColumn(0, "mon_pay_amt")));
		prod_nm = pDs.getColumn(0, "prod_nm");
		this_mon_no = pDs.getColumn(0, "this_mon_no");
		emple_nm = pDs.getColumn(0, "emple_nm");
		emple_nm_tooltip = ""+pDs.getColumn(0, "emple_no")+"/"+pDs.getColumn(0, "dept_nm");
		pay_stat = pDs.getColumn(0, "stat");
		event_use_amt = gfn_commaStr(gfn_transNullToNumber(pDs.getColumn(0, "pay_amt")));
		new_chan_gunsu = gfn_transNullToNumber(pDs.getColumn(0, "new_chan_gunsu"))
		new_chan_gunsu_amt = gfn_commaStr(gfn_transNullToNumber(pDs.getColumn(0, "new_chan_gunsu_amt")));
		gasu_amt_total = gfn_commaStr(gfn_transNullToNumber(pDs.getColumn(0, "gasu_amt_total")));   
	} else {
		remain_cnt = "0";
		remain_amt = "0";
		last_no = "0";
		mon_pay_amt = "0";
		prod_nm = "";
		this_mon_no = "";
		emple_nm = "";
		emple_nm_tooltip = "";
		pay_stat = "";
		event_use_amt = "0";
		new_chan_gunsu = "0";
		new_chan_gunsu_amt = "0";
		gasu_amt_total = "0";
	}
	
	edt_remain_cnt.value = remain_cnt;
	edt_remain_amt.value = remain_amt;
	
	edt_prod_nm.value = prod_nm;
	edt_this_mon_no.value = this_mon_no;
	edt_emple_nm.value = emple_nm;
	edt_pay_stat.value = pay_stat;
	edt_event_use_amt.value = event_use_amt;
	edt_new_chan_gunsu.value = new_chan_gunsu;
	edt_new_chan_gunsu_amt.value = new_chan_gunsu_amt;
	edt_gasu_amt_total.value = gasu_amt_total;
	
	if (!gfn_isNull(emple_nm_tooltip)) {
		edt_emple_nm.tooltiptext = emple_nm_tooltip;
	}
	
	if (mode == "insert") {
		edt_no_dtl.value = last_no;
		edt_pay_amt.value = mon_pay_amt;
		spn_mon_cnt_dtl.enable = true;
		spn_mon_cnt_dtl.max = remain_cnt;
	}
	
	if (spn_mon_cnt_dtl.max == 0) {
		spn_mon_cnt_dtl.min = 0;
		spn_mon_cnt_dtl.value = 0;
	} else {
		spn_mon_cnt_dtl.min = 1;
	}
}   
function fn_setPayMngDtlInfo(pDs, mode)
{
	var remain_cnt = "";
	var last_no = "";
	var mon_pay_amt = "";
	trace('pDs='+pDs);
	
	if (pDs != null) {
		remain_cnt = gfn_transNullToNumber(pDs.getColumn(0, "remain_cnt"));
		last_no = gfn_transNullToNumber(pDs.getColumn(0, "last_no"));
		mon_pay_amt = gfn_commaStr(gfn_commaStr(gfn_transNullToNumber(pDs.getColumn(0, "mon_pay_amt"))));
	} else {
		remain_cnt = 0;
		last_no = 0;
		mon_pay_amt = 0;
	}
	
	edt_remain_cnt2.value = remain_cnt;
	
	if (mode == "insert") {
		edt_no_dtl2.value = last_no;
		spn_mon_cnt_dtl2.enable = true;
		spn_mon_cnt_dtl2.value = 1;
		edt_pay_amt2.value = mon_pay_amt;
		spn_mon_cnt_dtl2.max = remain_cnt;
	} else {
		edt_no_dtl2.value = last_no;
		spn_mon_cnt_dtl2.value = 1;
		edt_pay_amt2.value = mon_pay_amt;
	}
	
	if (spn_mon_cnt_dtl2.max == 0) {
		spn_mon_cnt_dtl2.min = 0;
		spn_mon_cnt_dtl2.value = 0;
	} else {
		spn_mon_cnt_dtl2.min = 1;
	}
}
function fn_setPayMngDtl1Info(pDs, mode)
{
	var remain_cnt = "";
	var last_no = "";
	var mon_pay_amt = "";
	
	if (pDs != null) {
		remain_cnt = gfn_transNullToNumber(pDs.getColumn(0, "remain_cnt"));
		last_no = gfn_transNullToNumber(pDs.getColumn(0, "last_no"));
		mon_pay_amt = gfn_commaStr(gfn_transNullToNumber(pDs.getColumn(0, "mon_pay_amt")));
	} else {
		remain_cnt = 0;
		last_no = 0;
		mon_pay_amt = 0;
	}
	
	edt_remain_cnt3.value = remain_cnt;
	
	if (mode == "insert") {
		edt_no_dtl3.value = last_no;
		spn_mon_cnt_dtl3.enable = true;
		spn_mon_cnt_dtl3.value = 1;
		edt_pay_amt3.value = mon_pay_amt;
		spn_mon_cnt_dtl3.max = remain_cnt;
	} else {
		edt_no_dtl3.value = last_no;
		spn_mon_cnt_dtl3.value = 1;
		edt_pay_amt3.value = mon_pay_amt;
	}
	
	if (spn_mon_cnt_dtl3.max == 0) {
		spn_mon_cnt_dtl3.min = 0;
		spn_mon_cnt_dtl3.value = 0;
	} else {
		spn_mon_cnt_dtl3.min = 1;
	}
}

/********************************************************************************************/
/**   7. 이벤트(Event) Function                                                          	*/
/********************************************************************************************/
// 초기화 버튼 이벤트
function btn_Init_onclick(obj:Button,  e:ClickEventInfo)
{
	fn_init();
}

// 그리드 헤더 클릭
function grd_onheadclick(obj:Grid, e:GridClickEventInfo)
{ 
	gfn_grdHeadClick(obj, e);
}

// 입금등록
function btn_reg_onclick(obj:Button,  e:ClickEventInfo)
{
	fn_setCnpn(obj.name); //컴포넌트 제어
	fn_setVal(obj.name);
}

// 입금수정
function btn_upd_onclick(obj:Button,  e:ClickEventInfo)
{
	fn_setCnpn(obj.name);
}

// 취소
function btn_cancel_onclick(obj:Button,  e:ClickEventInfo)
{
	fn_setCnpn(obj.name);
	if (obj.name == "btn_reg_cancel" || obj.name == "btn_upd_cancel") {
		grd_list_oncellclick(grd_list);
	}
	if (obj.name == "btn_reg_cancel2" || obj.name == "btn_upd_cancel2") {
		grd_list_oncellclick(grd_list2);
	}
	if (obj.name == "btn_reg_cancel3" || obj.name == "btn_upd_cancel3") {
		grd_list_oncellclick(grd_list3);
	}
}

// 저장
function btn_save_onclick(obj:Button,  e:ClickEventInfo)
{
	if (obj.name == "btn_reg_save") {
		fn_commSave("mergePayMng", "insert");
	} else if (obj.name == "btn_upd_save"){
		fn_commSave("mergePayMng", "update");
	}
	
	if (obj.name == "btn_reg_save2") {
		fn_commSave("mergePayMngDtl", "insert");
	} else if (obj.name == "btn_upd_save2"){
		fn_commSave("mergePayMngDtl", "update");
	}
	
	if (obj.name == "btn_reg_save3") {
		fn_commSave("mergePayMngDtl1", "insert");
	} else if (obj.name == "btn_upd_save3"){
		fn_commSave("mergePayMngDtl1", "update");
	}
}

// 삭제
function btn_del_onclick(obj:Button,  e:ClickEventInfo)
{
	if(confirm("삭제하시겠습니까?")) {
		if (obj.name == "btn_upd_del") {
			if (ksmacUse) {
				if (ds_pay_list.rowposition > -1) {
				
					fn_commSave("mergePayMng", "delete");
				
				    /*
					var gcnt = edt_gcnt.value;
					if (gcnt == "1" || gcnt >= 1 || gcnt > "1"){
						alert("상조보증공제조합에 신고중인 데이터입니다. 결과 반영 및 취소처리 후 삭제 가능합니다.");
						return false;						
					} else {
						fn_commSave("mergePayMng", "delete");
					}	
					*/
								
				} else {
					alert("선택된 전표가 없습니다.");
					return false;
				}
			} else {
				fn_commSave("mergePayMng", "delete");
			}	
		}
		
		if (obj.name == "btn_upd_del2") {
			if (ksmacUse) {
				if (ds_payDtl_list.rowposition > -1) {
					fn_commSave("mergePayMngDtl", "delete");
				} else {
					alert("선택된 전표가 없습니다.");
					return false;
				}
			} else {
				fn_commSave("mergePayMngDtl", "delete");
			}	
		}
		
		if (obj.name == "btn_upd_del3") {
			if (ksmacUse) {
				if (ds_payDtl1_list.rowposition > -1) {
					fn_commSave("mergePayMngDtl1", "delete");
				} else {
					alert("선택된 전표가 없습니다.");
					return false;
				}
			} else {
				fn_commSave("mergePayMngDtl1", "delete");
			}	
		}
	}
}

//컴퍼넌트 제어
function fn_setCnpn(btnNm) {
	//입금전표 정보
	if(btnNm == "btn_reg") {
		btn_reg.visible = false;
		btn_upd.visible = false;
		
		btn_reg_save.visible = true;
		btn_reg_cancel.visible = true;
		btn_reg_save.move(btn_reg.position.left, btn_reg.position.top);
		btn_reg_cancel.move(btn_upd.position.left, btn_upd.position.top);
		
		cal_pay_day.enable = true;
		cbo_pay_mthd.enable = true;
		edt_no_dtl.enable = false;
		spn_mon_cnt_dtl.enable = true;
		edt_pay_amt.enable = false;
		cal_pay_calncel_day.enable = false;
		cbo_pay_cancel.enable = false;
		edt_pay_cancel_note.enable = false;
	}
	if (btnNm == "btn_upd") {
		btn_reg.visible = false;
		btn_upd.visible = false;
		
		btn_upd_cancel.visible = true;
		btn_upd_del.visible = true;
		btn_upd_save.visible = true;
		btn_upd_save.move(btn_reg.position.left-75, btn_reg.position.top);
		btn_upd_del.move(btn_reg.position.left, btn_reg.position.top);
		btn_upd_cancel.move(btn_upd.position.left, btn_upd.position.top);
		
		cal_pay_day.enable = true;
		cbo_pay_mthd.enable = true;
		edt_no_dtl.enable = false;
		spn_mon_cnt_dtl.enable = false;
		edt_pay_amt.enable = false;
		cal_pay_calncel_day.enable = true;
		cbo_pay_cancel.enable = true;
		edt_pay_cancel_note.enable = true;
	}
	if (btnNm == "btn_reg_cancel" || btnNm == "btn_upd_cancel") {
		btn_reg.visible = true;
		btn_upd.visible = true;
		
		btn_reg_save.visible = false;
		btn_reg_cancel.visible = false;
		btn_upd_save.visible = false;
		btn_upd_del.visible = false;
		btn_upd_cancel.visible = false;
		
		cal_pay_day.enable = false;
		cbo_pay_mthd.enable = false;
		edt_no_dtl.enable = false;
		spn_mon_cnt_dtl.enable = false;
		edt_pay_amt.enable = false;
		cal_pay_calncel_day.enable = false;
		cbo_pay_cancel.enable = false;
		edt_pay_cancel_note.enable = false;
	}
	
	//할부원금 입금정보
	if(btnNm == "btn_reg2") {
		btn_reg2.visible = false;
		btn_upd2.visible = false;
		
		btn_reg_save2.visible = true;
		btn_reg_cancel2.visible = true;
		btn_reg_save2.move(btn_reg2.position.left, btn_reg2.position.top);
		btn_reg_cancel2.move(btn_upd2.position.left, btn_upd2.position.top);
		
		cal_pay_day2.enable = true;
		cbo_pay_mthd2.enable = true;
		edt_no_dtl2.enable = false;
		spn_mon_cnt_dtl2.enable = true;
		edt_pay_amt2.enable = false;
		cal_pay_calncel_day2.enable = false;
		cbo_pay_cancel2.enable = false;
		edt_pay_cancel_note2.enable = false;
	}
	if (btnNm == "btn_upd2") {
		btn_reg2.visible = false;
		btn_upd2.visible = false;
		
		btn_upd_cancel2.visible = true;
		btn_upd_del2.visible = true;
		btn_upd_save2.visible = true;
		btn_upd_save2.move(btn_reg2.position.left-75, btn_reg2.position.top);
		btn_upd_del2.move(btn_reg2.position.left, btn_reg2.position.top);
		btn_upd_cancel2.move(btn_upd2.position.left, btn_upd2.position.top);
		
		cal_pay_day2.enable = true;
		cbo_pay_mthd2.enable = true;
		edt_no_dtl2.enable = false;
		spn_mon_cnt_dtl2.enable = false;
		edt_pay_amt2.enable = false;
		cal_pay_calncel_day2.enable = true;
		cbo_pay_cancel2.enable = true;
		edt_pay_cancel_note2.enable = true;
	}
	if (btnNm == "btn_reg_cancel2" || btnNm == "btn_upd_cancel2") { //할부원금 입금정보 취소버튼
		btn_reg2.visible = true;
		btn_upd2.visible = true;
		
		btn_reg_save2.visible = false;
		btn_reg_cancel2.visible = false;
		btn_upd_save2.visible = false;
		btn_upd_del2.visible = false;
		btn_upd_cancel2.visible = false;
		
		cal_pay_day2.enable = false;
		cbo_pay_mthd2.enable = false;
		edt_no_dtl2.enable = false;
		spn_mon_cnt_dtl2.enable = false;
		edt_pay_amt2.enable = false;
		cal_pay_calncel_day2.enable = false;
		cbo_pay_cancel2.enable = false;
		edt_pay_cancel_note2.enable = false;
	}
	
	//추가부담금 입금정보
	if(btnNm == "btn_reg3") {
		btn_reg3.visible = false;
		btn_upd3.visible = false;
		
		btn_reg_save3.visible = true;
		btn_reg_cancel3.visible = true;
		btn_reg_save3.move(btn_reg3.position.left, btn_reg3.position.top);
		btn_reg_cancel3.move(btn_upd3.position.left, btn_upd3.position.top);
		
		cal_pay_day3.enable = true;
		cbo_pay_mthd3.enable = true;
		edt_no_dtl3.enable = false;
		spn_mon_cnt_dtl3.enable = true;
		edt_pay_amt3.enable = false;
		cal_pay_calncel_day3.enable = false;
		cbo_pay_cancel3.enable = false;
		edt_pay_cancel_note3.enable = false;
	}
	if (btnNm == "btn_upd3") {
		btn_reg3.visible = false;
		btn_upd3.visible = false;
		
		btn_upd_cancel3.visible = true;
		btn_upd_del3.visible = true;
		btn_upd_save3.visible = true;
		btn_upd_save3.move(btn_reg3.position.left-75, btn_reg3.position.top);
		btn_upd_del3.move(btn_reg3.position.left, btn_reg3.position.top);
		btn_upd_cancel3.move(btn_upd3.position.left, btn_upd3.position.top);
		
		cal_pay_day3.enable = true;
		cbo_pay_mthd3.enable = true;
		edt_no_dtl3.enable = false;
		spn_mon_cnt_dtl3.enable = false;
		edt_pay_amt3.enable = false;
		cal_pay_calncel_day3.enable = true;
		cbo_pay_cancel3.enable = true;
		edt_pay_cancel_note3.enable = true;
	}
	if (btnNm == "btn_reg_cancel3" || btnNm == "btn_upd_cancel3") {
		btn_reg3.visible = true;
		btn_upd3.visible = true;
		
		btn_reg_save3.visible = false;
		btn_reg_cancel3.visible = false;
		btn_upd_save3.visible = false;
		btn_upd_del3.visible = false;
		btn_upd_cancel3.visible = false;
		
		cal_pay_day3.enable = false;
		cbo_pay_mthd3.enable = false;
		edt_no_dtl3.enable = false;
		spn_mon_cnt_dtl3.enable = false;
		edt_pay_amt3.enable = false;
		cal_pay_calncel_day3.enable = false;
		cbo_pay_cancel3.enable = false;
		edt_pay_cancel_note3.enable = false;
	}
}

//값 설정
function fn_setVal(btnNm)
{
	if (btnNm == "btn_reg") {
		cal_pay_day.value  = gfn_getToday();
		cbo_pay_mthd.index = 1;
		
	
		if (ds_list.rowcount > 0) {
		
			fn_setPayMngInfo(ds_list, "insert");
		}
	}
	if (btnNm == "btn_reg2") {
		cal_pay_day2.value = gfn_getToday();
		cbo_pay_mthd2.index = 1;
		if (ds_dtl_list.rowcount > 0) {
			fn_setPayMngDtlInfo(ds_dtl_list, "insert");
		}
	}
	if (btnNm == "btn_reg3") {
		cal_pay_day3.value = gfn_getToday();
		cbo_pay_mthd3.index = 1;
		if (ds_dtl1_list.rowcount > 0) {
			fn_setPayMngDtl1Info(ds_dtl1_list, "insert");
		}
	}
}

//그리드 클릭시
function grd_list_oncellclick(obj:Grid, e:GridClickEventInfo)
{
	if (obj.name == "grd_list") {
		fn_setCnpn("btn_reg_cancel");
		cal_pay_day.value = ds_pay_list.getColumn(ds_pay_list.rowposition, "pay_day");
		cbo_pay_mthd.value = ds_pay_list.getColumn(ds_pay_list.rowposition, "pay_mthd");
		edt_no_dtl.value = ds_pay_list.getColumn(ds_pay_list.rowposition, "no");
		edt_pay_amt.value = gfn_commaStr(ds_pay_list.getColumn(ds_pay_list.rowposition, "pay_amt"));
		cbo_pay_cancel.index = 0;
		edt_pay_cancel_note.value = "";
	} else if (obj.name == "grd_list2") {
		fn_setCnpn("btn_reg_cancel2");
		cal_pay_day2.value = ds_payDtl_list.getColumn(ds_payDtl_list.rowposition, "pay_day");
		cbo_pay_mthd2.value = ds_payDtl_list.getColumn(ds_payDtl_list.rowposition, "pay_mthd");
		edt_no_dtl2.value = gfn_transNullToNumber(ds_payDtl_list.getColumn(ds_payDtl_list.rowposition, "no"));
		edt_pay_amt2.value = gfn_commaStr(ds_payDtl_list.getColumn(ds_payDtl_list.rowposition, "pay_amt"));
		cbo_pay_cancel2.index = 0;
		edt_pay_cancel_note2.value = "";
	} else if (obj.name == "grd_list3") {
		fn_setCnpn("btn_reg_cancel3");
		cal_pay_day3.value = ds_payDtl1_list.getColumn(ds_payDtl1_list.rowposition, "pay_day");
		cbo_pay_mthd3.value = ds_payDtl1_list.getColumn(ds_payDtl1_list.rowposition, "pay_mthd");
		edt_no_dtl3.value = gfn_transNullToNumber(ds_payDtl1_list.getColumn(ds_payDtl1_list.rowposition, "no"));
		edt_pay_amt3.value = gfn_commaStr(ds_payDtl1_list.getColumn(ds_payDtl1_list.rowposition, "pay_amt"));
		cbo_pay_cancel3.index = 0;
		edt_pay_cancel_note3.value = "";
	}
}

//납입건수 변경시
function spn_onkeydown(obj:Spin, e:KeyEventInfo)
{	
	if (e.keycode == 13) {
		if (obj.max < obj.value) {
			obj.value = obj.min;
		} else {
			obj.value = obj.value;
			if( obj.name == "spn_mon_cnt_dtl") {
				fn_commSearch(gfn_getCommTypeInit(), "srchPayAmtByPayCnt");
			} else if( obj.name == "spn_mon_cnt_dtl2") {
				fn_commSearch(gfn_getCommTypeInit(), "srchPayAmtDtlByPayCnt");
			} else if( obj.name == "spn_mon_cnt_dtl3") {
				fn_commSearch(gfn_getCommTypeInit(), "srchPayAmtDtl1ByPayCnt");
			}
		}
	}
}
function spn_onspin(obj:Spin, e:SpinEventInfo)
{
	if (obj.max < e.postvalue) {
		obj.value = obj.min;
	} else {
		obj.value = e.postvalue;
		if( obj.name == "spn_mon_cnt_dtl") {
			fn_commSearch(gfn_getCommTypeInit(), "srchPayAmtByPayCnt");
		} else if( obj.name == "spn_mon_cnt_dtl2") {
			fn_commSearch(gfn_getCommTypeInit(), "srchPayAmtDtlByPayCnt");
		} else if( obj.name == "spn_mon_cnt_dtl3") {
			fn_commSearch(gfn_getCommTypeInit(), "srchPayAmtDtl1ByPayCnt");
		}
	}
}

/********************************************************************************************/
/**   8. 팝업 관련 이벤트(Event) Function                                                          	*/
/********************************************************************************************/
// 회원 조회 버튼 클릭
function btn_accnt_onclick (obj, typ) {
	var srch_typ = "";
	var option = "";
	var gubun_mode = "";
	var srch_vl = "";
	if (obj != null) {
		if ("btn_mem_nm" == obj.name || "edt_mem_nm" == obj.name) { // 회원명
			srch_typ = "mem_nm";
		} else if ("btn_accnt_no" == obj.name || "edt_accnt_no" == obj.name){ // 회원번호
			srch_typ = "accnt_no";
		} 
	}
	
	if (typ == "Y") {
		srch_typ = ds_accntInqCndt.getColumn(0,"srch_typ");
		srch_vl = ds_accntInqCndt.getColumn(0,"srch_vl");
	}

	var sPrmr = {p_srch_typ:srch_typ, p_srch_vl:srch_vl, p_gubun_mode:gubun_mode, p_option:option};
	gfn_diaLog("회원 조회", -1, -1, 884, 601, "PS990000::PS992400.xfdl", false, sPrmr, true, false, true, null, null, true);
}
function fn_setAccntNo(){
	if(ds_accnt_info.getColumn(0, "accnt_no") != ""){
		var accnt_no = ds_accnt_info.getColumn(0, "accnt_no");
		var mem_nm = ds_accnt_info.getColumn(0, "mem_nm");
		var accnt_stat = ds_accnt_info.getColumn(0, "accnt_stat");

		edt_accnt_no.value = accnt_no;
		edt_mem_nm.value = mem_nm;
			
		if ("Y" == accnt_stat) {		
		}
		if ("R" == accnt_stat) { // 해약
			alert("해약회원입니다.");
			//return;
		}
		if ("C" == accnt_stat) { // 청약철회
			alert("해약회원입니다.");
		}
				
		if ("E" == accnt_stat) {
			alert("행사회원입니다.");
		}
		if ("T" == accnt_stat) {
			alert("세무처리회원입니다.");
			//return;
		}
		
		if (sUserAthrCd !=  "TM40")	 // 2018.03.20 권한 체크(TM40 MG새마을금고)  TM40 일 경우  등록, 수정 버튼 비활성...	
		{
			btn_reg.enable = true;
			btn_reg2.enable = true;
			btn_reg3.enable = true;	
		}	
		fn_commSearch(gfn_getCommTypeInit(), "srchPayMngInfo"); // 조회
		fn_getWdrwReqAccntConfirm();
	}
}
function edt_accnt_onkeydown(obj:Edit, e:KeyEventInfo)
{
	if (e.keycode == "13") {
		if (obj.value == "") {
			btn_accnt_onclick(obj);
		} else {
			var srch_typ = "";
			if (obj.name == "edt_accnt_no") {
				srch_typ = "accnt_no";
			} else if (obj.name == "edt_mem_nm"){
				srch_typ = "mem_nm"
			}
			fn_commSearch(gfn_getCommTypeInit(), "selectCustaccntList", srch_typ); // 조회
		}
	}
}
function fn_srchCustAcntByAccntNo() {
	var srch_typ = "";
	srch_typ = "accnt_no";
	fn_commSearch(gfn_getCommTypeInit(), "selectCustaccntList", srch_typ); // 조회
}



/*****************************************************************************************************************/
/*****************************************************************************************************************/
/*****************************************************************************************************************/
function btn_gasu_onclick(obj:Button,  e:ClickEventInfo)
{	
	var accnt_no = "";
	if (ds_accnt_info.rowcount > 0) {
		accnt_no = ds_accnt_info.getColumn(0, "accnt_no");
	} else {
		alert("회원조회 후 조회 가능합니다.");
		return false;
	}
	var sPrmr = {p_accnt_no:accnt_no};
	gfn_diaLog("가수금 조회", -1, -1, 884, 601, "DL420000::DL421002.xfdl", false, sPrmr, true, false, true, null, null, true);
}

/*************************************************************************************************************************************************
 * 현재 금액 청구중인 회원인지 아닌지 여부 확인 20181023 송준빈
 *************************************************************************************************************************************************/
function fn_getWdrwReqAccntConfirm()
{
	var sAccntNo = edt_accnt_no.value;
	
	var szSvcid       = "getWdrwReqAccntConfirm";
	var szController  = "/dlw/newTypePayMng/getWdrwReqAccntConfirm";
	var szInDs        = "";
	var szOutDs       = "";
	var szParam       = "accnt_no=" + sAccntNo;
	var szRetCallback = "fn_callBack";
			
	// 트랜젝션 공통함수 호출
	gfn_transaction(this, szSvcid, szController, szInDs, szOutDs, szParam, szRetCallback);
}
function btn_pay_onclick(obj:Button,  e:ClickEventInfo)
{
	var sAccntNo = edt_accnt_no.value;
	
	if (gfn_isNull(sAccntNo))
	{
		alert("회원번호가 없습니다.");
		return;
	}	
	var oParams = { p_accnt_no : sAccntNo};
// 	var reVal = gfn_diaLog("파일조회", -1, -1, -1, -1, "DL500000::DL50000103P01.xfdl", false, oParams, false, false, true);
	var reVal = gfn_diaLog("파일조회", -1, -1, -1, -1, "DL420000::DL420401P01.xfdl", false, oParams, false, false, true);
}
]]></Script>
  </Form>
</FDL>
