<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.4">
  <TypeDefinition url="..\default_typedef.xml"/>
  <Form id="test_getSum" classname="test_getSum" inheritanceid="" position="absolute 0 0 1024 768" titletext="New Form" onload="test_getSum_onload">
    <Layouts>
      <Layout>
        <Grid id="Grid00" taborder="0" useinputpanel="false" position="absolute 30 34 901 400" binddataset="ds_cmmsWorkInfo" formats="&lt;Formats&gt;&#10;  &lt;Format id=&quot;default&quot;&gt;&#10;    &lt;Columns&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;    &lt;/Columns&gt;&#10;    &lt;Rows&gt;&#10;      &lt;Row band=&quot;head&quot; size=&quot;24&quot;/&gt;&#10;      &lt;Row band=&quot;body&quot; size=&quot;24&quot;/&gt;&#10;    &lt;/Rows&gt;&#10;    &lt;Band id=&quot;head&quot;&gt;&#10;      &lt;Cell col=&quot;0&quot; disptype=&quot;normal&quot; text=&quot;workNm&quot;/&gt;&#10;      &lt;Cell col=&quot;1&quot; disptype=&quot;normal&quot; text=&quot;itemChrc&quot;/&gt;&#10;      &lt;Cell col=&quot;2&quot; disptype=&quot;normal&quot; text=&quot;incmCrtnAmt&quot;/&gt;&#10;      &lt;Cell col=&quot;3&quot; disptype=&quot;normal&quot; text=&quot;adjtAmt&quot;/&gt;&#10;      &lt;Cell col=&quot;4&quot; disptype=&quot;normal&quot; text=&quot;sumAmt&quot;/&gt;&#10;      &lt;Cell col=&quot;5&quot; disptype=&quot;normal&quot; text=&quot;trgtAmt&quot;/&gt;&#10;      &lt;Cell col=&quot;6&quot; disptype=&quot;normal&quot; text=&quot;dctnAmt&quot;/&gt;&#10;      &lt;Cell col=&quot;7&quot; disptype=&quot;normal&quot; text=&quot;cnsvAmt&quot;/&gt;&#10;      &lt;Cell col=&quot;8&quot; disptype=&quot;normal&quot; text=&quot;notDctnAmt&quot;/&gt;&#10;      &lt;Cell col=&quot;9&quot; disptype=&quot;normal&quot; text=&quot;lastCrtnDttm&quot;/&gt;&#10;      &lt;Cell col=&quot;10&quot; disptype=&quot;normal&quot; text=&quot;cretNm&quot;/&gt;&#10;      &lt;Cell col=&quot;11&quot; disptype=&quot;normal&quot; text=&quot;cmmsClctItemCd&quot;/&gt;&#10;      &lt;Cell col=&quot;12&quot; disptype=&quot;normal&quot; text=&quot;workSqncVl&quot;/&gt;&#10;      &lt;Cell col=&quot;13&quot; disptype=&quot;normal&quot; text=&quot;_chk&quot;/&gt;&#10;      &lt;Cell col=&quot;14&quot; disptype=&quot;normal&quot; text=&quot;xRowStatusType&quot;/&gt;&#10;    &lt;/Band&gt;&#10;    &lt;Band id=&quot;body&quot;&gt;&#10;      &lt;Cell col=&quot;0&quot; disptype=&quot;normal&quot; text=&quot;bind:workNm&quot;/&gt;&#10;      &lt;Cell col=&quot;1&quot; disptype=&quot;normal&quot; text=&quot;bind:itemChrc&quot;/&gt;&#10;      &lt;Cell col=&quot;2&quot; disptype=&quot;normal&quot; text=&quot;bind:incmCrtnAmt&quot;/&gt;&#10;      &lt;Cell col=&quot;3&quot; disptype=&quot;normal&quot; text=&quot;bind:adjtAmt&quot;/&gt;&#10;      &lt;Cell col=&quot;4&quot; disptype=&quot;normal&quot; text=&quot;bind:sumAmt&quot;/&gt;&#10;      &lt;Cell col=&quot;5&quot; disptype=&quot;normal&quot; text=&quot;bind:trgtAmt&quot;/&gt;&#10;      &lt;Cell col=&quot;6&quot; disptype=&quot;normal&quot; text=&quot;bind:dctnAmt&quot;/&gt;&#10;      &lt;Cell col=&quot;7&quot; disptype=&quot;normal&quot; text=&quot;bind:cnsvAmt&quot;/&gt;&#10;      &lt;Cell col=&quot;8&quot; disptype=&quot;normal&quot; text=&quot;bind:notDctnAmt&quot;/&gt;&#10;      &lt;Cell col=&quot;9&quot; disptype=&quot;normal&quot; text=&quot;bind:lastCrtnDttm&quot;/&gt;&#10;      &lt;Cell col=&quot;10&quot; disptype=&quot;normal&quot; text=&quot;bind:cretNm&quot;/&gt;&#10;      &lt;Cell col=&quot;11&quot; disptype=&quot;normal&quot; text=&quot;bind:cmmsClctItemCd&quot;/&gt;&#10;      &lt;Cell col=&quot;12&quot; disptype=&quot;normal&quot; text=&quot;bind:workSqncVl&quot;/&gt;&#10;      &lt;Cell col=&quot;13&quot; disptype=&quot;normal&quot; text=&quot;bind:_chk&quot;/&gt;&#10;      &lt;Cell col=&quot;14&quot; disptype=&quot;normal&quot; text=&quot;bind:xRowStatusType&quot;/&gt;&#10;    &lt;/Band&gt;&#10;  &lt;/Format&gt;&#10;&lt;/Formats&gt;&#10;">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="246"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
                <Row size="24" band="summ"/>
              </Rows>
              <Band id="head">
                <Cell text="workNm"/>
                <Cell col="1" text="itemChrc"/>
                <Cell col="2" text="incmCrtnAmt"/>
                <Cell col="3" text="adjtAmt"/>
                <Cell col="4" text="sumAmt"/>
                <Cell col="5" text="trgtAmt"/>
                <Cell col="6" text="dctnAmt"/>
                <Cell col="7" text="cnsvAmt"/>
                <Cell col="8" text="notDctnAmt"/>
                <Cell col="9" text="lastCrtnDttm"/>
                <Cell col="10" text="cretNm"/>
                <Cell col="11" text="cmmsClctItemCd"/>
                <Cell col="12" text="workSqncVl"/>
                <Cell col="13" text="_chk"/>
                <Cell col="14" text="xRowStatusType"/>
              </Band>
              <Band id="body">
                <Cell text="bind:workNm"/>
                <Cell col="1" text="bind:itemChrc"/>
                <Cell col="2" text="bind:incmCrtnAmt"/>
                <Cell col="3" text="bind:adjtAmt"/>
                <Cell col="4" text="bind:sumAmt"/>
                <Cell col="5" text="bind:trgtAmt"/>
                <Cell col="6" text="bind:dctnAmt"/>
                <Cell col="7" text="bind:cnsvAmt"/>
                <Cell col="8" text="bind:notDctnAmt"/>
                <Cell col="9" text="bind:lastCrtnDttm"/>
                <Cell col="10" text="bind:cretNm"/>
                <Cell col="11" text="bind:cmmsClctItemCd"/>
                <Cell col="12" text="bind:workSqncVl"/>
                <Cell col="13" text="bind:_chk"/>
                <Cell col="14" text="bind:xRowStatusType"/>
              </Band>
              <Band id="summary">
                <Cell/>
                <Cell col="1"/>
                <Cell col="2" text="expr:getSum(&quot;gfn_transNullToNumber(incmCrtnAmt)&quot;)"/>
                <Cell col="3"/>
                <Cell col="4"/>
                <Cell col="5"/>
                <Cell col="6"/>
                <Cell col="7"/>
                <Cell col="8"/>
                <Cell col="9"/>
                <Cell col="10"/>
                <Cell col="11"/>
                <Cell col="12"/>
                <Cell col="13"/>
                <Cell col="14"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_cmmsWorkInfo" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="workNm" type="STRING" size="255"/>
          <Column id="itemChrc" type="STRING" size="255"/>
          <Column id="incmCrtnAmt" type="STRING" size="255"/>
          <Column id="adjtAmt" type="STRING" size="255"/>
          <Column id="sumAmt" type="STRING" size="255"/>
          <Column id="trgtAmt" type="STRING" size="255"/>
          <Column id="dctnAmt" type="STRING" size="255"/>
          <Column id="cnsvAmt" type="STRING" size="255"/>
          <Column id="notDctnAmt" type="STRING" size="255"/>
          <Column id="lastCrtnDttm" type="STRING" size="255"/>
          <Column id="cretNm" type="STRING" size="255"/>
          <Column id="cmmsClctItemCd" type="STRING" size="255"/>
          <Column id="workSqncVl" type="STRING" size="255"/>
          <Column id="_chk" type="STRING" size="256"/>
          <Column id="xRowStatusType" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="workNm">빨간펜선생님 재지급수당</Col>
            <Col id="itemChrc">수수료</Col>
            <Col id="cmmsClctItemCd">EA006</Col>
            <Col id="workSqncVl">0</Col>
          </Row>
          <Row>
            <Col id="workNm">빨간펜선생님 비례수당</Col>
            <Col id="itemChrc">수수료</Col>
            <Col id="incmCrtnAmt">1506725480</Col>
            <Col id="adjtAmt">-19900</Col>
            <Col id="sumAmt">1506705580</Col>
            <Col id="lastCrtnDttm">2013-04-11 09:47:28</Col>
            <Col id="cmmsClctItemCd">EA001</Col>
            <Col id="workSqncVl">1</Col>
          </Row>
          <Row>
            <Col id="workNm">빨간펜선생님 판매미팅수당</Col>
            <Col id="itemChrc">수수료</Col>
            <Col id="incmCrtnAmt">708179570</Col>
            <Col id="adjtAmt">10000</Col>
            <Col id="sumAmt">708189570</Col>
            <Col id="lastCrtnDttm">2013-04-11 09:47:29</Col>
            <Col id="cmmsClctItemCd">EA002</Col>
            <Col id="workSqncVl">2</Col>
          </Row>
          <Row>
            <Col id="workNm">빨간펜선생님 생산장려수당</Col>
            <Col id="itemChrc">수수료</Col>
            <Col id="incmCrtnAmt">1834555870</Col>
            <Col id="adjtAmt">0</Col>
            <Col id="sumAmt">1834555870</Col>
            <Col id="lastCrtnDttm">2013-04-11 09:47:30</Col>
            <Col id="cmmsClctItemCd">EA003</Col>
            <Col id="workSqncVl">3</Col>
          </Row>
          <Row>
            <Col id="workNm">빨간펜선생님 마이패드수당</Col>
            <Col id="itemChrc">수수료</Col>
            <Col id="cmmsClctItemCd">EA004</Col>
            <Col id="workSqncVl">4</Col>
          </Row>
          <Row>
            <Col id="workNm">빨간펜선생님 일시불수당</Col>
            <Col id="itemChrc">수수료</Col>
            <Col id="cmmsClctItemCd">EA005</Col>
            <Col id="workSqncVl">5</Col>
          </Row>
          <Row>
            <Col id="workNm">빨간펜선생님 SP정착지원</Col>
            <Col id="itemChrc">수수료</Col>
            <Col id="cmmsClctItemCd">EA007</Col>
            <Col id="workSqncVl">6</Col>
          </Row>
          <Row>
            <Col id="workNm">지구장 재지급수당</Col>
            <Col id="itemChrc">수수료</Col>
            <Col id="cmmsClctItemCd">EB006</Col>
            <Col id="workSqncVl">0</Col>
          </Row>
          <Row>
            <Col id="workNm">지구장 비례수당</Col>
            <Col id="itemChrc">수수료</Col>
            <Col id="incmCrtnAmt">2012685650</Col>
            <Col id="adjtAmt">110000</Col>
            <Col id="sumAmt">2012795650</Col>
            <Col id="lastCrtnDttm">2013-04-08 17:14:25</Col>
            <Col id="cmmsClctItemCd">EB001</Col>
            <Col id="workSqncVl">1</Col>
          </Row>
          <Row>
            <Col id="workNm">지구장 비례수당</Col>
            <Col id="itemChrc">수수료</Col>
            <Col id="incmCrtnAmt">1255700140</Col>
            <Col id="adjtAmt">20320</Col>
            <Col id="sumAmt">1255720460</Col>
            <Col id="lastCrtnDttm">2013-04-08 17:14:24</Col>
            <Col id="cmmsClctItemCd">EB002</Col>
            <Col id="workSqncVl">2</Col>
          </Row>
          <Row>
            <Col id="workNm">지구장 판매미팅수당</Col>
            <Col id="itemChrc">수수료</Col>
            <Col id="incmCrtnAmt">671614610</Col>
            <Col id="adjtAmt">0</Col>
            <Col id="sumAmt">671614610</Col>
            <Col id="lastCrtnDttm">2013-04-08 17:14:24</Col>
            <Col id="cmmsClctItemCd">EB003</Col>
            <Col id="workSqncVl">3</Col>
          </Row>
          <Row>
            <Col id="workNm">지구장 마이패드수당</Col>
            <Col id="itemChrc">수수료</Col>
            <Col id="cmmsClctItemCd">EB004</Col>
            <Col id="workSqncVl">4</Col>
          </Row>
          <Row>
            <Col id="workNm">지구장 일시불수당</Col>
            <Col id="itemChrc">수수료</Col>
            <Col id="cmmsClctItemCd">EB005</Col>
            <Col id="workSqncVl">5</Col>
          </Row>
          <Row>
            <Col id="workNm">지구장 지구장려수당</Col>
            <Col id="itemChrc">수수료</Col>
            <Col id="incmCrtnAmt">458802690</Col>
            <Col id="adjtAmt">430</Col>
            <Col id="sumAmt">458803120</Col>
            <Col id="lastCrtnDttm">2013-04-08 17:14:26</Col>
            <Col id="cmmsClctItemCd">EB007</Col>
            <Col id="workSqncVl">6</Col>
          </Row>
          <Row>
            <Col id="workNm">지구장 지구배출수당</Col>
            <Col id="itemChrc">수수료</Col>
            <Col id="cmmsClctItemCd">EB008</Col>
            <Col id="workSqncVl">7</Col>
          </Row>
          <Row>
            <Col id="workNm">지구장 교재관리수당</Col>
            <Col id="itemChrc">수수료</Col>
            <Col id="cmmsClctItemCd">EB009</Col>
            <Col id="workSqncVl">8</Col>
          </Row>
          <Row>
            <Col id="workNm">지구장 지구관리성과</Col>
            <Col id="itemChrc">수수료</Col>
            <Col id="incmCrtnAmt">0</Col>
            <Col id="adjtAmt">0</Col>
            <Col id="sumAmt">0</Col>
            <Col id="lastCrtnDttm">2013-04-08 17:14:25</Col>
            <Col id="cmmsClctItemCd">EB010</Col>
            <Col id="workSqncVl">9</Col>
          </Row>
        </Rows>
      </Dataset>
    </Objects>
    <Script type="xscript4.0"><![CDATA[
function test_getSum_onload(obj:Form, e:LoadEventInfo)
{
	//trace(ds_cmmsWorkInfo.saveXML());
	
	//ds_cmmsWorkInfo.filter("incmCrtnAmt>0");
	ds_cmmsWorkInfo.filter("incmCrtnAmt>0||cmmsClctItemCd=='EA004'||cmmsClctItemCd=='EA005'||cmmsClctItemCd=='EA007'");
	//ds_cmmsWorkInfo.filter("gfn_transNullToNumber(incmCrtnAmt)>=0");	
}


 /*****************************************************************************************
 * 함  수  명	: 	gfn_transNullToNumber
 * 입      력	: 	1. sValue : 입력값
 * 반      환	: 	입력값이 null = 0
					Not Null = 숫자형 입력값
 * 기      능	: 	NULL 일 경우 숫자형 치환값을 리턴하는 함수
 *****************************************************************************************/ 
function gfn_transNullToNumber(sValue)
{
	if(gfn_isNull(sValue)) {
		return 0;
	}
	
	return toNumber(sValue);
}

/*****************************************************************************************
 * 함  수  명	: 	gfn_isNull
 * 입      력	: 	1. sValue - String
 * 반      환	: 	return true/false
 * 기      능	: 	입력된 값의 Null 유무 반환 함수
 *****************************************************************************************/
function gfn_isNull(sValue)
{
    if (new String(sValue).valueOf() == "undefined") return true;
    if (sValue == null) return true;
    
    var v_ChkStr = new String(sValue);

    if (v_ChkStr == null) return true;
    if (v_ChkStr.toString().length == 0 ) return true;
    return false;
}]]></Script>
  </Form>
</FDL>
