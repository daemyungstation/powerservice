<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\default_typedef.xml"/>
  <Form id="Sample_37" classname="SuggestSample" inheritanceid="" position="absolute 0 0 1007 779" titletext="자동완성(페이징) 처리 샘플" onload="SuggestSample_onload">
    <Layouts>
      <Layout>
        <Static id="Static00" text="설명" position="absolute 636 0 987 26" anchor="left top right" style="background:#edeee6ff; border:1 solid #c6c6c5ff ; align:center middle; font:Tahoma,9,bold antialias; "/>
        <Static id="Static01" text="구분" position="absolute 0 0 130 26" style="background:#edeee6ff;border:1 solid #c6c6c5ff ;align:center middle;font:Tahoma,9,bold antialias;"/>
        <Static id="Static02" text="컴포넌트 보기" position="absolute 129 0 347 26" style="background:#edeee6ff; border:1 solid #c6c6c5ff ; align:center middle; font:Tahoma,9,bold antialias; "/>
        <Static id="Static08" text="실제 데이타" position="absolute 346 0 637 26" style="background:#edeee6ff; border:1 solid #c6c6c5ff ; align:center middle; font:Tahoma,9,bold antialias; "/>
        <Static id="Static04" text="자동완성 샘플&#13;&#10;(서비스 이용)" position="absolute 0 25 130 779" style="background:#edeee6ff; border:1 solid #c6c6c5ff ; align:center middle; font:Tahoma,9,bold antialias; "/>
        <Static id="Static07" position="absolute 129 25 347 779" style="background:#ffffffff; border:1 solid #c6c6c5ff ; align:center middle; font:Tahoma,9,bold antialias; "/>
        <Static id="Static10" position="absolute 636 25 987 779" anchor="left top right" style="background:#ffffffff; border:1 solid #c6c6c5ff ; align:center middle; font:Tahoma,9,bold antialias; "/>
        <Static id="Static11" position="absolute 346 25 637 779" style="background:#ffffffff; border:1 solid #c6c6c5ff ; align:center middle; font:Tahoma,9,bold antialias; "/>
        <Static id="Static12" text="사업자명 or 사업자코드를 입력하세요" class="sta_WF_subtitle" position="absolute 138 37 346 52"/>
        <Edit id="edt_Input" taborder="1" imemode="hangul" position="absolute 135 60 273 88" onkeydown="edt_Input_onkeydown" ontextchanged="edt_Input_ontextchanged" autoselect="true"/>
        <Grid id="Grid01" taborder="1" useinputpanel="false" position="absolute 353 34 631 767" binddataset="ds_PrdtInfo" formats="&lt;Formats&gt;&#10;  &lt;Format id=&quot;default&quot;&gt;&#10;    &lt;Columns&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;    &lt;/Columns&gt;&#10;    &lt;Rows&gt;&#10;      &lt;Row band=&quot;head&quot; size=&quot;24&quot;/&gt;&#10;      &lt;Row band=&quot;body&quot; size=&quot;24&quot;/&gt;&#10;    &lt;/Rows&gt;&#10;    &lt;Band id=&quot;head&quot;&gt;&#10;      &lt;Cell col=&quot;0&quot; disptype=&quot;normal&quot; text=&quot;PRDT_CD&quot;/&gt;&#10;      &lt;Cell col=&quot;1&quot; disptype=&quot;normal&quot; text=&quot;PRDT_NM&quot;/&gt;&#10;      &lt;Cell col=&quot;2&quot; disptype=&quot;normal&quot; text=&quot;PRDT_CDNM&quot;/&gt;&#10;      &lt;Cell col=&quot;3&quot; disptype=&quot;normal&quot; text=&quot;PRDT_ACRN1_NM&quot;/&gt;&#10;      &lt;Cell col=&quot;4&quot; disptype=&quot;normal&quot; text=&quot;SALE_BAS_PRC&quot;/&gt;&#10;      &lt;Cell col=&quot;5&quot; disptype=&quot;normal&quot; text=&quot;DC_APLY_PRC&quot;/&gt;&#10;      &lt;Cell col=&quot;6&quot; disptype=&quot;normal&quot; text=&quot;DC_APLY_VAT_AMT&quot;/&gt;&#10;      &lt;Cell col=&quot;7&quot; disptype=&quot;normal&quot; text=&quot;APLY_DC_AMT&quot;/&gt;&#10;      &lt;Cell col=&quot;8&quot; disptype=&quot;normal&quot; text=&quot;RCGN_ACRS_AMT&quot;/&gt;&#10;      &lt;Cell col=&quot;9&quot; disptype=&quot;normal&quot; text=&quot;DPST_ACRS_AMT&quot;/&gt;&#10;      &lt;Cell col=&quot;10&quot; disptype=&quot;normal&quot; text=&quot;PRDT_HRCH_CD&quot;/&gt;&#10;      &lt;Cell col=&quot;11&quot; disptype=&quot;normal&quot; text=&quot;OLD_PRDT_CD&quot;/&gt;&#10;      &lt;Cell col=&quot;12&quot; disptype=&quot;normal&quot; text=&quot;SALE_STT_DT&quot;/&gt;&#10;      &lt;Cell col=&quot;13&quot; disptype=&quot;normal&quot; text=&quot;SALE_END_DT&quot;/&gt;&#10;      &lt;Cell col=&quot;14&quot; disptype=&quot;normal&quot; text=&quot;PRDT_STAT_CD&quot;/&gt;&#10;      &lt;Cell col=&quot;15&quot; disptype=&quot;normal&quot; text=&quot;ANIT_SET_DIV_CD&quot;/&gt;&#10;      &lt;Cell col=&quot;16&quot; disptype=&quot;normal&quot; text=&quot;RVRN_CORP_DIV_CD&quot;/&gt;&#10;      &lt;Cell col=&quot;17&quot; disptype=&quot;normal&quot; text=&quot;RVRN_BIZ_HDQR_CD&quot;/&gt;&#10;      &lt;Cell col=&quot;18&quot; disptype=&quot;normal&quot; text=&quot;SHPN_INLT_DIV_CD&quot;/&gt;&#10;      &lt;Cell col=&quot;19&quot; disptype=&quot;normal&quot; text=&quot;NOCM_AS_PERD_DIV_CD&quot;/&gt;&#10;      &lt;Cell col=&quot;20&quot; disptype=&quot;normal&quot; text=&quot;_chk&quot;/&gt;&#10;      &lt;Cell col=&quot;21&quot; disptype=&quot;normal&quot; text=&quot;xRowStatusType&quot;/&gt;&#10;    &lt;/Band&gt;&#10;    &lt;Band id=&quot;body&quot;&gt;&#10;      &lt;Cell col=&quot;0&quot; disptype=&quot;normal&quot; text=&quot;bind:PRDT_CD&quot;/&gt;&#10;      &lt;Cell col=&quot;1&quot; disptype=&quot;normal&quot; text=&quot;bind:PRDT_NM&quot;/&gt;&#10;      &lt;Cell col=&quot;2&quot; disptype=&quot;normal&quot; text=&quot;bind:PRDT_CDNM&quot;/&gt;&#10;      &lt;Cell col=&quot;3&quot; disptype=&quot;normal&quot; text=&quot;bind:PRDT_ACRN1_NM&quot;/&gt;&#10;      &lt;Cell col=&quot;4&quot; disptype=&quot;normal&quot; text=&quot;bind:SALE_BAS_PRC&quot;/&gt;&#10;      &lt;Cell col=&quot;5&quot; disptype=&quot;normal&quot; text=&quot;bind:DC_APLY_PRC&quot;/&gt;&#10;      &lt;Cell col=&quot;6&quot; disptype=&quot;normal&quot; text=&quot;bind:DC_APLY_VAT_AMT&quot;/&gt;&#10;      &lt;Cell col=&quot;7&quot; disptype=&quot;normal&quot; text=&quot;bind:APLY_DC_AMT&quot;/&gt;&#10;      &lt;Cell col=&quot;8&quot; disptype=&quot;normal&quot; text=&quot;bind:RCGN_ACRS_AMT&quot;/&gt;&#10;      &lt;Cell col=&quot;9&quot; disptype=&quot;normal&quot; text=&quot;bind:DPST_ACRS_AMT&quot;/&gt;&#10;      &lt;Cell col=&quot;10&quot; disptype=&quot;normal&quot; text=&quot;bind:PRDT_HRCH_CD&quot;/&gt;&#10;      &lt;Cell col=&quot;11&quot; disptype=&quot;normal&quot; text=&quot;bind:OLD_PRDT_CD&quot;/&gt;&#10;      &lt;Cell col=&quot;12&quot; disptype=&quot;normal&quot; text=&quot;bind:SALE_STT_DT&quot;/&gt;&#10;      &lt;Cell col=&quot;13&quot; disptype=&quot;normal&quot; text=&quot;bind:SALE_END_DT&quot;/&gt;&#10;      &lt;Cell col=&quot;14&quot; disptype=&quot;normal&quot; text=&quot;bind:PRDT_STAT_CD&quot;/&gt;&#10;      &lt;Cell col=&quot;15&quot; disptype=&quot;normal&quot; text=&quot;bind:ANIT_SET_DIV_CD&quot;/&gt;&#10;      &lt;Cell col=&quot;16&quot; disptype=&quot;normal&quot; text=&quot;bind:RVRN_CORP_DIV_CD&quot;/&gt;&#10;      &lt;Cell col=&quot;17&quot; disptype=&quot;normal&quot; text=&quot;bind:RVRN_BIZ_HDQR_CD&quot;/&gt;&#10;      &lt;Cell col=&quot;18&quot; disptype=&quot;normal&quot; text=&quot;bind:SHPN_INLT_DIV_CD&quot;/&gt;&#10;      &lt;Cell col=&quot;19&quot; disptype=&quot;normal&quot; text=&quot;bind:NOCM_AS_PERD_DIV_CD&quot;/&gt;&#10;      &lt;Cell col=&quot;20&quot; disptype=&quot;normal&quot; text=&quot;bind:_chk&quot;/&gt;&#10;      &lt;Cell col=&quot;21&quot; disptype=&quot;normal&quot; text=&quot;bind:xRowStatusType&quot;/&gt;&#10;    &lt;/Band&gt;&#10;  &lt;/Format&gt;&#10;&lt;/Formats&gt;&#10;" cellsizingtype="col">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="35"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="No"/>
                <Cell col="1" text="PRDT_CD"/>
                <Cell col="2" text="PRDT_NM"/>
                <Cell col="3" text="PRDT_CDNM"/>
                <Cell col="4" text="PRDT_ACRN1_NM"/>
                <Cell col="5" text="SALE_BAS_PRC"/>
                <Cell col="6" text="DC_APLY_PRC"/>
                <Cell col="7" text="DC_APLY_VAT_AMT"/>
                <Cell col="8" text="APLY_DC_AMT"/>
                <Cell col="9" text="RCGN_ACRS_AMT"/>
                <Cell col="10" text="DPST_ACRS_AMT"/>
                <Cell col="11" text="PRDT_HRCH_CD"/>
                <Cell col="12" text="OLD_PRDT_CD"/>
                <Cell col="13" text="SALE_STT_DT"/>
                <Cell col="14" text="SALE_END_DT"/>
                <Cell col="15" text="PRDT_STAT_CD"/>
                <Cell col="16" text="ANIT_SET_DIV_CD"/>
                <Cell col="17" text="RVRN_CORP_DIV_CD"/>
                <Cell col="18" text="RVRN_BIZ_HDQR_CD"/>
                <Cell col="19" text="SHPN_INLT_DIV_CD"/>
                <Cell col="20" text="NOCM_AS_PERD_DIV_CD"/>
                <Cell col="21" text="_chk"/>
                <Cell col="22" text="xRowStatusType"/>
              </Band>
              <Band id="body">
                <Cell text="expr:currow+1"/>
                <Cell col="1" text="bind:PRDT_CD"/>
                <Cell col="2" text="bind:PRDT_NM"/>
                <Cell col="3" text="bind:PRDT_CDNM"/>
                <Cell col="4" text="bind:PRDT_ACRN1_NM"/>
                <Cell col="5" text="bind:SALE_BAS_PRC"/>
                <Cell col="6" text="bind:DC_APLY_PRC"/>
                <Cell col="7" text="bind:DC_APLY_VAT_AMT"/>
                <Cell col="8" text="bind:APLY_DC_AMT"/>
                <Cell col="9" text="bind:RCGN_ACRS_AMT"/>
                <Cell col="10" text="bind:DPST_ACRS_AMT"/>
                <Cell col="11" text="bind:PRDT_HRCH_CD"/>
                <Cell col="12" text="bind:OLD_PRDT_CD"/>
                <Cell col="13" text="bind:SALE_STT_DT"/>
                <Cell col="14" text="bind:SALE_END_DT"/>
                <Cell col="15" text="bind:PRDT_STAT_CD"/>
                <Cell col="16" text="bind:ANIT_SET_DIV_CD"/>
                <Cell col="17" text="bind:RVRN_CORP_DIV_CD"/>
                <Cell col="18" text="bind:RVRN_BIZ_HDQR_CD"/>
                <Cell col="19" text="bind:SHPN_INLT_DIV_CD"/>
                <Cell col="20" text="bind:NOCM_AS_PERD_DIV_CD"/>
                <Cell col="21" text="bind:_chk"/>
                <Cell col="22" text="bind:xRowStatusType"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="Static13" text="* 입력되는 데이타를 서버로 전송하여 조회 처리하는 샘플&#13;&#10;&#13;&#10;* 검색내용 샘플 : 김에듀" position="absolute 645 31 987 95" anchor="left top right" style="linespace:5;"/>
        <Button id="Button00" taborder="1" text="코드값 반환" onclick="Button00_onclick" position="absolute 276 62 343 86"/>
        <Div id="div_Find" taborder="1" style="background:beige;" text="Div00" visible="false" position="absolute 135 87 320 280">
          <Layouts>
            <Layout>
              <Grid id="grd_Find" taborder="1" binddataset="ds_PrdtInfo" useinputpanel="false" autofittype="col" onkeydown="grd_Find_onkeydown" onkillfocus="grd_Find_onkillfocus" onvscrolllastover="grd_Find_onvscrolllastover" oncellclick="grd_Find_oncellclick" position="absolute 0 0 185 169" anchor="default">
                <Formats>
                  <Format id="default">
                    <Columns>
                      <Column size="187"/>
                    </Columns>
                    <Rows>
                      <Row size="24"/>
                    </Rows>
                    <Band id="body">
                      <Cell text="bind:PRDT_CDNM"/>
                    </Band>
                  </Format>
                </Formats>
              </Grid>
              <Static id="sta_TotalCnt" usedecorate="true" position="absolute 0 169 185 189" style="align:left middle;" anchor="default"/>
            </Layout>
          </Layouts>
        </Div>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_PrdtInfo" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="PRDT_CD" type="STRING" size="255"/>
          <Column id="PRDT_NM" type="STRING" size="255"/>
          <Column id="PRDT_CDNM" type="STRING" size="256"/>
          <Column id="PRDT_ACRN1_NM" type="STRING" size="255"/>
          <Column id="SALE_BAS_PRC" type="STRING" size="255"/>
          <Column id="DC_APLY_PRC" type="STRING" size="255"/>
          <Column id="DC_APLY_VAT_AMT" type="STRING" size="255"/>
          <Column id="APLY_DC_AMT" type="STRING" size="255"/>
          <Column id="RCGN_ACRS_AMT" type="STRING" size="255"/>
          <Column id="DPST_ACRS_AMT" type="STRING" size="255"/>
          <Column id="PRDT_HRCH_CD" type="STRING" size="255"/>
          <Column id="OLD_PRDT_CD" type="STRING" size="255"/>
          <Column id="SALE_STT_DT" type="STRING" size="255"/>
          <Column id="SALE_END_DT" type="STRING" size="255"/>
          <Column id="PRDT_STAT_CD" type="STRING" size="255"/>
          <Column id="ANIT_SET_DIV_CD" type="STRING" size="255"/>
          <Column id="RVRN_CORP_DIV_CD" type="STRING" size="255"/>
          <Column id="RVRN_BIZ_HDQR_CD" type="STRING" size="255"/>
          <Column id="SHPN_INLT_DIV_CD" type="STRING" size="255"/>
          <Column id="NOCM_AS_PERD_DIV_CD" type="STRING" size="255"/>
          <Column id="_chk" type="INT" size="1"/>
          <Column id="xRowStatusType" type="STRING" size="1"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_PrdtInput" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="prdtInput" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_PrdtInfo_Temp" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="PRDT_CD" type="STRING" size="255"/>
          <Column id="PRDT_NM" type="STRING" size="255"/>
          <Column id="PRDT_CDNM" type="STRING" size="256"/>
          <Column id="PRDT_ACRN1_NM" type="STRING" size="255"/>
          <Column id="SALE_BAS_PRC" type="STRING" size="255"/>
          <Column id="DC_APLY_PRC" type="STRING" size="255"/>
          <Column id="DC_APLY_VAT_AMT" type="STRING" size="255"/>
          <Column id="APLY_DC_AMT" type="STRING" size="255"/>
          <Column id="RCGN_ACRS_AMT" type="STRING" size="255"/>
          <Column id="DPST_ACRS_AMT" type="STRING" size="255"/>
          <Column id="PRDT_HRCH_CD" type="STRING" size="255"/>
          <Column id="OLD_PRDT_CD" type="STRING" size="255"/>
          <Column id="SALE_STT_DT" type="STRING" size="255"/>
          <Column id="SALE_END_DT" type="STRING" size="255"/>
          <Column id="PRDT_STAT_CD" type="STRING" size="255"/>
          <Column id="ANIT_SET_DIV_CD" type="STRING" size="255"/>
          <Column id="RVRN_CORP_DIV_CD" type="STRING" size="255"/>
          <Column id="RVRN_BIZ_HDQR_CD" type="STRING" size="255"/>
          <Column id="SHPN_INLT_DIV_CD" type="STRING" size="255"/>
          <Column id="NOCM_AS_PERD_DIV_CD" type="STRING" size="255"/>
          <Column id="_chk" type="INT" size="1"/>
          <Column id="xRowStatusType" type="STRING" size="1"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Bind/>
    <Script type="xscript4.0"><![CDATA[
include "LIB::lib_All.xjs";

//var fv_totalCnt = 0;		// 전체건수
var fv_PagingDataset = "ds_RequestCompVariable:ds_ResponseCompVariable";	// 페이징처리위한 데이타셋

function SuggestSample_onload(obj:Form, e:LoadEventInfo)
{
	// 시스템 공통함수 호출
	gfn_commInit(obj);
	
	// 페이징 처리위한 데이타셋 생성
	gfn_createPagingDataset(fv_PagingDataset);
}

function edt_Input_onkeydown(obj:Edit, e:KeyEventInfo)
{
	var objListDiv		= div_Find;
	var objList 		= objListDiv.grd_Find;
	var objDs			= objects[objList.binddataset];

	if(e.keycode == 13) {
		if(gfn_isNull(obj.value)) return;
		fn_getTranPrdtInfo(gfn_getCommTypeInit(), obj.value);
	} else if(e.keycode == 40) {
		if(objListDiv.visible == true) {
			objList.setFocus();
			objDs.rowposition = 0;
		} 
	}	
}

function edt_Input_ontextchanged(obj:Edit,  e:TextChangedEventInfo)
{
	var objListDiv		= div_Find;
	var objList 		= objListDiv.grd_Find;
	
	if(gfn_isNum(e.posttext)) {
		fn_getTranPrdtInfo(gfn_getCommTypeInit(), e.posttext);
	} else {
		if(gfn_lenB(e.posttext) > 3) {
			if(gfn_getHangulComplete(e.posttext)) {
				fn_getTranPrdtInfo(gfn_getCommTypeInit(), e.posttext);
			} else {
				obj.setFocus();
				objListDiv.visible = false;
			}
		}	
	}	
}

function fn_getTranPrdtInfo(sType, sText)
{
	var objInput 		= edt_Input;
	var objListDiv		= div_Find;
	var objList 		= objListDiv.grd_Find;
	var objDs			= objects[objList.binddataset];
	var objStaTotCnt 	= objListDiv.sta_TotalCnt;
	
	var nPagingRowCnt	= 30;
	
	ds_PrdtInput.setColumn(0, "prdtInput", sText);

	// 총건수 처리
	if(sType != gfn_getCommTypeAppend()) {
		
		ds_PrdtInfo.clearData();
		
		if(!gfn_pageSearch(gfn_getTranTypeDIS(), sType, ds_PrdtInfo, objStaTotCnt, nPagingRowCnt, fv_PagingDataset)) return;	// 페이지 처리 기본설정
	
		gfn_kwDataInit();
		gfn_setKwData_nameSpace("com.kyowon.krp.sys.dc.generaladmnistrationdc.DCComnCdBasiInfoSqlMap");
		gfn_setKwData_sqlId("getListPrdtInfoPagingCntTest2");
		gfn_setKwData_trscCode("TST0000905");

		gfn_tranDIS(sType 
					, "ds_PrdtInput=ds_PrdtInput"
					, ""
					, ""
					, false
					, false
					, null
					, null
					, fv_PagingDataset);	
					
		gfn_setTotalRowCount(ds_PrdtInfo, objStaTotCnt, 0, fv_PagingDataset);			
		sType = gfn_getCommTypeAppend();			
	}		

	// 리스트 처리
	if(!gfn_pageSearch(gfn_getTranTypeDIS(), sType, ds_PrdtInfo, objStaTotCnt, nPagingRowCnt, fv_PagingDataset)) return;	// 페이지 처리 기본설정

	gfn_kwDataInit();
	gfn_setKwData_nameSpace("com.kyowon.krp.sys.dc.generaladmnistrationdc.DCComnCdBasiInfoSqlMap");
	gfn_setKwData_sqlId("getListPrdtInfoPagingTest2");
	gfn_setKwData_trscCode("TST0000905");

	gfn_tranDIS(sType
				, "ds_PrdtInput=ds_PrdtInput"
				, "ds_PrdtInfo_Temp=datas"
				, ""
				, false
				, false
				, null
				, null
				, fv_PagingDataset);	
			
			
	//trace(ds_PrdtInfo_Temp.saveXML());		
			
	//objInput.setFocus();
	
	// 조회된 결과를 실제보여줄 데이타셋으로 Append처리
	gfn_appendSearchDs(ds_PrdtInfo, ds_PrdtInfo_Temp);	

	// 건수/전체건수 처리
	gfn_setTotalRowCount(ds_PrdtInfo, objStaTotCnt, 0, fv_PagingDataset);	
	
	if(objDs.rowcount > 0) {
		if(objDs.rowcount == 1) {
			// 조회된 결과가 단건인 경우에 자동 선택 처리했으나 계속입력인 경우 오류가 발생해 막음
// 			objInput.value = objDs.getColumn(0, "PRDT_CDNM");
// 			objList.setFocus();
// 			objInput.setFocus();
// 			objListDiv.visible = false;		

			objListDiv.visible = true;
			objList.index = 0;		
		} else  {
			objListDiv.visible = true;
			objList.index = 0;
		}	
	} else {
		//objInput.setFocus();
		objListDiv.visible = false;	
	}				
}

function grd_Find_onvscrolllastover(obj:Grid, e:ScrollEventInfo)
{
	var objInput 	= edt_Input;
	fn_getTranPrdtInfo(gfn_getCommTypeAppend(), objInput.value);
}

function grd_Find_oncellclick(obj:Grid, e:GridClickEventInfo)
{
	var objInput 		= edt_Input;
	var objListDiv		= div_Find;
	var objList 		= objListDiv.grd_Find;
	var objDs			= objects[objList.binddataset];
	
	objInput.value 	= objDs.getColumn(e.row, "PRDT_CDNM");
	objListDiv.visible = false;
}

function grd_Find_onkeydown(obj:Grid, e:KeyEventInfo)
{
	trace("e.keycode::"+e.keycode);

	var objInput 		= edt_Input;
	var objListDiv		= div_Find;
	var objList 		= objListDiv.grd_Find;
	var objDs			= objects[objList.binddataset];
	
	if(e.keycode == 13) {
		objInput.value = objDs.getColumn(objDs.rowposition, "PRDT_CDNM");
		objInput.setFocus();
		objListDiv.visible = false;	
	} else if(e.keycode == 38) {
// 		if(objDs.rowposition <= 0) {
// 			objInput.setFocus();
// 			objListDiv.visible = false;	
// 		}
	} else if(e.keycode == 27) {
		objListDiv.visible = false;		
		edt_Input.setFocus();
	} else if(objDs.rowpositon < 0){
		objInput.setFocus();
		objListDiv.visible = false;	
	}
}

function grd_Find_onkillfocus(obj:Grid, e:KillFocusEventInfo)
{
	var objListDiv		= div_Find;
	
	objListDiv.visible = false;
}

function Button00_onclick(obj:Button,  e:ClickEventInfo)
{
	alert(gfn_getCodeOfString(edt_Input.value, "[", "]"));
}
]]></Script>
  </Form>
</FDL>
