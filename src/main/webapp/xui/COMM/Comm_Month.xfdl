<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\default_typedef.xml"/>
  <Form id="Comm_Month_Popup" classname="Comm_DateBetween" inheritanceid="" position="absolute 0 0 165 185" titletext="월 선택" onload="Comm_Month_Popup_onload">
    <Layouts>
      <Layout>
        <Static id="Static07" class="sta_calBg" position="absolute 0 0 165 185" style="shadow:drop 0,0 0 gray;"/>
        <Button id="btn_1" taborder="3" class="btn_Month" position="absolute 11 36 46 81" style="image:URL('IMG::img_calNum01_N.png');imagealign:center middle; :focused {image:URL('IMG::img_calNum01_P.png');} :mouseover {image:URL('IMG::img_calNum01_O.png');} :pushed {image:URL('IMG::img_calNum01_P.png');} :selected {image:URL('IMG::img_calNum01_P.png');}" onclick="Button_onclick"/>
        <Button id="btn_2" taborder="4" class="btn_Month" position="absolute 47 36 82 81" style="image:URL('IMG::img_calNum02_N.png');imagealign:center middle; :focused {image:URL('IMG::img_calNum02_P.png');} :mouseover {image:URL('IMG::img_calNum02_O.png');} :pushed {image:URL('IMG::img_calNum02_P.png');} :selected {image:URL('IMG::img_calNum02_P.png');}" onclick="Button_onclick"/>
        <Button id="btn_3" taborder="5" class="btn_Month" position="absolute 83 36 118 81" style="image:URL('IMG::img_calNum03_N.png');imagealign:center middle; :focused {image:URL('IMG::img_calNum03_P.png');} :mouseover {image:URL('IMG::img_calNum03_O.png');} :pushed {image:URL('IMG::img_calNum03_P.png');} :selected {image:URL('IMG::img_calNum03_P.png');}" onclick="Button_onclick"/>
        <Button id="btn_4" taborder="6" class="btn_Month" position="absolute 119 35 154 80" style="image:URL('IMG::img_calNum04_N.png');imagealign:center middle; :focused {image:URL('IMG::img_calNum04_P.png');} :mouseover {image:URL('IMG::img_calNum04_O.png');} :pushed {image:URL('IMG::img_calNum04_P.png');} :selected {image:URL('IMG::img_calNum04_P.png');}" onclick="Button_onclick"/>
        <Button id="btn_8" taborder="10" class="btn_Month" position="absolute 119 81 154 126" style="image:URL('IMG::img_calNum08_N.png');imagealign:center middle; :focused {image:URL('IMG::img_calNum08_P.png');} :mouseover {image:URL('IMG::img_calNum08_O.png');} :pushed {image:URL('IMG::img_calNum08_P.png');} :selected {image:URL('IMG::img_calNum08_P.png');}" onclick="Button_onclick"/>
        <Button id="btn_7" taborder="9" class="btn_Month" position="absolute 83 82 118 127" style="image:URL('IMG::img_calNum07_N.png');imagealign:center middle; :focused {image:URL('IMG::img_calNum07_P.png');} :mouseover {image:URL('IMG::img_calNum07_O.png');} :pushed {image:URL('IMG::img_calNum07_P.png');} :selected {image:URL('IMG::img_calNum07_P.png');}" onclick="Button_onclick"/>
        <Button id="btn_6" taborder="8" class="btn_Month" position="absolute 47 82 82 127" style="image:URL('IMG::img_calNum06_N.png');imagealign:center middle; :focused {image:URL('IMG::img_calNum06_P.png');} :mouseover {image:URL('IMG::img_calNum06_O.png');} :pushed {image:URL('IMG::img_calNum06_P.png');} :selected {image:URL('IMG::img_calNum06_P.png');}" onclick="Button_onclick"/>
        <Button id="btn_5" taborder="7" class="btn_Month" position="absolute 11 82 46 127" style="image:URL('IMG::img_calNum05_N.png');imagealign:center middle; :focused {image:URL('IMG::img_calNum05_P.png');} :mouseover {image:URL('IMG::img_calNum05_O.png');} :pushed {image:URL('IMG::img_calNum05_P.png');} :selected {image:URL('IMG::img_calNum05_P.png');}" onclick="Button_onclick"/>
        <Button id="btn_12" taborder="14" class="btn_Month" position="absolute 119 127 154 172" style="image:URL('IMG::img_calNum12_N.png');imagealign:center middle; :focused {image:URL('IMG::img_calNum12_P.png');} :mouseover {image:URL('IMG::img_calNum12_O.png');} :pushed {image:URL('IMG::img_calNum12_P.png');} :selected {image:URL('IMG::img_calNum12_P.png');}" onclick="Button_onclick"/>
        <Button id="btn_11" taborder="13" class="btn_Month" position="absolute 83 128 118 173" style="image:URL('IMG::img_calNum11_N.png');imagealign:center middle; :focused {image:URL('IMG::img_calNum11_P.png');} :mouseover {image:URL('IMG::img_calNum11_O.png');} :pushed {image:URL('IMG::img_calNum11_P.png');} :selected {image:URL('IMG::img_calNum11_P.png');}" onclick="Button_onclick"/>
        <Button id="btn_10" taborder="12" class="btn_Month" position="absolute 47 128 82 173" style="image:URL('IMG::img_calNum10_N.png');imagealign:center middle; :focused {image:URL('IMG::img_calNum10_P.png');} :mouseover {image:URL('IMG::img_calNum10_O.png');} :pushed {image:URL('IMG::img_calNum10_P.png');} :selected {image:URL('IMG::img_calNum10_P.png');}" onclick="Button_onclick"/>
        <Button id="btn_9" taborder="11" class="btn_Month" position="absolute 11 128 46 173" style="image:URL('IMG::img_calNum09_N.png');imagealign:center middle; :focused {image:URL('IMG::img_calNum09_P.png');} :mouseover {image:URL('IMG::img_calNum09_O.png');} :pushed {image:URL('IMG::img_calNum09_P.png');} :selected {image:URL('IMG::img_calNum09_P.png');}" onclick="Button_onclick"/>
        <Static id="Static08" class="sta_calTopBg" position="absolute 1 1 165 26"/>
        <Button id="btn_Post" taborder="1" class="btn_calPrev" position="absolute 10 7 16 19" onclick="btn_Post_onclick"/>
        <Button id="btn_Next" taborder="2" class="btn_calNext" position="absolute 151 7 157 19" onclick="btn_Next_onclick"/>
        <Calendar id="cal_Year" taborder="0" position="absolute 56 3 122 23" type="spin" dateformat="yyyy" editformat="yyyy" value="null" style="background:stretch 5,5;color:white;font:arial,12,bold;"/>
      </Layout>
    </Layouts>
    <Script type="xscript4.0"><![CDATA[include "LIB::lib_All.xjs";

function Comm_Month_Popup_onload(obj:Form, e:LoadEventInfo)
{
	var dt = parent._getDate();	
	fn_setValue(dt);
}

function fn_setValue(sDate)
{
	//trace("sDate::"+sDate.value);
	if(!gfn_isEmpty(gfn_trim(sDate))) {
		this.cal_Year.value 	= sDate.substr(0, 4) + "0101";
		fn_setSelected(parseInt(sDate.substr(4, 2)));
	} else {
		this.cal_Year.value		= gfn_getToday();
		fn_setSelected(cal_Year.getMonth());
	}
}

function btn_close_onclick(obj:Button,  e:ClickEventInfo)
{
	close();
}

function fn_setSelected(nMonth)
{
	var objBtn;
	
	for(var i=1;i<=12;i++) {
		objBtn = eval("btn_"+i);
		objBtn.setSelectStatus(false);
	}
	
	objBtn = eval("btn_"+nMonth);
	objBtn.setSelectStatus(true);
}

function fn_cancelSelect()
{
	var objBtn;
	
	for(var i=1;i<=12;i++) {
		objBtn = eval("btn_"+i);
		objBtn.setSelectStatus(false);
	}
}

function fn_getSelectedMonth()
{
	for(var i=1;i<=12;i++)
	{
		var objBtn = eval("btn_"+i);
		if(objBtn.getSelectStatus()) {
			return String(i).padLeft(2, "0");
		}	
	}
}

function Button_onclick(obj:Button,  e:ClickEventInfo)
{
	var arr = obj.name.split("_");
	
	var mm = gfn_trim(obj.name.replace("btn_", ""));
	if (mm.length < 2) {
		mm = "0" + mm;
	}
	// fn_setSelected(arr[1]);
	cal_Year.value = cal_Year.getYear() + "" + mm + "01";
	closePopup(fn_getDate());
}

function btn_Post_onclick(obj:Button,  e:ClickEventInfo)
{
	fn_calcYear(-1);
}

function fn_calcYear(nVal)
{
	var nYear = parseInt(cal_Year.getYear());
	nYear = nYear + nVal;
	cal_Year.value = nYear + "0101";
}

function btn_Next_onclick(obj:Button,  e:ClickEventInfo)
{
	fn_calcYear(1);
}

function fn_getDate()
{
	var mm = cal_Year.getMonth();
	if (mm < 10) {
		mm = "0" + mm;
	}
	return cal_Year.getYear() +""+ mm;
}
]]></Script>
  </Form>
</FDL>
